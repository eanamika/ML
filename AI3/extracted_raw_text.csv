Line
1
INTRODUCTION
In w hi ch w e t ry t o e xp la in w hy w e c on si de r a rt if ic ia l i nt el li ge nc e t o b e a s ub je ct
"m os tw or th yo fs tu dy ,a nd in wh ic hw et ry to de ci de wh at ex ac tl yi ti s ,t hi sb ei ng a"
g oo dt hi ng to de ci de be fo re em ba rk in g .
We c al l o ur se lv es Ho mo s ap ie ns—m an t he w is e—b ec au se o ur i nt el li ge nc e i s s o i mp or ta nt
INTELLIGENCE
"t ou s . Fo rt ho us an ds o fy ea rs , w eh av et ri ed t ou nd er st an d h ow w et hi nk ; t ha t i s , h ow a me re"
"h an df ul o f m at te r c an p er ce iv e , u nd er st an d , p re di ct , a nd m an ip ul at e a w or ld f ar l ar ge r a nd"
"ARTIFICIAL m or e c om pl ic at ed t ha n i ts el f . Th e f ie ld o f a rt if ic ia l i nt el li ge nc e , o r AI , g oe s f ur th er s ti ll: i t"
INTELLIGENCE
a tt em pt sn ot ju st to un de rs ta nd b ut al so to bu il di nt el li ge nt e nt it ie s .
AIi so ne of th e n ew es tf ie ld si ns ci en ce a nd e ng in ee ri ng . Wo rk s ta rt ed i ne ar ne st s oo n
"a ft er Wo rl d Wa r II , a nd t he n am e i ts el f w as c oi ne d i n 1956. Al on g w it h m ol ec ul ar b io lo gy ,"
AIi sr eg ul ar ly ci te da st he“f ie ld Iw ou ld mo st li ke to be in”b ys ci en ti st si no th er di sc ip li ne s .
As tu de nt in ph ys ic sm ig ht re as on ab ly f ee lt ha ta ll th eg oo di de as ha ve al re ad yb ee nt ak en by
"Ga li le o , Ne wt on , Ei ns te in , a nd t he r es t . AI , o n t he o th er h an d , s ti ll h as o pe ni ng s f or se ve ra l"
f ul l-t im e Ei ns te in sa nd Ed is on s .
"AIc ur re nt ly en co mp as se sa hu ge va ri et yo fs ub fi el ds ,r an gi ng fr om th eg en er al(l ea rn in g"
"a nd pe rc ep ti on)t ot he sp ec if ic ,s uc ha sp la yi ng ch es s ,p ro vi ng ma th em at ic al th eo re ms ,w ri ti ng"
"p oe tr y , d ri vi ng a c ar o n a c ro wd ed s tr ee t , a nd d ia gn os in g d is ea se s . AI i s r el ev an t t o a ny"
i nt el le ct ua l t as k ;i ti st ru ly au ni ve rs al f ie ld .
1.1 WHAT IS AI ?
"We h av e c la im ed t ha t AI i s e xc it in g , b ut w e h av e n ot s ai d w ha t i t i s . In Fi gu re 1.1 w e s ee"
"e ig ht d ef in it io ns o f AI , l ai d o ut a lo ng t wo di me ns io ns . Th e d ef in it io ns o n t op a re c on ce rn ed"
"w it ht ho ug ht pr oc es se sa nd re as on in g ,w he re as th eo ne so nt he bo tt om ad dr es sb eh av io r . Th e"
"d ef in it io ns o n t he l ef t m ea su re s uc ce ss i n t er ms o f f id el it y t o h um an p er fo rm an ce , w he re as"
"t he o ne s o n t he r ig ht m ea su re a ga in st a n i de al p er fo rm an ce m ea su re , c al le d r at io na li ty . A"
RATIONALITY
"s ys te mi sr at io na li fi td oe st he“r ig ht th in g ,”g iv en wh at it kn ow s ."
"Hi st or ic al ly , a ll f ou r a pp ro ac he s t o AI h av e b ee n f ol lo we d , e ac h b y d if fe re nt p eo pl e"
"w it hd if fe re nt me th od s . Ah um an-c en te re d a pp ro ac hm us tb ei np ar ta ne mp ir ic al sc ie nc e ,i n-"
1
2 Ch ap te r 1. In tr od uc ti on
Th in ki ng Hu ma nl y Th in ki ng Ra ti on al ly
“Th ee xc it in gn ew ef fo rt to ma ke co mp ut- “Th es tu dy of me nt al fa cu lt ie st hr ou gh th e
"e rs t hi nk ... m ac hi ne s w it h m in ds , i n t he u se of co mp ut at io na l m od el s .”"
"f ul la nd li te ra ls en se .” (Ha ug el an d , 1985) (Ch ar ni ak a nd Mc De rm ot t ,1985)"
“[Th e a ut om at io n o f] a ct iv it ie s t ha t w e “Th es tu dy of th ec om pu ta ti on st ha tm ak e
"a ss oc ia te w it h h um an t hi nk in g , a ct iv it ie s i tp os si bl et op er ce iv e , r ea so n ,a nd ac t .”"
"s uc h a s d ec is io n-m ak in g , p ro bl em s ol v- (Wi ns to n , 1992)"
"i ng ,l ea rn in g ...”(Be ll ma n ,1978)"
Ac ti ng Hu ma nl y Ac ti ng Ra ti on al ly
“Th e a rt o f c re at in g m ac hi ne s t ha t p er- “Co mp ut at io na l In te ll ig en ce i s t he s tu dy
f or m f un ct io ns t ha t r eq ui re i nt el li ge nc e o ft he de si gn of in te ll ig en ta ge nt s .” (Po ol e
"w he n p er fo rm ed b y p eo pl e .” (Ku rz we il , e ta l .,1998)"
1990)
“Th es tu dy o fh ow to ma ke co mp ut er s d o “AI ...i s c on ce rn ed w it h i nt el li ge nt b e-
"t hi ng sa tw hi ch ,a tt he mo me nt ,p eo pl ea re h av io ri na rt if ac ts .” (Ni ls so n ,1998)"
"b et te r .” (Ri ch an d Kn ig ht ,1991)"
"Fi gu re 1.1 So me de fi ni ti on so fa rt if ic ia li nt el li ge nc e ,o rg an iz ed in to fo ur ca te go ri es ."
v ol vi ng ob se rv at io ns an dh yp ot he se sa bo ut hu ma nb eh av io r . Ar at io na li st 1 a pp ro ac hi nv ol ve s
a co mb in at io n o fm at he ma ti cs an de ng in ee ri ng . Th ev ar io us gr ou ph av eb ot hd is pa ra ge d a nd
h el pe de ac ho th er . Le tu sl oo ka tt he fo ur ap pr oa ch es i nm or ed et ai l .
1.1.1 Ac ti ng h um an ly: Th e Tu ri ng Te st a pp ro ac h
"Th e Tu ri ng Te st , p ro po se d b y Al an Tu ri ng (1950), w as d es ig ne d t o p ro vi de a s at is fa ct or y"
TURINGTEST
"o pe ra ti on al de fi ni ti on of in te ll ig en ce . Ac om pu te rp as se st he te st if ah um an in te rr og at or ,a ft er"
"p os in gs om ew ri tt en qu es ti on s , c an no tt el lw he th er th ew ri tt en re sp on se sc om ef ro ma pe rs on"
o rf ro ma co mp ut er . Ch ap te r 26 d is cu ss es th ed et ai ls of th et es ta nd wh et he ra co mp ut er wo ul d
"r ea ll y b e i nt el li ge nt i f i t p as se d . Fo r n ow , w e n ot e t ha t p ro gr am mi ng a c om pu te r t o p as s a"
r ig or ou sl y a pp li ed t es t p ro vi de s p le nt y t ow or k o n . Th ec om pu te rw ou ld n ee d t o p os se ss t he
f ol lo wi ng ca pa bi li ti es:
NATURALLANGUAGE • n at ur al la ng ua ge pr oc es si ng t oe na bl ei tt oc om mu ni ca te su cc es sf ul ly i n En gl is h ;
PROCESSING
KNOWLEDGE • k no wl ed ge re pr es en ta ti on t os to re wh at it kn ow so rh ea rs ;
REPRESENTATION
AUTOMATED • a ut om at ed r ea so ni ng t o u se t he s to re d i nf or ma ti on t o a ns we r q ue st io ns a nd t o d ra w
REASONING
n ew co nc lu si on s ;
• m ac hi ne le ar ni ng to ad ap tt on ew ci rc um st an ce sa nd to de te ct an de xt ra po la te pa tt er ns .
MACHINELEARNING
"1 By di st in gu is hi ng be tw ee nh um an an dr at io na lb eh av io r , w ea re no ts ug ge st in gt ha th um an sa re ne ce ss ar il y"
“i rr at io na l”i nt he se ns eo f “e mo ti on al ly un st ab le” o r“i ns an e .” On em er el yn ee dn ot et ha t w ea re no t p er fe ct:
"n ot al lc he ss pl ay er sa re gr an dm as te rs ;a nd ,u nf or tu na te ly ,n ot ev er yo ne ge ts an Ao nt he ex am .So me sy st em at ic"
e rr or si nh um an re as on in ga re ca ta lo ge db y Ka hn em an et al .(1982).
Se ct io n 1.1. Wh at Is AI ? 3
Tu ri ng’s te st de li be ra te ly a vo id ed di re ct ph ys ic al in te ra ct io n b et we en th ei nt er ro ga to ra nd th e
"c om pu te r , b ec au se p hy si ca l s im ul at io n o fa pe rs on i su nn ec es sa ry f or in te ll ig en ce . Ho we ve r ,"
t he s o-c al le d t ot al Tu ri ng Te st i nc lu de s a v id eo s ig na l s o t ha t t he i nt er ro ga to r c an t es t t he
TOTALTURINGTEST
"s ub je ct’s p er ce pt ua l a bi li ti es , a s w el l a s t he o pp or tu ni ty f or t he i nt er ro ga to r t o p as s p hy si ca l"
"o bj ec ts“t hr ou gh t he ha tc h .” To pa ss th et ot al Tu ri ng Te st ,t he co mp ut er wi ll ne ed"
"• c om pu te rv is io nt op er ce iv eo bj ec ts , a nd"
COMPUTERVISION
• r ob ot ic st om an ip ul at e o bj ec ts an dm ov ea bo ut .
ROBOTICS
"Th es e s ix d is ci pl in es c om po se m os t o f AI , a nd Tu ri ng d es er ve s c re di t f or d es ig ni ng a t es t"
t ha t r em ai ns r el ev an t 60 y ea rs l at er . Ye t AI r es ea rc he rs h av e d ev ot ed l it tl e e ff or t t o p as si ng
"t he Tu ri ng Te st , b el ie vi ng t ha t i t i s m or e i mp or ta nt t o s tu dy t he u nd er ly in g p ri nc ip le s o f i n-"
t el li ge nc e t ha nt od up li ca te a ne xe mp la r . Th eq ue st f or“a rt if ic ia l f li gh t”s uc ce ed ed w he nt he
Wr ig ht br ot he rs a nd ot he rs s to pp ed i mi ta ti ng b ir ds an ds ta rt ed u si ng w in dt un ne ls a nd le ar n-
i ng a bo ut a er od yn am ic s . Ae ro na ut ic al e ng in ee ri ng t ex ts d o n ot d ef in e t he g oa l o f t he ir f ie ld
a sm ak in g“m ac hi ne st ha tf ly so ex ac tl yl ik ep ig eo ns th at th ey ca nf oo le ve no th er pi ge on s .”
1.1.2 Th in ki ng h um an ly: Th e c og ni ti ve mo de li ng a pp ro ac h
"If we ar eg oi ng t o s ay th at a gi ve n p ro gr am t hi nk s l ik e a hu ma n , w em us th av e s om e w ay of"
d et er mi ni ng h ow h um an s t hi nk . We ne ed t og et i ns id e t he a ct ua l w or ki ng s o f h um an m in ds .
Th er e a re t hr ee w ay s t o d o t hi s: t hr ou gh i nt ro sp ec ti on—t ry in g t o c at ch o ur o wn t ho ug ht s a s
t he y g o b y ; t hr ou gh p sy ch ol og ic al e xp er im en ts—o bs er vi ng a p er so n i n a ct io n ; a nd t hr ou gh
b ra in i ma gi ng—o bs er vi ng t he b ra in i n a ct io n . On ce w eh av e a s uf fi ci en tl y p re ci se t he or y o f
"t he mi nd ,i tb ec om es po ss ib le t oe xp re ss t he th eo ry a sa co mp ut er p ro gr am . If th ep ro gr am’s"
"i np ut–o ut pu t b eh av io r m at ch es co rr es po nd in g h um an b eh av io r , t ha ti se vi de nc e t ha ts om eo f"
"t he p ro gr am’s m ec ha ni sm s c ou ld a ls o b e o pe ra ti ng i n h um an s . Fo r e xa mp le , Al le n Ne we ll"
"a nd He rb er t Si mo n ,w ho de ve lo pe d GPS ,t he“Ge ne ra l Pr ob le m So lv er”(Ne we ll an d Si mo n ,"
"1961), w er e n ot c on te nt m er el y t o h av e t he ir p ro gr am s ol ve p ro bl em s c or re ct ly . Th ey w er e"
m or e c on ce rn ed w it h c om pa ri ng t he t ra ce o f i ts r ea so ni ng s te ps t o t ra ce s o f h um an s ub je ct s
s ol vi ng t he s am e p ro bl em s . Th e i nt er di sc ip li na ry f ie ld o f c og ni ti ve s ci en ce b ri ng s t og et he r
COGNITIVESCIENCE
c om pu te rm od el sf ro m AIa nd ex pe ri me nt al te ch ni qu es f ro mp sy ch ol og yt oc on st ru ct pr ec is e
a nd te st ab le th eo ri es o ft he hu ma nm in d .
"Co gn it iv es ci en ce is af as ci na ti ng f ie ld in it se lf ,w or th yo fs ev er al te xt bo ok sa nd at le as t"
"o ne e nc yc lo pe di a (Wi ls on a nd Ke il , 1999). We wi ll oc ca si on al ly c om me nt o ns im il ar it ie s o r"
"d if fe re nc es b et we en AIt ec hn iq ue s a nd hu ma nc og ni ti on . Re al co gn it iv e s ci en ce , h ow ev er ,i s"
n ec es sa ri ly b as ed o n e xp er im en ta l i nv es ti ga ti on o f a ct ua l h um an s o r a ni ma ls . We w il l l ea ve
"t ha tf or ot he rb oo ks , a sw ea ss um et he re ad er ha so nl ya co mp ut er fo re xp er im en ta ti on ."
In t he e ar ly d ay s o f AI t he re w as o ft en c on fu si on b et we en t he a pp ro ac he s: a n a ut ho r
w ou ld a rg ue t ha t a n a lg or it hm p er fo rm s w el l o n a t as k a nd t ha t i t i s t he re fo re a g oo d m od el
"o f h um an p er fo rm an ce , o r v ic e v er sa . Mo de rn a ut ho rs s ep ar at e t he t wo k in ds o f c la im s ;"
t hi s d is ti nc ti on h as a ll ow ed b ot h AI a nd c og ni ti ve s ci en ce t o d ev el op m or e r ap id ly . Th et wo
"f ie ld s c on ti nu e t o f er ti li ze e ac h o th er , m os t n ot ab ly i n c om pu te r v is io n , w hi ch i nc or po ra te s"
n eu ro ph ys io lo gi ca l e vi de nc e i nt oc om pu ta ti on al m od el s .
4 Ch ap te r 1. In tr od uc ti on
1.1.3 Th in ki ng r at io na ll y: Th e “l aw so ft ho ug ht” a pp ro ac h
"Th e Gr ee kp hi lo so ph er Ar is to tl ew as on eo ft he fi rs tt oa tt em pt to co di fy“r ig ht th in ki ng ,”t ha t"
"i s , i rr ef ut ab le r ea so ni ng p ro ce ss es . Hi s s yl lo gi sm s p ro vi de d p at te rn s f or ar gu me nt s tr uc tu re s"
SYLLOGISM
"t ha ta lw ay sy ie ld ed co rr ec tc on cl us io ns wh en gi ve nc or re ct pr em is es—f or ex am pl e ,“So cr at es"
"i s a m an ; a ll m en a re m or ta l ; t he re fo re , So cr at es i s m or ta l .” Th es e l aw s o f t ho ug ht w er e"
s up po se d t og ov er nt he op er at io n o ft he mi nd ;t he ir st ud yi ni ti at ed t he fi el dc al le dl og ic .
LOGIC
Lo gi ci an si nt he 19 t hc en tu ry de ve lo pe da pr ec is en ot at io nf or st at em en ts ab ou ta ll ki nd s
o fo bj ec ts i nt he wo rl da nd th er el at io ns a mo ng th em . (Co nt ra st th is wi th or di na ry ar it hm et ic
"n ot at io n , w hi ch p ro vi de s o nl y f or s ta te me nt s a bo ut n um be rs .) By 1965, p ro gr am s e xi st ed"
"t ha t c ou ld , i np ri nc ip le , s ol ve a ny so lv ab le p ro bl em d es cr ib ed i nl og ic al n ot at io n . (Al th ou gh"
"i fn os ol ut io n e xi st s , t he pr og ra m m ig ht lo op f or ev er .) Th es o-c al le d l og ic is t t ra di ti on w it hi n"
LOGICIST
a rt if ic ia li nt el li ge nc e h op es to bu il do ns uc hp ro gr am st oc re at ei nt el li ge nt s ys te ms .
"Th er e a re t wo m ai n o bs ta cl es t o t hi s a pp ro ac h . Fi rs t , i t i s n ot e as y t o t ak e i nf or ma l"
"k no wl ed ge a nd s ta te i t i n t he f or ma l t er ms r eq ui re d b y l og ic al n ot at io n , p ar ti cu la rl y w he n"
"t he k no wl ed ge i s l es s t ha n 100% c er ta in . Se co nd , t he re i s a b ig d if fe re nc e b et we en s ol vi ng"
a p ro bl em “i n p ri nc ip le” a nd s ol vi ng i t i n p ra ct ic e . Ev en p ro bl em s w it h j us t a f ew h un dr ed
f ac ts c an e xh au st t he c om pu ta ti on al r es ou rc es o f a ny c om pu te r u nl es s i t h as s om e g ui da nc e
a st ow hi ch re as on in gs te ps to tr yf ir st . Al th ou gh bo th of th es eo bs ta cl es ap pl yt oa ny at te mp t
"t ob ui ld co mp ut at io na l r ea so ni ng s ys te ms , t he ya pp ea re df ir st in th el og ic is tt ra di ti on ."
1.1.4 Ac ti ng r at io na ll y: Th e r at io na l a ge nt ap pr oa ch
"An a ge nt i s j us t s om et hi ng t ha t a ct s (a ge nt c om es f ro m t he La ti n a ge re , t o d o). Of c ou rs e ,"
AGENT
"a ll c om pu te r p ro gr am s d o s om et hi ng , b ut c om pu te r a ge nt s a re e xp ec te d t o d o m or e: o pe ra te"
"a ut on om ou sl y , p er ce iv e t he ir e nv ir on me nt , p er si st o ve r a p ro lo ng ed t im e p er io d , a da pt t o"
"c ha ng e , a nd c re at e a nd p ur su e g oa ls . A r at io na l a ge nt i s o ne t ha t a ct s s o a s t o a ch ie ve t he"
RATIONALAGENT
"b es to ut co me or ,w he nt he re is un ce rt ai nt y , t he be st ex pe ct ed ou tc om e ."
"In th e“l aw so ft ho ug ht” a pp ro ac h t o AI ,t he em ph as is wa so nc or re ct in fe re nc es . Ma k-"
"i ng c or re ct i nf er en ce s i s s om et im es p ar t o f b ei ng a r at io na l a ge nt , b ec au se o ne w ay t o a ct"
r at io na ll y i st or ea so n l og ic al ly t ot he co nc lu si on t ha ta gi ve na ct io n w il la ch ie ve o ne’s g oa ls
"a nd t he n t o a ct o n t ha t c on cl us io n . On t he o th er h an d , c or re ct i nf er en ce i s n ot a ll o f r at io n-"
"a li ty ; i ns om es it ua ti on s , t he re is no pr ov ab ly c or re ct t hi ng to do , b ut so me th in g m us ts ti ll be"
d on e . Th er e a re a ls o w ay s o f a ct in g r at io na ll y t ha t c an no t b e s ai d t o i nv ol ve i nf er en ce . Fo r
"e xa mp le , r ec oi li ng f ro m a h ot s to ve i s a r ef le x a ct io n t ha t i s u su al ly m or e s uc ce ss fu l t ha n a"
s lo we ra ct io nt ak en af te rc ar ef ul de li be ra ti on .
Al lt he sk il ls ne ed ed fo rt he Tu ri ng Te st al so al lo wa na ge nt to ac tr at io na ll y . Kn ow le dg e
r ep re se nt at io n a nd r ea so ni ng e na bl e a ge nt s t o r ea ch g oo d d ec is io ns . We n ee d t o b e a bl e t o
g en er at e c om pr eh en si bl e s en te nc es i n n at ur al l an gu ag e t o g et b y i n a c om pl ex s oc ie ty . We
"n ee d l ea rn in g n ot o nl y f or e ru di ti on , b ut a ls o b ec au se i t i mp ro ve s o ur a bi li ty t o g en er at e"
e ff ec ti ve be ha vi or .
"Th e r at io na l-a ge nt a pp ro ac h h as t wo a dv an ta ge s o ve r t he o th er a pp ro ac he s . Fi rs t , i t"
i s m or e g en er al t ha n t he “l aw s o f t ho ug ht” a pp ro ac h b ec au se c or re ct i nf er en ce i s j us t o ne
"o f s ev er al p os si bl e m ec ha ni sm s f or a ch ie vi ng r at io na li ty . Se co nd , i t i s m or e a me na bl e t o"
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 5
s ci en ti fi cd ev el op me nt th an ar ea pp ro ac he s b as ed on hu ma nb eh av io ro rh um an th ou gh t . Th e
"s ta nd ar d o f r at io na li ty i s m at he ma ti ca ll y w el l d ef in ed a nd c om pl et el y g en er al , a nd c an b e"
"“u np ac ke d” t og en er at ea ge nt de si gn st ha tp ro va bl ya ch ie ve i t . Hu ma nb eh av io r , o nt he ot he r"
"h an d , i s w el l a da pt ed f or o ne s pe ci fi c e nv ir on me nt a nd i s d ef in ed b y , w el l , t he s um t ot al"
o f a ll t he t hi ng s t ha t h um an s d o . Th is b oo k t he re fo re c on ce nt ra te s o n g en er al p ri nc ip le s
o f r at io na l a ge nt s a nd o n c om po ne nt s f or c on st ru ct in g t he m . We w il l s ee t ha t d es pi te t he
"a pp ar en t s im pl ic it y w it h w hi ch t he p ro bl em c an b e s ta te d , a n e no rm ou s v ar ie ty o f i ss ue s"
c om eu pw he nw et ry to so lv ei t . Ch ap te r 2 o ut li ne s s om eo ft he se is su es in mo re de ta il .
On ei mp or ta nt po in tt ok ee pi nm in d: We wi ll se eb ef or et oo lo ng th at ac hi ev in gp er fe ct
r at io na li ty—a lw ay s d oi ng t he r ig ht t hi ng—i s n ot fe as ib le i n c om pl ic at ed e nv ir on me nt s . Th e
"c om pu ta ti on al d em an ds a re j us t t oo h ig h . Fo rm os t o f t he b oo k , h ow ev er , w e w il l a do pt t he"
w or ki ng h yp ot he si s t ha t p er fe ct r at io na li ty i sa g oo d s ta rt in g p oi nt f or an al ys is . It s im pl if ie s
t he p ro bl em a nd p ro vi de s t he a pp ro pr ia te s et ti ng f or m os t o f t he f ou nd at io na l m at er ia l i n
LIMITED t he f ie ld . Ch ap te rs 5 a nd 17 d ea l e xp li ci tl y w it h t he i ss ue o f l im it ed r at io na li ty—a ct in g
RATIONALITY
a pp ro pr ia te ly w he nt he re is no te no ug ht im et od oa ll th ec om pu ta ti on s o ne mi gh tl ik e .
1.2 THE FOUNDATIONS OF ARTIFICIAL INTELLIGENCE
"In th is se ct io n ,w ep ro vi de ab ri ef hi st or yo ft he di sc ip li ne st ha tc on tr ib ut ed id ea s ,v ie wp oi nt s ,"
"a nd t ec hn iq ue s t o AI . Li ke a ny h is to ry , t hi s o ne i s f or ce d t o c on ce nt ra te o n a s ma ll n um be r"
"o f p eo pl e , e ve nt s , a nd i de as a nd t o i gn or e o th er s t ha t a ls o w er e i mp or ta nt . We o rg an iz e t he"
h is to ry a ro un da se ri es of qu es ti on s . We ce rt ai nl y w ou ld no t w is ht og iv et he im pr es si on t ha t
t he se q ue st io ns a re th e o nl y o ne s t he d is ci pl in es a dd re ss o r t ha t t he d is ci pl in es h av e a ll be en
w or ki ng to wa rd AIa st he ir ul ti ma te fr ui ti on .
1.2.1 Ph il os op hy
• Ca nf or ma lr ul es be us ed to dr aw va li dc on cl us io ns ?
• Ho wd oe st he mi nd ar is ef ro ma ph ys ic al b ra in ?
• Wh er ed oe sk no wl ed ge co me fr om ?
• Ho wd oe sk no wl ed ge le ad to ac ti on ?
"Ar is to tl e (384–322 B .C .), w ho se b us t a pp ea rs o n t he f ro nt c ov er o f t hi s b oo k , w as t he f ir st"
t o f or mu la te a p re ci se s et o f l aw s g ov er ni ng t he r at io na l p ar t o f t he m in d . He d ev el op ed a n
"i nf or ma ls ys te mo fs yl lo gi sm sf or pr op er re as on in g , w hi ch in pr in ci pl ea ll ow ed on et og en er-"
"a te c on cl us io ns m ec ha ni ca ll y , g iv en i ni ti al p re mi se s . Mu ch l at er , Ra mo n Lu ll (d . 1315) h ad"
t he id ea th at us ef ul r ea so ni ng c ou ld ac tu al ly b ec ar ri ed o ut b ya me ch an ic al a rt if ac t . Th om as
"Ho bb es (1588–1679) p ro po se d t ha tr ea so ni ng w as li ke n um er ic al c om pu ta ti on , t ha t“w ea dd"
a nd s ub tr ac t i n o ur s il en t t ho ug ht s .” Th e a ut om at io n o f c om pu ta ti on i ts el f w as a lr ea dy w el l
"u nd er w ay . Ar ou nd 1500, Le on ar do d a Vi nc i (1452–1519) d es ig ne d b ut d id n ot b ui ld a m e-"
c ha ni ca l c al cu la to r ; r ec en t r ec on st ru ct io ns h av e s ho wn t he d es ig n t o b e f un ct io na l . Th ef ir st
k no wn c al cu la ti ng m ac hi ne w as c on st ru ct ed a ro un d 1623 b y t he Ge rm an s ci en ti st Wi lh el m
"Sc hi ck ar d (1592–1635), a lt ho ug h t he Pa sc al in e , b ui lt in 1642 b y Bl ai se Pa sc al(1623–1662),"
6 Ch ap te r 1. In tr od uc ti on
i s m or e f am ou s . Pa sc al w ro te t ha t “t he a ri th me ti ca l m ac hi ne p ro du ce s e ff ec ts w hi ch a pp ea r
n ea re r t o t ho ug ht t ha n a ll t he a ct io ns o f a ni ma ls .” Go tt fr ie d Wi lh el m Le ib ni z (1646–1716)
"b ui lt a me ch an ic al d ev ic e i nt en de d t o c ar ry o ut o pe ra ti on s o n c on ce pt s r at he r t ha n n um be rs ,"
b ut i ts s co pe w as r at he r l im it ed . Le ib ni z d id s ur pa ss Pa sc al b y b ui ld in g a c al cu la to r t ha t
"c ou ld a dd , s ub tr ac t , m ul ti pl y , a nd t ak e r oo ts , w he re as t he Pa sc al in e c ou ld o nl y a dd a nd s ub-"
t ra ct . So me s pe cu la te d t ha t m ac hi ne s m ig ht n ot j us t d o c al cu la ti on s b ut a ct ua ll y b e a bl e t o
"t hi nk a nd a ct o n t he ir o wn . In h is 1651 b oo k Le vi at ha n , Th om as Ho bb es s ug ge st ed t he i de a"
"o f a n “a rt if ic ia l a ni ma l ,” a rg ui ng “Fo r w ha t i s t he h ea rt b ut a s pr in g ; a nd t he n er ve s , b ut s o"
"m an ys tr in gs ; a nd th ej oi nt s ,b ut so ma ny wh ee ls .”"
"It’s on et hi ng to sa yt ha tt he mi nd op er at es ,a tl ea st in pa rt ,a cc or di ng to lo gi ca lr ul es ,a nd"
t o b ui ld p hy si ca l s ys te ms t ha t e mu la te s om e o f t ho se r ul es ; i t’s a no th er t o s ay t ha t t he m in d
i ts el f i s s uc h a p hy si ca l s ys te m . Re ne´ De sc ar te s (1596–1650) g av e t he f ir st c le ar d is cu ss io n
o ft he di st in ct io n b et we en mi nd an dm at te ra nd of th ep ro bl em st ha ta ri se . On ep ro bl em wi th
a p ur el y p hy si ca l c on ce pt io n o f t he m in d i s t ha t i t s ee ms t o l ea ve l it tl e r oo m f or f re e w il l:
"i f t he m in d i s g ov er ne d e nt ir el y b y p hy si ca l l aw s , t he n i t h as n o m or e f re e w il l t ha n a r oc k"
“d ec id in g”t of al lt ow ar dt he ce nt er of th ee ar th . De sc ar te sw as as tr on ga dv oc at eo ft he po we r
"o f r ea so ni ng i n u nd er st an di ng t he wo rl d , a ph il os op hy n ow c al le d r at io na li sm , a nd o ne t ha t"
RATIONALISM
c ou nt s Ar is to tl e a nd Le ib ni tz a s m em be rs . Bu t De sc ar te s w as a ls o a p ro po ne nt o f d ua li sm .
DUALISM
"He h el d t ha t t he re i s a p ar t o f t he h um an m in d (o r s ou l o r s pi ri t) t ha t i s o ut si de o f n at ur e ,"
"e xe mp t f ro m p hy si ca l l aw s . An im al s , o n t he o th er h an d , d id n ot p os se ss t hi s d ua l q ua li ty ;"
"t he y c ou ld b e t re at ed a s m ac hi ne s . An a lt er na ti ve t o d ua li sm i s m at er ia li sm , w hi ch h ol ds"
MATERIALISM
t ha t t he b ra in’s o pe ra ti on a cc or di ng t o t he l aw s o f p hy si cs c on st it ut es t he m in d . Fr ee w il l i s
s im pl yt he wa yt ha tt he pe rc ep ti on o fa va il ab le c ho ic es ap pe ar s t ot he ch oo si ng e nt it y .
"Gi ve n a p hy si ca l m in d t ha t m an ip ul at es k no wl ed ge , t he n ex t p ro bl em i s t o e st ab li sh"
"t he s ou rc e o f k no wl ed ge . Th e e mp ir ic is m m ov em en t , s ta rt in g w it h Fr an ci s Ba co n’s (1561–"
EMPIRICISM
"1626)No vu m Or ga nu m ,2 i sc ha ra ct er iz ed by ad ic tu mo f Jo hn Lo ck e(1632–1704): “No th in g"
"i s i n t he u nd er st an di ng , w hi ch w as n ot f ir st i n t he s en se s .” Da vi d Hu me’s (1711–1776) A"
"Tr ea ti se o f Hu ma n Na tu re (Hu me , 1739) p ro po se d w ha t i s n ow k no wn a s t he p ri nc ip le o f"
i nd uc ti on: t ha tg en er al ru le sa re ac qu ir ed by ex po su re to re pe at ed as so ci at io ns b et we en th ei r
INDUCTION
e le me nt s . Bu il di ng o n t he w or k o f Lu dw ig Wi tt ge ns te in (1889–1951) a nd Be rt ra nd Ru ss el l
"(1872–1970), t he f am ou s Vi en na Ci rc le , l ed b y Ru do lf Ca rn ap (1891–1970), d ev el op ed t he"
d oc tr in eo fl og ic al po si ti vi sm . Th is do ct ri ne ho ld st ha ta ll kn ow le dg ec an be ch ar ac te ri ze db y
LOGICALPOSITIVISM
"OBSERVATION l og ic al t he or ie s c on ne ct ed , u lt im at el y , t o o bs er va ti on s en te nc es t ha t c or re sp on d t o s en so ry"
SENTENCES
i np ut s ;t hu sl og ic al po si ti vi sm co mb in es ra ti on al is ma nd em pi ri ci sm .3 Th ec on fi rm at io nt he-
CONFIRMATION o ry of Ca rn ap an d Ca rl He mp el(1905–1997) a tt em pt ed t oa na ly ze t he ac qu is it io n o fk no wl-
THEORY
e dg e f ro m e xp er ie nc e . Ca rn ap’s b oo k Th e Lo gi ca l St ru ct ur e o f t he Wo rl d (1928) d ef in ed a n
e xp li ci t c om pu ta ti on al p ro ce du re f or e xt ra ct in g k no wl ed ge f ro m e le me nt ar y e xp er ie nc es . It
w as pr ob ab ly t he fi rs tt he or yo fm in da sa co mp ut at io na l p ro ce ss .
"2 Th e No vu m Or ga nu m i sa nu pd at e o f Ar is to tl e’s Or ga no n , o ri ns tr um en t o ft ho ug ht . Th us Ar is to tl ec an be"
s ee na sb ot ha ne mp ir ic is ta nd ar at io na li st .
"3 In th is pi ct ur e ,a ll me an in gf ul st at em en ts ca nb ev er if ie do rf al si fi ed ei th er by ex pe ri me nt at io no rb ya na ly si s"
"o ft he me an in go ft he wo rd s .Be ca us et hi sr ul es ou tm os to fm et ap hy si cs ,a sw as th ei nt en ti on ,l og ic al po si ti vi sm"
w as un po pu la ri ns om ec ir cl es .
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 7
Th e f in al e le me nt i n t he p hi lo so ph ic al p ic tu re o f t he m in d i s t he c on ne ct io n b et we en
k no wl ed ge an da ct io n . Th is qu es ti on is vi ta lt o AIb ec au se in te ll ig en ce re qu ir es ac ti on as we ll
"a s r ea so ni ng . Mo re ov er , o nl y b y u nd er st an di ng h ow a ct io ns a re j us ti fi ed c an w e u nd er st an d"
h ow to bu il da na ge nt wh os ea ct io ns ar ej us ti fi ab le(o rr at io na l). Ar is to tl ea rg ue d(i n De Mo tu
An im al iu m)t ha ta ct io ns ar ej us ti fi ed by al og ic al co nn ec ti on be tw ee ng oa ls an dk no wl ed ge of
"t he ac ti on’s ou tc om e(t he la st pa rt of th is ex tr ac ta ls oa pp ea rs on th ef ro nt co ve ro ft hi sb oo k ,"
i nt he or ig in al Gr ee k):
Bu th ow do es it ha pp en th at th in ki ng is so me ti me sa cc om pa ni ed by ac ti on an ds om et im es
"n ot , s om et im es b y m ot io n , a nd s om et im es n ot ? It l oo ks a s i f a lm os t t he s am e t hi ng"
h ap pe ns as in th ec as eo fr ea so ni ng an dm ak in gi nf er en ce sa bo ut un ch an gi ng ob je ct s .Bu t
i n t ha t c as e t he e nd i s a s pe cu la ti ve p ro po si ti on ... w he re as h er e t he c on cl us io nw hi ch
r es ul ts fr om th e t wo pr em is es is an a ct io n . ...I n ee dc ov er in g ;a c lo ak is a c ov er in g . I
"n ee da cl oa k . Wh at In ee d ,Ih av et om ak e ;In ee da cl oa k . Ih av et om ak ea cl oa k . An d"
"t he co nc lu si on ,t he“Ih av et om ak ea cl oa k ,”i sa na ct io n ."
"In t he Ni co ma ch ea n Et hi cs (Bo ok III . 3, 1112 b), Ar is to tl e f ur th er e la bo ra te s o n t hi s t op ic ,"
s ug ge st in g a na lg or it hm:
"We de li be ra te no ta bo ut en ds ,b ut ab ou tm ea ns . Fo ra do ct or do es no td el ib er at ew he th er"
"h e s ha ll h ea l , n or a n o ra to r w he th er h e s ha ll p er su ad e , ... Th ey a ss um e t he e nd a nd"
"c on si de rh ow an db yw ha tm ea ns it is at ta in ed ,a nd if it se em se as il ya nd be st pr od uc ed"
t he re by ;w hi le if it is ac hi ev ed by on em ea ns on ly th ey co ns id er ho wi tw il lb ea ch ie ve d
"b yt hi sa nd by wh at me an st hi sw il lb ea ch ie ve d ,t il lt he yc om et ot he fi rs tc au se ,...a nd"
w ha ti sl as ti nt he or de ro fa na ly si ss ee ms to be fi rs ti nt he or de ro fb ec om in g . An di fw e
"c om eo na ni mp os si bi li ty ,w eg iv eu pt he se ar ch ,e .g .,i fw en ee dm on ey an dt hi sc an no t"
b eg ot ;b ut if at hi ng ap pe ar sp os si bl ew et ry to do it .
Ar is to tl e’s a lg or it hm w as i mp le me nt ed 2300 y ea rs l at er b y Ne we ll a nd Si mo n i n t he ir GPS
p ro gr am . We wo ul dn ow ca ll it ar eg re ss io n p la nn in g s ys te m(s ee Ch ap te r 10).
"Go al-b as ed a na ly si s i s u se fu l , b ut d oe s n ot s ay w ha t t o d o w he n s ev er al a ct io ns w il l"
a ch ie ve th eg oa lo rw he nn oa ct io nw il la ch ie ve it co mp le te ly . An to in e Ar na ul d(1612–1694)
c or re ct ly d es cr ib ed a q ua nt it at iv e f or mu la f or d ec id in g w ha t a ct io n t o t ak e i n c as es l ik e t hi s
"(s ee Ch ap te r 16). Jo hn St ua rt Mi ll’s(1806–1873) b oo k Ut il it ar ia ni sm (Mi ll ,1863)p ro mo te d"
t he id ea of ra ti on al de ci si on cr it er ia in al ls ph er es of hu ma na ct iv it y . Th em or ef or ma lt he or y
o fd ec is io ns i sd is cu ss ed i nt he fo ll ow in gs ec ti on .
1.2.2 Ma th em at ic s
• Wh at ar et he fo rm al ru le st od ra wv al id co nc lu si on s ?
• Wh at ca nb ec om pu te d ?
• Ho wd ow er ea so nw it hu nc er ta in i nf or ma ti on ?
"Ph il os op he rs st ak ed ou ts om eo ft he fu nd am en ta li de as of AI ,b ut th el ea pt oa fo rm al sc ie nc e"
"r eq ui re d a l ev el o f m at he ma ti ca l f or ma li za ti on i n t hr ee f un da me nt al a re as: l og ic , c om pu ta-"
"t io n ,a nd pr ob ab il it y ."
"Th ei de a o f f or ma l l og ic c an b e t ra ce d b ac k t o t he p hi lo so ph er s o f a nc ie nt Gr ee ce , b ut"
"i ts ma th em at ic al de ve lo pm en tr ea ll yb eg an wi th th ew or ko f Ge or ge Bo ol e(1815–1864),w ho"
8 Ch ap te r 1. In tr od uc ti on
"w or ke d o ut t he d et ai ls o f p ro po si ti on al , o r Bo ol ea n , l og ic (Bo ol e , 1847). In 1879, Go tt lo b"
"Fr eg e(1848–1925) e xt en de d Bo ol e’s lo gi ct oi nc lu de ob je ct sa nd re la ti on s , c re at in gt he fi rs t-"
o rd er l og ic t ha t i s u se d t od ay .4 Al fr ed Ta rs ki (1902–1983) i nt ro du ce d a t he or y o f r ef er en ce
t ha ts ho ws ho wt or el at et he ob je ct si na lo gi ct oo bj ec ts in th er ea lw or ld .
Th e n ex t s te p w as t o d et er mi ne t he l im it s o f w ha t c ou ld b e d on e w it h l og ic a nd c om-
p ut at io n . Th e f ir st n on tr iv ia l a lg or it hm i s t ho ug ht t o b e Eu cl id’s a lg or it hm f or c om pu ti ng
ALGORITHM
g re at es t c om mo n d iv is or s . Th ew or d a lg or it hm (a nd t he i de a o f s tu dy in g t he m) c om es f ro m
"a l-Kh ow ar az mi , a Pe rs ia n m at he ma ti ci an o f t he 9 t h c en tu ry , w ho se w ri ti ng s a ls o i nt ro du ce d"
Ar ab ic n um er al s a nd a lg eb ra t o Eu ro pe . Bo ol e a nd o th er s d is cu ss ed a lg or it hm s f or l og ic al
"d ed uc ti on , a nd , b yt he la te 19 t hc en tu ry , e ff or ts w er eu nd er w ay to fo rm al iz e g en er al m at he-"
"m at ic al r ea so ni ng a s l og ic al d ed uc ti on . In 1930, Ku rt Go¨d el (1906–1978) s ho we d t ha t t he re"
e xi st s a ne ff ec ti ve p ro ce du re t op ro ve a ny tr ue s ta te me nt i n t he f ir st-o rd er l og ic o f Fr eg ea nd
"Ru ss el l , b ut t ha t f ir st-o rd er l og ic c ou ld n ot c ap tu re t he p ri nc ip le o f m at he ma ti ca l i nd uc ti on"
"n ee de d t o c ha ra ct er iz e t he n at ur al n um be rs . In 1931, Go¨d el s ho we d t ha t l im it s o n d ed uc-"
INCOMPLETENESS t io n d o e xi st . Hi s i nc om pl et en es s t he or em s ho we d t ha t i n a ny f or ma l t he or y a s s tr on g a s
THEOREM
"Pe an o a ri th me ti c (t he e le me nt ar y t he or y o f n at ur al n um be rs), t he re a re t ru e s ta te me nt s t ha t"
a re un de ci da bl e i nt he se ns et ha tt he yh av en op ro of wi th in th et he or y .
Th is f un da me nt al r es ul t c an a ls o b e i nt er pr et ed a s s ho wi ng t ha t s om e f un ct io ns o n t he
"i nt eg er s c an no t b e r ep re se nt ed b y a n a lg or it hm—t ha t i s , t he y c an no t b e c om pu te d . Th is"
m ot iv at ed Al an Tu ri ng (1912–1954) t o t ry t o c ha ra ct er iz e e xa ct ly w hi ch f un ct io ns a re c om-
p ut ab le—c ap ab le o f b ei ng c om pu te d . Th is n ot io n i s a ct ua ll y s li gh tl y p ro bl em at ic b ec au se
COMPUTABLE
t he no ti on of ac om pu ta ti on o re ff ec ti ve pr oc ed ur e r ea ll yc an no tb eg iv en af or ma ld ef in it io n .
"Ho we ve r , t he Ch ur ch–Tu ri ng t he si s , w hi ch s ta te s t ha t t he Tu ri ng m ac hi ne (Tu ri ng , 1936) i s"
"c ap ab le of co mp ut in ga ny co mp ut ab le fu nc ti on ,i sg en er al ly ac ce pt ed as pr ov id in ga su ff ic ie nt"
d ef in it io n . Tu ri ng a ls o s ho we d t ha t t he re w er e s om e f un ct io ns t ha t n o Tu ri ng m ac hi ne c an
"c om pu te . Fo r e xa mp le , n o m ac hi ne c an t el l i n g en er al w he th er a g iv en p ro gr am w il l r et ur n"
a na ns we ro na gi ve ni np ut or ru nf or ev er .
Al th ou gh de ci da bi li ty an dc om pu ta bi li ty ar ei mp or ta nt to an un de rs ta nd in go fc om pu ta-
"t io n ,t he no ti on of tr ac ta bi li ty h as ha da ne ve ng re at er im pa ct . Ro ug hl ys pe ak in g , a pr ob le m"
TRACTABILITY
i sc al le di nt ra ct ab le if th et im er eq ui re dt os ol ve in st an ce so ft he pr ob le mg ro ws ex po ne nt ia ll y
w it h t he s iz e o f t he i ns ta nc es . Th e d is ti nc ti on b et we en p ol yn om ia l a nd e xp on en ti al g ro wt h
"i nc om pl ex it y w as fi rs te mp ha si ze d i nt he mi d-1960 s (Co bh am , 1964; Ed mo nd s , 1965). It is"
i mp or ta nt b ec au se e xp on en ti al g ro wt hm ea ns th at ev en mo de ra te ly l ar ge in st an ce s c an no t b e
"s ol ve d i n a ny r ea so na bl e t im e . Th er ef or e , o ne s ho ul d s tr iv e t o d iv id e t he o ve ra ll p ro bl em o f"
g en er at in g i nt el li ge nt b eh av io ri nt ot ra ct ab le s ub pr ob le ms r at he rt ha ni nt ra ct ab le o ne s .
"Ho wc an on e r ec og ni ze a n i nt ra ct ab le p ro bl em ? Th et he or y o f NP-c om pl et en es s , p io-"
NP-COMPLETENESS
"n ee re db y St ev en Co ok(1971)a nd Ri ch ar d Ka rp(1972), p ro vi de s a me th od . Co ok an d Ka rp"
s ho we d t he ex is te nc e o fl ar ge c la ss es o fc an on ic al c om bi na to ri al s ea rc h a nd re as on in g p ro b-
l em s t ha t a re NP-c om pl et e . An yp ro bl em c la ss t o w hi ch t he c la ss o f NP-c om pl et e p ro bl em s
c an be re du ce di sl ik el yt ob ei nt ra ct ab le . (Al th ou gh it ha sn ot be en pr ov ed th at NP-c om pl et e
4 Fr eg e’s pr op os ed n ot at io n f or f ir st-o rd er lo gi c—a n a rc an e c om bi na ti on o f t ex tu al a nd g eo me tr ic f ea tu re s—
n ev er be ca me po pu la r .
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 9
"p ro bl em s a re n ec es sa ri ly i nt ra ct ab le , m os t t he or et ic ia ns b el ie ve i t .) Th es e r es ul ts c on tr as t"
w it h t he o pt im is m w it h w hi ch t he p op ul ar p re ss g re et ed t he f ir st c om pu te rs—“El ec tr on ic
"Su pe r-Br ai ns” t ha t w er e “Fa st er t ha n Ei ns te in !” De sp it e t he i nc re as in g s pe ed o f c om pu te rs ,"
"c ar ef ul u se o f r es ou rc es w il l c ha ra ct er iz e i nt el li ge nt s ys te ms . Pu t c ru de ly , t he w or ld i s a n"
e xt re me ly l ar ge p ro bl em i ns ta nc e ! Wo rk i n AI h as h el pe d e xp la in w hy s om e i ns ta nc es o f
"NP-c om pl et ep ro bl em s a re ha rd ,y et ot he rs ar ee as y(Ch ee se ma ne ta l .,1991)."
"Be si de sl og ic an dc om pu ta ti on , t he th ir dg re at co nt ri bu ti on o fm at he ma ti cs t o AIi st he"
t he or y o f p ro ba bi li ty . Th e It al ia n Ge ro la mo Ca rd an o (1501–1576) f ir st f ra me d t he i de a o f
PROBABILITY
"p ro ba bi li ty , d es cr ib in g i t i n t er ms o f t he p os si bl e o ut co me s o f g am bl in g e ve nt s . In 1654,"
"Bl ai se Pa sc al (1623–1662), i n a l et te r t o Pi er re Fe rm at (1601–1665), s ho we d h ow t o p re-"
d ic t t he f ut ur e o f a n u nf in is he d g am bl in g g am e a nd a ss ig n a ve ra ge p ay of fs t o t he g am bl er s .
"Pr ob ab il it yq ui ck ly be ca me an in va lu ab le p ar to fa ll th eq ua nt it at iv e s ci en ce s , h el pi ng to de al"
"w it hu nc er ta in m ea su re me nt s a nd i nc om pl et e t he or ie s . Ja me s Be rn ou ll i (1654–1705), Pi er re"
"La pl ac e (1749–1827), a nd o th er s a dv an ce d t he t he or y a nd i nt ro du ce d n ew s ta ti st ic al m et h-"
"o ds . Th om as Ba ye s (1702–1761), w ho a pp ea rs o n t he f ro nt c ov er o f t hi s b oo k , p ro po se d"
a r ul e f or u pd at in g p ro ba bi li ti es i n t he l ig ht o f n ew e vi de nc e . Ba ye s’ r ul e u nd er li es m os t
m od er na pp ro ac he s t ou nc er ta in r ea so ni ng i n AIs ys te ms .
1.2.3 Ec on om ic s
• Ho ws ho ul dw em ak ed ec is io ns s oa st om ax im iz ep ay of f ?
• Ho ws ho ul dw ed ot hi sw he no th er sm ay no tg oa lo ng ?
• Ho ws ho ul dw ed ot hi sw he nt he pa yo ff ma yb ef ar in th ef ut ur e ?
"Th e s ci en ce o f e co no mi cs g ot i ts s ta rt i n 1776, w he n Sc ot ti sh p hi lo so ph er Ad am Sm it h"
(1723–1790) p ub li sh ed An In qu ir y i nt o t he Na tu re a nd Ca us es o f t he We al th o f Na ti on s .
"Wh il et he an ci en t Gr ee ks an do th er sh ad ma de co nt ri bu ti on s t oe co no mi ct ho ug ht ,Sm it hw as"
"t he f ir st t o t re at i t a s a s ci en ce , u si ng t he i de a t ha t e co no mi es c an b e t ho ug ht o f a s c on si st-"
i ng o f i nd iv id ua l a ge nt s m ax im iz in g t he ir o wn e co no mi c w el l-b ei ng . Mo st p eo pl e t hi nk o f
"e co no mi cs a s b ei ng a bo ut m on ey , b ut e co no mi st s w il l s ay t ha t t he y a re r ea ll y s tu dy in g h ow"
p eo pl e m ak ec ho ic es t ha tl ea dt op re fe rr ed o ut co me s . Wh en Mc Do na ld’s o ff er sa ha mb ur ge r
"f or ad ol la r ,t he ya re as se rt in gt ha tt he yw ou ld pr ef er th ed ol la ra nd ho pi ng th at cu st om er sw il l"
p re fe r t he h am bu rg er . Th e m at he ma ti ca l t re at me nt o f “p re fe rr ed o ut co me s” o r u ti li ty w as
UTILITY
f ir st fo rm al iz ed b y Le´o n Wa lr as(p ro no un ce d “Va lr as se”) (1834-1910) a nd wa si mp ro ve d b y
Fr an k Ra ms ey(1931) a nd l at er by Jo hn v on Ne um an n a nd Os ka r Mo rg en st er n i n t he ir bo ok
Th e Th eo ry of Ga me sa nd Ec on om ic Be ha vi or(1944).
"De ci si on th eo ry ,w hi ch co mb in es pr ob ab il it y t he or yw it hu ti li ty th eo ry ,p ro vi de sa fo r-"
DECISIONTHEORY
m al an dc om pl et ef ra me wo rk fo rd ec is io ns(e co no mi co ro th er wi se)m ad eu nd er un ce rt ai nt y—
"t ha t i s , i n c as es w he re p ro ba bi li st ic d es cr ip ti on s a pp ro pr ia te ly c ap tu re t he d ec is io n m ak er’s"
e nv ir on me nt . Th is i ss ui ta bl e f or“l ar ge” e co no mi es w he re ea ch a ge nt n ee d p ay n o a tt en ti on
"t o t he a ct io ns o f o th er a ge nt s a s i nd iv id ua ls . Fo r “s ma ll” e co no mi es , t he s it ua ti on i s m uc h"
m or e l ik e a g am e: t he a ct io ns o f o ne p la ye r c an s ig ni fi ca nt ly a ff ec t t he u ti li ty o f a no th er
(e it he r p os it iv el y o r n eg at iv el y). Vo n Ne um an n a nd Mo rg en st er n’s d ev el op me nt o f g am e
"t he or y (s ee a ls o Lu ce an d Ra if fa , 1957) i nc lu de d t he s ur pr is in g r es ul t t ha t , f or so me ga me s ,"
GAMETHEORY
10 Ch ap te r 1. In tr od uc ti on
a ra ti on al a ge nt s ho ul d a do pt po li ci es t ha ta re(o rl ea st a pp ea rt ob e)r an do mi ze d . Un li ke de-
"c is io nt he or y , g am et he or yd oe sn ot of fe ra nu na mb ig uo us p re sc ri pt io n f or se le ct in g a ct io ns ."
"Fo r t he m os t p ar t , e co no mi st s d id n ot a dd re ss t he t hi rd q ue st io n l is te d a bo ve , n am el y ,"
h ow t om ak e r at io na l d ec is io ns w he np ay of fs f ro m a ct io ns a re n ot i mm ed ia te b ut i ns te ad r e-
s ul tf ro ms ev er al ac ti on st ak en in se qu en ce . Th is to pi cw as pu rs ue di nt he fi el do fo pe ra ti on s
"OPERATIONS r es ea rc h , w hi ch e me rg ed i n Wo rl d Wa r II f ro m e ff or ts i n Br it ai n t o o pt im iz e r ad ar i ns ta ll a-"
RESEARCH
"t io ns , a nd l at er f ou nd c iv il ia n a pp li ca ti on s i n c om pl ex m an ag em en t d ec is io ns . Th e w or k o f"
Ri ch ar d Be ll ma n (1957) f or ma li ze d a c la ss o f s eq ue nt ia l d ec is io n p ro bl em s c al le d Ma rk ov
"d ec is io np ro ce ss es , w hi ch we st ud yi n Ch ap te rs 17 a nd 21."
Wo rk i n e co no mi cs a nd o pe ra ti on s r es ea rc h h as c on tr ib ut ed m uc h t o o ur n ot io n o f r a-
"t io na l a ge nt s , y et f or m an y y ea rs AI r es ea rc h d ev el op ed a lo ng e nt ir el y s ep ar at e p at hs . On e"
r ea so n w as t he a pp ar en t c om pl ex it y o f m ak in g r at io na l d ec is io ns . Th e p io ne er in g AI r e-
s ea rc he r He rb er t Si mo n(1916–2001) w on th e No be l Pr iz ei ne co no mi cs in 1978 f or hi se ar ly
"w or k s ho wi ng t ha t m od el s b as ed o n s at is fi ci ng—m ak in g d ec is io ns t ha t a re “g oo d e no ug h ,”"
SATISFICING
r at he r t ha n l ab or io us ly c al cu la ti ng a n o pt im al d ec is io n—g av e a b et te r d es cr ip ti on o f a ct ua l
"h um an b eh av io r (Si mo n , 1947). Si nc e t he 1990 s , t he re h as b ee n a r es ur ge nc e o f i nt er es t i n"
"d ec is io n-t he or et ic t ec hn iq ue s f or ag en ts ys te ms(We ll ma n ,1995)."
1.2.4 Ne ur os ci en ce
• Ho wd ob ra in sp ro ce ss i nf or ma ti on ?
"Ne ur os ci en ce i s t he s tu dy o f t he n er vo us s ys te m , p ar ti cu la rl y t he b ra in . Al th ou gh t he e xa ct"
NEUROSCIENCE
"w ay in wh ic ht he br ai ne na bl es th ou gh ti so ne of th eg re at my st er ie so fs ci en ce ,t he fa ct th at it"
d oe se na bl et ho ug ht ha sb ee na pp re ci at ed f or th ou sa nd s o fy ea rs be ca us eo ft he ev id en ce th at
s tr on g b lo ws to t he h ea d c an l ea d t om en ta l i nc ap ac it at io n . It ha s a ls o l on g b ee n k no wn t ha t
"h um an br ai ns a re so me ho w d if fe re nt ; i na bo ut 335 B .C . Ar is to tl e w ro te , “Of al lt he an im al s ,"
"m an h as t he l ar ge st b ra in i n p ro po rt io n t o h is s iz e .”5 St il l , i t w as n ot u nt il t he m id dl e o f t he"
"18 t h c en tu ry t ha tt he br ai n w as wi de ly r ec og ni ze d a st he se at o fc on sc io us ne ss . Be fo re t he n ,"
c an di da te l oc at io ns i nc lu de d t he he ar ta nd th es pl ee n .
Pa ul Br oc a’s (1824–1880) s tu dy o f a ph as ia (s pe ec h d ef ic it) i n b ra in-d am ag ed p at ie nt s
i n 1861 d em on st ra te d t he e xi st en ce o f l oc al iz ed a re as o f t he b ra in r es po ns ib le f or s pe ci fi c
"c og ni ti ve f un ct io ns . In p ar ti cu la r , h e s ho we d t ha t s pe ec h p ro du ct io n w as l oc al iz ed t o t he"
"p or ti on o f t he l ef t h em is ph er e n ow c al le d Br oc a’s a re a .6 By t ha t t im e , i t w as k no wn t ha t"
"t he b ra in c on si st ed o f n er ve c el ls , o r n eu ro ns , b ut i t w as n ot u nt il 1873 t ha t Ca mi ll o Go lg i"
NEURON
(1843–1926) d ev el op ed a s ta in in g t ec hn iq ue a ll ow in g t he o bs er va ti on o f i nd iv id ua l n eu ro ns
i n t he b ra in (s ee Fi gu re 1.2). Th is t ec hn iq ue w as u se d b y Sa nt ia go Ra mo n y Ca ja l (1852–
"1934)i nh is pi on ee ri ng s tu di es of th eb ra in’s ne ur on al st ru ct ur es .7 Ni co la s Ra sh ev sk y(1936,"
1938)w as th ef ir st to ap pl ym at he ma ti ca l m od el st ot he st ud yo ft he ne rv ou s s yt em .
"5 Si nc et he n ,i th as be en di sc ov er ed th at th et re es hr ew(Sc an de nt ia)h as ah ig he rr at io of br ai nt ob od ym as s ."
6 Ma ny ci te Al ex an de r Ho od(1824)a sa po ss ib le pr io rs ou rc e .
7 Go lg ip er si st ed in hi sb el ie ft ha tt he br ai n’s fu nc ti on sw er ec ar ri ed ou tp ri ma ri ly in ac on ti nu ou sm ed iu mi n
"w hi ch ne ur on sw er ee mb ed de d , w he re as Ca ja lp ro po un de d t he“n eu ro na l d oc tr in e .” Th et wo sh ar ed th e No be l"
p ri ze in 1906 b ut ga ve mu tu al ly an ta go ni st ic ac ce pt an ce sp ee ch es .
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 11
Ax on al a rb or iz at io n
Ax on f ro m a no th er c el l
Sy na ps e
De nd ri te Ax on
Nu cl eu s
Sy na ps es
Ce ll b od y o r So ma
"Fi gu re 1.2 Th e p ar ts o f a n er ve c el l o r n eu ro n . Ea ch n eu ro n c on si st s o f a c el l b od y ,"
"o r s om a , t ha t c on ta in s a c el l n uc le us . Br an ch in g o ut f ro m t he c el l b od y a re a n um be r o f"
f ib er sc al le dd en dr it es an da s in gl e l on gf ib er ca ll ed t he a xo n . Th ea xo ns tr et ch es ou tf or a
"l on g d is ta nc e , m uc h l on ge r t ha n t he s ca le i n t hi s d ia gr am i nd ic at es . Ty pi ca ll y , a n a xo n i s"
"1 c ml on g(100 t im es th ed ia me te ro ft he ce ll bo dy),b ut ca nr ea ch up to 1 m et er . An eu ro n"
"m ak es co nn ec ti on sw it h 10 t o 100,000 o th er ne ur on sa tj un ct io ns ca ll ed sy na ps es .Si gn al sa re"
p ro pa ga te df ro m n eu ro nt o n eu ro nb y a c om pl ic at ed e le ct ro ch em ic al re ac ti on . Th e s ig na ls
c on tr ol br ai na ct iv it yi nt he sh or tt er ma nd al so en ab le lo ng-t er mc ha ng es in th ec on ne ct iv it y
o fn eu ro ns . Th es em ec ha ni sm sa re th ou gh tt of or mt he ba si sf or le ar ni ng in th eb ra in . Mo st
"i nf or ma ti on pr oc es si ng go es on in th ec er eb ra lc or te x ,t he ou te rl ay er of th eb ra in . Th eb as ic"
"o rg an iz at io na lu ni t a pp ea rs t o b e a c ol um n o f t is su e a bo ut 0.5 m m i n d ia me te r , c on ta in in g"
"a bo ut 20,000 n eu ro ns an de xt en di ng th ef ul ld ep th of th ec or te xa bo ut 4 m mi nh um an s)."
We no wh av es om ed at ao nt he ma pp in gb et we en ar ea so ft he br ai n a nd th ep ar ts of th e
b od y t ha t t he y c on tr ol o rf ro m w hi ch t he y r ec ei ve s en so ry i np ut . Su ch m ap pi ng s a re a bl e t o
"c ha ng e r ad ic al ly o ve r t he c ou rs e o f a f ew w ee ks , a nd s om e a ni ma ls s ee m t o h av e m ul ti pl e"
"m ap s . Mo re ov er , w e d o n ot f ul ly u nd er st an d h ow o th er a re as c an t ak e o ve r f un ct io ns w he n"
o ne ar ea is da ma ge d . Th er ei sa lm os tn ot he or yo nh ow an in di vi du al m em or yi ss to re d .
Th e m ea su re me nt o f i nt ac t b ra in a ct iv it y b eg an i n 1929 w it h t he i nv en ti on b y Ha ns
Be rg er of th e e le ct ro en ce ph al og ra ph (EEG).Th er ec en t d ev el op me nt o ff un ct io na l m ag ne ti c
"r es on an ce i ma gi ng (f MRI) (Og aw a e t a l ., 1990; Ca be za a nd Ny be rg , 2001) i s g iv in g n eu-"
"r os ci en ti st s u np re ce de nt ed ly d et ai le d i ma ge s o f b ra in a ct iv it y , e na bl in g m ea su re me nt s t ha t"
c or re sp on d i n i nt er es ti ng w ay s t o o ng oi ng c og ni ti ve p ro ce ss es . Th es e a re a ug me nt ed b y
a dv an ce s i n s in gl e-c el l r ec or di ng o f n eu ro n a ct iv it y . In di vi du al n eu ro ns c an b e s ti mu la te d
"e le ct ri ca ll y , c he mi ca ll y , o re ve no pt ic al ly(Ha na nd Bo yd en ,2007),a ll ow in gn eu ro na l i np ut–"
"o ut pu t r el at io ns hi ps t o b e m ap pe d . De sp it e t he se a dv an ce s , w e a re s ti ll a l on g w ay f ro m"
u nd er st an di ng h ow co gn it iv ep ro ce ss es a ct ua ll y w or k .
"Th e t ru ly a ma zi ng c on cl us io n i s t ha t a c ol le ct io n o f s im pl e c el ls c an l ea d t o t ho ug ht ,"
"a ct io n , a nd c on sc io us ne ss o r , i n t he p it hy w or ds o f Jo hn Se ar le (1992), b ra in s c au se m in ds ."
12 Ch ap te r 1. In tr od uc ti on
Su pe rc om pu te r Pe rs on al Co mp ut er Hu ma n Br ai n
"Co mp ut at io na l u ni ts 104 CPUs ,1012 t ra ns is to rs 4 CPUs ,109 t ra ns is to rs 1011 n eu ro ns"
St or ag eu ni ts 1014 b it s RAM 1011 b it s RAM 1011 n eu ro ns
1015 b it sd is k 1013 b it sd is k 1014 s yn ap se s
Cy cl et im e
10−9
s ec
10−9
s ec
10−3
s ec
Op er at io ns/s ec 1015 1010 1017
Me mo ry up da te s/s ec 1014 1010 1014
Fi gu re 1.3 Ac ru de co mp ar is on of th er aw co mp ut at io na lr es ou rc es av ai la bl et ot he IBM
"BLUE GENEs up er co mp ut er ,a ty pi ca lp er so na lc om pu te ro f 2008,a nd th eh um an br ai n .Th e"
"b ra in’s n um be rs ar e e ss en ti al ly f ix ed , w he re as t he s up er co mp ut er’s nu mb er s h av e b ee n i n-"
"c re as in g b y a f ac to ro f 10 e ve ry 5 y ea rs o r s o , a ll ow in g i t t o a ch ie ve ro ug hp ar it y w it h t he"
b ra in .Th ep er so na lc om pu te rl ag sb eh in do na ll me tr ic se xc ep tc yc le ti me .
Th eo nl yr ea la lt er na ti ve t he or yi sm ys ti ci sm: t ha tm in ds op er at ei ns om em ys ti ca lr ea lm th at
i sb ey on dp hy si ca l s ci en ce .
Br ai ns an dd ig it al co mp ut er sh av es om ew ha td if fe re nt pr op er ti es . Fi gu re 1.3 s ho ws th at
c om pu te rs h av e a c yc le t im e t ha t i s a m il li on t im es f as te r t ha n a b ra in . Th e b ra in m ak es u p
"f or t ha t w it h f ar m or e s to ra ge a nd i nt er co nn ec ti on t ha n e ve n a h ig h-e nd p er so na l c om pu te r ,"
a lt ho ug h t he l ar ge st s up er co mp ut er s h av e a c ap ac it y t ha t i s s im il ar t o t he b ra in’s . (It s ho ul d
"b e n ot ed , h ow ev er , t ha t t he b ra in d oe s n ot s ee m t o u se a ll o f i ts n eu ro ns s im ul ta ne ou sl y .)"
"Fu tu ri st s m ak e m uc h o f t he se n um be rs , p oi nt in g t o a n a pp ro ac hi ng s in gu la ri ty a t w hi ch"
SINGULARITY
"c om pu te rs r ea ch a su pe rh um an l ev el o fp er fo rm an ce (Vi ng e , 1993; Ku rz we il , 2005), b ut t he"
r aw co mp ar is on s a re no te sp ec ia ll y i nf or ma ti ve . Ev en wi th a c om pu te ro fv ir tu al ly un li mi te d
"c ap ac it y , w es ti ll wo ul dn ot kn ow ho wt oa ch ie ve th eb ra in’s le ve lo fi nt el li ge nc e ."
1.2.5 Ps yc ho lo gy
• Ho wd oh um an sa nd an im al st hi nk an da ct ?
Th e o ri gi ns o f s ci en ti fi c p sy ch ol og y a re u su al ly t ra ce d t o t he w or k o f t he Ge rm an p hy si-
c is t He rm an n v on He lm ho lt z (1821–1894) a nd h is s tu de nt Wi lh el m Wu nd t (1832–1920).
"He lm ho lt z a pp li ed t he s ci en ti fi c m et ho d t o t he s tu dy o f h um an v is io n , a nd h is Ha nd bo ok"
o f Ph ys io lo gi ca l Op ti cs i s e ve n n ow d es cr ib ed a s “t he s in gl e m os t i mp or ta nt t re at is e o n t he
"p hy si cs a nd p hy si ol og y o f h um an v is io n” (Na lw a , 1993, p .15). In 1879, Wu nd t o pe ne d t he"
"f ir st l ab or at or y o f e xp er im en ta l p sy ch ol og y , a t t he Un iv er si ty o f Le ip zi g . Wu nd t i ns is te d"
o n c ar ef ul ly c on tr ol le d e xp er im en ts i n w hi ch h is w or ke rs w ou ld p er fo rm a p er ce pt ua l o ra s-
s oc ia ti ve t as k w hi le i nt ro sp ec ti ng o n t he ir t ho ug ht p ro ce ss es . Th e c ar ef ul c on tr ol s w en t a
"l on g w ay t ow ar d m ak in g p sy ch ol og y a s ci en ce , b ut t he s ub je ct iv e n at ur e o f t he d at a m ad e"
i t u nl ik el y t ha t a n e xp er im en te r w ou ld e ve r d is co nf ir m h is o r h er o wn t he or ie s . Bi ol og is ts
"s tu dy in g a ni ma l b eh av io r , o nt he o th er ha nd , l ac ke d i nt ro sp ec ti ve d at a a nd d ev el op ed a n o b-"
"j ec ti ve me th od ol og y ,a sd es cr ib ed by H .S .Je nn in gs(1906)i nh is in fl ue nt ia lw or k Be ha vi or of"
"t he Lo we r Or ga ni sm s . Ap pl yi ng t hi s v ie wp oi nt t o h um an s , t he b eh av io ri sm m ov em en t , l ed"
BEHAVIORISM
"b y Jo hn Wa ts on(1878–1958), r ej ec te da ny th eo ry in vo lv in gm en ta lp ro ce ss es on th eg ro un ds"
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 13
t ha ti nt ro sp ec ti on c ou ld no tp ro vi de re li ab le ev id en ce . Be ha vi or is ts in si st ed on st ud yi ng on ly
o bj ec ti ve m ea su re s o f t he p er ce pt s (o r s ti mu lu s) g iv en t o a n a ni ma l a nd i ts r es ul ti ng a ct io ns
(o r r es po ns e). Be ha vi or is m d is co ve re d a l ot a bo ut r at s a nd p ig eo ns b ut h ad l es s s uc ce ss a t
u nd er st an di ng h um an s .
"COGNITIVE Co gn it iv e p sy ch ol og y , w hi ch v ie ws t he b ra in a s a n i nf or ma ti on-p ro ce ss in g d ev ic e ,"
PSYCHOLOGY
c an b e t ra ce d b ac k a t l ea st t o t he w or ks o f Wi ll ia m Ja me s (1842–1910). He lm ho lt z a ls o
i ns is te d t ha t p er ce pt io n i nv ol ve d a f or m o f u nc on sc io us l og ic al i nf er en ce . Th e c og ni ti ve
"v ie wp oi nt w as la rg el y e cl ip se d b y b eh av io ri sm i n t he Un it ed St at es , b ut a t Ca mb ri dg e’s Ap-"
"p li ed Ps yc ho lo gy Un it , d ir ec te d b y Fr ed er ic Ba rt le tt (1886–1969), c og ni ti ve m od el in g w as"
"a bl e t o f lo ur is h . Th e Na tu re o f Ex pl an at io n , b y Ba rt le tt’s s tu de nt a nd s uc ce ss or Ke nn et h"
"Cr ai k (1943), f or ce fu ll y r ee st ab li sh ed t he l eg it im ac y o f s uc h “m en ta l” t er ms a s b el ie fs a nd"
"g oa ls , a rg ui ng t ha t t he y a re j us t a s s ci en ti fi c a s , s ay , u si ng p re ss ur e a nd t em pe ra tu re t o t al k"
"a bo ut g as es , d es pi te t he ir b ei ng m ad e o f m ol ec ul es t ha t h av e n ei th er . Cr ai k s pe ci fi ed t he"
t hr ee ke ys te ps of ak no wl ed ge-b as ed a ge nt: (1)t he st im ul us mu st be tr an sl at ed in to an in te r-
"n al re pr es en ta ti on , (2)t he re pr es en ta ti on i sm an ip ul at ed b yc og ni ti ve pr oc es se st od er iv en ew"
"i nt er na l r ep re se nt at io ns , a nd (3) t he se a re i n t ur n r et ra ns la te d b ac k i nt o a ct io n . He c le ar ly"
e xp la in ed w hy th is wa sa go od de si gn fo ra na ge nt:
If th eo rg an is mc ar ri es a“s ma ll-s ca le mo de l”o fe xt er na lr ea li ty an do fi ts o wn po ss ib le
"a ct io ns wi th in it sh ea d ,i ti sa bl et ot ry ou tv ar io us al te rn at iv es ,c on cl ud ew hi ch is th eb es t"
"o ft he m ,r ea ct to fu tu re si tu at io ns be fo re th ey ar is e ,u ti li ze th ek no wl ed ge of pa st ev en ts"
"i nd ea li ng wi th t he pr es en ta nd fu tu re ,a nd in e ve ry wa yt or ea ct in a mu ch fu ll er ,s af er ,"
"a nd mo re co mp et en tm an ne rt ot he em er ge nc ie sw hi ch fa ce it . (Cr ai k ,1943)"
"Af te r Cr ai k’s d ea th i na bi cy cl e a cc id en t i n 1945, h is wo rk wa sc on ti nu ed b y Do na ld Br oa d-"
"b en t ,w ho se bo ok Pe rc ep ti on an d Co mm un ic at io n(1958)w as on eo ft he fi rs tw or ks to mo de l"
"p sy ch ol og ic al p he no me na a s i nf or ma ti on p ro ce ss in g . Me an wh il e , i n t he Un it ed St at es , t he"
d ev el op me nt o fc om pu te rm od el in g l ed to th ec re at io n o ft he fi el do fc og ni ti ve s ci en ce . Th e
f ie ld ca nb e s ai dt oh av e s ta rt ed a ta wo rk sh op i n Se pt em be r 1956 a t MIT .(We sh al l s ee t ha t
"t hi si sj us tt wo mo nt hs af te rt he co nf er en ce a tw hi ch AIi ts el fw as“b or n .”) At th ew or ks ho p ,"
"Ge or ge Mi ll er pr es en te d Th e Ma gi c Nu mb er Se ve n ,No am Ch om sk yp re se nt ed Th re e Mo de ls"
"o f La ng ua ge , a nd Al le n Ne we ll a nd He rb er t Si mo n p re se nt ed Th e Lo gi c Th eo ry Ma ch in e ."
Th es e t hr ee i nf lu en ti al p ap er s s ho we d h ow c om pu te r m od el s c ou ld b e u se d t o a dd re ss t he
"p sy ch ol og y o f m em or y , l an gu ag e , a nd l og ic al t hi nk in g , r es pe ct iv el y . It i s n ow a c om mo n"
(a lt ho ug h f ar f ro m u ni ve rs al) v ie w a mo ng p sy ch ol og is ts t ha t “a c og ni ti ve t he or y s ho ul d b e
"l ik ea co mp ut er pr og ra m”(An de rs on ,1980);t ha ti s ,i ts ho ul dd es cr ib ea de ta il ed in fo rm at io n-"
p ro ce ss in g m ec ha ni sm wh er eb ys om ec og ni ti ve fu nc ti on m ig ht be im pl em en te d .
1.2.6 Co mp ut er e ng in ee ri ng
• Ho wc an we bu il da ne ff ic ie nt co mp ut er ?
"Fo r a rt if ic ia l i nt el li ge nc e t o s uc ce ed , w e n ee d t wo t hi ng s: i nt el li ge nc e a nd a n a rt if ac t . Th e"
c om pu te r h as b ee n t he a rt if ac t o f c ho ic e . Th e m od er n d ig it al e le ct ro ni c c om pu te r w as i n-
v en te di nd ep en de nt ly a nd al mo st si mu lt an eo us ly b ys ci en ti st si nt hr ee co un tr ie se mb at tl ed in
14 Ch ap te r 1. In tr od uc ti on
"Wo rl d Wa r II . Th e f ir st o pe ra ti on al c om pu te r w as t he e le ct ro me ch an ic al He at h Ro bi ns on ,8"
b ui lt i n 1940 b y Al an Tu ri ng’s t ea m f or as in gl e p ur po se: d ec ip he ri ng Ge rm an m es sa ge s . In
"1943, t he s am e g ro up d ev el op ed t he Co lo ss us , a p ow er fu l g en er al-p ur po se m ac hi ne b as ed"
"o n v ac uu m t ub es .9 Th e f ir st o pe ra ti on al p ro gr am ma bl e c om pu te r w as t he Z-3, t he i nv en-"
t io no f Ko nr ad Zu se in Ge rm an yi n 1941. Zu se al so in ve nt ed f lo at in g-p oi nt n um be rs a nd th e
"f ir st h ig h-l ev el p ro gr am mi ng l an gu ag e , Pl an ka lk u¨l . Th e f ir st e le ct ro ni c c om pu te r , t he ABC ,"
w as a ss em bl ed b y Jo hn At an as of f a nd h is s tu de nt Cl if fo rd Be rr y b et we en 1940 a nd 1942
a t Io wa St at e Un iv er si ty . At an as of f’s r es ea rc h r ec ei ve d l it tl e s up po rt o r r ec og ni ti on ; i t w as
"t he ENIAC , d ev el op ed a s p ar t o f a s ec re t m il it ar y p ro je ct a t t he Un iv er si ty o f Pe nn sy lv an ia"
"b y a t ea m i nc lu di ng Jo hn Ma uc hl y a nd Jo hn Ec ke rt , t ha t p ro ve d t o b e t he m os t i nf lu en ti al"
f or er un ne ro fm od er nc om pu te rs .
"Si nc et ha tt im e ,e ac hg en er at io no fc om pu te rh ar dw ar eh as br ou gh ta ni nc re as ei ns pe ed"
a nd ca pa ci ty an da de cr ea se in pr ic e . Pe rf or ma nc ed ou bl ed ev er y 18 m on th so rs ou nt il ar ou nd
"2005,w he np ow er di ss ip at io np ro bl em sl ed ma nu fa ct ur er s t o s ta rt mu lt ip ly in gt he nu mb er of"
CPUc or es ra th er th an th ec lo ck sp ee d . Cu rr en te xp ec ta ti on s a re th at fu tu re in cr ea se si np ow er
w il lc om ef ro mm as si ve pa ra ll el is m—a c ur io us c on ve rg en ce w it ht he pr op er ti es o ft he br ai n .
"Of c ou rs e , t he re w er e c al cu la ti ng d ev ic es b ef or e t he e le ct ro ni c c om pu te r . Th e e ar li es t"
"a ut om at ed m ac hi ne s , d at in g f ro m t he 17 t h c en tu ry , w er e d is cu ss ed o n p ag e 6. Th e f ir st p ro-"
"g ra mm ab le m ac hi ne w as a l oo m , d ev is ed i n 1805 b y Jo se ph Ma ri e Ja cq ua rd (1752–1834),"
t ha t u se d p un ch ed c ar ds t o s to re i ns tr uc ti on s f or t he p at te rn t o b e w ov en . In t he m id-19 t h
"c en tu ry , Ch ar le s Ba bb ag e (1792–1871) d es ig ne d t wo m ac hi ne s , n ei th er o f w hi ch h e c om-"
p le te d . Th e Di ff er en ce En gi ne wa si nt en de d t oc om pu te ma th em at ic al t ab le s f or en gi ne er in g
a nd sc ie nt if ic pr oj ec ts . It wa sf in al ly bu il ta nd sh ow nt ow or ki n 1991 a tt he Sc ie nc e Mu se um
"i n Lo nd on(Sw ad e ,2000). Ba bb ag e’s An al yt ic al En gi ne wa sf ar mo re am bi ti ou s: i ti nc lu de d"
"a dd re ss ab le m em or y , s to re d p ro gr am s , a nd co nd it io na l j um ps an d w as th ef ir st ar ti fa ct c ap a-"
"b le o fu ni ve rs al c om pu ta ti on . Ba bb ag e’s c ol le ag ue Ad a Lo ve la ce , d au gh te r o ft he po et Lo rd"
"By ro n ,w as pe rh ap st he wo rl d’s fi rs tp ro gr am me r . (Th ep ro gr am mi ng la ng ua ge Ad ai sn am ed"
a ft er he r .) Sh ew ro te pr og ra ms fo rt he un fi ni sh ed An al yt ic al En gi ne an de ve ns pe cu la te d t ha t
t he ma ch in ec ou ld pl ay ch es so rc om po se mu si c .
"AI a ls o o we s a d eb t t o t he s of tw ar e s id e o f c om pu te r s ci en ce , w hi ch h as s up pl ie d t he"
"o pe ra ti ng sy st em s ,p ro gr am mi ng la ng ua ge s , a nd to ol sn ee de dt ow ri te mo de rn pr og ra ms(a nd"
p ap er s a bo ut th em). Bu tt hi si so ne ar ea wh er et he de bt ha sb ee nr ep ai d: w or ki n AIh as pi o-
"n ee re dm an yi de as th at ha ve ma de th ei rw ay ba ck to ma in st re am c om pu te rs ci en ce ,i nc lu di ng"
"t im e s ha ri ng , i nt er ac ti ve i nt er pr et er s , p er so na l c om pu te rs w it h w in do ws a nd m ic e , r ap id d e-"
"v el op me nt e nv ir on me nt s , t he l in ke d l is t d at a t yp e , a ut om at ic s to ra ge m an ag em en t , a nd k ey"
"c on ce pt s o fs ym bo li c , f un ct io na l , d ec la ra ti ve , a nd ob je ct-o ri en te d p ro gr am mi ng ."
8 He at h Ro bi ns on wa sa ca rt oo ni st fa mo us fo rh is de pi ct io ns of wh im si ca la nd ab su rd ly co mp li ca te dc on tr ap-
t io ns fo re ve ry da yt as ks su ch as bu tt er in gt oa st .
"9 In th ep os tw ar pe ri od , Tu ri ng wa nt ed to us et he se co mp ut er s f or AIr es ea rc h—f or ex am pl e , o ne of th ef ir st"
"c he ss pr og ra ms(Tu ri ng et al .,1953).Hi se ff or ts we re bl oc ke db yt he Br it is hg ov er nm en t ."
Se ct io n 1.2. Th e Fo un da ti on s o f Ar ti fi ci al In te ll ig en ce 15
1.2.7 Co nt ro l t he or y a nd cy be rn et ic s
• Ho wc an ar ti fa ct so pe ra te u nd er th ei ro wn co nt ro l ?
Kt es ib io s o f Al ex an dr ia (c . 250 B .C .) b ui lt t he f ir st s el f-c on tr ol li ng m ac hi ne: a w at er c lo ck
w it h a r eg ul at or t ha t m ai nt ai ne d a c on st an t f lo w r at e . Th is i nv en ti on c ha ng ed t he d ef in it io n
"o f w ha t a n a rt if ac t c ou ld d o . Pr ev io us ly , o nl y l iv in g t hi ng s c ou ld m od if y t he ir b eh av io r i n"
r es po ns e t o c ha ng es i nt he e nv ir on me nt . Ot he re xa mp le s o f s el f-r eg ul at in g f ee db ac k c on tr ol
"s ys te ms i nc lu de t he s te am e ng in e g ov er no r , c re at ed b y Ja me s Wa tt (1736–1819), a nd t he"
"t he rm os ta t , i nv en te d b y Co rn el is Dr eb be l (1572–1633), w ho a ls o i nv en te d t he s ub ma ri ne ."
Th em at he ma ti ca l t he or yo fs ta bl ef ee db ac k s ys te ms wa sd ev el op ed in th e 19 t hc en tu ry .
Th e c en tr al f ig ur e i n t he c re at io n o f w ha t i s n ow c al le d c on tr ol t he or y w as No rb er t
CONTROLTHEORY
Wi en er(1894–1964). Wi en er wa sa br il li an t m at he ma ti ci an w ho wo rk ed wi th Be rt ra nd Ru s-
"s el l ,a mo ng ot he rs ,b ef or ed ev el op in ga ni nt er es ti nb io lo gi ca la nd me ch an ic al co nt ro ls ys te ms"
a nd th ei rc on ne ct io nt oc og ni ti on . Li ke Cr ai k(w ho al so us ed co nt ro ls ys te ms as ps yc ho lo gi ca l
"m od el s), Wi en er a nd h is c ol le ag ue s Ar tu ro Ro se nb lu et h a nd Ju li an Bi ge lo w c ha ll en ge d t he"
"b eh av io ri st o rt ho do xy (Ro se nb lu et h e t a l ., 1943). Th ey v ie we d p ur po si ve b eh av io r a s a ri s-"
i ng fr om ar eg ul at or ym ec ha ni sm tr yi ng to mi ni mi ze“e rr or”—t he di ff er en ce be tw ee nc ur re nt
"s ta te a nd g oa l s ta te . In t he l at e 1940 s , Wi en er , a lo ng w it h Wa rr en Mc Cu ll oc h , Wa lt er Pi tt s ,"
"a nd Jo hn v on Ne um an n , o rg an iz ed a s er ie s o f i nf lu en ti al c on fe re nc es t ha t e xp lo re d t he n ew"
m at he ma ti ca la nd co mp ut at io na l m od el so fc og ni ti on . Wi en er’s bo ok Cy be rn et ic s(1948)b e-
CYBERNETICS
c am e a b es ts el le r a nd a wo ke t he p ub li c t o t he p os si bi li ty o f a rt if ic ia ll y i nt el li ge nt m ac hi ne s .
"Me an wh il e , i n Br it ai n , W . Ro ss As hb y (As hb y , 1940) p io ne er ed s im il ar i de as . As hb y , Al an"
"Tu ri ng , Gr ey Wa lt er , a nd o th er s f or me d t he Ra ti o Cl ub f or “t ho se w ho h ad Wi en er’s i de as"
"b ef or e Wi en er’s b oo ka pp ea re d .” As hb y’s De si gn fo ra Br ai n(1948, 1952)e la bo ra te d o nh is"
i de a t ha t i nt el li ge nc e c ou ld b e c re at ed b y t he u se o f h om eo st at ic d ev ic es c on ta in in g a pp ro-
HOMEOSTATIC
p ri at ef ee db ac k l oo ps to ac hi ev es ta bl ea da pt iv eb eh av io r .
"Mo de rn c on tr ol t he or y , e sp ec ia ll y t he b ra nc h k no wn a s s to ch as ti c o pt im al c on tr ol , h as"
OBJECTIVE a si ts go al th ed es ig no fs ys te ms th at ma xi mi ze an ob je ct iv ef un ct io no ve rt im e . Th is ro ug hl y
FUNCTION
"m at ch es o ur v ie w o f AI: d es ig ni ng s ys te ms t ha t b eh av e o pt im al ly . Wh y , t he n , a re AI a nd"
"c on tr ol t he or y t wo di ff er en t f ie ld s , d es pi te t he c lo se c on ne ct io ns a mo ng t he ir fo un de rs ? Th e"
a ns we r l ie s i n t he c lo se c ou pl in g b et we en t he m at he ma ti ca l t ec hn iq ue s t ha t w er e f am il ia r t o
t he pa rt ic ip an ts an dt he co rr es po nd in g s et so fp ro bl em st ha tw er ee nc om pa ss ed in ea ch wo rl d
"v ie w . Ca lc ul us an dm at ri xa lg eb ra ,t he to ol so fc on tr ol th eo ry ,l en dt he ms el ve st os ys te ms th at"
"a re de sc ri ba bl eb yf ix ed se ts of co nt in uo us va ri ab le s ,w he re as AIw as fo un de di np ar ta sa wa y"
t oe sc ap ef ro mt he th es ep er ce iv ed li mi ta ti on s . Th et oo ls of lo gi ca li nf er en ce an dc om pu ta ti on
"a ll ow ed AIr es ea rc he rs t oc on si de r p ro bl em s s uc ha sl an gu ag e , v is io n , a nd pl an ni ng t ha t f el l"
c om pl et el y o ut si de th ec on tr ol th eo ri st’s p ur vi ew .
1.2.8 Li ng ui st ic s
• Ho wd oe sl an gu ag e r el at et ot ho ug ht ?
"In 1957, B . F . Sk in ne r p ub li sh ed Ve rb al Be ha vi or . Th is w as a c om pr eh en si ve , d et ai le d a c-"
"c ou nt o f t he b eh av io ri st a pp ro ac h t o l an gu ag e l ea rn in g , w ri tt en b y t he f or em os t e xp er t i n"
16 Ch ap te r 1. In tr od uc ti on
"t he f ie ld . Bu t c ur io us ly , a r ev ie w o f t he b oo k b ec am e a s w el l k no wn a s t he b oo k i ts el f , a nd"
s er ve d t o a lm os t k il l o ff i nt er es t i n b eh av io ri sm . Th e a ut ho r o f t he r ev ie w w as t he l in gu is t
"No am Ch om sk y , w ho h ad j us t p ub li sh ed a b oo k o n h is o wn t he or y , Sy nt ac ti c St ru ct ur es ."
Ch om sk y p oi nt ed o ut t ha t t he b eh av io ri st t he or y d id n ot a dd re ss t he n ot io n o f c re at iv it y i n
l an gu ag e—i t d id no te xp la in h ow ac hi ld c ou ld u nd er st an d a nd m ak eu ps en te nc es t ha th eo r
s he ha dn ev er he ar db ef or e . Ch om sk y’s th eo ry—b as ed o ns yn ta ct ic mo de ls go in gb ac kt ot he
"In di an l in gu is t Pa ni ni(c . 350 B .C .)—c ou ld e xp la in t hi s , a nd un li ke p re vi ou s t he or ie s , i tw as"
f or ma le no ug ht ha ti tc ou ld in pr in ci pl e b ep ro gr am me d .
"Mo de rn l in gu is ti cs a nd AI , t he n , w er e “b or n” a t a bo ut t he s am e t im e , a nd g re w u p"
"COMPUTATIONAL t og et he r , i nt er se ct in gi na hy br id fi el dc al le d c om pu ta ti on al li ng ui st ic so rn at ur al la ng ua ge"
LINGUISTICS
p ro ce ss in g . Th ep ro bl em of un de rs ta nd in gl an gu ag es oo nt ur ne do ut to be co ns id er ab ly mo re
c om pl ex t ha n i t s ee me d i n 1957. Un de rs ta nd in g l an gu ag e r eq ui re s a n u nd er st an di ng o f t he
"s ub je ct ma tt er an dc on te xt ,n ot ju st an un de rs ta nd in go ft he st ru ct ur eo fs en te nc es . Th is mi gh t"
"s ee m o bv io us , b ut i t w as n ot w id el y a pp re ci at ed u nt il t he 1960 s . Mu ch o f t he e ar ly w or k i n"
k no wl ed ge r ep re se nt at io n (t he s tu dy o f h ow t o p ut k no wl ed ge i nt o a f or m t ha t a c om pu te r
"c an r ea so n w it h) w as t ie d t o l an gu ag e a nd i nf or me d b y r es ea rc h i n l in gu is ti cs , w hi ch w as"
c on ne ct ed i nt ur nt od ec ad es o fw or ko nt he ph il os op hi ca l a na ly si s o fl an gu ag e .
1.3 THE HISTORY OF ARTIFICIAL INTELLIGENCE
"Wi th th eb ac kg ro un d m at er ia lb eh in du s ,w ea re re ad yt oc ov er t he de ve lo pm en t o f AIi ts el f ."
1.3.1 Th e g es ta ti on of ar ti fi ci al in te ll ig en ce (1943–1955)
Th e f ir st w or k t ha t i s n ow g en er al ly r ec og ni ze d a s AI w as d on e b y Wa rr en Mc Cu ll oc h a nd
Wa lt er Pi tt s (1943). Th ey d re w o n t hr ee s ou rc es: k no wl ed ge o f t he b as ic p hy si ol og y a nd
f un ct io n o f n eu ro ns i n t he b ra in ; a f or ma l a na ly si s o f p ro po si ti on al l og ic d ue t o Ru ss el l a nd
Wh it eh ea d ; a nd Tu ri ng’s th eo ry of co mp ut at io n . Th ey pr op os ed a mo de lo fa rt if ic ia ln eu ro ns
"i nw hi ch ea ch ne ur on is ch ar ac te ri ze d a sb ei ng“o n”o r“o ff ,” w it ha sw it ch to“o n”o cc ur ri ng"
i n r es po ns e t o s ti mu la ti on b y a s uf fi ci en t n um be r o f n ei gh bo ri ng n eu ro ns . Th e s ta te o f a
n eu ro nw as co nc ei ve do fa s“f ac tu al ly eq ui va le nt to ap ro po si ti on wh ic hp ro po se di ts ad eq ua te
"s ti mu lu s .” Th ey s ho we d , f or e xa mp le , t ha t a ny c om pu ta bl e f un ct io n c ou ld b e c om pu te d b y"
"s om e n et wo rk o f c on ne ct ed n eu ro ns , a nd t ha t a ll t he l og ic al c on ne ct iv es (a nd , o r , n ot , e tc .)"
c ou ld b e i mp le me nt ed b y s im pl e n et s tr uc tu re s . Mc Cu ll oc h a nd Pi tt s a ls o s ug ge st ed t ha t
s ui ta bl y d ef in ed n et wo rk s c ou ld l ea rn . Do na ld He bb(1949) d em on st ra te d a si mp le u pd at in g
"r ul ef or mo di fy in g t he co nn ec ti on s tr en gt hs b et we en n eu ro ns . Hi sr ul e , n ow ca ll ed He bb ia n"
"l ea rn in g ,r em ai ns an in fl ue nt ia l m od el to th is da y ."
HEBBIANLEARNING
"Tw ou nd er gr ad ua te s tu de nt s a t Ha rv ar d , Ma rv in Mi ns ky a nd De an Ed mo nd s , b ui lt t he"
"f ir st n eu ra l n et wo rk c om pu te r i n 1950. Th e SNARC , a s i t w as c al le d , u se d 3000 v ac uu m"
t ub es an da su rp lu sa ut om at ic pi lo tm ec ha ni sm fr om a B-24 b om be rt os im ul at ea ne tw or ko f
"40 n eu ro ns . La te r , a t Pr in ce to n , Mi ns ky s tu di ed u ni ve rs al c om pu ta ti on i n n eu ra l n et wo rk s ."
Hi s Ph .D . c om mi tt ee w as s ke pt ic al a bo ut w he th er t hi s k in d o f w or k s ho ul d b e c on si de re d
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 17
"m at he ma ti cs , b ut vo n Ne um an nr ep or te dl y s ai d ,“If it is n’t no w ,i tw il lb es om ed ay .” Mi ns ky"
w as la te rt op ro ve in fl ue nt ia lt he or em ss ho wi ng th el im it at io ns of ne ur al ne tw or kr es ea rc h .
"Th er e w er e a n um be r o f e ar ly e xa mp le s o f w or k t ha t c an b e c ha ra ct er iz ed a s AI , b ut"
Al an Tu ri ng’s v is io n w as pe rh ap s t he mo st in fl ue nt ia l . He ga ve le ct ur es o nt he to pi c a se ar ly
a s 1947 a tt he Lo nd on Ma th em at ic al So ci et ya nd ar ti cu la te d a pe rs ua si ve a ge nd a i nh is 1950
"a rt ic le “Co mp ut in g Ma ch in er y a nd In te ll ig en ce .” Th er ei n , h e i nt ro du ce d t he Tu ri ng Te st ,"
"m ac hi ne l ea rn in g , g en et ic a lg or it hm s , a nd r ei nf or ce me nt l ea rn in g . He p ro po se d t he Ch il d"
"Pr og ra mm ei de a ,e xp la in in g “In st ea do ft ry in gt op ro du ce ap ro gr am me to si mu la te th ea du lt"
"m in d ,w hy no tr at he rt ry to pr od uc e o ne wh ic hs im ul at ed t he ch il d’s ?”"
1.3.2 Th e b ir th o fa rt if ic ia li nt el li ge nc e (1956)
"Pr in ce to n w as h om e t o a no th er i nf lu en ti al f ig ur e i n AI , Jo hn Mc Ca rt hy . Af te r r ec ei vi ng h is"
"Ph D t he re i n 1951 a nd w or ki ng f or t wo y ea rs a s a n i ns tr uc to r , Mc Ca rt hy m ov ed t o St an-"
"f or da nd th en to Da rt mo ut h Co ll eg e ,w hi ch wa st ob ec om et he of fi ci al bi rt hp la ce o ft he fi el d ."
"Mc Ca rt hy c on vi nc ed Mi ns ky , Cl au de Sh an no n , a nd Na th an ie l Ro ch es te r t o h el p h im b ri ng"
"t og et he r U .S . r es ea rc he rs i nt er es te d i n a ut om at a t he or y , n eu ra l n et s , a nd t he s tu dy o f i nt el-"
l ig en ce . Th ey o rg an iz ed a t wo-m on th w or ks ho p a t Da rt mo ut h i n t he s um me r o f 1956. Th e
p ro po sa l s ta te s:10
"We p ro po se t ha t a 2 m on th , 10 m an s tu dy o f a rt if ic ia l i nt el li ge nc e b e c ar ri ed"
"o ut d ur in g t he s um me r o f 1956 a t Da rt mo ut h Co ll eg e i n Ha no ve r , Ne w Ha mp-"
s hi re . Th e s tu dy i s t o p ro ce ed o n t he b as is o f t he c on je ct ur e t ha t e ve ry a sp ec t o f
l ea rn in g o r a ny o th er f ea tu re o f i nt el li ge nc e c an i n p ri nc ip le b e s o p re ci se ly d e-
s cr ib ed th at am ac hi ne ca nb em ad et os im ul at ei t . An at te mp tw il lb em ad et of in d
"h ow to ma ke ma ch in es us el an gu ag e , f or ma bs tr ac ti on s a nd co nc ep ts , s ol ve ki nd s"
"o f p ro bl em s n ow r es er ve d f or h um an s , a nd i mp ro ve t he ms el ve s . We t hi nk t ha t a"
s ig ni fi ca nt a dv an ce c an b e m ad e i n o ne o r m or e o f t he se p ro bl em s i f a c ar ef ul ly
s el ec te dg ro up of sc ie nt is ts w or ko ni tt og et he rf or as um me r .
"Th er e w er e 10 a tt en de es i n a ll , i nc lu di ng Tr en ch ar d Mo re f ro m Pr in ce to n , Ar th ur Sa mu el"
"f ro m IBM ,a nd Ra y So lo mo no ff an d Ol iv er Se lf ri dg ef ro m MIT ."
"Tw o r es ea rc he rs f ro m Ca rn eg ie Te ch ,11 Al le n Ne we ll a nd He rb er t Si mo n , r at he r s to le"
t he s ho w . Al th ou gh t he o th er s h ad i de as a nd i n s om e c as es p ro gr am s f or p ar ti cu la r a pp li-
"c at io ns s uc h a s c he ck er s , Ne we ll a nd Si mo n a lr ea dy h ad a r ea so ni ng p ro gr am , t he Lo gi c"
"Th eo ri st (LT), a bo ut w hi ch Si mo nc la im ed , “We ha ve i nv en te d a co mp ut er pr og ra m c ap ab le"
"o ft hi nk in g n on-n um er ic al ly , a nd th er eb ys ol ve dt he ve ne ra bl e m in d–b od y p ro bl em .”12 So on"
"a ft er th ew or ks ho p ,t he pr og ra mw as ab le to pr ov em os to ft he th eo re ms in Ch ap te r 2 o f Ru s-"
10 Th is wa st he fi rs to ff ic ia lu sa ge of Mc Ca rt hy’s te rm ar ti fi ci al in te ll ig en ce .Pe rh ap s“c om pu ta ti on al ra ti on al it y”
"w ou ld ha ve be en mo re pr ec is ea nd le ss th re at en in g ,b ut“AI”h as st uc k .At th e 50 t ha nn iv er sa ry of th e Da rt mo ut h"
"c on fe re nc e , Mc Ca rt hy st at ed th at he re si st ed th et er ms“c om pu te r”o r“c om pu ta ti on al”i nd ef er en ce to No rb er t"
"We in er ,w ho wa sp ro mo ti ng an al og cy be rn et ic de vi ce sr at he rt ha nd ig it al co mp ut er s ."
11 No w Ca rn eg ie Me ll on Un iv er si ty(CMU).
"12 Ne we ll a nd Si mo n a ls o i nv en te d a l is t-p ro ce ss in g l an gu ag e , IPL , t o w ri te LT . Th ey h ad n o c om pi le r a nd"
"t ra ns la te di ti nt om ac hi ne co de by ha nd . To av oi de rr or s ,t he yw or ke di np ar al le l ,c al li ng ou tb in ar yn um be rs to"
e ac ho th er as th ey wr ot ee ac hi ns tr uc ti on to ma ke su re th ey ag re ed .
18 Ch ap te r 1. In tr od uc ti on
s el l a nd Wh it eh ea d’s Pr in ci pi a Ma th em at ic a . Ru ss el l w as re po rt ed ly d el ig ht ed w he n Si mo n
s ho we dh im th at th ep ro gr am ha dc om eu pw it ha pr oo ff or on et he or em th at wa ss ho rt er th an
t he on ei n Pr in ci pi a . Th ee di to rs o ft he Jo ur na l o f Sy mb ol ic Lo gi cw er el es si mp re ss ed ; t he y
"r ej ec te da pa pe rc oa ut ho re d b y Ne we ll ,Si mo n ,a nd Lo gi c Th eo ri st ."
"Th e Da rt mo ut h w or ks ho p d id n ot l ea d t o a ny n ew b re ak th ro ug hs , b ut i t d id i nt ro du ce"
"a ll t he m aj or f ig ur es t o e ac h o th er . Fo r t he n ex t 20 y ea rs , t he f ie ld w ou ld b e d om in at ed b y"
"t he se pe op le an dt he ir st ud en ts a nd co ll ea gu es a t MIT ,CMU ,St an fo rd , a nd IBM ."
"Lo ok in g a t t he p ro po sa l f or t he Da rt mo ut h w or ks ho p (Mc Ca rt hy e t a l ., 1955), w e c an"
s ee w hy it wa sn ec es sa ry f or AIt o b ec om e a se pa ra te f ie ld . Wh yc ou ld n’t a ll t he w or kd on e
i n AI h av e t ak en p la ce u nd er t he n am e o f c on tr ol t he or y o r o pe ra ti on s r es ea rc h o r d ec is io n
"t he or y , w hi ch , a ft er a ll , h av e o bj ec ti ve s s im il ar t o t ho se o f AI ? Or w hy i sn’t AI a b ra nc h"
o f m at he ma ti cs ? Th e f ir st a ns we r i s t ha t AI f ro m t he s ta rt e mb ra ce d t he i de a o f d up li ca ti ng
"h um an f ac ul ti es s uc h a s c re at iv it y , s el f-i mp ro ve me nt , a nd l an gu ag e u se . No ne o f t he o th er"
f ie ld s w er e a dd re ss in g t he se i ss ue s . Th e s ec on d a ns we r i s m et ho do lo gy . AI i s t he o nl y o ne
o ft he se fi el ds th at is cl ea rl ya br an ch of co mp ut er sc ie nc e(a lt ho ug ho pe ra ti on sr es ea rc hd oe s
"s ha re a n e mp ha si s o n c om pu te r s im ul at io ns), a nd AI i s t he o nl y f ie ld t o a tt em pt t o b ui ld"
"m ac hi ne st ha tw il lf un ct io n a ut on om ou sl y i nc om pl ex , c ha ng in g e nv ir on me nt s ."
"1.3.3 Ea rl y e nt hu si as m , g re at e xp ec ta ti on s (1952–1969)"
Th ee ar ly y ea rs of AIw er ef ul lo fs uc ce ss es—i n a li mi te dw ay . Gi ve nt he pr im it iv e c om pu t-
e rs a nd p ro gr am mi ng t oo ls o f t he t im e a nd t he f ac t t ha t o nl y a f ew y ea rs e ar li er c om pu te rs
"w er es ee na st hi ng st ha tc ou ld do ar it hm et ic an dn om or e ,i tw as as to ni sh in gw he ne ve ra co m-"
"p ut er di da ny th in g r em ot el y c le ve r . Th ei nt el le ct ua l e st ab li sh me nt , b ya nd la rg e , p re fe rr ed t o"
b el ie ve t ha t “a m ac hi ne c an n ev er d o X .” (Se e Ch ap te r 26 f or a l on g l is t o f X’s g at he re d
b y Tu ri ng .) AI r es ea rc he rs n at ur al ly r es po nd ed b y d em on st ra ti ng o ne X a ft er a no th er . Jo hn
"Mc Ca rt hy re fe rr ed to th is pe ri od as th e“Lo ok ,Ma ,n oh an ds !” e ra ."
"Ne we ll a nd Si mo n’s e ar ly s uc ce ss w as f ol lo we d u p w it h t he Ge ne ra l Pr ob le m So lv er ,"
"o r GPS . Un li ke Lo gi c Th eo ri st , t hi s p ro gr am w as d es ig ne d f ro m t he s ta rt t o i mi ta te h um an"
"p ro bl em-s ol vi ng p ro to co ls . Wi th in t he l im it ed c la ss o f p uz zl es i t c ou ld h an dl e , i t t ur ne d o ut"
t ha t t he o rd er i n w hi ch t he p ro gr am c on si de re d s ub go al s a nd p os si bl e a ct io ns w as s im il ar to
"t ha ti nw hi ch hu ma ns ap pr oa ch ed t he sa me pr ob le ms . Th us , GPS w as pr ob ab ly t he fi rs tp ro-"
g ra mt oe mb od yt he“t hi nk in gh um an ly”a pp ro ac h . Th es uc ce ss o f GPS a nd su bs eq ue nt pr o-
g ra ms as mo de ls of co gn it io nl ed Ne we ll an d Si mo n(1976)t of or mu la te th ef am ou sp hy si ca l
"PHYSICALSYMBOL s ym bo ls ys te mh yp ot he si s ,w hi ch st at es th at“a ph ys ic al sy mb ol sy st em ha st he ne ce ss ar ya nd"
SYSTEM
s uf fi ci en t m ea ns f or ge ne ra l i nt el li ge nt a ct io n .” Wh at t he y m ea nt i s t ha t a ny s ys te m (h um an
o r m ac hi ne) e xh ib it in g i nt el li ge nc e m us t o pe ra te b y m an ip ul at in g d at a s tr uc tu re s c om po se d
o fs ym bo ls . We wi ll se el at er th at th is hy po th es is h as be en ch al le ng ed f ro mm an yd ir ec ti on s .
"At IBM , Na th an ie l Ro ch es te r a nd h is c ol le ag ue s p ro du ce d s om e o f t he f ir st AI p ro-"
"g ra ms . He rb er t Ge le rn te r (1959) c on st ru ct ed t he Ge om et ry Th eo re m Pr ov er , w hi ch w as"
a bl e t o p ro ve t he or em s t ha t m an y s tu de nt s o f m at he ma ti cs w ou ld f in d q ui te t ri ck y . St ar ti ng
"i n 1952, Ar th ur Sa mu el w ro te a s er ie s o f p ro gr am s f or c he ck er s (d ra ug ht s) t ha t e ve nt ua ll y"
"l ea rn ed t op la y a ta st ro ng a ma te ur le ve l . Al on g t he wa y , h e d is pr ov ed t he id ea t ha t c om pu t-"
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 19
e rs ca nd oo nl yw ha tt he ya re to ld to: h is pr og ra m q ui ck ly l ea rn ed t op la ya be tt er ga me th an
"i ts cr ea to r . Th ep ro gr am w as de mo ns tr at ed o nt el ev is io n i n Fe br ua ry 1956, c re at in g a st ro ng"
"i mp re ss io n . Li ke Tu ri ng , Sa mu el h ad t ro ub le f in di ng c om pu te r t im e . Wo rk in g a t n ig ht , h e"
u se d m ac hi ne s t ha t w er e s ti ll o n t he t es ti ng f lo or a t IBM’s m an uf ac tu ri ng p la nt . Ch ap te r 5
"c ov er sg am ep la yi ng , a nd Ch ap te r 21 e xp la in st he le ar ni ng t ec hn iq ue s u se db y Sa mu el ."
Jo hn Mc Ca rt hy m ov ed fr om Da rt mo ut h t o MITa nd t he re m ad et hr ee c ru ci al c on tr ib u-
"t io ns in on eh is to ri cy ea r: 1958. In MITAILa b Me mo No .1,Mc Ca rt hy de fi ne dt he hi gh-l ev el"
"l an gu ag e Li sp ,w hi ch wa st ob ec om et he do mi na nt AIp ro gr am mi ng la ng ua ge fo rt he ne xt 30"
LISP
"y ea rs . Wi th Li sp ,Mc Ca rt hy ha dt he to ol he ne ed ed , b ut ac ce ss t os ca rc ea nd ex pe ns iv ec om-"
"p ut in gr es ou rc es wa sa ls oa se ri ou sp ro bl em . In re sp on se , h e a nd ot he rs at MITi nv en te dt im e"
"s ha ri ng . Al so i n 1958, Mc Ca rt hy p ub li sh ed a p ap er e nt it le d Pr og ra ms w it h Co mm on Se ns e ,"
"i n w hi ch h e d es cr ib ed t he Ad vi ce Ta ke r , a hy po th et ic al p ro gr am t ha t c an b e s ee n a s t he f ir st"
"c om pl et e AI s ys te m . Li ke t he Lo gi c Th eo ri st a nd Ge om et ry Th eo re m Pr ov er , Mc Ca rt hy’s"
p ro gr am w as d es ig ne d t o u se k no wl ed ge t o s ea rc h f or so lu ti on s t o p ro bl em s . Bu t u nl ik e t he
"o th er s , i t w as t o e mb od y g en er al k no wl ed ge o f t he w or ld . Fo r e xa mp le , h e s ho we d h ow"
s om es im pl ea xi om sw ou ld en ab le th ep ro gr am t og en er at e a pl an to dr iv et ot he ai rp or t . Th e
"p ro gr am w as al so d es ig ne d t oa cc ep t n ew a xi om s i nt he n or ma l c ou rs e o fo pe ra ti on , t he re by"
a ll ow in g i t t o a ch ie ve c om pe te nc e i n n ew a re as w it ho ut b ei ng r ep ro gr am me d . Th e Ad vi ce
Ta ke r t hu s e mb od ie d t he c en tr al p ri nc ip le s o f k no wl ed ge r ep re se nt at io n a nd r ea so ni ng: t ha t
"i t i s u se fu l t o h av e a f or ma l , e xp li ci t r ep re se nt at io n o f t he w or ld a nd i ts w or ki ng s a nd t o b e"
a bl e t o m an ip ul at e t ha t r ep re se nt at io n w it h d ed uc ti ve p ro ce ss es . It i s r em ar ka bl e h ow m uc h
o ft he 1958 p ap er re ma in sr el ev an tt od ay .
1958 a ls om ar ke dt he ye ar th at Ma rv in Mi ns ky mo ve dt o MIT .Hi si ni ti al co ll ab or at io n
"w it h Mc Ca rt hy di dn ot la st ,h ow ev er . Mc Ca rt hy st re ss ed re pr es en ta ti on a nd re as on in g i nf or-"
"m al l og ic , w he re as Mi ns ky w as m or e i nt er es te d i n g et ti ng p ro gr am s t o w or k a nd e ve nt ua ll y"
"d ev el op ed a n a nt i-l og ic o ut lo ok . In 1963, Mc Ca rt hy s ta rt ed t he AIl ab a t St an fo rd . Hi sp la n"
t o u se l og ic t o b ui ld t he u lt im at e Ad vi ce Ta ke r w as a dv an ce d b y J . A . Ro bi ns on’s d is co v-
e ry i n 1965 o f t he r es ol ut io n m et ho d (a c om pl et e t he or em-p ro vi ng a lg or it hm f or f ir st-o rd er
l og ic ; s ee Ch ap te r 9). Wo rk a t St an fo rd e mp ha si ze d g en er al-p ur po se m et ho ds f or l og ic al
r ea so ni ng . Ap pl ic at io ns o f l og ic i nc lu de d Co rd el l Gr ee n’s q ue st io n-a ns we ri ng a nd p la nn in g
"s ys te ms (Gr ee n , 1969 b) a nd t he Sh ak ey r ob ot ic s p ro je ct a t t he St an fo rd Re se ar ch In st it ut e"
"(SRI). Th e l at te r p ro je ct , d is cu ss ed f ur th er i n Ch ap te r 25, w as t he f ir st t o d em on st ra te t he"
c om pl et ei nt eg ra ti on o fl og ic al re as on in g a nd ph ys ic al ac ti vi ty .
Mi ns ky s up er vi se d a s er ie s o f s tu de nt s w ho c ho se l im it ed p ro bl em s t ha t a pp ea re d t o
r eq ui re i nt el li ge nc e t os ol ve . Th es el im it ed d om ai ns b ec am e k no wn a sm ic ro wo rl ds . Ja me s
MICROWORLD
Sl ag le’s SAINT p ro gr am (1963) w as ab le t os ol ve cl os ed-f or m c al cu lu s i nt eg ra ti on p ro bl em s
t yp ic al o f f ir st-y ea r c ol le ge c ou rs es . To m Ev an s’s ANALOGY p ro gr am (1968) s ol ve d g eo-
m et ri ca na lo gy pr ob le ms th at ap pe ar in IQt es ts . Da ni el Bo br ow’s STUDENT p ro gr am(1967)
"s ol ve da lg eb ra st or yp ro bl em s ,s uc ha st he fo ll ow in g:"
If t he n um be r o f c us to me rs To m g et s i s t wi ce t he s qu ar e o f 20 p er ce nt o f t he n um be r
"o f a dv er ti se me nt sh e r un s , a nd t he n um be ro f a dv er ti se me nt s h e r un s i s 45, w ha t i s t he"
n um be ro fc us to me rs To mg et s ?
20 Ch ap te r 1. In tr od uc ti on
Bl ue
Re d
Re d Gr ee n
Bl ue
Gr ee n
Gr ee n
Re d
"Fi gu re 1.4 As ce ne fr om th eb lo ck sw or ld . SHRDLU(Wi no gr ad ,1972)h as ju st co mp le te d"
t he co mm an d“Fi nd ab lo ck wh ic hi st al le rt ha nt he on ey ou ar eh ol di ng an dp ut it in th eb ox .”
"Th e m os t f am ou s m ic ro wo rl d w as t he b lo ck s w or ld , w hi ch c on si st s o f a s et o f s ol id b lo ck s"
"p la ce d o n a t ab le to p (o r m or e o ft en , a s im ul at io n o f a t ab le to p), a s s ho wn i n Fi gu re 1.4."
"A t yp ic al t as k i n t hi s w or ld i s t o r ea rr an ge t he b lo ck s i n a c er ta in w ay , u si ng a r ob ot h an d"
t ha t c an p ic k u p o ne b lo ck a t a t im e . Th e b lo ck s w or ld w as h om e t o t he v is io n p ro je ct o f
"Da vi d Hu ff ma n (1971), t he v is io n a nd c on st ra in t-p ro pa ga ti on w or k o f Da vi d Wa lt z (1975),"
"t he l ea rn in g t he or y o f Pa tr ic k Wi ns to n (1970), t he n at ur al-l an gu ag e-u nd er st an di ng p ro gr am"
"o f Te rr y Wi no gr ad(1972), a nd th ep la nn er of Sc ot t Fa hl ma n(1974)."
Ea rl y w or k b ui ld in g o n t he n eu ra l n et wo rk s o f Mc Cu ll oc h a nd Pi tt s a ls o f lo ur is he d .
Th e w or k o f Wi no gr ad a nd Co wa n (1963) s ho we d h ow a l ar ge n um be r o f e le me nt s c ou ld
"c ol le ct iv el y r ep re se nt a ni nd iv id ua l c on ce pt , w it ha co rr es po nd in g i nc re as ei nr ob us tn es s a nd"
"p ar al le li sm . He bb’s l ea rn in g m et ho ds w er e e nh an ce d b y Be rn ie Wi dr ow (Wi dr ow a nd Ho ff ,"
"1960; Wi dr ow , 1962), w ho c al le d h is n et wo rk s a da li ne s , a nd b y Fr an k Ro se nb la tt (1962)"
"w it h h is p er ce pt ro ns . Th e p er ce pt ro n c on ve rg en ce t he or em (Bl oc k e t a l ., 1962) s ay s t ha t"
t he le ar ni ng al go ri th mc an ad ju st th ec on ne ct io n s tr en gt hs o fa pe rc ep tr on to ma tc ha ny in pu t
"d at a ,p ro vi de ds uc ha ma tc he xi st s . Th es et op ic sa re co ve re d i n Ch ap te r 20."
1.3.4 A d os eo fr ea li ty(1966–1973)
"Fr om t he b eg in ni ng , AI r es ea rc he rs w er e n ot s hy a bo ut m ak in g p re di ct io ns o f t he ir c om in g"
s uc ce ss es . Th ef ol lo wi ng st at em en t b y He rb er t Si mo ni n 1957 i so ft en qu ot ed:
It is no tm ya im to su rp ri se or sh oc ky ou—b ut th es im pl es tw ay Ic an su mm ar iz ei st os ay
"t ha tt he re ar en ow in th ew or ld ma ch in es th at th in k ,t ha tl ea rn an dt ha tc re at e . Mo re ov er ,"
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 21
t he ir ab il it yt od ot he se th in gs is go in gt oi nc re as er ap id ly un ti l—i na vi si bl ef ut ur e—t he
r an ge of pr ob le ms th ey ca nh an dl ew il lb ec oe xt en si ve wi th th er an ge to wh ic ht he hu ma n
m in dh as be en ap pl ie d .
"Te rm s s uc h a s “v is ib le f ut ur e” c an b e i nt er pr et ed i n v ar io us w ay s , b ut Si mo n a ls o m ad e"
"m or e c on cr et e p re di ct io ns: t ha t w it hi n 10 y ea rs a c om pu te r w ou ld b e c he ss c ha mp io n , a nd"
a s ig ni fi ca nt m at he ma ti ca l t he or em w ou ld b e p ro ve d b y m ac hi ne . Th es e p re di ct io ns c am e
t ru e(o ra pp ro xi ma te ly t ru e)w it hi n 40 y ea rs ra th er th an 10. Si mo n’s ov er co nf id en ce w as du e
"t o t he p ro mi si ng p er fo rm an ce o f e ar ly AI s ys te ms o n s im pl e e xa mp le s . In a lm os t a ll c as es ,"
"h ow ev er , t he se e ar ly s ys te ms t ur ne d o ut t o f ai l m is er ab ly w he n t ri ed o ut o nw id er se le ct io ns"
o fp ro bl em s a nd on mo re di ff ic ul tp ro bl em s .
Th e f ir st k in d o f d if fi cu lt y a ro se b ec au se m os t e ar ly p ro gr am s k ne w n ot hi ng o f t he ir
s ub je ct m at te r ; t he y s uc ce ed ed b y m ea ns o f s im pl e s yn ta ct ic m an ip ul at io ns . A t yp ic al s to ry
"o cc ur re d i ne ar ly ma ch in et ra ns la ti on e ff or ts , w hi ch we re ge ne ro us ly f un de db yt he U .S .Na-"
t io na l Re se ar ch Co un ci li na na tt em pt to sp ee du pt he tr an sl at io n o f Ru ss ia ns ci en ti fi cp ap er s
i nt he wa ke of th e Sp ut ni kl au nc hi n 1957. It wa st ho ug ht in it ia ll yt ha ts im pl es yn ta ct ic tr an s-
"f or ma ti on s b as ed o n t he g ra mm ar s o f Ru ss ia n a nd En gl is h , a nd w or d r ep la ce me nt f ro m a n"
"e le ct ro ni c d ic ti on ar y , w ou ld s uf fi ce t o p re se rv e t he e xa ct m ea ni ng s o f s en te nc es . Th e f ac t i s"
t ha t a cc ur at e t ra ns la ti on r eq ui re s b ac kg ro un d k no wl ed ge i n o rd er t o r es ol ve a mb ig ui ty a nd
e st ab li sh t he c on te nt o f t he s en te nc e . Th e f am ou s r et ra ns la ti on o f “t he s pi ri t i s w il li ng b ut
t he f le sh is we ak” a s“t he v od ka i sg oo d b ut t he me at i sr ot te n” i ll us tr at es t he d if fi cu lt ie s e n-
"c ou nt er ed . In 1966,a re po rt by an ad vi so ry co mm it te ef ou nd th at“t he re ha sb ee nn om ac hi ne"
"t ra ns la ti on of ge ne ra ls ci en ti fi ct ex t ,a nd no ne is in im me di at ep ro sp ec t .” Al l U .S .g ov er nm en t"
"f un di ng fo ra ca de mi ct ra ns la ti on p ro je ct sw as ca nc el ed . To da y ,m ac hi ne tr an sl at io n i sa ni m-"
"p er fe ct bu tw id el yu se dt oo lf or te ch ni ca l , c om me rc ia l , g ov er nm en t , a nd In te rn et do cu me nt s ."
Th es ec on dk in do fd if fi cu lt yw as th ei nt ra ct ab il it yo fm an yo ft he pr ob le ms th at AIw as
a tt em pt in g t o s ol ve . Mo st o f t he e ar ly AI p ro gr am s s ol ve d p ro bl em s b y t ry in g o ut d if fe re nt
c om bi na ti on s o f s te ps u nt il t he s ol ut io n w as f ou nd . Th is s tr at eg y w or ke d i ni ti al ly b ec au se
m ic ro wo rl ds c on ta in ed v er y f ew o bj ec ts a nd h en ce v er y f ew p os si bl e a ct io ns a nd v er y s ho rt
"s ol ut io n s eq ue nc es . Be fo re t he t he or y o f c om pu ta ti on al c om pl ex it y w as d ev el op ed , i t w as"
w id el y t ho ug ht t ha t “s ca li ng u p” t o l ar ge r p ro bl em s w as s im pl y a m at te r o f f as te r h ar dw ar e
a nd la rg er me mo ri es . Th eo pt im is mt ha ta cc om pa ni ed th ed ev el op me nt of re so lu ti on th eo re m
"p ro vi ng ,f or ex am pl e ,w as so on da mp en ed wh en re se ar ch er s f ai le dt op ro ve th eo re ms in vo lv-"
i ng mo re th an af ew do ze nf ac ts . Th ef ac tt ha ta pr og ra mc an fi nd as ol ut io ni np ri nc ip le do es
n ot me an th at th ep ro gr am co nt ai ns a ny of th em ec ha ni sm sn ee de dt of in di ti np ra ct ic e .
Th e i ll us io n o f u nl im it ed c om pu ta ti on al p ow er w as n ot c on fi ne d t o p ro bl em-s ol vi ng
p ro gr am s . Ea rl ye xp er im en ts i n m ac hi ne ev ol ut io n(n ow ca ll ed ge ne ti ca lg or it hm s)(Fr ie d-
MACHINEEVOLUTION
"GENETIC b er g , 1958; Fr ie db er g e t a l ., 1959) w er e b as ed o n t he u nd ou bt ed ly c or re ct b el ie f t ha t b y"
ALGORITHM
"m ak in g a n a pp ro pr ia te s er ie s o f s ma ll m ut at io ns t o a m ac hi ne-c od e p ro gr am , o ne c an g en-"
"e ra te a p ro gr am w it h g oo d p er fo rm an ce f or a ny p ar ti cu la r t as k . Th e i de a , t he n , w as t o t ry"
r an do m m ut at io ns w it h a s el ec ti on p ro ce ss t o p re se rv e m ut at io ns t ha t s ee me d u se fu l . De-
"s pi te th ou sa nd so fh ou rs of CPUt im e ,a lm os tn op ro gr es sw as de mo ns tr at ed . Mo de rn ge ne ti c"
a lg or it hm s u se be tt er re pr es en ta ti on s a nd ha ve sh ow nm or es uc ce ss .
22 Ch ap te r 1. In tr od uc ti on
Fa il ur e t o c om e t o g ri ps w it h t he “c om bi na to ri al e xp lo si on” w as o ne o f t he m ai n c ri ti-
"c is ms of AIc on ta in ed in th e Li gh th il lr ep or t(Li gh th il l ,1973),w hi ch fo rm ed th eb as is fo rt he"
d ec is io n b yt he Br it is hg ov er nm en t t oe nd su pp or t f or AIr es ea rc h i na ll bu tt wo un iv er si ti es .
"(Or al tr ad it io np ai nt sa so me wh at di ff er en ta nd mo re co lo rf ul pi ct ur e ,w it hp ol it ic al am bi ti on s"
a nd pe rs on al a ni mo si ti es w ho se de sc ri pt io n i sb es id et he po in t .)
At hi rd di ff ic ul ty ar os eb ec au se of so me fu nd am en ta ll im it at io ns on th eb as ic st ru ct ur es
"b ei ng u se d t og en er at e i nt el li ge nt b eh av io r . Fo re xa mp le , Mi ns ky a nd Pa pe rt’s b oo k Pe rc ep-"
"t ro ns (1969) p ro ve d t ha t , a lt ho ug h p er ce pt ro ns (a s im pl e f or m o f n eu ra l n et wo rk) c ou ld b e"
"s ho wn to le ar na ny th in gt he yw er ec ap ab le of re pr es en ti ng , t he yc ou ld re pr es en tv er yl it tl e . In"
"p ar ti cu la r ,a tw o-i np ut pe rc ep tr on(r es tr ic te dt ob es im pl er th an th ef or m Ro se nb la tt or ig in al ly"
s tu di ed) c ou ld no tb et ra in ed t or ec og ni ze w he ni ts tw oi np ut s w er ed if fe re nt . Al th ou gh th ei r
"r es ul ts d id n ot a pp ly t o m or e c om pl ex , m ul ti la ye r n et wo rk s , r es ea rc h f un di ng f or n eu ra l-n et"
"r es ea rc h s oo n d wi nd le d t o a lm os t n ot hi ng . Ir on ic al ly , t he n ew ba ck-p ro pa ga ti on l ea rn in g a l-"
g or it hm s f or m ul ti la ye r n et wo rk s t ha t w er e t o c au se a n e no rm ou s r es ur ge nc e i n n eu ra l-n et
"r es ea rc h i nt he la te 1980 s we re ac tu al ly d is co ve re df ir st in 1969(Br ys on an d Ho ,1969)."
1.3.5 Kn ow le dg e-b as ed s ys te ms: Th e k ey t o p ow er ? (1969–1979)
Th e p ic tu re o f p ro bl em s ol vi ng t ha t h ad a ri se n d ur in g t he f ir st d ec ad e o f AI r es ea rc h w as o f
a g en er al-p ur po se s ea rc h m ec ha ni sm t ry in g t o s tr in g t og et he r e le me nt ar y r ea so ni ng s te ps t o
"f in dc om pl et es ol ut io ns . Su ch ap pr oa ch es ha ve be en ca ll ed we ak me th od sb ec au se ,a lt ho ug h"
WEAKMETHOD
"g en er al , t he y d o n ot s ca le u p t ol ar ge o rd if fi cu lt p ro bl em i ns ta nc es . Th ea lt er na ti ve t o w ea k"
"m et ho ds i s t o u se m or e p ow er fu l , d om ai n-s pe ci fi c k no wl ed ge t ha t a ll ow s l ar ge r r ea so ni ng"
s te ps an dc an mo re ea si ly ha nd le t yp ic al ly o cc ur ri ng c as es in na rr ow ar ea s o fe xp er ti se . On e
"m ig ht sa yt ha tt os ol ve ah ar dp ro bl em ,y ou ha ve to al mo st kn ow t he an sw er al re ad y ."
"Th e DENDRALp ro gr am(Bu ch an an et al .,1969)w as an ea rl ye xa mp le of th is ap pr oa ch ."
"It w as d ev el op ed a t St an fo rd , w he re Ed Fe ig en ba um (a f or me r s tu de nt o f He rb er t Si mo n),"
"Br uc e Bu ch an an (a p hi lo so ph er t ur ne d c om pu te r s ci en ti st), a nd Jo sh ua Le de rb er g (a No be l"
l au re at e g en et ic is t) t ea me du pt os ol ve th ep ro bl em o fi nf er ri ng m ol ec ul ar st ru ct ur e f ro m t he
i nf or ma ti on p ro vi de d b y a m as s s pe ct ro me te r . Th e i np ut t o t he p ro gr am c on si st s o f t he e le-
"m en ta ry fo rm ul ao ft he mo le cu le(e .g .,C H NO )a nd th em as ss pe ct ru mg iv in gt he ma ss es"
6 13 2
o ft he va ri ou sf ra gm en ts of th em ol ec ul eg en er at ed wh en it is bo mb ar de db ya ne le ct ro nb ea m .
"Fo re xa mp le , t he ma ss sp ec tr um m ig ht co nt ai n a pe ak at m = 15,c or re sp on di ng t ot he ma ss"
o fa me th yl(CH )f ra gm en t .
3
Th e n ai ve v er si on o f t he p ro gr am g en er at ed a ll p os si bl e s tr uc tu re s c on si st en t w it h t he
"f or mu la ,a nd th en pr ed ic te dw ha tm as ss pe ct ru mw ou ld be ob se rv ed fo re ac h ,c om pa ri ng th is"
"w it h t he a ct ua l s pe ct ru m . As o ne m ig ht e xp ec t , t hi s i s i nt ra ct ab le f or e ve n m od er at e-s iz ed"
m ol ec ul es . Th e DENDRAL r es ea rc he rs c on su lt ed a na ly ti ca l c he mi st s a nd f ou nd t ha t t he y
w or ke db yl oo ki ng fo rw el l-k no wn pa tt er ns of pe ak si nt he sp ec tr um th at su gg es te d c om mo n
"s ub st ru ct ur es i nt he m ol ec ul e . Fo re xa mp le , t he f ol lo wi ng r ul e i su se d t or ec og ni ze a ke to ne"
(C=O)s ub gr ou p (w hi ch we ig hs 28):
i ft he re ar et wo pe ak sa tx a nd x s uc ht ha t
1 2
(a)x +x =M +28(M i st he ma ss of th ew ho le mo le cu le);
1 2
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 23
(b)x −28 i sa hi gh pe ak ;
1
(c)x −28 i sa hi gh pe ak ;
2
(d)At le as to ne of x a nd x i sh ig h .
1 2
t he nt he re is ak et on es ub gr ou p
Re co gn iz in g t ha tt he m ol ec ul e c on ta in s a pa rt ic ul ar s ub st ru ct ur e r ed uc es t he nu mb er of po s-
s ib le ca nd id at es e no rm ou sl y . DENDRAL w as po we rf ul be ca us e
Al lt he re le va nt th eo re ti ca lk no wl ed ge to so lv et he se pr ob le ms ha sb ee nm ap pe do ve rf ro m
i ts g en er al f or m i n t he [s pe ct ru m p re di ct io n c om po ne nt] (“f ir st p ri nc ip le s”) t o e ff ic ie nt
"s pe ci al fo rm s(“c oo kb oo kr ec ip es”). (Fe ig en ba um et al .,1971)"
Th e s ig ni fi ca nc e o f DENDRAL w as t ha t i t w as t he f ir st s uc ce ss fu l k no wl ed ge-i nt en si ve s ys-
t em: i ts e xp er ti se d er iv ed f ro m l ar ge n um be rs o f s pe ci al-p ur po se r ul es . La te r s ys te ms a ls o
i nc or po ra te d t he ma in th em eo f Mc Ca rt hy’s Ad vi ce Ta ke ra pp ro ac h—t he c le an se pa ra ti on o f
t he kn ow le dg e(i nt he fo rm of ru le s)f ro mt he re as on in g c om po ne nt .
"Wi th t hi s l es so n i n m in d , Fe ig en ba um a nd o th er s a t St an fo rd b eg an t he He ur is ti c Pr o-"
g ra mm in g Pr oj ec t (HPP) t o i nv es ti ga te t he e xt en t t o w hi ch t he n ew m et ho do lo gy o f e xp er t
s ys te ms c ou ld b e a pp li ed t o o th er a re as o f h um an e xp er ti se . Th e n ex t m aj or e ff or t w as i n
EXPERTSYSTEMS
"t he ar ea of me di ca l d ia gn os is . Fe ig en ba um , Bu ch an an , a nd Dr .Ed wa rd Sh or tl if fe d ev el op ed"
"MYCIN t o d ia gn os e b lo od i nf ec ti on s . Wi th a bo ut 450 r ul es , MYCIN w as a bl e t o p er fo rm"
"a s w el l a s s om e e xp er ts , a nd c on si de ra bl y b et te r t ha n j un io r d oc to rs . It a ls o c on ta in ed t wo"
"m aj or d if fe re nc es f ro m DENDRAL . Fi rs t , u nl ik e t he DENDRAL r ul es , n o g en er al t he or et ic al"
m od el ex is te df ro mw hi ch th e MYCIN r ul es co ul db ed ed uc ed . Th ey ha dt ob ea cq ui re df ro m
"e xt en si ve i nt er vi ew in g o f e xp er ts , w ho i n t ur n a cq ui re d t he m f ro m t ex tb oo ks , o th er e xp er ts ,"
"a nd di re ct ex pe ri en ce of ca se s . Se co nd ,t he ru le sh ad to re fl ec tt he un ce rt ai nt ya ss oc ia te dw it h"
CERTAINTYFACTOR
m ed ic al k no wl ed ge . MYCIN i nc or po ra te d a ca lc ul us o f u nc er ta in ty c al le d c er ta in ty f ac to rs
"(s ee Ch ap te r 14),w hi ch se em ed(a tt he ti me)t of it we ll wi th ho wd oc to rs as se ss ed th ei mp ac t"
o fe vi de nc e o nt he di ag no si s .
Th e i mp or ta nc e o f d om ai n k no wl ed ge w as a ls o a pp ar en t i n t he a re a o f u nd er st an di ng
n at ur al l an gu ag e . Al th ou gh Wi no gr ad’s SHRDLU s ys te m f or un de rs ta nd in g n at ur al l an gu ag e
"h ad en ge nd er ed a go od de al of ex ci te me nt ,i ts de pe nd en ce o ns yn ta ct ic an al ys is ca us ed so me"
o f t he s am e p ro bl em s a s o cc ur re d i n t he e ar ly m ac hi ne t ra ns la ti on w or k . It w as a bl e t o
"o ve rc om e a mb ig ui ty a nd u nd er st an d p ro no un r ef er en ce s , b ut t hi s w as ma in ly b ec au se i tw as"
"d es ig ne d s pe ci fi ca ll y f or on ea re a—t he b lo ck s w or ld . Se ve ra l r es ea rc he rs , i nc lu di ng Eu ge ne"
"Ch ar ni ak , a f el lo w g ra du at e s tu de nt o f Wi no gr ad’s a t MIT , s ug ge st ed t ha t r ob us t l an gu ag e"
u nd er st an di ng w ou ld r eq ui re g en er al k no wl ed ge a bo ut t he w or ld a nd a g en er al m et ho d f or
u si ng th at kn ow le dg e .
"At Ya le , l in gu is t-t ur ne d-AI-r es ea rc he r Ro ge r Sc ha nk e mp ha si ze d t hi s p oi nt , c la im in g ,"
"“Th er ei sn os uc ht hi ng as sy nt ax ,”w hi ch up se ta lo to fl in gu is ts bu td id se rv et os ta rt au se fu l"
"d is cu ss io n . Sc ha nk a nd h is s tu de nt s b ui lt a s er ie s o f p ro gr am s (Sc ha nk a nd Ab el so n , 1977;"
"Wi le ns ky , 1978; Sc ha nk a nd Ri es be ck , 1981; Dy er , 1983) t ha t a ll h ad t he t as k o f u nd er-"
"s ta nd in g n at ur al la ng ua ge . Th ee mp ha si s , h ow ev er ,w as le ss o nl an gu ag e p er se an dm or eo n"
t he pr ob le ms of re pr es en ti ng a nd re as on in g w it ht he kn ow le dg er eq ui re df or la ng ua ge un de r-
"s ta nd in g . Th e p ro bl em s i nc lu de d r ep re se nt in g s te re ot yp ic al s it ua ti on s (Cu ll in gf or d , 1981),"
24 Ch ap te r 1. In tr od uc ti on
"d es cr ib in g h um an m em or y o rg an iz at io n (Ri eg er , 1976; Ko lo dn er , 1983), a nd u nd er st an di ng"
"p la ns an dg oa ls(Wi le ns ky , 1983)."
Th ew id es pr ea d g ro wt ho f a pp li ca ti on s t or ea l-w or ld p ro bl em s c au se d a co nc ur re nt i n-
c re as e i n t he d em an ds f or w or ka bl e k no wl ed ge r ep re se nt at io n s ch em es . A l ar ge n um be r
o f d if fe re nt r ep re se nt at io n a nd r ea so ni ng l an gu ag es w er e d ev el op ed . So me w er e b as ed o n
"l og ic—f or ex am pl e ,t he Pr ol og la ng ua ge b ec am ep op ul ar in Eu ro pe ,a nd th e PLANNER f am-"
"i ly i n t he Un it ed St at es . Ot he rs , f ol lo wi ng Mi ns ky’s i de a o f f ra me s (1975), a do pt ed a m or e"
FRAMES
"s tr uc tu re d a pp ro ac h , a ss em bl in g f ac ts a bo ut p ar ti cu la r o bj ec t a nd e ve nt t yp es a nd a rr an gi ng"
t he ty pe si nt oa la rg et ax on om ic hi er ar ch y a na lo go us t oa bi ol og ic al t ax on om y .
1.3.6 AIb ec om es a ni nd us tr y (1980–p re se nt)
"Th ef ir st su cc es sf ul co mm er ci al ex pe rt sy st em , R 1,b eg an op er at io na tt he Di gi ta l Eq ui pm en t"
"Co rp or at io n (Mc De rm ot t , 1982). Th e p ro gr am h el pe d c on fi gu re o rd er s f or n ew c om pu te r"
"s ys te ms ; b y 1986, i t w as s av in g t he c om pa ny a n e st im at ed $40 m il li on a y ea r . By 1988,"
"DEC’s AIg ro up h ad 40 e xp er t s ys te ms d ep lo ye d , w it hm or eo nt he wa y . Du Po nt ha d 100 i n"
"u se an d 500 i nd ev el op me nt ,s av in ga ne st im at ed$10 m il li on ay ea r . Ne ar ly ev er ym aj or U .S ."
c or po ra ti on h ad it so wn AIg ro up an dw as ei th er us in go ri nv es ti ga ti ng e xp er ts ys te ms .
"In 1981,t he Ja pa ne se an no un ce dt he“Fi ft h Ge ne ra ti on”p ro je ct ,a 10-y ea rp la nt ob ui ld"
"i nt el li ge nt c om pu te rs r un ni ng Pr ol og . In r es po ns e , t he Un it ed St at es f or me d t he Mi cr oe le c-"
t ro ni cs a nd Co mp ut er Te ch no lo gy Co rp or at io n (MCC)a s a re se ar ch c on so rt iu m d es ig ne d t o
"a ss ur e n at io na l c om pe ti ti ve ne ss . In b ot h c as es , AI w as p ar t o f a b ro ad e ff or t , i nc lu di ng c hi p"
"d es ig n a nd hu ma n-i nt er fa ce r es ea rc h . In Br it ai n , t he Al ve y r ep or t r ei ns ta te d t he fu nd in g t ha t"
"w as cu tb yt he Li gh th il lr ep or t .13 In al lt hr ee co un tr ie s , h ow ev er ,t he pr oj ec ts ne ve rm et th ei r"
a mb it io us go al s .
"Ov er al l ,t he AIi nd us tr yb oo me df ro ma fe wm il li on do ll ar si n 1980 t ob il li on so fd ol la rs"
"i n 1988, i nc lu di ng h un dr ed s o f c om pa ni es b ui ld in g e xp er t s ys te ms , v is io n s ys te ms , r ob ot s ,"
a nd s of tw ar e a nd h ar dw ar e s pe ci al iz ed f or t he se p ur po se s . So on a ft er t ha t c am e a p er io d
"c al le dt he“AIWi nt er ,”i nw hi ch ma ny co mp an ie sf el lb yt he wa ys id ea st he yf ai le dt od el iv er"
o ne xt ra va ga nt p ro mi se s .
1.3.7 Th e r et ur n o fn eu ra l n et wo rk s (1986–p re se nt)
In t he m id-1980 s a t l ea st f ou r d if fe re nt g ro up s r ei nv en te d t he b ac k-p ro pa ga ti on l ea rn in g
BACK-PROPAGATION
a lg or it hm f ir st f ou nd i n 1969 b y Br ys on a nd Ho . Th e a lg or it hm w as a pp li ed t o m an y l ea rn-
"i ng p ro bl em s i n c om pu te r s ci en ce a nd p sy ch ol og y , a nd t he w id es pr ea d d is se mi na ti on o f t he"
"r es ul ts i n t he c ol le ct io n Pa ra ll el Di st ri bu te d Pr oc es si ng (Ru me lh ar t a nd Mc Cl el la nd , 1986)"
c au se dg re at ex ci te me nt .
Th es e s o-c al le d c on ne ct io ni st m od el s o f i nt el li ge nt s ys te ms w er e s ee n b y s om e a s d i-
CONNECTIONIST
r ec t c om pe ti to rs b ot h t o t he s ym bo li c m od el s p ro mo te d b y Ne we ll a nd Si mo n a nd t o t he
"l og ic is t a pp ro ac h o f Mc Ca rt hy a nd o th er s (Sm ol en sk y , 1988). It m ig ht s ee m o bv io us t ha t"
"a t s om e l ev el h um an s m an ip ul at e s ym bo ls—i n f ac t , Te rr en ce De ac on’s b oo k Th e Sy mb ol ic"
"13 To sa ve em ba rr as sm en t ,a ne wf ie ld ca ll ed IKBS(In te ll ig en t Kn ow le dg e-Ba se d Sy st em s)w as in ve nt ed be ca us e"
Ar ti fi ci al In te ll ig en ce ha db ee no ff ic ia ll yc an ce le d .
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 25
Sp ec ie s (1997) s ug ge st s t ha t t hi s i s t he d ef in in g c ha ra ct er is ti c o f h um an s—b ut t he m os t a r-
d en tc on ne ct io ni st sq ue st io ne dw he th er sy mb ol ma ni pu la ti on ha da ny re al ex pl an at or yr ol ei n
"d et ai le d m od el so fc og ni ti on . Th is qu es ti on r em ai ns un an sw er ed , b ut th ec ur re nt v ie wi st ha t"
"c on ne ct io ni st an ds ym bo li ca pp ro ac he sa re co mp le me nt ar y , n ot co mp et in g . As oc cu rr ed wi th"
"t he s ep ar at io n o f AI a nd c og ni ti ve s ci en ce , m od er n n eu ra l n et wo rk r es ea rc h h as b if ur ca te d"
"i nt o t wo f ie ld s , o ne c on ce rn ed w it h c re at in g e ff ec ti ve n et wo rk a rc hi te ct ur es a nd a lg or it hm s"
"a nd u nd er st an di ng t he ir ma th em at ic al p ro pe rt ie s , t he o th er c on ce rn ed w it hc ar ef ul m od el in g"
o ft he em pi ri ca lp ro pe rt ie s o fa ct ua ln eu ro ns an de ns em bl es o fn eu ro ns .
1.3.8 AIa do pt s t he sc ie nt if ic m et ho d (1987–p re se nt)
Re ce nt y ea rs h av e s ee n a r ev ol ut io n i n b ot h t he c on te nt a nd t he m et ho do lo gy o f w or k i n
a rt if ic ia li nt el li ge nc e .14 It is no wm or ec om mo nt ob ui ld o ne xi st in g t he or ie s t ha nt op ro po se
"b ra nd-n ew o ne s , t o b as e c la im s o n r ig or ou s t he or em s o r h ar d e xp er im en ta l e vi de nc e r at he r"
"t ha no ni nt ui ti on , a nd to sh ow re le va nc e t or ea l-w or ld a pp li ca ti on s r at he rt ha nt oy ex am pl es ."
AIw as fo un de di np ar ta sa re be ll io na ga in st th el im it at io ns of ex is ti ng fi el ds li ke co nt ro l
"t he or ya nd st at is ti cs , b ut no wi ti se mb ra ci ng th os ef ie ld s . As Da vi d Mc Al le st er(1998)p ut it:"
"In t he e ar ly p er io d o f AI i t s ee me d p la us ib le t ha t n ew f or ms o f s ym bo li c c om pu ta ti on ,"
"e .g .,f ra me sa nd se ma nt ic ne tw or ks ,m ad em uc ho fc la ss ic al th eo ry ob so le te . Th is le dt o"
a f or mo f i so la ti on is m i n w hi ch AI b ec am e l ar ge ly se pa ra te df ro mt he r es t o f c om pu te r
s ci en ce . Th is i so la ti on is m i s c ur re nt ly b ei ng a ba nd on ed . Th er e i s a r ec og ni ti on t ha t
"m ac hi ne le ar ni ng sh ou ld no tb ei so la te df ro mi nf or ma ti on th eo ry ,t ha tu nc er ta in re as on in g"
"s ho ul dn ot be is ol at ed fr om st oc ha st ic mo de li ng ,t ha ts ea rc hs ho ul dn ot be is ol at ed fr om"
"c la ss ic al o pt im iz at io na nd c on tr ol , a nd t ha t a ut om at ed r ea so ni ng s ho ul d n ot b e i so la te d"
f ro mf or ma lm et ho ds an ds ta ti ca na ly si s .
"In t er ms o f m et ho do lo gy , AI h as f in al ly c om e f ir ml y u nd er t he s ci en ti fi c m et ho d . To b e a c-"
"c ep te d ,h yp ot he se sm us tb es ub je ct ed to ri go ro us em pi ri ca l e xp er im en ts ,a nd th er es ul ts mu st"
"b e a na ly ze d s ta ti st ic al ly f or t he ir i mp or ta nc e (Co he n , 1995). It i s n ow p os si bl e t o r ep li ca te"
e xp er im en ts b yu si ng sh ar ed re po si to ri es o ft es td at aa nd co de .
"Th e f ie ld o f s pe ec h r ec og ni ti on i ll us tr at es t he p at te rn . In t he 1970 s , a w id e v ar ie ty o f"
d if fe re nt a rc hi te ct ur es a nd a pp ro ac he s w er e t ri ed . Ma ny o f t he se w er e r at he r a d h oc a nd
"f ra gi le , a nd w er e d em on st ra te d o n o nl y a f ew s pe ci al ly s el ec te d e xa mp le s . In r ec en t y ea rs ,"
HIDDENMARKOV a pp ro ac he sb as ed on hi dd en Ma rk ov mo de ls(HMMs)h av ec om et od om in at et he ar ea . Tw o
MODELS
"a sp ec ts o f HMMs ar er el ev an t . Fi rs t , t he ya re ba se d o na ri go ro us m at he ma ti ca l t he or y . Th is"
h as al lo we ds pe ec hr es ea rc he rs to bu il do ns ev er al de ca de so fm at he ma ti ca lr es ul ts de ve lo pe d
"i n o th er f ie ld s . Se co nd , t he y a re g en er at ed b y a p ro ce ss o f t ra in in g o n a l ar ge c or pu s o f"
"r ea l s pe ec h d at a . Th is e ns ur es t ha t t he p er fo rm an ce i s r ob us t , a nd i n r ig or ou s b li nd t es ts t he"
HMMs ha ve be en im pr ov in gt he ir sc or es st ea di ly . Sp ee ch te ch no lo gy a nd th er el at ed fi el do f
h an dw ri tt en c ha ra ct er r ec og ni ti on a re a lr ea dy m ak in g t he t ra ns it io n t ow id es pr ea d i nd us tr ia l
14 So me ha ve ch ar ac te ri ze dt hi sc ha ng e a sa vi ct or yo ft he n ea ts—t ho se wh ot hi nk th at AIt he or ie ss ho ul db e
"g ro un de d i nm at he ma ti ca lr ig or—o ve rt he s cr uf fi es—t ho se wh ow ou ld ra th er tr yo ut lo ts of i de as , w ri te so me"
"p ro gr am s , a nd th en as se ss wh at se em st ob ew or ki ng . Bo th ap pr oa ch es ar ei mp or ta nt . As hi ft to wa rd ne at ne ss"
i mp li es th at th ef ie ld ha sr ea ch ed al ev el of st ab il it ya nd ma tu ri ty . Wh et he rt ha ts ta bi li ty wi ll be di sr up te db ya
n ew sc ru ff yi de ai sa no th er qu es ti on .
26 Ch ap te r 1. In tr od uc ti on
a nd c on su me r a pp li ca ti on s . No te t ha t t he re i s n o s ci en ti fi c c la im t ha t h um an s u se HMMs to
"r ec og ni ze s pe ec h ; r at he r , HMMs p ro vi de a m at he ma ti ca l f ra me wo rk f or u nd er st an di ng t he"
p ro bl em a nd su pp or tt he en gi ne er in g c la im th at th ey wo rk we ll in pr ac ti ce .
Ma ch in e t ra ns la ti on f ol lo ws t he s am ec ou rs e a ss pe ec h r ec og ni ti on . In t he 1950 s t he re
"w as i ni ti al e nt hu si as m f or a n a pp ro ac h b as ed o n s eq ue nc es o f w or ds , w it h m od el s l ea rn ed"
a cc or di ng t o t he p ri nc ip le s o f i nf or ma ti on t he or y . Th at a pp ro ac h f el l o ut o f f av or i n t he
"1960 s , b ut re tu rn ed in th el at e 1990 s an dn ow do mi na te st he fi el d ."
Ne ur al n et wo rk s a ls o f it th is t re nd . Mu ch o f t he w or k o n n eu ra l n et s i n t he 1980 s w as
d on e i na na tt em pt t os co pe o ut w ha tc ou ld b ed on e a nd t ol ea rn h ow ne ur al n et sd if fe rf ro m
"“t ra di ti on al” t ec hn iq ue s . Us in gi mp ro ve dm et ho do lo gy a nd t he or et ic al f ra me wo rk s , t he fi el d"
a rr iv ed a t a n u nd er st an di ng i n w hi ch n eu ra l n et s c an n ow b e c om pa re d w it h c or re sp on di ng
"t ec hn iq ue sf ro ms ta ti st ic s ,p at te rn re co gn it io n ,a nd ma ch in el ea rn in g ,a nd th em os tp ro mi si ng"
"t ec hn iq ue c an b e a pp li ed t o e ac h a pp li ca ti on . As a r es ul t o f t he se d ev el op me nt s , s o-c al le d"
d at am in in gt ec hn ol og y h as sp aw ne da vi go ro us n ew in du st ry .
DATAMINING
Ju de a Pe ar l’s(1988)Pr ob ab il is ti c Re as on in gi n In te ll ig en t Sy st em sl ed to an ew ac ce p-
"t an ce o fp ro ba bi li ty a nd de ci si on t he or y i n AI ,f ol lo wi ng a re su rg en ce o fi nt er es t e pi to mi ze d"
b y Pe te r Ch ee se ma n’s (1985) a rt ic le “In De fe ns e o f Pr ob ab il it y .” Th e Ba ye si an n et wo rk
BAYESIANNETWORK
"f or ma li sm w as i nv en te d t o a ll ow e ff ic ie nt r ep re se nt at io n o f , a nd r ig or ou s r ea so ni ng w it h ,"
u nc er ta in k no wl ed ge . Th is a pp ro ac h l ar ge ly o ve rc om es m an y p ro bl em s o f t he p ro ba bi li st ic
r ea so ni ng sy st em so ft he 1960 s an d 1970 s ;i tn ow do mi na te s AIr es ea rc ho nu nc er ta in re as on-
"i ng a nd e xp er t s ys te ms . Th e a pp ro ac h a ll ow s f or l ea rn in g f ro m e xp er ie nc e , a nd i t c om bi ne s"
t he be st of cl as si ca l AIa nd ne ur al ne ts . Wo rk by Ju de a Pe ar l(1982 a)a nd by Er ic Ho rv it za nd
"Da vi d He ck er ma n(Ho rv it za nd He ck er ma n ,1986;Ho rv it ze ta l .,1986)p ro mo te dt he id ea of"
n or ma ti ve e xp er t s ys te ms: o ne s t ha t a ct r at io na ll y a cc or di ng t o t he l aw s o f d ec is io n t he or y
a nd do no tt ry to im it at et he th ou gh ts te ps of hu ma ne xp er ts . Th e Wi nd ow s TM o pe ra ti ng sy s-
t em i nc lu de s s ev er al n or ma ti ve d ia gn os ti c e xp er t s ys te ms f or c or re ct in g p ro bl em s . Ch ap te rs
13 t o 16 c ov er th is ar ea .
"Si mi la r g en tl e r ev ol ut io ns h av e o cc ur re d i n r ob ot ic s , c om pu te r v is io n , a nd k no wl ed ge"
"r ep re se nt at io n . Ab et te ru nd er st an di ng o ft he pr ob le ms an d t he ir co mp le xi ty pr op er ti es ,c om-"
"b in ed w it hi nc re as ed m at he ma ti ca l s op hi st ic at io n , h as l ed t o w or ka bl e r es ea rc h a ge nd as a nd"
r ob us tm et ho ds . Al th ou gh in cr ea se df or ma li za ti on an ds pe ci al iz at io nl ed fi el ds su ch as vi si on
"a nd ro bo ti cs to be co me so me wh at is ol at ed fr om“m ai ns tr ea m” AIi nt he 1990 s ,t hi st re nd ha s"
r ev er se di nr ec en ty ea rs as to ol sf ro mm ac hi ne le ar ni ng in pa rt ic ul ar ha ve pr ov ed ef fe ct iv ef or
m an yp ro bl em s . Th ep ro ce ss of re in te gr at io n i sa lr ea dy yi el di ng s ig ni fi ca nt be ne fi ts
1.3.9 Th e e me rg en ce o fi nt el li ge nt ag en ts (1995–p re se nt)
"Pe rh ap s e nc ou ra ge d b yt he pr og re ss i ns ol vi ng t he su bp ro bl em s o f AI ,r es ea rc he rs h av ea ls o"
"s ta rt ed t o l oo k a t t he “w ho le a ge nt” p ro bl em a ga in . Th e w or k o f Al le n Ne we ll , Jo hn La ir d ,"
"a nd Pa ul Ro se nb lo om on SOAR(Ne we ll ,1990;La ir de ta l .,1987)i st he be st-k no wn ex am pl e"
o f a c om pl et e a ge nt a rc hi te ct ur e . On e o f t he m os t i mp or ta nt e nv ir on me nt s f or i nt el li ge nt
a ge nt s i s t he In te rn et . AI s ys te ms h av e b ec om e s o c om mo n i n We b-b as ed a pp li ca ti on s t ha t
"t he “-b ot” s uf fi x h as e nt er ed e ve ry da y l an gu ag e . Mo re ov er , AI t ec hn ol og ie s u nd er li e m an y"
Se ct io n 1.3. Th e Hi st or yo f Ar ti fi ci al In te ll ig en ce 27
"In te rn et to ol s , s uc ha ss ea rc he ng in es , r ec om me nd er sy st em s , a nd We bs it ea gg re ga to rs ."
On ec on se qu en ce of tr yi ng to bu il dc om pl et ea ge nt si st he re al iz at io nt ha tt he pr ev io us ly
i so la te d s ub fi el ds o f AI m ig ht n ee d t o b e r eo rg an iz ed s om ew ha t w he n t he ir r es ul ts a re t o b e
"t ie d t og et he r . In p ar ti cu la r , i t i s n ow w id el y a pp re ci at ed t ha t s en so ry s ys te ms (v is io n , s on ar ,"
"s pe ec hr ec og ni ti on , e tc .) c an no td el iv er pe rf ec tl yr el ia bl ei nf or ma ti on ab ou tt he en vi ro nm en t ."
"He nc e , r ea so ni ng a nd p la nn in g s ys te ms m us t b e a bl e t o h an dl e u nc er ta in ty . As ec on d m aj or"
c on se qu en ce o f t he a ge nt p er sp ec ti ve i s t ha t AI h as b ee n d ra wn i nt o m uc h c lo se r c on ta ct
"w it h o th er f ie ld s , s uc h a s c on tr ol t he or y a nd e co no mi cs , t ha t a ls o d ea l w it h a ge nt s . Re ce nt"
p ro gr es si nt he co nt ro lo fr ob ot ic ca rs ha sd er iv ed fr om am ix tu re of ap pr oa ch es ra ng in gf ro m
"b et te r s en so rs , c on tr ol-t he or et ic i nt eg ra ti on o f s en si ng , l oc al iz at io n a nd m ap pi ng , a s w el l a s"
a de gr ee of hi gh-l ev el p la nn in g .
"De sp it e t he se s uc ce ss es , s om e i nf lu en ti al f ou nd er s o f AI , i nc lu di ng Jo hn Mc Ca rt hy"
"(2007), Ma rv in Mi ns ky (2007), Ni ls Ni ls so n (1995, 2005) a nd Pa tr ic k Wi ns to n (Be al a nd"
"Wi ns to n ,2009),h av ee xp re ss ed di sc on te nt wi th th ep ro gr es so f AI .Th ey th in kt ha t AIs ho ul d"
p ut l es s e mp ha si s o n c re at in g e ve r-i mp ro ve d v er si on s o f a pp li ca ti on s t ha t a re g oo d a t a s pe-
"c if ic t as k , s uc h a s d ri vi ng a c ar , p la yi ng c he ss , o r r ec og ni zi ng s pe ec h . In st ea d , t he y b el ie ve"
"AIs ho ul dr et ur nt oi ts ro ot so fs tr iv in gf or ,i n Si mo n’s wo rd s ,“m ac hi ne st ha tt hi nk ,t ha tl ea rn"
a nd th at cr ea te .” Th ey ca ll th ee ff or t h um an-l ev el AIo r HLAI ;t he ir fi rs ts ym po si um w as in
HUMAN-LEVELAI
"2004(Mi ns ky et al .,2004). Th ee ff or tw il lr eq ui re ve ry la rg ek no wl ed ge ba se s ; He nd le re ta l ."
(1995)d is cu ss wh er et he se kn ow le dg eb as es mi gh tc om ef ro m .
ARTIFICIALGENERAL A r el at ed i de a i s t he s ub fi el d o f Ar ti fi ci al Ge ne ra l In te ll ig en ce o r AGI (Go er tz el a nd
INTELLIGENCE
"Pe nn ac hi n ,2007),w hi ch he ld it sf ir st co nf er en ce an do rg an iz ed th e Jo ur na lo f Ar ti fi ci al Ge n-"
e ra l In te ll ig en ce i n 2008. AGI l oo ks f or a u ni ve rs al a lg or it hm f or l ea rn in g a nd a ct in g i n
"a ny e nv ir on me nt , a nd h as i ts r oo ts i n t he w or k o f Ra y So lo mo no ff (1964), o ne o f t he a tt en-"
d ee s o f t he o ri gi na l 1956 Da rt mo ut h c on fe re nc e . Gu ar an te ei ng t ha t w ha t w e c re at e i s r ea ll y
"Fr ie nd ly AI i sa ls o a co nc er n (Yu dk ow sk y , 2008; Om oh un dr o , 2008), o ne w e w il l r et ur n t o"
FRIENDLYAI
i n Ch ap te r 26.
1.3.10 Th e a va il ab il it yo fv er y l ar ge da ta s et s (2001–p re se nt)
"Th ro ug ho ut th e 60-y ea rh is to ry of co mp ut er sc ie nc e ,t he em ph as is ha sb ee no nt he al go ri th m"
"a st he ma in su bj ec t o fs tu dy . Bu ts om er ec en tw or ki n AIs ug ge st s t ha tf or ma ny pr ob le ms ,i t"
m ak es m or e s en se t o w or ry a bo ut t he d at a a nd b e l es s p ic ky a bo ut w ha t a lg or it hm t o a pp ly .
"Th is i s t ru e b ec au se o f t he i nc re as in g a va il ab il it y o f v er y l ar ge d at a s ou rc es: f or e xa mp le ,"
"t ri ll io ns of wo rd so f En gl is ha nd bi ll io ns of im ag es fr om th e We b(Ki lg ar ri ff an d Gr ef en st et te ,"
"2006);o rb il li on so fb as ep ai rs of ge no mi cs eq ue nc es (Co ll in se ta l .,2003)."
On e i nf lu en ti al p ap er i n t hi s l in e w as Ya ro ws ky’s (1995) w or k o n w or d-s en se d is am-
"b ig ua ti on: g iv en th eu se of th ew or d“p la nt” i na se nt en ce , d oe st ha tr ef er to fl or ao rf ac to ry ?"
Pr ev io us a pp ro ac he s t o t he p ro bl em h ad r el ie d o n h um an-l ab el ed e xa mp le s c om bi ne d w it h
"m ac hi ne l ea rn in g a lg or it hm s . Ya ro ws ky s ho we d t ha t t he t as k c an b e d on e , w it h a cc ur ac y"
"a bo ve 96%, w it h n o l ab el ed e xa mp le s a t a ll . In st ea d , g iv en a v er y l ar ge c or pu s o f u na nn o-"
"t at ed te xt an dj us tt he di ct io na ry d ef in it io ns o ft he tw os en se s—“w or ks , i nd us tr ia l p la nt” a nd"
"“f lo ra , p la nt l if e”—o ne c an l ab el e xa mp le s i n t he c or pu s , a nd f ro m t he re b oo ts tr ap t o l ea rn"
28 Ch ap te r 1. In tr od uc ti on
n ew p at te rn s t ha t h el p l ab el n ew e xa mp le s . Ba nk o a nd Br il l (2001) s ho w t ha t t ec hn iq ue s
l ik e t hi s p er fo rm e ve n b et te r a s t he a mo un t o f a va il ab le t ex t g oe s f ro m a m il li on w or ds t o a
b il li on a nd t ha t t he i nc re as e i n p er fo rm an ce f ro m u si ng m or e d at a e xc ee ds a ny d if fe re nc e i n
a lg or it hm c ho ic e ; a m ed io cr e a lg or it hm w it h 100 m il li on w or ds o f u nl ab el ed t ra in in g d at a
o ut pe rf or ms t he be st kn ow na lg or it hm w it h 1 m il li on wo rd s .
"As an ot he re xa mp le , Ha ys an d Ef ro s(2007)d is cu ss t he pr ob le m o ff il li ng in ho le si na"
"p ho to gr ap h . Su pp os e y ou u se Ph ot os ho p t o m as k o ut a n e x-f ri en d f ro m a g ro up p ho to , b ut"
n ow y ou n ee d t o f il l i n t he m as ke d a re a w it h s om et hi ng t ha t m at ch es t he b ac kg ro un d . Ha ys
a nd Ef ro sd ef in ed an al go ri th mt ha ts ea rc he st hr ou gh ac ol le ct io no fp ho to st of in ds om et hi ng
t ha t w il l m at ch . Th ey f ou nd t he p er fo rm an ce o f t he ir a lg or it hm w as p oo r w he n t he y u se d
"a c ol le ct io n o f o nl y t en t ho us an d p ho to s , b ut c ro ss ed a t hr es ho ld i nt o e xc el le nt p er fo rm an ce"
w he nt he yg re wt he co ll ec ti on t ot wo mi ll io np ho to s .
Wo rk li ke th is su gg es ts t ha tt he“k no wl ed ge b ot tl en ec k” i n AI—t he pr ob le m o fh ow to
e xp re ss al lt he kn ow le dg et ha ta sy st em ne ed s—m ay be so lv ed in ma ny ap pl ic at io ns by le ar n-
"i ng me th od sr at he rt ha nh an d-c od ed kn ow le dg ee ng in ee ri ng , p ro vi de dt he le ar ni ng al go ri th ms"
"h av ee no ug hd at at og oo n(Ha le vy et al .,2009). Re po rt er sh av en ot ic ed th es ur ge of ne wa p-"
"p li ca ti on s a nd h av e w ri tt en t ha t “AI Wi nt er” m ay b e y ie ld in g t o a n ew Sp ri ng (Ha ve ns te in ,"
"2005). As Ku rz we il (2005) w ri te s , “t od ay , m an y t ho us an ds o f AI a pp li ca ti on s a re d ee pl y"
e mb ed de di nt he in fr as tr uc tu re o fe ve ry in du st ry .”
1.4 THE STATE OF THE ART
Wh at c an AI d o t od ay ? A c on ci se a ns we r i sd if fi cu lt b ec au se t he re a re s o m an y a ct iv it ie s i n
s om an ys ub fi el ds . He re we sa mp le af ew ap pl ic at io ns ; o th er sa pp ea rt hr ou gh ou t t he bo ok .
Ro bo ti c v eh ic le s: A d ri ve rl es s r ob ot ic c ar n am ed STANLEY s pe d t hr ou gh t he r ou gh
"t er ra in o f t he Mo ja ve d es se rt a t 22 m ph , f in is hi ng t he 132-m il e c ou rs e f ir st t o w in t he 2005"
"DARPAGr an d Ch al le ng e . STANLEY i sa Vo lk sw ag en To ua re go ut fi tt ed wi th ca me ra s ,r ad ar ,"
a nd la se rr an ge fi nd er s t os en se th ee nv ir on me nt a nd on bo ar d s of tw ar et oc om ma nd th es te er-
"i ng , b ra ki ng , a nd ac ce le ra ti on (Th ru n , 2006). Th ef ol lo wi ng y ea r CMU’s BOSS w on th e Ur-"
"b an Ch al le ng e ,s af el yd ri vi ng in tr af fi ct hr ou gh th es tr ee ts o fa cl os ed Ai r Fo rc eb as e ,o be yi ng"
t ra ff ic ru le sa nd av oi di ng p ed es tr ia ns a nd ot he rv eh ic le s .
Sp ee ch re co gn it io n: At ra ve le rc al li ng Un it ed Ai rl in es to bo ok af li gh tc an ha ve th ee n-
t ir ec on ve rs at io ng ui de db ya na ut om at ed sp ee ch re co gn it io na nd di al og ma na ge me nt sy st em .
"Au to no mo us pl an ni ng an ds ch ed ul in g: Ah un dr ed mi ll io nm il es fr om Ea rt h ,NASA’s"
Re mo te Ag en t p ro gr am b ec am e t he f ir st o n-b oa rd a ut on om ou s p la nn in g p ro gr am t o c on tr ol
"t he s ch ed ul in g o f o pe ra ti on s f or a s pa ce cr af t (Jo ns so n e t a l ., 2000). REMOTE AGENT g en-"
e ra te d p la ns fr om h ig h-l ev el g oa ls s pe ci fi ed f ro mt he gr ou nd a nd mo ni to re d t he ex ec ut io n o f
"t ho se pl an s—d et ec ti ng , d ia gn os in g , a nd re co ve ri ng fr om pr ob le ms as th ey oc cu rr ed . Su cc es-"
"s or pr og ra m MAPGEN (Al-Ch an g e ta l .,2004)p la ns t he da il yo pe ra ti on s f or NASA’s Ma rs"
"Ex pl or at io n Ro ve rs ,a nd MEXAR 2(Ce st ae ta l .,2007)d id mi ss io np la nn in g—b ot h l og is ti cs"
a nd sc ie nc ep la nn in g—f or t he Eu ro pe an Sp ac e Ag en cy’s Ma rs Ex pr es sm is si on in 2008.
Se ct io n 1.5. Su mm ar y 29
Ga me p la yi ng: IBM’s DEEP BLUE b ec am e t he f ir st c om pu te r p ro gr am t o d ef ea t t he
w or ld c ha mp io n i n a c he ss m at ch w he n i t b es te d Ga rr y Ka sp ar ov b y a s co re o f 3.5 t o 2.5 i n
"a ne xh ib it io n m at ch (Go od ma n a nd Ke en e , 1997). Ka sp ar ov s ai d t ha t h ef el t a“n ew k in d o f"
i nt el li ge nc e” a cr os s t he b oa rd f ro m h im . Ne ws we ek m ag az in e d es cr ib ed t he m at ch a s “Th e
b ra in’s l as t s ta nd .” Th e v al ue o f IBM’s s to ck i nc re as ed b y $18 b il li on . Hu ma n c ha mp io ns
"s tu di ed Ka sp ar ov’s l os s a nd w er e a bl e t o d ra w a f ew m at ch es i n s ub se qu en t y ea rs , b ut t he"
m os tr ec en th um an-c om pu te r m at ch es ha ve be en wo nc on vi nc in gl y b yt he co mp ut er .
"Sp am fi gh ti ng: Ea ch da y ,l ea rn in ga lg or it hm sc la ss if yo ve ra bi ll io nm es sa ge sa ss pa m ,"
"s av in gt he re ci pi en tf ro mh av in gt ow as te ti me de le ti ng wh at ,f or ma ny us er s ,c ou ld co mp ri se"
"80%o r 90%o fa ll me ss ag es ,i fn ot cl as si fi ed aw ay by al go ri th ms . Be ca us et he sp am me rs ar e"
"c on ti nu al ly u pd at in g t he ir ta ct ic s , i ti sd if fi cu lt fo ra st at ic pr og ra mm ed a pp ro ac h t ok ee pu p ,"
"a nd le ar ni ng a lg or it hm sw or kb es t(Sa ha mi e ta l .,1998;Go od ma na nd He ck er ma n , 2004)."
"Lo gi st ic s p la nn in g: Du ri ng t he Pe rs ia n Gu lf c ri si s o f 1991, U .S . f or ce s d ep lo ye d a"
"Dy na mi c An al ys is a nd Re pl an ni ng To ol , DART (Cr os s a nd Wa lk er , 1994), t o d oa ut om at ed"
"l og is ti cs p la nn in g a nd s ch ed ul in g f or t ra ns po rt at io n . Th is i nv ol ve d u p t o 50,000 v eh ic le s ,"
"c ar go , a nd p eo pl e a t a t im e , a nd h ad t o a cc ou nt f or s ta rt in g p oi nt s , d es ti na ti on s , r ou te s , a nd"
c on fl ic t r es ol ut io n a mo ng a ll p ar am et er s . Th e AI p la nn in g t ec hn iq ue s g en er at ed i n h ou rs
a p la n t ha t w ou ld h av e t ak en w ee ks w it h o ld er m et ho ds . Th e De fe ns e Ad va nc ed Re se ar ch
Pr oj ec t Ag en cy (DARPA) s ta te d t ha t t hi s s in gl e a pp li ca ti on m or e t ha n p ai d b ac k DARPA’s
30-y ea ri nv es tm en t i n AI .
Ro bo ti cs: Th e i Ro bo t Co rp or at io n h as s ol d o ve rt wo mi ll io n Ro om ba r ob ot ic v ac uu m
c le an er s f or h om e u se . Th e c om pa ny a ls o d ep lo ys t he m or e r ug ge d Pa ck Bo t t o Ir aq a nd
"Af gh an is ta n , w he re i t i s u se d t o h an dl e h az ar do us m at er ia ls , c le ar e xp lo si ve s , a nd i de nt if y"
t he lo ca ti on of sn ip er s .
Ma ch in e Tr an sl at io n: A c om pu te r p ro gr am a ut om at ic al ly t ra ns la te s f ro m Ar ab ic t o
"En gl is h , a ll ow in g a n En gl is h s pe ak er t o s ee t he h ea dl in e “Ar do ga n Co nf ir ms Th at Tu rk ey"
"Wo ul d No t Ac ce pt An y Pr es su re , Ur gi ng Th em t o Re co gn iz e Cy pr us .” Th e p ro gr am u se s a"
s ta ti st ic al mo de lb ui lt fr om ex am pl es of Ar ab ic-t o-En gl is h t ra ns la ti on sa nd fr om ex am pl es of
"En gl is ht ex tt ot al in gt wo tr il li on wo rd s(Br an ts e ta l .,2007). No ne of th ec om pu te rs ci en ti st s"
"o nt he te am sp ea k Ar ab ic ,b ut th ey do un de rs ta nd s ta ti st ic sa nd ma ch in el ea rn in ga lg or it hm s ."
Th es e a re j us t a f ew e xa mp le s o f a rt if ic ia l i nt el li ge nc e s ys te ms t ha t e xi st t od ay . No t
"m ag ic o r s ci en ce f ic ti on—b ut r at he r s ci en ce , e ng in ee ri ng , a nd m at he ma ti cs , t o w hi ch t hi s"
b oo kp ro vi de sa ni nt ro du ct io n .
1.5 SUMMARY
Th is c ha pt er d ef in es AI a nd e st ab li sh es t he c ul tu ra l b ac kg ro un d a ga in st w hi ch i t h as d ev el-
o pe d . So me of th ei mp or ta nt po in ts ar ea sf ol lo ws:
• Di ff er en tp eo pl ea pp ro ac h AIw it hd if fe re nt g oa ls in mi nd . Tw oi mp or ta nt q ue st io ns t o
a sk ar e: Ar ey ou co nc er ne d w it ht hi nk in g o rb eh av io r ? Do yo u w an tt om od el hu ma ns
o rw or kf ro ma ni de al st an da rd ?
30 Ch ap te r 1. In tr od uc ti on
"• In t hi s b oo k , w e a do pt t he v ie w t ha t i nt el li ge nc e i s c on ce rn ed m ai nl y w it h r at io na l"
"a ct io n . Id ea ll y , a n i nt el li ge nt a ge nt t ak es t he b es t p os si bl e a ct io n i n a s it ua ti on . We"
s tu dy th ep ro bl em o fb ui ld in g a ge nt st ha ta re in te ll ig en t i nt hi ss en se .
• Ph il os op he rs (g oi ng b ac k t o 400 B .C .) m ad e AI c on ce iv ab le b y c on si de ri ng t he i de as
"t ha tt he mi nd is in so me wa ys li ke am ac hi ne ,t ha ti to pe ra te so nk no wl ed ge en co de di n"
"s om ei nt er na l l an gu ag e , a nd th at th ou gh t c an be us ed to ch oo se wh at ac ti on st ot ak e ."
• Ma th em at ic ia ns pr ov id ed th et oo ls to ma ni pu la te st at em en ts of lo gi ca lc er ta in ty as we ll
"a su nc er ta in , p ro ba bi li st ic s ta te me nt s . Th ey al so s et th e g ro un dw or k f or un de rs ta nd in g"
c om pu ta ti on a nd re as on in g a bo ut al go ri th ms .
• Ec on om is ts f or ma li ze d t he p ro bl em o f m ak in g d ec is io ns t ha t m ax im iz e t he e xp ec te d
o ut co me to th ed ec is io nm ak er .
• Ne ur os ci en ti st sd is co ve re ds om ef ac ts ab ou th ow th eb ra in wo rk sa nd th ew ay si nw hi ch
i ti ss im il ar to an dd if fe re nt fr om co mp ut er s .
• Ps yc ho lo gi st sa do pt ed th ei de at ha th um an sa nd an im al sc an be co ns id er ed in fo rm at io n-
p ro ce ss in g m ac hi ne s . Li ng ui st s s ho we dt ha tl an gu ag e u se fi ts in to th is mo de l .
• Co mp ut er en gi ne er s p ro vi de d t he e ve r-m or e-p ow er fu l m ac hi ne s t ha t m ak e AI a pp li ca-
t io ns po ss ib le .
• Co nt ro lt he or yd ea ls wi th de si gn in g d ev ic es th at ac to pt im al ly o nt he ba si so ff ee db ac k
"f ro m t he e nv ir on me nt . In it ia ll y , t he m at he ma ti ca l t oo ls o f c on tr ol t he or y w er e q ui te"
"d if fe re nt fr om AI ,b ut th ef ie ld sa re co mi ng cl os er to ge th er ."
"• Th eh is to ry of AIh as ha dc yc le so fs uc ce ss ,m is pl ac ed op ti mi sm ,a nd re su lt in gc ut ba ck s"
i n e nt hu si as m a nd f un di ng . Th er e h av e a ls o b ee n c yc le s o f i nt ro du ci ng n ew c re at iv e
a pp ro ac he s a nd sy st em at ic al ly r ef in in gt he be st on es .
• AIh as ad va nc ed mo re ra pi dl yi nt he pa st de ca de be ca us eo fg re at er us eo ft he sc ie nt if ic
m et ho di ne xp er im en ti ng w it ha nd co mp ar in g a pp ro ac he s .
• Re ce nt pr og re ss in un de rs ta nd in g t he th eo re ti ca l b as is fo r i nt el li ge nc e h as go ne ha nd in
h an d w it h i mp ro ve me nt s i n t he c ap ab il it ie s o f r ea l s ys te ms . Th e s ub fi el ds o f AI h av e
"b ec om em or ei nt eg ra te d , a nd AIh as fo un dc om mo ng ro un d w it ho th er di sc ip li ne s ."
BIBLIOGRAPHICAL AND HISTORICAL NOTES
Th em et ho do lo gi ca ls ta tu so fa rt if ic ia li nt el li ge nc ei si nv es ti ga te di n Th e Sc ie nc es of th e Ar ti fi-
"c ia l ,b y He rb Si mo n(1981),w hi ch di sc us se sr es ea rc ha re as co nc er ne dw it hc om pl ex ar ti fa ct s ."
It e xp la in s h ow AI c an b e v ie we d a s b ot h s ci en ce a nd m at he ma ti cs . Co he n (1995) g iv es a n
o ve rv ie wo fe xp er im en ta l m et ho do lo gy w it hi n AI .
"Th e Tu ri ng Te st(Tu ri ng , 1950) i sd is cu ss ed b y Sh ie be r(1994), w ho se ve re ly c ri ti ci ze s"
"t he u se fu ln es s o f i ts i ns ta nt ia ti on i n t he Lo eb ne r Pr iz e c om pe ti ti on , a nd b y Fo rd a nd Ha ye s"
"(1995), w ho ar gu et ha tt he te st it se lf is no th el pf ul fo r AI .Br in gs jo rd (2008) g iv es ad vi ce fo r"
a Tu ri ng Te st j ud ge . Sh ie be r (2004) a nd Ep st ei n e t a l . (2008) c ol le ct a n um be r o f e ss ay s o n
"t he Tu ri ng Te st . Ar ti fi ci al In te ll ig en ce: Th e Ve ry Id ea , b y Jo hn Ha ug el an d (1985), g iv es a"
2
INTELLIGENT AGENTS
"In w hi ch w e d is cu ss t he n at ur e o f a ge nt s , p er fe ct o r o th er wi se , t he d iv er si ty o f"
"e nv ir on me nt s , a nd th er es ul ti ng m en ag er ie of ag en tt yp es ."
Ch ap te r 1 i de nt if ie d t he c on ce pt o f r at io na l a ge nt s a s c en tr al t o o ur a pp ro ac h t o a rt if ic ia l
"i nt el li ge nc e . In th is ch ap te r ,w em ak et hi sn ot io nm or ec on cr et e . We wi ll se et ha tt he co nc ep t"
o fr at io na li ty c an be ap pl ie dt oa wi de va ri et yo fa ge nt so pe ra ti ng i na ny im ag in ab le e nv ir on-
m en t . Ou rp la ni n t hi sb oo k i st ou se th is c on ce pt t od ev el op a sm al ls et of d es ig n p ri nc ip le s
f or bu il di ng s uc ce ss fu l a ge nt s—s ys te ms t ha tc an re as on ab ly b ec al le d i nt el li ge nt .
"We b eg in b y e xa mi ni ng a ge nt s , e nv ir on me nt s , a nd t he c ou pl in g b et we en t he m . Th e"
o bs er va ti on th at so me ag en ts be ha ve be tt er th an ot he rs le ad sn at ur al ly to th ei de ao fa ra ti on al
a ge nt—o ne t ha t b eh av es a s w el l a s p os si bl e . Ho w w el l a n a ge nt c an b eh av e d ep en ds o n
t he n at ur e o f t he e nv ir on me nt ; s om e e nv ir on me nt s a re m or e d if fi cu lt t ha n o th er s . We g iv e a
c ru de c at eg or iz at io n o f e nv ir on me nt s a nd s ho w h ow p ro pe rt ie s o f a n e nv ir on me nt i nf lu en ce
t he de si gn of su it ab le ag en ts fo rt ha te nv ir on me nt . We de sc ri be a nu mb er of ba si c“s ke le to n”
"a ge nt de si gn s , w hi ch we fl es ho ut in th er es to ft he bo ok ."
2.1 AGENTS AND ENVIRONMENTS
An ag en ti sa ny th in g t ha tc an be vi ew ed as pe rc ei vi ng i ts en vi ro nm en tt hr ou gh s en so rs a nd
ENVIRONMENT
a ct in gu po nt ha te nv ir on me nt th ro ug h a ct ua to rs . Th is si mp le id ea is il lu st ra te di n Fi gu re 2.1.
SENSOR
"Ah um an ag en th as ey es ,e ar s ,a nd ot he ro rg an sf or se ns or sa nd ha nd s ,l eg s ,v oc al tr ac t ,a nd so"
ACTUATOR
o n f or a ct ua to rs . A r ob ot ic a ge nt m ig ht h av e c am er as a nd i nf ra re d r an ge f in de rs f or s en so rs
"a nd v ar io us m ot or s f or a ct ua to rs . A s of tw ar e a ge nt r ec ei ve s k ey st ro ke s , f il e c on te nt s , a nd"
"n et wo rk p ac ke ts a s s en so ry i np ut s a nd a ct s o n t he e nv ir on me nt b y d is pl ay in g o n t he s cr ee n ,"
"w ri ti ng fi le s ,a nd se nd in g n et wo rk pa ck et s ."
We us et he te rm pe rc ep tt or ef er to th ea ge nt’s pe rc ep tu al in pu ts at an yg iv en in st an t . An
PERCEPT
a ge nt’s pe rc ep ts eq ue nc ei st he co mp le te hi st or yo fe ve ry th in gt he ag en th as ev er pe rc ei ve d .
PERCEPTSEQUENCE
"In ge ne ra l , a n a ge nt’s c ho ic e o fa ct io n a ta ny g iv en i ns ta nt c an de pe nd o n t he en ti re p er ce pt"
"s eq ue nc eo bs er ve dt od at e ,b ut no to na ny th in g i th as n’t pe rc ei ve d . By sp ec if yi ng t he ag en t’s"
"c ho ic e o f a ct io n f or e ve ry p os si bl e p er ce pt s eq ue nc e , w e h av e s ai d m or e o r l es s e ve ry th in g"
34
Se ct io n 2.1. Ag en ts an d En vi ro nm en ts 35
Ag en t
Se ns or s
Ac tu at or s
En vi ro nm en t
Pe rc ep ts
?
Ac ti on s
Fi gu re 2.1 Ag en ts in te ra ct wi th en vi ro nm en ts th ro ug hs en so rs an da ct ua to rs .
"t he re i s t o s ay a bo ut t he a ge nt . Ma th em at ic al ly s pe ak in g , w e s ay t ha t a n a ge nt’s b eh av io r i s"
d es cr ib ed b yt he ag en tf un ct io nt ha tm ap sa ny gi ve np er ce pt se qu en ce t oa na ct io n .
AGENTFUNCTION
We ca n i ma gi ne t ab ul at in g t he a ge nt f un ct io n t ha t d es cr ib es a ny g iv en a ge nt ; f or mo st
"a ge nt s , t hi s w ou ld b e a v er y l ar ge t ab le—i nf in it e , i n f ac t , u nl es s w e p la ce a b ou nd o n t he"
"l en gt ho fp er ce pt se qu en ce sw ew an tt oc on si de r . Gi ve na na ge nt to ex pe ri me nt wi th ,w ec an ,"
"i n p ri nc ip le , c on st ru ct t hi s t ab le b y t ry in g o ut a ll p os si bl e p er ce pt s eq ue nc es a nd r ec or di ng"
"w hi ch ac ti on st he ag en td oe si nr es po ns e .1 Th et ab le is ,o fc ou rs e ,a ne xt er na lc ha ra ct er iz at io n"
"o f t he a ge nt . In te rn al ly , t he a ge nt f un ct io n f or a n a rt if ic ia l a ge nt w il l b e i mp le me nt ed b y a n"
a ge nt p ro gr am . It i s i mp or ta nt t o k ee p t he se t wo i de as d is ti nc t . Th e a ge nt f un ct io n i s a n
AGENTPROGRAM
"a bs tr ac t m at he ma ti ca l d es cr ip ti on ; t he a ge nt p ro gr am i s a c on cr et e i mp le me nt at io n , r un ni ng"
w it hi ns om ep hy si ca ls ys te m .
"To i ll us tr at e t he se i de as , w e u se a v er y s im pl e e xa mp le—t he v ac uu m-c le an er w or ld"
s ho wn i n Fi gu re 2.2. Th is w or ld i s s o s im pl e t ha t w e c an d es cr ib e e ve ry th in g t ha t h ap pe ns ;
"i t’s al so am ad e-u pw or ld ,s ow ec an in ve nt ma ny va ri at io ns . Th is pa rt ic ul ar wo rl dh as ju st tw o"
l oc at io ns: s qu ar es A a nd B . Th e v ac uu m a ge nt p er ce iv es w hi ch s qu ar e i t i s i n a nd w he th er
"t he re i s d ir t i n t he s qu ar e . It c an c ho os e t o m ov e l ef t , m ov e r ig ht , s uc k u p t he d ir t , o r d o"
"n ot hi ng . On e v er y s im pl e a ge nt f un ct io n i s t he f ol lo wi ng: i f t he c ur re nt s qu ar e i s d ir ty , t he n"
"s uc k ;o th er wi se ,m ov et ot he ot he rs qu ar e . Ap ar ti al ta bu la ti on of th is ag en tf un ct io ni ss ho wn"
i n Fi gu re 2.3 a nd an ag en tp ro gr am t ha ti mp le me nt si ta pp ea rs i n Fi gu re 2.8 o np ag e 48.
"Lo ok in ga t Fi gu re 2.3,w es ee th at va ri ou s v ac uu m-w or ld a ge nt sc an be de fi ne ds im pl y"
"b yf il li ng in th er ig ht-h an dc ol um ni nv ar io us wa ys . Th eo bv io us qu es ti on ,t he n ,i st hi s: Wh at"
"i s t he r ig ht w ay t o f il l o ut t he t ab le ? In o th er w or ds , w ha t m ak es a n a ge nt g oo d o r b ad ,"
i nt el li ge nt o rs tu pi d ? We an sw er th es eq ue st io ns i nt he ne xt se ct io n .
"1 If th ea ge nt us es so me ra nd om iz at io nt oc ho os e i ts ac ti on s , t he nw ew ou ld ha ve to tr ye ac hs eq ue nc e m an y"
"t im es to id en ti fy th ep ro ba bi li ty of ea ch ac ti on . On em ig ht im ag in et ha ta ct in gr an do ml yi sr at he rs il ly ,b ut we"
s ho wl at er in th is ch ap te rt ha ti tc an be ve ry in te ll ig en t .
36 Ch ap te r 2. In te ll ig en t Ag en ts
A B
Fi gu re 2.2 Av ac uu m-c le an er wo rl dw it hj us tt wo lo ca ti on s .
Pe rc ep ts eq ue nc e Ac ti on
"[A ,Cl ea n] Ri gh t"
"[A ,Di rt y] Su ck"
"[B ,Cl ea n] Le ft"
"[B ,Di rt y] Su ck"
"[A ,Cl ea n],[A ,Cl ea n] Ri gh t"
"[A ,Cl ea n],[A ,Di rt y] Su ck"
. .
. .
. .
"[A ,Cl ea n],[A ,Cl ea n],[A ,Cl ea n] Ri gh t"
"[A ,Cl ea n],[A ,Cl ea n],[A ,Di rt y] Su ck"
. .
. .
. .
Fi gu re 2.3 Pa rt ia l t ab ul at io n o f a s im pl e a ge nt f un ct io n f or t he v ac uu m-c le an er w or ld
s ho wn in Fi gu re 2.2.
"Be fo re cl os in gt hi ss ec ti on ,w es ho ul de mp ha si ze th at th en ot io no fa na ge nt is me an tt o"
"b e a t oo l f or a na ly zi ng s ys te ms , n ot a n a bs ol ut e c ha ra ct er iz at io n t ha t d iv id es t he w or ld i nt o"
a ge nt s a nd n on-a ge nt s . On e c ou ld v ie w a h an d-h el d c al cu la to r a s a n a ge nt t ha t c ho os es t he
"a ct io n o f d is pl ay in g “4” w he n g iv en t he p er ce pt s eq ue nc e “2 + 2 =,” b ut s uc h a n a na ly si s"
"w ou ld ha rd ly a id ou ru nd er st an di ng o ft he ca lc ul at or . In as en se , a ll ar ea so fe ng in ee ri ng c an"
b e s ee n a s d es ig ni ng a rt if ac ts t ha t i nt er ac t w it h t he w or ld ; AI o pe ra te s a t (w ha t t he a ut ho rs
"c on si de r t o b e) t he m os t i nt er es ti ng e nd o f t he s pe ct ru m , w he re t he a rt if ac ts h av e s ig ni fi ca nt"
c om pu ta ti on al r es ou rc es a nd th et as ke nv ir on me nt r eq ui re s n on tr iv ia l d ec is io n m ak in g .
2.2 GOOD BEHAVIOR: THE CONCEPT OF RATIONALITY
"Ar at io na l a ge nt i s o ne t ha t d oe s t he r ig ht t hi ng—c on ce pt ua ll y s pe ak in g , e ve ry e nt ry i n t he"
RATIONALAGENT
"t ab le f or t he a ge nt f un ct io n i s f il le d o ut c or re ct ly . Ob vi ou sl y , d oi ng t he r ig ht t hi ng i s b et te r"
"t ha nd oi ng th ew ro ng th in g ,b ut wh at do es it me an to do th er ig ht th in g ?"
Se ct io n 2.2. Go od Be ha vi or: Th e Co nc ep to f Ra ti on al it y 37
We a ns we r t hi s a ge-o ld q ue st io n i n a n a ge-o ld w ay: b y c on si de ri ng t he c on se qu en ce s
"o f t he a ge nt’s b eh av io r . Wh en a n a ge nt i s p lu nk ed d ow n i n a n e nv ir on me nt , i t g en er at es a"
s eq ue nc eo fa ct io ns ac co rd in gt ot he pe rc ep ts it re ce iv es . Th is se qu en ce of ac ti on sc au se st he
"e nv ir on me nt t o g o t hr ou gh a s eq ue nc e o f s ta te s . If t he s eq ue nc e i s d es ir ab le , t he n t he a ge nt"
PERFORMANCE h as p er fo rm ed w el l . Th is n ot io n o f d es ir ab il it y i s c ap tu re d b y a pe rf or ma nc e m ea su re t ha t
MEASURE
e va lu at es an yg iv en se qu en ce o fe nv ir on me nt s ta te s .
"No ti ce t ha t w e s ai d e nv ir on me nt s ta te s , n ot a ge nt s ta te s . If w e d ef in e s uc ce ss i n t er ms"
"o f a ge nt’s o pi ni on o fi ts o wn p er fo rm an ce , a n a ge nt c ou ld a ch ie ve p er fe ct r at io na li ty s im pl y"
b yd el ud in g i ts el ft ha ti ts pe rf or ma nc e w as pe rf ec t . Hu ma na ge nt si np ar ti cu la r a re no to ri ou s
"f or “s ou r g ra pe s”—b el ie vi ng t he y d id n ot r ea ll y w an t s om et hi ng (e .g ., a No be l Pr iz e) a ft er"
n ot ge tt in gi t .
"Ob vi ou sl y ,t he re is no to ne fi xe dp er fo rm an ce me as ur ef or al lt as ks an da ge nt s ;t yp ic al ly ,"
a de si gn er w il ld ev is e o ne a pp ro pr ia te t ot he c ir cu ms ta nc es . Th is is n ot as e as y a si t s ou nd s .
"Co ns id er , f or e xa mp le , t he v ac uu m-c le an er a ge nt f ro m t he p re ce di ng s ec ti on . We m ig ht"
p ro po se to me as ur ep er fo rm an ce by th ea mo un to fd ir tc le an ed u pi na si ng le ei gh t-h ou rs hi ft .
"Wi th a r at io na l a ge nt , o f c ou rs e , w ha t y ou a sk f or i s w ha t y ou g et . A r at io na l a ge nt c an"
"m ax im iz et hi sp er fo rm an ce m ea su re by cl ea ni ng u pt he di rt ,t he nd um pi ng it al lo nt he fl oo r ,"
"t he nc le an in gi tu pa ga in ,a nd so on . Am or es ui ta bl ep er fo rm an ce me as ur ew ou ld re wa rd th e"
"a ge nt fo rh av in ga cl ea nf lo or . Fo re xa mp le ,o ne po in tc ou ld be aw ar de df or ea ch cl ea ns qu ar e"
a t e ac h t im e s te p (p er ha ps w it h a p en al ty f or e le ct ri ci ty c on su me d a nd n oi se g en er at ed). As
"a g en er al r ul e , i t i s b et te r t o d es ig n p er fo rm an ce m ea su re s a cc or di ng t o w ha t o ne a ct ua ll y"
"w an ts in th ee nv ir on me nt , r at he rt ha na cc or di ng t oh ow on et hi nk st he ag en ts ho ul db eh av e ."
"Ev en wh en th eo bv io us pi tf al ls ar ea vo id ed ,t he re re ma in so me kn ot ty is su es to un ta ng le ."
"Fo r e xa mp le , t he n ot io n o f “c le an f lo or” i n t he p re ce di ng p ar ag ra ph i s b as ed o n a ve ra ge"
c le an li ne ss o ve r t im e . Ye t t he s am e a ve ra ge c le an li ne ss c an b e a ch ie ve d b y t wo d if fe re nt
"a ge nt s ,o ne of wh ic hd oe sa me di oc re jo ba ll th et im ew hi le th eo th er cl ea ns en er ge ti ca ll y b ut"
"t ak es lo ng br ea ks . Wh ic hi sp re fe ra bl em ig ht se em to be af in ep oi nt of ja ni to ri al sc ie nc e , b ut"
i n f ac t i t i s a d ee p p hi lo so ph ic al q ue st io n w it h f ar-r ea ch in g i mp li ca ti on s . Wh ic h i s b et te r—
"a r ec kl es s l if e o f h ig hs a nd l ow s , o r a s af e b ut h um dr um e xi st en ce ? Wh ic h i s b et te r—a n"
"e co no my w he re e ve ry on e l iv es i n m od er at e p ov er ty , o r o ne i n w hi ch s om e l iv e i n p le nt y"
w hi le ot he rs ar ev er yp oo r ? We le av et he se qu es ti on s a sa ne xe rc is ef or th ed il ig en tr ea de r .
2.2.1 Ra ti on al it y
Wh at is ra ti on al at an yg iv en ti me de pe nd s o nf ou rt hi ng s:
• Th ep er fo rm an ce m ea su re th at de fi ne st he cr it er io no fs uc ce ss .
• Th ea ge nt’s pr io rk no wl ed ge o ft he en vi ro nm en t .
• Th ea ct io ns th at th ea ge nt ca np er fo rm .
• Th ea ge nt’s pe rc ep ts eq ue nc e t od at e .
DEFINITIONOFA Th is le ad st oa de fi ni ti on of ar at io na la ge nt:
RATIONALAGENT
"Fo re ac hp os si bl e p er ce pt se qu en ce , a r at io na la ge nt sh ou ld se le ct a na ct io n t ha ti s e x-"
"p ec te dt om ax im iz ei ts pe rf or ma nc em ea su re ,g iv en th ee vi de nc ep ro vi de db yt he pe rc ep t"
s eq ue nc ea nd wh at ev er bu il t-i nk no wl ed ge th ea ge nt ha s .
38 Ch ap te r 2. In te ll ig en t Ag en ts
Co ns id er th es im pl ev ac uu m-c le an er a ge nt t ha tc le an s a sq ua re i fi ti sd ir ty a nd mo ve st ot he
o th er sq ua re i fn ot ; t hi si st he ag en tf un ct io n t ab ul at ed i n Fi gu re 2.3. Is th is ar at io na l a ge nt ?
"Th at d ep en ds ! Fi rs t , w e n ee d t o s ay w ha t t he p er fo rm an ce m ea su re i s , w ha t i s k no wn a bo ut"
"t he en vi ro nm en t , a nd wh at se ns or sa nd ac tu at or s t he ag en th as . Le tu sa ss um et he fo ll ow in g:"
"• Th e p er fo rm an ce m ea su re a wa rd s o ne p oi nt f or e ac h c le an s qu ar e a t e ac h t im e s te p ,"
o ve ra“l if et im e”o f 1000 t im es te ps .
• Th e “g eo gr ap hy” o f t he e nv ir on me nt i s k no wn a p ri or i (Fi gu re 2.2) b ut t he d ir t d is tr i-
b ut io na nd th ei ni ti al lo ca ti on of th ea ge nt ar en ot . Cl ea ns qu ar es st ay cl ea na nd su ck in g
c le an s t he c ur re nt s qu ar e . Th e Le ft a nd Ri gh t a ct io ns m ov e t he a ge nt l ef t a nd r ig ht
"e xc ep tw he nt hi sw ou ld ta ke th ea ge nt ou ts id et he en vi ro nm en t , i nw hi ch ca se th ea ge nt"
r em ai ns wh er ei ti s .
"• Th eo nl ya va il ab le a ct io ns ar e Le ft ,Ri gh t ,a nd Su ck ."
• Th ea ge nt co rr ec tl y p er ce iv es it sl oc at io n a nd wh et he rt ha t l oc at io n c on ta in s d ir t .
We c la im t ha t u nd er t he se c ir cu ms ta nc es t he a ge nt i s i nd ee d r at io na l ; i ts e xp ec te d p er fo r-
m an ce is at le as ta sh ig ha sa ny ot he ra ge nt’s . Ex er ci se 2.2 a sk sy ou to pr ov et hi s .
On e c an s ee e as il y t ha t t he s am e a ge nt w ou ld b e i rr at io na l u nd er d if fe re nt c ir cu m-
"s ta nc es . Fo re xa mp le , o nc e a ll th ed ir ti sc le an ed u p , t he ag en t w il lo sc il la te n ee dl es sl y b ac k"
a nd fo rt h ;i ft he pe rf or ma nc em ea su re in cl ud es ap en al ty of on ep oi nt fo re ac hm ov em en tl ef t
"o r r ig ht , t he a ge nt w il l f ar e p oo rl y . A b et te r a ge nt f or t hi s c as e w ou ld d o n ot hi ng o nc e i t i s"
"s ur e t ha t a ll th e s qu ar es a re c le an . If cl ea n s qu ar es c an b ec om e d ir ty a ga in , t he a ge nt s ho ul d"
o cc as io na ll y c he ck a nd r e-c le an t he m i f n ee de d . If t he g eo gr ap hy o f t he e nv ir on me nt i s u n-
"k no wn , t he a ge nt w il l n ee d t o e xp lo re i t r at he r t ha n s ti ck t o s qu ar es A a nd B . Ex er ci se 2.2"
a sk sy ou to de si gn ag en ts fo rt he se ca se s .
"2.2.2 Om ni sc ie nc e , l ea rn in g , a nd au to no my"
We n ee d t o b e c ar ef ul t o d is ti ng ui sh b et we en r at io na li ty a nd o mn is ci en ce . An o mn is ci en t
OMNISCIENCE
a ge nt k no ws t he a ct ua l o ut co me o f i ts a ct io ns a nd c an a ct a cc or di ng ly ; b ut o mn is ci en ce i s
i mp os si bl e i n r ea li ty . Co ns id er t he f ol lo wi ng e xa mp le: I a m w al ki ng a lo ng t he Ch am ps
El ys e´e s o ne d ay a nd I s ee a n o ld f ri en d a cr os s t he s tr ee t . Th er e i s n o t ra ff ic n ea rb y a nd I’m
"n ot o th er wi se e ng ag ed , s o , b ei ng r at io na l , I s ta rt t o c ro ss t he s tr ee t . Me an wh il e , a t 33,000"
"f ee t , a c ar go d oo r f al ls o ff a p as si ng a ir li ne r ,2 a nd b ef or e I m ak e i t t o t he o th er s id e o f t he"
s tr ee t Ia mf la tt en ed . Wa s Ii rr at io na lt oc ro ss th es tr ee t ? It is un li ke ly th at my ob it ua ry wo ul d
r ea d“Id io ta tt em pt st oc ro ss st re et .”
Th is e xa mp le s ho ws t ha t r at io na li ty i s n ot t he s am e a s p er fe ct io n . Ra ti on al it y m ax-
"i mi ze s e xp ec te d p er fo rm an ce , w hi le p er fe ct io n m ax im iz es a ct ua l p er fo rm an ce . Re tr ea ti ng"
f ro m a r eq ui re me nt o f p er fe ct io n i s n ot j us t a q ue st io n o f b ei ng f ai r t o a ge nt s . Th e p oi nt i s
"t ha t i f w e e xp ec t a n a ge nt t o d o w ha t t ur ns o ut t o b e t he b es t a ct io n a ft er t he f ac t , i t w il l b e"
i mp os si bl et od es ig na na ge nt to fu lf il lt hi ss pe ci fi ca ti on—u nl es sw ei mp ro ve th ep er fo rm an ce
o fc ry st al b al ls or ti me ma ch in es .
"2 Se e N .He nd er so n ,“Ne wd oo rl at ch es ur ge df or Bo ei ng 747 j um bo je ts ,”Wa sh in gt on Po st ,Au gu st 24,1989."
Se ct io n 2.2. Go od Be ha vi or: Th e Co nc ep to f Ra ti on al it y 39
"Ou r d ef in it io n o f r at io na li ty d oe s n ot r eq ui re o mn is ci en ce , t he n , b ec au se t he r at io na l"
c ho ic e d ep en ds o nl y o n t he p er ce pt s eq ue nc e t o d at e . We m us t a ls o e ns ur e t ha t w e h av en’t
i na dv er te nt ly a ll ow ed th ea ge nt to en ga ge in de ci de dl y u nd er in te ll ig en t a ct iv it ie s . Fo re xa m-
"p le ,i fa na ge nt do es no tl oo kb ot hw ay sb ef or ec ro ss in ga bu sy ro ad ,t he ni ts pe rc ep ts eq ue nc e"
w il l n ot t el l i t t ha t t he re i s a l ar ge t ru ck a pp ro ac hi ng a t h ig h s pe ed . Do es o ur d ef in it io n o f
"r at io na li ty s ay th at it’s no w OK t oc ro ss t he ro ad ? Fa rf ro mi t ! Fi rs t ,i tw ou ld n ot be ra ti on al"
t oc ro ss t he r oa d g iv en t hi su ni nf or ma ti ve p er ce pt s eq ue nc e: t he r is ko fa cc id en t f ro m c ro ss-
"i ng wi th ou tl oo ki ng is to og re at . Se co nd ,a ra ti on al ag en ts ho ul dc ho os et he“l oo ki ng” a ct io n"
"b ef or e s te pp in g i nt o t he s tr ee t , b ec au se l oo ki ng h el ps m ax im iz e t he e xp ec te d p er fo rm an ce ."
Do in g a ct io ns i n o rd er t o m od if y f ut ur e p er ce pt s—s om et im es c al le d i nf or ma ti on g at he r-
INFORMATION i ng—i s a n i mp or ta nt p ar t o f r at io na li ty a nd i s c ov er ed i n d ep th i n Ch ap te r 16. A s ec on d
GATHERING
e xa mp le of in fo rm at io ng at he ri ng i sp ro vi de db yt he e xp lo ra ti on t ha tm us tb eu nd er ta ke n b y
EXPLORATION
a va cu um-c le an in g a ge nt in an in it ia ll y u nk no wn en vi ro nm en t .
Ou rd ef in it io n r eq ui re s a ra ti on al a ge nt no to nl yt og at he ri nf or ma ti on b ut al so to le ar n
LEARNING
a s m uc h a s p os si bl e f ro m w ha t i t p er ce iv es . Th e a ge nt’s i ni ti al c on fi gu ra ti on c ou ld r ef le ct
"s om e p ri or k no wl ed ge o f t he e nv ir on me nt , b ut a s t he a ge nt g ai ns e xp er ie nc e t hi s m ay b e"
m od if ie d a nd a ug me nt ed . Th er e a re e xt re me c as es i n w hi ch t he e nv ir on me nt i s c om pl et el y
"k no wn a p ri or i . In s uc h c as es , t he a ge nt n ee d n ot p er ce iv e o rl ea rn ; i t s im pl y a ct s c or re ct ly ."
"Of co ur se ,s uc ha ge nt sa re fr ag il e . Co ns id er th el ow ly du ng be et le . Af te rd ig gi ng it sn es ta nd"
"l ay in gi ts eg gs ,i tf et ch es ab al lo fd un gf ro ma ne ar by he ap to pl ug th ee nt ra nc e . If th eb al lo f"
"d un g i sr em ov ed f ro m i ts gr as p e n r ou te , t he b ee tl e c on ti nu es i ts t as k a nd p an to mi me s p lu g-"
"g in g t he n es t w it ht he n on ex is te nt d un g b al l , n ev er n ot ic in g t ha t i t i s m is si ng . Ev ol ut io n h as"
"b ui lt an as su mp ti on i nt ot he be et le’s be ha vi or , a nd wh en it is vi ol at ed , u ns uc ce ss fu l b eh av io r"
"r es ul ts . Sl ig ht ly m or e i nt el li ge nt i s t he s ph ex w as p . Th e f em al e s ph ex w il l d ig a b ur ro w , g o"
"o ut a nd s ti ng a c at er pi ll ar a nd d ra g i t t o t he b ur ro w , e nt er t he b ur ro w a ga in t o c he ck a ll i s"
"w el l ,d ra gt he ca te rp il la ri ns id e ,a nd la yi ts eg gs . Th ec at er pi ll ar se rv es as af oo ds ou rc ew he n"
"t he e gg s h at ch . So f ar s o g oo d , b ut i f a n e nt om ol og is t m ov es t he c at er pi ll ar a f ew i nc he s"
"a wa y w hi le t he s ph ex i sd oi ng t he c he ck , i t w il lr ev er t t o t he “d ra g” s te p o fi ts p la n a nd w il l"
"c on ti nu et he pl an wi th ou tm od if ic at io n ,e ve na ft er do ze ns of ca te rp il la r-m ov in gi nt er ve nt io ns ."
"Th es ph ex is un ab le to le ar nt ha ti ts in na te pl an is fa il in g , a nd th us wi ll no tc ha ng e i t ."
To t he e xt en t t ha t a n a ge nt r el ie s o n t he p ri or k no wl ed ge o f i ts d es ig ne r r at he r t ha n
"AUTONOMY o n i ts o wn p er ce pt s , w e s ay t ha t t he a ge nt l ac ks a ut on om y . A r at io na l a ge nt s ho ul d b e"
a ut on om ou s—i t s ho ul d l ea rn w ha t i t c an t o c om pe ns at e f or pa rt ia l o r i nc or re ct p ri or k no wl-
"e dg e . Fo re xa mp le ,a va cu um-c le an in ga ge nt th at le ar ns to fo re se ew he re an dw he na dd it io na l"
"d ir t w il l a pp ea r w il l d o b et te r t ha n o ne t ha t d oe s n ot . As a p ra ct ic al m at te r , o ne s el do m r e-"
"q ui re s c om pl et e a ut on om y f ro m t he s ta rt: w he n t he a ge nt h as h ad l it tl e o r n o e xp er ie nc e , i t"
"w ou ld h av e t o a ct r an do ml y u nl es s t he d es ig ne r g av e s om e a ss is ta nc e . So , j us t a s e vo lu ti on"
"p ro vi de sa ni ma ls wi th en ou gh bu il t-i nr ef le xe st os ur vi ve lo ng en ou gh to le ar nf or th em se lv es ,"
i t w ou ld b e r ea so na bl e t o p ro vi de a n a rt if ic ia l i nt el li ge nt a ge nt w it h s om e i ni ti al k no wl ed ge
"a s w el l a s a n a bi li ty t o l ea rn . Af te r s uf fi ci en t e xp er ie nc e o f i ts e nv ir on me nt , t he b eh av io r"
"o f a r at io na l a ge nt c an b ec om e e ff ec ti ve ly i nd ep en de nt o f i ts p ri or k no wl ed ge . He nc e , t he"
i nc or po ra ti on o f l ea rn in g a ll ow s o ne t o d es ig n a s in gl e r at io na l a ge nt t ha t w il l s uc ce ed i n a
v as tv ar ie ty of en vi ro nm en ts .
40 Ch ap te r 2. In te ll ig en t Ag en ts
2.3 THE NATURE OF ENVIRONMENTS
"No w t ha t w e h av e a d ef in it io n o f r at io na li ty , w e a re a lm os t r ea dy t o t hi nk a bo ut b ui ld in g"
"r at io na l a ge nt s . Fi rs t , h ow ev er , w e m us t t hi nk a bo ut t as k e nv ir on me nt s , w hi ch a re e ss en-"
TASKENVIRONMENT
t ia ll yt he“p ro bl em s” t ow hi ch ra ti on al a ge nt sa re th e“s ol ut io ns .” We be gi nb ys ho wi ng ho w
"t o s pe ci fy a t as k e nv ir on me nt , i ll us tr at in g t he p ro ce ss w it h a n um be r o f e xa mp le s . We t he n"
s ho wt ha tt as k e nv ir on me nt s c om ei na va ri et yo ff la vo rs . Th ef la vo ro ft he ta sk en vi ro nm en t
d ir ec tl ya ff ec ts th ea pp ro pr ia te d es ig nf or th ea ge nt pr og ra m .
2.3.1 Sp ec if yi ng t he ta sk en vi ro nm en t
"In o ur d is cu ss io n o f t he r at io na li ty o f t he s im pl e v ac uu m-c le an er a ge nt , w e h ad t o s pe ci fy"
"t he pe rf or ma nc e m ea su re , t he en vi ro nm en t , a nd t he ag en t’s a ct ua to rs a nd s en so rs . We gr ou p"
"a ll th es eu nd er th eh ea di ng o ft he ta sk en vi ro nm en t . Fo rt he ac ro ny mi ca ll y m in de d , w ec al l"
"t hi st he PEAS(Pe rf or ma nc e , En vi ro nm en t , Ac tu at or s , Se ns or s)d es cr ip ti on . In de si gn in g a n"
PEAS
"a ge nt ,t he fi rs ts te pm us ta lw ay sb et os pe ci fy t he ta sk en vi ro nm en t a sf ul ly as po ss ib le ."
Th ev ac uu m w or ld wa sa si mp le ex am pl e ;l et us co ns id er a mo re co mp le xp ro bl em: a n
"a ut om at ed t ax i d ri ve r . We s ho ul d p oi nt o ut , b ef or e t he r ea de r b ec om es a la rm ed , t ha t a f ul ly"
a ut om at ed ta xi is cu rr en tl ys om ew ha tb ey on dt he ca pa bi li ti es of ex is ti ng te ch no lo gy . (p ag e 28
d es cr ib es a ne xi st in g d ri vi ng r ob ot .) Th ef ul ld ri vi ng t as k i se xt re me ly o pe n-e nd ed . Th er ei s
n ol im it to th en ov el co mb in at io ns o fc ir cu ms ta nc es t ha tc an ar is e—a no th er r ea so nw ec ho se
i t a s a f oc us f or d is cu ss io n . Fi gu re 2.4 s um ma ri ze s t he PEAS d es cr ip ti on f or t he t ax i’s t as k
e nv ir on me nt . We di sc us s e ac he le me nt in mo re de ta il in th ef ol lo wi ng pa ra gr ap hs .
Ag en t Ty pe Pe rf or ma nc e En vi ro nm en t Ac tu at or s Se ns or s
Me as ur e
"Ta xi dr iv er Sa fe ,f as t ,l eg al , Ro ad s ,o th er St ee ri ng , Ca me ra s ,s on ar ,"
"c om fo rt ab le tr ip , t ra ff ic , a cc el er at or , s pe ed om et er ,"
"m ax im iz ep ro fi ts p ed es tr ia ns , b ra ke ,s ig na l , GPS ,o do me te r ,"
"c us to me rs h or n ,d is pl ay a cc el er om et er ,"
"e ng in es en so rs ,"
k ey bo ar d
Fi gu re 2.4 PEASd es cr ip ti on of th et as ke nv ir on me nt fo ra na ut om at ed ta xi .
"Fi rs t , w ha t i st he p er fo rm an ce m ea su re t ow hi ch w ew ou ld l ik e o ur au to ma te d d ri ve r"
t oa sp ir e ? De si ra bl eq ua li ti es i nc lu de ge tt in g t ot he co rr ec t d es ti na ti on ; m in im iz in gf ue lc on-
s um pt io na nd we ar an dt ea r ;m in im iz in gt he tr ip ti me or co st ; m in im iz in gv io la ti on so ft ra ff ic
l aw s a nd d is tu rb an ce s t o o th er d ri ve rs ; m ax im iz in g s af et y a nd p as se ng er c om fo rt ; m ax im iz-
"i ng pr of it s . Ob vi ou sl y , s om eo ft he se go al sc on fl ic t , s ot ra de of fs w il lb er eq ui re d ."
"Ne xt , w ha t i s t he d ri vi ng e nv ir on me nt t ha t t he t ax i w il l f ac e ? An y t ax i d ri ve r m us t"
"d ea l w it h a v ar ie ty o f r oa ds , r an gi ng f ro m r ur al l an es a nd u rb an a ll ey s t o 12-l an e f re ew ay s ."
"Th e r oa ds c on ta in o th er t ra ff ic , p ed es tr ia ns , s tr ay a ni ma ls , r oa d w or ks , p ol ic e c ar s , p ud dl es ,"
Se ct io n 2.3. Th e Na tu re of En vi ro nm en ts 41
a nd po th ol es . Th et ax im us ta ls oi nt er ac tw it hp ot en ti al an da ct ua lp as se ng er s . Th er ea re al so
"s om e o pt io na l c ho ic es . Th e t ax i m ig ht n ee d t o o pe ra te i n So ut he rn Ca li fo rn ia , w he re s no w"
"i s s el do m a pr ob le m , o ri n Al as ka , w he re i t s el do m i sn ot . It co ul d a lw ay s b e d ri vi ng o n t he"
"r ig ht , o rw em ig ht wa nt it to be fl ex ib le en ou gh t od ri ve on th el ef tw he ni n Br it ai n o r Ja pa n ."
"Ob vi ou sl y , t he mo re re st ri ct ed t he en vi ro nm en t , t he ea si er t he de si gn pr ob le m ."
Th ea ct ua to rs fo ra na ut om at ed ta xi in cl ud et ho se av ai la bl e t oa hu ma nd ri ve r: c on tr ol
"o ve rt he en gi ne t hr ou gh t he ac ce le ra to r a nd co nt ro l o ve rs te er in g a nd br ak in g . In ad di ti on , i t"
"w il l n ee d o ut pu t t o a d is pl ay s cr ee n o r v oi ce s yn th es iz er t o t al k b ac k t o t he p as se ng er s , a nd"
"p er ha ps so me wa yt oc om mu ni ca te wi th ot he rv eh ic le s , p ol it el y o ro th er wi se ."
Th e b as ic s en so rs f or t he t ax i w il l i nc lu de o ne o r m or e c on tr ol la bl e v id eo c am er as s o
t ha t i t c an s ee t he r oa d ; i t m ig ht a ug me nt t he se w it h i nf ra re d o r s on ar s en so rs t o d et ec t d is-
"t an ce st oo th er ca rs an do bs ta cl es . To av oi ds pe ed in gt ic ke ts ,t he ta xi sh ou ld ha ve as pe ed om e-"
"t er ,a nd to co nt ro lt he ve hi cl ep ro pe rl y , e sp ec ia ll yo nc ur ve s ,i ts ho ul dh av ea na cc el er om et er ."
"To de te rm in e t he me ch an ic al s ta te o ft he ve hi cl e , i tw il ln ee d t he us ua l a rr ay o fe ng in e , f ue l ,"
"a nd e le ct ri ca l s ys te m s en so rs . Li ke m an y h um an d ri ve rs , i t m ig ht w an t a g lo ba l p os it io ni ng"
"s ys te m (GPS) s o t ha t i t d oe sn’t g et l os t . Fi na ll y , i t w il l n ee d a k ey bo ar d o r m ic ro ph on e f or"
t he pa ss en ge rt or eq ue st a de st in at io n .
"In Fi gu re 2.5, w e h av e s ke tc he d t he b as ic PEAS e le me nt s f or a n um be r o f a dd it io na l"
a ge nt ty pe s . Fu rt he re xa mp le sa pp ea ri n Ex er ci se 2.4. It ma yc om ea sa su rp ri se to so me re ad-
e rs t ha t o ur l is t o f a ge nt t yp es i nc lu de s s om e p ro gr am s t ha t o pe ra te i n t he e nt ir el y a rt if ic ia l
"e nv ir on me nt de fi ne db yk ey bo ar di np ut an dc ha ra ct er ou tp ut on as cr ee n . “Su re ly ,”o ne mi gh t"
"s ay ,“t hi si sn ot ar ea le nv ir on me nt , i si t ?” In fa ct ,w ha tm at te rs is no tt he di st in ct io n b et we en"
"“r ea l”a nd“a rt if ic ia l”e nv ir on me nt s , b ut th ec om pl ex it yo f t he re la ti on sh ip a mo ng th eb eh av-"
"i or o f t he a ge nt , t he p er ce pt s eq ue nc e g en er at ed b y t he e nv ir on me nt , a nd t he p er fo rm an ce"
"m ea su re . So me“r ea l”e nv ir on me nt s a re ac tu al ly qu it es im pl e . Fo re xa mp le ,a ro bo td es ig ne d"
t oi ns pe ct pa rt sa st he yc om eb yo na co nv ey or be lt ca nm ak eu se o fa nu mb er of si mp li fy in g
"a ss um pt io ns: t ha t t he l ig ht in g i s a lw ay s j us t s o , t ha t t he o nl y t hi ng o nt he c on ve yo r b el t w il l"
"b ep ar ts of ak in dt ha ti tk no ws ab ou t ,a nd th at on ly tw oa ct io ns(a cc ep to rr ej ec t)a re po ss ib le ."
"In co nt ra st , s om es of tw ar ea ge nt s(o rs of tw ar er ob ot so r s of tb ot s)e xi st in ri ch ,u nl im-"
SOFTWAREAGENT
i te dd om ai ns . Im ag in ea so ft bo t We bs it eo pe ra to rd es ig ne dt os ca n In te rn et ne ws so ur ce sa nd
SOFTBOT
"s ho w t he i nt er es ti ng i te ms t o i ts u se rs , w hi le s el li ng a dv er ti si ng s pa ce t o g en er at e r ev en ue ."
"To d o w el l , t ha t o pe ra to r w il l n ee d s om e n at ur al l an gu ag e p ro ce ss in g a bi li ti es , i t w il l n ee d"
"t o l ea rn w ha t e ac h u se r a nd a dv er ti se r i s i nt er es te d i n , a nd i t w il l n ee d t o c ha ng e i ts p la ns"
"d yn am ic al ly—f or e xa mp le , w he n t he c on ne ct io n f or o ne n ew s s ou rc e g oe s d ow n o r w he n a"
n ew o ne c om es o nl in e . Th e In te rn et i s a n e nv ir on me nt w ho se c om pl ex it y r iv al s t ha t o f t he
p hy si ca lw or ld an dw ho se in ha bi ta nt s i nc lu de ma ny ar ti fi ci al an dh um an ag en ts .
2.3.2 Pr op er ti es o ft as ke nv ir on me nt s
"Th e r an ge o f t as k e nv ir on me nt s t ha t m ig ht a ri se i n AI i s o bv io us ly v as t . We c an , h ow ev er ,"
i de nt if y a f ai rl y s ma ll n um be r o f d im en si on s a lo ng w hi ch t as k e nv ir on me nt s c an b e c at eg o-
"r iz ed . Th es e d im en si on s d et er mi ne , t o a l ar ge e xt en t , t he a pp ro pr ia te a ge nt d es ig n a nd t he"
"a pp li ca bi li ty o f e ac h o f t he p ri nc ip al f am il ie s o f t ec hn iq ue s f or ag en t i mp le me nt at io n . Fi rs t ,"
42 Ch ap te r 2. In te ll ig en t Ag en ts
Ag en t Ty pe Pe rf or ma nc e En vi ro nm en t Ac tu at or s Se ns or s
Me as ur e
"Me di ca l He al th yp at ie nt , Pa ti en t ,h os pi ta l , Di sp la yo f Ke yb oa rd en tr y"
"d ia gn os is sy st em r ed uc ed co st s s ta ff q ue st io ns ,t es ts , o fs ym pt om s ,"
"d ia gn os es , f in di ng s ,p at ie nt’s"
"t re at me nt s , a ns we rs"
r ef er ra ls
Sa te ll it ei ma ge Co rr ec ti ma ge Do wn li nk fr om Di sp la yo fs ce ne Co lo rp ix el
a na ly si ss ys te m c at eg or iz at io n o rb it in gs at el li te c at eg or iz at io n a rr ay s
"Pa rt-p ic ki ng Pe rc en ta ge of Co nv ey or be lt Jo in te da rm an d Ca me ra ,j oi nt"
r ob ot p ar ts in co rr ec t w it hp ar ts ;b in s h an d a ng le se ns or s
b in s
"Re fi ne ry Pu ri ty ,y ie ld , Re fi ne ry , Va lv es ,p um ps , Te mp er at ur e ,"
"c on tr ol le r s af et y o pe ra to rs h ea te rs ,d is pl ay s p re ss ur e ,"
c he mi ca ls en so rs
"In te ra ct iv e St ud en t’s sc or e Se to fs tu de nt s , Di sp la yo f Ke yb oa rd en tr y"
"En gl is ht ut or o nt es t t es ti ng ag en cy e xe rc is es ,"
"s ug ge st io ns ,"
c or re ct io ns
Fi gu re 2.5 Ex am pl es of ag en tt yp es an dt he ir PEASd es cr ip ti on s .
"w el is tt he di me ns io ns , t he nw ea na ly ze se ve ra lt as ke nv ir on me nt s t oi ll us tr at e t he id ea s . Th e"
d ef in it io ns he re ar ei nf or ma l ;l at er ch ap te rs pr ov id em or ep re ci se st at em en ts an de xa mp le so f
e ac hk in do fe nv ir on me nt .
Fu ll y o bs er va bl e v s . p ar ti al ly o bs er va bl e: If a n a ge nt’s s en so rs g iv e i t a cc es s t o t he
FULLYOBSERVABLE
"PARTIALLY c om pl et e s ta te o f t he e nv ir on me nt a t e ac h p oi nt i n t im e , t he n w e s ay t ha t t he t as k e nv ir on-"
OBSERVABLE
m en t i s f ul ly o bs er va bl e . A t as k e nv ir on me nt i s e ff ec ti ve ly f ul ly o bs er va bl e i f t he s en so rs
"d et ec t a ll a sp ec ts t ha t a re r el ev an t t ot he c ho ic e o f a ct io n ; r el ev an ce , i nt ur n , d ep en ds o n t he"
p er fo rm an ce m ea su re . Fu ll yo bs er va bl e e nv ir on me nt s a re co nv en ie nt b ec au se t he ag en tn ee d
n ot ma in ta in an yi nt er na l s ta te to ke ep tr ac ko ft he wo rl d . An e nv ir on me nt m ig ht be pa rt ia ll y
o bs er va bl e b ec au se o f n oi sy a nd i na cc ur at e s en so rs o r b ec au se p ar ts o f t he s ta te a re s im pl y
"m is si ng f ro m t he s en so r d at a—f or e xa mp le , a v ac uu m a ge nt w it h o nl y a l oc al d ir t s en so r"
"c an no tt el lw he th er th er ei sd ir ti no th er sq ua re s ,a nd an au to ma te dt ax ic an no ts ee wh at ot he r"
d ri ve rs a re t hi nk in g . If t he a ge nt h as n o s en so rs a t a ll t he n t he e nv ir on me nt i s u no bs er v-
"a bl e . On e m ig ht t hi nk t ha t i n s uc h c as es t he a ge nt’s p li gh t i s h op el es s , b ut , a s w ed is cu ss i n"
UNOBSERVABLE
"Ch ap te r 4,t he ag en t’s g oa ls ma ys ti ll be ac hi ev ab le , s om et im es wi th ce rt ai nt y ."
Si ng le ag en t v s . m ul ti ag en t: Th ed is ti nc ti on b et we en s in gl e-a ge nt a nd mu lt ia ge nt e n-
SINGLEAGENT
MULTIAGENT
Se ct io n 2.3. Th e Na tu re of En vi ro nm en ts 43
"v ir on me nt s m ay s ee m s im pl e e no ug h . Fo re xa mp le , a na ge nt s ol vi ng a cr os sw or d p uz zl e b y"
"i ts el f i s c le ar ly i n a s in gl e-a ge nt e nv ir on me nt , w he re as a n a ge nt p la yi ng c he ss i s i n a t wo-"
"a ge nt en vi ro nm en t . Th er ea re ,h ow ev er , s om es ub tl e i ss ue s . Fi rs t ,w eh av ed es cr ib ed h ow an"
"e nt it y m ay b e v ie we d a s a n a ge nt , b ut w e h av e n ot e xp la in ed w hi ch e nt it ie s m us t b e v ie we d"
a s a ge nt s . Do es a n a ge nt A (t he t ax i d ri ve r f or e xa mp le) h av e t o t re at a n o bj ec t B (a no th er
"v eh ic le)a sa na ge nt ,o rc an it be tr ea te dm er el ya sa no bj ec tb eh av in ga cc or di ng to th el aw so f"
"p hy si cs , a na lo go us t ow av es at th eb ea ch o rl ea ve s b lo wi ng i nt he wi nd ? Th ek ey di st in ct io n"
i sw he th er B’s be ha vi or is be st de sc ri be da sm ax im iz in ga pe rf or ma nc em ea su re wh os ev al ue
"d ep en ds o n a ge nt A’s b eh av io r . Fo r e xa mp le , i n c he ss , t he o pp on en t e nt it y B i s t ry in g t o"
"m ax im iz e i ts p er fo rm an ce m ea su re , w hi ch , b y t he r ul es o f c he ss , m in im iz es a ge nt A’s p er-"
"f or ma nc em ea su re . Th us ,c he ss is a c om pe ti ti ve mu lt ia ge nt e nv ir on me nt . In th et ax i-d ri vi ng"
COMPETITIVE
"e nv ir on me nt , o n t he o th er h an d , a vo id in g c ol li si on s m ax im iz es t he p er fo rm an ce m ea su re o f"
"a ll a ge nt s , s o i t i s a p ar ti al ly c oo pe ra ti ve m ul ti ag en t e nv ir on me nt . It i s a ls o p ar ti al ly c om-"
COOPERATIVE
"p et it iv e b ec au se , f or e xa mp le , o nl y o ne c ar c an o cc up y a p ar ki ng s pa ce . Th e a ge nt-d es ig n"
p ro bl em s i nm ul ti ag en t e nv ir on me nt s a re of te nq ui te d if fe re nt f ro mt ho se i ns in gl e-a ge nt e n-
"v ir on me nt s ;f or ex am pl e , c om mu ni ca ti on of te ne me rg es as ar at io na lb eh av io ri nm ul ti ag en t"
"e nv ir on me nt s ; i ns om ec om pe ti ti ve e nv ir on me nt s , r an do mi ze db eh av io ri sr at io na l b ec au se"
i ta vo id s t he pi tf al ls of pr ed ic ta bi li ty .
De te rm in is ti c v s . s to ch as ti c . If t he n ex t s ta te o f t he e nv ir on me nt i s c om pl et el y d et er-
DETERMINISTIC
"m in ed by th ec ur re nt st at ea nd th ea ct io ne xe cu te db yt he ag en t ,t he nw es ay th ee nv ir on me nt"
STOCHASTIC
"i sd et er mi ni st ic ;o th er wi se ,i ti ss to ch as ti c . In pr in ci pl e ,a na ge nt ne ed no tw or ry ab ou tu nc er-"
"t ai nt y i n a f ul ly o bs er va bl e , d et er mi ni st ic e nv ir on me nt . (In o ur d ef in it io n , w e i gn or e u nc er-"
"t ai nt y t ha t a ri se s p ur el y f ro m t he a ct io ns o f o th er a ge nt s i n a m ul ti ag en t e nv ir on me nt ; t hu s ,"
a g am e c an b e d et er mi ni st ic e ve n t ho ug h e ac h a ge nt m ay b e u na bl e t o p re di ct t he a ct io ns o f
"t he o th er s .) If t he e nv ir on me nt i s p ar ti al ly o bs er va bl e , h ow ev er , t he n i t c ou ld a pp ea r t o b e"
s to ch as ti c . Mo st r ea l s it ua ti on s a re s o c om pl ex t ha t i t i s i mp os si bl e t o k ee p t ra ck o f a ll t he
"u no bs er ve d a sp ec ts ;f or pr ac ti ca lp ur po se s , t he ym us tb et re at ed as st oc ha st ic . Ta xi dr iv in gi s"
"c le ar ly s to ch as ti c i nt hi ss en se , b ec au se o ne c an ne ve rp re di ct t he be ha vi or o ft ra ff ic ex ac tl y ;"
"m or eo ve r , o ne’s t ir es b lo w o ut a nd o ne’s e ng in e s ei ze s u p w it ho ut w ar ni ng . Th e v ac uu m"
"w or ld as we de sc ri be d i ti sd et er mi ni st ic , b ut va ri at io ns c an in cl ud e s to ch as ti c e le me nt ss uc h"
a sr an do ml y a pp ea ri ng d ir ta nd an un re li ab le s uc ti on m ec ha ni sm (Ex er ci se 2.13). We sa ya n
e nv ir on me nt i s u nc er ta in i f i t i s n ot f ul ly o bs er va bl e o r n ot d et er mi ni st ic . On e f in al n ot e:
UNCERTAIN
o ur u se o f t he w or d “s to ch as ti c” g en er al ly i mp li es t ha t u nc er ta in ty a bo ut o ut co me s i s q ua n-
t if ie d i n t er ms o f p ro ba bi li ti es ; a n on de te rm in is ti c e nv ir on me nt i s o ne i n w hi ch a ct io ns a re
NONDETERMINISTIC
"c ha ra ct er iz ed b y t he ir p os si bl e o ut co me s , b ut n o p ro ba bi li ti es a re a tt ac he d t o t he m . No nd e-"
t er mi ni st ic e nv ir on me nt d es cr ip ti on s a re u su al ly a ss oc ia te d w it h p er fo rm an ce m ea su re s t ha t
r eq ui re th ea ge nt to su cc ee d f or al lp os si bl e o ut co me so fi ts ac ti on s .
"Ep is od ic v s . s eq ue nt ia l: In a n e pi so di c t as k e nv ir on me nt , t he a ge nt’s e xp er ie nc e i s"
EPISODIC
d iv id ed in to at om ic ep is od es . In ea ch ep is od et he ag en tr ec ei ve sa pe rc ep ta nd th en pe rf or ms
SEQUENTIAL
"a si ng le a ct io n . Cr uc ia ll y , t he n ex t e pi so de d oe s n ot d ep en d o n t he ac ti on s t ak en i np re vi ou s"
"e pi so de s . Ma ny c la ss if ic at io n t as ks a re e pi so di c . Fo r e xa mp le , a n a ge nt t ha t h as t o s po t"
"d ef ec ti ve p ar ts o n a n a ss em bl y l in e b as es e ac h d ec is io n o n t he c ur re nt p ar t , r eg ar dl es s o f"
"p re vi ou s d ec is io ns ; m or eo ve r , t he c ur re nt d ec is io n d oe sn’t a ff ec t w he th er t he n ex t p ar t i s"
44 Ch ap te r 2. In te ll ig en t Ag en ts
"d ef ec ti ve . In s eq ue nt ia l e nv ir on me nt s , o n t he o th er h an d , t he c ur re nt d ec is io n c ou ld a ff ec t"
"a ll fu tu re d ec is io ns .3 Ch es sa nd t ax id ri vi ng a re se qu en ti al: i nb ot h c as es , s ho rt-t er m a ct io ns"
c an h av e l on g-t er m c on se qu en ce s . Ep is od ic e nv ir on me nt s a re m uc h s im pl er t ha n s eq ue nt ia l
e nv ir on me nt s b ec au se th ea ge nt do es no tn ee dt ot hi nk ah ea d .
"St at ic vs .d yn am ic: If th ee nv ir on me nt c an ch an ge wh il ea na ge nt is de li be ra ti ng , t he n"
STATIC
"w es ay th ee nv ir on me nt i sd yn am ic f or th at ag en t ;o th er wi se , i ti ss ta ti c . St at ic en vi ro nm en ts"
DYNAMIC
a re ea sy to de al wi th be ca us et he ag en tn ee dn ot ke ep lo ok in ga tt he wo rl dw hi le it is de ci di ng
"o n a n a ct io n , n or n ee d i t w or ry a bo ut t he p as sa ge o f t im e . Dy na mi c e nv ir on me nt s , o n t he"
"o th er h an d , a re c on ti nu ou sl y a sk in g t he a ge nt w ha t i t w an ts t o d o ; i f i t h as n’t d ec id ed y et ,"
t ha t c ou nt s a s d ec id in g t o d o n ot hi ng . If t he e nv ir on me nt i ts el f d oe s n ot c ha ng e w it h t he
"p as sa ge o f t im e b ut t he a ge nt’s p er fo rm an ce s co re d oe s , t he n w e s ay t he e nv ir on me nt i s"
s em id yn am ic . Ta xi dr iv in gi sc le ar ly dy na mi c: t he ot he rc ar sa nd th et ax i i ts el fk ee pm ov in g
SEMIDYNAMIC
"w hi le th e d ri vi ng a lg or it hm d it he rs a bo ut w ha tt od on ex t . Ch es s , w he np la ye d w it ha cl oc k ,"
i ss em id yn am ic . Cr os sw or dp uz zl es ar es ta ti c .
Di sc re te vs .c on ti nu ou s: Th ed is cr et e/c on ti nu ou s d is ti nc ti on a pp li es t ot he st at eo ft he
DISCRETE
"e nv ir on me nt , t o t he w ay t im e i s h an dl ed , a nd t o t he p er ce pt s a nd a ct io ns o f t he a ge nt . Fo r"
CONTINUOUS
"e xa mp le , t he c he ss e nv ir on me nt h as a f in it e n um be r o f d is ti nc t s ta te s (e xc lu di ng t he c lo ck)."
Ch es s a ls o h as a d is cr et e s et o f p er ce pt s a nd a ct io ns . Ta xi d ri vi ng i s a c on ti nu ou s-s ta te a nd
c on ti nu ou s-t im e p ro bl em: t he s pe ed a nd l oc at io n o ft he t ax i a nd o ft he o th er v eh ic le s s we ep
t hr ou gh a ra ng eo fc on ti nu ou s v al ue s a nd do so sm oo th ly ov er ti me . Ta xi-d ri vi ng a ct io ns a re
"a ls o c on ti nu ou s (s te er in g a ng le s , e tc .). In pu t f ro m d ig it al c am er as i s d is cr et e , s tr ic tl y s pe ak-"
"i ng ,b ut is ty pi ca ll y t re at ed as re pr es en ti ng c on ti nu ou sl y v ar yi ng in te ns it ie s a nd lo ca ti on s ."
"Kn ow nv s . u nk no wn: St ri ct ly s pe ak in g , t hi s d is ti nc ti on r ef er s n ot t o t he e nv ir on me nt"
KNOWN
i ts el f b ut t o t he a ge nt’s (o r d es ig ne r’s) s ta te o f k no wl ed ge a bo ut t he “l aw s o f p hy si cs” o f
UNKNOWN
"t he e nv ir on me nt . In a k no wn e nv ir on me nt , t he o ut co me s (o r o ut co me p ro ba bi li ti es i f t he"
"e nv ir on me nt is st oc ha st ic)f or al la ct io ns ar eg iv en . Ob vi ou sl y ,i ft he en vi ro nm en ti su nk no wn ,"
t he a ge nt w il l h av e t o l ea rn h ow i t w or ks i n o rd er t o m ak e g oo d d ec is io ns . No te t ha t t he
d is ti nc ti on b et we en k no wn a nd u nk no wn e nv ir on me nt s i s n ot t he s am e a s t he o ne b et we en
f ul ly a nd p ar ti al ly o bs er va bl e e nv ir on me nt s . It i s q ui te p os si bl e f or a k no wn e nv ir on me nt
"t o b e p ar ti al ly o bs er va bl e—f or e xa mp le , i n s ol it ai re c ar d g am es , I k no w t he r ul es b ut a m"
"s ti ll u na bl e t o s ee t he c ar ds t ha t h av e n ot y et b ee n t ur ne d o ve r . Co nv er se ly , a n u nk no wn"
"e nv ir on me nt c an b e f ul ly o bs er va bl e—i n a n ew v id eo g am e , t he s cr ee n m ay s ho w t he e nt ir e"
g am es ta te bu t Is ti ll do n’t kn ow wh at th eb ut to ns do un ti l It ry th em .
"As o ne m ig ht e xp ec t , t he h ar de st c as e i s p ar ti al ly o bs er va bl e , m ul ti ag en t , s to ch as ti c ,"
"s eq ue nt ia l ,d yn am ic ,c on ti nu ou s ,a nd un kn ow n . Ta xi dr iv in gi sh ar di na ll th es es en se s ,e xc ep t"
t ha tf or th em os tp ar tt he dr iv er’s en vi ro nm en ti sk no wn . Dr iv in ga re nt ed ca ri na ne wc ou nt ry
w it hu nf am il ia rg eo gr ap hy a nd tr af fi cl aw si sa lo tm or ee xc it in g .
Fi gu re 2.6 l is ts t he p ro pe rt ie s o f a n um be r o f f am il ia r e nv ir on me nt s . No te t ha t t he
"a ns we rs a re n ot a lw ay s c ut a nd d ri ed . Fo r e xa mp le , w e d es cr ib e t he p ar t-p ic ki ng r ob ot a s"
"e pi so di c , b ec au se i tn or ma ll y c on si de rs e ac h p ar t i n i so la ti on . Bu ti f o ne da y t he re i sa la rg e"
3 Th ew or d“s eq ue nt ia l”i sa ls ou se di nc om pu te rs ci en ce as th ea nt on ym of“p ar al le l .” Th et wo me an in gs ar e
l ar ge ly un re la te d .
Se ct io n 2.3. Th e Na tu re of En vi ro nm en ts 45
Ta sk En vi ro nm en t Ob se rv ab le Ag en ts De te rm in is ti c Ep is od ic St at ic Di sc re te
Cr os sw or dp uz zl e Fu ll y Si ng le De te rm in is ti c Se qu en ti al St at ic Di sc re te
Ch es sw it ha cl oc k Fu ll y Mu lt i De te rm in is ti c Se qu en ti al Se mi Di sc re te
Po ke r Pa rt ia ll y Mu lt i St oc ha st ic Se qu en ti al St at ic Di sc re te
Ba ck ga mm on Fu ll y Mu lt i St oc ha st ic Se qu en ti al St at ic Di sc re te
Ta xi dr iv in g Pa rt ia ll y Mu lt i St oc ha st ic Se qu en ti al Dy na mi c Co nt in uo us
Me di ca ld ia gn os is Pa rt ia ll y Si ng le St oc ha st ic Se qu en ti al Dy na mi c Co nt in uo us
Im ag ea na ly si s Fu ll y Si ng le De te rm in is ti c Ep is od ic Se mi Co nt in uo us
Pa rt-p ic ki ng ro bo t Pa rt ia ll y Si ng le St oc ha st ic Ep is od ic Dy na mi c Co nt in uo us
Re fi ne ry co nt ro ll er Pa rt ia ll y Si ng le St oc ha st ic Se qu en ti al Dy na mi c Co nt in uo us
In te ra ct iv e En gl is ht ut or Pa rt ia ll y Mu lt i St oc ha st ic Se qu en ti al Dy na mi c Di sc re te
Fi gu re 2.6 Ex am pl es of ta sk en vi ro nm en ts an dt he ir ch ar ac te ri st ic s .
"b at ch of de fe ct iv ep ar ts ,t he ro bo ts ho ul dl ea rn fr om se ve ra lo bs er va ti on s t ha tt he di st ri bu ti on"
"o f d ef ec ts h as c ha ng ed , a nd s ho ul d m od if y i ts b eh av io r f or s ub se qu en t p ar ts . We h av e n ot"
"i nc lu de da“k no wn/u nk no wn”c ol um nb ec au se ,a se xp la in ed ea rl ie r ,t hi si sn ot st ri ct ly ap ro p-"
"e rt y o f t he e nv ir on me nt . Fo rs om e e nv ir on me nt s , s uc h a sc he ss a nd p ok er , i t i sq ui te e as y t o"
"s up pl yt he ag en tw it hf ul lk no wl ed ge of th er ul es ,b ut it is no ne th el es s i nt er es ti ng t oc on si de r"
h ow an ag en tm ig ht le ar nt op la yt he se ga me sw it ho ut su ch kn ow le dg e .
Se ve ra lo ft he an sw er si nt he ta bl ed ep en d o nh ow th et as ke nv ir on me nt i sd ef in ed . We
h av el is te dt he me di ca l-d ia gn os is t as ka ss in gl e-a ge nt be ca us et he di se as ep ro ce ss in ap at ie nt
i s n ot p ro fi ta bl y m od el ed a s a n a ge nt ; b ut a m ed ic al-d ia gn os is s ys te m m ig ht a ls o h av e t o
"d ea lw it hr ec al ci tr an tp at ie nt sa nd sk ep ti ca ls ta ff ,s ot he en vi ro nm en tc ou ld ha ve am ul ti ag en t"
"a sp ec t . Fu rt he rm or e , m ed ic al di ag no si s i se pi so di c i fo ne co nc ei ve s o ft he ta sk as se le ct in g a"
d ia gn os is gi ve na li st of sy mp to ms ;t he pr ob le mi ss eq ue nt ia li ft he ta sk ca ni nc lu de pr op os in g
"a s er ie s o f t es ts , e va lu at in g p ro gr es s o ve r t he c ou rs e o f t re at me nt , a nd s o o n . Al so , m an y"
"e nv ir on me nt s a re e pi so di c a t h ig he r l ev el s t ha n t he a ge nt’s i nd iv id ua l a ct io ns . Fo r e xa mp le ,"
a c he ss t ou rn am en t c on si st s o f a s eq ue nc e o f g am es ; e ac h g am e i s a n e pi so de b ec au se (b y
a nd l ar ge) t he c on tr ib ut io n o f t he m ov es i n o ne g am e t o t he a ge nt’s o ve ra ll p er fo rm an ce i s
"n ot af fe ct ed b yt he mo ve si ni ts pr ev io us g am e . On th eo th er ha nd , d ec is io n m ak in gw it hi na"
s in gl eg am ei sc er ta in ly s eq ue nt ia l .
Th e c od e r ep os it or y a ss oc ia te d w it h t hi s b oo k (a im a .c s .b er ke le y .e du) i nc lu de s i mp le-
"m en ta ti on so fa nu mb er of en vi ro nm en ts , t og et he rw it ha ge ne ra l-p ur po se e nv ir on me nt si mu-"
"l at or th at pl ac es on eo rm or ea ge nt si na si mu la te de nv ir on me nt , o bs er ve st he ir be ha vi or ov er"
"t im e , a nd e va lu at es t he m a cc or di ng t o a g iv en p er fo rm an ce m ea su re . Su ch e xp er im en ts a re"
o ft en ca rr ie d o ut no tf or as in gl e e nv ir on me nt b ut fo rm an ye nv ir on me nt s d ra wn fr om an e n-
"ENVIRONMENT v ir on me nt cl as s . Fo re xa mp le ,t oe va lu at ea ta xi dr iv er in si mu la te dt ra ff ic , w ew ou ld wa nt to"
CLASS
"r un ma ny si mu la ti on s w it hd if fe re nt t ra ff ic , l ig ht in g , a nd w ea th er co nd it io ns . If we de si gn ed"
"t he a ge nt f or a s in gl e s ce na ri o , w e m ig ht b e a bl e t o t ak e a dv an ta ge o f s pe ci fi c p ro pe rt ie s"
o f t he p ar ti cu la r c as e b ut m ig ht n ot i de nt if y a g oo d d es ig n f or d ri vi ng i n g en er al . Fo r t hi s
46 Ch ap te r 2. In te ll ig en t Ag en ts
"ENVIRONMENT r ea so n , t he c od e r ep os it or y a ls o i nc lu de s a n e nv ir on me nt g en er at or f or e ac h e nv ir on me nt"
GENERATOR
c la ss th at se le ct sp ar ti cu la re nv ir on me nt s (w it hc er ta in li ke li ho od s) i nw hi ch to ru nt he ag en t .
"Fo re xa mp le ,t he va cu um en vi ro nm en tg en er at or in it ia li ze s t he di rt pa tt er na nd ag en tl oc at io n"
r an do ml y . We a re t he n i nt er es te d i n t he a ge nt’s a ve ra ge p er fo rm an ce o ve r t he e nv ir on me nt
c la ss . A r at io na l a ge nt f or a g iv en e nv ir on me nt c la ss m ax im iz es t hi s a ve ra ge p er fo rm an ce .
Ex er ci se s 2.8 t o 2.13 t ak e y ou t hr ou gh t he p ro ce ss o f d ev el op in g a n e nv ir on me nt c la ss a nd
e va lu at in g v ar io us ag en ts th er ei n .
2.4 THE STRUCTURE OF AGENTS
So fa rw eh av et al ke da bo ut ag en ts by de sc ri bi ng b eh av io r—t he ac ti on th at is pe rf or me da ft er
a ny g iv en s eq ue nc e o fp er ce pt s . No ww em us t b it e t he b ul le t a nd t al k a bo ut h ow t he in si de s
w or k . Th e j ob o f AI i s t o d es ig n a n a ge nt p ro gr am t ha t i mp le me nt s t he a ge nt f un ct io n—
AGENTPROGRAM
t he m ap pi ng f ro m p er ce pt s t o a ct io ns . We a ss um e t hi s p ro gr am w il l r un o n s om e s or t o f
c om pu ti ng d ev ic ew it hp hy si ca ls en so rs an da ct ua to rs—w e c al lt hi st he ar ch it ec tu re:
ARCHITECTURE
a ge nt = a rc hi te ct ur e+p ro gr am .
"Ob vi ou sl y ,t he pr og ra mw ec ho os eh as to be on et ha ti sa pp ro pr ia te fo rt he ar ch it ec tu re . If th e"
"p ro gr am i sg oi ng t or ec om me nd a ct io ns l ik e Wa lk ,t he ar ch it ec tu re h ad be tt er ha ve l eg s . Th e"
"a rc hi te ct ur e m ig ht b e j us t a n o rd in ar y PC , o r i t m ig ht b e a r ob ot ic c ar w it h s ev er al o nb oa rd"
"c om pu te rs , c am er as , a nd o th er s en so rs . In g en er al , t he a rc hi te ct ur e m ak es t he p er ce pt s f ro m"
"t he se ns or sa va il ab le to th ep ro gr am ,r un st he pr og ra m ,a nd fe ed st he pr og ra m’s ac ti on ch oi ce s"
"t o t he a ct ua to rs a st he y a re g en er at ed . Mo st o ft hi s b oo k i s a bo ut d es ig ni ng a ge nt p ro gr am s ,"
a lt ho ug h Ch ap te rs 24 a nd 25 d ea ld ir ec tl y w it ht he se ns or sa nd ac tu at or s .
2.4.1 Ag en tp ro gr am s
Th e a ge nt p ro gr am s t ha t w e d es ig n i n t hi s b oo k a ll h av e t he s am e s ke le to n: t he y t ak e t he
c ur re nt p er ce pt a s i np ut f ro m t he s en so rs a nd r et ur n a n a ct io n t o t he a ct ua to rs .4 No ti ce t he
"d if fe re nc eb et we en th ea ge nt pr og ra m ,w hi ch ta ke st he cu rr en tp er ce pt as in pu t ,a nd th ea ge nt"
"f un ct io n , w hi ch t ak es t he e nt ir e p er ce pt h is to ry . Th e a ge nt p ro gr am t ak es j us t t he c ur re nt"
p er ce pt as in pu tb ec au se no th in gm or ei sa va il ab le fr om th ee nv ir on me nt ;i ft he ag en t’s ac ti on s
"n ee dt od ep en do nt he en ti re pe rc ep ts eq ue nc e , t he ag en tw il lh av et or em em be rt he pe rc ep ts ."
We d es cr ib e t he a ge nt p ro gr am s i n t he s im pl e p se ud oc od e l an gu ag e t ha t i s d ef in ed i n
Ap pe nd ix B . (Th e o nl in e c od e r ep os it or y c on ta in s i mp le me nt at io ns i n r ea l p ro gr am mi ng
"l an gu ag es .) Fo re xa mp le , Fi gu re 2.7 s ho ws a ra th er tr iv ia l a ge nt p ro gr am t ha tk ee ps t ra ck o f"
t he p er ce pt s eq ue nc e a nd t he n u se s i t t o i nd ex i nt o a t ab le o f a ct io ns t o d ec id e w ha t t o d o .
Th e t ab le—a n e xa mp le o f w hi ch i s g iv en f or t he v ac uu m w or ld i n Fi gu re 2.3—r ep re se nt s
e xp li ci tl y t he a ge nt f un ct io n t ha t t he a ge nt p ro gr am e mb od ie s . To b ui ld a r at io na l a ge nt i n
"4 Th er ea re ot he rc ho ic es f or th ea ge nt p ro gr am s ke le to n ; f or ex am pl e , w ec ou ld ha ve th ea ge nt p ro gr am sb e"
c or ou ti ne st ha tr un as yn ch ro no us ly wi th th ee nv ir on me nt . Ea ch su ch co ro ut in eh as an in pu ta nd ou tp ut po rt an d
c on si st so fa lo op th at re ad st he in pu tp or tf or pe rc ep ts an dw ri te sa ct io ns to th eo ut pu tp or t .
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 47
f un ct io n TABLE-DRIVEN-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: p er ce pt s ,a se qu en ce ,i ni ti al ly em pt y"
"t ab le ,a ta bl eo fa ct io ns ,i nd ex ed by pe rc ep ts eq ue nc es ,i ni ti al ly fu ll ys pe ci fi ed"
a pp en dp er ce pt t ot he en do fp er ce pt s
"a ct io n←LOOKUP(p er ce pt s ,t ab le)"
r et ur na ct io n
Fi gu re 2.7 Th e TABLE-DRIVEN-AGENT p ro gr am i s i nv ok ed f or e ac h n ew p er ce pt a nd
r et ur ns an ac ti on ea ch ti me . It re ta in st he co mp le te pe rc ep ts eq ue nc ei nm em or y .
"t hi sw ay ,w ea sd es ig ne rs mu st co ns tr uc ta ta bl et ha tc on ta in st he ap pr op ri at ea ct io nf or ev er y"
p os si bl e p er ce pt se qu en ce .
It i s i ns tr uc ti ve t o c on si de r w hy t he t ab le-d ri ve n a pp ro ac h t o a ge nt c on st ru ct io n i s
d oo me d t o f ai lu re . Le t P b e t he s et o f p os si bl e p er ce pt s a nd l et T b e t he l if et(c id:2)i me o f t he
a ge nt(t he to ta ln um be ro fp er ce pt si tw il lr ec ei ve). Th el oo ku pt ab le wi ll co nt ai n T |P|t
t=1
e nt ri es . Co ns id er t he a ut om at ed t ax i: t he v is ua l i np ut f ro m a s in gl e c am er a c om es i n a t t he
"r at e o f r ou gh ly 27 m eg ab yt es p er s ec on d (30 f ra me s p er s ec on d , 640×480 p ix el s w it h 24"
"b it so fc ol or in fo rm at io n). Th is gi ve sa lo ok up t ab le w it ho ve r 10250,000,000,000 e nt ri es f or an"
"h ou r’s d ri vi ng . Ev en t he l oo ku p t ab le f or c he ss—a t in y , w el l-b eh av ed f ra gm en t o f t he r ea l"
w or ld—w ou ld h av e a t l ea st 10150 e nt ri es . Th e d au nt in g s iz e o f t he se t ab le s (t he n um be r o f
a to ms i n t he o bs er va bl e u ni ve rs e i s l es s t ha n 1080) m ea ns t ha t (a) n o p hy si ca l a ge nt i n t hi s
"u ni ve rs e w il lh av et he sp ac et os to re th et ab le , (b)t he de si gn er wo ul dn ot ha ve ti me to cr ea te"
"t he t ab le , (c)n o a ge nt c ou ld e ve rl ea rn a ll th e r ig ht t ab le e nt ri es f ro m i ts ex pe ri en ce , a nd (d)"
"e ve n i f t he e nv ir on me nt i s s im pl e e no ug h t o y ie ld a f ea si bl e t ab le s iz e , t he d es ig ne r s ti ll h as"
n og ui da nc e a bo ut ho wt of il li nt he ta bl ee nt ri es .
"De sp it e a ll t hi s , TABLE-DRIVEN-AGENT d oe s d o w ha t w e w an t: i t i mp le me nt s t he"
"d es ir ed a ge nt f un ct io n . Th e k ey c ha ll en ge f or AI i s t o f in d o ut h ow t o w ri te p ro gr am s t ha t ,"
"t o t he e xt en t p os si bl e , p ro du ce r at io na l b eh av io r f ro m a s ma ll is h p ro gr am r at he r t ha n f ro m"
a v as t t ab le . We h av e m an y e xa mp le s s ho wi ng t ha t t hi s c an b e d on e s uc ce ss fu ll y i n o th er
"a re as: f or ex am pl e ,t he hu ge ta bl es of sq ua re ro ot su se db ye ng in ee rs an ds ch oo lc hi ld re np ri or"
t o t he 1970 s h av e n ow b ee n r ep la ce d b y a f iv e-l in e p ro gr am f or Ne wt on’s m et ho d r un ni ng
"o n e le ct ro ni c c al cu la to rs . Th e q ue st io n i s , c an AI d o f or g en er al i nt el li ge nt b eh av io r w ha t"
Ne wt on di df or sq ua re ro ot s ? We be li ev et he an sw er is ye s .
"In t he r em ai nd er o f t hi s s ec ti on , w e o ut li ne f ou r b as ic k in ds o f a ge nt p ro gr am s t ha t"
e mb od yt he pr in ci pl es u nd er ly in g a lm os ta ll in te ll ig en t s ys te ms:
• Si mp le re fl ex ag en ts ;
• Mo de l-b as ed r ef le xa ge nt s ;
• Go al-b as ed ag en ts ; a nd
• Ut il it y-b as ed a ge nt s .
Ea ch k in d o f a ge nt p ro gr am c om bi ne s p ar ti cu la r c om po ne nt s i n p ar ti cu la r w ay s t o g en er at e
a ct io ns . Se ct io n 2.4.6 e xp la in s i ng en er al t er ms ho wt oc on ve rt a ll th es ea ge nt s i nt o l ea rn in g
48 Ch ap te r 2. In te ll ig en t Ag en ts
"f un ct io n REFLEX-VACUUM-AGENT([l oc at io n ,s ta tu s])r et ur ns an ac ti on"
i fs ta tu s =Di rt y t he nr et ur n Su ck
e ls ei fl oc at io n =At he nr et ur n Ri gh t
e ls ei fl oc at io n =B t he nr et ur n Le ft
Fi gu re 2.8 Th ea ge nt pr og ra mf or as im pl er ef le xa ge nt in th et wo-s ta te va cu um en vi ro n-
m en t .Th is pr og ra mi mp le me nt st he ag en tf un ct io nt ab ul at ed in Fi gu re 2.3.
a ge nt st ha tc an im pr ov et he pe rf or ma nc eo ft he ir co mp on en ts so as to g en er at eb et te ra ct io ns .
"Fi na ll y , Se ct io n 2.4.7 d es cr ib es t he va ri et y o fw ay si nw hi ch th ec om po ne nt s t he ms el ve s c an"
b e r ep re se nt ed w it hi n t he a ge nt . Th is v ar ie ty p ro vi de s a m aj or o rg an iz in g p ri nc ip le f or t he
f ie ld an df or th eb oo ki ts el f .
2.4.2 Si mp le re fl ex a ge nt s
SIMPLEREFLEX Th es im pl es tk in do fa ge nt is th es im pl er ef le xa ge nt . Th es ea ge nt ss el ec ta ct io ns on th eb as is
AGENT
"o ft he cu rr en tp er ce pt ,i gn or in gt he re st of th ep er ce pt hi st or y . Fo re xa mp le ,t he va cu um ag en t"
"w ho se a ge nt f un ct io n i s t ab ul at ed i n Fi gu re 2.3 i s a si mp le r ef le xa ge nt , b ec au se i ts d ec is io n"
i s b as ed o nl y o n t he c ur re nt l oc at io n a nd o n w he th er t ha t l oc at io n c on ta in s d ir t . An a ge nt
p ro gr am f or th is ag en ti ss ho wn in Fi gu re 2.8.
No ti ce th at th ev ac uu ma ge nt pr og ra mi sv er ys ma ll in de ed co mp ar ed to th ec or re sp on d-
"i ng t ab le . Th e m os t o bv io us r ed uc ti on c om es f ro m i gn or in g t he p er ce pt h is to ry , w hi ch c ut s"
"d ow n t he n um be r o f p os si bi li ti es f ro m 4 T t o j us t 4. A f ur th er , s ma ll r ed uc ti on c om es f ro m"
"t he fa ct th at wh en th ec ur re nt s qu ar ei sd ir ty ,t he ac ti on do es no td ep en d o nt he lo ca ti on ."
Si mp le r ef le x b eh av io rs o cc ur e ve n i n m or e c om pl ex e nv ir on me nt s . Im ag in e y ou rs el f
"a st he dr iv er of th ea ut om at ed ta xi . If th ec ar in fr on tb ra ke s a nd it sb ra ke li gh ts co me on ,t he n"
"y ou s ho ul d n ot ic e t hi s a nd i ni ti at e b ra ki ng . In o th er w or ds , s om e p ro ce ss in g i s d on e o n t he"
"v is ua li np ut to es ta bl is ht he co nd it io nw ec al l“Th ec ar in fr on ti sb ra ki ng .” Th en ,t hi st ri gg er s"
s om e e st ab li sh ed c on ne ct io n i n t he a ge nt p ro gr am t o t he a ct io n “i ni ti at e b ra ki ng .” We c al l
"CONDITION–ACTION s uc ha co nn ec ti on a co nd it io n–a ct io n r ul e ,5 w ri tt en as"
RULE
i fc ar-i n-f ro nt-i s-b ra ki ng t he ni ni ti at e-b ra ki ng .
"Hu ma ns al so ha ve ma ny su ch co nn ec ti on s , s om eo fw hi ch ar el ea rn ed re sp on se s (a sf or dr iv-"
i ng)a nd so me of wh ic ha re in na te re fl ex es(s uc ha sb li nk in g w he ns om et hi ng a pp ro ac he s t he
"e ye). In t he c ou rs e o f t he b oo k , w e s ho w s ev er al d if fe re nt w ay s i n w hi ch s uc h c on ne ct io ns"
c an be le ar ne d a nd im pl em en te d .
Th e p ro gr am i n Fi gu re 2.8 i s s pe ci fi c t o o ne p ar ti cu la r v ac uu m e nv ir on me nt . A m or e
g en er al a nd f le xi bl e a pp ro ac h i s f ir st t o b ui ld a g en er al-p ur po se i nt er pr et er f or c on di ti on–
a ct io n r ul es a nd t he n t o c re at e r ul e s et s f or s pe ci fi c t as k e nv ir on me nt s . Fi gu re 2.9 g iv es t he
"s tr uc tu re o ft hi sg en er al p ro gr am in sc he ma ti cf or m ,s ho wi ng ho wt he co nd it io n–a ct io n r ul es"
a ll ow t he a ge nt t o m ak e t he c on ne ct io n f ro m p er ce pt t o a ct io n . (Do n ot w or ry i f t hi s s ee ms
"5 Al so ca ll ed si tu at io n–a ct io nr ul es ,p ro du ct io ns ,o ri f–t he nr ul es ."
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 49
Ag en t
En vi ro nm en t
Se ns or s
Wh at t he w or ld
i s l ik e n ow
Wh at a ct io n I
Co nd it io n-a ct io n r ul es
s ho ul d d o n ow
Ac tu at or s
Fi gu re 2.9 Sc he ma ti cd ia gr am of as im pl er ef le xa ge nt .
f un ct io n SIMPLE-REFLEX-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: r ul es ,a se to fc on di ti on–a ct io nr ul es"
s ta te←INTERPRET-INPUT(p er ce pt)
"r ul e←RULE-MATCH(s ta te ,r ul es)"
a ct io n←r ul e .ACTION
r et ur na ct io n
Fi gu re 2.10 A s im pl e r ef le x a ge nt . It a ct s a cc or di ng to a r ul e w ho se c on di ti on ma tc he s
"t he cu rr en ts ta te ,a sd ef in ed by th ep er ce pt ."
t ri vi al ;i tg et sm or ei nt er es ti ng s ho rt ly .) We us er ec ta ng le s t od en ot et he cu rr en ti nt er na ls ta te
"o f t he a ge nt’s d ec is io n p ro ce ss , a nd o va ls t o r ep re se nt t he b ac kg ro un d i nf or ma ti on u se d i n"
"t he p ro ce ss . Th e a ge nt p ro gr am , w hi ch i s a ls o v er y s im pl e , i s s ho wn i n Fi gu re 2.10. Th e"
INTERPRET-INPUT f un ct io n g en er at es a na bs tr ac te d d es cr ip ti on o ft he cu rr en ts ta te fr om th e
"p er ce pt , a nd t he RULE-MATCH f un ct io n r et ur ns t he f ir st ru le i nt he s et of r ul es t ha t m at ch es"
t he g iv en s ta te d es cr ip ti on . No te t ha t t he d es cr ip ti on i n t er ms o f “r ul es” a nd “m at ch in g” i s
p ur el y c on ce pt ua l ; a ct ua l i mp le me nt at io ns c an b e a s s im pl e a s a c ol le ct io n o f l og ic g at es
i mp le me nt in g a Bo ol ea nc ir cu it .
"Si mp le re fl ex ag en ts ha ve th ea dm ir ab le pr op er ty of be in gs im pl e ,b ut th ey tu rn ou tt ob e"
o fl im it ed in te ll ig en ce . Th ea ge nt in Fi gu re 2.10 w il lw or ko nl yi ft he co rr ec td ec is io nc an be
"m ad eo nt he ba si so fo nl yt he cu rr en tp er ce pt—t ha ti s ,o nl yi ft he en vi ro nm en ti sf ul ly ob se rv-"
"a bl e . Ev en al it tl e b it of un ob se rv ab il it y c an ca us e s er io us t ro ub le . Fo re xa mp le , t he br ak in g"
r ul e g iv en e ar li er a ss um es t ha t t he c on di ti on c ar-i n-f ro nt-i s-b ra ki ng c an b e d et er mi ne d f ro m
t he c ur re nt p er ce pt—a s in gl e f ra me o f v id eo . Th is w or ks i f t he c ar i n f ro nt h as a c en tr al ly
"m ou nt ed b ra ke l ig ht . Un fo rt un at el y , o ld er m od el s h av e d if fe re nt c on fi gu ra ti on s o f t ai ll ig ht s ,"
50 Ch ap te r 2. In te ll ig en t Ag en ts
"b ra ke l ig ht s , a nd t ur n-s ig na l l ig ht s , a nd i t i s n ot a lw ay s p os si bl e t o t el l f ro m a s in gl e i ma ge"
w he th er th ec ar is br ak in g . As im pl er ef le xa ge nt dr iv in gb eh in ds uc ha ca rw ou ld ei th er br ak e
"c on ti nu ou sl y a nd un ne ce ss ar il y , o r ,w or se ,n ev er br ak ea ta ll ."
We ca ns ee as im il ar pr ob le ma ri si ng in th ev ac uu mw or ld . Su pp os et ha ta si mp le re fl ex
v ac uu m a ge nt i s d ep ri ve d o f i ts l oc at io n s en so r a nd h as o nl y a d ir t s en so r . Su ch a n a ge nt
h as ju st tw op os si bl ep er ce pt s: [Di rt y]a nd[Cl ea n]. It ca n Su ck i nr es po ns et o[Di rt y];w ha t
s ho ul di td oi nr es po ns et o[Cl ea n]? Mo vi ng Le ft f ai ls(f or ev er)i fi th ap pe ns to st ar ti ns qu ar e
"A ,a nd mo vi ng Ri gh t f ai ls(f or ev er)i fi th ap pe ns to st ar ti ns qu ar e B . In fi ni te lo op sa re of te n"
u na vo id ab le f or si mp le re fl ex ag en ts op er at in g i np ar ti al ly o bs er va bl e e nv ir on me nt s .
Es ca pe f ro m i nf in it e l oo ps i s p os si bl e i f t he a ge nt c an r an do mi ze i ts a ct io ns . Fo r e x-
RANDOMIZATION
"a mp le ,i ft he va cu um ag en tp er ce iv es[Cl ea n],i tm ig ht fl ip ac oi nt oc ho os eb et we en Le ft a nd"
Ri gh t . It is ea sy to sh ow th at th ea ge nt wi ll re ac ht he ot he rs qu ar ei na na ve ra ge of tw os te ps .
"Th en , i f t ha t s qu ar e i s d ir ty , t he a ge nt w il l c le an i t a nd t he t as k w il l b e c om pl et e . He nc e , a"
r an do mi ze d s im pl er ef le xa ge nt mi gh to ut pe rf or m a de te rm in is ti c s im pl er ef le xa ge nt .
We me nt io ne di n Se ct io n 2.3 t ha tr an do mi ze db eh av io ro ft he ri gh tk in dc an be ra ti on al
"i ns om em ul ti ag en te nv ir on me nt s . In si ng le-a ge nt en vi ro nm en ts ,r an do mi za ti on is us ua ll yn ot"
"r at io na l . It i s a u se fu l t ri ck t ha t h el ps a s im pl e r ef le x a ge nt i n s om e s it ua ti on s , b ut i n m os t"
c as es we ca nd om uc hb et te rw it hm or es op hi st ic at ed d et er mi ni st ic a ge nt s .
2.4.3 Mo de l-b as ed r ef le x a ge nt s
Th e m os t e ff ec ti ve w ay t o h an dl e p ar ti al o bs er va bi li ty i s f or t he a ge nt t o k ee p t ra ck o f t he
"p ar t o f t he w or ld i t c an’t s ee n ow . Th at i s , t he a ge nt s ho ul d m ai nt ai n s om e s or t o f i nt er na l"
s ta te th at de pe nd s o nt he pe rc ep th is to ry an dt he re by re fl ec ts at le as ts om eo ft he un ob se rv ed
INTERNALSTATE
"a sp ec ts o ft he cu rr en ts ta te . Fo rt he br ak in g p ro bl em , t he in te rn al s ta te is no tt oo ex te ns iv e—"
"j us t t he p re vi ou s f ra me f ro m t he c am er a , a ll ow in g t he a ge nt t o d et ec t w he n t wo re d l ig ht s a t"
t he ed ge of th ev eh ic le g oo no ro ff si mu lt an eo us ly . Fo ro th er d ri vi ng t as ks su ch as ch an gi ng
"l an es ,t he ag en tn ee ds to ke ep tr ac ko fw he re th eo th er ca rs ar ei fi tc an’t se et he ma ll at on ce ."
"An df or an yd ri vi ng to be po ss ib le at al l ,t he ag en tn ee ds to ke ep tr ac ko fw he re it sk ey sa re ."
Up da ti ng t hi s i nt er na l s ta te i nf or ma ti on a s t im e g oe s b y r eq ui re s t wo k in ds o f k no wl-
"e dg e t o b e e nc od ed i n t he a ge nt p ro gr am . Fi rs t , w e n ee d s om e i nf or ma ti on a bo ut h ow t he"
"w or ld ev ol ve si nd ep en de nt ly o ft he ag en t—f or ex am pl e ,t ha ta no ve rt ak in gc ar ge ne ra ll yw il l"
"b e c lo se r b eh in d t ha n i t w as a m om en t a go . Se co nd , w e n ee d s om e i nf or ma ti on a bo ut h ow"
"t he ag en t’s ow na ct io ns af fe ct th ew or ld—f or ex am pl e ,t ha tw he nt he ag en tt ur ns th es te er in g"
"w he el c lo ck wi se , t he c ar t ur ns t o t he r ig ht , o r t ha t a ft er d ri vi ng f or f iv e m in ut es n or th bo un d"
"o nt he fr ee wa y ,o ne is us ua ll ya bo ut fi ve mi le sn or th of wh er eo ne wa sf iv em in ut es ag o . Th is"
k no wl ed ge a bo ut “h ow t he w or ld w or ks”—w he th er i mp le me nt ed i n s im pl e Bo ol ea n c ir cu it s
o ri nc om pl et e s ci en ti fi c t he or ie s—i s c al le d a m od el of th e w or ld . An ag en t t ha t u se s s uc h a
MODEL-BASED m od el is ca ll ed am od el-b as ed ag en t .
AGENT
"Fi gu re 2.11 g iv es th es tr uc tu re of th em od el-b as ed re fl ex ag en tw it hi nt er na ls ta te ,s ho w-"
i ng h ow t he c ur re nt p er ce pt i s c om bi ne d w it h t he o ld i nt er na l s ta te t o g en er at e t he u pd at ed
"d es cr ip ti on of th ec ur re nt st at e ,b as ed on th ea ge nt’s mo de lo fh ow th ew or ld wo rk s . Th ea ge nt"
"p ro gr am is sh ow ni n Fi gu re 2.12. Th ei nt er es ti ng pa rt is th ef un ct io n UPDATE-STATE ,w hi ch"
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 51
Ag en t
En vi ro nm en t
Se ns or s
St at e
Ho w t he w or ld e vo lv es Wh at t he w or ld
i s l ik e n ow
Wh at m y a ct io ns d o
Wh at a ct io n I
Co nd it io n-a ct io n r ul es
s ho ul d d o n ow
Ac tu at or s
Fi gu re 2.11 Am od el-b as ed re fl ex ag en t .
f un ct io n MODEL-BASED-REFLEX-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: s ta te ,t he ag en t’s cu rr en tc on ce pt io no ft he wo rl ds ta te"
"m od el ,a de sc ri pt io no fh ow th en ex ts ta te de pe nd so nc ur re nt st at ea nd ac ti on"
"r ul es ,a se to fc on di ti on–a ct io nr ul es"
"a ct io n ,t he mo st re ce nt ac ti on ,i ni ti al ly no ne"
"s ta te←UPDATE-STATE(s ta te ,a ct io n ,p er ce pt ,m od el)"
"r ul e←RULE-MATCH(s ta te ,r ul es)"
a ct io n←r ul e .ACTION
r et ur na ct io n
"Fi gu re 2.12 Am od el-b as ed re fl ex ag en t . It ke ep st ra ck of th ec ur re nt st at eo ft he wo rl d ,"
u si ng an in te rn al mo de l .It th en ch oo se sa na ct io ni nt he sa me wa ya st he re fl ex ag en t .
i s r es po ns ib le f or cr ea ti ng t he n ew i nt er na l s ta te d es cr ip ti on . Th ed et ai ls o f h ow m od el s a nd
s ta te s a re r ep re se nt ed v ar y w id el y d ep en di ng o n t he t yp e o f e nv ir on me nt a nd t he p ar ti cu la r
t ec hn ol og y u se d i n t he a ge nt d es ig n . De ta il ed e xa mp le s o f m od el s a nd u pd at in g a lg or it hm s
"a pp ea ri n Ch ap te rs 4,12,11,15,17,a nd 25."
"Re ga rd le ss o f t he k in d o f r ep re se nt at io n u se d , i t i s s el do m p os si bl e f or t he a ge nt t o"
"d et er mi ne t he c ur re nt s ta te o f a p ar ti al ly o bs er va bl e e nv ir on me nt e xa ct ly . In st ea d , t he b ox"
l ab el ed “w ha t t he w or ld i s l ik e n ow” (Fi gu re 2.11) r ep re se nt s t he a ge nt’s “b es t g ue ss” (o r
"s om et im es b es t g ue ss es). Fo re xa mp le , a n a ut om at ed t ax i m ay n ot b ea bl e t os ee a ro un d t he"
l ar ge t ru ck t ha t h as s to pp ed i n f ro nt o f i t a nd c an o nl y g ue ss a bo ut w ha t m ay b e c au si ng t he
"h ol d-u p . Th us ,u nc er ta in ty a bo ut th ec ur re nt s ta te ma yb eu na vo id ab le , b ut th ea ge nt st il lh as"
t om ak ea de ci si on .
A p er ha ps l es s o bv io us p oi nt a bo ut t he i nt er na l “s ta te” m ai nt ai ne d b y a m od el-b as ed
a ge nt i s t ha t i t d oe s n ot h av e t o d es cr ib e “w ha t t he w or ld i s l ik e n ow” i n a l it er al s en se . Fo r
52 Ch ap te r 2. In te ll ig en t Ag en ts
Ag en t
En vi ro nm en t
Se ns or s
St at e
Wh at t he w or ld
Ho w t he w or ld e vo lv es i s l ik e n ow
Wh at i t w il l b e l ik e
Wh at m y a ct io ns d o i f I d o a ct io n A
Wh at a ct io n I
Go al s s ho ul d d o n ow
Ac tu at or s
"Fi gu re 2.13 Am od el-b as ed ,g oa l-b as ed ag en t .It ke ep st ra ck of th ew or ld st at ea sw el la s"
"a se to fg oa ls it is tr yi ng to ac hi ev e ,a nd ch oo se sa na ct io nt ha tw il l(e ve nt ua ll y)l ea dt ot he"
a ch ie ve me nt of it sg oa ls .
"e xa mp le , t he t ax i m ay b e d ri vi ng b ac k h om e , a nd i t m ay h av e a r ul e t el li ng i t t o f il l u p w it h"
g as o n t he w ay h om e u nl es s i t h as a t l ea st h al f a t an k . Al th ou gh “d ri vi ng b ac k h om e” m ay
"s ee m t oa n a sp ec t o f t he wo rl d s ta te , t he f ac t o ft he t ax i’s d es ti na ti on i sa ct ua ll y a n a sp ec t o f"
"t he a ge nt’s i nt er na l s ta te . If yo u f in dt hi s p uz zl in g , c on si de r t ha t t he t ax i c ou ld b e i n e xa ct ly"
"t he sa me pl ac ea tt he sa me ti me ,b ut in te nd in g t or ea ch ad if fe re nt d es ti na ti on ."
2.4.4 Go al-b as ed ag en ts
Kn ow in gs om et hi ng ab ou tt he cu rr en ts ta te of th ee nv ir on me nt is no ta lw ay se no ug ht od ec id e
"w ha t t o d o . Fo r e xa mp le , a t a r oa d j un ct io n , t he t ax i c an t ur n l ef t , t ur n r ig ht , o r g o s tr ai gh t"
"o n . Th ec or re ct de ci si on de pe nd so nw he re th et ax ii st ry in gt og et to . In ot he rw or ds ,a sw el l"
"a s a c ur re nt s ta te d es cr ip ti on , t he a ge nt n ee ds s om e s or t o f g oa l i nf or ma ti on t ha t d es cr ib es"
GOAL
"s it ua ti on s t ha t a re d es ir ab le—f or e xa mp le , b ei ng a t t he p as se ng er’s d es ti na ti on . Th e a ge nt"
p ro gr am c an c om bi ne t hi s w it h t he m od el (t he s am e i nf or ma ti on a s w as u se d i n t he m od el-
b as ed re fl ex ag en t)t oc ho os ea ct io ns th at ac hi ev et he go al . Fi gu re 2.13 s ho ws th eg oa l-b as ed
a ge nt’s st ru ct ur e .
"So me ti me sg oa l-b as ed ac ti on se le ct io ni ss tr ai gh tf or wa rd—f or ex am pl e ,w he ng oa ls at-"
i sf ac ti on r es ul ts i mm ed ia te ly f ro m a s in gl e a ct io n . So me ti me s i t w il l b e m or e t ri ck y—f or
"e xa mp le ,w he nt he ag en th as to co ns id er lo ng se qu en ce s o ft wi st sa nd tu rn si no rd er to fi nd a"
w ay to ac hi ev et he go al . Se ar ch(Ch ap te rs 3 t o 5)a nd pl an ni ng(Ch ap te rs 10 a nd 11)a re th e
s ub fi el ds of AId ev ot ed t of in di ng ac ti on se qu en ce s t ha ta ch ie ve th ea ge nt’s go al s .
No ti ce th at de ci si on ma ki ng of th is ki nd is fu nd am en ta ll y d if fe re nt fr om th ec on di ti on–
"a ct io nr ul es de sc ri be d e ar li er ,i nt ha ti ti nv ol ve sc on si de ra ti on o ft he fu tu re—b ot h“Wh at wi ll"
"h ap pe n i f Id os uc h-a nd-s uc h ?” a nd“Wi ll th at ma ke me ha pp y ?” In th er ef le xa ge nt de si gn s ,"
"t hi s i nf or ma ti on i s n ot e xp li ci tl y r ep re se nt ed , b ec au se t he b ui lt-i n r ul es m ap d ir ec tl y f ro m"
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 53
"p er ce pt s t oa ct io ns . Th er ef le xa ge nt br ak es wh en it se es br ak el ig ht s . Ag oa l-b as ed a ge nt , i n"
"p ri nc ip le , c ou ld re as on th at if th ec ar in fr on th as it sb ra ke l ig ht so n ,i tw il ls lo wd ow n . Gi ve n"
"t he w ay t he w or ld u su al ly e vo lv es , t he o nl y a ct io n t ha t w il l a ch ie ve t he g oa l o f n ot h it ti ng"
o th er ca rs is to br ak e .
"Al th ou gh t he g oa l-b as ed a ge nt a pp ea rs l es s e ff ic ie nt , i t i s m or e f le xi bl e b ec au se t he"
k no wl ed ge th at su pp or ts it sd ec is io ns is re pr es en te de xp li ci tl ya nd ca nb em od if ie d . If it st ar ts
"t or ai n ,t he ag en tc an up da te it sk no wl ed ge of ho we ff ec ti ve ly it sb ra ke sw il lo pe ra te ;t hi sw il l"
a ut om at ic al ly c au se a ll o f t he r el ev an t b eh av io rs t o b e a lt er ed t o s ui t t he n ew c on di ti on s .
"Fo r t he r ef le x a ge nt , o n t he o th er h an d , w e w ou ld h av e t o r ew ri te m an y c on di ti on–a ct io n"
"r ul es . Th eg oa l-b as ed a ge nt’s be ha vi or ca ne as il yb ec ha ng ed t og ot oa di ff er en td es ti na ti on ,"
s im pl y b y s pe ci fy in g t ha t d es ti na ti on a s t he g oa l . Th e r ef le x a ge nt’s r ul es f or w he n t o t ur n
a nd w he n t o g o s tr ai gh t w il l w or k o nl y f or a s in gl e d es ti na ti on ; t he y m us t a ll b e r ep la ce d t o
g os om ew he re ne w .
2.4.5 Ut il it y-b as ed ag en ts
Go al s a lo ne a re n ot e no ug h t o g en er at e h ig h-q ua li ty b eh av io r i n m os t e nv ir on me nt s . Fo r
"e xa mp le , m an y a ct io n s eq ue nc es w il l g et t he t ax i t o i ts d es ti na ti on (t he re by a ch ie vi ng t he"
"g oa l) b ut s om ea re qu ic ke r , s af er , m or er el ia bl e , o rc he ap er t ha no th er s . Go al sj us t p ro vi de a"
c ru de bi na ry di st in ct io nb et we en“h ap py”a nd“u nh ap py”s ta te s . Am or eg en er al pe rf or ma nc e
m ea su re sh ou ld al lo wa co mp ar is on of di ff er en tw or ld st at es a cc or di ng to ex ac tl yh ow ha pp y
"t he yw ou ld ma ke th ea ge nt . Be ca us e“h ap py” d oe sn ot so un dv er ys ci en ti fi c , e co no mi st s a nd"
c om pu te rs ci en ti st s u se th et er m u ti li ty in st ea d .6
UTILITY
We ha ve al re ad ys ee nt ha ta pe rf or ma nc em ea su re as si gn sa sc or et oa ny gi ve ns eq ue nc e
"o f e nv ir on me nt s ta te s , s o i t c an e as il y d is ti ng ui sh b et we en m or e a nd l es s d es ir ab le w ay s o f"
g et ti ng t o t he t ax i’s d es ti na ti on . An a ge nt’s u ti li ty f un ct io n i s e ss en ti al ly a n i nt er na li za ti on
UTILITYFUNCTION
o f t he p er fo rm an ce m ea su re . If t he i nt er na l u ti li ty f un ct io n a nd t he e xt er na l p er fo rm an ce
"m ea su re a re i n a gr ee me nt , t he n a n a ge nt t ha t c ho os es a ct io ns t o m ax im iz e i ts u ti li ty w il l b e"
r at io na la cc or di ng t ot he ex te rn al pe rf or ma nc e m ea su re .
Le t u s e mp ha si ze a ga in t ha t t hi s i s n ot t he o nl y w ay t o b e r at io na l—w e h av e a lr ea dy
s ee n a r at io na l a ge nt p ro gr am f or t he v ac uu m w or ld (Fi gu re 2.8) t ha t h as n o i de a w ha t i ts
"u ti li ty f un ct io n i s—b ut , l ik eg oa l-b as ed a ge nt s , a ut il it y-b as ed a ge nt h as ma ny ad va nt ag es i n"
"t er ms of fl ex ib il it ya nd le ar ni ng . Fu rt he rm or e ,i nt wo ki nd s o fc as es ,g oa ls ar ei na de qu at eb ut"
"a ut il it y-b as ed a ge nt ca ns ti ll ma ke ra ti on al de ci si on s . Fi rs t ,w he nt he re ar ec on fl ic ti ng go al s ,"
"o nl y s om e o f w hi ch c an b e a ch ie ve d (f or e xa mp le , s pe ed a nd s af et y), t he u ti li ty f un ct io n"
"s pe ci fi es t he a pp ro pr ia te t ra de of f . Se co nd , w he n t he re a re s ev er al g oa ls t ha t t he a ge nt c an"
"a im f or , n on e o f w hi ch c an b e a ch ie ve d w it h c er ta in ty , u ti li ty p ro vi de s a w ay i n w hi ch t he"
l ik el ih oo d o fs uc ce ss ca nb ew ei gh ed ag ai ns tt he im po rt an ce o ft he go al s .
"Pa rt ia lo bs er va bi li ty an ds to ch as ti ci ty ar eu bi qu it ou si nt he re al wo rl d ,a nd so ,t he re fo re ,"
"i s d ec is io n m ak in g u nd er u nc er ta in ty . Te ch ni ca ll y s pe ak in g , a r at io na l u ti li ty-b as ed a ge nt"
"c ho os es t he a ct io n t ha t m ax im iz es t he e xp ec te d u ti li ty o f t he a ct io n o ut co me s—t ha t i s , t he"
EXPECTEDUTILITY
"u ti li ty t he a ge nt e xp ec ts t o d er iv e , o n a ve ra ge , g iv en t he p ro ba bi li ti es a nd u ti li ti es o f e ac h"
"6 Th ew or d“u ti li ty”h er er ef er st o“t he qu al it yo fb ei ng us ef ul ,”n ot to th ee le ct ri cc om pa ny or wa te rw or ks ."
54 Ch ap te r 2. In te ll ig en t Ag en ts
Ag en t
En vi ro nm en t
Se ns or s
St at e
Wh at t he w or ld
Ho w t he w or ld e vo lv es i s l ik e n ow
Wh at i t w il l b e l ik e
Wh at m y a ct io ns d o i f I d o a ct io n A
Ho w h ap py I w il l b e
Ut il it y
i n s uc h a s ta te
Wh at a ct io n I
s ho ul d d o n ow
Ac tu at or s
"Fi gu re 2.14 Am od el-b as ed ,u ti li ty-b as ed ag en t . It us es am od el of th ew or ld ,a lo ng wi th"
a ut il it yf un ct io nt ha tm ea su re si ts pr ef er en ce sa mo ng st at es of th ew or ld .Th en it ch oo se st he
"a ct io nt ha tl ea ds to th eb es te xp ec te du ti li ty ,w he re ex pe ct ed ut il it yi sc om pu te db ya ve ra gi ng"
"o ve ra ll po ss ib le ou tc om es ta te s ,w ei gh te db yt he pr ob ab il it yo ft he ou tc om e ."
"o ut co me . (Ap pe nd ix Ad ef in es ex pe ct at io n m or ep re ci se ly .) In Ch ap te r 16,w es ho wt ha ta ny"
r at io na l a ge nt m us t b eh av e a s i f i t p os se ss es a u ti li ty f un ct io n w ho se e xp ec te d v al ue i t t ri es
t om ax im iz e . An ag en tt ha tp os se ss es a ne xp li ci t u ti li ty f un ct io n c an ma ke ra ti on al d ec is io ns
w it h a g en er al-p ur po se a lg or it hm t ha t d oe s n ot d ep en d o n t he s pe ci fi c u ti li ty f un ct io n b ei ng
"m ax im iz ed . In t hi s w ay , t he “g lo ba l” d ef in it io n o f r at io na li ty—d es ig na ti ng a s r at io na l t ho se"
a ge nt f un ct io ns t ha t h av e t he h ig he st p er fo rm an ce—i s t ur ne d i nt o a “l oc al” c on st ra in t o n
r at io na l-a ge nt d es ig ns th at ca nb ee xp re ss ed in as im pl ep ro gr am .
Th eu ti li ty-b as ed a ge nt s tr uc tu re a pp ea rs i n Fi gu re 2.14. Ut il it y-b as ed a ge nt p ro gr am s
"a pp ea ri n Pa rt IV ,w he re we de si gn d ec is io n-m ak in g a ge nt s t ha tm us th an dl e t he un ce rt ai nt y"
i nh er en t i ns to ch as ti c o rp ar ti al ly o bs er va bl e e nv ir on me nt s .
"At th is po in t ,t he re ad er ma yb ew on de ri ng , “Is it th at si mp le ? We ju st bu il da ge nt st ha t"
"m ax im iz e e xp ec te d u ti li ty , a nd w e’r e d on e ?” It’s t ru e t ha t s uc h a ge nt s w ou ld b e i nt el li ge nt ,"
"b ut i t’s n ot s im pl e . A u ti li ty-b as ed a ge nt h as t o m od el a nd k ee p t ra ck o f i ts e nv ir on me nt ,"
"t as ks t ha t h av e i nv ol ve d a g re at d ea l o f r es ea rc h o n p er ce pt io n , r ep re se nt at io n , r ea so ni ng ,"
a nd l ea rn in g . Th e r es ul ts o f t hi s r es ea rc h f il l m an y o f t he c ha pt er s o f t hi s b oo k . Ch oo si ng
"t he ut il it y-m ax im iz in g c ou rs eo fa ct io ni sa ls oa di ff ic ul tt as k ,r eq ui ri ng in ge ni ou sa lg or it hm s"
"t ha t f il l s ev er al m or e c ha pt er s . Ev en w it h t he se a lg or it hm s , p er fe ct r at io na li ty i s u su al ly"
"u na ch ie va bl e i np ra ct ic e b ec au se of co mp ut at io na l c om pl ex it y , a sw en ot ed in Ch ap te r 1."
2.4.6 Le ar ni ng a ge nt s
We h av e d es cr ib ed a ge nt p ro gr am s w it h v ar io us m et ho ds f or s el ec ti ng a ct io ns . We h av e
"n ot , s o f ar , e xp la in ed h ow t he a ge nt p ro gr am s c om e i nt o b ei ng . In h is f am ou s e ar ly p ap er ,"
Tu ri ng (1950) c on si de rs t he i de a o f a ct ua ll y p ro gr am mi ng h is i nt el li ge nt m ac hi ne s b y h an d .
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 55
Pe rf or ma nc e s ta nd ar d
Ag en t
En vi ro nm en t
Cr it ic Se ns or s
f ee db ac k
c ha ng es
Le ar ni ng Pe rf or ma nc e
e le me nt e le me nt
k no wl ed ge
l ea rn in g
g oa ls
Pr ob le m
g en er at or
Ac tu at or s
Fi gu re 2.15 Ag en er al le ar ni ng ag en t .
He es ti ma te sh ow mu ch wo rk th is mi gh tt ak ea nd co nc lu de s“So me mo re ex pe di ti ou sm et ho d
s ee ms d es ir ab le .” Th e m et ho d h e p ro po se s i s t o b ui ld l ea rn in g m ac hi ne s a nd t he n t o t ea ch
"t he m . In m an y a re as o f AI , t hi s i s n ow t he p re fe rr ed m et ho d f or c re at in g s ta te-o f-t he-a rt"
"s ys te ms . Le ar ni ng h as a no th er a dv an ta ge , a s w en ot ed e ar li er: i t a ll ow s t he a ge nt t o o pe ra te"
i ni ni ti al ly u nk no wn e nv ir on me nt s a nd to be co me mo re co mp et en t t ha ni ts in it ia l k no wl ed ge
"a lo ne m ig ht a ll ow . In t hi s s ec ti on , w e b ri ef ly i nt ro du ce t he m ai n i de as o f l ea rn in g a ge nt s ."
"Th ro ug ho ut t he b oo k , w e c om me nt o n o pp or tu ni ti es a nd m et ho ds f or l ea rn in g i n p ar ti cu la r"
k in ds of ag en ts . Pa rt Vg oe si nt om uc hm or ed ep th on th el ea rn in ga lg or it hm s t he ms el ve s .
"A l ea rn in g a ge nt c an b e d iv id ed i nt o f ou r c on ce pt ua l c om po ne nt s , a s s ho wn i n Fi g-"
"u re 2.15. Th e m os t i mp or ta nt d is ti nc ti on i s b et we en t he l ea rn in g e le me nt , w hi ch i s r e-"
LEARNINGELEMENT
"PERFORMANCE s po ns ib le fo rm ak in gi mp ro ve me nt s ,a nd th ep er fo rm an ce el em en t ,w hi ch is re sp on si bl ef or"
ELEMENT
s el ec ti ng e xt er na l a ct io ns . Th e p er fo rm an ce e le me nt i s w ha t w e h av e p re vi ou sl y c on si de re d
t ob et he en ti re a ge nt: i tt ak es i np er ce pt s a nd d ec id es o na ct io ns . Th el ea rn in g e le me nt u se s
f ee db ac k f ro m t he c ri ti c o n h ow t he a ge nt i s d oi ng a nd d et er mi ne s h ow t he p er fo rm an ce
CRITIC
e le me nt sh ou ld be mo di fi ed to do be tt er in th ef ut ur e .
Th ed es ig no ft he le ar ni ng el em en td ep en ds ve ry mu ch on th ed es ig no ft he pe rf or ma nc e
"e le me nt . Wh en t ry in g t o d es ig n a n a ge nt t ha t l ea rn s a c er ta in c ap ab il it y , t he f ir st q ue st io n i s"
n ot“Ho wa m Ig oi ng to ge ti tt ol ea rn th is ?” b ut“Wh at ki nd of pe rf or ma nc ee le me nt wi ll my
"a ge nt ne ed to do th is on ce it ha sl ea rn ed h ow ?” Gi ve na na ge nt de si gn , l ea rn in gm ec ha ni sm s"
c an be co ns tr uc te d t oi mp ro ve ev er yp ar to ft he ag en t .
Th ec ri ti c t el ls th e l ea rn in g e le me nt h ow w el lt he ag en t i sd oi ng w it hr es pe ct t oa fi xe d
p er fo rm an ce s ta nd ar d . Th e c ri ti c i s n ec es sa ry b ec au se t he p er ce pt s t he ms el ve s p ro vi de n o
"i nd ic at io n o f t he a ge nt’s s uc ce ss . Fo r e xa mp le , a c he ss p ro gr am c ou ld r ec ei ve a p er ce pt"
"i nd ic at in g t ha t i t h as c he ck ma te d i ts o pp on en t , b ut i t n ee ds a p er fo rm an ce s ta nd ar d t o k no w"
t ha tt hi si sa go od th in g ;t he pe rc ep ti ts el fd oe sn ot sa ys o . It is im po rt an tt ha tt he pe rf or ma nc e
56 Ch ap te r 2. In te ll ig en t Ag en ts
"s ta nd ar d b e f ix ed . Co nc ep tu al ly , o ne s ho ul d t hi nk o f i t a s b ei ng o ut si de t he a ge nt a lt og et he r"
b ec au se th ea ge nt mu st no tm od if yi tt of it it so wn be ha vi or .
PROBLEM Th e l as t c om po ne nt o f t he l ea rn in g a ge nt i s t he p ro bl em g en er at or . It i s r es po ns ib le
GENERATOR
f or s ug ge st in g a ct io ns t ha t w il l l ea d t o n ew a nd i nf or ma ti ve e xp er ie nc es . Th e p oi nt i s t ha t
"i f t he p er fo rm an ce e le me nt h ad i ts w ay , i t w ou ld k ee p d oi ng t he a ct io ns t ha t a re b es t , g iv en"
w ha ti tk no ws . Bu ti ft he ag en t i sw il li ng to ex pl or e a li tt le a nd do so me pe rh ap s s ub op ti ma l
"a ct io ns i nt he s ho rt r un , i tm ig ht d is co ve r m uc hb et te ra ct io ns f or th el on g r un . Th ep ro bl em"
g en er at or’s j ob i s t o s ug ge st t he se e xp lo ra to ry a ct io ns . Th is i s w ha t s ci en ti st s d o w he n t he y
c ar ry o ut e xp er im en ts . Ga li le o d id n ot t hi nk t ha t d ro pp in g r oc ks f ro m t he t op o f a t ow er i n
Pi sa w as v al ua bl e i n i ts el f . He w as n ot t ry in g t o b re ak t he r oc ks o r t o m od if y t he b ra in s o f
u nf or tu na te p as se rs-b y . Hi s a im w as t o m od if y h is o wn b ra in b y i de nt if yi ng a b et te r t he or y
o ft he mo ti on of ob je ct s .
"To ma ke t he ov er al l d es ig n m or ec on cr et e , l et us re tu rn t ot he a ut om at ed t ax i e xa mp le ."
Th e p er fo rm an ce e le me nt c on si st s o f w ha te ve r c ol le ct io n o f k no wl ed ge a nd p ro ce du re s t he
"t ax i h as f or s el ec ti ng i ts d ri vi ng a ct io ns . Th e t ax i g oe s o ut o n t he r oa d a nd d ri ve s , u si ng"
t hi sp er fo rm an ce e le me nt . Th ec ri ti c o bs er ve s t he wo rl da nd p as se s i nf or ma ti on a lo ng t ot he
"l ea rn in ge le me nt . Fo re xa mp le ,a ft er th et ax im ak es aq ui ck le ft tu rn ac ro ss th re el an es of tr af-"
"f ic ,t he cr it ic ob se rv es th es ho ck in gl an gu ag eu se db yo th er dr iv er s . Fr om th is ex pe ri en ce , t he"
"l ea rn in ge le me nt is ab le to fo rm ul at ea ru le sa yi ng th is wa sa ba da ct io n ,a nd th ep er fo rm an ce"
e le me nt i s m od if ie d b y i ns ta ll at io n o f t he n ew r ul e . Th e p ro bl em g en er at or m ig ht i de nt if y
"c er ta in ar ea so fb eh av io ri nn ee do fi mp ro ve me nt an ds ug ge st e xp er im en ts ,s uc ha st ry in go ut"
t he br ak es on di ff er en tr oa ds ur fa ce s u nd er di ff er en tc on di ti on s .
Th el ea rn in g e le me nt ca nm ak ec ha ng es t oa ny of th e“k no wl ed ge” c om po ne nt s s ho wn
"i nt he ag en td ia gr am s(Fi gu re s 2.9,2.11,2.13,a nd 2.14). Th es im pl es tc as es in vo lv el ea rn in g"
d ir ec tl y f ro m t he p er ce pt s eq ue nc e . Ob se rv at io n o f p ai rs o f s uc ce ss iv e s ta te s o f t he e nv ir on-
"m en tc an al lo w t he ag en t t ol ea rn “Ho wt he wo rl de vo lv es ,” a nd o bs er va ti on o ft he re su lt s o f"
"i ts ac ti on s c an al lo wt he ag en tt ol ea rn“Wh at my ac ti on s d o .” Fo re xa mp le , i ft he ta xi ex er ts"
"a c er ta in b ra ki ng p re ss ur e w he n d ri vi ng o n a w et r oa d , t he n i t w il l s oo n f in d o ut h ow m uc h"
"d ec el er at io n i s a ct ua ll y a ch ie ve d . Cl ea rl y , t he se t wo l ea rn in g t as ks a re m or e d if fi cu lt i f t he"
e nv ir on me nt i so nl yp ar ti al ly o bs er va bl e .
Th e f or ms o f l ea rn in g i n t he p re ce di ng p ar ag ra ph d o n ot n ee d t o a cc es s t he e xt er na l
"p er fo rm an ce s ta nd ar d—i n a s en se , t he s ta nd ar d i s t he u ni ve rs al o ne o f m ak in g p re di ct io ns"
t ha t a gr ee w it h e xp er im en t . Th e s it ua ti on i s s li gh tl y m or e c om pl ex f or a u ti li ty-b as ed a ge nt
"t ha tw is he st ol ea rn ut il it yi nf or ma ti on . Fo re xa mp le ,s up po se t he ta xi-d ri vi ng a ge nt re ce iv es"
n o t ip s f ro m p as se ng er s w ho h av e b ee n t ho ro ug hl y s ha ke n u p d ur in g t he t ri p . Th e e xt er na l
p er fo rm an ce s ta nd ar d m us ti nf or m t he ag en tt ha tt he lo ss of ti ps is an eg at iv ec on tr ib ut io n t o
i ts o ve ra ll p er fo rm an ce ; t he n t he a ge nt m ig ht b e a bl e t o l ea rn t ha t v io le nt m an eu ve rs d o n ot
"c on tr ib ut e t o i ts o wn u ti li ty . In a s en se , t he p er fo rm an ce s ta nd ar d d is ti ng ui sh es p ar t o f t he"
i nc om in gp er ce pt as ar ew ar d(o rp en al ty)t ha tp ro vi de sd ir ec tf ee db ac ko nt he qu al it yo ft he
a ge nt’s b eh av io r . Ha rd-w ir ed p er fo rm an ce s ta nd ar ds s uc h a sp ai na nd hu ng er in an im al s c an
b eu nd er st oo d i nt hi sw ay . Th is is su ei sd is cu ss ed f ur th er in Ch ap te r 21.
"In su mm ar y , a ge nt s h av ea va ri et yo fc om po ne nt s , a nd th os e c om po ne nt s c an be re pr e-"
"s en te d i n m an y w ay s w it hi n t he a ge nt p ro gr am , s o t he re a pp ea rs t o b e g re at v ar ie ty a mo ng"
Se ct io n 2.4. Th e St ru ct ur eo f Ag en ts 57
"l ea rn in g m et ho ds . Th er ei s , h ow ev er , a si ng le u ni fy in g t he me . Le ar ni ng i ni nt el li ge nt a ge nt s"
c an be su mm ar iz ed a sa pr oc es s o fm od if ic at io n o fe ac hc om po ne nt o ft he ag en tt ob ri ng t he
"c om po ne nt s i nt o c lo se r a gr ee me nt w it ht he a va il ab le f ee db ac k i nf or ma ti on , t he re by i mp ro v-"
i ng th eo ve ra ll pe rf or ma nc e o ft he ag en t .
2.4.7 Ho wt he c om po ne nt s o fa ge nt pr og ra ms w or k
We ha ve de sc ri be da ge nt pr og ra ms(i nv er yh ig h-l ev el te rm s) a sc on si st in go fv ar io us co mp o-
"n en ts ,w ho se fu nc ti on it is to an sw er qu es ti on ss uc ha s: “Wh at is th ew or ld li ke no w ?” “Wh at"
a ct io n s ho ul d I d o n ow ?” “Wh at d o m y a ct io ns d o ?” Th e n ex t q ue st io n f or a s tu de nt o f AI
"i s , “Ho w o n e ar th d o t he se c om po ne nt s w or k ?” It t ak es a bo ut a t ho us an d p ag es t o b eg in t o"
"a ns we rt ha t q ue st io n p ro pe rl y , b ut h er e w ew an tt o d ra w t he re ad er’s a tt en ti on t o s om eb as ic"
d is ti nc ti on s a mo ng t he va ri ou s w ay st ha tt he co mp on en ts c an r ep re se nt t he en vi ro nm en t t ha t
t he ag en ti nh ab it s .
"Ro ug hl y s pe ak in g , w e c an p la ce t he r ep re se nt at io ns a lo ng a n a xi s o f i nc re as in g c om-"
"p le xi ty a nd e xp re ss iv e p ow er—a to mi c , f ac to re d , a nd s tr uc tu re d . To i ll us tr at e t he se i de as ,"
"i t h el ps t o c on si de r a p ar ti cu la r a ge nt c om po ne nt , s uc h a s t he o ne t ha t d ea ls w it h “Wh at m y"
a ct io ns d o .” Th is c om po ne nt d es cr ib es t he c ha ng es t ha t m ig ht o cc ur i n t he e nv ir on me nt a s
"t he r es ul t o f t ak in g a n a ct io n , a nd Fi gu re 2.16 p ro vi de s s ch em at ic d ep ic ti on s o f h ow t ho se"
t ra ns it io ns m ig ht be re pr es en te d .
B C
B C
(a) At om ic (b) Fa ct or ed (b) St ru ct ur ed
Fi gu re 2.16 Th re ew ay st or ep re se nt st at es an dt he tr an si ti on sb et we en th em . (a)At om ic
r ep re se nt at io n:a st at e(s uc ha s Bo r C)i sa bl ac kb ox wi th no in te rn al st ru ct ur e ;(b)Fa ct or ed
"r ep re se nt at io n: a s ta te c on si st s o f a v ec to ro f a tt ri bu te v al ue s ; v al ue sc an b e Bo ol ea n , r ea l-"
"v al ue d , o r o ne o f a f ix ed s et o f s ym bo ls . (c) St ru ct ur ed r ep re se nt at io n: a s ta te i nc lu de s"
"o bj ec ts ,e ac ho fw hi ch ma yh av ea tt ri bu te so fi ts ow na sw el la sr el at io ns hi ps to ot he ro bj ec ts ."
ATOMIC In a n a to mi c r ep re se nt at io n e ac h s ta te o f t he w or ld i s i nd iv is ib le—i t h as n o i nt er na l
REPRESENTATION
s tr uc tu re . Co ns id er t he p ro bl em o f f in di ng a d ri vi ng r ou te f ro m o ne e nd o f a c ou nt ry t o t he
o th er vi as om es eq ue nc eo fc it ie s(w ea dd re ss th is pr ob le mi n Fi gu re 3.2 o np ag e 68). Fo rt he
"p ur po se s o fs ol vi ng t hi s p ro bl em , i tm ay su ff ic et or ed uc e t he s ta te of wo rl dt oj us tt he na me"
o f t he c it y w e a re i n—a s in gl e a to m o f k no wl ed ge ; a “b la ck b ox” w ho se o nl y d is ce rn ib le
p ro pe rt y i s t ha t o f b ei ng i de nt ic al t o o r d if fe re nt f ro m a no th er b la ck b ox . Th e a lg or it hm s
58 Ch ap te r 2. In te ll ig en t Ag en ts
"u nd er ly in gs ea rc ha nd ga me-p la yi ng(Ch ap te rs 3–5),Hi dd en Ma rk ov mo de ls(Ch ap te r 15),"
"a nd Ma rk ov d ec is io n p ro ce ss es (Ch ap te r 17) a ll w or k w it h a to mi c r ep re se nt at io ns—o r , a t"
"l ea st ,t he yt re at re pr es en ta ti on s a si ft he yw er ea to mi c ."
"No wc on si de r a h ig he r-f id el it y d es cr ip ti on f or t he s am e p ro bl em , w he re w en ee d t o b e"
c on ce rn ed w it h m or e t ha n j us t a to mi c l oc at io n i n o ne c it y o ra no th er ; w em ig ht n ee d t o p ay
"a tt en ti on t oh ow mu ch ga si si nt he ta nk , o ur cu rr en t GPSc oo rd in at es , w he th er or no tt he oi l"
"w ar ni ng l ig ht i sw or ki ng , h ow mu ch s pa re c ha ng e w eh av e f or to ll c ro ss in gs , w ha ts ta ti on i s"
"FACTORED o n t he r ad io , a nd s o o n . A f ac to re d r ep re se nt at io n s pl it s u p e ac h s ta te i nt o a f ix ed s et o f"
REPRESENTATION
"v ar ia bl es o r a tt ri bu te s , e ac h o f w hi ch c an h av e a v al ue . Wh il e t wo d if fe re nt a to mi c s ta te s"
VARIABLE
h av e n ot hi ng i n c om mo n—t he y a re j us t d if fe re nt b la ck b ox es—t wo d if fe re nt f ac to re d s ta te s
ATTRIBUTE
c an sh ar es om ea tt ri bu te s(s uc ha sb ei ng at so me pa rt ic ul ar GPSl oc at io n)a nd no to th er s(s uc h
VALUE
a s h av in g l ot s o f g as o r h av in g n o g as); t hi s m ak es i t m uc h e as ie r t o w or k o ut h ow t o t ur n
"o ne st at ei nt oa no th er . Wi th fa ct or ed r ep re se nt at io ns , w ec an al so re pr es en t u nc er ta in ty—f or"
"e xa mp le , i gn or an ce a bo ut t he a mo un t o f g as i n t he t an k c an b e r ep re se nt ed b y l ea vi ng t ha t"
"a tt ri bu te b la nk . Ma ny im po rt an t a re as of AIa re ba se d o nf ac to re d r ep re se nt at io ns , i nc lu di ng"
"c on st ra in t s at is fa ct io n a lg or it hm s (Ch ap te r 6), p ro po si ti on al l og ic (Ch ap te r 7), p la nn in g"
"(Ch ap te rs 10 a nd 11), Ba ye si an n et wo rk s (Ch ap te rs 13–16), a nd t he m ac hi ne l ea rn in g a l-"
"g or it hm si n Ch ap te rs 18,20,a nd 21."
"Fo r m an y p ur po se s , w e n ee d t o u nd er st an d t he w or ld a s h av in g t hi ng s i n i t t ha t a re"
"r el at ed t o e ac h o th er , n ot j us t v ar ia bl es w it h v al ue s . Fo r e xa mp le , w e m ig ht n ot ic e t ha t a"
l ar ge tr uc k a he ad of us is re ve rs in g i nt ot he dr iv ew ay of ad ai ry f ar mb ut ac ow ha sg ot lo os e
a nd i s b lo ck in g t he t ru ck’s p at h . A f ac to re d r ep re se nt at io n i s u nl ik el y t o b e p re-e qu ip pe d
w it ht he at tr ib ut e Tr uc k Ah ea d Ba ck in g In to Da ir y Fa rm Dr iv ew ay Bl oc ke d By Lo os e Co w w it h
"STRUCTURED v al ue t ru e o r f al se . In st ea d , w e w ou ld n ee d a s tr uc tu re d r ep re se nt at io n , i n w hi ch o b-"
REPRESENTATION
j ec ts s uc h a s c ow s a nd t ru ck s a nd t he ir v ar io us a nd v ar yi ng r el at io ns hi ps c an b e d es cr ib ed
e xp li ci tl y . (Se e Fi gu re 2.16(c).) St ru ct ur ed r ep re se nt at io ns u nd er li e r el at io na l d at ab as es
"a nd f ir st-o rd er l og ic (Ch ap te rs 8, 9, a nd 12), f ir st-o rd er p ro ba bi li ty m od el s (Ch ap te r 14),"
k no wl ed ge-b as ed l ea rn in g (Ch ap te r 19) a nd m uc h o f n at ur al l an gu ag e u nd er st an di ng
"(Ch ap te rs 22 a nd 23). In f ac t , a lm os t e ve ry th in g t ha t h um an s e xp re ss i n n at ur al l an gu ag e"
c on ce rn s o bj ec ts an dt he ir re la ti on sh ip s .
"As w e m en ti on ed e ar li er , t he a xi s a lo ng w hi ch a to mi c , f ac to re d , a nd s tr uc tu re d r ep re-"
"s en ta ti on s l ie is th ea xi s o fi nc re as in g e xp re ss iv en es s . Ro ug hl y s pe ak in g , a mo re ex pr es si ve"
EXPRESSIVENESS
"r ep re se nt at io n c an ca pt ur e ,a tl ea st as co nc is el y , e ve ry th in ga le ss ex pr es si ve on ec an ca pt ur e ,"
"p lu ss om em or e . Of te n ,t he mo re ex pr es si ve la ng ua ge is mu ch mo re co nc is e ;f or ex am pl e ,t he"
r ul es o f c he ss c an b e w ri tt en i n a p ag e o r t wo o f a s tr uc tu re d-r ep re se nt at io n l an gu ag e s uc h
a s f ir st-o rd er l og ic b ut r eq ui re t ho us an ds o f p ag es w he n w ri tt en i n a f ac to re d-r ep re se nt at io n
"l an gu ag e s uc h a s p ro po si ti on al l og ic . On t he o th er h an d , r ea so ni ng a nd l ea rn in g b ec om e"
m or e c om pl ex a s t he e xp re ss iv e p ow er o f t he r ep re se nt at io n i nc re as es . To g ai n t he b en ef it s
"o fe xp re ss iv e r ep re se nt at io ns w hi le av oi di ng t he ir dr aw ba ck s , i nt el li ge nt s ys te ms f or th er ea l"
w or ld ma yn ee dt oo pe ra te at al lp oi nt sa lo ng th ea xi ss im ul ta ne ou sl y .
Se ct io n 2.5. Su mm ar y 59
2.5 SUMMARY
"Th is c ha pt er h as b ee n s om et hi ng o f a w hi rl wi nd t ou r o f AI , w hi ch w e h av e c on ce iv ed o f a s"
t he sc ie nc eo fa ge nt de si gn . Th em aj or po in ts to re ca ll ar ea s f ol lo ws:
• An ag en t i ss om et hi ng t ha t p er ce iv es a nd a ct s i n a ne nv ir on me nt . Th e a ge nt f un ct io n
f or an ag en ts pe ci fi es th ea ct io nt ak en by th ea ge nt in re sp on se to an yp er ce pt se qu en ce .
• Th e p er fo rm an ce m ea su re e va lu at es t he b eh av io r o f t he a ge nt i n a n e nv ir on me nt . A
"r at io na l a ge nt ac ts so as to ma xi mi ze t he ex pe ct ed v al ue of th ep er fo rm an ce m ea su re ,"
g iv en th ep er ce pt s eq ue nc e i th as se en so fa r .
"• A t as k e nv ir on me nt s pe ci fi ca ti on i nc lu de s t he p er fo rm an ce m ea su re , t he e xt er na l e n-"
"v ir on me nt , t he a ct ua to rs , a nd t he s en so rs . In d es ig ni ng a n a ge nt , t he f ir st s te p m us t"
a lw ay sb et os pe ci fy th et as ke nv ir on me nt a sf ul ly as po ss ib le .
• Ta sk e nv ir on me nt s v ar y a lo ng s ev er al s ig ni fi ca nt d im en si on s . Th ey c an b e f ul ly o r
"p ar ti al ly ob se rv ab le , s in gl e-a ge nt o rm ul ti ag en t , d et er mi ni st ic o rs to ch as ti c , e pi so di co r"
"s eq ue nt ia l , s ta ti co rd yn am ic ,d is cr et e o rc on ti nu ou s , a nd k no wn or un kn ow n ."
• Th e a ge nt p ro gr am i mp le me nt s t he a ge nt f un ct io n . Th er e e xi st s a v ar ie ty o f b as ic
a ge nt-p ro gr am d es ig ns r ef le ct in g t he ki nd of in fo rm at io n m ad ee xp li ci t a nd us ed in th e
"d ec is io n p ro ce ss . Th e d es ig ns v ar y i n e ff ic ie nc y , c om pa ct ne ss , a nd f le xi bi li ty . Th e"
a pp ro pr ia te d es ig no ft he ag en tp ro gr am d ep en ds o nt he na tu re of th ee nv ir on me nt .
"• Si mp le re fl ex ag en ts re sp on dd ir ec tl yt op er ce pt s , w he re as m od el-b as ed re fl ex ag en ts"
m ai nt ai n i nt er na l s ta te t o t ra ck a sp ec ts o f t he w or ld t ha t a re n ot e vi de nt i n t he c ur re nt
"p er ce pt . Go al-b as ed a ge nt s a ct t o a ch ie ve t he ir g oa ls , a nd u ti li ty-b as ed a ge nt s t ry t o"
m ax im iz et he ir ow ne xp ec te d “h ap pi ne ss .”
• Al la ge nt sc an im pr ov et he ir pe rf or ma nc e t hr ou gh l ea rn in g .
BIBLIOGRAPHICAL AND HISTORICAL NOTES
Th e c en tr al r ol e o f a ct io n i n i nt el li ge nc e—t he n ot io n o f p ra ct ic al r ea so ni ng—g oe s b ac k a t
l ea st a s f ar a s Ar is to tl e’s Ni co ma ch ea n Et hi cs . Pr ac ti ca l r ea so ni ng w as a ls o t he s ub je ct o f
Mc Ca rt hy’s(1958)i nf lu en ti al p ap er“Pr og ra ms wi th Co mm on Se ns e .” Th ef ie ld so fr ob ot ic s
"a nd co nt ro l t he or y a re , b yt he ir ve ry na tu re , c on ce rn ed p ri nc ip al ly w it hp hy si ca l a ge nt s . Th e"
c on ce pt o f a c on tr ol le r i n c on tr ol t he or y i s i de nt ic al t o t ha t o f a n a ge nt i n AI . Pe rh ap s s ur-
CONTROLLER
"p ri si ng ly , AI h as c on ce nt ra te d f or m os t o f i ts h is to ry o n i so la te d c om po ne nt s o f a ge nt s—"
"q ue st io n-a ns we ri ng s ys te ms , t he or em-p ro ve rs , v is io n s ys te ms , a nd s o o n—r at he r t ha n o n"
w ho le ag en ts . Th ed is cu ss io n o fa ge nt s i nt he te xt by Ge ne se re th a nd Ni ls so n(1987) w as an
i nf lu en ti al ex ce pt io n . Th ew ho le-a ge nt vi ew is no ww id el ya cc ep te da nd is ac en tr al th em ei n
"r ec en tt ex ts(Po ol ee ta l .,1998;Ni ls so n ,1998;Pa dg ha ma nd Wi ni ko ff , 2004;Jo ne s ,2007)."
Ch ap te r 1 t ra ce dt he ro ot so ft he co nc ep to fr at io na li ty in ph il os op hy an de co no mi cs . In
"AI ,t he co nc ep tw as of pe ri ph er al in te re st un ti lt he mi d-1980 s ,w he ni tb eg an to su ff us em an y"
60 Ch ap te r 2. In te ll ig en t Ag en ts
d is cu ss io ns a bo ut th ep ro pe rt ec hn ic al f ou nd at io ns o ft he fi el d . Ap ap er by Jo n Do yl e(1983)
"p re di ct ed t ha t r at io na l a ge nt d es ig n w ou ld c om e t o b e s ee n a s t he c or e m is si on o f AI , w hi le"
o th er po pu la rt op ic sw ou ld sp in of ft of or mn ew di sc ip li ne s .
Ca re fu l a tt en ti on t o t he p ro pe rt ie s o f t he e nv ir on me nt a nd t he ir c on se qu en ce s f or r a-
"t io na l a ge nt d es ig n i s m os t a pp ar en t i n t he c on tr ol t he or y t ra di ti on—f or e xa mp le , c la ss ic al"
"c on tr ol s ys te ms (Do rf a nd Bi sh op , 2004; Ki rk , 2004) h an dl e f ul ly o bs er va bl e , d et er mi ni st ic"
"e nv ir on me nt s ; s to ch as ti c o pt im al c on tr ol (Ku ma r a nd Va ra iy a , 1986; Be rt se ka s a nd Sh re ve ,"
"2007) h an dl es p ar ti al ly o bs er va bl e , s to ch as ti c e nv ir on me nt s ; a nd h yb ri d c on tr ol (He nz in ge r"
"a nd Sa st ry , 1998; Ca ss an dr as a nd Ly ge ro s , 2006) d ea ls w it h e nv ir on me nt s c on ta in in g b ot h"
d is cr et e a nd co nt in uo us e le me nt s . Th ed is ti nc ti on b et we en f ul ly a nd pa rt ia ll y o bs er va bl e e n-
v ir on me nt s i s a ls o c en tr al i n t he d yn am ic p ro gr am mi ng l it er at ur e d ev el op ed i n t he f ie ld o f
"o pe ra ti on s r es ea rc h (Pu te rm an ,1994), w hi ch we di sc us s i n Ch ap te r 17."
Re fl ex a ge nt s w er e t he p ri ma ry m od el f or p sy ch ol og ic al b eh av io ri st s s uc h a s Sk in ne r
"(1953),w ho at te mp te dt or ed uc et he ps yc ho lo gy of or ga ni sm ss tr ic tl yt oi np ut/o ut pu to rs ti m-"
"u lu s/r es po ns e m ap pi ng s . Th e a dv an ce f ro m b eh av io ri sm t o f un ct io na li sm i n p sy ch ol og y ,"
w hi ch w as at le as t p ar tl y d ri ve n b yt he a pp li ca ti on o ft he c om pu te r m et ap ho rt oa ge nt s (Pu t-
"n am , 1960; Le wi s , 1966), i nt ro du ce d t he i nt er na l s ta te o f t he a ge nt i nt o t he p ic tu re . Mo st"
w or k i n AI v ie ws t he i de a o f p ur e r ef le x a ge nt s w it h s ta te a s t oo s im pl e t o p ro vi de m uc h
"l ev er ag e , b ut w or k b y Ro se ns ch ei n (1985) a nd Br oo ks (1986) q ue st io ne d t hi s a ss um pt io n"
"(s ee Ch ap te r 25). In r ec en t y ea rs , a g re at d ea l o f w or k h as g on e i nt o f in di ng e ff ic ie nt a lg o-"
"r it hm sf or ke ep in gt ra ck of co mp le xe nv ir on me nt s(Ha ms ch er et al .,1992;Si mo n ,2006). Th e"
Re mo te Ag en tp ro gr am(d es cr ib ed on pa ge 28)t ha tc on tr ol le d t he De ep Sp ac e On es pa ce cr af t
"i sa pa rt ic ul ar ly i mp re ss iv ee xa mp le(Mu sc et to la e ta l .,1998;Jo ns so ne ta l .,2000)."
Go al-b as ed ag en ts ar ep re su pp os ed in ev er yt hi ng fr om Ar is to tl e’s vi ew of pr ac ti ca lr ea-
"s on in g t o Mc Ca rt hy’s e ar ly p ap er s o n l og ic al AI . Sh ak ey t he Ro bo t (Fi ke s a nd Ni ls so n ,"
"1971; Ni ls so n , 1984) w as t he f ir st r ob ot ic e mb od im en t o f a l og ic al , g oa l-b as ed a ge nt . A"
"f ul l l og ic al a na ly si s o f g oa l-b as ed a ge nt s a pp ea re d i n Ge ne se re th a nd Ni ls so n (1987), a nd a"
g oa l-b as ed pr og ra mm in gm et ho do lo gy ca ll ed ag en t-o ri en te dp ro gr am mi ng wa sd ev el op ed by
Sh oh am (1993). Th e a ge nt-b as ed a pp ro ac h i s n ow e xt re me ly p op ul ar i n s of tw ar e e ng in ee r-
"i ng (Ci an ca ri ni a nd Wo ol dr id ge , 2001). It h as a ls o i nf il tr at ed t he a re a o f o pe ra ti ng s ys te ms ,"
AUTONOMIC w he re au to no mi cc om pu ti ng re fe rs to co mp ut er sy st em sa nd ne tw or ks th at mo ni to ra nd co n-
COMPUTING
"t ro lt he ms el ve s w it ha pe rc ei ve–a ct l oo pa nd ma ch in el ea rn in g m et ho ds(Ke ph ar ta nd Ch es s ,"
2003). No ti ng t ha t a c ol le ct io n o f a ge nt p ro gr am s d es ig ne d t o w or k w el l t og et he r i n a t ru e
m ul ti ag en te nv ir on me nt ne ce ss ar il ye xh ib it sm od ul ar it y—t he pr og ra ms sh ar en oi nt er na ls ta te
a nd c om mu ni ca te w it h e ac h o th er o nl y t hr ou gh t he e nv ir on me nt—i t i s c om mo n w it hi n t he
MULTIAGENT f ie ld o f m ul ti ag en t s ys te ms t o d es ig n t he a ge nt p ro gr am o f a si ng le a ge nt a s a c ol le ct io n o f
SYSTEMS
"a ut on om ou s s ub-a ge nt s . In s om e c as es , o ne c an e ve n p ro ve t ha t t he r es ul ti ng s ys te m g iv es"
t he sa me op ti ma ls ol ut io ns a sa mo no li th ic de si gn .
Th eg oa l-b as ed v ie wo fa ge nt sa ls od om in at es th ec og ni ti ve ps yc ho lo gy t ra di ti on in th e
"a re a o f p ro bl em s ol vi ng , b eg in ni ng w it h t he e no rm ou sl y i nf lu en ti al Hu ma n Pr ob le m So lv-"
"i ng(Ne we ll an d Si mo n ,1972)a nd ru nn in gt hr ou gh al lo f Ne we ll’s la te rw or k(Ne we ll ,1990)."
"Go al s , f ur th er an al yz ed a s d es ir es (g en er al) a nd i nt en ti on s (c ur re nt ly p ur su ed), a re ce nt ra l t o"
t he t he or y o f a ge nt s d ev el op ed b y Br at ma n (1987). Th is t he or y h as b ee n i nf lu en ti al b ot h i n
3
SOLVING PROBLEMS BY
SEARCHING
In w hi ch w e s ee h ow a n a ge nt c an f in d a s eq ue nc e o f a ct io ns t ha t a ch ie ve s i ts
g oa ls wh en no si ng le ac ti on wi ll do .
"Th es im pl es ta ge nt sd is cu ss ed in Ch ap te r 2 w er et he re fl ex ag en ts ,w hi ch ba se th ei ra ct io ns on"
a di re ct ma pp in gf ro ms ta te st oa ct io ns . Su ch ag en ts ca nn ot op er at e w el li ne nv ir on me nt s f or
w hi ch th is ma pp in gw ou ld be to ol ar ge to st or ea nd wo ul dt ak et oo lo ng to le ar n . Go al-b as ed
"a ge nt s , o nt he ot he rh an d ,c on si de rf ut ur ea ct io ns a nd th ed es ir ab il it y o ft he ir ou tc om es ."
PROBLEM-SOLVING Th is c ha pt er d es cr ib es o ne k in d o f g oa l-b as ed a ge nt c al le d a p ro bl em-s ol vi ng a ge nt .
AGENT
"Pr ob le m-s ol vi ng a ge nt s u se a to mi c r ep re se nt at io ns , a s d es cr ib ed i n Se ct io n 2.4.7—t ha t i s ,"
"s ta te so ft he wo rl da re co ns id er ed as wh ol es ,w it hn oi nt er na ls tr uc tu re vi si bl et ot he pr ob le m-"
s ol vi ng a lg or it hm s . Go al-b as ed a ge nt s t ha t u se m or e a dv an ce d f ac to re d o r s tr uc tu re d r ep-
r es en ta ti on s a re us ua ll yc al le d p la nn in ga ge nt sa nd ar ed is cu ss ed i n Ch ap te rs 7 a nd 10.
Ou rd is cu ss io no fp ro bl em so lv in gb eg in sw it hp re ci se de fi ni ti on so fp ro bl em sa nd th ei r
s ol ut io ns a nd g iv e s ev er al e xa mp le s t o i ll us tr at e t he se d ef in it io ns . We t he n d es cr ib e s ev er al
g en er al-p ur po se s ea rc h a lg or it hm s t ha t c an b e u se d t o s ol ve t he se p ro bl em s . We w il l s ee
s ev er al u ni nf or me d s ea rc h a lg or it hm s—a lg or it hm s t ha t a re g iv en n o i nf or ma ti on a bo ut t he
p ro bl em o th er th an i ts de fi ni ti on . Al th ou gh s om e o ft he se a lg or it hm s c an s ol ve a ny so lv ab le
"p ro bl em , n on eo ft he mc an do so ef fi ci en tl y . In fo rm ed se ar ch al go ri th ms , o nt he ot he rh an d ,"
c an do qu it ew el lg iv en so me gu id an ce o nw he re to lo ok fo rs ol ut io ns .
"In t hi s c ha pt er , w e l im it o ur se lv es t o t he s im pl es t k in d o f t as k e nv ir on me nt , f or w hi ch"
t he so lu ti on to ap ro bl em is al wa ys af ix ed se qu en ce of ac ti on s . Th em or eg en er al ca se—w he re
t he ag en t’s fu tu re ac ti on sm ay va ry de pe nd in g o nf ut ur ep er ce pt s—i s h an dl ed in Ch ap te r 4.
"Th is c ha pt er u se s t he c on ce pt s o f a sy mp to ti c c om pl ex it y (t ha t i s , O() n ot at io n) a nd"
NP-c om pl et en es s . Re ad er su nf am il ia rw it ht he se co nc ep ts s ho ul dc on su lt Ap pe nd ix A .
3.1 PROBLEM-SOLVING AGENTS
In te ll ig en t a ge nt s a re s up po se d t o m ax im iz e t he ir p er fo rm an ce m ea su re . As w e m en ti on ed
"i n Ch ap te r 2, a ch ie vi ng t hi s i ss om et im es s im pl if ie d i ft he ag en t c an ad op t a go al a nd ai m a t"
s at is fy in g i t . Le tu sf ir st lo ok at wh ya nd ho wa na ge nt mi gh td ot hi s .
64
Se ct io n 3.1. Pr ob le m-So lv in g Ag en ts 65
"Im ag in ea na ge nt in th ec it yo f Ar ad ,Ro ma ni a ,e nj oy in g a to ur in gh ol id ay . Th ea ge nt’s"
"p er fo rm an ce m ea su re c on ta in s m an yf ac to rs: i tw an ts t oi mp ro ve i ts su nt an , i mp ro ve i ts Ro-"
"m an ia n ,t ak ei nt he si gh ts ,e nj oy th en ig ht li fe (s uc ha si ti s),a vo id ha ng ov er s , a nd so on . Th e"
d ec is io n p ro bl em i s a c om pl ex o ne i nv ol vi ng m an y t ra de of fs a nd c ar ef ul r ea di ng o f g ui de-
"b oo ks . No w ,s up po se t he ag en th as an on re fu nd ab le t ic ke tt of ly ou to f Bu ch ar es t t he fo ll ow-"
"i ng d ay . In t ha t c as e , i t m ak es s en se f or t he a ge nt t o a do pt t he g oa l o f g et ti ng t o Bu ch ar es t ."
Co ur se s o f a ct io n t ha t d on’t r ea ch Bu ch ar es t o n t im ec an b er ej ec te d w it ho ut f ur th er c on si d-
e ra ti on a nd t he a ge nt’s d ec is io n p ro bl em i s g re at ly s im pl if ie d . Go al s h el p o rg an iz e b eh av io r
b y l im it in g t he o bj ec ti ve s t ha t t he a ge nt i s t ry in g t o a ch ie ve a nd h en ce t he a ct io ns i t n ee ds
"t o c on si de r . Go al f or mu la ti on , b as ed o n t he c ur re nt s it ua ti on a nd t he a ge nt’s p er fo rm an ce"
GOALFORMULATION
"m ea su re ,i st he fi rs ts te pi np ro bl em s ol vi ng ."
We w il l c on si de r a g oa l t o b e a s et o f w or ld s ta te s—e xa ct ly t ho se s ta te s i n w hi ch t he
"g oa l i s s at is fi ed . Th e a ge nt’s t as k i s t o f in d o ut h ow t o a ct , n ow a nd i n t he f ut ur e , s o t ha t i t"
"r ea ch es a g oa l s ta te . Be fo re i t c an d o t hi s , i t n ee ds t o d ec id e (o r w e n ee d t o d ec id e o n i ts"
b eh al f) w ha t s or ts o f a ct io ns a nd s ta te s i t s ho ul d c on si de r . If i t w er e t o c on si de r a ct io ns a t
"t he le ve lo f“m ov et he le ft fo ot fo rw ar da ni nc h”o r“t ur nt he st ee ri ng w he el on ed eg re el ef t ,”"
"t he a ge nt w ou ld p ro ba bl y n ev er f in d i ts w ay o ut o f t he p ar ki ng l ot , l et a lo ne t o Bu ch ar es t ,"
b ec au se a t t ha t l ev el o f d et ai l t he re i s t oo m uc h u nc er ta in ty i n t he w or ld a nd t he re w ou ld b e
PROBLEM t oo m an y s te ps i n a s ol ut io n . Pr ob le m f or mu la ti on i s t he p ro ce ss o f d ec id in g w ha t a ct io ns
FORMULATION
"a nd st at es to co ns id er , g iv en ag oa l . We di sc us s t hi sp ro ce ss i nm or ed et ai ll at er . Fo rn ow ,l et"
u sa ss um e t ha tt he ag en t w il lc on si de r a ct io ns a tt he l ev el of d ri vi ng f ro m o ne ma jo rt ow nt o
a no th er . Ea ch st at et he re fo re c or re sp on ds t ob ei ng in ap ar ti cu la rt ow n .
Ou r a ge nt h as n ow a do pt ed t he g oa l o f d ri vi ng t o Bu ch ar es t a nd i s c on si de ri ng w he re
"t og of ro m Ar ad . Th re er oa ds l ea d o ut of Ar ad , o ne to wa rd Si bi u , o ne to Ti mi so ar a , a nd o ne"
"t o Ze ri nd . No ne of th es ea ch ie ve st he go al ,s ou nl es st he ag en ti sf am il ia rw it ht he ge og ra ph y"
"o f Ro ma ni a , i tw il ln ot kn ow w hi ch ro ad to fo ll ow .1 In ot he rw or ds , t he ag en t w il ln ot kn ow"
"w hi ch o f i ts p os si bl e a ct io ns i s b es t , b ec au se i t d oe s n ot y et k no w e no ug h a bo ut t he s ta te"
"t ha t r es ul ts f ro m t ak in g e ac h a ct io n . If t he a ge nt h as n o a dd it io na l i nf or ma ti on—i .e ., i f t he"
e nv ir on me nt i s u nk no wn in th es en se d ef in ed i n Se ct io n 2.3—t he n i ti sh as n oc ho ic e b ut t o
t ry on eo ft he ac ti on sa tr an do m . Th is sa ds it ua ti on is di sc us se d i n Ch ap te r 4.
Bu t s up po se t he a ge nt h as a m ap o f Ro ma ni a . Th e p oi nt o f a m ap i s t o p ro vi de t he
a ge nt wi th in fo rm at io na bo ut th es ta te si tm ig ht ge ti ts el fi nt oa nd th ea ct io ns it ca nt ak e . Th e
a ge nt c an u se t hi s i nf or ma ti on t o c on si de r s ub se qu en t s ta ge s o f a h yp ot he ti ca l j ou rn ey v ia
"e ac ho ft he th re et ow ns ,t ry in gt of in da jo ur ne yt ha te ve nt ua ll yg et st o Bu ch ar es t . On ce it ha s"
"f ou nd a p at h o n t he m ap f ro m Ar ad t o Bu ch ar es t , i t c an a ch ie ve i ts g oa l b y c ar ry in g o ut t he"
"d ri vi ng a ct io ns t ha t c or re sp on d t o t he l eg s o f t he j ou rn ey . In g en er al , a n a ge nt w it h s ev er al"
i mm ed ia te o pt io ns o fu nk no wn v al ue ca n d ec id e w ha tt od ob yf ir st e xa mi ni ng f ut ur e a ct io ns
t ha te ve nt ua ll y l ea dt os ta te so fk no wn va lu e .
"To b e m or e s pe ci fi c a bo ut w ha t w e m ea n b y “e xa mi ni ng f ut ur e a ct io ns ,” w e h av e t o"
"b e m or e s pe ci fi c a bo ut p ro pe rt ie s o f t he e nv ir on me nt , a s d ef in ed i n Se ct io n 2.3. Fo r n ow ,"
1 We ar ea ss um in gt ha tm os tr ea de rs ar ei nt he sa me po si ti on an dc an ea si ly im ag in et he ms el ve st ob ea sc lu el es s
a so ur ag en t .We ap ol og iz et o Ro ma ni an re ad er sw ho ar eu na bl et ot ak ea dv an ta ge of th is pe da go gi ca ld ev ic e .
66 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"w ea ss um e t ha t t he e nv ir on me nt i s o bs er va bl e , s o t he a ge nt a lw ay s k no ws t he c ur re nt s ta te ."
"Fo rt he a ge nt d ri vi ng i n Ro ma ni a , i t’s r ea so na bl e t o s up po se t ha t e ac h c it y o n t he m ap ha s a"
"s ig n i nd ic at in g i ts p re se nc e t o a rr iv in g d ri ve rs . We al so a ss um e t he e nv ir on me nt i s d is cr et e ,"
s o a t a ny g iv en s ta te t he re a re o nl y f in it el y m an y a ct io ns t o c ho os e f ro m . Th is i s t ru e f or
n av ig at in g i n Ro ma ni a b ec au se e ac h c it y i sc on ne ct ed t oa s ma ll n um be ro f o th er c it ie s . We
"w il la ss um et he en vi ro nm en t i sk no wn ,s ot he ag en tk no ws wh ic hs ta te sa re re ac he db ye ac h"
a ct io n . (Ha vi ng a n a cc ur at e m ap s uf fi ce s t o m ee t t hi s c on di ti on f or n av ig at io n p ro bl em s .)
"Fi na ll y , w e a ss um e t ha t t he e nv ir on me nt i s d et er mi ni st ic , s o e ac h a ct io n h as e xa ct ly o ne"
"o ut co me . Un de r i de al c on di ti on s , t hi s i s t ru e f or t he a ge nt i n Ro ma ni a—i t m ea ns t ha t i f i t"
"c ho os es t o d ri ve f ro m Ar ad t o Si bi u , i t d oe s e nd u p i n Si bi u . Of c ou rs e , c on di ti on s a re n ot"
"a lw ay si de al , a sw es ho wi n Ch ap te r 4."
"Un de r t he se a ss um pt io ns , t he s ol ut io n t o a ny p ro bl em i s a f ix ed s eq ue nc e o f a ct io ns ."
"“Of co ur se !” o ne mi gh ts ay ,“Wh at el se co ul di tb e ?” We ll ,i ng en er al it co ul db ea br an ch in g"
s tr at eg y t ha t r ec om me nd s d if fe re nt a ct io ns i n t he f ut ur e d ep en di ng o n w ha t p er ce pt s a rr iv e .
"Fo r e xa mp le , u nd er l es s t ha n i de al c on di ti on s , t he a ge nt m ig ht p la n t o d ri ve f ro m Ar ad t o"
Si bi u a nd t he n t o Ri mn ic u Vi lc ea b ut m ay a ls o n ee d t o h av e a c on ti ng en cy p la n i n c as e i t
"a rr iv es by ac ci de nt in Ze ri nd in st ea d o f Si bi u . Fo rt un at el y , i ft he ag en tk no ws th ei ni ti al st at e"
"a nd t he e nv ir on me nt i s k no wn a nd d et er mi ni st ic , i t k no ws e xa ct ly w he re i t w il l b e a ft er t he"
"f ir st ac ti on a nd w ha ti tw il lp er ce iv e . Si nc eo nl yo ne pe rc ep t i sp os si bl e a ft er th ef ir st ac ti on ,"
"t he so lu ti on c an sp ec if y o nl yo ne po ss ib le s ec on da ct io n , a nd so on ."
Th ep ro ce ss o fl oo ki ng f or as eq ue nc e o fa ct io ns t ha tr ea ch es t he go al is ca ll ed se ar ch .
SEARCH
A s ea rc h a lg or it hm t ak es a p ro bl em a s i np ut a nd r et ur ns a s ol ut io n i n t he f or m o f a n a ct io n
SOLUTION
"s eq ue nc e . On ce a s ol ut io n i s f ou nd , t he a ct io ns i t r ec om me nd s c an b e c ar ri ed o ut . Th is"
"i s c al le d t he e xe cu ti on p ha se . Th us , w e h av e a s im pl e “f or mu la te , s ea rc h , e xe cu te” d es ig n"
EXECUTION
"f or t he a ge nt , a s s ho wn i n Fi gu re 3.1. Af te r f or mu la ti ng a g oa l a nd a p ro bl em t o s ol ve ,"
"t he a ge nt c al ls a s ea rc h p ro ce du re t o s ol ve i t . It t he n u se s t he s ol ut io n t o g ui de i ts a ct io ns ,"
"d oi ng wh at ev er th es ol ut io nr ec om me nd sa st he ne xt th in gt od o—t yp ic al ly , t he fi rs ta ct io no f"
t he s eq ue nc e—a nd t he n r em ov in g t ha t s te p f ro m t he s eq ue nc e . On ce t he s ol ut io n h as b ee n
"e xe cu te d , t he ag en tw il lf or mu la te a ne wg oa l ."
No ti ce t ha t w hi le t he a ge nt i s e xe cu ti ng t he s ol ut io n s eq ue nc e i t i gn or es i ts p er ce pt s
w he n c ho os in g a n a ct io n b ec au se i t k no ws i n a dv an ce w ha t t he y w il l b e . An a ge nt t ha t
"c ar ri es o ut i ts p la ns w it h i ts e ye s c lo se d , s o t o s pe ak , m us t b e q ui te c er ta in o f w ha t i s g oi ng"
"o n . Co nt ro lt he or is ts c al lt hi sa n o pe n-l oo ps ys te m ,b ec au se i gn or in gt he pe rc ep ts b re ak st he"
OPEN-LOOP
l oo pb et we en ag en ta nd en vi ro nm en t .
"We f ir st d es cr ib e t he p ro ce ss o f p ro bl em f or mu la ti on , a nd t he n d ev ot e t he b ul k o f t he"
c ha pt er t o v ar io us a lg or it hm s f or t he SEARCH f un ct io n . We d o n ot d is cu ss t he w or ki ng s o f
t he UPDATE-STATE a nd FORMULATE-GOAL f un ct io ns f ur th er in th is ch ap te r .
3.1.1 We ll-d ef in ed p ro bl em s a nd s ol ut io ns
Ap ro bl em ca nb ed ef in ed fo rm al ly by fi ve co mp on en ts:
PROBLEM
"• Th e i ni ti al s ta te t ha t t he a ge nt s ta rt s i n . Fo r e xa mp le , t he i ni ti al s ta te f or o ur a ge nt i n"
INITIALSTATE
Ro ma ni am ig ht be de sc ri be d a s In(Ar ad).
Se ct io n 3.1. Pr ob le m-So lv in g Ag en ts 67
f un ct io n SIMPLE-PROBLEM-SOLVING-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: s eq ,a na ct io ns eq ue nc e ,i ni ti al ly em pt y"
"s ta te ,s om ed es cr ip ti on of th ec ur re nt wo rl ds ta te"
"g oa l ,a go al ,i ni ti al ly nu ll"
"p ro bl em ,a pr ob le mf or mu la ti on"
"s ta te←UPDATE-STATE(s ta te ,p er ce pt)"
i fs eq i se mp ty th en
g oa l←FORMULATE-GOAL(s ta te)
"p ro bl em←FORMULATE-PROBLEM(s ta te ,g oa l)"
s eq←SEARCH(p ro bl em)
i fs eq =f ai lu re t he nr et ur na nu ll ac ti on
a ct io n←FIRST(s eq)
s eq←REST(s eq)
r et ur na ct io n
"Fi gu re 3.1 A s im pl e p ro bl em-s ol vi ng a ge nt . It f ir st f or mu la te s a g oa l a nd a p ro bl em ,"
"s ea rc he sf or as eq ue nc eo fa ct io ns th at wo ul ds ol ve th ep ro bl em ,a nd th en ex ec ut es th ea ct io ns"
"o ne at at im e . Wh en th is is co mp le te ,i tf or mu la te sa no th er go al an ds ta rt so ve r ."
"• A d es cr ip ti on o f t he p os si bl e a ct io ns a va il ab le t o t he a ge nt . Gi ve n a p ar ti cu la r s ta te s ,"
ACTIONS
ACTIONS(s) r et ur ns t he s et o f a ct io ns t ha t c an b e e xe cu te d i n s . We s ay t ha t e ac h o f
"t he se a ct io ns i s a pp li ca bl e i n s . Fo re xa mp le , f ro m t he s ta te In(Ar ad), t he a pp li ca bl e"
APPLICABLE
"a ct io ns ar e{Go(Si bi u),Go(Ti mi so ar a),Go(Ze ri nd)}."
• A d es cr ip ti on o f w ha t e ac h a ct io n d oe s ; t he f or ma l n am e f or t hi s i s t he t ra ns it io n
TRANSITIONMODEL
"m od el , s pe ci fi ed b y a f un ct io n RESULT(s ,a) t ha t r et ur ns t he s ta te t ha t r es ul ts f ro m"
d oi ng ac ti on ai ns ta te s . We al so us et he te rm su cc es so rt or ef er to an ys ta te re ac ha bl e
SUCCESSOR
"f ro ma gi ve ns ta te by as in gl ea ct io n .2 Fo re xa mp le ,w eh av e"
"RESULT(In(Ar ad),Go(Ze ri nd)) = In(Ze ri nd)."
"To ge th er ,t he in it ia ls ta te ,a ct io ns ,a nd tr an si ti on mo de li mp li ci tl yd ef in et he st at es pa ce"
STATESPACE
o f t he p ro bl em—t he s et o f a ll s ta te s r ea ch ab le f ro m t he i ni ti al s ta te b y a ny s eq ue nc e
o f a ct io ns . Th e s ta te s pa ce f or ms a d ir ec te d n et wo rk o r g ra ph i n w hi ch t he n od es
GRAPH
a re s ta te s a nd t he l in ks b et we en n od es a re a ct io ns . (Th e m ap o f Ro ma ni a s ho wn i n
Fi gu re 3.2 c an b e i nt er pr et ed a s a s ta te-s pa ce g ra ph i f w e v ie w e ac h r oa d a s s ta nd in g
"f or tw od ri vi ng a ct io ns , o ne i ne ac h d ir ec ti on .) A p at hi n t he s ta te s pa ce i s a se qu en ce"
PATH
o fs ta te sc on ne ct ed b ya se qu en ce o fa ct io ns .
"• Th eg oa l t es t , w hi ch de te rm in es w he th er ag iv en s ta te is ag oa l s ta te . So me ti me st he re"
GOALTEST
"i s a n e xp li ci t s et o f p os si bl e g oa l s ta te s , a nd t he t es t s im pl y c he ck s w he th er t he g iv en"
s ta te is on eo ft he m . Th ea ge nt’s go al in Ro ma ni ai st he si ng le to ns et{In(Bu ch ar es t)}.
"2 Ma ny tr ea tm en ts of pr ob le ms ol vi ng ,i nc lu di ng pr ev io us ed it io ns of th is bo ok ,u se as uc ce ss or fu nc ti on ,w hi ch"
"r et ur ns th e s et o f a ll su cc es so rs , i ns te ad o f s ep ar at e ACTIONSa nd RESULTf un ct io ns . Th e s uc ce ss or f un ct io n"
"m ak es it di ff ic ul tt od es cr ib ea na ge nt th at kn ow sw ha ta ct io ns it ca nt ry bu tn ot wh at th ey ac hi ev e . Al so ,n ot e"
"s om ea ut ho ru se RESULT(a ,s)i ns te ad of RESULT(s ,a),a nd so me us e DOi ns te ad of RESULT ."
68 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
Or ad ea
71
Ne am t
Ze ri nd 87
151
75
Ia si
Ar ad
140
92
Si bi u Fa ga ra s
99
118
Va sl ui
80
Ri mn ic u Vi lc ea
Ti mi so ar a
142
111 Lu go j 97 Pi te st i 211
70 98
Hi rs ov a
Me ha di a 146 101 85 Ur zi ce ni
86
75 138
Bu ch ar es t
Dr ob et a 120
90
Cr ai ov a Gi ur gi u Ef or ie
Fi gu re 3.2 As im pl if ie dr oa dm ap of pa rt of Ro ma ni a .
So me ti me st he go al is sp ec if ie db ya na bs tr ac tp ro pe rt yr at he rt ha na ne xp li ci tl ye nu me r-
"a te ds et of st at es . Fo re xa mp le ,i nc he ss ,t he go al is to re ac h a st at ec al le d“c he ck ma te ,”"
w he re th eo pp on en t’s k in gi su nd er at ta ck an dc an’t es ca pe .
• A p at h c os t f un ct io n t ha t a ss ig ns a n um er ic c os t t o e ac h p at h . Th e p ro bl em-s ol vi ng
PATHCOST
a ge nt c ho os es a co st f un ct io n t ha t r ef le ct s i ts o wn pe rf or ma nc e m ea su re . Fo rt he a ge nt
"t ry in gt og et to Bu ch ar es t ,t im ei so ft he es se nc e ,s ot he co st of ap at hm ig ht be it sl en gt h"
"i nk il om et er s . In th is ch ap te r , w ea ss um et ha tt he co st of ap at hc an be de sc ri be d a st he"
s um of th ec os ts of th ei nd iv id ua la ct io ns al on gt he pa th .3 Th es te pc os to ft ak in ga ct io n
STEPCOST
(c id:2) (c id:2)
"a i n s ta te s t o r ea ch s ta te s i s d en ot ed b y c(s ,a ,s). Th e s te p c os ts f or Ro ma ni a a re"
s ho wn in Fi gu re 3.2 a sr ou te di st an ce s . We as su me th at st ep co st sa re no nn eg at iv e .4
Th e p re ce di ng e le me nt s d ef in e a p ro bl em a nd c an b e g at he re d i nt o a s in gl e d at a s tr uc tu re
t ha t i s g iv en a s i np ut t o a p ro bl em-s ol vi ng a lg or it hm . A s ol ut io n t o a p ro bl em i s a n a ct io n
s eq ue nc e t ha t l ea ds f ro m t he i ni ti al s ta te t o a go al s ta te . So lu ti on q ua li ty i s m ea su re d b y t he
"p at hc os tf un ct io n , a nd an op ti ma ls ol ut io nh as th el ow es tp at hc os ta mo ng al ls ol ut io ns ."
OPTIMALSOLUTION
3.1.2 Fo rm ul at in gp ro bl em s
In th ep re ce di ng se ct io nw ep ro po se d a fo rm ul at io no ft he pr ob le mo fg et ti ng to Bu ch ar es ti n
"t er ms of th ei ni ti al s ta te , a ct io ns , t ra ns it io n m od el , g oa l t es t , a nd pa th c os t . Th is fo rm ul at io n"
"s ee ms r ea so na bl e , b ut i t i s s ti ll a m od el—a n a bs tr ac t m at he ma ti ca l d es cr ip ti on—a nd n ot t he"
3 Th is as su mp ti on is al go ri th mi ca ll yc on ve ni en tb ut al so th eo re ti ca ll yj us ti fi ab le—s ee pa ge 649 i n Ch ap te r 17.
4 Th ei mp li ca ti on so fn eg at iv ec os ts ar ee xp lo re di n Ex er ci se 3.8.
Se ct io n 3.2. Ex am pl e Pr ob le ms 69
"r ea lt hi ng . Co mp ar et he si mp le st at ed es cr ip ti on we ha ve ch os en ,In(Ar ad),t oa na ct ua lc ro ss-"
"c ou nt ry tr ip ,w he re th es ta te of th ew or ld in cl ud es so ma ny th in gs: t he tr av el in gc om pa ni on s ,"
"t he c ur re nt r ad io p ro gr am , t he s ce ne ry o ut o f t he w in do w , t he p ro xi mi ty o f l aw e nf or ce me nt"
"o ff ic er s , t he d is ta nc e t o t he n ex t r es t s to p , t he c on di ti on o f t he r oa d , t he w ea th er , a nd s o o n ."
Al lt he se co ns id er at io ns a re le ft ou to fo ur st at ed es cr ip ti on sb ec au se th ey ar ei rr el ev an tt ot he
p ro bl em of fi nd in ga ro ut et o Bu ch ar es t . Th ep ro ce ss of re mo vi ng de ta il fr om ar ep re se nt at io n
i sc al le da bs tr ac ti on .
ABSTRACTION
"In ad di ti on to ab st ra ct in gt he st at ed es cr ip ti on , w em us ta bs tr ac tt he ac ti on st he ms el ve s ."
A d ri vi ng a ct io n h as m an y e ff ec ts . Be si de s c ha ng in g t he l oc at io n o f t he v eh ic le a nd i ts o c-
"c up an ts , i tt ak es u pt im e , c on su me s f ue l , g en er at es p ol lu ti on , a nd ch an ge s t he a ge nt (a s t he y"
"s ay , t ra ve l i s b ro ad en in g). Ou r f or mu la ti on t ak es i nt o a cc ou nt o nl y t he c ha ng e i n l oc at io n ."
"Al so , t he re a re m an y a ct io ns t ha t w e o mi t a lt og et he r: t ur ni ng o n t he r ad io , l oo ki ng o ut o f"
"t he wi nd ow ,s lo wi ng d ow nf or la we nf or ce me nt o ff ic er s , a nd so o n . An do fc ou rs e , w ed on’t"
s pe ci fy ac ti on s a tt he le ve lo f“t ur ns te er in gw he el to th el ef tb yo ne de gr ee .”
Ca nw eb em or ep re ci se ab ou td ef in in gt he ap pr op ri at el ev el of ab st ra ct io n ? Th in ko ft he
a bs tr ac t s ta te s a nd a ct io ns w e h av e c ho se n a s c or re sp on di ng t o l ar ge s et s o f d et ai le d w or ld
s ta te s a nd d et ai le d a ct io n s eq ue nc es . No w c on si de r a s ol ut io n t o t he a bs tr ac t p ro bl em: f or
"e xa mp le ,t he pa th fr om Ar ad to Si bi ut o Ri mn ic u Vi lc ea to Pi te st it o Bu ch ar es t . Th is ab st ra ct"
"s ol ut io n c or re sp on ds t o a la rg e n um be ro fm or e d et ai le d p at hs . Fo re xa mp le , w ec ou ld d ri ve"
"w it h t he r ad io o n b et we en Si bi u a nd Ri mn ic u Vi lc ea , a nd t he n s wi tc h i t o ff f or t he r es t o f"
t he tr ip . Th ea bs tr ac ti on i s v al id i fw ec an ex pa nd a ny ab st ra ct s ol ut io n i nt oa so lu ti on i nt he
"m or e d et ai le d w or ld ; a s uf fi ci en t c on di ti on i s t ha t f or e ve ry d et ai le d s ta te t ha t i s “i n Ar ad ,”"
"t he re i s a d et ai le d p at h t o s om e s ta te t ha t i s “i n Si bi u ,” a nd s o o n .5 Th e a bs tr ac ti on i s u se fu l"
i f c ar ry in g o ut e ac h o f t he a ct io ns i n t he s ol ut io n i s e as ie r t ha n t he o ri gi na l p ro bl em ; i n t hi s
c as e t he y a re e as y e no ug h t ha t t he y c an b e c ar ri ed o ut w it ho ut f ur th er s ea rc h o rp la nn in g b y
a n a ve ra ge d ri vi ng a ge nt . Th e c ho ic e o f a g oo d a bs tr ac ti on t hu s i nv ol ve s r em ov in g a s m uc h
d et ai l a s p os si bl e w hi le r et ai ni ng v al id it y a nd e ns ur in g t ha t t he a bs tr ac t a ct io ns a re e as y t o
"c ar ry ou t . We re it no tf or th ea bi li ty to co ns tr uc t u se fu la bs tr ac ti on s , i nt el li ge nt a ge nt sw ou ld"
b ec om pl et el ys wa mp ed by th er ea lw or ld .
3.2 EXAMPLE PROBLEMS
Th e p ro bl em-s ol vi ng a pp ro ac h h as b ee n a pp li ed t o a v as t a rr ay o f t as k e nv ir on me nt s . We
"l is t s om e o f t he b es t k no wn h er e , d is ti ng ui sh in g b et we en t oy a nd r ea l-w or ld p ro bl em s . A"
t oy pr ob le m i si nt en de d t oi ll us tr at e o re xe rc is e v ar io us p ro bl em-s ol vi ng m et ho ds . It ca nb e
TOYPROBLEM
"g iv en ac on ci se ,e xa ct de sc ri pt io na nd he nc ei su sa bl eb yd if fe re nt re se ar ch er st oc om pa re th e"
REAL-WORLD p er fo rm an ce o f a lg or it hm s . A r ea l-w or ld p ro bl em i s o ne w ho se s ol ut io ns p eo pl e a ct ua ll y
PROBLEM
"c ar ea bo ut . Su ch pr ob le ms te nd no tt oh av ea si ng le ag re ed-u po nd es cr ip ti on , b ut we ca ng iv e"
t he ge ne ra lf la vo ro ft he ir fo rm ul at io ns .
5 Se e Se ct io n 11.2 f or am or ec om pl et es et of de fi ni ti on sa nd al go ri th ms .
70 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
R
L R
L
S S
R R
L R L R
L L
S S
S S
R
L R
L
S S
"Fi gu re 3.3 Th e s ta te s pa ce f or t he v ac uu m w or ld . Li nk s d en ot e a ct io ns: L = Le ft , R ="
"Ri gh t ,S=Su ck ."
3.2.1 To y p ro bl em s
Th e f ir st e xa mp le w e e xa mi ne i s t he v ac uu m w or ld f ir st i nt ro du ce d i n Ch ap te r 2. (Se e
Fi gu re 2.2.) Th is ca nb ef or mu la te da sa pr ob le m a sf ol lo ws:
• St at es: Th e s ta te i s d et er mi ne d b y b ot h t he a ge nt l oc at io n a nd t he d ir t l oc at io ns . Th e
"a ge nt i s i n o ne o f t wo l oc at io ns , e ac h o f w hi ch m ig ht o r m ig ht n ot c on ta in d ir t . Th us ,"
t he re a re 2×22 = 8 p os si bl e w or ld s ta te s . A l ar ge r e nv ir on me nt w it h n l oc at io ns h as
n·2 n s ta te s .
• In it ia ls ta te: An ys ta te ca nb ed es ig na te d a st he in it ia ls ta te .
"• Ac ti on s: In t hi s s im pl e e nv ir on me nt , e ac h s ta te h as j us t t hr ee a ct io ns: Le ft , Ri gh t , a nd"
Su ck . La rg er en vi ro nm en ts m ig ht al so in cl ud e Up an d Do wn .
"• Tr an si ti on m od el: Th ea ct io ns h av e t he ir e xp ec te d e ff ec ts , e xc ep t t ha t m ov in g Le ft i n"
"t he le ft mo st sq ua re ,m ov in g Ri gh ti nt he ri gh tm os ts qu ar e ,a nd Su ck in gi na cl ea ns qu ar e"
h av en oe ff ec t . Th ec om pl et es ta te sp ac ei ss ho wn in Fi gu re 3.3.
• Go al te st: Th is ch ec ks wh et he ra ll th es qu ar es a re cl ea n .
"• Pa th co st: Ea ch st ep co st s 1,s ot he pa th co st is th en um be ro fs te ps in th ep at h ."
"Co mp ar ed w it h t he r ea l w or ld , t hi s t oy p ro bl em h as d is cr et e l oc at io ns , d is cr et e d ir t , r el ia bl e"
"c le an in g , a nd it ne ve rg et sa ny di rt ie r . Ch ap te r 4 r el ax es so me of th es ea ss um pt io ns ."
"Th e 8-p uz zl e ,a ni ns ta nc eo fw hi ch is sh ow ni n Fi gu re 3.4,c on si st so fa 3×3 b oa rd wi th"
8-PUZZLE
e ig ht n um be re d t il es a nd a b la nk s pa ce . A t il e a dj ac en t t o t he b la nk s pa ce c an s li de i nt o t he
"s pa ce . Th eo bj ec t i st or ea ch a sp ec if ie d g oa ls ta te , s uc h a st he on es ho wn on th er ig ht of th e"
f ig ur e . Th es ta nd ar d f or mu la ti on i sa sf ol lo ws:
Se ct io n 3.2. Ex am pl e Pr ob le ms 71
7 2 4 1 2
5 6 3 4 5
8 3 1 6 7 8
St ar t St at e Go al St at e
Fi gu re 3.4 At yp ic al in st an ce of th e 8-p uz zl e .
• St at es: As ta te de sc ri pt io n s pe ci fi es th el oc at io no fe ac ho ft he ei gh tt il es an dt he bl an k
i no ne of th en in es qu ar es .
• In it ia l s ta te: An y s ta te c an b e d es ig na te d a s t he i ni ti al s ta te . No te t ha t a ny g iv en g oa l
c an be re ac he df ro me xa ct ly ha lf of th ep os si bl e i ni ti al st at es(Ex er ci se 3.4).
• Ac ti on s: Th es im pl es tf or mu la ti on de fi ne st he ac ti on sa sm ov em en ts of th eb la nk sp ac e
"Le ft , Ri gh t , Up , o r Do wn . Di ff er en t s ub se ts o f t he se a re p os si bl e d ep en di ng o n w he re"
t he bl an ki s .
"• Tr an si ti on mo de l: Gi ve na st at ea nd ac ti on ,t hi sr et ur ns th er es ul ti ng st at e ;f or ex am pl e ,"
"i fw ea pp ly Le ft to th es ta rt st at ei n Fi gu re 3.4,t he re su lt in gs ta te ha st he 5 a nd th eb la nk"
s wi tc he d .
• Go al te st: Th is ch ec ks w he th er th e s ta te m at ch es t he go al c on fi gu ra ti on s ho wn in Fi g-
u re 3.4. (Ot he rg oa lc on fi gu ra ti on s a re po ss ib le .)
"• Pa th co st: Ea ch st ep co st s 1,s ot he pa th co st is th en um be ro fs te ps in th ep at h ."
Wh at a bs tr ac ti on s h av e w ei nc lu de d h er e ? Th e a ct io ns a re a bs tr ac te d t o t he ir b eg in ni ng a nd
"f in al st at es ,i gn or in gt he in te rm ed ia te lo ca ti on sw he re th eb lo ck is sl id in g . We ha ve ab st ra ct ed"
a wa y a ct io ns s uc h a s s ha ki ng t he b oa rd w he n p ie ce s g et s tu ck a nd r ul ed o ut e xt ra ct in g t he
p ie ce sw it ha kn if ea nd pu tt in gt he mb ac ka ga in . We ar el ef tw it ha de sc ri pt io no ft he ru le so f
"t he pu zz le , a vo id in g a ll th ed et ai ls of ph ys ic al ma ni pu la ti on s ."
"SLIDING-BLOCK Th e 8-p uz zl e b el on gs t o t he f am il y o f s li di ng-b lo ck p uz zl es , w hi ch a re o ft en u se d a s"
PUZZLES
"t es t p ro bl em s f or n ew s ea rc h a lg or it hm s i n AI . Th is f am il y i s k no wn t o b e NP-c om pl et e ,"
s o o ne d oe s n ot e xp ec t t o f in d m et ho ds s ig ni fi ca nt ly b et te r i n t he w or st c as e t ha n t he s ea rc h
"a lg or it hm sd es cr ib ed in th is ch ap te ra nd th en ex t . Th e 8-p uz zl eh as 9!/2=181,440 r ea ch ab le"
"s ta te sa nd is ea si ly so lv ed . Th e 15-p uz zl e(o na 4×4 b oa rd)h as ar ou nd 1.3 t ri ll io ns ta te s ,a nd"
r an do mi ns ta nc es ca nb es ol ve do pt im al ly in af ew mi ll is ec on ds by th eb es ts ea rc ha lg or it hm s .
"Th e 24-p uz zl e (o n a 5×5 b oa rd) h as a ro un d 1025 s ta te s , a nd r an do m i ns ta nc es t ak e s ev er al"
h ou rs to so lv eo pt im al ly .
Th e g oa l o f t he 8-q ue en s p ro bl em i s t o p la ce e ig ht q ue en s o n a c he ss bo ar d s uc h t ha t
8-QUEENSPROBLEM
"n o q ue en a tt ac ks a ny o th er . (A q ue en a tt ac ks a ny p ie ce i n t he s am e r ow , c ol um n o r d ia go-"
n al .) Fi gu re 3.5 s ho ws a na tt em pt ed s ol ut io n t ha tf ai ls: t he q ue en i nt he r ig ht mo st c ol um n i s
a tt ac ke d b yt he qu ee na tt he to pl ef t .
72 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
Fi gu re 3.5 Al mo st as ol ut io nt ot he 8-q ue en sp ro bl em .(So lu ti on is le ft as an ex er ci se .)
Al th ou gh e ff ic ie nt s pe ci al-p ur po se a lg or it hm s e xi st f or th is p ro bl em a nd f or th e w ho le
"n-q ue en s f am il y , i t r em ai ns a us ef ul t es t p ro bl em f or se ar ch a lg or it hm s . Th er ea re t wo ma in"
INCREMENTAL k in ds of fo rm ul at io n . An in cr em en ta lf or mu la ti on in vo lv es op er at or st ha ta ug me nt th es ta te
FORMULATION
"d es cr ip ti on , s ta rt in g w it h a n e mp ty s ta te ; f or t he 8-q ue en s p ro bl em , t hi s m ea ns t ha t e ac h"
COMPLETE-STATE a ct io n a dd s a q ue en t o t he s ta te . A c om pl et e-s ta te f or mu la ti on s ta rt s w it h a ll 8 q ue en s o n
FORMULATION
"t he bo ar d a nd mo ve st he ma ro un d . In ei th er ca se ,t he pa th co st i so fn oi nt er es t b ec au se o nl y"
t he fi na ls ta te co un ts . Th ef ir st in cr em en ta l f or mu la ti on o ne m ig ht tr yi st he fo ll ow in g:
• St at es: An ya rr an ge me nt o f 0 t o 8 q ue en so nt he bo ar di sa st at e .
• In it ia ls ta te: No qu ee ns on th eb oa rd .
• Ac ti on s: Ad da qu ee nt oa ny em pt ys qu ar e .
• Tr an si ti on mo de l: Re tu rn st he bo ar dw it ha qu ee na dd ed to th es pe ci fi ed sq ua re .
"• Go al te st: 8 q ue en sa re on th eb oa rd , n on ea tt ac ke d ."
"In th is fo rm ul at io n , w eh av e 64·63···57 ≈ 1.8×1014 p os si bl e s eq ue nc es t oi nv es ti ga te . A"
b et te rf or mu la ti on w ou ld pr oh ib it pl ac in g a qu ee ni na ny sq ua re th at is al re ad y a tt ac ke d:
"• St at es: Al l p os si bl e a rr an ge me nt s o f n q ue en s (0 ≤ n ≤ 8), o ne p er c ol um n i n t he"
"l ef tm os tn co lu mn s ,w it hn oq ue en at ta ck in g a no th er ."
• Ac ti on s: Ad d a q ue en t o a ny s qu ar e i n t he l ef tm os t e mp ty c ol um n s uc h t ha t i t i s n ot
a tt ac ke db ya ny ot he rq ue en .
"Th is fo rm ul at io nr ed uc es th e 8-q ue en ss ta te sp ac ef ro m 1.8×1014 t oj us t 2,057,a nd so lu ti on s"
"a re ea sy to fi nd . On th eo th er ha nd ,f or 100 q ue en st he re du ct io ni sf ro mr ou gh ly 10400 s ta te s"
"t oa bo ut 1052 s ta te s(Ex er ci se 3.5)—a bi gi mp ro ve me nt ,b ut no te no ug ht om ak et he pr ob le m"
"t ra ct ab le . Se ct io n 4.1 d es cr ib es t he co mp le te-s ta te f or mu la ti on , a nd Ch ap te r 6 g iv es as im pl e"
a lg or it hm t ha ts ol ve se ve nt he mi ll io n-q ue en s p ro bl em wi th e as e .
Se ct io n 3.2. Ex am pl e Pr ob le ms 73
Ou rf in al to yp ro bl em w as de vi se db y Do na ld Kn ut h(1964)a nd il lu st ra te s h ow in fi ni te
"s ta te sp ac es ca na ri se . Kn ut hc on je ct ur ed t ha t ,s ta rt in g w it ht he nu mb er 4,a se qu en ce o ff ac-"
"t or ia l , s qu ar e r oo t , a nd fl oo ro pe ra ti on s w il lr ea ch a ny de si re d p os it iv e i nt eg er . Fo re xa mp le ,"
w ec an re ac h 5 f ro m 4 a sf ol lo ws:
(c id:4)
(c id:5)(c id:7)
(c id:8)
(c id:3)(c id:5) (c id:6) (c id:9) (c id:10) (c id:11)
(4!)! = 5.
Th ep ro bl em d ef in it io ni sv er ys im pl e:
• St at es: Po si ti ve nu mb er s .
• In it ia ls ta te: 4.
"• Ac ti on s: Ap pl yf ac to ri al , s qu ar er oo t ,o rf lo or op er at io n (f ac to ri al f or in te ge rs on ly)."
• Tr an si ti on mo de l: As gi ve nb yt he ma th em at ic al de fi ni ti on s o ft he op er at io ns .
• Go al te st: St at ei st he de si re dp os it iv ei nt eg er .
To ou rk no wl ed ge t he re is no bo un d o nh ow la rg e a nu mb er mi gh tb ec on st ru ct ed i nt he pr o-
"c es so fr ea ch in g a gi ve nt ar ge t—f or e xa mp le , t he nu mb er 620,448,401,733,239,439,360,000"
i s g en er at ed i n t he e xp re ss io n f or 5—s o t he s ta te s pa ce f or t hi s p ro bl em i s i nf in it e . Su ch
"s ta te s pa ce s a ri se f re qu en tl y i n t as ks i nv ol vi ng t he g en er at io n o f m at he ma ti ca l e xp re ss io ns ,"
"c ir cu it s , p ro of s , p ro gr am s , a nd ot he rr ec ur si ve ly d ef in ed ob je ct s ."
3.2.2 Re al-w or ld pr ob le ms
ROUTE-FINDING We h av e a lr ea dy s ee n h ow t he r ou te-f in di ng p ro bl em i s d ef in ed i n t er ms o f s pe ci fi ed l oc a-
PROBLEM
t io ns an dt ra ns it io ns al on gl in ks be tw ee nt he m . Ro ut e-f in di ng al go ri th ms ar eu se di na va ri et y
"o f a pp li ca ti on s . So me , s uc h a s We b s it es a nd i n-c ar s ys te ms t ha t p ro vi de d ri vi ng d ir ec ti on s ,"
"a re r el at iv el y s tr ai gh tf or wa rd e xt en si on s o f t he Ro ma ni a e xa mp le . Ot he rs , s uc h a s r ou ti ng"
"v id eo st re am si nc om pu te rn et wo rk s ,m il it ar yo pe ra ti on sp la nn in g ,a nd ai rl in et ra ve l-p la nn in g"
"s ys te ms ,i nv ol ve mu ch mo re co mp le xs pe ci fi ca ti on s . Co ns id er th ea ir li ne tr av el pr ob le ms th at"
m us tb es ol ve db ya tr av el-p la nn in g We bs it e:
"• St at es: Ea ch st at e o bv io us ly i nc lu de s a lo ca ti on (e .g ., a na ir po rt) a nd t he c ur re nt t im e ."
"Fu rt he rm or e , b ec au se t he c os t o f a n a ct io n (a f li gh t s eg me nt) m ay d ep en d o n p re vi ou s"
"s eg me nt s , t he ir f ar e b as es , a nd t he ir s ta tu s a s d om es ti c o r i nt er na ti on al , t he s ta te m us t"
r ec or de xt ra in fo rm at io n a bo ut th es e“h is to ri ca l” a sp ec ts .
• In it ia ls ta te: Th is is sp ec if ie db yt he us er’s qu er y .
"• Ac ti on s: Ta ke a ny f li gh t f ro m t he c ur re nt l oc at io n , i n a ny s ea t c la ss , l ea vi ng a ft er t he"
"c ur re nt ti me ,l ea vi ng en ou gh t im ef or wi th in-a ir po rt t ra ns fe ri fn ee de d ."
• Tr an si ti on m od el: Th e s ta te r es ul ti ng f ro m t ak in g a f li gh t w il l h av e t he f li gh t’s d es ti-
n at io na st he cu rr en tl oc at io n a nd th ef li gh t’s ar ri va lt im ea st he cu rr en tt im e .
• Go al te st: Ar ew ea tt he fi na ld es ti na ti on s pe ci fi ed by th eu se r ?
"• Pa th c os t: Th is d ep en ds o n m on et ar y c os t , w ai ti ng t im e , f li gh t t im e , c us to ms a nd i m-"
"m ig ra ti on pr oc ed ur es , s ea tq ua li ty , t im eo fd ay ,t yp eo fa ir pl an e , f re qu en t-f ly er m il ea ge"
"a wa rd s ,a nd so on ."
74 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"Co mm er ci al t ra ve l a dv ic e s ys te ms u se a p ro bl em f or mu la ti on o f t hi s k in d , w it h m an y a dd i-"
t io na l c om pl ic at io ns t o h an dl e t he b yz an ti ne f ar e s tr uc tu re s t ha t a ir li ne s i mp os e . An y s ea-
"s on ed t ra ve le r k no ws , h ow ev er , t ha t n ot a ll a ir t ra ve l g oe s a cc or di ng t o p la n . A r ea ll y g oo d"
s ys te ms ho ul di nc lu de co nt in ge nc yp la ns—s uc ha sb ac ku pr es er va ti on so na lt er na te fl ig ht s—
t ot he ex te nt th at th es ea re ju st if ie db yt he co st an dl ik el ih oo d o ff ai lu re of th eo ri gi na lp la n .
"To ur in g p ro bl em s a re c lo se ly r el at ed t o r ou te-f in di ng p ro bl em s , b ut w it h a n i mp or-"
TOURINGPROBLEM
"t an t d if fe re nc e . Co ns id er , f or e xa mp le , t he p ro bl em “Vi si t e ve ry c it y i n Fi gu re 3.2 a t l ea st"
"o nc e , s ta rt in g a nd e nd in g i n Bu ch ar es t .” As w it h r ou te f in di ng , t he a ct io ns c or re sp on d"
"t o t ri ps b et we en a dj ac en t c it ie s . Th e s ta te s pa ce , h ow ev er , i s q ui te d if fe re nt . Ea ch s ta te"
m us t i nc lu de n ot j us t t he c ur re nt l oc at io n b ut a ls o t he s et o f c it ie s t he a ge nt h as v is it ed .
"So t he i ni ti al s ta te w ou ld b e In(Bu ch ar es t),Vi si te d({Bu ch ar es t}), a t yp ic al i nt er me di-"
"a te s ta te w ou ld b e In(Va sl ui),Vi si te d({Bu ch ar es t ,Ur zi ce ni ,Va sl ui}), a nd t he g oa l t es t"
w ou ld ch ec kw he th er th ea ge nt is in Bu ch ar es ta nd al l 20 c it ie sh av eb ee nv is it ed .
TRAVELING
Th e t ra ve li ng s al es pe rs on p ro bl em (TSP) i s a t ou ri ng p ro bl em i n w hi ch e ac h c it y
SALESPERSON
PROBLEM
m us t b e v is it ed e xa ct ly o nc e . Th e a im i s t o f in d t he s ho rt es t t ou r . Th e p ro bl em i s k no wn t o
"b e NP-h ar d ,b ut an en or mo us am ou nt of ef fo rt ha sb ee ne xp en de dt oi mp ro ve th ec ap ab il it ie s"
"o f TSP a lg or it hm s . In a dd it io n t o p la nn in g t ri ps f or t ra ve li ng s al es pe rs on s , t he se a lg or it hm s"
h av eb ee nu se df or ta sk ss uc ha sp la nn in gm ov em en ts of au to ma ti cc ir cu it-b oa rd d ri ll sa nd of
s to ck in g m ac hi ne so ns ho pf lo or s .
A VLSIl ay ou t p ro bl em r eq ui re s p os it io ni ng m il li on s o f c om po ne nt s a nd c on ne ct io ns
VLSILAYOUT
"o n a c hi p t o m in im iz e a re a , m in im iz e c ir cu it d el ay s , m in im iz e s tr ay c ap ac it an ce s , a nd m ax-"
i mi ze m an uf ac tu ri ng y ie ld . Th e l ay ou t p ro bl em c om es a ft er t he l og ic al d es ig n p ha se a nd i s
"u su al ly s pl it i nt o t wo p ar ts: c el l l ay ou t a nd c ha nn el r ou ti ng . In c el l l ay ou t , t he p ri mi ti ve"
"c om po ne nt s o f t he c ir cu it a re g ro up ed i nt o c el ls , e ac h o f w hi ch p er fo rm s s om e r ec og ni ze d"
f un ct io n . Ea ch c el l h as a f ix ed f oo tp ri nt (s iz e a nd s ha pe) a nd r eq ui re s a c er ta in n um be r o f
c on ne ct io ns to ea ch of th eo th er ce ll s . Th ea im is to pl ac et he ce ll so nt he ch ip so th at th ey do
n ot ov er la pa nd so th at th er ei sr oo mf or th ec on ne ct in g w ir es t ob ep la ce db et we en th ec el ls .
Ch an ne lr ou ti ng fi nd sa sp ec if ic ro ut ef or ea ch wi re th ro ug ht he ga ps be tw ee nt he ce ll s . Th es e
"s ea rc h p ro bl em s a re e xt re me ly c om pl ex , b ut d ef in it el y w or th s ol vi ng . La te r i n t hi s c ha pt er ,"
w ep re se nt so me al go ri th ms ca pa bl e o fs ol vi ng t he m .
Ro bo t n av ig at io n i s a g en er al iz at io n o f t he r ou te-f in di ng p ro bl em d es cr ib ed e ar li er .
ROBOTNAVIGATION
"Ra th er t ha n f ol lo wi ng a d is cr et e s et o f r ou te s , a r ob ot c an m ov e i n a c on ti nu ou s s pa ce w it h"
(i n p ri nc ip le) a n i nf in it e s et o f p os si bl e a ct io ns a nd s ta te s . Fo r a c ir cu la r r ob ot m ov in g o n a
"f la t s ur fa ce , t he s pa ce i s e ss en ti al ly t wo-d im en si on al . Wh en t he r ob ot h as a rm s a nd l eg s o r"
"w he el st ha tm us ta ls ob ec on tr ol le d , t he se ar ch sp ac eb ec om es ma ny-d im en si on al . Ad va nc ed"
t ec hn iq ue s a re r eq ui re d j us t t o m ak e t he s ea rc h s pa ce f in it e . We e xa mi ne s om e o f t he se
"m et ho ds i n Ch ap te r 25. In a dd it io n t o t he c om pl ex it y o f t he p ro bl em , r ea l r ob ot s m us t a ls o"
d ea lw it he rr or si nt he ir se ns or re ad in gs a nd mo to rc on tr ol s .
AUTOMATIC
ASSEMBLY
Au to ma ti ca ss em bl ys eq ue nc in go fc om pl ex ob je ct sb ya ro bo tw as fi rs td em on st ra te d
SEQUENCING
"b y FREDDY (Mi ch ie , 1972). Pr og re ss s in ce t he n h as b ee n s lo w b ut s ur e , t o t he p oi nt w he re"
t he as se mb ly of in tr ic at eo bj ec ts su ch as el ec tr ic mo to rs is ec on om ic al ly fe as ib le . In as se mb ly
"p ro bl em s , t he a im i s t o f in d a n o rd er i n w hi ch t o a ss em bl e t he p ar ts o f s om e o bj ec t . If t he"
"w ro ng o rd er i s c ho se n , t he re w il l b e n o w ay t o a dd s om e p ar t l at er i n t he s eq ue nc e w it ho ut"
Se ct io n 3.3. Se ar ch in gf or So lu ti on s 75
u nd oi ng s om e o f t he w or k a lr ea dy d on e . Ch ec ki ng a s te p i n t he s eq ue nc e f or f ea si bi li ty i s a
"d if fi cu lt ge om et ri ca ls ea rc hp ro bl em cl os el yr el at ed to ro bo tn av ig at io n . Th us ,t he ge ne ra ti on"
o f l eg al a ct io ns i s t he e xp en si ve p ar t o f a ss em bl y s eq ue nc in g . An y p ra ct ic al a lg or it hm m us t
a vo id ex pl or in ga ll bu ta ti ny fr ac ti on of th es ta te sp ac e . An ot he ri mp or ta nt as se mb ly pr ob le m
"i sp ro te in d es ig n , i nw hi ch th eg oa li st of in da se qu en ce o fa mi no ac id s t ha tw il lf ol di nt o a"
PROTEINDESIGN
t hr ee-d im en si on al p ro te in wi th th er ig ht pr op er ti es t oc ur es om ed is ea se .
3.3 SEARCHING FOR SOLUTIONS
"Ha vi ng f or mu la te d s om e p ro bl em s , w e n ow n ee d t o s ol ve t he m . A s ol ut io n i s a n a ct io n"
"s eq ue nc e , s o s ea rc h a lg or it hm s w or k b y c on si de ri ng v ar io us p os si bl e a ct io n s eq ue nc es . Th e"
p os si bl e a ct io n s eq ue nc es s ta rt in g a t t he i ni ti al s ta te f or m a se ar ch t re e w it h t he i ni ti al s ta te
SEARCHTREE
a t t he r oo t ; t he b ra nc he s a re a ct io ns a nd t he n od es c or re sp on d t o s ta te s i n t he s ta te s pa ce o f
NODE
t he pr ob le m . Fi gu re 3.6 s ho ws th ef ir st fe ws te ps in gr ow in gt he se ar ch tr ee fo rf in di ng ar ou te
"f ro m Ar ad t o Bu ch ar es t . Th e r oo t n od e o f t he t re e c or re sp on ds t o t he i ni ti al s ta te , In(Ar ad)."
"Th e f ir st s te p i s t o t es t w he th er t hi s i s a g oa l s ta te . (Cl ea rl y i t i s n ot , b ut i t i s i mp or ta nt t o"
"c he ck s o t ha t w e c an s ol ve t ri ck p ro bl em s l ik e “s ta rt in g i n Ar ad , g et t o Ar ad .”) Th en w e"
"n ee d t o c on si de r t ak in g v ar io us a ct io ns . We d o t hi s b y e xp an di ng t he c ur re nt s ta te ; t ha t i s ,"
EXPANDING
"a pp ly in g e ac h l eg al a ct io n t o t he c ur re nt s ta te , t he re by g en er at in g a n ew s et o f s ta te s . In"
GENERATING
"t hi s c as e , w e a dd t hr ee b ra nc he s f ro m t he p ar en t n od e In(Ar ad) l ea di ng t o t hr ee n ew c hi ld"
PARENTNODE
"n od es: In(Si bi u), In(Ti mi so ar a), a nd In(Ze ri nd). No w w e m us t c ho os e w hi ch o f t he se t hr ee"
CHILDNODE
p os si bi li ti es t oc on si de rf ur th er .
Th is is th ee ss en ce of se ar ch—f ol lo wi ng up on eo pt io nn ow an dp ut ti ng th eo th er sa si de
"f or l at er , i n c as e t he f ir st c ho ic e d oe s n ot l ea d t o a s ol ut io n . Su pp os e w e c ho os e Si bi u f ir st ."
"We c he ck t o s ee w he th er i t i s a g oa l s ta te (i t i s n ot) a nd t he n e xp an d i t t o g et In(Ar ad),"
"In(Fa ga ra s), In(Or ad ea),a nd In(Ri mn ic u Vi lc ea). We ca nt he nc ho os ea ny of th es ef ou ro rg o"
"b ac k a nd c ho os e Ti mi so ar a o r Ze ri nd . Ea ch o ft he se s ix no de s i sa l ea f n od e , t ha t i s , a no de"
LEAFNODE
w it h n o c hi ld re n i n t he t re e . Th e s et o f a ll l ea f n od es a va il ab le f or e xp an si on a t a ny g iv en
"p oi nt is ca ll ed th ef ro nt ie r . (Ma ny au th or s c al li tt he op en li st , w hi ch is bo th ge og ra ph ic al ly"
FRONTIER
"l es se vo ca ti ve an dl es sa cc ur at e , b ec au se ot he rd at as tr uc tu re s a re be tt er su it ed th an al is t .) In"
OPENLIST
"Fi gu re 3.6,t he fr on ti er of ea ch tr ee co ns is ts o ft ho se no de s w it hb ol do ut li ne s ."
Th ep ro ce ss of ex pa nd in gn od es on th ef ro nt ie rc on ti nu es un ti le it he ra so lu ti on is fo un d
o rt he re ar en om or es ta te st oe xp an d . Th eg en er al TREE-SEARCH a lg or it hm i ss ho wn in fo r-
m al ly i n Fi gu re 3.7. Se ar ch a lg or it hm s a ll s ha re t hi s b as ic s tr uc tu re ; t he y v ar y p ri ma ri ly
a cc or di ng t oh ow th ey ch oo se wh ic hs ta te to ex pa nd ne xt—t he so-c al le d s ea rc h s tr at eg y .
SEARCHSTRATEGY
Th ee ag le-e ye dr ea de rw il ln ot ic eo ne pe cu li ar th in ga bo ut th es ea rc ht re es ho wn in Fi g-
u re 3.6: i ti nc lu de st he pa th fr om Ar ad to Si bi ua nd ba ck to Ar ad ag ai n ! We sa yt ha t In(Ar ad)
"i s a r ep ea te d s ta te i n t he s ea rc h t re e , g en er at ed i n t hi s c as e b y a l oo py p at h . Co ns id er in g"
REPEATEDSTATE
s uc h l oo py p at hs m ea ns t ha t t he c om pl et e s ea rc h t re e f or Ro ma ni a i s i nf in it e b ec au se t he re
LOOPYPATH
"i s n o l im it t o h ow o ft en o ne c an t ra ve rs e a l oo p . On t he o th er h an d , t he s ta te s pa ce—t he"
"m ap sh ow ni n Fi gu re 3.2—h as on ly 20 s ta te s . As we di sc us s i n Se ct io n 3.4,l oo ps c an ca us e"
76 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"c er ta in al go ri th ms to fa il ,m ak in go th er wi se so lv ab le pr ob le ms un so lv ab le . Fo rt un at el y ,t he re"
i sn on ee dt oc on si de rl oo py pa th s . We ca nr el yo nm or et ha ni nt ui ti on f or th is: b ec au se p at h
"c os ts a re a dd it iv e a nd s te p c os ts a re n on ne ga ti ve , a l oo py p at h t o a ny g iv en s ta te i s n ev er"
b et te rt ha nt he sa me pa th wi th th el oo pr em ov ed .
"Lo op yp at hs ar ea sp ec ia lc as eo ft he mo re ge ne ra lc on ce pt of re du nd an tp at hs ,w hi ch"
REDUNDANTPATH
e xi st wh en ev er th er ei sm or et ha no ne wa yt og et fr om on es ta te to an ot he r . Co ns id er th ep at hs
"Ar ad–Si bi u (140 k m l on g) a nd Ar ad–Ze ri nd–Or ad ea–Si bi u (297 k m l on g). Ob vi ou sl y , t he"
s ec on dp at hi sr ed un da nt—i t’s j us ta wo rs ew ay to ge tt ot he sa me st at e . If yo ua re co nc er ne d
"a bo ut r ea ch in g t he g oa l , t he re’s n ev er a ny r ea so n t o k ee p m or e t ha n o ne p at h t o a ny g iv en"
"s ta te , b ec au se a ny g oa l s ta te t ha t i s r ea ch ab le b y e xt en di ng o ne p at h i s a ls o r ea ch ab le b y"
e xt en di ng t he ot he r .
"In s om e c as es , i t i s p os si bl e t o d ef in e t he p ro bl em i ts el f s o a s t o e li mi na te r ed un da nt"
"p at hs . Fo re xa mp le , i f w e f or mu la te t he 8-q ue en s p ro bl em (p ag e 71) s o t ha t a q ue en c an b e"
"p la ce di na ny co lu mn ,t he ne ac hs ta te wi th nq ue en sc an be re ac he db yn !d if fe re nt pa th s ;b ut"
"i fw er ef or mu la te th ep ro bl em so th at ea ch ne wq ue en is pl ac ed in th el ef tm os te mp ty co lu mn ,"
t he ne ac hs ta te ca nb er ea ch ed o nl yt hr ou gh o ne pa th .
(a) Th e i ni ti al s ta te Ar ad
Si bi u Ti mi so ar a Ze ri nd
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea Ar ad Lu go j Ar ad Or ad ea
(b) Af te r e xp an di ng Ar ad Ar ad
Si bi u Ti mi so ar a Ze ri nd
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea Ar ad Lu go j Ar ad Or ad ea
(c) Af te r e xp an di ng Si bi u Ar ad
Si bi u Ti mi so ar a Ze ri nd
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea Ar ad Lu go j Ar ad Or ad ea
Fi gu re 3.6 Pa rt ia l s ea rc h t re es f or f in di ng a r ou te f ro m Ar ad t o Bu ch ar es t . No de s t ha t
h av e b ee n e xp an de d a re s ha de d ; n od es t ha t h av e b ee n g en er at ed b ut n ot y et e xp an de d a re
o ut li ne di nb ol d ;n od es th at ha ve no ty et be en ge ne ra te da re sh ow ni nf ai nt da sh ed li ne s .
Se ct io n 3.3. Se ar ch in gf or So lu ti on s 77
"f un ct io n TREE-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
i ni ti al iz et he fr on ti er us in gt he in it ia ls ta te of pr ob le m
l oo pd o
i ft he fr on ti er is em pt yt he nr et ur nf ai lu re
c ho os ea le af no de an dr em ov ei tf ro mt he fr on ti er
i ft he no de co nt ai ns ag oa ls ta te th en re tu rn th ec or re sp on di ng so lu ti on
"e xp an dt he ch os en no de ,a dd in gt he re su lt in gn od es to th ef ro nt ie r"
"f un ct io n GRAPH-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
i ni ti al iz et he fr on ti er us in gt he in it ia ls ta te of pr ob le m
i ni ti al iz et he ex pl or ed se tt ob ee mp ty
l oo pd o
i ft he fr on ti er is em pt yt he nr et ur nf ai lu re
c ho os ea le af no de an dr em ov ei tf ro mt he fr on ti er
i ft he no de co nt ai ns ag oa ls ta te th en re tu rn th ec or re sp on di ng so lu ti on
a dd th en od et ot he ex pl or ed se t
"e xp an dt he ch os en no de ,a dd in gt he re su lt in gn od es to th ef ro nt ie r"
o nl yi fn ot in th ef ro nt ie ro re xp lo re ds et
Fi gu re 3.7 An i nf or ma l d es cr ip ti on o f t he g en er al t re e-s ea rc h a nd g ra ph-s ea rc h a lg o-
r it hm s . Th e p ar ts o f GRAPH-SEARCH m ar ke d i n b ol d i ta li c a re t he a dd it io ns n ee de d t o
h an dl er ep ea te ds ta te s .
"In o th er c as es , r ed un da nt p at hs a re u na vo id ab le . Th is i nc lu de s a ll p ro bl em s w he re"
"t he a ct io ns a re r ev er si bl e , s uc h a s r ou te-f in di ng p ro bl em s a nd s li di ng-b lo ck p uz zl es . Ro ut e-"
f in di ng on ar ec ta ng ul ar g ri d(l ik et he on eu se dl at er fo r Fi gu re 3.9)i sa pa rt ic ul ar ly i mp or-
RECTANGULARGRID
"t an t e xa mp le i n c om pu te r g am es . In s uc h a g ri d , e ac h s ta te h as f ou r s uc ce ss or s , s o a s ea rc h"
t re eo fd ep th dt ha ti nc lu de sr ep ea te ds ta te sh as 4 d le av es ;b ut th er ea re on ly ab ou t 2 d 2 d is ti nc t
"s ta te sw it hi nd st ep so fa ny gi ve ns ta te . Fo rd= 20,t hi sm ea ns ab ou ta tr il li on no de sb ut on ly"
"a bo ut 800 d is ti nc t s ta te s . Th us , f ol lo wi ng r ed un da nt p at hs c an c au se a t ra ct ab le p ro bl em t o"
b ec om ei nt ra ct ab le . Th is is tr ue ev en fo ra lg or it hm s t ha tk no wh ow to av oi di nf in it el oo ps .
"As t he s ay in g g oe s , a lg or it hm s t ha t f or ge t t he ir h is to ry a re d oo me d t o r ep ea t i t . Th e"
"w ay t o a vo id e xp lo ri ng r ed un da nt p at hs i s t o r em em be r w he re o ne h as b ee n . To d o t hi s , w e"
EXPLOREDSET
a ug me nt t he TREE-SEARCH a lg or it hm w it h a d at a s tr uc tu re c al le d t he e xp lo re d s et (a ls o
"k no wn a s t he c lo se d l is t), w hi ch r em em be rs e ve ry e xp an de d n od e . Ne wl y g en er at ed n od es"
CLOSEDLIST
t ha tm at ch pr ev io us ly g en er at ed n od es—o ne s i nt he ex pl or ed s et or th ef ro nt ie r—c an b ed is-
"c ar de di ns te ad of be in ga dd ed to th ef ro nt ie r . Th en ew al go ri th m , c al le d GRAPH-SEARCH ,i s"
s ho wn i nf or ma ll y i n Fi gu re 3.7. Th es pe ci fi c a lg or it hm s i nt hi s c ha pt er d ra w o nt hi s g en er al
d es ig n .
"Cl ea rl y ,t he se ar ch tr ee co ns tr uc te db yt he GRAPH-SEARCH a lg or it hm co nt ai ns at mo st"
"o ne co py of ea ch st at e ,s ow ec an th in ko fi ta sg ro wi ng at re ed ir ec tl yo nt he st at e-s pa ce gr ap h ,"
a s s ho wn i n Fi gu re 3.8. Th e a lg or it hm h as a no th er n ic e p ro pe rt y: t he f ro nt ie r s ep ar at es t he
SEPARATOR
"s ta te-s pa ce g ra ph in to th ee xp lo re dr eg io na nd th eu ne xp lo re d r eg io n ,s ot ha te ve ry pa th fr om"
78 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
Fi gu re 3.8 As eq ue nc eo fs ea rc ht re es ge ne ra te db ya gr ap hs ea rc ho nt he Ro ma ni ap ro b-
"l em of Fi gu re 3.2. At ea ch st ag e ,w eh av ee xt en de de ac hp at hb yo ne st ep . No ti ce th at at th e"
"t hi rd st ag e ,t he no rt he rn mo st ci ty(Or ad ea)h as be co me ad ea de nd:b ot ho fi ts su cc es so rs ar e"
a lr ea dy ex pl or ed vi ao th er pa th s .
(a) (b) (c)
"Fi gu re 3.9 Th es ep ar at io np ro pe rt yo f GRAPH-SEARCH ,i ll us tr at ed on ar ec ta ng ul ar-g ri d"
p ro bl em . Th ef ro nt ie r(w hi te no de s)a lw ay ss ep ar at es th ee xp lo re dr eg io no ft he st at es pa ce
"(b la ck n od es) f ro m t he u ne xp lo re d r eg io n (g ra y n od es). In (a), j us t t he r oo t h as b ee n e x-"
"p an de d .In(b),o ne le af no de ha sb ee ne xp an de d .In(c),t he re ma in in gs uc ce ss or so ft he ro ot"
h av eb ee ne xp an de di nc lo ck wi se or de r .
t he i ni ti al s ta te t o a n u ne xp lo re d s ta te h as t o p as s t hr ou gh a s ta te i n t he f ro nt ie r . (If t hi s
"s ee ms co mp le te ly o bv io us , t ry Ex er ci se 3.13 n ow .) Th is pr op er ty i si ll us tr at ed i n Fi gu re 3.9."
As e ve ry s te p m ov es a s ta te f ro m t he f ro nt ie r i nt o t he e xp lo re d r eg io n w hi le m ov in g s om e
"s ta te sf ro mt he un ex pl or ed re gi on in to th ef ro nt ie r ,w es ee th at th ea lg or it hm is sy st em at ic al ly"
"e xa mi ni ng th es ta te si nt he st at es pa ce , o ne by on e ,u nt il it fi nd sa so lu ti on ."
3.3.1 In fr as tr uc tu re f or se ar ch a lg or it hm s
Se ar ch a lg or it hm s r eq ui re a d at a s tr uc tu re t o k ee p t ra ck o f t he s ea rc h t re e t ha t i s b ei ng c on-
"s tr uc te d . Fo re ac hn od e n of th et re e ,w eh av ea st ru ct ur e t ha tc on ta in s f ou rc om po ne nt s:"
• n .STATE: t he st at ei nt he st at es pa ce to wh ic ht he no de co rr es po nd s ;
• n .PARENT: t he no de in th es ea rc ht re et ha tg en er at ed t hi sn od e ;
• n .ACTION: t he ac ti on th at wa sa pp li ed to th ep ar en tt og en er at et he no de ;
"• n .PATH-COST: t he co st ,t ra di ti on al ly d en ot ed by g(n),o ft he pa th fr om th ei ni ti al st at e"
"t ot he no de ,a si nd ic at ed b yt he pa re nt po in te rs ."
Se ct io n 3.3. Se ar ch in gf or So lu ti on s 79
PARENT
No de
55 44 ACTION = Ri gh t
PATH-COST = 6
66 11 88
STATE
77 33 22
Fi gu re 3.10 No de sa re th ed at as tr uc tu re sf ro mw hi ch th es ea rc ht re ei sc on st ru ct ed .Ea ch
"h as ap ar en t ,a st at e ,a nd va ri ou sb oo kk ee pi ng fi el ds . Ar ro ws po in tf ro mc hi ld to pa re nt ."
"Gi ve n t he c om po ne nt s f or a p ar en t n od e , i t i s e as y t o s ee h ow t o c om pu te t he n ec es sa ry"
c om po ne nt s f or a c hi ld n od e . Th e f un ct io n CHILD-NODE t ak es a p ar en t n od e a nd a n a ct io n
a nd re tu rn st he re su lt in g c hi ld no de:
"f un ct io n CHILD-NODE(p ro bl em ,p ar en t ,a ct io n)r et ur ns an od e"
r et ur na no de wi th
"STATE=p ro bl em .RESULT(p ar en t .STATE ,a ct io n),"
"PARENT=p ar en t ,ACTION=a ct io n ,"
"PATH-COST=p ar en t .PATH-COST+p ro bl em .STEP-COST(p ar en t .STATE ,a ct io n)"
Th e n od e d at a s tr uc tu re i s d ep ic te d i n Fi gu re 3.10. No ti ce h ow t he PARENT p oi nt er s
s tr in gt he no de st og et he ri nt oa tr ee st ru ct ur e . Th es ep oi nt er sa ls oa ll ow th es ol ut io np at ht ob e
e xt ra ct ed w he n a go al n od e i s f ou nd ; w eu se t he SOLUTION f un ct io n t o r et ur n t he s eq ue nc e
o fa ct io ns o bt ai ne d b yf ol lo wi ng pa re nt po in te rs b ac kt ot he ro ot .
"Up to no w ,w eh av en ot be en ve ry ca re fu lt od is ti ng ui sh be tw ee nn od es an ds ta te s ,b ut in"
w ri ti ng d et ai le d a lg or it hm s i t’s i mp or ta nt t o m ak e t ha t d is ti nc ti on . A n od e i sa b oo kk ee pi ng
d at a s tr uc tu re u se dt or ep re se nt t he s ea rc h t re e . As ta te c or re sp on ds t oa co nf ig ur at io n o ft he
"w or ld . Th us , n od es a re o n p ar ti cu la r p at hs , a s d ef in ed b y PARENT p oi nt er s , w he re as s ta te s"
"a re n ot . Fu rt he rm or e , t wo d if fe re nt n od es c an c on ta in t he s am e w or ld s ta te i f t ha t s ta te i s"
g en er at ed v ia tw od if fe re nt s ea rc hp at hs .
"No w t ha t w e h av e n od es , w e n ee d s om ew he re t o p ut t he m . Th e f ro nt ie r n ee ds t o b e"
s to re d i n s uc h a w ay t ha t t he s ea rc h a lg or it hm c an e as il y c ho os e t he n ex t n od e t o e xp an d
a cc or di ng t o i ts p re fe rr ed s tr at eg y . Th e a pp ro pr ia te d at a s tr uc tu re f or t hi s i s a q ue ue . Th e
QUEUE
o pe ra ti on s o na qu eu ea re as fo ll ow s:
• EMPTY ?(q ue ue)r et ur ns tr ue on ly if th er ea re no mo re el em en ts in th eq ue ue .
• POP(q ue ue)r em ov es th ef ir st el em en to ft he qu eu ea nd re tu rn si t .
"• INSERT(e le me nt ,q ue ue)i ns er ts an el em en ta nd re tu rn s t he re su lt in g q ue ue ."
80 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
Qu eu es ar ec ha ra ct er iz ed b yt he o rd er in wh ic ht he ys to re th ei ns er te dn od es . Th re ec om mo n
"v ar ia nt sa re th ef ir st-i n ,f ir st-o ut or FIFOq ue ue ,w hi ch po ps th eo ld es te le me nt of th eq ue ue ;"
FIFOQUEUE
"t he la st-i n , f ir st-o ut or LIFOq ue ue(a ls o k no wn as as ta ck), w hi ch po ps t he ne we st el em en t"
LIFOQUEUE
"o f t he q ue ue ; a nd t he p ri or it y q ue ue ,w hi ch p op s t he e le me nt o f t he q ue ue w it h t he h ig he st"
PRIORITYQUEUE
p ri or it ya cc or di ng t os om eo rd er in gf un ct io n .
Th e e xp lo re d s et c an b e i mp le me nt ed w it h a h as h t ab le t o a ll ow e ff ic ie nt c he ck in g f or
"r ep ea te d s ta te s . Wi th a g oo d i mp le me nt at io n , i ns er ti on a nd l oo ku p c an b e d on e i n r ou gh ly"
c on st an t t im e n o m at te r h ow m an y s ta te s a re s to re d . On e m us t t ak e c ar e t o i mp le me nt t he
"h as h t ab le w it h t he r ig ht n ot io n o f e qu al it y b et we en s ta te s . Fo r e xa mp le , i n t he t ra ve li ng"
"s al es pe rs on p ro bl em (p ag e 74), t he h as h t ab le n ee ds t o k no w t ha t t he s et o f v is it ed c it ie s"
"{Bu ch ar es t ,Ur zi ce ni ,Va sl ui} i st he sa me as{Ur zi ce ni ,Va sl ui ,Bu ch ar es t}. So me ti me st hi sc an"
b e a ch ie ve d m os t e as il y b y i ns is ti ng t ha t t he d at a s tr uc tu re s f or s ta te s b e i n s om e c an on ic al
"f or m ; t ha t i s , l og ic al ly e qu iv al en t s ta te s s ho ul d m ap t o t he s am e d at a s tr uc tu re . In t he c as e"
CANONICALFORM
"o f s ta te s d es cr ib ed b y s et s , f or e xa mp le , a b it-v ec to r r ep re se nt at io n o r a s or te d l is t w it ho ut"
"r ep et it io n w ou ld be ca no ni ca l , w he re as an un so rt ed l is tw ou ld no t ."
3.3.2 Me as ur in g p ro bl em-s ol vi ng p er fo rm an ce
"Be fo re w e g et i nt o t he d es ig n o f s pe ci fi c s ea rc h a lg or it hm s , w e n ee d t o c on si de r t he c ri te ri a"
t ha t m ig ht b e u se d t o c ho os e a mo ng t he m . We c an e va lu at e a n a lg or it hm’s p er fo rm an ce i n
f ou rw ay s:
• Co mp le te ne ss: Is th ea lg or it hm g ua ra nt ee d t of in da so lu ti on w he nt he re is on e ?
COMPLETENESS
"• Op ti ma li ty: Do es th es tr at eg yf in dt he op ti ma ls ol ut io n , a sd ef in ed on pa ge 68?"
OPTIMALITY
• Ti me co mp le xi ty: Ho wl on gd oe si tt ak et of in da so lu ti on ?
TIMECOMPLEXITY
• Sp ac ec om pl ex it y: Ho wm uc hm em or yi sn ee de dt op er fo rm th es ea rc h ?
SPACECOMPLEXITY
Ti me an ds pa ce co mp le xi ty ar ea lw ay sc on si de re d w it hr es pe ct to so me me as ur eo ft he pr ob-
"l em d if fi cu lt y . In t he or et ic al c om pu te r s ci en ce , t he t yp ic al m ea su re i s t he s iz e o f t he s ta te"
"s pa ce g ra ph , |V|+|E|, w he re V i s t he s et o f v er ti ce s (n od es) o f t he g ra ph a nd E i s t he s et"
o fe dg es (l in ks). Th is is ap pr op ri at e w he nt he g ra ph i sa n e xp li ci t d at a s tr uc tu re t ha t i si np ut
"t ot he se ar ch pr og ra m . (Th em ap of Ro ma ni ai sa ne xa mp le of th is .) In AI ,t he gr ap hi so ft en"
"r ep re se nt ed i mp li ci tl y b yt he in it ia ls ta te , a ct io ns , a nd tr an si ti on m od el an di sf re qu en tl y i nf i-"
"n it e . Fo rt he se re as on s ,c om pl ex it yi se xp re ss ed in te rm so ft hr ee qu an ti ti es: b ,t he br an ch in g"
"f ac to r o r m ax im um n um be r o f s uc ce ss or s o f a ny n od e ; d , t he d ep th o f t he s ha ll ow es t g oa l"
BRANCHINGFACTOR
"n od e(i .e .,t he nu mb er of st ep sa lo ng t he pa th fr om th er oo t); a nd m ,t he ma xi mu ml en gt h o f"
DEPTH
a ny pa th in th es ta te sp ac e . Ti me is of te nm ea su re di nt er ms of th en um be ro fn od es ge ne ra te d
"d ur in g t he s ea rc h , a nd s pa ce i n t er ms o f t he m ax im um n um be r o f n od es s to re d i n m em or y ."
"Fo r t he m os t p ar t , w e d es cr ib e t im e a nd s pa ce c om pl ex it y f or s ea rc h o n a t re e ; f or a g ra ph ,"
t he an sw er de pe nd s o nh ow“r ed un da nt” t he pa th si nt he st at es pa ce ar e .
"To as se ss th ee ff ec ti ve ne ss of as ea rc ha lg or it hm ,w ec an co ns id er ju st th es ea rc hc os t—"
SEARCHCOST
w hi ch t yp ic al ly d ep en ds o n t he t im e c om pl ex it y b ut c an a ls o i nc lu de a t er m f or m em or y
"u sa ge—o rw ec an us et he to ta lc os t ,w hi ch co mb in es th es ea rc hc os ta nd th ep at hc os to ft he"
TOTALCOST
"s ol ut io n f ou nd . Fo r t he p ro bl em o f f in di ng a r ou te f ro m Ar ad t o Bu ch ar es t , t he s ea rc h c os t"
i st he a mo un t o f t im et ak en b yt he s ea rc h a nd t he so lu ti on c os t i st he t ot al l en gt h o f t he pa th
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 81
"i n k il om et er s . Th us , t o c om pu te t he t ot al c os t , w e h av e t o a dd m il li se co nd s a nd k il om et er s ."
"Th er ei sn o“o ff ic ia le xc ha ng er at e”b et we en th et wo ,b ut it mi gh tb er ea so na bl ei nt hi sc as et o"
c on ve rt ki lo me te rs in to mi ll is ec on ds by us in ga ne st im at eo ft he ca r’s av er ag es pe ed(b ec au se
t im e i s w ha t t he a ge nt c ar es a bo ut). Th is e na bl es t he a ge nt t o f in d a n o pt im al t ra de of f p oi nt
a t w hi ch f ur th er c om pu ta ti on t o f in d a s ho rt er p at h b ec om es c ou nt er pr od uc ti ve . Th e m or e
g en er al pr ob le m o ft ra de of fs b et we en di ff er en tg oo ds is ta ke nu pi n Ch ap te r 16.
3.4 UNINFORMED SEARCH STRATEGIES
Th is s ec ti on c ov er s s ev er al s ea rc h s tr at eg ie s t ha t c om e u nd er t he h ea di ng o f u ni nf or me d
UNINFORMED s ea rc h (a ls o c al le d b li nd s ea rc h). Th e t er m m ea ns t ha t t he s tr at eg ie s h av e n o a dd it io na l
SEARCH
i nf or ma ti on a bo ut s ta te s b ey on d t ha t p ro vi de d i n t he p ro bl em d ef in it io n . Al l t he y c an d o i s
BLINDSEARCH
g en er at e s uc ce ss or s a nd d is ti ng ui sh a g oa l s ta te f ro m a n on-g oa l s ta te . Al l s ea rc h s tr at eg ie s
a re d is ti ng ui sh ed b y t he o rd er i n w hi ch n od es a re e xp an de d . St ra te gi es t ha t k no w w he th er
o ne no n-g oa ls ta te is“m or ep ro mi si ng”t ha na no th er ar ec al le di nf or me ds ea rc ho rh eu ri st ic
INFORMEDSEARCH
s ea rc h s tr at eg ie s ; t he ya re co ve re di n Se ct io n 3.5.
HEURISTICSEARCH
3.4.1 Br ea dt h-f ir st s ea rc h
"BREADTH-FIRST Br ea dt h-f ir st se ar ch is as im pl es tr at eg yi nw hi ch th er oo tn od ei se xp an de df ir st ,t he na ll th e"
SEARCH
"s uc ce ss or s o f t he r oo t n od e a re e xp an de d n ex t , t he n t he ir s uc ce ss or s , a nd s o o n . In g en er al ,"
a ll t he n od es a re e xp an de d a t a g iv en d ep th i n t he s ea rc h t re e b ef or e a ny n od es a t t he n ex t
l ev el ar ee xp an de d .
Br ea dt h-f ir st se ar ch is an in st an ce of th eg en er al gr ap h-s ea rc h a lg or it hm (Fi gu re 3.7)i n
w hi ch th es ha ll ow es tu ne xp an de dn od ei sc ho se nf or ex pa ns io n . Th is is ac hi ev ed ve ry si mp ly
"b yu si ng a FIFOq ue ue fo rt he fr on ti er . Th us ,n ew no de s(w hi ch a re al wa ys de ep er th an th ei r"
"p ar en ts)g ot ot he ba ck of th eq ue ue ,a nd ol dn od es ,w hi ch ar es ha ll ow er th an th en ew no de s ,"
"g et ex pa nd ed fi rs t . Th er ei so ne sl ig ht tw ea ko nt he ge ne ra lg ra ph-s ea rc h a lg or it hm ,w hi ch is"
t ha tt he go al te st is ap pl ie dt oe ac hn od ew he ni ti sg en er at ed ra th er th an wh en it is se le ct ed fo r
"e xp an si on . Th is d ec is io n i s e xp la in ed b el ow , w he re w e d is cu ss t im e c om pl ex it y . No te a ls o"
"t ha tt he al go ri th m , f ol lo wi ng th eg en er al t em pl at ef or gr ap hs ea rc h , d is ca rd s a ny ne wp at ht o"
a s ta te a lr ea dy i n t he f ro nt ie r o r e xp lo re d s et ; i t i s e as y t o s ee t ha t a ny s uc h p at h m us t b e a t
"l ea st a s d ee p a s t he o ne a lr ea dy f ou nd . Th us , b re ad th-f ir st s ea rc h a lw ay s h as t he s ha ll ow es t"
p at ht oe ve ry no de on th ef ro nt ie r .
Ps eu do co de i sg iv en i n Fi gu re 3.11. Fi gu re 3.12 s ho ws t he p ro gr es s o ft he s ea rc h o n a
s im pl eb in ar yt re e .
Ho wd oe sb re ad th-f ir st s ea rc h r at ea cc or di ng t ot he fo ur cr it er ia f ro m t he pr ev io us s ec-
t io n ? We ca ne as il ys ee th at it is co mp le te—i ft he sh al lo we st go al no de is at so me fi ni te de pt h
"d , b re ad th-f ir st s ea rc h w il l e ve nt ua ll y f in d i t a ft er g en er at in g a ll s ha ll ow er n od es (p ro vi de d"
"t he b ra nc hi ng f ac to r b i s f in it e). No te t ha t a s s oo n a s a g oa l n od e i s g en er at ed , w e k no w i t"
i s t he s ha ll ow es t g oa l n od e b ec au se a ll s ha ll ow er n od es m us t h av e b ee n g en er at ed a lr ea dy
"a nd f ai le d t he g oa l t es t . No w , t he s ha ll ow es t g oa l n od e i s n ot n ec es sa ri ly t he o pt im al o ne ;"
82 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"f un ct io n BREADTH-FIRST-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
"n od e←a no de wi th STATE=p ro bl em .INITIAL-STATE ,PATH-COST=0"
i fp ro bl em .GOAL-TEST(n od e .STATE)t he nr et ur n SOLUTION(n od e)
f ro nt ie r←a FIFOq ue ue wi th no de a st he on ly el em en t
e xp lo re d←a ne mp ty se t
l oo pd o
i f EMPTY ?(f ro nt ie r)t he nr et ur nf ai lu re
n od e←POP(f ro nt ie r) /*c ho os es th es ha ll ow es tn od ei nf ro nt ie r */
a dd no de .STATEt oe xp lo re d
f or ea ch ac ti on i np ro bl em .ACTIONS(n od e .STATE)d o
"c hi ld←CHILD-NODE(p ro bl em ,n od e ,a ct io n)"
i fc hi ld .STATEi sn ot in ex pl or ed o rf ro nt ie r t he n
i fp ro bl em .GOAL-TEST(c hi ld .STATE)t he nr et ur n SOLUTION(c hi ld)
"f ro nt ie r←INSERT(c hi ld ,f ro nt ie r)"
Fi gu re 3.11 Br ea dt h-f ir st se ar ch on ag ra ph .
"t ec hn ic al ly , b re ad th-f ir st s ea rc h i so pt im al i ft he p at h c os t i s a no nd ec re as in g f un ct io n o f t he"
d ep th of th en od e . Th em os tc om mo ns uc hs ce na ri oi st ha ta ll ac ti on s h av et he sa me co st .
"So f ar , t he n ew s a bo ut b re ad th-f ir st s ea rc h h as b ee n g oo d . Th e n ew s a bo ut t im e a nd"
s pa ce i s n ot s o g oo d . Im ag in e s ea rc hi ng a u ni fo rm t re e w he re e ve ry s ta te h as b s uc ce ss or s .
"Th er oo to ft he se ar ch tr ee ge ne ra te s b no de sa tt he fi rs tl ev el ,e ac ho fw hi ch ge ne ra te s b mo re"
"n od es , f or at ot al of b 2 a tt he se co nd l ev el . Ea ch of th es eg en er at es b mo re no de s , y ie ld in g b 3"
"n od es a tt he t hi rd l ev el , a nd s oo n . No ws up po se t ha t t he s ol ut io n i sa td ep th d . In th e w or st"
"c as e ,i ti st he la st no de ge ne ra te d a tt ha tl ev el . Th en th et ot al nu mb er of no de sg en er at ed i s"
b+b 2+b 3+···+b d = O(b d).
"(If th ea lg or it hm we re to ap pl yt he go al te st to no de sw he ns el ec te df or ex pa ns io n ,r at he rt ha n"
"w he ng en er at ed , t he wh ol el ay er of no de sa td ep th d wo ul db ee xp an de d b ef or e t he go al wa s"
d et ec te d a nd th et im ec om pl ex it yw ou ld be O(b d+1).)
"As f or s pa ce c om pl ex it y: f or a ny k in d o f g ra ph s ea rc h , w hi ch s to re s e ve ry e xp an de d"
"n od e i n t he e xp lo re d s et , t he s pa ce c om pl ex it y i s a lw ay s w it hi n a f ac to r o f b o f t he t im e"
"c om pl ex it y . Fo r b re ad th-f ir st g ra ph s ea rc h i n p ar ti cu la r , e ve ry n od e g en er at ed r em ai ns i n"
"m em or y . Th er e w il l b e O(b d−1) n od es i n t he e xp lo re d s et a nd O(b d) n od es i n t he f ro nt ie r ,"
A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
"Fi gu re 3.12 Br ea dt h-f ir st s ea rc h o n a s im pl e b in ar y t re e . At e ac h s ta ge , t he n od e t o b e"
e xp an de dn ex ti si nd ic at ed by am ar ke r .
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 83
"s o t he s pa ce c om pl ex it y i s O(b d), i .e ., i t i s d om in at ed b y t he s iz e o f t he f ro nt ie r . Sw it ch in g"
"t oa tr ee se ar ch w ou ld n ot sa ve mu ch sp ac e , a nd in as ta te s pa ce w it hm an yr ed un da nt p at hs ,"
s wi tc hi ng co ul dc os ta gr ea td ea lo ft im e .
An e xp on en ti al c om pl ex it y b ou nd s uc h a s O(b d) i s s ca ry . Fi gu re 3.13 s ho ws w hy . It
"l is ts , f or va ri ou s v al ue s o ft he so lu ti on d ep th d ,t he ti me an dm em or yr eq ui re d f or ab re ad th-"
f ir st s ea rc h w it h b ra nc hi ng f ac to r b = 10. Th e t ab le a ss um es t ha t 1 m il li on n od es c an b e
g en er at ed p er se co nd a nd t ha t a no de r eq ui re s 1000 b yt es o fs to ra ge . Ma ny se ar ch p ro bl em s
f it r ou gh ly w it hi n t he se a ss um pt io ns (g iv e o r t ak e a f ac to r o f 100) w he n r un o n a m od er n
p er so na l c om pu te r .
De pt h No de s Ti me Me mo ry
2 110 .11 m il li se co nd s 107 k il ob yt es
"4 11,110 11 m il li se co nd s 10.6 m eg ab yt es"
6 106 1.1 s ec on ds 1 g ig ab yt e
8 108 2 m in ut es 103 g ig ab yt es
10 1010 3 h ou rs 10 t er ab yt es
12 1012 13 d ay s 1 p et ab yt e
14 1014 3.5 y ea rs 99 p et ab yt es
16 1016 350 y ea rs 10 e xa by te s
Fi gu re 3.13 Ti me an dm em or yr eq ui re me nt sf or br ea dt h-f ir st se ar ch .Th en um be rs sh ow n
a ss um eb ra nc hi ng fa ct or b=10;1 m il li on no de s/s ec on d ;1000 b yt es/n od e .
"Tw o l es so ns c an b e l ea rn ed f ro m Fi gu re 3.13. Fi rs t , t he m em or y r eq ui re me nt s a re a"
b ig ge r p ro bl em f or b re ad th-f ir st s ea rc h t ha n i s t he e xe cu ti on t im e . On e m ig ht w ai t 13 d ay s
"f or th es ol ut io n t oa ni mp or ta nt p ro bl em w it hs ea rc h d ep th 12,b ut no pe rs on al c om pu te rh as"
"t he pe ta by te o fm em or yi tw ou ld ta ke . Fo rt un at el y , o th er st ra te gi es r eq ui re le ss me mo ry ."
Th e s ec on d l es so n i s t ha t t im e i s s ti ll a m aj or f ac to r . If y ou r p ro bl em h as a s ol ut io n a t
"d ep th 16,t he n(g iv en ou ra ss um pt io ns)i tw il lt ak ea bo ut 350 y ea rs fo rb re ad th-f ir st se ar ch(o r"
"i nd ee da ny un in fo rm ed se ar ch)t of in di t . In ge ne ra l , e xp on en ti al-c om pl ex it y s ea rc hp ro bl em s"
c an no tb es ol ve db yu ni nf or me d m et ho ds fo ra ny bu tt he sm al le st in st an ce s .
3.4.2 Un if or m-c os ts ea rc h
"Wh en a ll s te p c os ts a re e qu al , b re ad th-f ir st s ea rc h i s o pt im al b ec au se i t a lw ay s e xp an ds t he"
"s ha ll ow es tu ne xp an de dn od e . By as im pl ee xt en si on ,w ec an fi nd an al go ri th mt ha ti so pt im al"
"UNIFORM-COST w it ha ny st ep-c os t f un ct io n . In st ea d o fe xp an di ng t he sh al lo we st n od e , u ni fo rm-c os ts ea rc h"
SEARCH
e xp an ds t he n od e n w it h t he l ow es t p at h c os t g(n). Th is i s d on e b y s to ri ng t he f ro nt ie r a s a
p ri or it yq ue ue or de re d b y g . Th ea lg or it hm i ss ho wn in Fi gu re 3.14.
"In a dd it io n t o t he o rd er in g o f t he q ue ue b y p at h c os t , t he re a re t wo o th er s ig ni fi ca nt"
d if fe re nc es f ro m b re ad th-f ir st s ea rc h . Th ef ir st is th at t he go al t es t i sa pp li ed t oa no de w he n
i t i s s el ec te d f or e xp an si on (a s i n t he g en er ic g ra ph-s ea rc h a lg or it hm s ho wn i n Fi gu re 3.7)
r at he r t ha n w he n i t i s f ir st g en er at ed . Th e r ea so n i s t ha t t he f ir st g oa l n od e t ha t i s g en er at ed
84 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"f un ct io n UNIFORM-COST-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
"n od e←a no de wi th STATE=p ro bl em .INITIAL-STATE ,PATH-COST=0"
"f ro nt ie r←a pr io ri ty qu eu eo rd er ed by PATH-COST ,w it hn od e a st he on ly el em en t"
e xp lo re d←a ne mp ty se t
l oo pd o
i f EMPTY ?(f ro nt ie r)t he nr et ur nf ai lu re
n od e←POP(f ro nt ie r) /*c ho os es th el ow es t-c os tn od ei nf ro nt ie r */
i fp ro bl em .GOAL-TEST(n od e .STATE)t he nr et ur n SOLUTION(n od e)
a dd no de .STATEt oe xp lo re d
f or ea ch ac ti on i np ro bl em .ACTIONS(n od e .STATE)d o
"c hi ld←CHILD-NODE(p ro bl em ,n od e ,a ct io n)"
i fc hi ld .STATEi sn ot in ex pl or ed o rf ro nt ie r t he n
"f ro nt ie r←INSERT(c hi ld ,f ro nt ie r)"
e ls ei fc hi ld .STATEi si nf ro nt ie r w it hh ig he r PATH-COSTt he n
r ep la ce th at fr on ti er n od ew it hc hi ld
Fi gu re 3.14 Un if or m-c os t s ea rc h o n a g ra ph . Th e a lg or it hm i s i de nt ic al t o t he g en er al
"g ra ph se ar ch al go ri th mi n Fi gu re 3.7,e xc ep tf or th eu se of ap ri or it yq ue ue an dt he ad di ti on"
o fa ne xt ra ch ec ki nc as ea sh or te rp at ht oa fr on ti er st at ei sd is co ve re d .Th ed at as tr uc tu re fo r
"f ro nt ie r n ee ds to su pp or te ff ic ie nt me mb er sh ip te st in g ,s oi ts ho ul dc om bi ne th ec ap ab il it ie s"
o fa pr io ri ty qu eu ea nd ah as ht ab le .
Si bi u Fa ga ra s
99
80
Ri mn ic u Vi lc ea
211
Pi te st i
97
101
Bu ch ar es t
"Fi gu re 3.15 Pa rt of th e Ro ma ni as ta te sp ac e ,s el ec te dt oi ll us tr at eu ni fo rm-c os ts ea rc h ."
m ay b e o n a s ub op ti ma l p at h . Th e s ec on d d if fe re nc e i s t ha t a t es t i s a dd ed i n c as e a b et te r
p at hi sf ou nd to an od ec ur re nt ly o nt he fr on ti er .
"Bo th of th es em od if ic at io ns co me in to pl ay in th ee xa mp le sh ow ni n Fi gu re 3.15,w he re"
t he pr ob le mi st og et fr om Si bi ut o Bu ch ar es t . Th es uc ce ss or s o f Si bi ua re Ri mn ic u Vi lc ea an d
"Fa ga ra s ,w it hc os ts 80 a nd 99,r es pe ct iv el y . Th el ea st-c os t n od e ,Ri mn ic u Vi lc ea ,i se xp an de d"
"n ex t , a dd in g Pi te st i w it h c os t 80 + 97=177. Th e l ea st-c os t n od e i s n ow Fa ga ra s , s o i t i s"
"e xp an de d , a dd in g Bu ch ar es tw it hc os t 99+211=310. No wa go al no de ha sb ee ng en er at ed ,"
"b ut un if or m-c os ts ea rc hk ee ps go in g ,c ho os in g Pi te st if or ex pa ns io na nd ad di ng as ec on dp at h"
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 85
t o Bu ch ar es tw it hc os t 80+97+101=278. No wt he al go ri th mc he ck st os ee if th is ne wp at h
"i s b et te r t ha n t he o ld o ne ; i t i s , s o t he o ld o ne i s d is ca rd ed . Bu ch ar es t , n ow w it h g-c os t 278,"
i ss el ec te d f or ex pa ns io n a nd th es ol ut io n i sr et ur ne d .
"It i s e as y t o s ee t ha t u ni fo rm-c os t s ea rc h i s o pt im al i n g en er al . Fi rs t , w e o bs er ve t ha t"
"w he ne ve r u ni fo rm-c os t s ea rc h s el ec ts a n od e n f or e xp an si on , t he o pt im al p at h t o t ha t n od e"
"h as b ee n f ou nd . (We re t hi s n ot t he c as e , t he re w ou ld h av e t o b e a no th er f ro nt ie r n od e"
n(c id:2)
o n
"t he o pt im al p at h f ro m t he s ta rt n od e t o n , b y t he g ra ph s ep ar at io n p ro pe rt y o f Fi gu re 3.9;"
(c id:2)
"b y d ef in it io n , n w ou ld h av e l ow er g-c os t t ha n n a nd w ou ld h av e b ee n s el ec te d f ir st .) Th en ,"
"b ec au se s te p c os ts a re n on ne ga ti ve , p at hs n ev er g et s ho rt er a s n od es a re a dd ed . Th es e t wo"
f ac ts t og et he r i mp ly t ha t u ni fo rm-c os t s ea rc h e xp an ds n od es i n o rd er o f t he ir o pt im al p at h
"c os t . He nc e ,t he fi rs tg oa ln od es el ec te df or ex pa ns io n m us tb et he op ti ma ls ol ut io n ."
"Un if or m-c os ts ea rc hd oe sn ot ca re ab ou tt he n um be ro fs te ps ap at hh as ,b ut on ly ab ou t"
"t he ir to ta lc os t . Th er ef or e ,i tw il lg et st uc ki na ni nf in it el oo pi ft he re is ap at hw it ha ni nf in it e"
"s eq ue nc e o fz er o-c os t a ct io ns—f or e xa mp le , a se qu en ce o f No Op a ct io ns .6 Co mp le te ne ss i s"
g ua ra nt ee d p ro vi de dt he co st of ev er ys te pe xc ee ds so me sm al lp os it iv ec on st an t (c id:2).
"Un if or m-c os ts ea rc hi sg ui de db yp at hc os ts ra th er th an de pt hs ,s oi ts co mp le xi ty is no t"
"e as il y c ha ra ct er iz ed i n t er ms o f b an d d . In st ea d , l et C∗ b et he c os t o ft he o pt im al s ol ut io n ,7"
a nd as su me th at ev er ya ct io nc os ts at le as t(c id:2). Th en th ea lg or it hm’s w or st-c as et im ea nd sp ac e
"c om pl ex it y i s O(b 1+(c id:4)C∗/(c id:2)(c id:5) ), w hi ch c an b e m uc h g re at er t ha n b d . Th is i s b ec au se u ni fo rm-"
c os t s ea rc h c an e xp lo re l ar ge t re es o f s ma ll s te ps b ef or e e xp lo ri ng p at hs i nv ol vi ng l ar ge a nd
"p er ha ps u se fu l s te ps . Wh en a ll s te p c os ts a re e qu al , b 1+(c id:4)C∗/(c id:2)(c id:5) i s j us t b d+1. Wh en a ll s te p"
"c os ts ar et he sa me ,u ni fo rm-c os ts ea rc hi ss im il ar to br ea dt h-f ir st se ar ch ,e xc ep tt ha tt he la tt er"
"s to ps a s s oo n a s i t g en er at es a g oa l , w he re as u ni fo rm-c os t s ea rc h e xa mi ne s a ll t he n od es a t"
t he g oa l’s d ep th t o s ee i f o ne h as a l ow er c os t ; t hu s u ni fo rm-c os t s ea rc h d oe s s tr ic tl y m or e
w or kb ye xp an di ng n od es at de pt hd un ne ce ss ar il y .
3.4.3 De pt h-f ir st s ea rc h
DEPTH-FIRST De pt h-f ir st se ar ch al wa ys ex pa nd st he de ep es tn od ei nt he cu rr en tf ro nt ie ro ft he se ar ch tr ee .
SEARCH
Th e p ro gr es s o f t he s ea rc h i s i ll us tr at ed i n Fi gu re 3.16. Th e s ea rc h p ro ce ed s i mm ed ia te ly
"t o t he d ee pe st l ev el o f t he s ea rc h t re e , w he re t he n od es h av e n o s uc ce ss or s . As t ho se n od es"
"a re e xp an de d , t he y a re d ro pp ed f ro m t he f ro nt ie r , s o t he n t he s ea rc h “b ac ks u p” t o t he n ex t"
d ee pe st no de th at st il lh as un ex pl or ed s uc ce ss or s .
Th e d ep th-f ir st s ea rc h a lg or it hm i s a n i ns ta nc e o f t he g ra ph-s ea rc h a lg or it hm i n Fi g-
"u re 3.7;w he re as br ea dt h-f ir st-s ea rc hu se sa FIFOq ue ue ,d ep th-f ir st se ar ch us es a LIFOq ue ue ."
A LIFO q ue ue m ea ns t ha t t he m os t r ec en tl y g en er at ed n od e i s c ho se n f or e xp an si on . Th is
"m us tb et he de ep es tu ne xp an de dn od eb ec au se it is on ed ee pe rt ha ni ts pa re nt—w hi ch ,i nt ur n ,"
w as th ed ee pe st un ex pa nd ed n od ew he ni tw as se le ct ed .
"As a n a lt er na ti ve t o t he GRAPH-SEARCH-s ty le i mp le me nt at io n , i t i s c om mo n t o i m-"
p le me nt d ep th-f ir st s ea rc h w it ha re cu rs iv e f un ct io n t ha t c al ls it se lf o ne ac h o fi ts ch il dr en i n
t ur n . (Ar ec ur si ve de pt h-f ir st a lg or it hm i nc or po ra ti ng a de pt hl im it is sh ow ni n Fi gu re 3.17.)
"6 No Op ,o r“n oo pe ra ti on ,”i st he na me of an as se mb ly la ng ua ge in st ru ct io nt ha td oe sn ot hi ng ."
"7 He re ,a nd th ro ug ho ut th eb oo k ,t he“s ta r”i n C∗m ea ns an op ti ma lv al ue fo r C ."
86 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
A A A
B C B C B C
D E F G D E F G D E F G
H I J K L M N O H I J K L M N O H I J K L M N O
A A A
B C B C C
D E F G D E F G E F G
H I J K L M N O I J K L M N O J K L M N O
A A
C B C C
E F G E F G F G
J K L M N O K L M N O L M N O
A A A
C C C
F G F G F G
L M N O L M N O M N O
Fi gu re 3.16 De pt h-f ir st se ar ch on ab in ar yt re e . Th eu ne xp lo re dr eg io ni s s ho wn in li gh t
g ra y . Ex pl or ed no de sw it hn od es ce nd an ts in th ef ro nt ie ra re r em ov ed fr om me mo ry . No de s
a td ep th 3 h av en os uc ce ss or sa nd M i st he on ly go al no de .
Th e p ro pe rt ie s o f d ep th-f ir st s ea rc h d ep en d s tr on gl y o n w he th er t he g ra ph-s ea rc h o r
"t re e-s ea rc h v er si on i s u se d . Th e g ra ph-s ea rc h v er si on , w hi ch a vo id s r ep ea te d s ta te s a nd r e-"
"d un da nt pa th s ,i sc om pl et ei nf in it es ta te sp ac es be ca us ei tw il le ve nt ua ll ye xp an de ve ry no de ."
"Th e t re e-s ea rc h v er si on , o n t he o th er h an d , i s n ot c om pl et e—f or e xa mp le , i n Fi gu re 3.6 t he"
a lg or it hm wi ll fo ll ow th e Ar ad–Si bi u–Ar ad–Si bi ul oo pf or ev er . De pt h-f ir st tr ee se ar ch ca nb e
m od if ie da tn oe xt ra m em or yc os ts ot ha ti tc he ck s n ew st at es a ga in st t ho se o nt he pa th fr om
t he ro ot to th ec ur re nt n od e ;t hi sa vo id s i nf in it el oo ps in fi ni te st at es pa ce s b ut do es no ta vo id
"t he p ro li fe ra ti on o f r ed un da nt p at hs . In i nf in it e s ta te s pa ce s , b ot h v er si on s f ai l i f a n i nf in it e"
"n on-g oa l p at h i s e nc ou nt er ed . Fo r e xa mp le , i n Kn ut h’s 4 p ro bl em , d ep th-f ir st s ea rc h w ou ld"
k ee pa pp ly in g t he fa ct or ia l o pe ra to rf or ev er .
"Fo rs im il ar re as on s , b ot h v er si on s a re no no pt im al . Fo re xa mp le , i n Fi gu re 3.16, d ep th-"
f ir st se ar ch w il le xp lo re t he en ti re l ef t s ub tr ee e ve ni fn od e C i sa go al n od e . If no de J w er e
"a ls o a g oa l n od e , t he n d ep th-f ir st s ea rc h w ou ld r et ur n i t a s a s ol ut io n i ns te ad o f C , w hi ch"
"w ou ld be ab et te rs ol ut io n ; h en ce , d ep th-f ir st se ar ch is no to pt im al ."
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 87
Th et im ec om pl ex it yo fd ep th-f ir st gr ap hs ea rc hi sb ou nd ed by th es iz eo ft he st at es pa ce
"(w hi ch ma yb ei nf in it e ,o fc ou rs e). Ad ep th-f ir st tr ee se ar ch , o nt he ot he rh an d ,m ay ge ne ra te"
"a ll o f t he O(b m) n od es i n t he s ea rc h t re e , w he re m i s t he m ax im um d ep th o f a ny n od e ; t hi s"
c an b e m uc h g re at er t ha n t he s iz e o f t he s ta te s pa ce . No te t ha t m i ts el f c an b e m uc h l ar ge r
t ha nd(t he de pt ho ft he sh al lo we st s ol ut io n) a nd is in fi ni te if th et re ei su nb ou nd ed .
"So f ar , d ep th-f ir st s ea rc h s ee ms t o h av e n o c le ar a dv an ta ge o ve r b re ad th-f ir st s ea rc h ,"
"s o w hy d o w e i nc lu de i t ? Th e r ea so n i s t he s pa ce c om pl ex it y . Fo r a g ra ph s ea rc h , t he re i s"
"n o a dv an ta ge , b ut a d ep th-f ir st t re e s ea rc h n ee ds t o s to re o nl y a s in gl e p at h f ro m t he r oo t"
"t o a l ea f n od e , a lo ng w it h t he r em ai ni ng u ne xp an de d s ib li ng n od es f or e ac h n od e o n t he"
"p at h . On ce a n od e h as b ee n e xp an de d , i t c an b e r em ov ed f ro m m em or y a s s oo n a s a ll i ts"
d es ce nd an ts h av e b ee n f ul ly e xp lo re d . (Se e Fi gu re 3.16.) Fo r a s ta te s pa ce w it h b ra nc hi ng
"f ac to r b a nd m ax im um d ep th m , d ep th-f ir st s ea rc h r eq ui re s s to ra ge o f o nl y O(b m) n od es ."
Us in gt he sa me as su mp ti on s a sf or Fi gu re 3.13 a nd as su mi ng th at no de sa tt he sa me de pt ha s
"t he go al no de ha ve no su cc es so rs , w ef in dt ha td ep th-f ir st se ar ch wo ul dr eq ui re 156 k il ob yt es"
"i ns te ad o f 10 e xa by te s a t d ep th d = 16, a f ac to r o f 7 t ri ll io n t im es l es s s pa ce . Th is h as"
"l ed t o t he a do pt io n o f d ep th-f ir st t re e s ea rc h a s t he b as ic w or kh or se o f m an y a re as o f AI ,"
"i nc lu di ng co ns tr ai nt sa ti sf ac ti on(Ch ap te r 6),p ro po si ti on al sa ti sf ia bi li ty(Ch ap te r 7),a nd lo gi c"
"p ro gr am mi ng (Ch ap te r 9). Fo rt he r em ai nd er o ft hi s s ec ti on , w ef oc us p ri ma ri ly o n t he tr ee-"
s ea rc hv er si on of de pt h-f ir st s ea rc h .
BACKTRACKING Av ar ia nt of de pt h-f ir st se ar ch ca ll ed b ac kt ra ck in gs ea rc hu se ss ti ll le ss me mo ry . (Se e
SEARCH
"Ch ap te r 6 f or mo re de ta il s .) In ba ck tr ac ki ng , o nl yo ne su cc es so r i sg en er at ed a ta ti me ra th er"
t ha n a ll s uc ce ss or s ; e ac h p ar ti al ly e xp an de d n od e r em em be rs w hi ch s uc ce ss or t o g en er at e
"n ex t . In t hi s w ay , o nl y O(m) m em or y i s n ee de d r at he r t ha n O(b m). Ba ck tr ac ki ng s ea rc h"
f ac il it at es y et a no th er m em or y-s av in g (a nd t im e-s av in g) t ri ck: t he i de a o f g en er at in g a s uc-
c es so r b y m od if yi ng t he c ur re nt s ta te d es cr ip ti on d ir ec tl y r at he r t ha n c op yi ng i t f ir st . Th is
r ed uc es t he me mo ry re qu ir em en ts t oj us to ne st at ed es cr ip ti on a nd O(m)a ct io ns . Fo rt hi st o
"w or k ,w em us tb ea bl et ou nd oe ac hm od if ic at io n w he nw eg ob ac kt og en er at e t he ne xt su c-"
"c es so r . Fo rp ro bl em sw it hl ar ge st at ed es cr ip ti on s , s uc ha s r ob ot ic as se mb ly ,t he se te ch ni qu es"
a re cr it ic al to su cc es s .
3.4.4 De pt h-l im it ed s ea rc h
Th e e mb ar ra ss in g f ai lu re o f d ep th-f ir st s ea rc h i n i nf in it e s ta te s pa ce s c an b e a ll ev ia te d b y
"s up pl yi ng d ep th-f ir st s ea rc hw it ha pr ed et er mi ne d d ep th l im it(c id:3). Th at is ,n od es a td ep th(c id:3)a re"
DEPTH-LIMITED t re at ed a s i f t he y h av e n o s uc ce ss or s . Th is a pp ro ac h i s c al le d d ep th-l im it ed s ea rc h . Th e
SEARCH
"d ep th l im it s ol ve s t he i nf in it e-p at h p ro bl em . Un fo rt un at el y , i t a ls o i nt ro du ce s a n a dd it io na l"
"s ou rc eo fi nc om pl et en es s i fw ec ho os e (c id:3) < d ,t ha ti s ,t he sh al lo we st g oa li sb ey on dt he de pt h"
l im it . (Th is i s l ik el y w he n d i s u nk no wn .) De pt h-l im it ed s ea rc h w il l a ls o b e n on op ti ma l i f
w ec ho os e(c id:3) > d . It st im ec om pl ex it yi s O(b(c id:3))a nd it ss pa ce co mp le xi ty is O(b(c id:3)). De pt h-f ir st
s ea rc hc an be vi ew ed as as pe ci al ca se of de pt h-l im it ed s ea rc hw it h(c id:3)=∞.
"So me ti me s , d ep th l im it s c an b e b as ed o n k no wl ed ge o f t he p ro bl em . Fo re xa mp le , o n"
"t he ma po f Ro ma ni at he re ar e 20 c it ie s . Th er ef or e ,w ek no wt ha ti ft he re is as ol ut io n ,i tm us t"
"b e o f l en gt h 19 a t t he l on ge st , s o (c id:3) = 19 i s a p os si bl e c ho ic e . Bu t i n f ac t i f w e s tu di ed t he"
88 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"f un ct io n DEPTH-LIMITED-SEARCH(p ro bl em ,l im it)r et ur ns as ol ut io n ,o rf ai lu re/c ut of f"
"r et ur n RECURSIVE-DLS(MAKE-NODE(p ro bl em .INITIAL-STATE),p ro bl em ,l im it)"
"f un ct io n RECURSIVE-DLS(n od e ,p ro bl em ,l im it)r et ur ns as ol ut io n ,o rf ai lu re/c ut of f"
i fp ro bl em .GOAL-TEST(n od e .STATE)t he nr et ur n SOLUTION(n od e)
e ls ei fl im it =0 t he nr et ur nc ut of f
e ls e
c ut of f o cc ur re d ?←f al se
f or ea ch ac ti on i np ro bl em .ACTIONS(n od e .STATE)d o
"c hi ld←CHILD-NODE(p ro bl em ,n od e ,a ct io n)"
"r es ul t←RECURSIVE-DLS(c hi ld ,p ro bl em ,l im it −1)"
i fr es ul t =c ut of f t he nc ut of f o cc ur re d ?←t ru e
e ls ei fr es ul t (c id:7)=f ai lu re t he nr et ur nr es ul t
i fc ut of f o cc ur re d ?t he nr et ur nc ut of f e ls er et ur nf ai lu re
Fi gu re 3.17 Ar ec ur si ve im pl em en ta ti on of de pt h-l im it ed tr ee se ar ch .
"m ap ca re fu ll y , w ew ou ld di sc ov er th at an yc it yc an be re ac he d f ro ma ny ot he rc it yi na tm os t"
"9 s te ps . Th is nu mb er , k no wn as th ed ia me te ro ft he st at es pa ce ,g iv es us ab et te rd ep th li mi t ,"
DIAMETER
"w hi ch l ea ds t o a m or e e ff ic ie nt d ep th-l im it ed s ea rc h . Fo r m os t p ro bl em s , h ow ev er , w e w il l"
n ot kn ow ag oo dd ep th li mi tu nt il we ha ve so lv ed th ep ro bl em .
De pt h-l im it ed s ea rc h c an b ei mp le me nt ed a sa si mp le m od if ic at io n t o t he ge ne ra l t re e-
"o r g ra ph-s ea rc h a lg or it hm . Al te rn at iv el y , i t c an b e i mp le me nt ed a s a s im pl e r ec ur si ve a l-"
g or it hm a s s ho wn i n Fi gu re 3.17. No ti ce t ha t d ep th-l im it ed s ea rc h c an t er mi na te w it h t wo
k in ds o f f ai lu re: t he s ta nd ar d f ai lu re v al ue i nd ic at es n o s ol ut io n ; t he c ut of f v al ue i nd ic at es
n os ol ut io nw it hi nt he de pt hl im it .
3.4.5 It er at iv ed ee pe ni ng d ep th-f ir st s ea rc h
"ITERATIVE It er at iv e d ee pe ni ng s ea rc h (o r i te ra ti ve d ee pe ni ng d ep th-f ir st s ea rc h) i s a g en er al s tr at eg y ,"
DEEPENINGSEARCH
"o ft en u se d i nc om bi na ti on w it hd ep th-f ir st t re e s ea rc h , t ha t f in ds th e b es td ep th l im it . It do es"
"t hi sb yg ra du al ly in cr ea si ng th el im it—f ir st 0,t he n 1,t he n 2,a nd so on—u nt il ag oa li sf ou nd ."
"Th is w il l o cc ur w he n t he d ep th l im it r ea ch es d , t he d ep th o f t he s ha ll ow es t g oa l n od e . Th e"
a lg or it hm i s s ho wn i n Fi gu re 3.18. It er at iv e d ee pe ni ng c om bi ne s t he b en ef it s o f d ep th-f ir st
"a nd br ea dt h-f ir st se ar ch . Li ke de pt h-f ir st se ar ch ,i ts me mo ry re qu ir em en ts ar em od es t: O(b d)"
"t ob ep re ci se . Li ke br ea dt h-f ir st s ea rc h , i ti sc om pl et e w he n t he br an ch in g f ac to ri sf in it ea nd"
o pt im al wh en th ep at hc os ti sa no nd ec re as in g f un ct io n o ft he de pt ho ft he no de . Fi gu re 3.19
"s ho ws fo ur it er at io ns of ITERATIVE-DEEPENING-SEARCH o na bi na ry se ar ch tr ee ,w he re th e"
s ol ut io n i sf ou nd on th ef ou rt hi te ra ti on .
It er at iv e d ee pe ni ng s ea rc h m ay s ee m w as te fu l b ec au se s ta te s a re g en er at ed m ul ti pl e
t im es . It tu rn s o ut t hi s i sn ot t oo c os tl y . Th er ea so n i s t ha t i na se ar ch t re e w it h t he sa me (o r
"n ea rl y t he s am e) b ra nc hi ng f ac to r a t e ac h l ev el , m os t o f t he n od es a re i n t he b ot to m l ev el ,"
s o i t d oe s n ot m at te rm uc h t ha t t he u pp er l ev el s a re g en er at ed m ul ti pl e t im es . In a n i te ra ti ve
"d ee pe ni ng s ea rc h , t he n od es o n t he b ot to m l ev el (d ep th d) a re g en er at ed o nc e , t ho se o n t he"
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 89
"f un ct io n ITERATIVE-DEEPENING-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
f or de pt h =0 t o∞d o
"r es ul t←DEPTH-LIMITED-SEARCH(p ro bl em ,d ep th)"
i fr es ul t (c id:7)=c ut of ft he nr et ur nr es ul t
"Fi gu re 3.18 Th e i te ra ti ve d ee pe ni ng s ea rc h a lg or it hm , w hi ch r ep ea te dl y a pp li es d ep th-"
l im it ed se ar ch wi th in cr ea si ng li mi ts . It te rm in at es wh en a s ol ut io ni sf ou nd or if th ed ep th-
"l im it ed se ar ch re tu rn sf ai lu re ,m ea ni ng th at no so lu ti on ex is ts ."
Li mi t = 0 A A
Li mi t = 1 A A A A
B C B C B C B C
Li mi t = 2 A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
Li mi t = 3 A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
H I J K L M N O H I J K L M N O H I J K L M N O H I J K L M N O
A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
H I J K L M N O H I J K L M N O H I J K L M N O H I J K L M N O
A A A A
B C B C B C B C
D E F G D E F G D E F G D E F G
H I J K L M N O H I J K L M N O H I J K L M N O H I J K L M N O
Fi gu re 3.19 Fo ur it er at io ns of it er at iv ed ee pe ni ng se ar ch on ab in ar yt re e .
90 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"n ex t-t o-b ot to m l ev el ar eg en er at ed t wi ce , a nd so on , u pt ot he ch il dr en o ft he ro ot , w hi ch ar e"
g en er at ed d ti me s . So th et ot al nu mb er of no de sg en er at ed i nt he wo rs tc as ei s
"N(IDS) = (d)b+(d−1)b 2+···+(1)b d ,"
w hi ch g iv es a t im e c om pl ex it y o f O(b d)—a sy mp to ti ca ll y t he s am e a s b re ad th-f ir st s ea rc h .
"Th er ei ss om ee xt ra co st fo rg en er at in gt he up pe rl ev el sm ul ti pl et im es ,b ut it is no tl ar ge . Fo r"
"e xa mp le ,i fb = 10 a nd d = 5,t he nu mb er sa re"
"N(IDS) = 50+400+3,000+20,000+100,000 = 123,450"
"N(BFS) = 10+100+1,000+10,000+100,000 = 111,110."
"If y ou a re r ea ll y c on ce rn ed a bo ut r ep ea ti ng t he r ep et it io n , y ou c an u se a h yb ri d a pp ro ac h"
"t ha t r un s b re ad th-f ir st s ea rc h u nt il a lm os t a ll t he a va il ab le m em or y i s c on su me d , a nd t he n"
"r un s i te ra ti ve d ee pe ni ng f ro m a ll t he n od es i n t he f ro nt ie r . In g en er al , i te ra ti ve d ee pe ni ng i s"
t he p re fe rr ed u ni nf or me d s ea rc h m et ho d w he n t he se ar ch s pa ce i sl ar ge a nd t he de pt h o ft he
s ol ut io n i sn ot kn ow n .
It er at iv ed ee pe ni ng se ar ch is an al og ou s t ob re ad th-f ir st s ea rc hi nt ha ti te xp lo re sa co m-
p le te l ay er o f n ew n od es a t e ac h i te ra ti on b ef or e g oi ng o n t o t he n ex t l ay er . It w ou ld s ee m
"w or th wh il e t o d ev el op a n i te ra ti ve a na lo g t o u ni fo rm-c os t s ea rc h , i nh er it in g t he l at te r a lg o-"
r it hm’s o pt im al it y g ua ra nt ee s w hi le a vo id in g i ts m em or y r eq ui re me nt s . Th e i de a i s t o u se
"i nc re as in g p at h-c os t l im it si ns te ad o fi nc re as in g d ep th l im it s . Th er es ul ti ng a lg or it hm , c al le d"
ITERATIVE
"i te ra ti ve l en gt he ni ng s ea rc h , i s e xp lo re d i n Ex er ci se 3.17. It t ur ns o ut , u nf or tu na te ly , t ha t"
LENGTHENING
SEARCH
i te ra ti ve le ng th en in g i nc ur ss ub st an ti al o ve rh ea dc om pa re dt ou ni fo rm-c os t s ea rc h .
3.4.6 Bi di re ct io na l s ea rc h
Th ei de ab eh in db id ir ec ti on al s ea rc hi st or un tw os im ul ta ne ou s s ea rc he s—o ne f or wa rd fr om
t he i ni ti al s ta te a nd th e o th er ba ck wa rd f ro m t he go al—h op in g t ha t t he tw os ea rc he s m ee ti n
"t he m id dl e (Fi gu re 3.20). Th e m ot iv at io n i s t ha t b d/2 +b d/2 i s m uc h l es s t ha n b d , o r i n t he"
"f ig ur e , t he a re ao ft he t wo sm al l c ir cl es i sl es s t ha nt he a re ao fo ne b ig ci rc le c en te re d o nt he"
s ta rt an dr ea ch in g t ot he go al .
Bi di re ct io na l s ea rc h i s i mp le me nt ed b y r ep la ci ng t he g oa l t es t w it h a c he ck t o s ee
"w he th er t he f ro nt ie rs o f t he t wo s ea rc he s i nt er se ct ; i f t he y d o , a s ol ut io n h as b ee n f ou nd ."
"(It i s i mp or ta nt t o r ea li ze t ha t t he f ir st s uc h s ol ut io n f ou nd m ay n ot b e o pt im al , e ve n i f t he"
t wo s ea rc he s a re b ot h b re ad th-f ir st ; s om e a dd it io na l s ea rc h i s r eq ui re d t o m ak e s ur e t he re
i sn’t a no th er s ho rt-c ut a cr os s t he g ap .) Th e c he ck c an b e d on e w he n e ac h n od e i s g en er at ed
"o r s el ec te d f or e xp an si on a nd , w it h a h as h t ab le , w il l t ak e c on st an t t im e . Fo r e xa mp le , i f a"
"p ro bl em h as s ol ut io n d ep th d=6, a nd e ac h d ir ec ti on r un s b re ad th-f ir st s ea rc h o ne n od e a t a"
"t im e ,t he ni nt he wo rs tc as et he tw os ea rc he s m ee tw he nt he yh av eg en er at ed a ll of th en od es"
"a td ep th 3. Fo rb=10,t hi sm ea ns at ot al of 2,220 n od eg en er at io ns ,c om pa re dw it h 1,111,110"
"f or a s ta nd ar d b re ad th-f ir st s ea rc h . Th us , t he t im e c om pl ex it y o f b id ir ec ti on al s ea rc h u si ng"
b re ad th-f ir st s ea rc he s i n b ot h d ir ec ti on s i s O(b d/2). Th e s pa ce c om pl ex it y i s a ls o O(b d/2).
"We ca nr ed uc et hi sb yr ou gh ly h al fi fo ne of th et wo se ar ch es i s d on eb yi te ra ti ve d ee pe ni ng ,"
b ut at le as to ne of th ef ro nt ie rs m us tb ek ep ti nm em or ys ot ha t t he in te rs ec ti on c he ck ca nb e
d on e . Th is sp ac er eq ui re me nt i st he mo st si gn if ic an t w ea kn es so fb id ir ec ti on al s ea rc h .
Se ct io n 3.4. Un in fo rm ed Se ar ch St ra te gi es 91
St ar t Go al
Fi gu re 3.20 A s ch em at ic v ie w o f a b id ir ec ti on al se ar ch t ha ti s a bo ut to s uc ce ed w he n a
b ra nc hf ro mt he st ar tn od em ee ts ab ra nc hf ro mt he go al no de .
"Th er ed uc ti on i nt im ec om pl ex it y m ak es bi di re ct io na l s ea rc h a tt ra ct iv e , b ut ho wd ow e"
s ea rc h b ac kw ar d ? Th is i s n ot a s e as y a s i t s ou nd s . Le t t he p re de ce ss or s o f a s ta te x b e a ll
PREDECESSOR
t ho se st at es th at ha ve xa sa su cc es so r . Bi di re ct io na l s ea rc hr eq ui re sa me th od fo rc om pu ti ng
"p re de ce ss or s . Wh en al lt he ac ti on si nt he st at es pa ce ar er ev er si bl e , t he pr ed ec es so rs o f x ar e"
j us ti ts su cc es so rs . Ot he rc as es ma yr eq ui re su bs ta nt ia l i ng en ui ty .
Co ns id er th eq ue st io n o fw ha tw em ea nb y“t he go al”i ns ea rc hi ng “b ac kw ar df ro mt he
"g oa l .” Fo rt he 8-p uz zl ea nd fo rf in di ng ar ou te in Ro ma ni a ,t he re is ju st on eg oa ls ta te ,s ot he"
b ac kw ar d s ea rc h i s v er y m uc h l ik e t he f or wa rd s ea rc h . If t he re a re s ev er al e xp li ci tl y l is te d
"g oa ls ta te s—f or ex am pl e ,t he tw od ir t-f re eg oa ls ta te si n Fi gu re 3.3—t he nw ec an co ns tr uc ta"
n ew du mm yg oa ls ta te wh os ei mm ed ia te pr ed ec es so rs a re al lt he ac tu al go al st at es . Bu ti ft he
"g oa l i sa n a bs tr ac t d es cr ip ti on , s uc h a s t he go al t ha t “n o q ue en a tt ac ks a no th er q ue en” i n t he"
"n-q ue en sp ro bl em ,t he nb id ir ec ti on al s ea rc hi sd if fi cu lt to us e ."
3.4.7 Co mp ar in g u ni nf or me d s ea rc h s tr at eg ie s
Fi gu re 3.21 c om pa re s s ea rc h s tr at eg ie s i n t er ms o f t he f ou r e va lu at io n c ri te ri a s et f or th i n
"Se ct io n 3.3.2. Th is c om pa ri so n i s f or t re e-s ea rc h v er si on s . Fo r g ra ph s ea rc he s , t he m ai n"
d if fe re nc es ar et ha td ep th-f ir st se ar ch is co mp le te fo rf in it es ta te sp ac es an dt ha tt he sp ac ea nd
t im ec om pl ex it ie s a re bo un de d b yt he si ze of th es ta te sp ac e .
Br ea dt h- Un if or m- De pt h- De pt h- It er at iv e Bi di re ct io na l
Cr it er io n
Fi rs t Co st Fi rs t Li mi te d De ep en in g (i fa pp li ca bl e)
"Co mp le te ? Ye sa Ye sa ,b No No Ye sa Ye sa ,d"
Ti me O(b d) O(b 1+(c id:2)C∗/(c id:2)(c id:3)) O(b m) O(b(c id:3)) O(b d) O(b d/2)
Sp ac e O(b d) O(b 1+(c id:2)C∗/(c id:2)(c id:3)) O(b m) O(b(c id:3)) O(b d) O(b d/2)
"Op ti ma l ? Ye sc Ye s No No Ye sc Ye sc ,d"
Fi gu re 3.21 Ev al ua ti on of tr ee-s ea rc hs tr at eg ie s . b is th eb ra nc hi ng fa ct or ; d is th ed ep th
o ft he s ha ll ow es ts ol ut io n ; m i st he m ax im um de pt ho ft he s ea rc ht re e ; l i st he d ep th li mi t .
Su pe rs cr ip tc av ea ts ar ea sf ol lo ws: a c om pl et ei fb is fi ni te ; b c om pl et ei fs te pc os ts≥ (c id:2)f or
p os it iv e(c id:2);c op ti ma li fs te pc os ts ar ea ll id en ti ca l ;d if bo th di re ct io ns us eb re ad th-f ir st se ar ch .
92 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
3.5 INFORMED (HEURISTIC) SEARCH STRATEGIES
Th is se ct io ns ho ws ho wa ni nf or me ds ea rc hs tr at eg y—o ne th at us es pr ob le m-s pe ci fi ck no wl-
INFORMEDSEARCH
e dg eb ey on dt he de fi ni ti on of th ep ro bl em it se lf—c an fi nd so lu ti on sm or ee ff ic ie nt ly th an ca n
a nu ni nf or me ds tr at eg y .
Th e g en er al a pp ro ac h w e c on si de r i s c al le d b es t-f ir st s ea rc h . Be st-f ir st s ea rc h i s a n
BEST-FIRSTSEARCH
i ns ta nc e o f t he g en er al TREE-SEARCH o r GRAPH-SEARCH a lg or it hm i n w hi ch a n od e i s
"EVALUATION s el ec te d f or e xp an si on b as ed o n a n e va lu at io n f un ct io n , f(n). Th e e va lu at io n f un ct io n i s"
FUNCTION
"c on st ru ed a s a c os t e st im at e , s o t he n od e w it h t he l ow es t e va lu at io n i s e xp an de d f ir st . Th e"
i mp le me nt at io n o f b es t-f ir st g ra ph s ea rc h i s i de nt ic al t o t ha t f or u ni fo rm-c os t s ea rc h (Fi g-
"u re 3.14),e xc ep tf or th eu se of f i ns te ad of g t oo rd er th ep ri or it y q ue ue ."
"Th ec ho ic e o ff d et er mi ne s t he se ar ch s tr at eg y . (Fo re xa mp le , a s Ex er ci se 3.21 s ho ws ,"
b es t-f ir st t re e s ea rc h i nc lu de s d ep th-f ir st s ea rc h a sa sp ec ia l c as e .) Mo st be st-f ir st a lg or it hm s
"HEURISTIC i nc lu de as ac om po ne nt o ff a he ur is ti cf un ct io n ,d en ot ed h(n):"
FUNCTION
h(n) = e st im at ed co st of th ec he ap es t p at hf ro mt he st at ea tn od e n to ag oa ls ta te .
"(No ti ce t ha t h(n) t ak es a no de a s i np ut , b ut , u nl ik e g(n), i td ep en ds o nl y o n t he s ta te a t t ha t"
"n od e .) Fo re xa mp le ,i n Ro ma ni a ,o ne mi gh te st im at et he co st of th ec he ap es tp at hf ro m Ar ad"
t o Bu ch ar es t v ia th es tr ai gh t-l in e d is ta nc e f ro m Ar ad to Bu ch ar es t .
He ur is ti c f un ct io ns a re t he m os t c om mo n f or m i n w hi ch a dd it io na l k no wl ed ge o f t he
p ro bl em is im pa rt ed to th es ea rc ha lg or it hm . We st ud yh eu ri st ic si nm or ed ep th in Se ct io n 3.6.
"Fo rn ow ,w ec on si de rt he mt ob ea rb it ra ry , n on ne ga ti ve , p ro bl em-s pe ci fi cf un ct io ns , w it ho ne"
"c on st ra in t: i fn is ag oa ln od e ,t he nh(n)=0. Th er em ai nd er of th is se ct io n c ov er st wo wa ys"
t ou se he ur is ti c i nf or ma ti on t og ui de se ar ch .
3.5.1 Gr ee dy b es t-f ir st s ea rc h
"GREEDYBEST-FIRST Gr ee dy be st-f ir st se ar ch 8 t ri es to ex pa nd th en od et ha ti sc lo se st t ot he go al , o nt he gr ou nd s"
SEARCH
"t ha t t hi s i s l ik el y t o l ea d t o a s ol ut io n q ui ck ly . Th us , i t e va lu at es n od es b y u si ng j us t t he"
"h eu ri st ic f un ct io n ; t ha ti s ,f(n)= h(n)."
Le tu ss ee ho wt hi sw or ks fo rr ou te-f in di ng p ro bl em si n Ro ma ni a ;w eu se th es tr ai gh t-
"STRAIGHT-LINE l in e d is ta nc e h eu ri st ic , w hi ch w e w il l c al l h . If t he g oa l i s Bu ch ar es t , w e n ee d t o"
DISTANCE SLD
"k no w t he s tr ai gh t-l in e d is ta nc es t o Bu ch ar es t , w hi ch a re s ho wn i n Fi gu re 3.22. Fo r e xa m-"
"p le , h (In(Ar ad))=366. No ti ce t ha t t he v al ue s o f h c an no t b e c om pu te d f ro m t he"
SLD SLD
"p ro bl em d es cr ip ti on i ts el f . Mo re ov er , i t t ak es a c er ta in a mo un t o f e xp er ie nc e t o k no w t ha t"
"h i sc or re la te d w it ha ct ua lr oa dd is ta nc es a nd is ,t he re fo re , a us ef ul he ur is ti c ."
SLD
Fi gu re 3.23 s ho ws t he p ro gr es s o f a g re ed y b es t-f ir st s ea rc h u si ng h t o f in d a p at h
SLD
f ro m Ar ad t o Bu ch ar es t . Th e f ir st n od e t o b e e xp an de d f ro m Ar ad w il l b e Si bi u b ec au se i t
i s c lo se r t o Bu ch ar es t t ha n e it he r Ze ri nd o r Ti mi so ar a . Th e n ex t n od e t o b e e xp an de d w il l
"b e Fa ga ra s b ec au se i t i s c lo se st . Fa ga ra s i n t ur n g en er at es Bu ch ar es t , w hi ch i s t he g oa l . Fo r"
"t hi s p ar ti cu la r p ro bl em , g re ed y b es t-f ir st s ea rc h u si ng h f in ds a s ol ut io n w it ho ut e ve r"
SLD
8 Ou rf ir st ed it io nc al le dt hi sg re ed ys ea rc h ; o th er au th or sh av ec al le di tb es t-f ir st se ar ch . Ou rm or eg en er al
u sa ge of th el at te rt er mf ol lo ws Pe ar l(1984).
Se ct io n 3.5. In fo rm ed(He ur is ti c)Se ar ch St ra te gi es 93
Ar ad 366 Me ha di a 241
Bu ch ar es t 0 Ne am t 234
Cr ai ov a 160 Or ad ea 380
Dr ob et a 242 Pi te st i 100
Ef or ie 161 Ri mn ic u Vi lc ea 193
Fa ga ra s 176 Si bi u 253
Gi ur gi u 77 Ti mi so ar a 329
Hi rs ov a 151 Ur zi ce ni 80
Ia si 226 Va sl ui 199
Lu go j 244 Ze ri nd 374
Fi gu re 3.22 Va lu es of h SLD—s tr ai gh t-l in ed is ta nc es to Bu ch ar es t .
"e xp an di ng a n od e t ha t i s n ot o n t he s ol ut io n p at h ; h en ce , i ts s ea rc h c os t i s m in im al . It i s"
"n ot o pt im al , h ow ev er: t he p at h v ia Si bi u a nd Fa ga ra s t o Bu ch ar es t i s 32 k il om et er s l on ge r"
t ha n t he p at h t hr ou gh Ri mn ic u Vi lc ea a nd Pi te st i . Th is s ho ws w hy t he a lg or it hm i s c al le d
“g re ed y”—a t e ac hs te pi tt ri es to ge ta sc lo se to th eg oa la si tc an .
"Gr ee dy b es t-f ir st t re e s ea rc h i s a ls o i nc om pl et e e ve n i n a f in it e s ta te s pa ce , m uc h l ik e"
d ep th-f ir st s ea rc h . Co ns id er t he p ro bl em o f g et ti ng f ro m Ia si t o Fa ga ra s . Th e h eu ri st ic s ug-
"g es ts t ha t Ne am t b e e xp an de d f ir st b ec au se i t i s c lo se st t o Fa ga ra s , b ut i t i s a d ea d e nd . Th e"
s ol ut io n i s t o g o f ir st t o Va sl ui—a s te p t ha t i s a ct ua ll y f ar th er f ro m t he g oa l a cc or di ng t o
"t he h eu ri st ic—a nd t he n t o c on ti nu e t o Ur zi ce ni , Bu ch ar es t , a nd Fa ga ra s . Th e a lg or it hm w il l"
"n ev er f in d t hi s s ol ut io n , h ow ev er , b ec au se e xp an di ng Ne am t p ut s Ia si b ac k i nt o t he f ro nt ie r ,"
"Ia si is cl os er to Fa ga ra st ha n Va sl ui is ,a nd so Ia si wi ll be ex pa nd ed a ga in , l ea di ng t oa ni nf i-"
"n it el oo p . (Th eg ra ph se ar ch ve rs io n i sc om pl et ei nf in it es pa ce s ,b ut no ti ni nf in it eo ne s .) Th e"
"w or st-c as et im ea nd sp ac ec om pl ex it yf or th et re ev er si on is O(b m),w he re mi st he ma xi mu m"
"d ep th o f t he s ea rc h s pa ce . Wi th a g oo d h eu ri st ic f un ct io n , h ow ev er , t he c om pl ex it y c an b e"
r ed uc ed su bs ta nt ia ll y . Th ea mo un to ft he re du ct io nd ep en ds o nt he pa rt ic ul ar pr ob le ma nd on
t he qu al it yo ft he he ur is ti c .
3.5.2 A* s ea rc h: Mi ni mi zi ng t he t ot al es ti ma te d s ol ut io nc os t
∗ Th e m os t w id el y k no wn f or m o f b es t-f ir st s ea rc h i s c al le d A∗ s ea rc h (p ro no un ce d “A-s ta r
A SEARCH
"s ea rc h”). It ev al ua te sn od es by co mb in in gg(n),t he co st to re ac ht he no de ,a nd h(n),t he co st"
t og et fr om th en od et ot he go al:
f(n)= g(n)+h(n).
"Si nc e g(n) g iv es t he p at h c os t f ro m t he s ta rt n od e t o n od e n , a nd h(n) i s t he e st im at ed c os t"
"o ft he ch ea pe st p at hf ro m n to th eg oa l ,w eh av e"
f(n)= e st im at ed co st of th ec he ap es t s ol ut io n t hr ou gh n .
"Th us , i f w e a re t ry in g t o f in d t he c he ap es t s ol ut io n , a r ea so na bl e t hi ng t o t ry f ir st i s t he"
n od e w it h t he l ow es t v al ue o f g(n)+ h(n). It t ur ns o ut t ha t t hi s s tr at eg y i s m or e t ha n j us t
∗
"r ea so na bl e: p ro vi de dt ha tt he he ur is ti cf un ct io n h(n)s at is fi es ce rt ai nc on di ti on s , A s ea rc hi s"
b ot h c om pl et e a nd o pt im al . Th e a lg or it hm i s i de nt ic al t o UNIFORM-COST-SEARCH e xc ep t
∗
t ha t A u se sg+h in st ea do fg .
94 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
(a) Th e i ni ti al s ta te Ar ad
366
(b) Af te r e xp an di ng Ar ad Ar ad
Si bi u Ti mi so ar a Ze ri nd
253 329 374
(c) Af te r e xp an di ng Si bi u Ar ad
Si bi u Ti mi so ar a Ze ri nd
329 374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
366 176 380 193
(d) Af te r e xp an di ng Fa ga ra s Ar ad
Si bi u Ti mi so ar a Ze ri nd
329 374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
366 380 193
Si bi u Bu ch ar es t
253 0
Fi gu re 3.23 St ag es i n a g re ed yb es t-f ir st t re e s ea rc h f or Bu ch ar es tw it h t he s tr ai gh t-l in e
d is ta nc eh eu ri st ic h SLD . No de sa re la be le dw it ht he ir h-v al ue s .
Co nd it io ns fo ro pt im al it y: Ad mi ss ib il it ya nd co ns is te nc y
ADMISSIBLE Th e f ir st c on di ti on w e r eq ui re f or o pt im al it y i s t ha t h(n) b e a n a dm is si bl e h eu ri st ic . An
HEURISTIC
a dm is si bl e h eu ri st ic i so ne th at n ev er o ve re st im at es t he co st t or ea ch t he g oa l . Be ca us e g(n)
"i s t he a ct ua l c os t t o r ea ch n a lo ng t he c ur re nt p at h , a nd f(n)=g(n)+h(n), w e h av e a s a n"
i mm ed ia te c on se qu en ce t ha t f(n) n ev er o ve re st im at es t he t ru e c os t o f a s ol ut io n a lo ng t he
c ur re nt pa th th ro ug h n .
Ad mi ss ib le h eu ri st ic s a re b y n at ur e o pt im is ti c b ec au se t he y t hi nk t he c os t o f s ol vi ng
t he p ro bl em i s l es s t ha n i t a ct ua ll y i s . An o bv io us e xa mp le o f a n a dm is si bl e h eu ri st ic i s t he
s tr ai gh t-l in e d is ta nc e h t ha t w e u se d i n g et ti ng t o Bu ch ar es t . St ra ig ht-l in e d is ta nc e i s
SLD
"a dm is si bl e b ec au se t he sh or te st p at hb et we en an yt wo po in ts i sa st ra ig ht l in e , s ot he st ra ig ht"
Se ct io n 3.5. In fo rm ed(He ur is ti c)Se ar ch St ra te gi es 95
∗
"l in ec an no t b ea no ve re st im at e . In Fi gu re 3.24,w es ho wt he pr og re ss of an A t re es ea rc hf or"
"Bu ch ar es t . Th ev al ue so f g a re co mp ut ed f ro mt he st ep co st s i n Fi gu re 3.2,a nd th ev al ue s o f"
h a re gi ve ni n Fi gu re 3.22. No ti ce in pa rt ic ul ar th at Bu ch ar es tf ir st ap pe ar so nt he fr on ti er
SLD
"a t s te p (e), b ut i t i s n ot s el ec te d f or ex pa ns io n b ec au se i ts f-c os t (450) i s h ig he r t ha n t ha t o f"
Pi te st i (417). An ot he rw ay to sa y t hi s i st ha tt he re m ig ht be as ol ut io n t hr ou gh Pi te st i w ho se
"c os ti sa sl ow as 417,s ot he al go ri th m w il ln ot se tt le fo ra so lu ti on t ha tc os ts 450."
"As ec on d , s li gh tl y s tr on ge rc on di ti on c al le d c on si st en cy (o rs om et im es m on ot on ic it y)"
CONSISTENCY
"i sr eq ui re d o nl y f or ap pl ic at io ns o f A∗ t og ra ph s ea rc h .9 Ah eu ri st ic h(n)i sc on si st en t i f , f or"
MONOTONICITY
(c id:2)
"e ve ry n od e n a nd e ve ry s uc ce ss or n o f n g en er at ed b y a ny a ct io n a , t he e st im at ed c os t o f"
(c id:2)
r ea ch in g t he g oa l f ro m n i s n o g re at er t ha n t he s te p c os t o f g et ti ng t o n p lu s t he e st im at ed
(c id:2)
c os to fr ea ch in gt he go al fr om n:
"h(n) ≤ c(n ,a ,n(c id:2) )+h(n(c id:2) )."
"TRIANGLE Th is is af or mo ft he ge ne ra l t ri an gl ei ne qu al it y ,w hi ch st ip ul at es th at ea ch si de of at ri an gl e"
INEQUALITY
(c id:2)
"c an no t b e l on ge r t ha n t he s um o f t he o th er t wo s id es . He re , t he t ri an gl e i s f or me d b y n , n ,"
"a nd th eg oa l G c lo se st to n . Fo ra na dm is si bl eh eu ri st ic , t he in eq ua li ty m ak es pe rf ec t s en se:"
n
(c id:2)
"i f t he re w er e a r ou te f ro m n t o G v ia n t ha t w as c he ap er t ha n h(n), t ha t w ou ld v io la te t he"
n
p ro pe rt y t ha t h(n)i sa lo we rb ou nd on th ec os tt or ea ch G .
n
It is fa ir ly ea sy to sh ow(Ex er ci se 3.29)t ha te ve ry co ns is te nt he ur is ti ci sa ls oa dm is si bl e .
"Co ns is te nc y i s t he re fo re a s tr ic te r r eq ui re me nt t ha n a dm is si bi li ty , b ut o ne h as t o w or k q ui te"
h ar dt oc on co ct he ur is ti cs th at ar ea dm is si bl eb ut no tc on si st en t . Al lt he ad mi ss ib le he ur is ti cs
"w e d is cu ss i n t hi s c ha pt er a re a ls o c on si st en t . Co ns id er , f or e xa mp le , h . We k no w t ha t"
SLD
t he g en er al t ri an gl e i ne qu al it y i s s at is fi ed w he n e ac h s id e i s m ea su re d b y t he s tr ai gh t-l in e
(c id:2) (c id:2)
"d is ta nc e a nd t ha t t he s tr ai gh t-l in e d is ta nc e b et we en n a nd n i s n o g re at er t ha n c(n ,a ,n)."
"He nc e ,h i sa co ns is te nt h eu ri st ic ."
SLD
Op ti ma li ty of A*
∗ ∗
"As w e m en ti on ed e ar li er , A h as t he f ol lo wi ng p ro pe rt ie s: t he t re e-s ea rc h v er si on o f A i s"
"o pt im al if h(n)i sa dm is si bl e , w hi le th eg ra ph-s ea rc h v er si on is op ti ma li fh(n)i sc on si st en t ."
We s ho w t he s ec on d o f t he se t wo c la im s s in ce i t i s m or e u se fu l . Th e a rg um en t e s-
"s en ti al ly m ir ro rs t he a rg um en t f or t he o pt im al it y o f u ni fo rm-c os t s ea rc h , w it h g r ep la ce d b y"
∗
f—j us ta si nt he A a lg or it hm i ts el f .
"Th e f ir st s te p i s t o e st ab li sh t he f ol lo wi ng: i f h(n) i s c on si st en t , t he n t he v al ue s o f"
f(n) a lo ng a ny p at h a re n on de cr ea si ng . Th e p ro of f ol lo ws d ir ec tl y f ro m t he d ef in it io n o f
(c id:2) (c id:2) (c id:2)
"c on si st en cy . Su pp os e n i sa su cc es so r o f n ; t he n g(n)=g(n)+c(n ,a ,n)f or so me a ct io n"
"a ,a nd we ha ve"
"f(n(c id:2) )= g(n(c id:2) )+h(n(c id:2) ) = g(n)+c(n ,a ,n(c id:2) )+h(n(c id:2) )≥ g(n)+h(n) = f(n)."
∗
"Th e n ex t s te p i s t o p ro ve t ha t w he ne ve r A s el ec ts a n od e n f or e xp an si on , t he o pt im al p at h"
"t o t ha t n od e h as b ee n f ou nd . We re t hi s n ot t he c as e , t he re w ou ld h av e t o b e a no th er f ro nt ie r"
(c id:2)
"n od e n o n t he o pt im al p at h f ro m t he s ta rt n od e t o n , b y t he g ra ph s ep ar at io n p ro pe rt y o f"
"9 Wi th an ad mi ss ib le bu ti nc on si st en th eu ri st ic ,A∗r eq ui re ss om ee xt ra bo ok ke ep in gt oe ns ur eo pt im al it y ."
96 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
(a) Th e i ni ti al s ta te
Ar ad
366=0+366
(b) Af te r e xp an di ng Ar ad
Ar ad
Si bi u Ti mi so ar a Ze ri nd
393=140+253 447=118+329 449=75+374
(c) Af te r e xp an di ng Si bi u
Ar ad
Si bi u Ti mi so ar a Ze ri nd
447=118+329 449=75+374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646=280+366 415=239+176671=291+380 413=220+193
(d) Af te r e xp an di ng Ri mn ic u Vi lc ea
Ar ad
Si bi u Ti mi so ar a Ze ri nd
447=118+329 449=75+374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646=280+366 415=239+176671=291+380
Cr ai ov a Pi te st i Si bi u
526=366+160417=317+100 553=300+253
(e) Af te r e xp an di ng Fa ga ra s
Ar ad
Si bi u Ti mi so ar a Ze ri nd
447=118+329 449=75+374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646=280+366 671=291+380
Si bi u Bu ch ar es t Cr ai ov a Pi te st i Si bi u
591=338+253 450=450+0 526=366+160 417=317+100 553=300+253
(f) Af te r e xp an di ng Pi te st i
Ar ad
Si bi u Ti mi so ar a Ze ri nd
447=118+329 449=75+374
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646=280+366 671=291+380
Si bi u Bu ch ar es t Cr ai ov a Pi te st i Si bi u
591=338+253 450=450+0 526=366+160 553=300+253
Bu ch ar es t Cr ai ov a Ri mn ic u Vi lc ea
418=418+0 615=455+160 607=414+193
Fi gu re 3.24 St ag es in an A∗s ea rc hf or Bu ch ar es t .No de sa re la be le dw it hf =g+h . Th e
h va lu es ar et he st ra ig ht-l in ed is ta nc es to Bu ch ar es tt ak en fr om Fi gu re 3.22.
Se ct io n 3.5. In fo rm ed(He ur is ti c)Se ar ch St ra te gi es 97
O
N
Z
A I
380 S
F
V
400
T R
P
L
H
M U
B
420
D
E
C
G
"Fi gu re 3.25 Ma po f Ro ma ni as ho wi ng co nt ou rs at f =380,f =400,a nd f =420,w it h"
Ar ad as t he s ta rt s ta te . No de si ns id e a g iv en co nt ou rh av e f-c os ts le ss t ha n o re qu al to t he
c on to ur va lu e .
(c id:2)
"Fi gu re 3.9; b ec au se f i s n on de cr ea si ng a lo ng a ny p at h , n w ou ld h av e l ow er f-c os t t ha n n"
a nd wo ul dh av eb ee ns el ec te df ir st .
"Fr om t he t wo p re ce di ng o bs er va ti on s , i t f ol lo ws t ha t t he s eq ue nc e o f n od es e xp an de d"
∗
"b y A u si ng GRAPH-SEARCH i s i n n on de cr ea si ng o rd er o f f(n). He nc e , t he f ir st g oa l n od e"
s el ec te d f or ex pa ns io n m us t b e a n o pt im al s ol ut io n b ec au se f i s t he t ru e c os t f or go al n od es
(w hi ch ha ve h=0)a nd al ll at er go al no de sw il lb ea tl ea st as ex pe ns iv e .
Th e f ac t t ha t f-c os ts a re n on de cr ea si ng a lo ng a ny p at h a ls o m ea ns t ha t w e c an d ra w
"c on to ur s i n t he s ta te s pa ce , j us t l ik e t he c on to ur s i n a t op og ra ph ic m ap . Fi gu re 3.25 s ho ws"
CONTOUR
"a n e xa mp le . In si de t he c on to ur l ab el ed 400, a ll n od es h av e f(n) l es s t ha n o r e qu al t o 400,"
∗
"a nd s o o n . Th en , b ec au se A e xp an ds t he f ro nt ie r n od e o f l ow es t f-c os t , w e c an s ee t ha t a n"
∗
"A s ea rc hf an so ut fr om th es ta rt no de ,a dd in gn od es in co nc en tr ic ba nd so fi nc re as in gf-c os t ."
∗
"Wi th u ni fo rm-c os t s ea rc h (A s ea rc h u si ng h(n) = 0), t he b an ds w il l b e “c ir cu la r”"
"a ro un d t he s ta rt s ta te . Wi th m or e a cc ur at e h eu ri st ic s , t he b an ds w il l s tr et ch t ow ar d t he g oa l"
∗
s ta te a nd b ec om e m or e n ar ro wl y f oc us ed a ro un d t he o pt im al p at h . If C i s t he c os t o f t he
"o pt im al so lu ti on pa th ,t he nw ec an sa yt he fo ll ow in g:"
• A∗ e xp an ds al ln od es wi th f(n)< C∗ .
• A∗ m ig ht th en ex pa nd so me of th en od es ri gh to nt he“g oa lc on to ur”(w he re f(n)= C∗ )
b ef or es el ec ti ng a go al no de .
Co mp le te ne ss r eq ui re s t ha t t he re b e o nl y f in it el y m an y n od es w it h c os t l es s t ha n o re qu al t o
∗
"C ,a co nd it io n t ha ti st ru ei fa ll st ep co st se xc ee ds om ef in it e(c id:2)a nd if bi sf in it e ."
∗ ∗
"No ti ce t ha t A e xp an ds n o n od es w it h f(n) > C —f or e xa mp le , Ti mi so ar a i s n ot"
e xp an de d i n Fi gu re 3.24 e ve n t ho ug h i t i s a c hi ld o f t he r oo t . We sa y t ha t t he s ub tr ee b el ow
98 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"Ti mi so ar ai sp ru ne d ;b ec au se h i sa dm is si bl e ,t he al go ri th mc an sa fe ly ig no re th is su bt re e"
PRUNING SLD
w hi le s ti ll g ua ra nt ee in g o pt im al it y . Th e c on ce pt o f p ru ni ng—e li mi na ti ng p os si bi li ti es f ro m
c on si de ra ti on w it ho ut ha vi ng to ex am in et he m—i si mp or ta nt f or ma ny ar ea so f AI .
On e f in al o bs er va ti on i s t ha t a mo ng o pt im al a lg or it hm s o f t hi s t yp e—a lg or it hm s t ha t
∗
e xt en d s ea rc h p at hs f ro m t he r oo t a nd u se t he s am e h eu ri st ic i nf or ma ti on—A i s o pt im al ly
"OPTIMALLY e ff ic ie nt f or a ny g iv en c on si st en t h eu ri st ic . Th at i s , n o o th er o pt im al a lg or it hm i s g ua ra n-"
EFFICIENT
∗
t ee dt oe xp an d f ew er no de s t ha n A (e xc ep t p os si bl y t hr ou gh t ie-b re ak in g a mo ng no de sw it h
∗ ∗
f(n)=C ). Th is i s b ec au se a ny a lg or it hm t ha t d oe s n ot e xp an d a ll n od es w it h f(n) < C
r un st he ri sk of mi ss in gt he op ti ma ls ol ut io n .
∗
"Th at A s ea rc h i sc om pl et e , o pt im al , a nd op ti ma ll y e ff ic ie nt am on ga ll su ch al go ri th ms"
∗
"i sr at he rs at is fy in g . Un fo rt un at el y , i td oe sn ot me an th at A i st he an sw er to al lo ur se ar ch in g"
"n ee ds . Th e c at ch i s t ha t , f or m os t p ro bl em s , t he n um be r o f s ta te s w it hi n t he g oa l c on to ur"
s ea rc h s pa ce i s s ti ll e xp on en ti al i n t he l en gt h o f t he s ol ut io n . Th e d et ai ls o f t he a na ly si s a re
"b ey on dt he sc op eo ft hi sb oo k ,b ut th eb as ic re su lt sa re as fo ll ow s . Fo rp ro bl em sw it hc on st an t"
"s te pc os ts , t he gr ow th in ru nt im ea sa fu nc ti on o ft he op ti ma l s ol ut io n d ep th di sa na ly ze d i n"
t er ms o f t he t he a bs ol ut e e rr or o r t he r el at iv e e rr or o f t he h eu ri st ic . Th e a bs ol ut e e rr or i s
ABSOLUTEERROR
"d ef in ed a s Δ ≡ h∗ −h , w he re h∗ i s t he a ct ua l c os t o f g et ti ng f ro m t he r oo t t o t he g oa l , a nd"
RELATIVEERROR
t he re la ti ve er ro ri sd ef in ed as (c id:2) ≡ (h∗ −h)/h∗ .
Th e c om pl ex it y r es ul ts d ep en d v er y s tr on gl y o n t he a ss um pt io ns m ad e a bo ut t he s ta te
s pa ce . Th e s im pl es t m od el s tu di ed i s a s ta te s pa ce t ha t h as a s in gl e g oa l a nd i s e ss en ti al ly a
t re e w it h r ev er si bl e a ct io ns . (Th e 8-p uz zl e s at is fi es t he f ir st a nd t hi rd o f t he se a ss um pt io ns .)
∗
"In th is ca se , t he ti me co mp le xi ty o f A i se xp on en ti al i nt he ma xi mu m a bs ol ut e e rr or , t ha t i s ,"
"O(bΔ). Fo r c on st an t s te p c os ts , w e c an w ri te t hi s a s O(b(c id:2)d), w he re d i s t he s ol ut io n d ep th ."
"Fo ra lm os ta ll he ur is ti cs i np ra ct ic al us e ,t he ab so lu te er ro ri sa tl ea st pr op or ti on al t ot he pa th"
∗
"c os t h , s o (c id:2) i s c on st an t o r g ro wi ng a nd t he t im e c om pl ex it y i s e xp on en ti al i n d . We c an"
"a ls os ee th ee ff ec to fa mo re ac cu ra te he ur is ti c: O(b(c id:2)d)=O((b(c id:2))d),s ot he ef fe ct iv eb ra nc hi ng"
f ac to r(d ef in ed mo re fo rm al ly in th en ex ts ec ti on) i s b(c id:2).
Wh en th es ta te s pa ce ha sm an yg oa ls ta te s—p ar ti cu la rl y n ea r-o pt im al g oa ls ta te s—t he
s ea rc hp ro ce ss ca nb el ed as tr ay fr om th eo pt im al pa th an dt he re is an ex tr ac os tp ro po rt io na l
"t o t he n um be r o f g oa ls w ho se c os t i s w it hi n a f ac to r (c id:2) o f t he o pt im al c os t . Fi na ll y , i n t he"
"g en er al c as e o fa g ra ph , t he s it ua ti on i s e ve n w or se . Th er e c an b e e xp on en ti al ly m an y s ta te s"
∗
"w it h f(n) < C e ve n i f t he a bs ol ut e e rr or i s b ou nd ed b y a c on st an t . Fo re xa mp le , c on si de r"
a ve rs io no ft he va cu um w or ld wh er et he ag en tc an cl ea n u pa ny sq ua re f or un it co st wi th ou t
"e ve nh av in gt ov is it it: i nt ha tc as e ,s qu ar es ca nb ec le an ed in an yo rd er . Wi th N i ni ti al ly di rt y"
"s qu ar es , t he re a re 2 N s ta te s w he re s om e s ub se t h as b ee n c le an ed a nd a ll o f t he m a re o n a n"
∗
o pt im al so lu ti on pa th—a nd he nc es at is fy f(n)< C —e ve ni ft he he ur is ti ch as an er ro ro f 1.
∗
Th ec om pl ex it yo f A o ft en ma ke si ti mp ra ct ic al to in si st on fi nd in ga no pt im al so lu ti on .
∗
"On e c an u se v ar ia nt s o f A t ha t f in d s ub op ti ma l s ol ut io ns q ui ck ly , o r o ne c an s om et im es"
"d es ig n h eu ri st ic s t ha t a re m or e a cc ur at e b ut n ot s tr ic tl y a dm is si bl e . In a ny c as e , t he u se o f a"
g oo dh eu ri st ic s ti ll pr ov id es en or mo us sa vi ng sc om pa re dt o t he us eo fa nu ni nf or me d s ea rc h .
"In Se ct io n 3.6,w el oo ka tt he qu es ti on o fd es ig ni ng g oo dh eu ri st ic s ."
∗
"Co mp ut at io n t im ei sn ot , h ow ev er ,A ’s ma in dr aw ba ck . Be ca us ei tk ee ps al lg en er at ed"
∗
"n od es i nm em or y (a sd o a ll GRAPH-SEARCH a lg or it hm s), A u su al ly r un s o ut of s pa ce l on g"
Se ct io n 3.5. In fo rm ed(He ur is ti c)Se ar ch St ra te gi es 99
"f un ct io n RECURSIVE-BEST-FIRST-SEARCH(p ro bl em)r et ur ns as ol ut io n ,o rf ai lu re"
"r et ur n RBFS(p ro bl em ,MAKE-NODE(p ro bl em .INITIAL-STATE),∞)"
"f un ct io n RBFS(p ro bl em ,n od e ,f l im it)r et ur ns as ol ut io n ,o rf ai lu re an da ne wf-c os tl im it"
i fp ro bl em .GOAL-TEST(n od e .STATE)t he nr et ur n SOLUTION(n od e)
s uc ce ss or s←[]
f or ea ch ac ti on i np ro bl em .ACTIONS(n od e .STATE)d o
"a dd CHILD-NODE(p ro bl em ,n od e ,a ct io n) i nt os uc ce ss or s"
"i fs uc ce ss or s i se mp ty th en re tu rn fa il ur e ,∞"
"f or ea ch s i ns uc ce ss or s d o /*u pd at ef w it hv al ue fr om pr ev io us se ar ch ,i fa ny*/"
"s .f ←m ax(s .g + s .h , n od e .f))"
l oo pd o
b es t←t he lo we st f-v al ue no de in su cc es so rs
"i fb es t .f > f l im it t he nr et ur nf ai lu re ,b es t .f"
a lt er na ti ve←t he se co nd-l ow es tf-v al ue am on gs uc ce ss or s
"r es ul t ,b es t .f←RBFS(p ro bl em ,b es t ,m in(f l im it ,a lt er na ti ve))"
i fr es ul t (c id:7)=f ai lu re t he nr et ur nr es ul t
Fi gu re 3.26 Th ea lg or it hm fo rr ec ur si ve be st-f ir st se ar ch .
∗
"b ef or e i t r un s o ut o f t im e . Fo r t hi s r ea so n , A i s n ot p ra ct ic al f or m an y l ar ge-s ca le p ro b-"
"l em s . Th er e a re , h ow ev er , a lg or it hm s t ha t o ve rc om e t he s pa ce p ro bl em w it ho ut s ac ri fi ci ng"
"o pt im al it y o rc om pl et en es s , a ta sm al lc os ti ne xe cu ti on t im e . We di sc us st he se ne xt ."
3.5.3 Me mo ry-b ou nd ed h eu ri st ic s ea rc h
∗
Th e s im pl es t w ay t o r ed uc e m em or y r eq ui re me nt s f or A i s t o a da pt t he i de a o f i te ra ti ve
ITERATIVE- ∗ ∗
"D∗EEPENING d ee pe ni ng t o t he h eu ri st ic s ea rc h c on te xt , r es ul ti ng i n t he i te ra ti ve-d ee pe ni ng A (IDA)a l-"
A g or it hm . Th em ai nd if fe re nc eb et we en IDA∗ a nd st an da rd it er at iv ed ee pe ni ng is th at th ec ut of f
"u se di st he f-c os t(g+h)r at he rt ha nt he de pt h ;a te ac hi te ra ti on ,t he cu to ff va lu ei st he sm al l-"
∗
e st f-c os t o f a ny n od e t ha t e xc ee de d t he c ut of f o n t he p re vi ou s i te ra ti on . IDA i s p ra ct ic al
f or m an y p ro bl em s w it h u ni t s te p c os ts a nd a vo id s t he s ub st an ti al o ve rh ea d a ss oc ia te d w it h
"k ee pi ng as or te dq ue ue of no de s . Un fo rt un at el y ,i ts uf fe rs fr om th es am ed if fi cu lt ie sw it hr ea l-"
v al ue d c os ts a s d oe s t he i te ra ti ve v er si on o f u ni fo rm-c os t s ea rc h d es cr ib ed i n Ex er ci se 3.17.
∗
"Th is se ct io nb ri ef ly ex am in es tw oo th er me mo ry-b ou nd ed al go ri th ms ,c al le d RBFSa nd MA ."
RECURSIVE Re cu rs iv e b es t-f ir st s ea rc h (RBFS) i s a s im pl e r ec ur si ve a lg or it hm t ha t a tt em pt s t o
BEST-FIRSTSEARCH
"m im ic th eo pe ra ti on o fs ta nd ar d b es t-f ir st s ea rc h , b ut u si ng o nl y l in ea rs pa ce . Th ea lg or it hm"
"i s s ho wn i n Fi gu re 3.26. It s s tr uc tu re i s s im il ar t o t ha t o f a r ec ur si ve d ep th-f ir st s ea rc h , b ut"
"r at he rt ha n c on ti nu in g i nd ef in it el y d ow nt he cu rr en t p at h , i tu se s t he f l im it v ar ia bl e t ok ee p"
t ra ck o f t he f-v al ue o f t he b es t a lt er na ti ve p at h a va il ab le f ro m a ny a nc es to r o f t he c ur re nt
"n od e . If t he c ur re nt n od e e xc ee ds t hi s l im it , t he r ec ur si on u nw in ds b ac k t o t he a lt er na ti ve"
"p at h . As t he r ec ur si on u nw in ds , RBFS r ep la ce s t he f-v al ue o f e ac h n od e a lo ng t he p at h"
"w it ha ba ck ed-u pv al ue—t he be st f-v al ue of it sc hi ld re n . In th is wa y ,RBFSr em em be rs th e"
BACKED-UPVALUE
f-v al ue o f t he b es t l ea f i n t he f or go tt en s ub tr ee a nd c an t he re fo re d ec id e w he th er i t’s w or th
100 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"(a) Af te r e xp an di ng Ar ad , Si bi u , ∞"
a nd Ri mn ic u Vi lc ea Ar ad 366
447
Si bi u Ti mi so ar a Ze ri nd
393
447 449
415
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
413
646 415 671
Cr ai ov a Pi te st i Si bi u
526 417 553
(b) Af te r u nw in di ng b ac k t o Si bi u ∞
a nd e xp an di ng Fa ga ra s Ar ad
366
447
Si bi u Ti mi so ar a Ze ri nd
393 447 449
417
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646 415 671 413 417
Si bi u Bu ch ar es t
591 450
(c) Af te r s wi tc hi ng b ac k t o Ri mn ic u Vi lc ea ∞
a nd e xp an di ng Pi te st i Ar ad
366
447
Si bi u Ti mi so ar a Ze ri nd
393 447 449
447
Ar ad Fa ga ra s Or ad ea Ri mn ic u Vi lc ea
646 415 450 671 417
447
Cr ai ov a Pi te st i Si bi u
526 417 553
Bu ch ar es t Cr ai ov a Ri mn ic u Vi lc ea
418 615 607
Fi gu re 3.27 St ag es i n a n RBFS s ea rc h f or t he s ho rt es t r ou te t o Bu ch ar es t . Th e f-l im it
"v al ue fo re ac hr ec ur si ve ca ll is sh ow no nt op of ea ch cu rr en tn od e ,a nd ev er yn od ei sl ab el ed"
w it hi ts f-c os t .(a)Th ep at hv ia Ri mn ic u Vi lc ea is fo ll ow ed un ti lt he cu rr en tb es tl ea f(Pi te st i)
h as av al ue th at is wo rs et ha nt he be st al te rn at iv ep at h(Fa ga ra s). (b)Th er ec ur si on un wi nd s
a nd th e b es tl ea f v al ue o f t he f or go tt en su bt re e(417)i s b ac ke du p t o Ri mn ic u Vi lc ea ; t he n
"Fa ga ra si s e xp an de d ,r ev ea li ng a b es tl ea fv al ue of 450. (c) Th er ec ur si on un wi nd sa nd th e"
b es tl ea fv al ue of th ef or go tt en su bt re e(450)i sb ac ke du pt o Fa ga ra s ;t he n Ri mn ic u Vi lc ea is
"e xp an de d .Th is ti me ,b ec au se th eb es ta lt er na ti ve pa th(t hr ou gh Ti mi so ar a)c os ts at le as t 447,"
t he ex pa ns io nc on ti nu es to Bu ch ar es t .
r ee xp an di ng th es ub tr ee at so me la te rt im e . Fi gu re 3.27 s ho ws ho w RBFSr ea ch es Bu ch ar es t .
∗
"RBFS i s s om ew ha t m or e e ff ic ie nt t ha n IDA , b ut s ti ll s uf fe rs f ro m e xc es si ve n od e r e-"
"g en er at io n . In t he e xa mp le i n Fi gu re 3.27, RBFS f ol lo ws t he p at h v ia Ri mn ic u Vi lc ea , t he n"
Se ct io n 3.5. In fo rm ed(He ur is ti c)Se ar ch St ra te gi es 101
"“c ha ng es i ts m in d” a nd t ri es Fa ga ra s , a nd t he n c ha ng es i ts m in d b ac k a ga in . Th es e m in d"
"c ha ng es o cc ur b ec au se e ve ry t im e t he c ur re nt b es t p at h i s e xt en de d , i ts f-v al ue i s l ik el y t o"
"i nc re as e—h i s u su al ly l es s o pt im is ti c f or n od es c lo se r t o t he g oa l . Wh en t hi s h ap pe ns , t he"
"s ec on d-b es t p at h m ig ht b ec om e t he b es t p at h , s o t he s ea rc h h as t o b ac kt ra ck t o f ol lo w i t ."
∗
Ea ch mi nd c ha ng e c or re sp on ds t o a ni te ra ti on o f IDA a nd c ou ld r eq ui re m an yr ee xp an si on s
o ff or go tt en n od es to re cr ea te th eb es tp at ha nd ex te nd it on e m or en od e .
∗
"Li ke A t re e s ea rc h , RBFS i s a n o pt im al a lg or it hm i f t he h eu ri st ic f un ct io n h(n) i s"
"a dm is si bl e . It s s pa ce c om pl ex it y i s l in ea r i n t he d ep th o f t he d ee pe st o pt im al s ol ut io n , b ut"
i ts t im e c om pl ex it y i s r at he r d if fi cu lt t o c ha ra ct er iz e: i t d ep en ds b ot h o n t he a cc ur ac y o f t he
h eu ri st ic f un ct io n a nd on ho wo ft en th eb es tp at hc ha ng es a sn od es ar ee xp an de d .
∗ ∗
"IDA a nd RBFS s uf fe r f ro m u si ng t oo l it tl e m em or y . Be tw ee n i te ra ti on s , IDA r et ai ns"
"o nl y a s in gl e n um be r: t he c ur re nt f-c os t l im it . RBFS r et ai ns m or e i nf or ma ti on i n m em or y ,"
"b ut it us es on ly li ne ar sp ac e: e ve ni fm or em em or yw er ea va il ab le ,RBFSh as no wa yt om ak e"
"u se of it . Be ca us et he yf or ge tm os to fw ha tt he yh av ed on e ,b ot ha lg or it hm sm ay en du pr ee x-"
"p an di ng th es am es ta te sm an yt im es ov er . Fu rt he rm or e ,t he ys uf fe rt he po te nt ia ll ye xp on en ti al"
i nc re as e i nc om pl ex it ya ss oc ia te d w it hr ed un da nt p at hs in gr ap hs(s ee Se ct io n 3.3).
"It s ee ms s en si bl e , t he re fo re , t o u se a ll a va il ab le m em or y . Tw o a lg or it hm s t ha t d o t hi s"
∗ ∗ ∗ ∗ ∗
"a re MA (m em or y-b ou nd ed A ) a nd SMA (s im pl if ie d MA). SMA i s—w el l—s im pl er , s o"
MA*
∗ ∗
"w ew il ld es cr ib ei t . SMA p ro ce ed sj us tl ik e A ,e xp an di ng t he be st le af un ti lm em or yi sf ul l ."
SMA*
∗
"At th is po in t ,i tc an no ta dd an ew no de to th es ea rc ht re ew it ho ut dr op pi ng a no ld on e . SMA"
∗
"a lw ay s d ro ps t he w or st l ea f n od e—t he o ne w it h t he h ig he st f-v al ue . Li ke RBFS , SMA"
"t he n b ac ks u p t he v al ue o f t he f or go tt en n od e t o i ts p ar en t . In t hi s w ay , t he a nc es to r o f a"
"f or go tt en s ub tr ee k no ws t he q ua li ty o f t he b es t p at h i n t ha t s ub tr ee . Wi th t hi s i nf or ma ti on ,"
∗
SMA r eg en er at es t he su bt re e o nl yw he na ll ot he rp at hs h av eb ee ns ho wn to lo ok wo rs et ha n
"t he pa th it ha sf or go tt en . An ot he rw ay of sa yi ng th is is th at , i fa ll th ed es ce nd an ts o fa no de n"
"a re f or go tt en , t he n w e w il l n ot k no w w hi ch w ay t o g o f ro m n , b ut w e w il l s ti ll h av e a n i de a"
o fh ow wo rt hw hi le it is to go an yw he re fr om n .
"Th ec om pl et ea lg or it hm is to oc om pl ic at ed to re pr od uc eh er e ,10 b ut th er ei so ne su bt le ty"
∗
w or th me nt io ni ng . We sa id th at SMA e xp an ds t he be st le af an dd el et es th ew or st le af . Wh at
i f a ll t he l ea f n od es h av e t he s am e f-v al ue ? To a vo id s el ec ti ng t he s am e n od e f or d el et io n
∗
"a nd e xp an si on , SMA e xp an ds t he n ew es t b es t l ea f a nd d el et es t he o ld es t w or st l ea f . Th es e"
"c oi nc id e w he nt he re is on ly on el ea f ,b ut in th at ca se ,t he cu rr en ts ea rc ht re em us tb ea si ng le"
"p at hf ro mr oo tt ol ea ft ha tf il ls al lo fm em or y . If th el ea fi sn ot ag oa ln od e ,t he ne ve ni fi ti so n"
"a no pt im al so lu ti on pa th ,t ha ts ol ut io ni sn ot re ac ha bl ew it ht he av ai la bl em em or y . Th er ef or e ,"
t he no de ca nb ed is ca rd ed e xa ct ly as if it ha dn os uc ce ss or s .
∗
"SMA i s c om pl et e i f t he re i s a ny r ea ch ab le s ol ut io n—t ha t i s , i f d , t he d ep th o f t he"
"s ha ll ow es t g oa l n od e , i s l es s t ha n t he m em or y s iz e (e xp re ss ed i n n od es). It i s o pt im al i f a ny"
"o pt im al s ol ut io n i s r ea ch ab le ; o th er wi se , i t r et ur ns t he b es t r ea ch ab le s ol ut io n . In p ra ct ic al"
∗
"t er ms ,SMA i sa fa ir ly ro bu st ch oi ce fo rf in di ng op ti ma ls ol ut io ns ,p ar ti cu la rl yw he nt he st at e"
"s pa ce i s a g ra ph , s te p c os ts a re n ot u ni fo rm , a nd n od e g en er at io n i s e xp en si ve c om pa re d t o"
t he ov er he ad of ma in ta in in g t he fr on ti er an dt he ex pl or ed se t .
10 Ar ou gh sk et ch ap pe ar ed in th ef ir st ed it io no ft hi sb oo k .
102 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
∗
"On ve ry ha rd pr ob le ms ,h ow ev er ,i tw il lo ft en be th ec as et ha t SMA i sf or ce dt os wi tc h"
"b ac ka nd fo rt hc on ti nu al ly am on gm an yc an di da te so lu ti on pa th s ,o nl ya sm al ls ub se to fw hi ch"
c an fi ti nm em or y . (Th is re se mb le s t he p ro bl em o f t hr as hi ng in di sk p ag in g s ys te ms .) Th en
THRASHING
t he e xt ra t im e r eq ui re d f or r ep ea te d r eg en er at io n o f t he s am e n od es m ea ns t ha t p ro bl em s
∗
"t ha t w ou ld b e p ra ct ic al ly s ol va bl e b y A , g iv en u nl im it ed m em or y , b ec om e i nt ra ct ab le f or"
∗
"SMA . Th at i s t o s ay , m em or y l im it at io ns c an m ak e a p ro bl em i nt ra ct ab le f ro m t he p oi nt"
o f v ie w o f c om pu ta ti on t im e . Al th ou gh n o c ur re nt t he or y e xp la in s t he t ra de of f b et we en t im e
"a nd m em or y , i t s ee ms t ha t t hi s i s a n i ne sc ap ab le p ro bl em . Th e o nl y w ay o ut i s t o d ro p t he"
o pt im al it y r eq ui re me nt .
3.5.4 Le ar ni ng t o s ea rc h b et te r
"We h av e p re se nt ed s ev er al f ix ed s tr at eg ie s—b re ad th-f ir st , g re ed y b es t-f ir st , a nd s o o n—t ha t"
h av e b ee n d es ig ne d b y c om pu te r s ci en ti st s . Co ul d a na ge nt l ea rn h ow t o s ea rc h b et te r ? Th e
"METALEVELSTATE a ns we ri sy es ,a nd th em et ho dr es ts on an im po rt an tc on ce pt ca ll ed th em et al ev el st at es pa ce ."
SPACE
Ea ch st at ei na me ta le ve ls ta te sp ac ec ap tu re s t he in te rn al (c om pu ta ti on al) s ta te of ap ro gr am
"OBJECT-LEVELSTATE t ha t i s s ea rc hi ng i n a n o bj ec t-l ev el s ta te s pa ce s uc h a s Ro ma ni a . Fo r e xa mp le , t he i nt er na l"
SPACE
∗
s ta te of th e A a lg or it hm co ns is ts of th ec ur re nt se ar ch tr ee . Ea ch ac ti on in th em et al ev el st at e
"s pa ce i s a co mp ut at io n s te p t ha t a lt er s t he i nt er na l s ta te ; f or ex am pl e , e ac h c om pu ta ti on s te p"
∗
"i n A e xp an ds al ea fn od ea nd ad ds it ss uc ce ss or s t ot he tr ee . Th us ,Fi gu re 3.24,w hi ch sh ow s"
"a se qu en ce o f l ar ge r a nd l ar ge r s ea rc h t re es , c an b es ee n a sd ep ic ti ng a pa th i nt he m et al ev el"
s ta te sp ac ew he re ea ch st at eo nt he pa th is an ob je ct-l ev el s ea rc ht re e .
"No w ,t he pa th in Fi gu re 3.24 h as fi ve st ep s ,i nc lu di ng on es te p ,t he ex pa ns io no f Fa ga ra s ,"
"t ha t i s n ot e sp ec ia ll y h el pf ul . Fo rh ar de r p ro bl em s , t he re w il l b e m an y s uc h m is st ep s , a nd a"
METALEVEL m et al ev el le ar ni ng al go ri th mc an le ar nf ro mt he se ex pe ri en ce st oa vo id ex pl or in gu np ro mi s-
LEARNING
i ng s ub tr ee s . Th et ec hn iq ue s u se d f or th is k in d o f l ea rn in g a re d es cr ib ed i n Ch ap te r 21. Th e
"g oa l o f l ea rn in g i s t o m in im iz e t he t ot al c os t o f p ro bl em s ol vi ng , t ra di ng o ff c om pu ta ti on al"
e xp en se an dp at hc os t .
3.6 HEURISTIC FUNCTIONS
"In t hi s s ec ti on , w e l oo k a t h eu ri st ic s f or t he 8-p uz zl e , i n o rd er t o s he d l ig ht o n t he n at ur e o f"
h eu ri st ic s i ng en er al .
Th e 8-p uz zl e w as o ne o f t he e ar li es t h eu ri st ic s ea rc h p ro bl em s . As m en ti on ed i n Se c-
"t io n 3.2, t he o bj ec t o f t he p uz zl e i s t os li de t he t il es h or iz on ta ll y o rv er ti ca ll y i nt o t he e mp ty"
s pa ce un ti lt he co nf ig ur at io n m at ch es th eg oa lc on fi gu ra ti on (Fi gu re 3.28).
Th ea ve ra ge so lu ti on co st fo ra ra nd om ly ge ne ra te d 8-p uz zl e i ns ta nc ei sa bo ut 22 s te ps .
"Th e b ra nc hi ng f ac to r i s a bo ut 3. (Wh en t he e mp ty t il e i s i n t he m id dl e , f ou r m ov es a re"
"p os si bl e ; w he n i t i s i n a c or ne r , t wo ; a nd w he n i t i s a lo ng a n e dg e , t hr ee .) Th is m ea ns"
t ha t a n e xh au st iv e t re e s ea rc h t o d ep th 22 w ou ld l oo k a t a bo ut 322 ≈ 3.1×1010 s ta te s .
"A g ra ph s ea rc h w ou ld c ut t hi s d ow n b y a f ac to r o f a bo ut 170,000 b ec au se o nl y 9!/2 ="
"181,440 d is ti nc t s ta te s a re r ea ch ab le . (Se e Ex er ci se 3.4.) Th is i s a m an ag ea bl e n um be r , b ut"
Se ct io n 3.6. He ur is ti c Fu nc ti on s 103
7 2 4 1 2
5 6 3 4 5
8 3 1 6 7 8
St ar t St at e Go al St at e
Fi gu re 3.28 At yp ic al in st an ce of th e 8-p uz zl e .Th es ol ut io ni s 26 s te ps lo ng .
"t he c or re sp on di ng n um be rf or th e 15-p uz zl e i sr ou gh ly 1013,s o t he ne xt o rd er of b us in es s i s"
∗
"t o f in d a g oo d h eu ri st ic f un ct io n . If w e w an t t o f in d t he s ho rt es t s ol ut io ns b y u si ng A , w e"
n ee da he ur is ti c f un ct io n t ha tn ev er ov er es ti ma te s t he nu mb er of st ep st ot he go al . Th er ei sa
l on gh is to ry o fs uc hh eu ri st ic s f or th e 15-p uz zl e ; h er ea re tw oc om mo nl yu se dc an di da te s:
"• h = t he n um be r o f m is pl ac ed t il es . Fo r Fi gu re 3.28, a ll o f t he e ig ht t il es a re o ut o f"
1
"p os it io n , s o t he s ta rt s ta te w ou ld h av e h = 8. h i s a n a dm is si bl e h eu ri st ic b ec au se i t"
1 1
i sc le ar th at an yt il et ha ti so ut of pl ac em us tb em ov ed at le as to nc e .
• h = t he s um o f t he d is ta nc es o f t he t il es f ro m t he ir g oa l p os it io ns . Be ca us e t il es
2
"c an no t m ov e a lo ng d ia go na ls , t he d is ta nc e w e w il l c ou nt i s t he s um o f t he h or iz on ta l"
a nd ve rt ic al di st an ce s . Th is is so me ti me sc al le dt he ci ty bl oc kd is ta nc eo r Ma nh at ta n
MANHATTAN d is ta nc e . h i s a ls o a dm is si bl e b ec au se a ll a ny m ov e c an d o i s m ov e o ne t il e o ne s te p
DISTANCE 2
c lo se rt ot he go al . Ti le s 1 t o 8 i nt he st ar ts ta te gi ve a Ma nh at ta nd is ta nc e o f
h = 3+1+2+2+2+3+3+2 =18.
2
"As ex pe ct ed , n ei th er of th es eo ve re st im at es t he tr ue so lu ti on c os t ,w hi ch is 26."
3.6.1 Th e e ff ec t o fh eu ri st ic a cc ur ac y o np er fo rm an ce
∗
EFFECTIVE On ew ay to ch ar ac te ri ze t he qu al it yo fa he ur is ti ci st he e ff ec ti ve b ra nc hi ng fa ct or b . If th e
BRANCHINGFACTOR
∗
t ot al nu mb er of no de sg en er at ed by A f or ap ar ti cu la rp ro bl em is N a nd th es ol ut io nd ep th is
∗
"d , t he n b i s t he b ra nc hi ng f ac to r t ha t a u ni fo rm t re e o f d ep th d w ou ld h av e t o h av e i n o rd er"
"t oc on ta in N +1 n od es . Th us ,"
N +1 = 1+b∗ +(b∗ )2+···+(b∗ )d .
∗
"Fo r e xa mp le , i f A f in ds a s ol ut io n a t d ep th 5 u si ng 52 n od es , t he n t he e ff ec ti ve b ra nc hi ng"
"f ac to r i s 1.92. Th ee ff ec ti ve b ra nc hi ng f ac to r c an v ar y a cr os s p ro bl em i ns ta nc es , b ut u su al ly"
i t i s f ai rl y c on st an t f or s uf fi ci en tl y h ar d p ro bl em s . (Th e e xi st en ce o f a n e ff ec ti ve b ra nc hi ng
∗
"f ac to r f ol lo ws f ro m t he r es ul t , m en ti on ed e ar li er , t ha t t he n um be r o f n od es e xp an de d b y A"
∗
"g ro ws e xp on en ti al ly w it hs ol ut io n d ep th .) Th er ef or e , e xp er im en ta l m ea su re me nt s o f b o n a"
s ma ll se to fp ro bl em s c an pr ov id e a go od g ui de t ot he h eu ri st ic’s o ve ra ll u se fu ln es s . Aw el l-
∗
"d es ig ne d h eu ri st ic w ou ld h av e a v al ue o f b c lo se t o 1, a ll ow in g f ai rl y l ar ge p ro bl em s t o b e"
s ol ve da tr ea so na bl e c om pu ta ti on al c os t .
104 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
"To t es t t he h eu ri st ic f un ct io ns h a nd h , w e g en er at ed 1200 r an do m p ro bl em s w it h"
1 2
s ol ut io n l en gt hs f ro m 2 t o 24 (100 f or e ac h e ve n n um be r) a nd s ol ve d t he m w it h i te ra ti ve
∗
d ee pe ni ng se ar ch an dw it h A t re es ea rc hu si ng bo th h a nd h . Fi gu re 3.29 g iv es th ea ve ra ge
1 2
n um be r o f n od es g en er at ed b y e ac h s tr at eg y a nd t he e ff ec ti ve b ra nc hi ng f ac to r . Th e r es ul ts
"s ug ge st th at h i sb et te rt ha nh ,a nd is fa rb et te rt ha nu si ng it er at iv ed ee pe ni ng s ea rc h . Ev en"
2 1
"f or s ma ll p ro bl em s w it h d=12, A∗ w it h h i s 50,000 t im es m or e e ff ic ie nt t ha n u ni nf or me d"
2
i te ra ti ve de ep en in g s ea rc h .
Se ar ch Co st(n od es g en er at ed) Ef fe ct iv e Br an ch in g Fa ct or
∗ ∗ ∗ ∗
d IDS A(h 1) A(h 2) IDS A(h 1) A(h 2)
2 10 6 6 2.45 1.79 1.79
4 112 13 12 2.87 1.48 1.45
6 680 20 18 2.73 1.34 1.30
8 6384 39 25 2.80 1.33 1.24
10 47127 93 39 2.79 1.38 1.22
12 3644035 227 73 2.78 1.42 1.24
14 – 539 113 – 1.44 1.23
16 – 1301 211 – 1.45 1.25
18 – 3056 363 – 1.46 1.26
20 – 7276 676 – 1.47 1.27
22 – 18094 1219 – 1.48 1.28
24 – 39135 1641 – 1.48 1.26
Fi gu re 3.29 Co mp ar is on o f t he s ea rc h c os ts a nd e ff ec ti ve b ra nc hi ng f ac to rs f or t he
"ITERATIVE-DEEPENING-SEARCH a nd A∗ a lg or it hm sw it h h 1, h 2. Da ta a re a ve ra ge do ve r"
100 i ns ta nc es of th e 8-p uz zl ef or ea ch of va ri ou ss ol ut io nl en gt hs d .
"On em ig ht as kw he th er h i sa lw ay sb et te rt ha nh . Th ea ns we ri s“Es se nt ia ll y , y es .” It"
2 1
"i se as yt os ee fr om th ed ef in it io ns o ft he tw oh eu ri st ic s t ha t , f or an yn od e n ,h (n) ≥ h (n)."
2 1
∗
We t hu s s ay t ha t h d om in at es h . Do mi na ti on t ra ns la te s d ir ec tl y i nt o e ff ic ie nc y: A u si ng
DOMINATION 2 1
∗
h w il l n ev er e xp an d m or e n od es t ha n A u si ng h (e xc ep t p os si bl y f or s om e n od es w it h
2 1
∗
f(n)=C ). Th e a rg um en t i s s im pl e . Re ca ll t he o bs er va ti on o n p ag e 97 t ha t e ve ry n od e
∗
w it h f(n) < C w il l s ur el y b e e xp an de d . Th is i s t he s am e a s s ay in g t ha t e ve ry n od e w it h
h(n) < C∗ −g(n) w il l s ur el y b e e xp an de d . Bu t b ec au se h i s a t l ea st a s b ig a s h f or a ll
2 1
∗
"n od es , e ve ry no de th at i ss ur el y e xp an de d b y A s ea rc h w it hh w il la ls os ur el y b ee xp an de d"
2
"w it h h , a nd h m ig ht c au se o th er n od es t o b e e xp an de d a s w el l . He nc e , i t i s g en er al ly"
1 1
"b et te r t o u se a h eu ri st ic f un ct io n w it h h ig he r v al ue s , p ro vi de d i t i s c on si st en t a nd t ha t t he"
c om pu ta ti on t im ef or th eh eu ri st ic i sn ot to ol on g .
3.6.2 Ge ne ra ti ng a dm is si bl eh eu ri st ic s f ro m r el ax ed p ro bl em s
We h av e s ee n t ha t b ot h h (m is pl ac ed t il es) a nd h (Ma nh at ta n d is ta nc e) a re f ai rl y g oo d
1 2
h eu ri st ic s f or th e 8-p uz zl e a nd t ha t h i sb et te r . Ho wm ig ht o ne h av e c om eu p w it h h ? Is it
2 2
p os si bl e f or ac om pu te rt oi nv en ts uc ha he ur is ti cm ec ha ni ca ll y ?
"h a nd h a re es ti ma te s o ft he re ma in in g p at hl en gt hf or th e 8-p uz zl e , b ut th ey ar ea ls o"
1 2
p er fe ct ly ac cu ra te p at hl en gt hs fo r s im pl if ie dv er si on so ft he pu zz le . If th er ul es of th ep uz zl e
Se ct io n 3.6. He ur is ti c Fu nc ti on s 105
"w er ec ha ng ed so th at at il ec ou ld mo ve an yw he re in st ea do fj us tt ot he ad ja ce nt em pt ys qu ar e ,"
"t he nh w ou ld gi ve th ee xa ct nu mb er of st ep si nt he sh or te st so lu ti on . Si mi la rl y ,i fa ti le co ul d"
1
"m ov eo ne sq ua re in an yd ir ec ti on ,e ve no nt oa no cc up ie ds qu ar e ,t he nh w ou ld gi ve th ee xa ct"
2
n um be r o f s te ps i n t he s ho rt es t s ol ut io n . A p ro bl em w it h f ew er re st ri ct io ns o n t he a ct io ns i s
c al le d a r el ax ed p ro bl em . Th e s ta te-s pa ce g ra ph o f t he r el ax ed p ro bl em i s a s up er gr ap h o f
RELAXEDPROBLEM
t he or ig in al st at es pa ce be ca us e t he re mo va lo fr es tr ic ti on s c re at es ad de de dg es in th eg ra ph .
"Be ca us e t he r el ax ed p ro bl em a dd s e dg es t o t he s ta te s pa ce , a ny op ti ma l s ol ut io n i n t he"
"o ri gi na l p ro bl em i s , b y d ef in it io n , a ls o a s ol ut io n i n t he r el ax ed p ro bl em ; b ut t he r el ax ed"
"p ro bl em m ay h av e b et te r s ol ut io ns i f t he a dd ed e dg es p ro vi de s ho rt c ut s . He nc e , t he c os t o f"
a no pt im al s ol ut io n t oa re la xe dp ro bl em i sa na dm is si bl e h eu ri st ic f or th eo ri gi na l p ro bl em .
"Fu rt he rm or e , b ec au se t he d er iv ed h eu ri st ic i s a n e xa ct c os t f or t he r el ax ed p ro bl em , i t m us t"
o be yt he tr ia ng le in eq ua li ty a nd is th er ef or e c on si st en t(s ee pa ge 95).
"If ap ro bl em d ef in it io n i sw ri tt en d ow n i na fo rm al l an gu ag e , i ti s p os si bl e t o c on st ru ct"
"r el ax ed pr ob le ms au to ma ti ca ll y .11 Fo re xa mp le ,i ft he 8-p uz zl e a ct io ns ar ed es cr ib ed a s"
At il ec an mo ve fr om sq ua re At os qu ar e Bi f
"Ai sh or iz on ta ll y o rv er ti ca ll y a dj ac en t t o B a nd Bi sb la nk ,"
w ec an ge ne ra te th re er el ax ed pr ob le ms by re mo vi ng on eo rb ot ho ft he co nd it io ns:
(a)At il ec an mo ve fr om sq ua re At os qu ar e Bi f Ai sa dj ac en tt o B .
(b)At il ec an mo ve fr om sq ua re At os qu ar e Bi f Bi sb la nk .
(c)At il ec an mo ve fr om sq ua re At os qu ar e B .
"Fr om (a), w e c an d er iv e h (Ma nh at ta n d is ta nc e). Th e r ea so ni ng i s t ha t h w ou ld b e t he"
2 2
p ro pe rs co re if we mo ve de ac ht il ei nt ur nt oi ts de st in at io n . Th eh eu ri st ic d er iv ed fr om(b)i s
"d is cu ss ed i n Ex er ci se 3.31. Fr om(c),w ec an de ri ve h (m is pl ac ed t il es)b ec au se i tw ou ld be"
1
t he pr op er sc or e i ft il es co ul dm ov et ot he ir in te nd ed d es ti na ti on i no ne st ep . No ti ce th at it is
c ru ci al th at th er el ax ed pr ob le ms ge ne ra te db yt hi st ec hn iq ue ca nb es ol ve de ss en ti al ly wi th ou t
"s ea rc h ,b ec au se th er el ax ed ru le sa ll ow th ep ro bl em to be de co mp os ed in to ei gh ti nd ep en de nt"
"s ub pr ob le ms . If t he r el ax ed p ro bl em i s h ar d t o s ol ve , t he n t he v al ue s o f t he c or re sp on di ng"
h eu ri st ic w il lb ee xp en si ve to ob ta in .12
Ap ro gr am c al le d ABSOLVER c an ge ne ra te h eu ri st ic s a ut om at ic al ly f ro m p ro bl em d ef-
"i ni ti on s , u si ng t he “r el ax ed p ro bl em” m et ho d a nd v ar io us o th er t ec hn iq ue s (Pr ie di ti s , 1993)."
ABSOLVER g en er at ed a n ew h eu ri st ic f or t he 8-p uz zl e t ha t w as b et te r t ha n a ny p re ex is ti ng
h eu ri st ic a nd fo un dt he fi rs tu se fu lh eu ri st ic fo rt he fa mo us Ru bi k’s Cu be pu zz le .
On e p ro bl em w it h g en er at in g n ew h eu ri st ic f un ct io ns i s t ha t o ne o ft en f ai ls t o g et a
s in gl e “c le ar ly b es t” h eu ri st ic . If a c ol le ct io n o f a dm is si bl e h eu ri st ic s h ...h i s a va il ab le
1 m
"f or ap ro bl em a nd no ne of th em do mi na te s a ny of th eo th er s , w hi ch sh ou ld w ec ho os e ? As it"
"t ur ns ou t ,w en ee dn ot ma ke ac ho ic e . We ca nh av et he be st of al lw or ld s ,b yd ef in in g"
"h(n) = m ax{h (n),...,h (n)}."
1 m
"11 In Ch ap te rs 8 a nd 10,w ed es cr ib ef or ma ll an gu ag es su it ab le fo rt hi st as k ;w it hf or ma ld es cr ip ti on st ha tc an be"
"m an ip ul at ed ,t he co ns tr uc ti on of re la xe dp ro bl em sc an be au to ma te d .Fo rn ow ,w eu se En gl is h ."
12 No te th at ap er fe ct h eu ri st ic ca nb eo bt ai ne ds im pl yb ya ll ow in gh to ru na fu ll br ea dt h-f ir st s ea rc h“o nt he
"s ly .”Th us ,t he re is at ra de of fb et we en ac cu ra cy an dc om pu ta ti on ti me fo rh eu ri st ic fu nc ti on s ."
106 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
2 4 1 2
5 6 3 54 6
8 3 1 7 8
St ar t St at e Go al St at e
Fi gu re 3.30 A s ub pr ob le mo ft he 8-p uz zl ei ns ta nc e g iv en in Fi gu re 3.28. Th et as k i s t o
"g et ti le s 1, 2, 3, a nd 4 i nt ot he ir co rr ec tp os it io ns ,w it ho ut w or ry in ga bo ut wh at ha pp en st o"
t he ot he rt il es .
Th is c om po si te h eu ri st ic u se s w hi ch ev er f un ct io n i s m os t a cc ur at e o n t he n od e i n q ue st io n .
"Be ca us et he co mp on en th eu ri st ic sa re ad mi ss ib le , h is ad mi ss ib le ;i ti sa ls oe as yt op ro ve th at"
"h is co ns is te nt . Fu rt he rm or e , h do mi na te sa ll of it sc om po ne nt h eu ri st ic s ."
3.6.3 Ge ne ra ti ng a dm is si bl eh eu ri st ic s f ro m s ub pr ob le ms: Pa tt er nd at ab as es
Ad mi ss ib le h eu ri st ic s c an al so be de ri ve d f ro mt he so lu ti on c os to fa su bp ro bl em of ag iv en
SUBPROBLEM
"p ro bl em . Fo r e xa mp le , Fi gu re 3.30 s ho ws a s ub pr ob le m o f t he 8-p uz zl e i ns ta nc e i n Fi g-"
"u re 3.28. Th es ub pr ob le m i nv ol ve s g et ti ng ti le s 1,2,3,4 i nt ot he ir co rr ec tp os it io ns . Cl ea rl y ,"
t he c os t o f t he o pt im al s ol ut io n o f t hi s s ub pr ob le m i s a l ow er b ou nd o n t he c os t o f t he c om-
p le te pr ob le m . It tu rn so ut to be mo re ac cu ra te th an Ma nh at ta n d is ta nc e i ns om ec as es .
Th ei de ab eh in d p at te rn da ta ba se s i st os to re t he se ex ac ts ol ut io n c os ts f or ev er yp os-
PATTERNDATABASE
"s ib le s ub pr ob le m i ns ta nc e—i n o ur e xa mp le , e ve ry p os si bl e c on fi gu ra ti on o f t he f ou r t il es"
a nd t he b la nk . (Th e l oc at io ns o f t he o th er f ou r t il es a re i rr el ev an t f or t he p ur po se s o f s ol v-
"i ng t he s ub pr ob le m , b ut m ov es o f t ho se t il es d o c ou nt t ow ar d t he c os t .) Th en w e c om pu te"
a n a dm is si bl e h eu ri st ic h f or e ac h c om pl et e s ta te e nc ou nt er ed d ur in g a s ea rc h s im pl y b y
DB
l oo ki ng up th ec or re sp on di ng su bp ro bl em co nf ig ur at io ni nt he da ta ba se . Th ed at ab as ei ts el fi s
c on st ru ct ed b ys ea rc hi ng ba ck 13 f ro mt he go al an dr ec or di ng th ec os to fe ac hn ew pa tt er ne n-
c ou nt er ed ; t he ex pe ns eo ft hi ss ea rc hi sa mo rt iz ed o ve rm an y s ub se qu en t p ro bl em i ns ta nc es .
"Th ec ho ic eo f 1-2-3-4 i sf ai rl ya rb it ra ry ; w ec ou ld al so co ns tr uc t d at ab as es f or 5-6-7-8,"
"f or 2-4-6-8, a nd so on . Ea ch da ta ba se yi el ds an ad mi ss ib le he ur is ti c , a nd th es eh eu ri st ic s c an"
"b e c om bi ne d , a s e xp la in ed e ar li er , b y t ak in g t he m ax im um v al ue . A c om bi ne d h eu ri st ic o f"
t hi sk in di sm uc hm or ea cc ur at et ha nt he Ma nh at ta nd is ta nc e ; t he nu mb er of no de sg en er at ed
w he ns ol vi ng ra nd om 15-p uz zl es c an be re du ce db ya fa ct or of 1000.
On e m ig ht w on de r w he th er t he h eu ri st ic s o bt ai ne d f ro m t he 1-2-3-4 d at ab as e a nd t he
"5-6-7-8 c ou ld be ad de d ,s in ce th et wo su bp ro bl em s s ee mn ot to ov er la p . Wo ul dt hi ss ti ll gi ve"
"a n a dm is si bl e h eu ri st ic ? Th e a ns we r i s n o , b ec au se t he s ol ut io ns o f t he 1-2-3-4 s ub pr ob le m"
a nd t he 5-6-7-8 s ub pr ob le m f or a g iv en s ta te w il l a lm os t c er ta in ly s ha re s om e m ov es—i t i s
"13 By w or ki ng b ac kw ar d f ro m t he g oa l , t he e xa ct s ol ut io n c os t o f e ve ry i ns ta nc e e nc ou nt er ed i s i mm ed ia te ly"
"a va il ab le .Th is is an ex am pl eo fd yn am ic pr og ra mm in g ,w hi ch we di sc us sf ur th er in Ch ap te r 17."
Se ct io n 3.6. He ur is ti c Fu nc ti on s 107
"u nl ik el y t ha t 1-2-3-4 c an b em ov ed in to p la ce w it ho ut t ou ch in g 5-6-7-8, a nd vi ce v er sa . Bu t"
"w ha ti fw ed on’t c ou nt t ho se m ov es ? Th at is , w er ec or d n ot th et ot al c os to fs ol vi ng t he 1-2-"
"3-4 s ub pr ob le m , b ut j us t t he n um be r o f m ov es i nv ol vi ng 1-2-3-4. Th en i t i s e as y t o s ee t ha t"
t he su mo ft he tw oc os ts is st il la lo we rb ou nd on th ec os to fs ol vi ng th ee nt ir ep ro bl em . Th is
"DISJOINTPATTERN i s t he i de a b eh in d d is jo in t p at te rn d at ab as es . Wi th s uc h d at ab as es , i t i s p os si bl e t o s ol ve"
DATABASES
r an do m 15-p uz zl es i n a f ew m il li se co nd s—t he n um be r o f n od es g en er at ed i s r ed uc ed b y a
"f ac to ro f 10,000 c om pa re d w it ht he us eo f Ma nh at ta n d is ta nc e . Fo r 24-p uz zl es , a sp ee du p o f"
r ou gh ly a fa ct or of am il li on ca nb eo bt ai ne d .
Di sj oi nt p at te rn d at ab as es w or k f or s li di ng-t il e p uz zl es b ec au se t he p ro bl em c an b e
d iv id ed up in su ch aw ay th at ea ch mo ve af fe ct so nl yo ne su bp ro bl em—b ec au se o nl yo ne ti le
"i sm ov ed a ta ti me . Fo ra pr ob le m s uc h a s Ru bi k’s Cu be , t hi s k in d o fs ub di vi si on i sd if fi cu lt"
"b ec au se e ac h m ov e a ff ec ts 8 o r 9 o f t he 26 c ub ie s . Mo re g en er al w ay s o f d ef in in g a dd it iv e ,"
"a dm is si bl e h eu ri st ic s h av e b ee n p ro po se d t ha t d o a pp ly t o Ru bi k’s c ub e (Ya ng e t a l ., 2008),"
b ut th ey ha ve no ty ie ld ed ah eu ri st ic be tt er th an th eb es tn on ad di ti ve he ur is ti cf or th ep ro bl em .
3.6.4 Le ar ni ng h eu ri st ic s f ro m e xp er ie nc e
A h eu ri st ic f un ct io n h(n) i s s up po se d t o e st im at e t he c os t o f a s ol ut io n b eg in ni ng f ro m t he
s ta te a t n od e n . Ho w c ou ld a n a ge nt c on st ru ct s uc h a f un ct io n ? On e s ol ut io n w as g iv en i n
"t he p re ce di ng s ec ti on s—n am el y , t o d ev is e r el ax ed p ro bl em s f or w hi ch a n o pt im al s ol ut io n"
c an b ef ou nd e as il y . An ot he rs ol ut io n i st o l ea rn f ro m e xp er ie nc e . “Ex pe ri en ce” h er e m ea ns
"s ol vi ng lo ts of 8-p uz zl es ,f or in st an ce . Ea ch op ti ma ls ol ut io nt oa n 8-p uz zl ep ro bl em pr ov id es"
e xa mp le s f ro m w hi ch h(n) c an b e l ea rn ed . Ea ch e xa mp le c on si st s o f a s ta te f ro m t he s ol u-
"t io np at ha nd th ea ct ua lc os to ft he so lu ti on f ro mt ha tp oi nt . Fr om th es ee xa mp le s , a le ar ni ng"
a lg or it hm c an be us ed to co ns tr uc t a fu nc ti on h(n)t ha tc an(w it hl uc k)p re di ct so lu ti on c os ts
"f or ot he rs ta te s t ha ta ri se d ur in g s ea rc h . Te ch ni qu es f or do in g j us t t hi su si ng n eu ra l n et s , d e-"
"c is io nt re es ,a nd ot he rm et ho ds ar ed em on st ra te d i n Ch ap te r 18. (Th er ei nf or ce me nt l ea rn in g"
m et ho ds de sc ri be d i n Ch ap te r 21 a re al so ap pl ic ab le .)
In du ct iv e l ea rn in g m et ho ds w or k b es t w he n s up pl ie d w it h f ea tu re s o f a s ta te t ha t a re
FEATURE
"r el ev an t t o p re di ct in g t he s ta te’s v al ue , r at he r t ha n w it h j us t t he r aw s ta te d es cr ip ti on . Fo r"
"e xa mp le , t he f ea tu re “n um be r o f m is pl ac ed t il es” m ig ht b e h el pf ul i n p re di ct in g t he a ct ua l"
d is ta nc e o f a s ta te f ro m t he g oa l . Le t’s c al l t hi s f ea tu re x (n). We co ul d t ak e 100 r an do ml y
1
g en er at ed 8-p uz zl e c on fi gu ra ti on s a nd g at he r s ta ti st ic s o n t he ir a ct ua l s ol ut io n c os ts . We
"m ig ht f in d t ha t w he n x (n) i s 5, t he a ve ra ge s ol ut io n c os t i s a ro un d 14, a nd s o o n . Gi ve n"
1
"t he se da ta ,t he va lu eo fx c an be us ed to pr ed ic th(n). Of co ur se ,w ec an us es ev er al fe at ur es ."
1
As ec on df ea tu re x (n)m ig ht be“n um be ro fp ai rs of ad ja ce nt ti le st ha ta re no ta dj ac en ti nt he
2
g oa ls ta te .” Ho ws ho ul dx (n)a nd x (n)b ec om bi ne dt op re di ct h(n)? Ac om mo na pp ro ac h
1 2
i st ou se al in ea rc om bi na ti on:
h(n) = c x (n)+c x (n).
1 1 2 2
Th e c on st an ts c a nd c a re a dj us te d t o g iv e t he b es t f it t o t he a ct ua l d at a o n s ol ut io n c os ts .
1 2
On ee xp ec ts bo th c a nd c t ob ep os it iv eb ec au se mi sp la ce dt il es an di nc or re ct ad ja ce nt pa ir s
1 2
m ak e t he p ro bl em h ar de r t o s ol ve . No ti ce t ha t t hi s h eu ri st ic d oe s s at is fy t he c on di ti on t ha t
"h(n)=0 f or go al st at es ,b ut it is no tn ec es sa ri ly a dm is si bl eo rc on si st en t ."
108 Ch ap te r 3. So lv in g Pr ob le ms by Se ar ch in g
3.7 SUMMARY
Th is c ha pt er h as i nt ro du ce d m et ho ds t ha t a n a ge nt c an u se t o s el ec t a ct io ns i n e nv ir on me nt s
"t ha ta re de te rm in is ti c , o bs er va bl e , s ta ti c ,a nd co mp le te ly kn ow n . In su ch ca se s ,t he ag en tc an"
c on st ru ct s eq ue nc es o fa ct io ns th at ac hi ev ei ts go al s ;t hi sp ro ce ss i sc al le d s ea rc h .
"• Be fo re a na ge nt c an s ta rt s ea rc hi ng f or so lu ti on s , a g oa l m us t b ei de nt if ie d a nd a we ll-"
d ef in ed pr ob le mm us tb ef or mu la te d .
"• Ap ro bl em c on si st s o f f iv ep ar ts: t he i ni ti al s ta te , a se t o fa ct io ns , a tr an si ti on m od el"
"d es cr ib in g t he r es ul ts o f t ho se a ct io ns , a g oa l t es t f un ct io n , a nd a p at h c os t f un ct io n ."
Th e e nv ir on me nt o f t he p ro bl em i s r ep re se nt ed b y a s ta te s pa ce . A p at h t hr ou gh t he
s ta te sp ac ef ro mt he in it ia ls ta te to ag oa ls ta te is as ol ut io n .
• Se ar ch a lg or it hm s t re at s ta te s a nd a ct io ns a s a to mi c: t he yd o n ot c on si de r a ny in te rn al
s tr uc tu re th ey mi gh tp os se ss .
"• A g en er al TREE-SEARCH a lg or it hm c on si de rs a ll p os si bl e p at hs t o f in d a s ol ut io n ,"
w he re as a GRAPH-SEARCH a lg or it hm a vo id s c on si de ra ti on o fr ed un da nt p at hs .
"• Se ar ch al go ri th ms ar ej ud ge do nt he ba si so fc om pl et en es s ,o pt im al it y ,t im ec om pl ex-"
"i ty , a nd s pa ce c om pl ex it y . Co mp le xi ty d ep en ds o nb , t he b ra nc hi ng f ac to r i nt he s ta te"
"s pa ce ,a nd d ,t he de pt ho ft he sh al lo we st so lu ti on ."
• Un in fo rm ed s ea rc h m et ho ds h av e a cc es s o nl y t o t he p ro bl em d ef in it io n . Th e b as ic
a lg or it hm sa re as fo ll ow s:
"– Br ea dt h-f ir st s ea rc h e xp an ds t he s ha ll ow es t n od es f ir st ; i t i s c om pl et e , o pt im al"
"f or un it st ep co st s , b ut ha se xp on en ti al s pa ce co mp le xi ty ."
"– Un if or m-c os ts ea rc he xp an ds th en od ew it hl ow es tp at hc os t ,g(n),a nd is op ti ma l"
f or ge ne ra ls te pc os ts .
– De pt h-f ir st se ar ch e xp an ds t he d ee pe st u ne xp an de d n od e f ir st . It i s n ei th er c om-
"p le te n or o pt im al , b ut h as l in ea r s pa ce c om pl ex it y . De pt h-l im it ed s ea rc h a dd s a"
d ep th bo un d .
– It er at iv e d ee pe ni ng s ea rc h c al ls d ep th-f ir st s ea rc h w it h i nc re as in g d ep th l im it s
"u nt il ag oa li sf ou nd . It is co mp le te ,o pt im al fo ru ni ts te pc os ts ,h as ti me co mp le xi ty"
"c om pa ra bl e t ob re ad th-f ir st s ea rc h ,a nd ha sl in ea rs pa ce co mp le xi ty ."
"– Bi di re ct io na ls ea rc hc an en or mo us ly r ed uc et im ec om pl ex it y ,b ut it is no ta lw ay s"
a pp li ca bl e a nd ma yr eq ui re to om uc hs pa ce .
• In fo rm ed se ar ch me th od sm ay ha ve ac ce ss to ah eu ri st ic fu nc ti on h(n)t ha te st im at es
t he co st of as ol ut io n f ro mn .
– Th eg en er ic b es t-f ir st se ar ch a lg or it hm s el ec ts an od ef or ex pa ns io n a cc or di ng t o
a ne va lu at io nf un ct io n .
– Gr ee dy be st-f ir st s ea rc h e xp an ds n od es w it hm in im al h(n). It is no t o pt im al b ut
i so ft en ef fi ci en t .
4
BEYOND CLASSICAL
SEARCH
"In w hi ch w e r el ax t he s im pl if yi ng a ss um pt io ns o f t he p re vi ou s c ha pt er , t he re by"
g et ti ng cl os er to th er ea lw or ld .
"Ch ap te r 3 a dd re ss ed a s in gl e c at eg or y o f p ro bl em s: o bs er va bl e , d et er mi ni st ic , k no wn e nv i-"
"r on me nt sw he re th es ol ut io ni sa se qu en ce of ac ti on s . In th is ch ap te r ,w el oo ka tw ha th ap pe ns"
w he nt he se as su mp ti on sa re re la xe d . We be gi nw it ha fa ir ly si mp le ca se: Se ct io ns 4.1 a nd 4.2
"c ov er al go ri th ms t ha tp er fo rm p ur el y l oc al se ar ch i nt he st at e s pa ce , e va lu at in g a nd mo di fy-"
i ng on eo rm or ec ur re nt st at es ra th er th an sy st em at ic al ly e xp lo ri ng pa th sf ro ma ni ni ti al st at e .
"Th es ea lg or it hm s a re s ui ta bl e f or pr ob le ms i nw hi ch a ll th at m at te rs is th e s ol ut io n s ta te , n ot"
t he pa th co st t or ea ch i t . Th ef am il yo fl oc al s ea rc h a lg or it hm s i nc lu de s m et ho ds i ns pi re d b y
s ta ti st ic al p hy si cs(s im ul at ed an ne al in g)a nd ev ol ut io na ry b io lo gy (g en et ic al go ri th ms).
"Th en , i n Se ct io ns 4.3–4.4, w e e xa mi ne w ha t h ap pe ns w he n w e r el ax t he a ss um pt io ns"
o fd et er mi ni sm an do bs er va bi li ty . Th ek ey id ea is th at if an ag en tc an no tp re di ct ex ac tl yw ha t
"p er ce pt i t w il l r ec ei ve , t he n i t w il l n ee d t o c on si de r w ha t t o d o u nd er e ac h c on ti ng en cy t ha t"
"i ts p er ce pt s m ay r ev ea l . Wi th p ar ti al o bs er va bi li ty , t he a ge nt w il l a ls o n ee d t o k ee p t ra ck o f"
t he st at es it mi gh tb ei n .
"Fi na ll y , Se ct io n 4.5 i nv es ti ga te s o nl in es ea rc h , i nw hi ch th ea ge nt i sf ac ed w it ha st at e"
s pa ce th at is in it ia ll y u nk no wn an dm us tb ee xp lo re d .
4.1 LOCAL SEARCH ALGORITHMS AND OPTIMIZATION PROBLEMS
Th e s ea rc h a lg or it hm s t ha t w e h av e s ee n s o f ar a re d es ig ne d t o e xp lo re s ea rc h s pa ce s s ys-
t em at ic al ly . Th is sy st em at ic it y i sa ch ie ve d b y k ee pi ng o ne o rm or e p at hs i n m em or y a nd b y
r ec or di ng wh ic ha lt er na ti ve sh av eb ee ne xp lo re da te ac hp oi nt al on gt he pa th . Wh en ag oa li s
"f ou nd ,t he pa th to th at go al al so co ns ti tu te sa so lu ti on to th ep ro bl em . In ma ny pr ob le ms ,h ow-"
"e ve r , t he p at h t o t he g oa l i s i rr el ev an t . Fo re xa mp le , i n t he 8-q ue en s p ro bl em (s ee p ag e 71),"
"w ha tm at te rs is th ef in al co nf ig ur at io n o fq ue en s , n ot th eo rd er in wh ic ht he y a re ad de d . Th e"
s am e g en er al p ro pe rt y h ol ds f or m an y i mp or ta nt a pp li ca ti on s s uc h a s i nt eg ra te d-c ir cu it d e-
"s ig n ,f ac to ry-f lo or la yo ut ,j ob-s ho ps ch ed ul in g ,a ut om at ic pr og ra mm in g ,t el ec om mu ni ca ti on s"
"n et wo rk op ti mi za ti on , v eh ic le ro ut in g , a nd po rt fo li o m an ag em en t ."
120
Se ct io n 4.1. Lo ca l Se ar ch Al go ri th ms an d Op ti mi za ti on Pr ob le ms 121
"If t he p at h t o t he g oa l d oe s n ot m at te r , w e m ig ht c on si de r a d if fe re nt c la ss o f a lg o-"
"r it hm s , o ne s t ha t d o n ot w or ry a bo ut p at hs a t a ll . Lo ca l s ea rc h a lg or it hm s o pe ra te u si ng"
LOCALSEARCH
a s in gl e c ur re nt n od e (r at he r t ha n m ul ti pl e p at hs) a nd g en er al ly m ov e o nl y t o n ei gh bo rs
CURRENTNODE
"o f t ha t n od e . Ty pi ca ll y , t he p at hs f ol lo we d b y t he s ea rc h a re n ot r et ai ne d . Al th ou gh l oc al"
"s ea rc h a lg or it hm s a re n ot s ys te ma ti c , t he y h av e t wo k ey a dv an ta ge s: (1) t he y u se v er y l it tl e"
m em or y—u su al ly ac on st an ta mo un t ;a nd(2)t he yc an of te nf in dr ea so na bl es ol ut io ns in la rg e
o ri nf in it e(c on ti nu ou s) s ta te sp ac es fo rw hi ch sy st em at ic a lg or it hm sa re un su it ab le .
"In a dd it io n t o f in di ng g oa ls , l oc al s ea rc h a lg or it hm s a re u se fu l f or s ol vi ng p ur e o p-"
"OPTIMIZATION t im iz at io n p ro bl em s , i n w hi ch t he a im i s t o f in d t he b es t s ta te a cc or di ng t o a n o bj ec ti ve"
PROBLEM
OBJECTIVE f un ct io n . Ma ny o pt im iz at io n p ro bl em s d o n ot f it th e “s ta nd ar d” s ea rc h m od el i nt ro du ce d i n
FUNCTION
"Ch ap te r 3. Fo r e xa mp le , n at ur e p ro vi de s a n o bj ec ti ve f un ct io n—r ep ro du ct iv e f it ne ss—t ha t"
"Da rw in ia n e vo lu ti on c ou ld b e s ee n a s a tt em pt in g t oo pt im iz e , b ut t he re i sn o “g oa l t es t” a nd"
n o“p at hc os t”f or th is pr ob le m .
"STATE-SPACE To un de rs ta nd l oc al se ar ch , w ef in di tu se fu l t oc on si de rt he s ta te-s pa ce l an ds ca pe(a s"
LANDSCAPE
i n Fi gu re 4.1). Al an ds ca pe ha sb ot h“l oc at io n”(d ef in ed by th es ta te)a nd“e le va ti on”(d ef in ed
b y t he v al ue o ft he h eu ri st ic c os t f un ct io n o ro bj ec ti ve f un ct io n). If el ev at io n c or re sp on ds t o
"c os t , t he n t he a im i s t o f in d t he l ow es t v al le y—a g lo ba l m in im um ; i f e le va ti on c or re sp on ds"
GLOBALMINIMUM
"t oa no bj ec ti ve f un ct io n , t he nt he ai m i st of in dt he hi gh es t p ea k—a g lo ba lm ax im um . (Yo u"
GLOBALMAXIMUM
c an c on ve rt f ro m o ne t o t he o th er j us t b y i ns er ti ng a m in us s ig n .) Lo ca l s ea rc h a lg or it hm s
e xp lo re t hi s l an ds ca pe . A c om pl et e l oc al s ea rc h a lg or it hm a lw ay s f in ds a g oa l i fo ne e xi st s ;
a no pt im al al go ri th m a lw ay sf in ds ag lo ba lm in im um/m ax im um .
o bj ec ti ve f un ct io n
g lo ba l m ax im um
s ho ul de r
l oc al m ax im um
“f la t” l oc al m ax im um
s ta te s pa ce
c ur re nt
s ta te
Fi gu re 4.1 Ao ne-d im en si on al st at e-s pa ce la nd sc ap ei nw hi ch el ev at io nc or re sp on ds to th e
o bj ec ti ve fu nc ti on . Th e a im i s t o f in d t he g lo ba lm ax im um . Hi ll-c li mb in gs ea rc h m od if ie s
"t he cu rr en ts ta te to tr yt oi mp ro ve it ,a ss ho wn by th ea rr ow .Th ev ar io us to po gr ap hi cf ea tu re s"
a re de fi ne di nt he te xt .
122 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
f un ct io n HILL-CLIMBING(p ro bl em)r et ur ns as ta te th at is al oc al ma xi mu m
c ur re nt←MAKE-NODE(p ro bl em .INITIAL-STATE)
l oo pd o
n ei gh bo r←a hi gh es t-v al ue ds uc ce ss or of cu rr en t
i fn ei gh bo r .VALUE≤c ur re nt .VALUEt he nr et ur nc ur re nt .STATE
c ur re nt←n ei gh bo r
"Fi gu re 4.2 Th eh il l-c li mb in gs ea rc ha lg or it hm ,w hi ch is th em os tb as ic lo ca ls ea rc ht ec h-"
"n iq ue . At e ac h s te p t he c ur re nt no de i s r ep la ce d b y t he b es t n ei gh bo r ; i n t hi s v er si on , t ha t"
"m ea ns t he n ei gh bo rw it h t he h ig he st VALUE , b ut i f a h eu ri st ic c os t e st im at e h i s u se d , w e"
w ou ld fi nd th en ei gh bo rw it ht he lo we st h .
4.1.1 Hi ll-c li mb in gs ea rc h
Th e h il l-c li mb in g s ea rc h a lg or it hm (s te ep es t-a sc en t v er si on) i s s ho wn i n Fi gu re 4.2. It i s
HILLCLIMBING
"s im pl y a l oo p t ha t c on ti nu al ly m ov es i n t he d ir ec ti on o f i nc re as in g v al ue—t ha t i s , u ph il l . It"
STEEPESTASCENT
t er mi na te s w he n i t r ea ch es a “p ea k” w he re n o n ei gh bo r h as a h ig he r v al ue . Th e a lg or it hm
"d oe s n ot m ai nt ai n a s ea rc h t re e , s o t he d at a s tr uc tu re f or t he c ur re nt n od e n ee d o nl y r ec or d"
t he s ta te a nd t he v al ue o f t he o bj ec ti ve f un ct io n . Hi ll c li mb in g d oe s n ot l oo k a he ad b ey on d
t he i mm ed ia te n ei gh bo rs o f t he cu rr en t s ta te . Th is re se mb le s t ry in g t of in d t he to p o f Mo un t
Ev er es ti na th ic kf og wh il es uf fe ri ng fr om am ne si a .
"To i ll us tr at e h il l c li mb in g , w e w il l u se t he 8-q ue en s p ro bl em i nt ro du ce d o n p ag e 71."
"Lo ca l s ea rc h a lg or it hm s t yp ic al ly u se a c om pl et e-s ta te f or mu la ti on , w he re e ac h s ta te h as"
"8 q ue en s o n t he b oa rd , o ne p er c ol um n . Th e s uc ce ss or s o f a s ta te a re a ll p os si bl e s ta te s"
g en er at ed b ym ov in g a si ng le q ue en t oa no th er sq ua re i nt he sa me co lu mn (s oe ac hs ta te h as
8×7=56 s uc ce ss or s). Th e h eu ri st ic c os t f un ct io n h i s t he n um be r o f p ai rs o f q ue en s t ha t
"a re a tt ac ki ng e ac h o th er , e it he r d ir ec tl y o r i nd ir ec tl y . Th e g lo ba l m in im um o f t hi s f un ct io n"
"i sz er o , w hi ch oc cu rs o nl y a tp er fe ct s ol ut io ns . Fi gu re 4.3(a) s ho ws as ta te w it hh=17. Th e"
"f ig ur e a ls o s ho ws t he v al ue s o f a ll i ts s uc ce ss or s , w it h t he b es t s uc ce ss or s h av in g h=12."
Hi ll-c li mb in ga lg or it hm st yp ic al ly ch oo se ra nd om ly am on gt he se to fb es ts uc ce ss or si ft he re
i sm or et ha no ne .
GREEDYLOCAL Hi ll cl im bi ng is so me ti me sc al le dg re ed yl oc al se ar ch be ca us ei tg ra bs ag oo dn ei gh bo r
SEARCH
s ta te wi th ou tt hi nk in ga he ad ab ou tw he re to go ne xt . Al th ou gh gr ee di sc on si de re do ne of th e
"s ev en de ad ly s in s ,i tt ur ns ou tt ha tg re ed y a lg or it hm s o ft en p er fo rm q ui te we ll . Hi ll cl im bi ng"
o ft en ma ke sr ap id pr og re ss to wa rd as ol ut io nb ec au se it is us ua ll yq ui te ea sy to im pr ov ea ba d
"s ta te . Fo r e xa mp le , f ro m t he s ta te i n Fi gu re 4.3(a), i t t ak es j us t f iv e s te ps t o r ea ch t he s ta te"
"i n Fi gu re 4.3(b), w hi ch h as h=1 a nd i s v er y n ea rl y a s ol ut io n . Un fo rt un at el y , h il l c li mb in g"
o ft en ge ts st uc kf or th ef ol lo wi ng re as on s:
• Lo ca l m ax im a: a l oc al m ax im um i s a p ea k t ha t i s h ig he r t ha n e ac h o f i ts n ei gh bo ri ng
LOCALMAXIMUM
s ta te s b ut l ow er t ha n t he g lo ba l m ax im um . Hi ll-c li mb in g a lg or it hm s t ha t r ea ch t he
v ic in it y o f a l oc al m ax im um w il l b e d ra wn u pw ar d t ow ar d t he p ea k b ut w il l t he n b e
s tu ck w it h n ow he re e ls e t o g o . Fi gu re 4.1 i ll us tr at es t he p ro bl em s ch em at ic al ly . Mo re
Se ct io n 4.1. Lo ca l Se ar ch Al go ri th ms an d Op ti mi za ti on Pr ob le ms 123
18 12 14 13 13 12 14 14
14 16 13 15 12 14 12 16
14 12 18 13 15 12 14 14
15 14 14 13 16 13 16
14 17 15 14 16 16
17 16 18 15 15
18 14 15 15 14 16
14 14 13 17 12 14 12 18
(a) (b)
"Fi gu re 4.3 (a)An 8-q ue en ss ta te wi th he ur is ti cc os te st im at eh=17,s ho wi ng th ev al ue of"
h fo re ac hp os si bl es uc ce ss or ob ta in ed by mo vi ng aq ue en wi th in it sc ol um n .Th eb es tm ov es
a re ma rk ed . (b)Al oc al mi ni mu mi nt he 8-q ue en ss ta te sp ac e ;t he st at eh as h=1 b ut ev er y
s uc ce ss or ha sa hi gh er co st .
"c on cr et el y , t he st at e i n Fi gu re 4.3(b)i sa lo ca l m ax im um(i .e .,a lo ca lm in im um f or th e"
c os th);e ve ry mo ve of as in gl eq ue en ma ke st he si tu at io nw or se .
• Ri dg es: a r id ge i s s ho wn i n Fi gu re 4.4. Ri dg es r es ul t i n a s eq ue nc e o f l oc al m ax im a
RIDGE
t ha ti sv er yd if fi cu lt fo rg re ed ya lg or it hm s t on av ig at e .
• Pl at ea ux: a p la te au i s a f la t a re a o f t he s ta te-s pa ce l an ds ca pe . It c an b e a f la t l oc al
PLATEAU
"m ax im um , f ro m w hi ch n o u ph il l e xi t e xi st s , o r a s ho ul de r , f ro m w hi ch p ro gr es s i s"
SHOULDER
p os si bl e . (Se e Fi gu re 4.1.) Ah il l-c li mb in g s ea rc hm ig ht ge tl os to nt he pl at ea u .
"In ea ch ca se ,t he al go ri th mr ea ch es ap oi nt at wh ic hn op ro gr es si sb ei ng ma de . St ar ti ng fr om"
"a ra nd om ly ge ne ra te d 8-q ue en ss ta te ,s te ep es t-a sc en th il lc li mb in gg et ss tu ck 86%o ft he ti me ,"
"s ol vi ng on ly 14%o fp ro bl em in st an ce s . It wo rk sq ui ck ly ,t ak in gj us t 4 s te ps on av er ag ew he n"
i ts uc ce ed s a nd 3 w he ni tg et ss tu ck—n ot b ad fo ra st at es pa ce wi th 88 ≈ 17 m il li on st at es .
Th e a lg or it hm i n Fi gu re 4.2 h al ts i f i t r ea ch es a p la te au w he re t he b es t s uc ce ss or h as
t he s am e v al ue a s t he c ur re nt s ta te . Mi gh t i t n ot b e a g oo d i de a t o k ee p g oi ng—t o a ll ow a
"s id ew ay sm ov ei nt he ho pe th at th ep la te au is re al ly as ho ul de r , a ss ho wn in Fi gu re 4.1? Th e"
SIDEWAYSMOVE
"a ns we ri su su al ly ye s ,b ut we mu st ta ke ca re . If we al wa ys al lo ws id ew ay sm ov es wh en th er e"
"a re n o u ph il l m ov es , a n i nf in it e l oo p w il l o cc ur w he ne ve r t he a lg or it hm r ea ch es a f la t l oc al"
m ax im um th at is no ta sh ou ld er . On ec om mo ns ol ut io ni st op ut al im it on th en um be ro fc on-
"s ec ut iv e s id ew ay s m ov es a ll ow ed . Fo re xa mp le , w e c ou ld a ll ow u p t o , s ay , 100 c on se cu ti ve"
s id ew ay s m ov es i n t he 8-q ue en s p ro bl em . Th is r ai se s t he p er ce nt ag e o f p ro bl em i ns ta nc es
s ol ve d b y h il l c li mb in g f ro m 14% t o 94%. Su cc es s c om es a t a c os t: t he a lg or it hm a ve ra ge s
r ou gh ly 21 s te ps fo re ac hs uc ce ss fu l i ns ta nc e a nd 64 f or ea ch f ai lu re .
124 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
Fi gu re 4.4 Il lu st ra ti on of wh yr id ge sc au se di ff ic ul ti es fo rh il lc li mb in g .Th eg ri do fs ta te s
"(d ar kc ir cl es)i ss up er im po se do na ri dg er is in gf ro ml ef tt or ig ht ,c re at in ga se qu en ce of lo ca l"
"m ax im a t ha t a re n ot d ir ec tl y c on ne ct ed t o e ac h o th er . Fr om e ac h l oc al m ax im um , a ll t he"
a va il ab le ac ti on sp oi nt do wn hi ll .
STOCHASTICHILL Ma ny va ri an ts of hi ll cl im bi ng ha ve be en in ve nt ed . St oc ha st ic hi ll cl im bi ng ch oo se sa t
CLIMBING
r an do mf ro ma mo ng th eu ph il lm ov es ;t he pr ob ab il it yo fs el ec ti on ca nv ar yw it ht he st ee pn es s
"o f t he u ph il l m ov e . Th is u su al ly c on ve rg es m or e s lo wl y t ha n s te ep es t a sc en t , b ut i n s om e"
"FIRST-CHOICEHILL s ta te l an ds ca pe s , i t f in ds b et te r s ol ut io ns . Fi rs t-c ho ic e h il l c li mb in g i mp le me nt s s to ch as ti c"
CLIMBING
h il lc li mb in g b yg en er at in g s uc ce ss or s r an do ml y u nt il o ne is ge ne ra te d t ha ti sb et te rt ha nt he
"c ur re nt st at e . Th is is ag oo ds tr at eg yw he na st at eh as ma ny(e .g .,t ho us an ds) o fs uc ce ss or s ."
Th e h il l-c li mb in g a lg or it hm s d es cr ib ed s o f ar a re i nc om pl et e—t he y o ft en f ai l t o f in d
a g oa l w he n o ne e xi st s b ec au se t he y c an g et s tu ck o n l oc al m ax im a . Ra nd om-r es ta rt h il l
"RANDOM-RESTART c li mb in ga do pt s t he we ll-k no wn a da ge , “If at fi rs ty ou d on’t s uc ce ed , t ry , t ry a ga in .” It co n-"
HILLCLIMBING
"d uc ts a s er ie s o f h il l-c li mb in g s ea rc he s f ro m r an do ml y g en er at ed i ni ti al s ta te s ,1 u nt il a g oa l"
"i s f ou nd . It i s t ri vi al ly c om pl et e w it h p ro ba bi li ty a pp ro ac hi ng 1, b ec au se i t w il l e ve nt ua ll y"
g en er at e a g oa l s ta te a s t he i ni ti al s ta te . If e ac h h il l-c li mb in g s ea rc h h as a p ro ba bi li ty p o f
"s uc ce ss , t he n t he e xp ec te d n um be r o f r es ta rt s r eq ui re d i s 1/p . Fo r 8-q ue en s i ns ta nc es w it h"
"n os id ew ay s m ov es al lo we d , p ≈ 0.14,s ow en ee d r ou gh ly 7 i te ra ti on s t of in da go al (6 f ai l-"
u re sa nd 1 s uc ce ss). Th ee xp ec te dn um be ro fs te ps is th ec os to fo ne su cc es sf ul i te ra ti on pl us
"(1−p)/p ti me st he co st of fa il ur e ,o rr ou gh ly 22 s te ps in al l . Wh en we al lo ws id ew ay sm ov es ,"
1/0.94 ≈ 1.06 i te ra ti on sa re ne ed ed on av er ag ea nd (1×21)+(0.06/0.94)×64 ≈25 s te ps .
"Fo r 8-q ue en s , t he n , r an do m-r es ta rt h il lc li mb in gi sv er ye ff ec ti ve in de ed . Ev en fo rt hr ee mi l-"
"l io nq ue en s , t he ap pr oa ch c an fi nd so lu ti on s i nu nd er am in ut e .2"
1 Ge ne ra ti ng ar an do ms ta te fr om an im pl ic it ly sp ec if ie ds ta te sp ac ec an be ah ar dp ro bl em in it se lf .
"2 Lu by et al .(1993)p ro ve th at it is be st ,i ns om ec as es ,t or es ta rt ar an do mi ze ds ea rc ha lg or it hm af te ra pa rt ic ul ar ,"
f ix ed a mo un t o f t im e a nd t ha t t hi s c an b e m uc h m or e e ff ic ie nt t ha n l et ti ng e ac h s ea rc h c on ti nu e i nd ef in it el y .
Di sa ll ow in go rl im it in gt he nu mb er of si de wa ys mo ve si sa ne xa mp le of th is id ea .
Se ct io n 4.1. Lo ca l Se ar ch Al go ri th ms an d Op ti mi za ti on Pr ob le ms 125
Th e s uc ce ss o f h il l c li mb in g d ep en ds v er y m uc h o n t he s ha pe o f t he s ta te-s pa ce l an d-
"s ca pe: i f t he re a re f ew l oc al m ax im a a nd p la te au x , r an do m-r es ta rt h il l c li mb in g w il l f in d a"
"g oo d s ol ut io n v er y q ui ck ly . On t he o th er h an d , m an y r ea l p ro bl em s h av e a l an ds ca pe t ha t"
"l oo ks mo re li ke aw id el ys ca tt er ed fa mi ly of ba ld in gp or cu pi ne so na fl at fl oo r ,w it hm in ia tu re"
"p or cu pi ne s l iv in g o n t he t ip o f e ac h p or cu pi ne n ee dl e , a d i nf in it um . NP-h ar d p ro bl em s t yp i-"
"c al ly ha ve an ex po ne nt ia l n um be ro fl oc al ma xi ma to ge ts tu ck on . De sp it et hi s ,a re as on ab ly"
g oo dl oc al ma xi mu mc an of te nb ef ou nd af te ra sm al ln um be ro fr es ta rt s .
4.1.2 Si mu la te d a nn ea li ng
Ah il l-c li mb in ga lg or it hm th at ne ve rm ak es“d ow nh il l”m ov es to wa rd st at es wi th lo we rv al ue
"(o r h ig he r c os t) i s g ua ra nt ee d t o b e i nc om pl et e , b ec au se i t c an g et s tu ck o n a l oc al m ax i-"
"m um . In c on tr as t , a p ur el y r an do m w al k—t ha t i s , m ov in g t o a s uc ce ss or c ho se n u ni fo rm ly"
"a t r an do m f ro m t he s et o f s uc ce ss or s—i s c om pl et e b ut e xt re me ly i ne ff ic ie nt . Th er ef or e , i t"
s ee ms re as on ab le to tr yt oc om bi ne hi ll cl im bi ng wi th ar an do mw al ki ns om ew ay th at yi el ds
"SIMULATED b ot he ff ic ie nc ya nd co mp le te ne ss . Si mu la te da nn ea li ng is su ch an al go ri th m . In me ta ll ur gy ,"
ANNEALING
a nn ea li ng i s t he p ro ce ss u se d t o t em pe r o r h ar de n m et al s a nd g la ss b y h ea ti ng t he m t o a
"h ig ht em pe ra tu re a nd th en gr ad ua ll y c oo li ng th em ,t hu sa ll ow in gt he ma te ri al to re ac ha lo w-"
"e ne rg y c ry st al li ne s ta te . To e xp la in s im ul at ed a nn ea li ng , w e s wi tc h o ur p oi nt o f v ie w f ro m"
"h il l c li mb in g t o g ra di en t d es ce nt (i .e ., m in im iz in g c os t) a nd i ma gi ne t he t as k o f g et ti ng a"
GRADIENTDESCENT
"p in g-p on g b al l i nt o t he de ep es t c re vi ce i na bu mp y s ur fa ce . If we ju st le t t he ba ll r ol l , i tw il l"
"c om e t o r es t a t a l oc al m in im um . If w es ha ke t he s ur fa ce , w ec an b ou nc e t he b al l o ut o f t he"
l oc al m in im um . Th e t ri ck i s t o s ha ke j us t h ar d e no ug h t o b ou nc e t he b al l o ut o f l oc al m in-
i ma b ut n ot h ar d e no ug h t o d is lo dg e i t f ro m t he g lo ba l m in im um . Th e s im ul at ed-a nn ea li ng
"s ol ut io n i st os ta rt by sh ak in g h ar d(i .e .,a ta hi gh te mp er at ur e) a nd th en gr ad ua ll y r ed uc e t he"
"i nt en si ty o ft he sh ak in g (i .e .,l ow er th et em pe ra tu re)."
Th ei nn er mo st lo op of th es im ul at ed-a nn ea li ng a lg or it hm(Fi gu re 4.5)i sq ui te si mi la rt o
"h il lc li mb in g . In st ea do fp ic ki ng th eb es tm ov e ,h ow ev er ,i tp ic ks ar an do mm ov e . If th em ov e"
"i mp ro ve st he si tu at io n ,i ti sa lw ay sa cc ep te d . Ot he rw is e ,t he al go ri th ma cc ep ts th em ov ew it h"
s om e p ro ba bi li ty l es s t ha n 1. Th e p ro ba bi li ty d ec re as es e xp on en ti al ly w it h t he “b ad ne ss” o f
t he m ov e—t he a mo un t ΔE b y w hi ch t he e va lu at io n i s w or se ne d . Th e p ro ba bi li ty a ls o d e-
c re as es as th e“t em pe ra tu re” T g oe sd ow n: “b ad”m ov es ar em or el ik el yt ob ea ll ow ed at th e
"s ta rt wh en T i sh ig h ,a nd th ey be co me mo re un li ke ly a s T d ec re as es . If th es ch ed ul e l ow er s"
"T s lo wl ye no ug h , t he al go ri th m w il lf in da gl ob al op ti mu mw it hp ro ba bi li ty a pp ro ac hi ng 1."
Si mu la te d a nn ea li ng w as f ir st u se d e xt en si ve ly t o s ol ve VLSI l ay ou t p ro bl em s i n t he
e ar ly 1980 s . It ha sb ee na pp li ed w id el yt of ac to ry sc he du li ng a nd ot he rl ar ge-s ca le o pt im iz a-
"t io nt as ks . In Ex er ci se 4.4,y ou ar ea sk ed to co mp ar ei ts pe rf or ma nc et ot ha to fr an do m-r es ta rt"
h il lc li mb in go nt he 8-q ue en s p uz zl e .
4.1.3 Lo ca l b ea m s ea rc h
Ke ep in g j us t o ne n od e i n m em or y m ig ht s ee m t o b e a n e xt re me r ea ct io n t o t he p ro bl em o f
LOCALBEAM m em or y l im it at io ns . Th e l oc al b ea m s ea rc h a lg or it hm 3 k ee ps t ra ck o f k s ta te s r at he r t ha n
SEARCH
"3 Lo ca lb ea ms ea rc hi sa na da pt at io no fb ea ms ea rc h ,w hi ch is ap at h-b as ed al go ri th m ."
126 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
"f un ct io n SIMULATED-ANNEALING(p ro bl em ,s ch ed ul e)r et ur ns as ol ut io ns ta te"
"i np ut s:p ro bl em ,a pr ob le m"
"s ch ed ul e ,a ma pp in gf ro mt im et o“t em pe ra tu re”"
c ur re nt←MAKE-NODE(p ro bl em .INITIAL-STATE)
f or t =1 t o∞d o
T←s ch ed ul e(t)
i f T =0 t he nr et ur nc ur re nt
n ex t←a ra nd om ly se le ct ed su cc es so ro fc ur re nt
ΔE←n ex t .VALUE–c ur re nt .VALUE
i fΔE >0 t he nc ur re nt←n ex t
e ls ec ur re nt←n ex t o nl yw it hp ro ba bi li ty eΔE/T
"Fi gu re 4.5 Th es im ul at ed an ne al in ga lg or it hm ,a ve rs io no fs to ch as ti ch il lc li mb in gw he re"
s om ed ow nh il lm ov es ar ea ll ow ed . Do wn hi ll mo ve sa re ac ce pt ed re ad il ye ar ly in th ea nn ea l-
i ng sc he du le an dt he nl es so ft en as ti me go es on .Th es ch ed ul e i np ut de te rm in es th ev al ue of
t he te mp er at ur e T a sa fu nc ti on of ti me .
"j us to ne . It be gi ns w it hk r an do ml y g en er at ed s ta te s . At ea ch s te p , a ll th es uc ce ss or s o fa ll k"
"s ta te s a re ge ne ra te d . If an yo ne is ag oa l , t he al go ri th m h al ts . Ot he rw is e , i ts el ec ts t he k b es t"
s uc ce ss or s f ro mt he co mp le te li st an dr ep ea ts .
"At f ir st s ig ht , a l oc al b ea m s ea rc h w it h k s ta te s m ig ht s ee m t o b e n ot hi ng m or e t ha n"
"r un ni ng k r an do m r es ta rt s i n p ar al le l i ns te ad o f i n s eq ue nc e . In f ac t , t he t wo a lg or it hm s"
"a re q ui te d if fe re nt . In a r an do m-r es ta rt s ea rc h , e ac h s ea rc h p ro ce ss r un s i nd ep en de nt ly o f"
"t he o th er s . In a l oc al b ea m s ea rc h , u se fu l i nf or ma ti on i s p as se d a mo ng t he p ar al le l s ea rc h"
"t hr ea ds . In e ff ec t , t he s ta te s t ha t g en er at e t he b es t s uc ce ss or s s ay t o t he o th er s , “Co me o ve r"
"h er e , t he g ra ss i s g re en er !” Th e a lg or it hm q ui ck ly a ba nd on s u nf ru it fu l s ea rc he s a nd m ov es"
i ts re so ur ce s t ow he re th em os tp ro gr es s i sb ei ng ma de .
"In i ts s im pl es t f or m , l oc al b ea m s ea rc h c an s uf fe r f ro m a l ac k o f d iv er si ty a mo ng t he"
"k s ta te s—t he y c an qu ic kl y b ec om ec on ce nt ra te d i na sm al lr eg io no ft he st at e s pa ce , m ak in g"
t he se ar ch l it tl e m or et ha na ne xp en si ve v er si on o fh il lc li mb in g . Av ar ia nt c al le d s to ch as ti c
"STOCHASTICBEAM b ea m s ea rc h , a na lo go us t o s to ch as ti c h il l c li mb in g , h el ps a ll ev ia te t hi s p ro bl em . In st ea d"
SEARCH
"o f c ho os in g t he b es t k f ro m t he t he p oo l o f c an di da te s uc ce ss or s , s to ch as ti c b ea m s ea rc h"
"c ho os es k s uc ce ss or s a t r an do m , w it h t he p ro ba bi li ty o f c ho os in g a g iv en s uc ce ss or b ei ng"
a n i nc re as in g f un ct io n o f i ts v al ue . St oc ha st ic b ea m s ea rc h b ea rs s om e r es em bl an ce t o t he
"p ro ce ss o f n at ur al s el ec ti on , w he re by t he “s uc ce ss or s” (o ff sp ri ng) o f a “s ta te” (o rg an is m)"
p op ul at e t he ne xt ge ne ra ti on a cc or di ng t oi ts“v al ue”(f it ne ss).
4.1.4 Ge ne ti ca lg or it hm s
GENETIC Ag en et ic al go ri th m(o r GA)i sa va ri an to fs to ch as ti cb ea ms ea rc hi nw hi ch su cc es so rs ta te s
ALGORITHM
a re g en er at ed b y c om bi ni ng t wo p ar en t s ta te s r at he r t ha n b y m od if yi ng a s in gl e s ta te . Th e
"a na lo gy t on at ur al s el ec ti on i st he sa me as in st oc ha st ic b ea ms ea rc h , e xc ep tt ha tn ow we ar e"
d ea li ng wi th se xu al ra th er th an as ex ua lr ep ro du ct io n .
Se ct io n 4.1. Lo ca l Se ar ch Al go ri th ms an d Op ti mi za ti on Pr ob le ms 127
24748552 32752411 32748552 32748152
24 31%
32752411 24748552 24752411 24752411
23 29%
24415124 32752411 32752124 32252124
20 26%
32543213 24415124 24415411 24415417
11 14%
(a) (b) (c) (d) (e)
In it ia l Po pu la ti on Fi tn es s Fu nc ti on Se le ct io n Cr os so ve r Mu ta ti on
"Fi gu re 4.6 Th eg en et ic al go ri th m ,i ll us tr at ed fo rd ig it st ri ng sr ep re se nt in g 8-q ue en ss ta te s ."
"Th e i ni ti al p op ul at io n i n (a) i s r an ke d b y t he f it ne ss f un ct io n i n (b), r es ul ti ng i n p ai rs f or"
"m at in gi n(c). Th ey pr od uc eo ff sp ri ng in(d),w hi ch ar es ub je ct to mu ta ti on in(e)."
+ =
Fi gu re 4.7 Th e 8-q ue en ss ta te sc or re sp on di ng to th ef ir st tw op ar en ts in Fi gu re 4.6(c)a nd
t he fi rs to ff sp ri ng in Fi gu re 4.6(d).Th es ha de dc ol um ns ar el os ti nt he cr os so ve rs te pa nd th e
u ns ha de dc ol um ns ar er et ai ne d .
"Li ke b ea m s ea rc he s , GAs b eg in w it h a s et o f k r an do ml y g en er at ed s ta te s , c al le d t he"
"p op ul at io n . Ea ch st at e ,o ri nd iv id ua l ,i sr ep re se nt ed a sa st ri ng ov er af in it ea lp ha be t—m os t"
POPULATION
"c om mo nl y ,a st ri ng of 0 s an d 1 s . Fo re xa mp le ,a n 8-q ue en ss ta te mu st sp ec if yt he po si ti on so f"
INDIVIDUAL
"8 q ue en s , e ac h i na co lu mn o f 8 s qu ar es , a nd s o r eq ui re s 8× l og 8=24 b it s . Al te rn at iv el y ,"
2
"t he st at ec ou ld be re pr es en te da s 8 d ig it s ,e ac hi nt he ra ng ef ro m 1 t o 8. (We de mo ns tr at el at er"
t ha t t he t wo e nc od in gs b eh av e d if fe re nt ly .) Fi gu re 4.6(a) s ho ws a p op ul at io n o f f ou r 8-d ig it
s tr in gs re pr es en ti ng 8-q ue en s s ta te s .
"Th e p ro du ct io n o f t he n ex t g en er at io n o f s ta te s i s s ho wn i n Fi gu re 4.6(b)–(e). In (b),"
"e ac h s ta te i s r at ed b y t he o bj ec ti ve f un ct io n , o r(i n GAt er mi no lo gy) t he f it ne ss fu nc ti on . A"
FITNESSFUNCTION
"f it ne ss f un ct io n s ho ul d r et ur n h ig he r v al ue s f or b et te r s ta te s , s o , f or t he 8-q ue en s p ro bl em"
"w e u se t he n um be r o f n on at ta ck in g p ai rs o f q ue en s , w hi ch h as a v al ue o f 28 f or a s ol ut io n ."
"Th e v al ue s o f t he f ou r s ta te s a re 24, 23, 20, a nd 11. In t hi s p ar ti cu la r v ar ia nt o f t he g en et ic"
"a lg or it hm , t he p ro ba bi li ty o f b ei ng c ho se n f or r ep ro du ci ng i s d ir ec tl y p ro po rt io na l t o t he"
"f it ne ss sc or e ,a nd th ep er ce nt ag es a re sh ow nn ex tt ot he ra ws co re s ."
"In (c), t wo p ai rs a re s el ec te d a t r an do m f or r ep ro du ct io n , i n a cc or da nc e w it h t he p ro b-"
128 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
a bi li ti es i n (b). No ti ce t ha t o ne i nd iv id ua l i s s el ec te d t wi ce a nd o ne n ot a t a ll .4 Fo r e ac h
"p ai r t o b e m at ed , a c ro ss ov er p oi nt i s c ho se n r an do ml y f ro m t he p os it io ns i n t he s tr in g . In"
CROSSOVER
"Fi gu re 4.6,t he cr os so ve rp oi nt sa re af te rt he th ir dd ig it in t he fi rs tp ai ra nd af te rt he fi ft hd ig it"
i nt he se co nd pa ir .5
"In (d), t he o ff sp ri ng t he ms el ve s a re c re at ed b y c ro ss in g o ve r t he p ar en t s tr in gs a t t he"
"c ro ss ov er po in t . Fo re xa mp le ,t he fi rs tc hi ld of th ef ir st pa ir g et st he fi rs tt hr ee di gi ts fr om th e"
"f ir st p ar en t a nd t he r em ai ni ng d ig it s f ro m t he s ec on d p ar en t , w he re as t he s ec on d c hi ld g et s"
t he f ir st t hr ee d ig it s f ro m t he s ec on d p ar en t a nd t he r es t f ro m t he f ir st p ar en t . Th e 8-q ue en s
s ta te s i nv ol ve d i n t hi s r ep ro du ct io n s te p a re s ho wn i n Fi gu re 4.7. Th e e xa mp le s ho ws t ha t
"w he nt wo pa re nt s ta te sa re qu it ed if fe re nt , t he cr os so ve r o pe ra ti on c an pr od uc e a st at et ha ti s"
a l on g w ay f ro m e it he r p ar en t s ta te . It i s o ft en t he c as e t ha t t he p op ul at io n i s q ui te d iv er se
"e ar ly on in th ep ro ce ss ,s oc ro ss ov er(l ik es im ul at ed an ne al in g)f re qu en tl yt ak es la rg es te ps in"
t he s ta te s pa ce e ar ly i n t he s ea rc h p ro ce ss a nd s ma ll er s te ps l at er o n w he n m os t i nd iv id ua ls
a re qu it es im il ar .
"Fi na ll y , i n (e), e ac h l oc at io n i s s ub je ct t o r an do m m ut at io n w it h a s ma ll i nd ep en de nt"
MUTATION
"p ro ba bi li ty . On e d ig it w as m ut at ed i n t he f ir st , t hi rd , a nd f ou rt h o ff sp ri ng . In t he 8-q ue en s"
"p ro bl em , t hi s c or re sp on ds t o c ho os in g a q ue en a t r an do m a nd m ov in g i t t o a r an do m s qu ar e"
i ni ts co lu mn . Fi gu re 4.8 d es cr ib es a na lg or it hm t ha ti mp le me nt sa ll th es es te ps .
"Li ke s to ch as ti c b ea m s ea rc h , g en et ic a lg or it hm s c om bi ne a n u ph il l t en de nc y w it h r an-"
d om e xp lo ra ti on a nd e xc ha ng e o f i nf or ma ti on a mo ng p ar al le l s ea rc h t hr ea ds . Th e p ri ma ry
"a dv an ta ge , i f a ny , o f g en et ic a lg or it hm s c om es f ro m t he c ro ss ov er o pe ra ti on . Ye t i t c an b e"
"s ho wn m at he ma ti ca ll y t ha t , i f t he p os it io ns o f t he g en et ic c od e a re p er mu te d i ni ti al ly i n a"
"r an do m o rd er , c ro ss ov er c on ve ys n o a dv an ta ge . In tu it iv el y , t he a dv an ta ge c om es f ro m t he"
a bi li ty of cr os so ve rt oc om bi ne la rg eb lo ck so fl et te rs th at h av ee vo lv ed in de pe nd en tl y t op er-
"f or m u se fu l f un ct io ns , t hu s r ai si ng t he l ev el o f g ra nu la ri ty a t w hi ch t he s ea rc h o pe ra te s . Fo r"
"e xa mp le ,i tc ou ld be th at pu tt in gt he fi rs tt hr ee qu ee ns in po si ti on s 2,4,a nd 6(w he re th ey do"
n ot a tt ac k e ac h o th er) c on st it ut es a u se fu l b lo ck t ha t c an b e c om bi ne d w it h o th er b lo ck s t o
c on st ru ct a so lu ti on .
"Th e t he or y o f g en et ic a lg or it hm s e xp la in s h ow t hi s w or ks u si ng t he i de a o f a s ch em a ,"
SCHEMA
"w hi ch i s a s ub st ri ng i n w hi ch s om e o f t he p os it io ns c an b e l ef t u ns pe ci fi ed . Fo r e xa mp le ,"
t he s ch em a 246***** d es cr ib es a ll 8-q ue en s s ta te s i n w hi ch t he f ir st t hr ee q ue en s a re i n
"p os it io ns 2, 4, a nd 6, r es pe ct iv el y . St ri ng s t ha t m at ch t he s ch em a (s uc h a s 24613578) a re"
c al le di ns ta nc es of th es ch em a . It ca nb es ho wn th at if th ea ve ra ge fi tn es so ft he in st an ce s o f
INSTANCE
"a sc he ma is ab ov et he me an ,t he nt he nu mb er of in st an ce so ft he sc he ma wi th in th ep op ul at io n"
"w il lg ro wo ve rt im e . Cl ea rl y ,t hi se ff ec ti su nl ik el yt ob es ig ni fi ca nt if ad ja ce nt bi ts ar et ot al ly"
"u nr el at ed t o e ac h o th er , b ec au se t he n t he re w il l b e f ew c on ti gu ou s b lo ck s t ha t p ro vi de a"
c on si st en t b en ef it . Ge ne ti c a lg or it hm s w or k b es t w he n s ch em at a c or re sp on d t o m ea ni ng fu l
"c om po ne nt so fa so lu ti on . Fo re xa mp le ,i ft he st ri ng is ar ep re se nt at io no fa na nt en na ,t he nt he"
"s ch em at am ay re pr es en tc om po ne nt so ft he an te nn a ,s uc ha sr ef le ct or sa nd de fl ec to rs . Ag oo d"
"4 Th er ea re ma ny va ri an ts of th is se le ct io nr ul e . Th em et ho do fc ul li ng ,i nw hi ch al li nd iv id ua ls be lo wa gi ve n"
"t hr es ho ld ar ed is ca rd ed ,c an be sh ow nt oc on ve rg ef as te rt ha nt he ra nd om ve rs io n(Ba um et al .,1995)."
"5 It is he re th at th ee nc od in gm at te rs . If a 24-b it en co di ng is us ed in st ea do f 8 d ig it s ,t he nt he cr os so ve rp oi nt"
"h as a 2/3 c ha nc eo fb ei ng in th em id dl eo fa di gi t ,w hi ch re su lt si na ne ss en ti al ly ar bi tr ar ym ut at io no ft ha td ig it ."
Se ct io n 4.2. Lo ca l Se ar ch in Co nt in uo us Sp ac es 129
"f un ct io n GENETIC-ALGORITHM(p op ul at io n ,FITNESS-FN)r et ur ns an in di vi du al"
"i np ut s:p op ul at io n ,a se to fi nd iv id ua ls"
"FITNESS-FN ,a fu nc ti on th at me as ur es th ef it ne ss of an in di vi du al"
r ep ea t
n ew p op ul at io n←e mp ty se t
f or i =1 t o SIZE(p op ul at io n)d o
"x←RANDOM-SELECTION(p op ul at io n ,FITNESS-FN)"
"y←RANDOM-SELECTION(p op ul at io n ,FITNESS-FN)"
"c hi ld←REPRODUCE(x ,y)"
i f(s ma ll ra nd om pr ob ab il it y)t he nc hi ld←MUTATE(c hi ld)
a dd ch il d t on ew p op ul at io n
p op ul at io n←n ew p op ul at io n
"u nt il so me in di vi du al is fi te no ug h ,o re no ug ht im eh as el ap se d"
"r et ur nt he be st in di vi du al in po pu la ti on ,a cc or di ng to FITNESS-FN"
"f un ct io n REPRODUCE(x ,y)r et ur ns an in di vi du al"
"i np ut s:x ,y ,p ar en ti nd iv id ua ls"
n←LENGTH(x);c←r an do mn um be rf ro m 1 t on
"r et ur n APPEND(SUBSTRING(x ,1,c),SUBSTRING(y ,c+1,n))"
Fi gu re 4.8 A g en et ic a lg or it hm . Th e a lg or it hm i s t he s am e a s t he o ne d ia gr am me d i n
"Fi gu re 4.6, w it h o ne v ar ia ti on: i n t hi s m or e p op ul ar v er si on , e ac h m at in g o f t wo p ar en ts"
"p ro du ce so nl yo ne of fs pr in g ,n ot tw o ."
c om po ne nt is li ke ly to be go od in av ar ie ty of di ff er en td es ig ns . Th is su gg es ts th at su cc es sf ul
u se of ge ne ti c a lg or it hm sr eq ui re s c ar ef ul en gi ne er in g o ft he re pr es en ta ti on .
"In pr ac ti ce ,g en et ic al go ri th ms ha ve ha da wi de sp re ad im pa ct on op ti mi za ti on pr ob le ms ,"
"s uc h a sc ir cu it l ay ou t a nd j ob-s ho p s ch ed ul in g . At pr es en t , i ti sn ot c le ar wh et he rt he a pp ea l"
o fg en et ic al go ri th ms ar is es fr om th ei rp er fo rm an ce or fr om t he iræs th et ic al ly pl ea si ng or ig in s
i n t he t he or y o f e vo lu ti on . Mu ch w or k r em ai ns t o b e d on e t o i de nt if y t he c on di ti on s u nd er
w hi ch ge ne ti ca lg or it hm s p er fo rm we ll .
4.2 LOCAL SEARCH IN CONTINUOUS SPACES
"In Ch ap te r 2, w e e xp la in ed t he d is ti nc ti on b et we en d is cr et e a nd c on ti nu ou s e nv ir on me nt s ,"
p oi nt in g o ut t ha t m os t r ea l-w or ld e nv ir on me nt s a re c on ti nu ou s . Ye t n on e o f t he a lg or it hm s
w eh av ed es cr ib ed (e xc ep tf or fi rs t-c ho ic e h il lc li mb in ga nd s im ul at ed a nn ea li ng) c an ha nd le
"c on ti nu ou s s ta te an da ct io ns pa ce s ,b ec au se th ey ha ve in fi ni te br an ch in gf ac to rs . Th is se ct io n"
p ro vi de s a v er y b ri ef i nt ro du ct io n t o s om e l oc al s ea rc h t ec hn iq ue s f or f in di ng o pt im al s ol u-
t io ns i n c on ti nu ou s s pa ce s . Th el it er at ur e o n t hi s t op ic i s v as t ; m an y o f t he b as ic t ec hn iq ue s
130 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
EVOLUTION AND SEARCH
Th e t he or y o f e vo lu ti on w as d ev el op ed i n Ch ar le s Da rw in’s On t he Or ig in o f
Sp ec ie sb y Me an so f Na tu ra l Se le ct io n(1859)a nd in de pe nd en tl y b y Al fr ed Ru ss el
Wa ll ac e (1858). Th e c en tr al i de a i s s im pl e: v ar ia ti on s o cc ur i n r ep ro du ct io n a nd
w il l b e p re se rv ed i n s uc ce ss iv e g en er at io ns a pp ro xi ma te ly i n p ro po rt io n t o t he ir
e ff ec to nr ep ro du ct iv e f it ne ss .
Da rw in’s th eo ry wa sd ev el op ed wi th no kn ow le dg eo fh ow th et ra it so fo rg an-
i sm s c an b e i nh er it ed a nd m od if ie d . Th e p ro ba bi li st ic l aw s g ov er ni ng t he se p ro-
"c es se s w er e f ir st i de nt if ie d b y Gr eg or Me nd el (1866), a m on k w ho e xp er im en te d"
"w it hs we et pe as . Mu ch la te r ,Wa ts on an d Cr ic k(1953)i de nt if ie dt he st ru ct ur eo ft he"
"DNA m ol ec ul e a nd i ts a lp ha be t , AGTC (a de ni ne , g ua ni ne , t hy mi ne , c yt os in e). In"
"t he st an da rd mo de l ,v ar ia ti on oc cu rs bo th by po in tm ut at io ns in th el et te rs eq ue nc e"
a nd b y “c ro ss ov er” (i n w hi ch t he DNAo f a n o ff sp ri ng i s g en er at ed b y c om bi ni ng
l on gs ec ti on s o f DNAf ro me ac hp ar en t).
Th ea na lo gy to lo ca ls ea rc ha lg or it hm sh as al re ad yb ee nd es cr ib ed ; t he pr in ci-
p al di ff er en ce be tw ee ns to ch as ti cb ea ms ea rc ha nd ev ol ut io ni st he us eo fs ex ua lr e-
"p ro du ct io n , w he re in s uc ce ss or s a re g en er at ed f ro m m ul ti pl e o rg an is ms r at he r t ha n"
"j us t o ne . Th e a ct ua l m ec ha ni sm s o f e vo lu ti on a re , h ow ev er , f ar r ic he r t ha n m os t"
"g en et ic a lg or it hm s a ll ow . Fo r e xa mp le , m ut at io ns c an i nv ol ve r ev er sa ls , d up li ca-"
"t io ns ,a nd mo ve me nt of la rg ec hu nk so f DNA ;s om ev ir us es bo rr ow DNAf ro mo ne"
o rg an is m a nd in se rt i ti na no th er ; a nd t he re ar et ra ns po sa bl e g en es t ha td on ot hi ng
b ut c op y t he ms el ve s m an y t ho us an ds o f t im es w it hi n t he g en om e . Th er e a re e ve n
"g en es th at po is on c el ls fr om po te nt ia l m at es th at do no tc ar ry th eg en e ,t he re by i n-"
c re as in gt he ir ow nc ha nc es of re pl ic at io n . Mo st im po rt an ti st he fa ct th at th eg en es
t he ms el ve s e nc od e t he m ec ha ni sm s w he re by t he g en om e i s r ep ro du ce d a nd t ra ns-
"l at ed i nt o a n o rg an is m . In g en et ic a lg or it hm s , t ho se m ec ha ni sm s a re a s ep ar at e"
p ro gr am th at is no tr ep re se nt ed w it hi nt he st ri ng s b ei ng ma ni pu la te d .
"Da rw in ia n e vo lu ti on m ay a pp ea r i ne ff ic ie nt , h av in g g en er at ed b li nd ly s om e"
1045 o r s o o rg an is ms w it ho ut i mp ro vi ng i ts s ea rc h h eu ri st ic s o ne i ot a . Fi ft y
"y ea rs be fo re Da rw in ,h ow ev er ,t he ot he rw is eg re at Fr en ch na tu ra li st Je an La ma rc k"
(1809) p ro po se d a t he or y o f e vo lu ti on w he re by t ra it s a cq ui re d b y a da pt at io n d ur-
i ng a n o rg an is m’s l if et im e w ou ld b e p as se d o n t o i ts o ff sp ri ng . Su ch a p ro ce ss
"w ou ld b e e ff ec ti ve b ut d oe s n ot s ee m t o o cc ur i n n at ur e . Mu ch l at er , Ja me s Ba ld-"
w in(1896)p ro po se da su pe rf ic ia ll ys im il ar th eo ry: t ha tb eh av io rl ea rn ed du ri ng an
"o rg an is m’s li fe ti me co ul da cc el er at et he ra te of ev ol ut io n . Un li ke La ma rc k’s ,Ba ld-"
w in’s th eo ry is en ti re ly co ns is te nt wi th Da rw in ia ne vo lu ti on be ca us ei tr el ie so ns e-
l ec ti on p re ss ur es o pe ra ti ng o ni nd iv id ua ls t ha t h av e f ou nd l oc al o pt im aa mo ng t he
s et o f p os si bl e b eh av io rs a ll ow ed b y t he ir g en et ic m ak eu p . Co mp ut er s im ul at io ns
"c on fi rm t ha t t he “Ba ld wi n e ff ec t” i s r ea l , o nc e “o rd in ar y” e vo lu ti on h as c re at ed"
o rg an is ms wh os ei nt er na l p er fo rm an ce m ea su re co rr el at es w it ha ct ua lf it ne ss .
Se ct io n 4.2. Lo ca l Se ar ch in Co nt in uo us Sp ac es 131
"o ri gi na te di nt he 17 t hc en tu ry ,a ft er th ed ev el op me nt of ca lc ul us by Ne wt on an d Le ib ni z .6 We"
"f in du se sf or th es et ec hn iq ue sa ts ev er al pl ac es in th eb oo k ,i nc lu di ng th ec ha pt er so nl ea rn in g ,"
"v is io n , a nd ro bo ti cs ."
We b eg in w it h a n e xa mp le . Su pp os e w e w an t t o p la ce t hr ee n ew a ir po rt s a ny wh er e
"i n Ro ma ni a , s uc h t ha t t he s um o f s qu ar ed d is ta nc es f ro m e ac h c it y o n t he m ap (Fi gu re 3.2)"
t o i ts n ea re st a ir po rt i s m in im iz ed . Th e s ta te s pa ce i s t he n d ef in ed b y t he c oo rd in at es o f
"t he a ir po rt s: (x ,y ), (x ,y ), a nd (x ,y ). Th is i s a s ix-d im en si on al s pa ce ; w e a ls o s ay"
1 1 2 2 3 3
"t ha t s ta te s a re d ef in ed b y s ix v ar ia bl es . (In g en er al , s ta te s a re d ef in ed b y a n n-d im en si on al"
VARIABLE
"v ec to r o f v ar ia bl es , x .) Mo vi ng a ro un d i n t hi s s pa ce c or re sp on ds t o m ov in g o ne o r m or e o f"
"t he a ir po rt s o n t he m ap . Th e o bj ec ti ve f un ct io n f(x ,y ,x ,y ,x ,y ) i s r el at iv el y e as y t o"
1 1 2 2 3 3
c om pu te f or a ny p ar ti cu la r s ta te o nc e w e c om pu te t he c lo se st c it ie s . Le t C b e t he s et o f
i
"c it ie sw ho se cl os es ta ir po rt(i nt he cu rr en ts ta te)i sa ir po rt i . Th en ,i nt he ne ig hb or ho od o ft he"
"c ur re nt st at e ,w he re th e C s re ma in co ns ta nt , w eh av e"
i
(c id:12)3 (c id:12)
"f(x ,y ,x ,y ,x ,y ) = (x −x )2+(y −y )2 . (4.1)"
1 1 2 2 3 3 i c i c
i=1 c∈Ci
"Th is e xp re ss io n i s c or re ct l oc al ly , b ut n ot g lo ba ll y b ec au se t he s et s C a re (d is co nt in uo us)"
i
f un ct io ns o ft he st at e .
On ew ay to av oi dc on ti nu ou sp ro bl em si ss im pl yt od is cr et iz et he ne ig hb or ho od of ea ch
DISCRETIZATION
"s ta te . Fo re xa mp le , w e c an m ov e o nl y o ne a ir po rt a t a t im e i n e it he r t he x o r y d ir ec ti on b y"
"a f ix ed a mo un t ±δ. Wi th 6 v ar ia bl es , t hi s g iv es 12 p os si bl e s uc ce ss or s f or e ac h s ta te . We"
c an t he n a pp ly a ny o f t he l oc al s ea rc h a lg or it hm s d es cr ib ed p re vi ou sl y . We c ou ld a ls o a p-
"p ly s to ch as ti c h il l c li mb in g a nd s im ul at ed a nn ea li ng d ir ec tl y , w it ho ut d is cr et iz in g t he s pa ce ."
"Th es ea lg or it hm sc ho os es uc ce ss or sr an do ml y ,w hi ch ca nb ed on eb yg en er at in gr an do mv ec-"
t or so fl en gt h δ.
Ma ny m et ho ds a tt em pt t o u se t he g ra di en t o f t he l an ds ca pe t o f in d a m ax im um . Th e
GRADIENT
g ra di en to ft he ob je ct iv ef un ct io ni sa ve ct or∇f t ha tg iv es th em ag ni tu de an dd ir ec ti on of th e
"s te ep es t s lo pe . Fo ro ur pr ob le m ,w eh av e"
(c id:13) (c id:14)
∂f ∂f ∂f ∂f ∂f ∂f
"∇f = , , , , , ."
∂x ∂y ∂x ∂y ∂x ∂y
1 1 2 2 3 3
"In so me ca se s ,w ec an fi nd am ax im um by so lv in gt he eq ua ti on∇f=0. (Th is co ul db ed on e ,"
"f or ex am pl e ,i fw ew er ep la ci ng ju st on ea ir po rt ;t he so lu ti on is th ea ri th me ti cm ea no fa ll th e"
"c it ie s’ c oo rd in at es .) In m an y c as es , h ow ev er , t hi s e qu at io n c an no t b e s ol ve d i n c lo se d f or m ."
"Fo r e xa mp le , w it h t hr ee a ir po rt s , t he e xp re ss io n f or t he g ra di en t d ep en ds o n w ha t c it ie s a re"
c lo se st t o e ac h a ir po rt i n t he c ur re nt s ta te . Th is m ea ns w e c an c om pu te t he g ra di en t l oc al ly
"(b ut no tg lo ba ll y); f or ex am pl e ,"
(c id:12)
∂f
= 2 (x −x ). (4.2)
i c
∂x
1 c∈C 1
"Gi ve na lo ca ll yc or re ct ex pr es si on fo rt he gr ad ie nt ,w ec an pe rf or ms te ep es t-a sc en th il lc li mb-"
6 Ab as ic kn ow le dg eo fm ul ti va ri at ec al cu lu sa nd ve ct or ar it hm et ic is us ef ul fo rr ea di ng th is se ct io n .
132 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
i ng by up da ti ng th ec ur re nt st at ea cc or di ng t ot he fo rm ul a
"x ← x+α∇f(x),"
"w he re α i s a s ma ll c on st an t o ft en c al le d t he s te p s iz e . In o th er c as es , t he o bj ec ti ve f un ct io n"
STEPSIZE
"m ig ht no tb ea va il ab le in ad if fe re nt ia bl ef or ma ta ll—f or ex am pl e ,t he va lu eo fa pa rt ic ul ar se t"
o f a ir po rt l oc at io ns m ig ht b e d et er mi ne d b y r un ni ng s om e l ar ge-s ca le e co no mi c s im ul at io n
"EMPIRICAL p ac ka ge . In t ho se c as es , w e c an c al cu la te a s o-c al le d e mp ir ic al g ra di en t b y e va lu at in g t he"
GRADIENT
r es po ns e t o s ma ll i nc re me nt s a nd d ec re me nt s i n e ac h c oo rd in at e . Em pi ri ca l g ra di en t s ea rc h
i st he sa me as st ee pe st-a sc en t h il lc li mb in gi na di sc re ti ze d v er si on of th es ta te sp ac e .
Hi dd en b en ea th t he p hr as e “α i s a s ma ll c on st an t” l ie s a h ug e v ar ie ty o f m et ho ds f or
"a dj us ti ng α. Th e b as ic p ro bl em i s t ha t , i f α i s t oo s ma ll , t oo m an y s te ps a re n ee de d ; i f α"
"i s t oo l ar ge , t he s ea rc h c ou ld o ve rs ho ot t he m ax im um . Th e t ec hn iq ue o f l in e s ea rc h t ri es t o"
LINESEARCH
o ve rc om e t hi s d il em ma b y e xt en di ng t he c ur re nt g ra di en t d ir ec ti on—u su al ly b y r ep ea te dl y
d ou bl in gα—u nt il f s ta rt st od ec re as ea ga in . Th ep oi nt at wh ic ht hi so cc ur sb ec om es th en ew
c ur re nt s ta te . Th er e a re s ev er al s ch oo ls o f t ho ug ht a bo ut h ow t he n ew d ir ec ti on s ho ul d b e
c ho se na tt hi sp oi nt .
"Fo r m an y p ro bl em s , t he m os t e ff ec ti ve a lg or it hm i s t he v en er ab le Ne wt on–Ra ph so n"
NEWTON–RAPHSON
"m et ho d . Th is is ag en er al t ec hn iq ue f or fi nd in gr oo ts of fu nc ti on s—t ha t i s ,s ol vi ng eq ua ti on s"
o f t he f or m g(x)=0. It w or ks b y c om pu ti ng a n ew e st im at e f or t he r oo t x a cc or di ng t o
Ne wt on’s fo rm ul a
x← x−g(x)/g(c id:2) (x).
"To f in d a m ax im um o r m in im um o f f , w e n ee d t o f in d x s uc h t ha t t he g ra di en t i s z er o (i .e .,"
"∇f(x)=0). Th us , g(x) i n Ne wt on’s f or mu la b ec om es ∇f(x), a nd t he u pd at e e qu at io n c an"
b ew ri tt en in ma tr ix–v ec to r f or ma s
"x ← x−H−1(x)∇f(x),"
f
"w he re H (x) i s t he He ss ia n m at ri x o f s ec on d d er iv at iv es , w ho se e le me nt s H a re g iv en"
HESSIAN f i j
"b y ∂2 f/∂x ∂x . Fo r o ur a ir po rt e xa mp le , w e c an s ee f ro m Eq ua ti on (4.2) t ha t H (x) i s"
i j f
p ar ti cu la rl y s im pl e: t he of f-d ia go na l e le me nt s a re z er o a nd t he di ag on al e le me nt s f or ai rp or t
i a re j us t t wi ce t he n um be r o f c it ie s i n C . A m om en t’s c al cu la ti on s ho ws t ha t o ne s te p o f
i
"t he u pd at e m ov es a ir po rt i d ir ec tl y t o t he c en tr oi d o f C , w hi ch i s t he m in im um o f t he l oc al"
i
"e xp re ss io n f or f f ro m Eq ua ti on (4.1).7 Fo rh ig h-d im en si on al p ro bl em s , h ow ev er , c om pu ti ng"
"t he n 2 e nt ri es of th e He ss ia na nd in ve rt in gi tm ay be ex pe ns iv e ,s om an ya pp ro xi ma te ve rs io ns"
o ft he Ne wt on–Ra ph so n m et ho dh av eb ee nd ev el op ed .
"Lo ca l s ea rc h m et ho ds s uf fe r f ro m l oc al m ax im a , r id ge s , a nd p la te au x i n c on ti nu ou s"
s ta te sp ac es ju st as mu ch as in di sc re te s pa ce s . Ra nd om re st ar ts an ds im ul at ed an ne al in g c an
"b e u se d a nd a re o ft en h el pf ul . Hi gh-d im en si on al c on ti nu ou s s pa ce s a re , h ow ev er , b ig p la ce s"
i nw hi ch it is ea sy to ge tl os t .
CONSTRAINED Af in al to pi cw it hw hi ch ap as si ng ac qu ai nt an ce i su se fu li sc on st ra in ed op ti mi za ti on .
OPTIMIZATION
An op ti mi za ti on pr ob le mi sc on st ra in ed if so lu ti on sm us ts at is fy so me ha rd co ns tr ai nt so nt he
"v al ue s o f t he v ar ia bl es . Fo re xa mp le , i n o ur ai rp or t-s it in g p ro bl em , w em ig ht c on st ra in s it es"
"7 In ge ne ra l ,t he Ne wt on–Ra ph so nu pd at ec an be se en as fi tt in ga qu ad ra ti cs ur fa ce to f a tx an dt he nm ov in g"
d ir ec tl yt ot he mi ni mu mo ft ha ts ur fa ce—w hi ch is al so th em in im um of f i ff i sq ua dr at ic .
Se ct io n 4.3. Se ar ch in gw it h No nd et er mi ni st ic Ac ti on s 133
t o b e i ns id e Ro ma ni a a nd o n d ry l an d (r at he r t ha n i n t he m id dl e o f l ak es). Th e d if fi cu lt y o f
c on st ra in ed o pt im iz at io n p ro bl em sd ep en ds o nt he na tu re of t he co ns tr ai nt s a nd th eo bj ec ti ve
"LINEAR f un ct io n . Th eb es t-k no wn c at eg or y i st ha t o f l in ea r p ro gr am mi ng p ro bl em s , i n w hi ch c on-"
PROGRAMMING
s tr ai nt s m us t b e l in ea r i ne qu al it ie s f or mi ng a c on ve x s et 8 a nd t he o bj ec ti ve f un ct io n i s a ls o
CONVEXSET
l in ea r . Th et im ec om pl ex it yo fl in ea rp ro gr am mi ng is po ly no mi al in th en um be ro fv ar ia bl es .
Li ne ar p ro gr am mi ng i s p ro ba bl y t he m os t w id el y s tu di ed a nd b ro ad ly u se fu l c la ss o f
o pt im iz at io n p ro bl em s . It i s a s pe ci al c as e o f t he m or e g en er al p ro bl em o f c on ve x o pt i-
"CONVEX m iz at io n , w hi ch a ll ow s t he c on st ra in t r eg io n t o b e a ny c on ve x r eg io n a nd t he o bj ec ti ve t o"
OPTIMIZATION
"b ea ny fu nc ti on t ha ti sc on ve xw it hi nt he co ns tr ai nt r eg io n . Un de rc er ta in co nd it io ns , c on ve x"
o pt im iz at io n p ro bl em s a re a ls o p ol yn om ia ll y s ol va bl e a nd m ay b e f ea si bl e i n p ra ct ic e w it h
t ho us an ds o f v ar ia bl es . Se ve ra l i mp or ta nt p ro bl em s i n m ac hi ne l ea rn in g a nd c on tr ol t he or y
c an be fo rm ul at ed a sc on ve xo pt im iz at io n p ro bl em s(s ee Ch ap te r 20).
4.3 SEARCHING WITH NONDETERMINISTIC ACTIONS
"In Ch ap te r 3,w ea ss um ed th at th ee nv ir on me nt i sf ul ly ob se rv ab le a nd de te rm in is ti c a nd th at"
"t he ag en tk no ws wh at th ee ff ec ts of ea ch ac ti on ar e . Th er ef or e ,t he ag en tc an ca lc ul at ee xa ct ly"
w hi ch s ta te r es ul ts f ro m a ny s eq ue nc e o f a ct io ns a nd a lw ay s k no ws w hi ch s ta te i t i s i n . It s
"p er ce pt s p ro vi de n on ew in fo rm at io n a ft er ea ch ac ti on , a lt ho ug h o fc ou rs e t he yt el lt he ag en t"
t he in it ia ls ta te .
"Wh en th ee nv ir on me nt i se it he rp ar ti al ly o bs er va bl e o rn on de te rm in is ti c (o rb ot h), p er-"
"c ep ts be co me us ef ul . In ap ar ti al ly ob se rv ab le en vi ro nm en t , e ve ry pe rc ep th el ps na rr ow do wn"
"t he se to fp os si bl e s ta te s t he ag en t m ig ht be in , t hu s m ak in gi te as ie rf or th ea ge nt t oa ch ie ve"
"i ts go al s . Wh en th ee nv ir on me nt is no nd et er mi ni st ic , p er ce pt st el lt he ag en tw hi ch of th ep os-"
"s ib le o ut co me s o fi ts a ct io ns h as ac tu al ly o cc ur re d . In b ot h c as es , t he f ut ur e p er ce pt s c an no t"
b ed et er mi ne di na dv an ce an dt he ag en t’s fu tu re ac ti on sw il ld ep en do nt ho se fu tu re pe rc ep ts .
So th es ol ut io nt oa pr ob le mi sn ot as eq ue nc eb ut ac on ti ng en cy pl an(a ls ok no wn as as tr at-
CONTINGENCYPLAN
"e gy) t ha t s pe ci fi es w ha t t o d o d ep en di ng o n w ha t p er ce pt s a re r ec ei ve d . In t hi s s ec ti on , w e"
STRATEGY
"e xa mi ne th ec as eo fn on de te rm in is m , d ef er ri ng p ar ti al ob se rv ab il it y t o Se ct io n 4.4."
4.3.1 Th e e rr at ic va cu um w or ld
"As a n e xa mp le , w e u se t he v ac uu m w or ld , f ir st i nt ro du ce d i n Ch ap te r 2 a nd d ef in ed a s a"
"s ea rc h p ro bl em i n Se ct io n 3.2.1. Re ca ll t ha t t he s ta te s pa ce h as e ig ht s ta te s , a s s ho wn i n"
"Fi gu re 4.9. Th er e a re t hr ee a ct io ns—Le ft , Ri gh t , a nd Su ck—a nd t he g oa l i s t o c le an u p a ll"
"t he d ir t (s ta te s 7 a nd 8). If t he e nv ir on me nt i s o bs er va bl e , d et er mi ni st ic , a nd c om pl et el y"
"k no wn , t he n t he p ro bl em i s t ri vi al ly s ol va bl e b y a ny o f t he a lg or it hm s i n Ch ap te r 3 a nd t he"
"s ol ut io n i sa na ct io n s eq ue nc e . Fo re xa mp le , i ft he in it ia l s ta te i s 1, t he n t he ac ti on s eq ue nc e"
"[Su ck ,Ri gh t ,Su ck]w il lr ea ch ag oa ls ta te , 8."
8 As et of po in ts Si sc on ve xi ft he li ne jo in in ga ny tw op oi nt si n Si sa ls oc on ta in ed in S .Ac on ve xf un ct io ni s
"o ne fo rw hi ch th es pa ce“a bo ve”i tf or ms ac on ve xs et ;b yd ef in it io n ,c on ve xf un ct io ns ha ve no lo ca l(a so pp os ed"
t og lo ba l)m in im a .
134 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
1 2
3 4
5 6
7 8
Fi gu re 4.9 Th ee ig ht po ss ib le st at es of th ev ac uu mw or ld ;s ta te s 7 a nd 8 a re go al st at es .
No w s up po se t ha t w e i nt ro du ce n on de te rm in is m i n t he f or m o f a p ow er fu l b ut e rr at ic
"ERRATICVACUUM v ac uu mc le an er . In th ee rr at ic va cu um wo rl d ,t he Su ck ac ti on wo rk sa sf ol lo ws:"
WORLD
• Wh en a pp li ed t o a d ir ty s qu ar e t he a ct io n c le an s t he s qu ar e a nd s om et im es c le an s u p
"d ir ti na na dj ac en ts qu ar e , t oo ."
• Wh en ap pl ie d t oa cl ea ns qu ar et he ac ti on so me ti me sd ep os it s d ir to nt he ca rp et .9
"To pr ov id ea pr ec is ef or mu la ti on o ft hi sp ro bl em ,w en ee dt og en er al iz e t he no ti on of at ra n-"
s it io nm od el fr om Ch ap te r 3. In st ea do fd ef in in gt he tr an si ti on m od el by a RESULT f un ct io n
"t ha t r et ur ns a si ng le s ta te , w eu se a RESULTS f un ct io n t ha tr et ur ns a s et of po ss ib le o ut co me"
"s ta te s . Fo re xa mp le , i nt he er ra ti c v ac uu m w or ld , t he Su ck a ct io n i ns ta te 1 l ea ds t oa st at ei n"
"t he se t{5,7}—t he di rt in th er ig ht-h an d s qu ar em ay or ma yn ot be va cu um ed up ."
"We al so ne ed t og en er al iz e t he no ti on o fa so lu ti on t ot he pr ob le m . Fo re xa mp le , i fw e"
"s ta rt i n s ta te 1, t he re i s n o s in gl e s eq ue nc e o f a ct io ns t ha t s ol ve s t he p ro bl em . In st ea d , w e"
n ee da co nt in ge nc y p la ns uc ha st he fo ll ow in g:
"[Su ck ,i f St at e=5 t he n[Ri gh t ,Su ck]e ls e[]]. (4.3)"
"Th us , s ol ut io ns f or n on de te rm in is ti c p ro bl em s c an c on ta in n es te d i f–t he n–e ls e s ta te me nt s ;"
t hi s m ea ns t ha t t he y a re t re es r at he r t ha n s eq ue nc es . Th is a ll ow s t he s el ec ti on o f a ct io ns
"b as ed o nc on ti ng en ci es a ri si ng d ur in g e xe cu ti on . Ma ny pr ob le ms i n t he re al , p hy si ca l w or ld"
"a re c on ti ng en cy p ro bl em s b ec au se e xa ct p re di ct io n i s i mp os si bl e . Fo r t hi s r ea so n , m an y"
p eo pl ek ee pt he ir ey es op en wh il ew al ki ng ar ou nd or dr iv in g .
9 We a ss um e t ha t m os t r ea de rs f ac e s im il ar p ro bl em s a nd c an s ym pa th iz e w it h o ur a ge nt . We a po lo gi ze t o
"o wn er so fm od er n ,e ff ic ie nt ho me ap pl ia nc es wh oc an no tt ak ea dv an ta ge of th is pe da go gi ca ld ev ic e ."
Se ct io n 4.3. Se ar ch in gw it h No nd et er mi ni st ic Ac ti on s 135
4.3.2 AND–OR s ea rc ht re es
Th e n ex t q ue st io n i s h ow t o f in d c on ti ng en t s ol ut io ns t o n on de te rm in is ti c p ro bl em s . As i n
"Ch ap te r 3,w eb eg in by co ns tr uc ti ng se ar ch tr ee s ,b ut he re th et re es ha ve ad if fe re nt ch ar ac te r ."
"In a de te rm in is ti c e nv ir on me nt , t he o nl y b ra nc hi ng i si nt ro du ce d b y t he a ge nt’s o wn ch oi ce s"
"ORNODE i n e ac h s ta te . We c al l t he se n od es OR n od es . In t he v ac uu m w or ld , f or e xa mp le , a t a n OR"
"n od e t he a ge nt c ho os es Le ft o r Ri gh t o r Su ck . In a no nd et er mi ni st ic e nv ir on me nt , b ra nc hi ng"
i s a ls o i nt ro du ce d b y t he e nv ir on me nt’s c ho ic e o f o ut co me f or e ac h a ct io n . We c al l t he se
"ANDNODE n od es AND n od es . Fo r e xa mp le , t he Su ck a ct io n i n s ta te 1 l ea ds t o a s ta te i n t he s et {5,7},"
s o t he a ge nt w ou ld n ee d t o f in d a p la n f or s ta te 5 a nd f or s ta te 7. Th es e t wo k in ds o f n od es
AND–ORTREE
"a lt er na te , l ea di ng t oa n AND–OR t re ea si ll us tr at ed i n Fi gu re 4.10."
As ol ut io n f or an AND–OR s ea rc hp ro bl em is as ub tr ee th at(1)h as ag oa ln od ea te ve ry
"l ea f , (2) s pe ci fi es o ne a ct io n a te ac h o f i ts OR n od es , a nd (3) i nc lu de s e ve ry o ut co me b ra nc h"
a t e ac h o f i ts AND n od es . Th e s ol ut io n i s s ho wn i n b ol d l in es i n t he f ig ur e ; i t c or re sp on ds
t o t he p la n g iv en i n Eq ua ti on (4.3). (Th e p la n u se s i f–t he n–e ls e n ot at io n t o h an dl e t he AND
"b ra nc he s ,b ut wh en th er ea re mo re th an tw ob ra nc he sa ta no de , i tm ig ht be be tt er to us ea ca se"
1
Su ck Ri gh t
7 5 2
GOAL
Su ck Ri gh t Le ft Su ck
5 1 6 1 8 4
Su ck Le ft
LOOP LOOP LOOP GOAL
8 5
GOAL LOOP
Fi gu re 4.10 Th e f ir st t wo l ev el s o f t he s ea rc h t re e f or t he e rr at ic v ac uu m w or ld . St at e
"n od es ar e ORn od es wh er es om ea ct io nm us tb ec ho se n .At th e ANDn od es ,s ho wn as ci rc le s ,"
"e ve ry ou tc om em us tb eh an dl ed ,a si nd ic at ed by th ea rc li nk in gt he ou tg oi ng br an ch es . Th e"
s ol ut io nf ou nd is sh ow ni nb ol dl in es .
136 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
"f un ct io n AND-OR-GRAPH-SEARCH(p ro bl em)r et ur ns a c on di ti on al p la n , o r f ai lu re"
"OR-SEARCH(p ro bl em .INITIAL-STATE ,p ro bl em ,[])"
"f un ct io n OR-SEARCH(s ta te ,p ro bl em ,p at h)r et ur ns a c on di ti on al p la n , o r f ai lu re"
i fp ro bl em .GOAL-TEST(s ta te)t he nr et ur nt he em pt yp la n
i fs ta te i so np at h t he nr et ur nf ai lu re
f or ea ch ac ti on i np ro bl em .ACTIONS(s ta te)d o
"p la n←AND-SEARCH(RESULTS(s ta te ,a ct io n),p ro bl em ,[s ta te |p at h])"
i fp la n (c id:7)=f ai lu re t he nr et ur n[a ct io n | p la n]
r et ur nf ai lu re
"f un ct io n AND-SEARCH(s ta te s ,p ro bl em ,p at h)r et ur ns a c on di ti on al p la n , o r f ai lu re"
f or ea ch si in st at es d o
"p la n i←OR-SEARCH(s i ,p ro bl em ,p at h)"
i fp la n =f ai lu re t he nr et ur nf ai lu re
i
r et ur n[i fs 1 t he np la n 1 e ls ei fs 2 t he np la n 2 e ls e ...i fs n−1 t he np la n n−1 e ls ep la n n]
Fi gu re 4.11 An a lg or it hm fo rs ea rc hi ng AND–OR g ra ph sg en er at ed by n on de te rm in is ti c
e nv ir on me nt s .It re tu rn sa co nd it io na lp la nt ha tr ea ch es ag oa ls ta te in al lc ir cu ms ta nc es .(Th e
n ot at io n[x|l]r ef er st ot he li st fo rm ed by ad di ng ob je ct xt ot he fr on to fl is tl .)
c on st ru ct .) Mo di fy in g t he b as ic p ro bl em-s ol vi ng a ge nt s ho wn i n Fi gu re 3.1 t o e xe cu te c on-
t in ge nt so lu ti on so ft hi sk in di ss tr ai gh tf or wa rd . On em ay al so co ns id er as om ew ha td if fe re nt
"a ge nt de si gn , i nw hi ch th ea ge nt ca na ct be fo re it ha sf ou nd ag ua ra nt ee d p la na nd de al sw it h"
s om e c on ti ng en ci es o nl y a s t he y a ri se d ur in g e xe cu ti on . Th is ty pe o f i nt er le av in g o f s ea rc h
INTERLEAVING
a nd ex ec ut io n i sa ls ou se fu lf or ex pl or at io n p ro bl em s (s ee Se ct io n 4.5)a nd fo rg am ep la yi ng
(s ee Ch ap te r 5).
"Fi gu re 4.11 g iv es a r ec ur si ve , d ep th-f ir st a lg or it hm f or AND–OR g ra ph s ea rc h . On e"
"k ey a sp ec t o f t he a lg or it hm i s t he w ay i n w hi ch i t d ea ls w it h c yc le s , w hi ch o ft en a ri se i n"
"n on de te rm in is ti c p ro bl em s (e .g ., i f a n a ct io n s om et im es h as n o e ff ec t o r i f a n u ni nt en de d"
"e ff ec t c an b e c or re ct ed). If t he c ur re nt s ta te i s i de nt ic al t o a s ta te o n t he p at h f ro m t he r oo t ,"
t he ni tr et ur ns wi th fa il ur e . Th is do es n’t me an th at th er ei s n os ol ut io nf ro mt he cu rr en ts ta te ;
"i t s im pl y m ea ns t ha t i f t he re i s a n on cy cl ic s ol ut io n , i t m us t b e r ea ch ab le f ro m t he e ar li er"
"i nc ar na ti on o ft he cu rr en ts ta te ,s ot he ne wi nc ar na ti on c an b ed is ca rd ed . Wi th th is ch ec k ,w e"
"e ns ur et ha tt he al go ri th mt er mi na te si ne ve ry fi ni te st at es pa ce ,b ec au se ev er yp at hm us tr ea ch"
"a go al , a de ad e nd , o ra re pe at ed s ta te . No ti ce t ha t t he a lg or it hm d oe s n ot ch ec k w he th er th e"
"c ur re nt st at ei sa re pe ti ti on of as ta te on so me ot he rp at hf ro mt he ro ot ,w hi ch is im po rt an tf or"
e ff ic ie nc y . Ex er ci se 4.5 i nv es ti ga te s t hi si ss ue .
AND–ORg ra ph sc an al so be ex pl or ed by br ea dt h-f ir st or be st-f ir st me th od s . Th ec on ce pt
o f a h eu ri st ic f un ct io n m us t b e m od if ie d t o e st im at e t he c os t o f a c on ti ng en t s ol ut io n r at he r
∗
"t ha n a se qu en ce , b ut t he n ot io n o f a dm is si bi li ty c ar ri es o ve r a nd t he re i s a n a na lo g o f t he A"
a lg or it hm f or fi nd in go pt im al s ol ut io ns . Po in te rs a re gi ve n i nt he bi bl io gr ap hi ca l n ot es a tt he
e nd of th ec ha pt er .
Se ct io n 4.3. Se ar ch in gw it h No nd et er mi ni st ic Ac ti on s 137
1
Su ck Ri gh t
5 2
Ri gh t
6
"Fi gu re 4.12 Pa rt of th es ea rc hg ra ph fo rt he sl ip pe ry va cu um wo rl d ,w he re we ha ve sh ow n"
(s om e)c yc le se xp li ci tl y . Al ls ol ut io ns fo rt hi sp ro bl em ar ec yc li cp la ns be ca us et he re is n o
w ay to mo ve re li ab ly .
"4.3.3 Tr y ,t ry a ga in"
"Co ns id er t he s li pp er y v ac uu m w or ld , w hi ch i s i de nt ic al t o t he o rd in ar y (n on-e rr at ic) v ac-"
"u um wo rl de xc ep t t ha tm ov em en ta ct io ns so me ti me s f ai l ,l ea vi ng t he ag en ti nt he sa me lo ca-"
"t io n . Fo r e xa mp le , m ov in g Ri gh t i n s ta te 1 l ea ds t o t he s ta te s et {1,2}. Fi gu re 4.12 s ho ws"
"p ar t o f t he s ea rc h g ra ph ; c le ar ly , t he re a re n o l on ge r a ny a cy cl ic s ol ut io ns f ro m s ta te 1, a nd"
CYCLICSOLUTION
"AND-OR-GRAPH-SEARCH w ou ld r et ur n w it h f ai lu re . Th er e i s , h ow ev er , a c yc li c s ol ut io n ,"
w hi ch is to ke ep tr yi ng Ri gh t u nt il it wo rk s . We ca ne xp re ss th is so lu ti on by ad di ng al ab el to
LABEL
d en ot e s om ep or ti on o ft he pl an an du si ng t ha tl ab el l at er in st ea d o fr ep ea ti ng t he pl an it se lf .
"Th us ,o ur cy cl ic so lu ti on is"
"[Su ck ,L : Ri gh t ,i f St at e=5 t he n L e ls e Su ck]."
1 1
(A b et te r s yn ta x f or t he l oo pi ng p ar t o f t hi s p la n w ou ld b e “w hi le St at e=5 d o Ri gh t .”)
In g en er al a c yc li c p la n m ay b e c on si de re d a s ol ut io n p ro vi de d t ha t e ve ry l ea f i s a g oa l
s ta te a nd t ha t a l ea f i s r ea ch ab le f ro m e ve ry p oi nt i n t he p la n . Th e m od if ic at io ns n ee de d
t o AND-OR-GRAPH-SEARCH a re co ve re di n Ex er ci se 4.6. Th ek ey re al iz at io n i st ha ta lo op
i nt he st at es pa ce ba ck to as ta te Lt ra ns la te s t oa lo op in th ep la nb ac kt ot he po in tw he re th e
s ub pl an f or st at e Li se xe cu te d .
"Gi ve nt he de fi ni ti on of ac yc li cs ol ut io n ,a na ge nt ex ec ut in gs uc ha so lu ti on wi ll ev en tu-"
a ll yr ea ch th eg oa lp ro vi de dt ha te ac ho ut co me of an on de te rm in is ti ca ct io ne ve nt ua ll yo cc ur s .
Is t hi s c on di ti on r ea so na bl e ? It d ep en ds o n t he r ea so n f or th e n on de te rm in is m . If t he a ct io n
"r ol ls ad ie ,t he n i t’s re as on ab le t os up po se t ha te ve nt ua ll y a si xw il lb er ol le d . If th ea ct io n i s"
"t oi ns er ta ho te lc ar dk ey in to th ed oo rl oc k ,b ut it do es n’t w or kt he fi rs tt im e ,t he np er ha ps i t"
"w il le ve nt ua ll yw or k ,o rp er ha ps on eh as th ew ro ng ke y(o rt he w ro ng ro om !). Af te rs ev en or"
138 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
"e ig ht tr ie s ,m os tp eo pl ew il la ss um et he pr ob le m i sw it ht he ke ya nd wi ll go ba ck to th ef ro nt"
d es k t o g et an ew o ne . On ew ay to u nd er st an d t hi s d ec is io n i st o s ay th at t he i ni ti al p ro bl em
"f or mu la ti on (o bs er va bl e , n on de te rm in is ti c) i s a ba nd on ed i n f av or o f a d if fe re nt f or mu la ti on"
"(p ar ti al ly o bs er va bl e , d et er mi ni st ic) w he re t he f ai lu re i s a tt ri bu te d t o a n u no bs er va bl e p ro p-"
e rt yo ft he ke y . We ha ve mo re to sa yo nt hi si ss ue in Ch ap te r 13.
4.4 SEARCHING WITH PARTIAL OBSERVATIONS
"We n ow t ur n t o t he p ro bl em o f p ar ti al o bs er va bi li ty , w he re t he a ge nt’s p er ce pt s d o n ot s uf-"
"f ic e t o p in d ow n t he e xa ct s ta te . As n ot ed a t t he b eg in ni ng o f t he p re vi ou s s ec ti on , i f t he"
"a ge nt i s i n o ne o f s ev er al p os si bl e s ta te s , t he n a n a ct io n m ay l ea d t o o ne o f s ev er al p os si bl e"
o ut co me s—e ve n i f t he e nv ir on me nt i s d et er mi ni st ic . Th e k ey c on ce pt r eq ui re d f or s ol vi ng
"p ar ti al ly ob se rv ab le pr ob le ms is th e b el ie fs ta te ,r ep re se nt in g t he ag en t’s cu rr en tb el ie fa bo ut"
BELIEFSTATE
"t he p os si bl e p hy si ca l s ta te s i t m ig ht b e i n , g iv en t he s eq ue nc e o f a ct io ns a nd p er ce pt s u p t o"
"t ha t p oi nt . We be gi n w it ht he s im pl es t s ce na ri o f or st ud yi ng b el ie f s ta te s , w hi ch i sw he n t he"
a ge nt ha sn os en so rs at al l ;t he nw ea dd in pa rt ia ls en si ng as we ll as no nd et er mi ni st ic a ct io ns .
4.4.1 Se ar ch in g w it hn o o bs er va ti on
"Wh en t he a ge nt’s p er ce pt s p ro vi de n o i nf or ma ti on a t a ll , w e h av e w ha t i s c al le d a s en so r-"
"l es s p ro bl em o r s om et im es a c on fo rm an t p ro bl em . At f ir st , o ne m ig ht t hi nk t he s en so rl es s"
SENSORLESS
"a ge nt h as n o h op e o fs ol vi ng a pr ob le m i f i th as n o i de a w ha ts ta te i t’s i n ; i n f ac t , s en so rl es s"
CONFORMANT
"p ro bl em s a re q ui te o ft en s ol va bl e . Mo re ov er , s en so rl es s a ge nt s c an b e s ur pr is in gl y u se fu l ,"
"p ri ma ri ly b ec au se t he y d on’t r el y o n s en so rs w or ki ng p ro pe rl y . In m an uf ac tu ri ng s ys te ms ,"
"f or ex am pl e ,m an yi ng en io us me th od sh av eb ee nd ev el op ed fo ro ri en ti ng pa rt sc or re ct ly fr om"
a n u nk no wn i ni ti al p os it io n b y u si ng a s eq ue nc e o f a ct io ns w it h n o s en si ng a t a ll . Th e h ig h
"c os t o f s en si ng i s a no th er r ea so n t o a vo id i t: f or e xa mp le , d oc to rs o ft en p re sc ri be a b ro ad-"
"s pe ct ru m a nt ib io ti c r at he r t ha n u si ng t he c on ti ng en t p la n o f d oi ng a n e xp en si ve b lo od t es t ,"
"t he nw ai ti ng fo rt he re su lt s t oc om eb ac k , a nd th en pr es cr ib in g a mo re sp ec if ic an ti bi ot ic a nd"
p er ha ps ho sp it al iz at io n b ec au se th ei nf ec ti on h as pr og re ss ed t oo fa r .
We ca n m ak e a s en so rl es s v er si on o f t he v ac uu m w or ld . As su me t ha t t he a ge nt k no ws
"t he g eo gr ap hy o f i ts w or ld , b ut d oe sn’t k no w i ts l oc at io n o r t he d is tr ib ut io n o f d ir t . In t ha t"
"c as e ,i ts in it ia ls ta te co ul db ea ny el em en to ft he se t{1,2,3,4,5,6,7,8}. No w ,c on si de rw ha t"
"h ap pe ns if it tr ie st he ac ti on Ri gh t . Th is wi ll ca us ei tt ob ei no ne of th es ta te s{2,4,6,8}—t he"
"a ge nt no wh as mo re in fo rm at io n ! Fu rt he rm or e , t he ac ti on se qu en ce [Ri gh t ,Su ck]w il la lw ay s"
"e nd up i no ne o ft he st at es {4,8}. Fi na ll y , t he se qu en ce [Ri gh t ,Su ck ,Le ft ,Su ck]i sg ua ra nt ee d"
t o r ea ch t he g oa l s ta te 7 n o m at te r w ha t t he s ta rt s ta te . We s ay t ha t t he a ge nt c an c oe rc e t he
COERCION
w or ld in to st at e 7.
"To so lv es en so rl es sp ro bl em s ,w es ea rc hi nt he sp ac eo fb el ie fs ta te sr at he rt ha np hy si ca l"
"s ta te s .10 No ti ce t ha t i n b el ie f-s ta te s pa ce , t he p ro bl em i s f ul ly o bs er va bl e b ec au se t he a ge nt"
"10 In af ul ly ob se rv ab le en vi ro nm en t ,e ac hb el ie fs ta te co nt ai ns on ep hy si ca ls ta te . Th us ,w ec an vi ew th ea lg o-"
r it hm si n Ch ap te r 3 a ss ea rc hi ng in ab el ie f-s ta te sp ac eo fs in gl et on be li ef st at es .
Se ct io n 4.4. Se ar ch in gw it h Pa rt ia l Ob se rv at io ns 139
"a lw ay sk no ws it so wn be li ef st at e . Fu rt he rm or e , t he so lu ti on (i fa ny)i sa lw ay sa se qu en ce o f"
"a ct io ns . Th is is be ca us e ,a si nt he or di na ry pr ob le ms of Ch ap te r 3,t he pe rc ep ts re ce iv ed af te r"
e ac ha ct io na re co mp le te ly pr ed ic ta bl e—t he y’r e a lw ay se mp ty ! So th er ea re no co nt in ge nc ie s
t op la nf or . Th is is tr ue e ve ni ft he en vi ro nm en t i sn on de te rm in st ic .
It i s i ns tr uc ti ve t o s ee h ow t he b el ie f-s ta te s ea rc h p ro bl em i s c on st ru ct ed . Su pp os e
"t he un de rl yi ng p hy si ca l p ro bl em P i sd ef in ed b y ACTIONSP , RESULTP , GOAL-TESTP ,a nd"
STEP-COSTP . Th en we ca nd ef in et he co rr es po nd in g s en so rl es s p ro bl em a sf ol lo ws:
• Be li ef st at es: Th ee nt ir eb el ie f-s ta te sp ac ec on ta in se ve ry po ss ib le se to fp hy si ca ls ta te s .
"If P h as N s ta te s ,t he nt he se ns or le ss p ro bl em ha su pt o 2 N s ta te s ,a lt ho ug h m an ym ay"
b eu nr ea ch ab le f ro mt he in it ia ls ta te .
"• In it ia l s ta te: Ty pi ca ll y t he s et o f a ll st at es i n P , a lt ho ug h i ns om e c as es t he a ge nt w il l"
h av em or ek no wl ed ge t ha nt hi s .
"• Ac ti on s: Th is i s s li gh tl y t ri ck y . Su pp os e t he a ge nt i s i n b el ie f s ta te b={s ,s }, b ut"
1 2
ACTIONSP(s 1) (c id:7)= ACTIONSP(s 2);t he nt he ag en t i su ns ur e o fw hi ch ac ti on s a re le ga l .
"If w e a ss um e t ha t i ll eg al a ct io ns h av e n o e ff ec t o n t he e nv ir on me nt , t he n i t i s s af e t o"
t ak et he un io no fa ll th ea ct io ns in an yo ft he ph ys ic al st at es in th ec ur re nt b el ie fs ta te b:
(c id:15)
ACTIONS(b) = ACTIONSP(s).
s∈b
"On th eo th er ha nd , i fa ni ll eg al ac ti on mi gh tb et he en do ft he wo rl d , i ti ss af er to al lo w"
"o nl y t he i nt er se ct io n , t ha t i s , t he s et o f a ct io ns l eg al i n a ll t he s ta te s . Fo r t he v ac uu m"
"w or ld ,e ve ry st at eh as th es am el eg al ac ti on s , s ob ot hm et ho ds gi ve th es am er es ul t ."
• Tr an si ti on m od el: Th e a ge nt d oe sn’t k no w w hi ch s ta te i n t he b el ie f s ta te i s t he r ig ht
"o ne ; s o a s f ar a s i t k no ws , i t m ig ht g et t o a ny o f t he s ta te s r es ul ti ng f ro m a pp ly in g t he"
"a ct io n t oo ne of th e p hy si ca l s ta te s i nt he be li ef s ta te . Fo rd et er mi ni st ic a ct io ns , t he se t"
o fs ta te st ha tm ig ht be re ac he d i s
"b(c id:2) = RESULT(b ,a)= {s(c id:2) : s(c id:2) =RESULTP(s ,a)a nd s ∈ b}. (4.4)"
(c id:2)
"Wi th de te rm in is ti c a ct io ns , b i sn ev er la rg er th an b . Wi th no nd et er mi ni sm , w eh av e"
"b(c id:2) = RESULT(b ,a) = { (c id:15)s(c id:2) : s(c id:2) ∈ RESULTSP(s ,a)a nd s ∈ b}"
"= RESULTSP(s ,a),"
s∈b
"w hi ch m ay b e l ar ge r t ha n b , a s s ho wn i n Fi gu re 4.13. Th e p ro ce ss o f g en er at in g"
(c id:2)
t he n ew b el ie f s ta te a ft er t he a ct io n i s c al le d t he p re di ct io n s te p ; t he n ot at io n b =
PREDICTION
"PREDICTP(b ,a)w il lc om ei nh an dy ."
"• Go al te st: Th e a ge nt w an ts a p la n t ha t i s s ur e t o w or k , w hi ch m ea ns t ha t a b el ie f s ta te"
s at is fi es t he g oa l o nl y i f a ll t he p hy si ca l s ta te s i n i t s at is fy GOAL-TESTP . Th e a ge nt
"m ay ac ci de nt al ly a ch ie ve th eg oa le ar li er , b ut it wo n’t k no wt ha ti th as do ne so ."
• Pa th c os t: Th is i s a ls o t ri ck y . If t he s am e a ct io n c an h av e d if fe re nt c os ts i n d if fe re nt
"s ta te s , t he n t he c os t o f t ak in g a n a ct io n i n a g iv en b el ie f s ta te c ou ld b e o ne o f s ev er al"
"v al ue s . (Th is gi ve s r is et oa ne w c la ss o fp ro bl em s , w hi ch w ee xp lo re i n Ex er ci se 4.9.)"
Fo r n ow w e a ss um e t ha t t he c os t o f a n a ct io n i s t he s am e i n a ll s ta te s a nd s o c an b e
t ra ns fe rr ed d ir ec tl yf ro mt he un de rl yi ng p hy si ca l p ro bl em .
140 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
1
1 2 1 2
3 4 3 4
3
(a) (b)
Fi gu re 4.13 (a) Pr ed ic ti ng t he n ex t b el ie f s ta te f or t he s en so rl es s v ac uu m w or ld w it h a
"d et er mi ni st ic ac ti on ,Ri gh t . (b)Pr ed ic ti on fo rt he sa me be li ef st at ea nd ac ti on in th es li pp er y"
v er si on of th es en so rl es sv ac uu mw or ld .
"Fi gu re 4.14 s ho ws t he r ea ch ab le b el ie f-s ta te s pa ce f or t he d et er mi ni st ic , s en so rl es s v ac uu m"
w or ld . Th er ea re on ly 12 r ea ch ab le b el ie fs ta te so ut of 28=256 p os si bl e b el ie fs ta te s .
Th ep re ce di ng d ef in it io ns e na bl et he au to ma ti cc on st ru ct io n o ft he be li ef-s ta te p ro bl em
"f or mu la ti on f ro m t he d ef in it io n o f t he u nd er ly in g p hy si ca l p ro bl em . On ce t hi s i s d on e , w e"
"c an a pp ly a ny o f t he s ea rc h a lg or it hm s o f Ch ap te r 3. In f ac t , w e c an d o a l it tl e b it m or e"
"t ha n t ha t . In “o rd in ar y” g ra ph s ea rc h , n ew ly g en er at ed s ta te s a re t es te d t o s ee i f t he y a re"
"i de nt ic al t oe xi st in g s ta te s . Th is wo rk sf or be li ef s ta te s , t oo ; f or ex am pl e , i n Fi gu re 4.14, t he"
"a ct io n s eq ue nc e [Su ck ,Le ft ,Su ck] s ta rt in g a t t he i ni ti al s ta te r ea ch es t he s am e b el ie f s ta te a s"
"[Ri gh t ,Le ft ,Su ck], n am el y , {5,7}. No w , c on si de r t he b el ie f s ta te r ea ch ed b y [Le ft], n am el y ,"
"{1,3,5,7}. Ob vi ou sl y , t hi s i s n ot i de nt ic al t o {5,7}, b ut i t i s a s up er se t . It i s e as y t o p ro ve"
"(Ex er ci se 4.8)t ha ti fa na ct io ns eq ue nc ei sa so lu ti on fo ra be li ef st at eb ,i ti sa ls oa so lu ti on fo r"
"a ny su bs et o fb . He nc e , w ec an di sc ar da pa th re ac hi ng {1,3,5,7} i f{5,7} h as al re ad y b ee n"
"g en er at ed . Co nv er se ly , i f {1,3,5,7} h as a lr ea dy b ee n g en er at ed a nd f ou nd t o b e s ol va bl e ,"
"t he na ny su bs et , s uc ha s{5,7}, i sg ua ra nt ee d t ob es ol va bl e . Th is ex tr al ev el of pr un in gm ay"
d ra ma ti ca ll y i mp ro ve th ee ff ic ie nc yo fs en so rl es s p ro bl em s ol vi ng .
"Ev en wi th th is im pr ov em en t ,h ow ev er ,s en so rl es sp ro bl em-s ol vi ng as we ha ve de sc ri be d"
i ti ss el do m f ea si bl e i np ra ct ic e . Th ed if fi cu lt y i sn ot so mu ch th ev as tn es s o ft he be li ef-s ta te
s pa ce—e ve n t ho ug h i t i s e xp on en ti al ly l ar ge r t ha n t he u nd er ly in g p hy si ca l s ta te s pa ce ; i n
m os t c as es t he b ra nc hi ng f ac to r a nd s ol ut io n l en gt h i n t he b el ie f-s ta te s pa ce a nd p hy si ca l
s ta te s pa ce a re n ot s o d if fe re nt . Th e r ea l d if fi cu lt y l ie s w it h t he s iz e o f e ac h b el ie f s ta te . Fo r
"e xa mp le , t he i ni ti al b el ie f s ta te f or th e 10×10 v ac uu m w or ld co nt ai ns 100×2100 o ra ro un d"
"1032 p hy si ca l s ta te s—f ar t oo m an y i f w e u se t he a to mi c r ep re se nt at io n , w hi ch i s a n e xp li ci t"
l is to fs ta te s .
On e s ol ut io n i s t o r ep re se nt t he b el ie f s ta te b y s om e m or e c om pa ct d es cr ip ti on . In
"En gl is h , w e c ou ld s ay t he a ge nt k no ws “No th in g” i n t he i ni ti al s ta te ; a ft er m ov in g Le ft , w e"
"c ou ld s ay , “No t i n t he r ig ht mo st c ol um n ,” a nd s o o n . Ch ap te r 7 e xp la in s h ow t o d o t hi s i n a"
"f or ma l r ep re se nt at io n s ch em e . An ot he r a pp ro ac h i s t o a vo id t he s ta nd ar d s ea rc h a lg or it hm s ,"
"w hi ch tr ea tb el ie fs ta te sa sb la ck bo xe sj us tl ik ea ny ot he rp ro bl em st at e . In st ea d ,w ec an lo ok"
Se ct io n 4.4. Se ar ch in gw it h Pa rt ia l Ob se rv at io ns 141
L
R
1 3 1 2 3 2 4
L R
5 7 4 5 6 6 8
7 8
S
4 5
S S
7 8
L R
L
5 S 5 3 6 4 S 4
7 7 8 8
R
R L L R
L
6 S S 3
8 7
8 R 7
"Fi gu re 4.14 Th er ea ch ab le po rt io no ft he be li ef-s ta te sp ac ef or th ed et er mi ni st ic ,s en so r-"
"l es sv ac uu mw or ld .Ea ch sh ad ed bo xc or re sp on ds to as in gl eb el ie fs ta te . At an yg iv en po in t ,"
t he a ge nt is i n a p ar ti cu la rb el ie fs ta te b ut do es no tk no ww hi ch ph ys ic al st at e i t i s i n . Th e
i ni ti al b el ie f s ta te (c om pl et e i gn or an ce) i s t he t op c en te r b ox . Ac ti on s a re r ep re se nt ed b y
l ab el ed li nk s . Se lf-l oo ps ar eo mi tt ed fo rc la ri ty .
INCREMENTAL
i ns id et he be li ef st at es an dd ev el op in cr em en ta lb el ie f-s ta te se ar ch a lg or it hm s t ha tb ui ld up
BELIEF-STATE
SEARCH
"t he s ol ut io n o ne p hy si ca l s ta te a t a t im e . Fo r e xa mp le , i n t he s en so rl es s v ac uu m w or ld , t he"
"i ni ti al b el ie f s ta te i s{1,2,3,4,5,6,7,8}, a nd w eh av e t of in da n a ct io n s eq ue nc e t ha t w or ks"
i na ll 8 s ta te s . We ca nd ot hi sb yf ir st fi nd in ga so lu ti on t ha tw or ks fo rs ta te 1;t he nw ec he ck
"i fi tw or ks fo rs ta te 2;i fn ot , g ob ac k a nd fi nd ad if fe re nt s ol ut io n f or st at e 1, a nd so on . Ju st"
"a sa n AND–OR s ea rc h h as to fi nd as ol ut io n f or ev er y b ra nc h a t a n AND n od e , t hi sa lg or it hm"
h as to fi nd as ol ut io n f or ev er y s ta te in th eb el ie f s ta te ; t he di ff er en ce i st ha t AND–OR s ea rc h
"c an f in d a d if fe re nt s ol ut io n f or e ac h b ra nc h , w he re as a n i nc re me nt al b el ie f-s ta te s ea rc h h as"
t of in do ne so lu ti on th at wo rk sf or al lt he st at es .
Th e m ai n a dv an ta ge o f t he i nc re me nt al a pp ro ac h i s t ha t i t i s t yp ic al ly a bl e t o d et ec t
"f ai lu re qu ic kl y—w he n a be li ef st at ei su ns ol va bl e , i ti su su al ly th ec as et ha ta sm al ls ub se to f"
"t he be li ef st at e ,c on si st in g o ft he fi rs tf ew st at es ex am in ed , i sa ls ou ns ol va bl e . In so me ca se s ,"
142 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
"t hi sl ea ds t oa sp ee du p p ro po rt io na l t ot he si ze of th eb el ie f s ta te s , w hi ch ma yt he ms el ve s b e"
a sl ar ge as th ep hy si ca ls ta te sp ac ei ts el f .
Ev en t he m os t e ff ic ie nt s ol ut io n a lg or it hm i s n ot o f m uc h u se w he n n o s ol ut io ns e xi st .
"Ma ny t hi ng s j us t c an no t b e d on e w it ho ut s en si ng . Fo r e xa mp le , t he s en so rl es s 8-p uz zl e i s"
"i mp os si bl e . On t he o th er h an d , a l it tl e b it o f s en si ng c an g o a l on g w ay . Fo re xa mp le , e ve ry"
8-p uz zl e i ns ta nc ei ss ol va bl ei fj us to ne sq ua re is vi si bl e—t he s ol ut io n i nv ol ve s m ov in ge ac h
t il ei nt ur ni nt ot he vi si bl es qu ar ea nd th en ke ep in g t ra ck of i ts lo ca ti on .
4.4.2 Se ar ch in g w it ho bs er va ti on s
"Fo ra ge ne ra lp ar ti al ly ob se rv ab le pr ob le m ,w eh av et os pe ci fy ho wt he en vi ro nm en tg en er at es"
"p er ce pt s f or t he a ge nt . Fo re xa mp le , w e m ig ht d ef in e t he l oc al-s en si ng v ac uu m w or ld t o b e"
o ne in wh ic ht he ag en th as ap os it io ns en so ra nd al oc al di rt se ns or bu th as no se ns or ca pa bl e
o f d et ec ti ng d ir t i n o th er s qu ar es . Th e f or ma l p ro bl em s pe ci fi ca ti on i nc lu de s a PERCEPT(s)
"f un ct io n t ha t r et ur ns t he p er ce pt r ec ei ve d i n a g iv en s ta te . (If s en si ng i s n on de te rm in is ti c ,"
"t he nw eu se a PERCEPTS f un ct io nt ha tr et ur ns as et of po ss ib le pe rc ep ts .) Fo re xa mp le ,i nt he"
"l oc al-s en si ng va cu um wo rl d ,t he PERCEPTi ns ta te 1 i s[A ,Di rt y]. Fu ll yo bs er va bl ep ro bl em s"
"a re a sp ec ia l c as e i n w hi ch PERCEPT(s)=s fo re ve ry s ta te s , w hi le se ns or le ss p ro bl em s a re"
a sp ec ia lc as ei nw hi ch PERCEPT(s)=n ul l .
"Wh en ob se rv at io ns a re p ar ti al , i tw il lu su al ly b e t he c as e t ha t s ev er al s ta te s c ou ld h av e"
"p ro du ce d a ny g iv en p er ce pt . Fo r e xa mp le , t he p er ce pt [A ,Di rt y] i s p ro du ce d b y s ta te 3 a s"
"w el l a s b y s ta te 1. He nc e , g iv en t hi s a s t he i ni ti al p er ce pt , t he i ni ti al b el ie f s ta te f or t he"
"l oc al-s en si ng v ac uu m w or ld w il l b e {1,3}. Th e ACTIONS , STEP-COST , a nd GOAL-TEST"
"a re co ns tr uc te df ro mt he un de rl yi ng p hy si ca lp ro bl em ju st as fo rs en so rl es sp ro bl em s ,b ut th e"
t ra ns it io n m od el i sa bi tm or ec om pl ic at ed . We ca n t hi nk o f t ra ns it io ns f ro m o ne b el ie f s ta te
"t ot he ne xt fo ra pa rt ic ul ar ac ti on as oc cu rr in g i nt hr ee st ag es , a ss ho wn in Fi gu re 4.15:"
• Th ep re di ct io ns ta ge is th es am ea sf or se ns or le ss pr ob le ms: g iv en th ea ct io na in be li ef
"s ta te b ,t he pr ed ic te d b el ie fs ta te isˆb=PREDICT(b ,a).11"
• Th e o bs er va ti on p re di ct io n s ta ge d et er mi ne s t he s et o f p er ce pt s o t ha t c ou ld b e o b-
s er ve di nt he pr ed ic te d b el ie fs ta te:
POSSIBLE-PERCEPTS(ˆb) = {o: o=PERCEPT(s)a nd s ∈ˆb}.
"• Th e u pd at e s ta ge d et er mi ne s , f or e ac h p os si bl e p er ce pt , t he b el ie f s ta te t ha t w ou ld"
r es ul t f ro m t he p er ce pt . Th e n ew b el ie f s ta te b i s j us t t he s et o f s ta te s i nˆb t ha t c ou ld
o
h av ep ro du ce d t he pe rc ep t:
b
o
"= UPDATE(ˆb ,o) = {s :o=PERCEPT(s)a nd s ∈ˆb}."
No ti ce th at ea ch up da te db el ie fs ta te b c an be no la rg er th an th ep re di ct ed be li ef st at eˆb ;
o
o bs er va ti on s c an o nl y h el p r ed uc e u nc er ta in ty c om pa re d t o t he s en so rl es s c as e . Mo re-
"o ve r , f or d et er mi ni st ic s en si ng , t he b el ie f s ta te s f or t he d if fe re nt p os si bl e p er ce pt s w il l"
"b ed is jo in t , f or mi ng ap ar ti ti on o ft he or ig in al p re di ct ed b el ie fs ta te ."
"11 He re ,a nd th ro ug ho ut th eb oo k ,t he“h at”i nˆb me an sa ne st im at ed or pr ed ic te dv al ue fo rb ."
Se ct io n 4.4. Se ar ch in gw it h Pa rt ia l Ob se rv at io ns 143
"[B ,Di rt y] 2"
Ri gh t
1 2
(a)
3 4
"[B ,Cl ea n]"
4
"[B ,Di rt y] 2"
Ri gh t 2
"1 1 [A ,Di rt y] 1"
(b)
3 3 3
4
"[B ,Cl ea n]"
4
Fi gu re 4.15 Tw o e xa mp le o f t ra ns it io ns i n l oc al-s en si ng v ac uu m w or ld s . (a) In t he d e-
"t er mi ni st ic w or ld , Ri gh t i s a pp li ed i n t he i ni ti al b el ie f s ta te , r es ul ti ng i n a n ew b el ie f s ta te"
"w it h t wo p os si bl e p hy si ca ls ta te s ; f or th os e s ta te s , t he p os si bl e p er ce pt sa re [B ,Di rt y] a nd"
"[B ,Cl ea n], l ea di ng t o t wo b el ie f s ta te s , e ac h o f w hi ch i s a s in gl et on . (b) In t he s li pp er y"
"w or ld , Ri gh t i s a pp li ed i n t he i ni ti al b el ie f s ta te , g iv in g a n ew b el ie f s ta te w it h f ou r p hy si-"
"c al st at es ; f or th os es ta te s , t he po ss ib le pe rc ep ts ar e [A ,Di rt y], [B ,Di rt y], a nd[B ,Cl ea n],"
l ea di ng to th re eb el ie fs ta te sa ss ho wn .
"Pu tt in gt he se th re es ta ge st og et he r , w eo bt ai nt he po ss ib le b el ie fs ta te sr es ul ti ng fr om ag iv en"
a ct io na nd th es ub se qu en t p os si bl e p er ce pt s:
"RESULTS(b ,a) = {b"
o
:b
o
"= UPDATE(PREDICT(b ,a),o)a nd"
"o ∈ POSSIBLE-PERCEPTS(PREDICT(b ,a))}. (4.5)"
"Ag ai n ,t he no nd et er mi ni sm in th ep ar ti al ly ob se rv ab le pr ob le mc om es fr om th ei na bi li ty"
t op re di ct e xa ct ly w hi ch pe rc ep t w il lb er ec ei ve d a ft er ac ti ng ; u nd er ly in g n on de te rm in is m i n
t he p hy si ca l e nv ir on me nt m ay c on tr ib ut e t o t hi s i na bi li ty b y e nl ar gi ng t he b el ie f s ta te a t t he
"p re di ct io n s ta ge , l ea di ng to mo re pe rc ep ts a tt he ob se rv at io n s ta ge ."
4.4.3 So lv in gp ar ti al ly o bs er va bl ep ro bl em s
Th e p re ce di ng s ec ti on s ho we d h ow t o d er iv e t he RESULTS f un ct io n f or a n on de te rm in is ti c
b el ie f-s ta te p ro bl em f ro ma nu nd er ly in g p hy si ca lp ro bl em a nd th e PERCEPT f un ct io n . Gi ve n
144 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
1
3
Su ck Ri gh t
"[A ,Cl ea n] [B ,Di rt y] [B ,Cl ea n]"
5
2 4
7
Fi gu re 4.16 Th ef ir st le ve lo ft he AND–OR s ea rc ht re ef or ap ro bl em in th el oc al-s en si ng
v ac uu mw or ld ;Su ck i st he fi rs ts te po ft he so lu ti on .
"s uc h a f or mu la ti on , t he AND–OR s ea rc h a lg or it hm o f Fi gu re 4.11 c an b e a pp li ed d ir ec tl y t o"
d er iv e a s ol ut io n . Fi gu re 4.16 s ho ws p ar t o f t he s ea rc h t re e f or t he l oc al-s en si ng v ac uu m
"w or ld ,a ss um in ga ni ni ti al pe rc ep t [A ,Di rt y]. Th es ol ut io n i st he co nd it io na l p la n"
"[Su ck ,Ri gh t ,i f Bs ta te={6}t he n Su ck el se[]]."
"No ti ce t ha t , b ec au se w e s up pl ie d a b el ie f-s ta te p ro bl em t o t he AND–OR s ea rc h a lg or it hm , i t"
r et ur ne d a c on di ti on al p la n t ha t t es ts t he b el ie f s ta te r at he r t ha n t he a ct ua l s ta te . Th is i sa s i t
s ho ul db e: i na pa rt ia ll yo bs er va bl ee nv ir on me nt th ea ge nt wo n’t be ab le to ex ec ut ea so lu ti on
t ha tr eq ui re s t es ti ng th ea ct ua ls ta te .
"As in th ec as eo fs ta nd ar d s ea rc h a lg or it hm s a pp li ed t os en so rl es s p ro bl em s , t he AND–"
"OR s ea rc h a lg or it hm t re at s b el ie f s ta te s a s b la ck b ox es , j us t l ik e a ny o th er s ta te s . On e c an"
i mp ro ve on th is by ch ec ki ng fo rp re vi ou sl yg en er at ed be li ef st at es th at ar es ub se ts or su pe rs et s
"o f t he c ur re nt s ta te , j us t a s f or s en so rl es s p ro bl em s . On e c an a ls o d er iv e i nc re me nt al s ea rc h"
"a lg or it hm s , a na lo go us t o t ho se d es cr ib ed f or s en so rl es s p ro bl em s , t ha t p ro vi de s ub st an ti al"
s pe ed up s o ve rt he bl ac k-b ox a pp ro ac h .
4.4.4 An ag en tf or pa rt ia ll yo bs er va bl e e nv ir on me nt s
Th ed es ig n o fa pr ob le m-s ol vi ng a ge nt f or pa rt ia ll y o bs er va bl e e nv ir on me nt s i sq ui te si mi la r
"t o t he s im pl e p ro bl em-s ol vi ng a ge nt i n Fi gu re 3.1: t he a ge nt f or mu la te s a p ro bl em , c al ls a"
"s ea rc ha lg or it hm (s uc h a s AND-OR-GRAPH-SEARCH)t os ol ve it ,a nd ex ec ut es t he so lu ti on ."
"Th er e a re t wo m ai n d if fe re nc es . Fi rs t , t he s ol ut io n t o a p ro bl em w il l b e a c on di ti on al p la n"
"r at he r t ha n a s eq ue nc e ; i f t he f ir st s te p i s a n i f–t he n–e ls e e xp re ss io n , t he a ge nt w il l n ee d t o"
"t es tt he co nd it io ni nt he if-p ar ta nd ex ec ut et he th en-p ar to rt he el se-p ar ta cc or di ng ly . Se co nd ,"
t he a ge nt w il l n ee d t o m ai nt ai n i ts b el ie f s ta te a s i t p er fo rm s a ct io ns a nd r ec ei ve s p er ce pt s .
Th is p ro ce ss r es em bl es t he p re di ct io n–o bs er va ti on–u pd at e p ro ce ss i n Eq ua ti on (4.5) b ut i s
a ct ua ll ys im pl er be ca us et he pe rc ep ti sg iv en by th ee nv ir on me nt ra th er th an ca lc ul at ed by th e
Se ct io n 4.4. Se ar ch in gw it h Pa rt ia l Ob se rv at io ns 145
"Su ck [A ,Cl ea n] Ri gh t 2 [B ,Di rt y]"
1 5 5 6 2
3 7 7 4 6
8
Fi gu re 4.17 Tw op re di ct io n–u pd at ec yc le so fb el ie f-s ta te ma in te na nc ei nt he ki nd er ga rt en
v ac uu mw or ld wi th lo ca ls en si ng .
"a ge nt . Gi ve na ni ni ti al be li ef st at eb ,a na ct io na ,a nd ap er ce pt o ,t he ne wb el ie fs ta te is:"
(c id:2)
"b = UPDATE(PREDICT(b ,a),o). (4.6)"
Fi gu re 4.17 s ho ws t he b el ie f s ta te b ei ng m ai nt ai ne d i n t he k in de rg ar te n v ac uu m w or ld w it h
"l oc al s en si ng , w he re in a ny s qu ar e m ay b ec om e d ir ty a t a ny t im e u nl es s t he a ge nt i s a ct iv el y"
c le an in g i ta tt ha tm om en t .12
In p ar ti al ly o bs er va bl e e nv ir on me nt s—w hi ch i nc lu de t he v as t m aj or it y o f r ea l-w or ld
e nv ir on me nt s—m ai nt ai ni ng o ne’s b el ie f s ta te i s a c or e f un ct io n o f a ny i nt el li ge nt s ys te m .
"Th is f un ct io n g oe s u nd er v ar io us n am es , i nc lu di ng m on it or in g , f il te ri ng a nd s ta te e st im a-"
MONITORING
t io n . Eq ua ti on (4.6) i sc al le d a re cu rs iv e s ta te e st im at or b ec au se i t c om pu te s t he n ew b el ie f
FILTERING
s ta te fr om th ep re vi ou so ne ra th er th an by ex am in in gt he en ti re pe rc ep ts eq ue nc e . If th ea ge nt
STATEESTIMATION
"i s n ot t o “f al l b eh in d ,” t he c om pu ta ti on h as t o h ap pe n a s f as t a s p er ce pt s a re c om in g i n . As"
RECURSIVE
"t he e nv ir on me nt b ec om es m or e c om pl ex , t he e xa ct u pd at e c om pu ta ti on b ec om es i nf ea si bl e"
"a nd t he a ge nt w il lh av e t o c om pu te a n a pp ro xi ma te b el ie f s ta te , p er ha ps f oc us in g o n t he i m-"
p li ca ti on s o ft he p er ce pt f or th ea sp ec ts o ft he e nv ir on me nt t ha t a re o fc ur re nt i nt er es t . Mo st
"w or k o n t hi s p ro bl em h as b ee n d on e f or s to ch as ti c , c on ti nu ou s-s ta te e nv ir on me nt s w it h t he"
"t oo ls o f p ro ba bi li ty t he or y , a s e xp la in ed i n Ch ap te r 15. He re w e w il l s ho w a n e xa mp le i n a"
d is cr et ee nv ir on me nt w it hd et rm in is ti c s en so rs an dn on de te rm in is ti c a ct io ns .
"Th e e xa mp le c on ce rn s a r ob ot w it h t he t as k o f l oc al iz at io n: w or ki ng o ut w he re i t i s ,"
LOCALIZATION
g iv en a ma p o f t he w or ld a nd a s eq ue nc e o f p er ce pt s a nd a ct io ns . Ou rr ob ot i s p la ce d i n t he
m az e-l ik e e nv ir on me nt o f Fi gu re 4.18. Th e r ob ot i s e qu ip pe d w it h f ou r s on ar s en so rs t ha t
t el l w he th er t he re i s a n o bs ta cl e—t he o ut er w al l o r a b la ck s qu ar e i n t he f ig ur e—i n e ac h o f
"t he fo ur co mp as sd ir ec ti on s . We as su me th at th es en so rs g iv e p er fe ct ly c or re ct d at a , a nd th at"
t he r ob ot h as a c or re ct m ap o f t he e nv io rn me nt . Bu t u nf or tu na te ly t he r ob ot’s n av ig at io na l
"s ys te mi sb ro ke n ,s ow he ni te xe cu te sa Mo ve ac ti on ,i tm ov es ra nd om ly to on eo ft he ad ja ce nt"
s qu ar es . Th er ob ot’s ta sk is to de te rm in ei ts cu rr en tl oc at io n .
"Su pp os e t he r ob ot h as j us t b ee n s wi tc he d o n , s o i t d oe s n ot k no w w he re i t i s . Th us i ts"
i ni ti al b el ie f s ta te b c on si st s o f t he s et o f a ll l oc at io ns . Th e t he r ob ot r ec ei ve s t he p er ce pt
12 Th eu su al ap ol og ie st ot ho se wh oa re un fa mi li ar wi th th ee ff ec to fs ma ll ch il dr en on th ee nv ir on me nt .
146 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
(a)Po ss ib le lo ca ti on s o fr ob ot af te r E = NSW
1
"(b)Po ss ib le lo ca ti on s o fr ob ot Af te r E = NSW ,E = NS"
1 2
"Fi gu re 4.18 Po ss ib le po si ti on so ft he ro bo t ,(c id:13),(a)a ft er on eo bs er va ti on E =NSW a nd"
1
(b)a ft er as ec on do bs er va ti on E =NS .Wh en se ns or sa re no is el es sa nd th et ra ns it io nm od el
2
"i sa cc ur at e ,t he re ar en oo th er po ss ib le lo ca ti on sf or th er ob ot co ns is te nt wi th th is se qu en ce"
o ft wo ob se rv at io ns .
"NSW ,m ea ni ng th er ea re ob st ac le st ot he no rt h ,w es t ,a nd so ut h ,a nd do es an up da te us in gt he"
"e qu at io n b o=UPDATE(b),y ie ld in g t he 4 l oc at io ns s ho wn in Fi gu re 4.18(a). Yo uc an in sp ec t"
t he ma ze to se et ha tt ho se ar et he on ly fo ur lo ca ti on s t ha ty ie ld th ep er ce pt NWS .
"Ne xt th er ob ot e xe cu te s a Mo ve a ct io n , b ut th er es ul ti sn on de te rm in is ti c . Th en ew be-"
"l ie fs ta te ,b a=PREDICT(b o ,Mo ve),c on ta in sa ll th el oc at io ns th at ar eo ne st ep aw ay fr om th e"
"l oc at io ns i n b o . Wh en t he s ec on d p er ce pt , NS , a rr iv es , t he r ob ot d oe s UPDATE(b a ,NS) a nd"
f in ds t ha t t he b el ie f s ta te h as c ol la ps ed d ow n t o t he s in gl e l oc at io n s ho wn i n Fi gu re 4.18(b).
Th at’s th eo nl yl oc at io n t ha tc ou ld be th er es ul to f
"UPDATE(PREDICT(UPDATE(b ,NSW),Mo ve),NS)."
"Wi th n on de te rm ni st ic a ct io ns t he PREDICT s te p g ro ws t he b el ie f s ta te , b ut t he UPDATE s te p"
s hr in ks i t b ac k d ow n—a s l on g a s t he p er ce pt s p ro vi de s om e u se fu l i de nt if yi ng i nf or ma ti on .
So me ti me s t he p er ce pt s d on’t h el p m uc h f or l oc al iz at io n: If t he re w er e o ne o r m or e l on g
"e as t-w es t c or ri do rs , t he n a r ob ot c ou ld r ec ei ve a l on g s eq ue nc e o f NS p er ce pt s , b ut n ev er"
k no ww he re in th ec or ri do r(s) i tw as .
Se ct io n 4.5. On li ne Se ar ch Ag en ts an d Un kn ow n En vi ro nm en ts 147
4.5 ONLINE SEARCH AGENTS AND UNKNOWN ENVIRONMENTS
So f ar w e h av e c on ce nt ra te d o n a ge nt s t ha t u se o ff li ne s ea rc h a lg or it hm s . Th ey c om pu te
OFFLINESEARCH
a c om pl et e s ol ut io n b ef or e s et ti ng f oo t i n t he r ea l w or ld a nd t he n e xe cu te t he s ol ut io n . In
"c on tr as t ,a no nl in es ea rc h 13 a ge nt in te rl ea ve sc om pu ta ti on an da ct io n: f ir st it ta ke sa na ct io n ,"
ONLINESEARCH
t he n i to bs er ve s t he en vi ro nm en t a nd c om pu te s t he n ex ta ct io n . On li ne s ea rc h i sa go od id ea
i n d yn am ic o r s em id yn am ic d om ai ns—d om ai ns w he re t he re i s a p en al ty f or s it ti ng a ro un d
a nd c om pu ti ng t oo l on g . On li ne s ea rc h i s a ls o h el pf ul i n n on de te rm in is ti c d om ai ns b ec au se
i t a ll ow s t he a ge nt t o f oc us i ts c om pu ta ti on al e ff or ts o n t he c on ti ng en ci es t ha t a ct ua ll y a ri se
"r at he r t ha n t ho se t ha t m ig ht h ap pe n b ut p ro ba bl y w on’t . Of c ou rs e , t he re i s a t ra de of f: t he"
"m or ea na ge nt pl an sa he ad , t he le ss of te ni tw il lf in di ts el fu pt he cr ee kw it ho ut ap ad dl e ."
"On li ne se ar ch is an ec es sa ry i de af or un kn ow ne nv ir on me nt s , w he re th ea ge nt do es no t"
"k no w w ha t s ta te s e xi st o r w ha t i ts a ct io ns d o . In t hi s s ta te o f i gn or an ce , t he a ge nt f ac es a n"
EXPLORATION e xp lo ra ti on p ro bl em a nd m us t u se i ts a ct io ns a s e xp er im en ts i n o rd er t o l ea rn e no ug h t o
PROBLEM
m ak ed el ib er at io n w or th wh il e .
Th ec an on ic al e xa mp le o f o nl in e s ea rc h i s a r ob ot t ha t i s p la ce d i n a ne w b ui ld in g a nd
m us te xp lo re i tt ob ui ld a ma pt ha ti tc an us e f or ge tt in g f ro m At o B . Me th od s f or es ca pi ng
f ro ml ab yr in th s—r eq ui re d k no wl ed ge f or as pi ri ng h er oe so f a nt iq ui ty—a re a ls oe xa mp le so f
"o nl in e s ea rc h a lg or it hm s . Sp at ia l e xp lo ra ti on i s n ot t he o nl y f or m o f e xp lo ra ti on , h ow ev er ."
Co ns id er a n ew bo rn b ab y: i t h as m an y p os si bl e a ct io ns b ut k no ws t he o ut co me s o f n on e o f
"t he m , a nd i t h as e xp er ie nc ed o nl y a f ew o f t he p os si bl e s ta te s t ha t i t c an r ea ch . Th e b ab y’s"
"g ra du al di sc ov er y o fh ow th ew or ld wo rk si s ,i np ar t ,a no nl in es ea rc hp ro ce ss ."
4.5.1 On li ne se ar ch pr ob le ms
"An on li ne s ea rc h p ro bl em m us tb es ol ve d b ya n a ge nt e xe cu ti ng a ct io ns , r at he r t ha n b yp ur e"
c om pu ta ti on . We a ss um e a d et er mi ni st ic a nd f ul ly o bs er va bl e e nv ir on me nt (Ch ap te r 17 r e-
"l ax es th es ea ss um pt io ns), b ut we st ip ul at e t ha tt he ag en tk no ws on ly th ef ol lo wi ng:"
"• ACTIONS(s),w hi ch re tu rn sa li st of ac ti on s a ll ow ed in st at e s ;"
"• Th e s te p-c os t f un ct io n c(s ,a ,s(c id:2) )—n ot e t ha t t hi s c an no t b e u se d u nt il t he a ge nt k no ws"
(c id:2)
t ha ts i st he ou tc om e ; a nd
• GOAL-TEST(s).
"No te i n p ar ti cu la r t ha t t he a ge nt c an no t d et er mi ne RESULT(s ,a) e xc ep t b y a ct ua ll y b ei ng"
"i n s a nd d oi ng a . Fo r e xa mp le , i n t he m az e p ro bl em s ho wn i n Fi gu re 4.19, t he a ge nt d oe s"
"n ot k no w t ha t g oi ng Up f ro m (1,1) l ea ds t o (1,2); n or , h av in g d on e t ha t , d oe s i t k no w t ha t"
"g oi ng Do wn w il l t ak e i t b ac k t o (1,1). Th is d eg re e o f i gn or an ce c an b e r ed uc ed i n s om e"
"a pp li ca ti on s—f or e xa mp le ,a ro bo te xp lo re rm ig ht kn ow ho wi ts mo ve me nt ac ti on sw or ka nd"
b ei gn or an to nl yo ft he lo ca ti on s o fo bs ta cl es .
13 Th et er m“o nl in e”i sc om mo nl yu se di nc om pu te rs ci en ce to re fe rt oa lg or it hm st ha tm us tp ro ce ss in pu td at a
a st he ya re re ce iv ed ra th er th an wa it in gf or th ee nt ir ei np ut da ta se tt ob ec om ea va il ab le .
148 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
3 G
2
1 S
1 2 3
Fi gu re 4.19 As im pl em az ep ro bl em . Th ea ge nt st ar ts at S a nd mu st re ac h Gb ut kn ow s
n ot hi ng of th ee nv ir on me nt .
G
S A
S G
S A
G
(a) (b)
Fi gu re 4.20 (a)Tw os ta te sp ac es th at mi gh tl ea da no nl in es ea rc ha ge nt in to ad ea de nd .
An yg iv en ag en tw il lf ai li na tl ea st on eo ft he se sp ac es . (b)At wo-d im en si on al en vi ro nm en t
t ha t c an c au se a n o nl in e s ea rc h a ge nt t o f ol lo w a n a rb it ra ri ly i ne ff ic ie nt r ou te t o t he g oa l .
"Wh ic he ve rc ho ic e t he a ge nt ma ke s , t he a dv er sa ry bl oc ks th at r ou te w it h a no th er lo ng , t hi n"
"w al l ,s ot ha tt he pa th fo ll ow ed is mu ch lo ng er th an th eb es tp os si bl ep at h ."
"Fi na ll y , t he a ge nt m ig ht h av e a cc es s t o a n a dm is si bl e h eu ri st ic f un ct io n h(s) t ha t e s-"
"t im at es t he d is ta nc e f ro m t he c ur re nt s ta te t o a g oa l s ta te . Fo r e xa mp le , i n Fi gu re 4.19, t he"
a ge nt mi gh tk no wt he lo ca ti on of th eg oa la nd be ab le to us et he Ma nh at ta n-d is ta nc eh eu ri st ic .
"Ty pi ca ll y ,t he ag en t’s ob je ct iv ei st or ea ch ag oa ls ta te wh il em in im iz in gc os t . (An ot he r"
p os si bl eo bj ec ti ve is si mp ly to ex pl or et he en ti re en vi ro nm en t .) Th ec os ti st he to ta lp at hc os t
o f t he p at h t ha t t he a ge nt a ct ua ll y t ra ve ls . It i s c om mo n t o c om pa re t hi s c os t w it h t he p at h
"c os t o f t he p at h t he a ge nt w ou ld f ol lo w i f i t k ne w t he s ea rc h s pa ce i n a dv an ce—t ha t i s , t he"
"a ct ua l s ho rt es t p at h (o rs ho rt es t c om pl et e e xp lo ra ti on). In th el an gu ag e o fo nl in e a lg or it hm s ,"
t hi si sc al le dt he co mp et it iv er at io ;w ew ou ld li ke it to be as sm al la sp os si bl e .
COMPETITIVERATIO
Se ct io n 4.5. On li ne Se ar ch Ag en ts an d Un kn ow n En vi ro nm en ts 149
"Al th ou gh th is so un ds l ik ea re as on ab le r eq ue st , i ti se as yt os ee th at th eb es ta ch ie va bl e"
"c om pe ti ti ve r at io i s i nf in it e i n s om e c as es . Fo r e xa mp le , i f s om e a ct io ns a re i rr ev er si bl e—"
IRREVERSIBLE
"i .e ., t he y l ea d t o a s ta te f ro m w hi ch n o a ct io n l ea ds b ac k t o t he p re vi ou s s ta te—t he o nl in e"
s ea rc hm ig ht ac ci de nt al ly r ea ch ad ea d-e nd st at ef ro mw hi ch no go al st at ei sr ea ch ab le . Pe r-
DEADEND
"h ap s t he t er m “a cc id en ta ll y” i s u nc on vi nc in g—a ft er a ll , t he re m ig ht b e a n a lg or it hm t ha t"
"h ap pe ns no tt ot ak et he de ad-e nd pa th as it ex pl or es . Ou rc la im ,t ob em or ep re ci se ,i st ha tn o"
a lg or it hm c an av oi dd ea de nd si na ll st at es pa ce s . Co ns id er th et wo de ad-e nd s ta te sp ac es in
"Fi gu re 4.20(a). To a n o nl in e s ea rc h a lg or it hm t ha t h as v is it ed s ta te s S a nd A , t he t wo s ta te"
"s pa ce s l oo k i de nt ic al , s o i t m us t m ak e t he s am e d ec is io n i n b ot h . Th er ef or e , i t w il l f ai l i n"
ADVERSARY o ne o f t he m . Th is i sa n e xa mp le o f a n a dv er sa ry a rg um en t—w ec an i ma gi ne a n a dv er sa ry
ARGUMENT
c on st ru ct in g t he s ta te s pa ce w hi le t he a ge nt e xp lo re s i t a nd p ut ti ng t he g oa ls a nd d ea d e nd s
w he re ve ri tc ho os es .
"De ad en ds ar ea re al di ff ic ul ty fo rr ob ot ex pl or at io n—s ta ir ca se s , r am ps ,c li ff s ,o ne-w ay"
"s tr ee ts , a nd al lk in ds of na tu ra lt er ra in pr es en to pp or tu ni ti es f or ir re ve rs ib le ac ti on s . To ma ke"
"p ro gr es s ,w es im pl ya ss um et ha tt he st at es pa ce is sa fe ly ex pl or ab le—t ha ti s ,s om eg oa ls ta te"
SAFELYEXPLORABLE
"i s r ea ch ab le f ro m e ve ry r ea ch ab le s ta te . St at e s pa ce s w it h r ev er si bl e a ct io ns , s uc h a s m az es"
"a nd 8-p uz zl es , c an be vi ew ed as un di re ct ed g ra ph sa nd ar ec le ar ly sa fe ly ex pl or ab le ."
"Ev en i n s af el y e xp lo ra bl e e nv ir on me nt s , n o b ou nd ed c om pe ti ti ve r at io c an b e g ua ra n-"
t ee d i f t he re a re p at hs o f u nb ou nd ed c os t . Th is i s e as y t o s ho w i n e nv ir on me nt s w it h i rr e-
"v er si bl e a ct io ns , b ut i n f ac t i t r em ai ns t ru e f or t he r ev er si bl e c as e a s w el l , a s Fi gu re 4.20(b)"
"s ho ws . Fo rt hi sr ea so n ,i ti sc om mo nt od es cr ib et he pe rf or ma nc eo fo nl in es ea rc ha lg or it hm s"
i nt er ms of th es iz eo ft he en ti re st at es pa ce ra th er th an ju st t he de pt ho ft he sh al lo we st g oa l .
4.5.2 On li ne se ar ch ag en ts
"Af te re ac ha ct io n , a no nl in ea ge nt re ce iv es ap er ce pt te ll in g i tw ha ts ta te it ha sr ea ch ed ; f ro m"
"t hi s i nf or ma ti on , i t c an a ug me nt i ts m ap o f t he e nv ir on me nt . Th e c ur re nt m ap i s u se d t o"
d ec id e w he re t o g o n ex t . Th is i nt er le av in g o f p la nn in g a nd a ct io n m ea ns t ha t o nl in e s ea rc h
a lg or it hm sa re qu it ed if fe re nt fr om th eo ff li ne se ar ch al go ri th ms we ha ve se en pr ev io us ly . Fo r
∗
"e xa mp le , o ff li ne a lg or it hm s s uc h a s A c an e xp an d a n od e i n o ne p ar t o f t he s pa ce a nd t he n"
"i mm ed ia te ly e xp an d a n od e i n a no th er p ar t o f t he s pa ce , b ec au se n od e e xp an si on i nv ol ve s"
"s im ul at ed r at he r t ha n r ea l a ct io ns . An o nl in e a lg or it hm , o n t he o th er h an d , c an d is co ve r"
s uc ce ss or s o nl y f or a n od e t ha t i t p hy si ca ll y o cc up ie s . To a vo id t ra ve li ng a ll t he w ay a cr os s
"t he tr ee to ex pa nd th en ex tn od e ,i ts ee ms be tt er to ex pa nd no de si na lo ca lo rd er . De pt h-f ir st"
s ea rc hh as ex ac tl yt hi sp ro pe rt y b ec au se(e xc ep tw he nb ac kt ra ck in g) t he ne xt no de ex pa nd ed
i sa ch il do ft he pr ev io us n od ee xp an de d .
An o nl in e d ep th-f ir st s ea rc h a ge nt i s s ho wn i n Fi gu re 4.21. Th is a ge nt s to re s i ts m ap
"i n a t ab le , RESULT[s ,a], t ha t r ec or ds t he s ta te r es ul ti ng f ro m e xe cu ti ng a ct io n a i n s ta te s ."
"Wh en ev er a n a ct io n f ro m t he c ur re nt s ta te h as n ot b ee n e xp lo re d , t he a ge nt t ri es t ha t a ct io n ."
Th e d if fi cu lt y c om es w he n t he a ge nt h as t ri ed a ll t he a ct io ns i n a s ta te . In o ff li ne d ep th-f ir st
"s ea rc h , t he s ta te i s s im pl y d ro pp ed f ro m t he q ue ue ; i n a n o nl in e s ea rc h , t he a ge nt h as t o"
"b ac kt ra ck p hy si ca ll y . In de pt h-f ir st se ar ch ,t hi sm ea ns go in gb ac kt ot he st at ef ro mw hi ch th e"
"a ge nt mo st re ce nt ly en te re dt he cu rr en ts ta te . To ac hi ev et ha t ,t he al go ri th mk ee ps at ab le th at"
150 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
f un ct io n ONLINE-DFS-AGENT(s(c id:5))r et ur ns an ac ti on
"i np ut s:s(c id:5),a pe rc ep tt ha ti de nt if ie st he cu rr en ts ta te"
"p er si st en t: r es ul t ,a ta bl ei nd ex ed by st at ea nd ac ti on ,i ni ti al ly em pt y"
"u nt ri ed ,a ta bl et ha tl is ts ,f or ea ch st at e ,t he ac ti on sn ot ye tt ri ed"
"u nb ac kt ra ck ed ,a ta bl et ha tl is ts ,f or ea ch st at e ,t he ba ck tr ac ks no ty et tr ie d"
"s ,a ,t he pr ev io us st at ea nd ac ti on ,i ni ti al ly nu ll"
i f GOAL-TEST(s(c id:5))t he nr et ur ns to p
i fs(c id:5)i sa ne ws ta te(n ot in un tr ie d)t he nu nt ri ed[s(c id:5)]←ACTIONS(s(c id:5))
i fs i sn ot nu ll th en
"r es ul t[s ,a]←s(c id:5)"
a dd s t ot he fr on to fu nb ac kt ra ck ed[s(c id:5)]
i fu nt ri ed[s(c id:5)]i se mp ty th en
i fu nb ac kt ra ck ed[s(c id:5)]i se mp ty th en re tu rn st op
"e ls ea←a na ct io nb s uc ht ha tr es ul t[s(c id:5),b]=POP(u nb ac kt ra ck ed[s(c id:5)])"
e ls ea←POP(u nt ri ed[s(c id:5)])
s←s(c id:5)
r et ur na
Fi gu re 4.21 An on li ne se ar ch ag en tt ha tu se sd ep th-f ir st ex pl or at io n . Th ea ge nt is ap pl i-
c ab le on ly in st at es pa ce si nw hi ch ev er ya ct io nc an be“u nd on e”b ys om eo th er ac ti on .
"l is ts , f or ea ch s ta te , t he p re de ce ss or s ta te s t o w hi ch t he a ge nt h as n ot y et b ac kt ra ck ed . If t he"
"a ge nt ha sr un ou to fs ta te st ow hi ch it ca nb ac kt ra ck , t he ni ts s ea rc hi sc om pl et e ."
We r ec om me nd t ha t t he r ea de r t ra ce t hr ou gh t he p ro gr es s o f ONLINE-DFS-AGENT
"w he n a pp li ed t o t he m az e g iv en i n Fi gu re 4.19. It i s f ai rl y e as y t o s ee t ha t t he a ge nt w il l , i n"
"t he wo rs tc as e , e nd up tr av er si ng e ve ry li nk in th es ta te sp ac e e xa ct ly t wi ce . Fo re xp lo ra ti on ,"
"t hi s i s o pt im al ; f or f in di ng a g oa l , o n t he o th er h an d , t he a ge nt’s c om pe ti ti ve r at io c ou ld b e"
a rb it ra ri ly b ad i f i t g oe s o ff o n a l on g e xc ur si on w he n t he re i s a g oa l r ig ht n ex t t o t he i ni ti al
s ta te . An on li ne va ri an to fi te ra ti ve de ep en in gs ol ve st hi s p ro bl em ;f or an en vi ro nm en t t ha ti s
"a un if or m t re e ,t he co mp et it iv e r at io of su ch an ag en ti sa sm al lc on st an t ."
"Be ca us e o f i ts m et ho d o f b ac kt ra ck in g , ONLINE-DFS-AGENT w or ks o nl y i n s ta te"
s pa ce s w he re t he a ct io ns a re r ev er si bl e . Th er e a re s li gh tl y m or e c om pl ex a lg or it hm s t ha t
"w or ki ng en er al st at es pa ce s ,b ut no su ch al go ri th m h as ab ou nd ed c om pe ti ti ve ra ti o ."
4.5.3 On li ne lo ca ls ea rc h
"Li ke d ep th-f ir st s ea rc h , h il l-c li mb in g s ea rc h h as t he p ro pe rt y o f l oc al it y i n i ts n od e e xp an-"
"s io ns . In f ac t , b ec au se i t k ee ps j us t o ne c ur re nt s ta te i n m em or y , h il l-c li mb in g s ea rc h i s"
"a lr ea dy a n o nl in e s ea rc h a lg or it hm ! Un fo rt un at el y , i t i s n ot v er y u se fu l i n i ts s im pl es t f or m"
"b ec au se i t l ea ve s t he a ge nt s it ti ng a t l oc al m ax im a w it h n ow he re t o g o . Mo re ov er , r an do m"
"r es ta rt sc an no tb eu se d ,b ec au se th ea ge nt ca nn ot tr an sp or t i ts el ft oa ne ws ta te ."
"In st ea d o f r an do m r es ta rt s , o ne m ig ht c on si de r u si ng a r an do m w al k t o e xp lo re t he"
RANDOMWALK
e nv ir on me nt . Ar an do m w al ks im pl y s el ec ts a tr an do m o ne o ft he av ai la bl e a ct io ns f ro m t he
Se ct io n 4.5. On li ne Se ar ch Ag en ts an d Un kn ow n En vi ro nm en ts 151
S G
Fi gu re 4.22 An en vi ro nm en ti nw hi ch ar an do mw al kw il lt ak ee xp on en ti al ly ma ny st ep s
t of in dt he go al .
c ur re nt s ta te ; p re fe re nc e c an b e g iv en t o a ct io ns t ha t h av e n ot y et b ee n t ri ed . It i s e as y t o
"p ro ve t ha t a r an do m w al k w il l e ve nt ua ll y f in d a g oa l o r c om pl et e i ts e xp lo ra ti on , p ro vi de d"
"t ha tt he sp ac ei sf in it e .14 On th eo th er ha nd , t he pr oc es s c an be ve ry sl ow . Fi gu re 4.22 s ho ws"
a n e nv ir on me nt i n w hi ch a r an do m w al k w il l t ak e e xp on en ti al ly m an y s te ps t o f in d t he g oa l
"b ec au se , a te ac hs te p ,b ac kw ar dp ro gr es si st wi ce as li ke ly as fo rw ar dp ro gr es s . Th ee xa mp le"
"i s c on tr iv ed , o f c ou rs e , b ut t he re a re m an y r ea l-w or ld s ta te s pa ce s w ho se t op ol og y c au se s"
t he se ki nd so f“t ra ps”f or ra nd om wa lk s .
Au gm en ti ng h il l c li mb in g w it hm em or yr at he r t ha n r an do mn es s t ur ns o ut t o b ea mo re
e ff ec ti ve a pp ro ac h . Th e b as ic i de a i s t o s to re a “c ur re nt b es t e st im at e” H(s) o f t he c os t t o
r ea ch t he g oa l f ro m e ac h s ta te t ha t h as b ee n v is it ed . H(s) s ta rt s o ut b ei ng j us t t he h eu ri st ic
e st im at e h(s) a nd i s u pd at ed a s t he a ge nt g ai ns e xp er ie nc e i n t he s ta te s pa ce . Fi gu re 4.23
"s ho ws a s im pl e e xa mp le i n a o ne-d im en si on al s ta te s pa ce . In (a), t he a ge nt s ee ms t o b e"
"s tu ck i n a f la t l oc al m in im um a t t he s ha de d s ta te . Ra th er t ha n s ta yi ng w he re i t i s , t he a ge nt"
s ho ul d f ol lo w w ha t s ee ms t o b et he b es t p at h t ot he g oa l g iv en t he c ur re nt c os t e st im at es f or
(c id:2)
i ts n ei gh bo rs . Th e e st im at ed c os t t o r ea ch t he g oa l t hr ou gh a n ei gh bo r s i s t he c os t t o g et
(c id:2) (c id:2) (c id:2)
"t o s p lu s t he e st im at ed c os t t o g et t o a g oa l f ro m t he re—t ha t i s , c(s ,a ,s)+H(s). In t he"
"e xa mp le ,t he re ar et wo ac ti on s ,w it he st im at ed co st s 1+9 a nd 1+2,s oi ts ee ms be st to mo ve"
"r ig ht . No w , i t i s c le ar t ha t t he c os t e st im at e o f 2 f or t he s ha de d s ta te w as o ve rl y o pt im is ti c ."
"Si nc e t he b es t m ov e c os t 1 a nd l ed t o a s ta te t ha t i s a t l ea st 2 s te ps f ro m a g oa l , t he s ha de d"
"s ta te m us t b e a t l ea st 3 s te ps f ro m a go al , s o i ts H s ho ul d b e u pd at ed a cc or di ng ly , a s s ho wn"
"i n Fi gu re 4.23(b). Co nt in ui ng t hi s p ro ce ss , t he a ge nt w il l m ov e b ac k a nd f or th t wi ce m or e ,"
u pd at in g H e ac ht im ea nd“f la tt en in g o ut”t he lo ca lm in im um un ti li te sc ap es t ot he ri gh t .
∗ ∗
"An ag en t i mp le me nt in g t hi s s ch em e , w hi ch is ca ll ed l ea rn in g r ea l-t im e A (LRTA), i s"
LRTA*
"s ho wn i n Fi gu re 4.24. Li ke ONLINE-DFS-AGENT , i t b ui ld s a m ap o f t he e nv ir on me nt i n"
t he re su lt t ab le . It up da te s t he co st es ti ma te f or th es ta te i th as j us tl ef t a nd th en c ho os es t he
“a pp ar en tl y b es t” m ov e a cc or di ng t o i ts c ur re nt c os t e st im at es . On e i mp or ta nt d et ai l i s t ha t
a ct io ns th at ha ve no ty et be en tr ie di na st at es ar ea lw ay sa ss um ed to le ad im me di at el yt ot he
"OPTIMISMUNDER g oa lw it ht he le as tp os si bl ec os t ,n am el yh(s). Th is op ti mi sm un de ru nc er ta in ty en co ur ag es"
UNCERTAINTY
"t he ag en tt oe xp lo re ne w ,p os si bl yp ro mi si ng p at hs ."
∗
"An LRTA a ge nt is gu ar an te ed to fi nd ag oa li na ny fi ni te ,s af el ye xp lo ra bl ee nv ir on me nt ."
∗
"Un li ke A ,h ow ev er ,i ti sn ot co mp le te fo ri nf in it es ta te sp ac es—t he re ar ec as es wh er ei tc an be"
"l ed in fi ni te ly as tr ay . It ca ne xp lo re an en vi ro nm en to fn st at es in O(n 2)s te ps in th ew or st ca se ,"
14 Ra nd om wa lk sa re co mp le te on in fi ni te on e-d im en si on al an dt wo-d im en si on al gr id s . On at hr ee-d im en si on al
"g ri d ,t he pr ob ab il it yt ha tt he wa lk ev er re tu rn st ot he st ar ti ng po in ti so nl ya bo ut 0.3405(Hu gh es ,1995)."
152 Ch ap te r 4. Be yo nd Cl as si ca l Se ar ch
1 1 1 1 1 1 1
(a) 8 9 2 2 4 3
1 1 1 1 1 1 1
(b) 8 9 3 2 4 3
1 1 1 1 1 1 1
(c) 8 9 3 4 4 3
1 1 1 1 1 1 1
(d) 8 9 5 4 4 3
1 1 1 1 1 1 1
(e) 8 9 5 5 4 3
Fi gu re 4.23 Fi ve i te ra ti on s o f LRTA∗ o n a o ne-d im en si on al s ta te s pa ce . Ea ch s ta te i s
"l ab el ed wi th H(s),t he cu rr en tc os te st im at et or ea ch ag oa l ,a nd ea ch li nk is la be le dw it hi ts"
"s te pc os t . Th es ha de ds ta te ma rk st he lo ca ti on of th ea ge nt ,a nd th eu pd at ed co st es ti ma te sa t"
e ac hi te ra ti on ar ec ir cl ed .
f un ct io n LRTA*-AGENT(s(c id:5))r et ur ns an ac ti on
"i np ut s:s(c id:5),a pe rc ep tt ha ti de nt if ie st he cu rr en ts ta te"
"p er si st en t: r es ul t ,a ta bl e ,i nd ex ed by st at ea nd ac ti on ,i ni ti al ly em pt y"
"H ,a ta bl eo fc os te st im at es in de xe db ys ta te ,i ni ti al ly em pt y"
"s ,a ,t he pr ev io us st at ea nd ac ti on ,i ni ti al ly nu ll"
i f GOAL-TEST(s(c id:5))t he nr et ur ns to p
i fs(c id:5)i sa ne ws ta te(n ot in H)t he n H[s(c id:5)]←h(s(c id:5))
i fs i sn ot nu ll
"r es ul t[s ,a]←s(c id:5)"
"H[s]← m in LRTA*-COST(s ,b ,r es ul t[s ,b],H)"
b∈ACTIONS(s)
"a←a na ct io nb i n ACTIONS(s(c id:5))t ha tm in im iz es LRTA*-COST(s(c id:5),b ,r es ul t[s(c id:5),b],H)"
s←s(c id:5)
r et ur na
"f un ct io n LRTA*-COST(s ,a ,s(c id:5),H)r et ur ns ac os te st im at e"
i fs(c id:5)i su nd ef in ed th en re tu rn h(s)
"e ls er et ur nc(s ,a ,s(c id:5)) + H[s(c id:5)]"
Fi gu re 4.24 LRTA*-AGENT s el ec ts a n a ct io n a cc or di ng t o t he v al ue s o f n ei gh bo ri ng
"s ta te s ,w hi ch ar eu pd at ed as th ea ge nt mo ve sa bo ut th es ta te sp ac e ."
5
ADVERSARIAL SEARCH
In wh ic hw ee xa mi ne th ep ro bl em st ha ta ri se wh en we tr yt op la na he ad in aw or ld
w he re ot he ra ge nt sa re pl an ni ng a ga in st us .
5.1 GAMES
"Ch ap te r 2 i nt ro du ce d m ul ti ag en t e nv ir on me nt s , i n w hi ch e ac h a ge nt n ee ds t o c on si de r t he"
a ct io ns o f o th er a ge nt s a nd h ow t he y a ff ec t i ts o wn w el fa re . Th e u np re di ct ab il it y o f t he se
"o th er a ge nt s c an i nt ro du ce c on ti ng en ci es i nt o t he a ge nt’s p ro bl em-s ol vi ng p ro ce ss , a s d is-"
"c us se di n Ch ap te r 4. In th is ch ap te rw ec ov er co mp et it iv ee nv ir on me nt s ,i nw hi ch th ea ge nt s’"
"g oa ls ar ei nc on fl ic t ,g iv in gr is et oa dv er sa ri al s ea rc h p ro bl em s—o ft en k no wn as ga me s ."
GAME
"Ma th em at ic al ga me th eo ry ,a br an ch of ec on om ic s ,v ie ws an ym ul ti ag en te nv ir on me nt"
"a s a g am e , p ro vi de d t ha t t he i mp ac t o f e ac h a ge nt o n t he o th er s i s “s ig ni fi ca nt ,” r eg ar dl es s"
"o f w he th er t he a ge nt s a re c oo pe ra ti ve o r c om pe ti ti ve .1 In AI , t he m os t c om mo n g am es a re"
"o fa ra th er sp ec ia li ze d k in d—w ha tg am et he or is ts c al ld et er mi ni st ic , t ur n-t ak in g , t wo-p la ye r ,"
"z er o-s um g am es o f p er fe ct i nf or ma ti on (s uc h a s c he ss). In o ur t er mi no lo gy , t hi s m ea ns"
ZERO-SUMGAMES
"PERFECT d et er mi ni st ic ,f ul ly ob se rv ab le en vi ro nm en ts in wh ic ht wo ag en ts ac ta lt er na te ly an di nw hi ch"
INFORMATION
"t he u ti li ty v al ue s a t t he e nd o f t he g am e a re a lw ay s e qu al a nd o pp os it e . Fo re xa mp le , i f o ne"
"p la ye rw in sa ga me of ch es s , t he ot he rp la ye rn ec es sa ri ly l os es . It is th is op po si ti on b et we en"
t he ag en ts’u ti li ty fu nc ti on s t ha tm ak es th es it ua ti on a dv er sa ri al .
Ga me s h av e e ng ag ed t he i nt el le ct ua l f ac ul ti es o f h um an s—s om et im es t o a n a la rm in g
"d eg re e—f or a s l on g a s c iv il iz at io n h as e xi st ed . Fo r AI r es ea rc he rs , t he a bs tr ac t n at ur e o f"
"g am es m ak es t he m a n a pp ea li ng s ub je ct f or s tu dy . Th e s ta te o f a g am e i s e as y t o r ep re se nt ,"
a nd ag en ts ar eu su al ly re st ri ct ed to as ma ll nu mb er of ac ti on sw ho se ou tc om es ar ed ef in ed by
"p re ci se r ul es . Ph ys ic al ga me s ,s uc h a sc ro qu et a nd ic eh oc ke y , h av em uc hm or ec om pl ic at ed"
"d es cr ip ti on s , a m uc h l ar ge r r an ge o f p os si bl e a ct io ns , a nd r at he r i mp re ci se r ul es d ef in in g"
"t he l eg al it y o f a ct io ns . Wi th t he e xc ep ti on o f r ob ot s oc ce r , t he se p hy si ca l g am es h av e n ot"
a tt ra ct ed m uc hi nt er es t i nt he AIc om mu ni ty .
1 En vi ro nm en ts wi th ve ry ma ny ag en ts ar eo ft en vi ew ed as ec on om ie sr at he rt ha ng am es .
161
162 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
"Ga me s , u nl ik e m os t o f t he t oy p ro bl em s s tu di ed i n Ch ap te r 3, a re i nt er es ti ng b ec au se"
"t he y a re t oo h ar d t o s ol ve . Fo r e xa mp le , c he ss h as a n a ve ra ge b ra nc hi ng f ac to r o f a bo ut 35,"
"a nd g am es o ft en g o t o 50 m ov es b y e ac h p la ye r , s o t he s ea rc h t re e h as a bo ut 35100 o r 10154"
"n od es(a lt ho ug h t he se ar ch gr ap hh as“o nl y” a bo ut 1040 d is ti nc t n od es). Ga me s ,l ik et he re al"
"w or ld ,t he re fo re re qu ir et he ab il it yt om ak e s om ed ec is io n e ve nw he nc al cu la ti ng t he op ti ma l"
d ec is io ni si nf ea si bl e . Ga me sa ls op en al iz ei ne ff ic ie nc ys ev er el y . Wh er ea sa ni mp le me nt at io n
∗
"o f A s ea rc ht ha ti sh al fa se ff ic ie nt wi ll si mp ly ta ke tw ic ea sl on gt or un to co mp le ti on ,a ch es s"
p ro gr am t ha t i s h al f a s e ff ic ie nt i n u si ng i ts a va il ab le t im e p ro ba bl y w il l b e b ea te n i nt o t he
"g ro un d , o th er th in gs be in ge qu al . Ga me-p la yi ng re se ar ch ha st he re fo re sp aw ne da nu mb er of"
i nt er es ti ng i de as on ho wt om ak et he be st po ss ib le u se of ti me .
We b eg in w it h a d ef in it io n o f t he o pt im al m ov e a nd a n a lg or it hm f or f in di ng i t . We
t he n l oo k a t t ec hn iq ue s f or c ho os in g a g oo d m ov e w he n t im e i s l im it ed . Pr un in ga ll ow s u s
PRUNING
"t oi gn or e p or ti on s o ft he se ar ch t re et ha tm ak en od if fe re nc e t ot he fi na lc ho ic e , a nd he ur is ti c"
e va lu at io nf un ct io ns al lo wu st oa pp ro xi ma te t he tr ue ut il it yo fa st at ew it ho ut do in ga co m-
p le te s ea rc h . Se ct io n 5.5 d is cu ss es g am es s uc h a s b ac kg am mo n t ha t i nc lu de a n e le me nt o f
"IMPERFECT c ha nc e ; w ea ls o d is cu ss b ri dg e , w hi ch i nc lu de s e le me nt s o f i mp er fe ct i nf or ma ti on b ec au se"
INFORMATION
"n ot al lc ar ds ar ev is ib le t oe ac hp la ye r . Fi na ll y ,w el oo ka th ow st at e-o f-t he-a rt g am e-p la yi ng"
p ro gr am sf ar ea ga in st hu ma no pp os it io n a nd at di re ct io ns f or fu tu re de ve lo pm en ts .
"We fi rs tc on si de rg am es wi th tw op la ye rs ,w ho mw ec al l MAXa nd MINf or re as on st ha t"
"w il ls oo nb ec om eo bv io us . MAX m ov es fi rs t ,a nd th en th ey ta ke tu rn sm ov in gu nt il th eg am e"
"i s o ve r . At t he e nd o f t he g am e , p oi nt s a re a wa rd ed t o t he w in ni ng p la ye r a nd p en al ti es a re"
g iv en t o t he l os er . A g am e c an b e f or ma ll y d ef in ed a s a k in d o f s ea rc h p ro bl em w it h t he
f ol lo wi ng el em en ts:
"• S : Th ei ni ti al st at e , w hi ch sp ec if ie sh ow th eg am ei ss et up at th es ta rt ."
0
• PLAYER(s): De fi ne sw hi ch pl ay er ha st he mo ve in as ta te .
• ACTIONS(s): Re tu rn st he se to fl eg al mo ve si na st at e .
"• RESULT(s ,a): Th et ra ns it io nm od el ,w hi ch de fi ne st he re su lt of am ov e ."
TERMINALTEST
"• TERMINAL-TEST(s): A t er mi na l t es t , w hi ch i s t ru e w he n t he g am e i s o ve r a nd f al se"
o th er wi se . St at es wh er et he ga me ha se nd ed ar ec al le d t er mi na ls ta te s .
TERMINALSTATES
"• UTILITY(s ,p): Au ti li ty fu nc ti on(a ls oc al le da no bj ec ti ve fu nc ti on or pa yo ff fu nc ti on),"
d ef in es th ef in al nu me ri cv al ue fo ra ga me th at en ds in te rm in al s ta te sf or ap la ye rp . In
"c he ss ,t he ou tc om ei sa wi n ,l os s ,o rd ra w ,w it hv al ue s +1,0,o r 1. So me ga me sh av ea"
2
w id er va ri et yo fp os si bl eo ut co me s ;t he pa yo ff si nb ac kg am mo nr an ge fr om 0 t o+192.
Az er o-s um g am e i s (c on fu si ng ly) d ef in ed a s o ne w he re t he t ot al p ay of f t oa ll p la ye rs
i st he s am ef or ev er y i ns ta nc e o ft he ga me . Ch es si sz er o-s um b ec au se e ve ry ga me ha s
"p ay of fo fe it he r 0+1,1+0 o r 1 + 1. “Co ns ta nt-s um” w ou ld ha ve be en ab et te rt er m ,"
2 2
b ut z er o-s um i s t ra di ti on al a nd m ak es s en se i f y ou i ma gi ne e ac h p la ye r i s c ha rg ed a n
e nt ry fe eo f 1.
2
GAMETREE
"Th e i ni ti al s ta te , ACTIONS f un ct io n , a nd RESULT f un ct io n d ef in e t he g am e t re e f or t he"
g am e—a t re e w he re t he n od es a re g am e s ta te s a nd t he e dg es a re m ov es . Fi gu re 5.1 s ho ws
"p ar t o f t he g am e t re e f or t ic-t ac-t oe (n ou gh ts a nd c ro ss es). Fr om t he i ni ti al s ta te , MAX h as"
n in e p os si bl e m ov es . Pl ay a lt er na te s b et we en MAX’s p la ci ng a n X a nd MIN’s p la ci ng a n O
Se ct io n 5.2. Op ti ma l De ci si on s i n Ga me s 163
u nt il w e r ea ch l ea f n od es c or re sp on di ng t o t er mi na l s ta te s s uc h t ha t o ne p la ye r h as t hr ee i n
a r ow o r a ll t he s qu ar es a re f il le d . Th e n um be r o n e ac h l ea f n od e i nd ic at es t he u ti li ty v al ue
o ft he t er mi na l s ta te f ro m t he p oi nt o fv ie w o f MAX ; h ig h v al ue s a re a ss um ed t ob e g oo d f or
MAX a nd ba df or MIN(w hi ch is ho wt he pl ay er sg et th ei rn am es).
"Fo r t ic-t ac-t oe t he g am e t re e i s r el at iv el y s ma ll—f ew er t ha n 9! = 362,880 t er mi na l"
"n od es . Bu t f or c he ss t he re a re o ve r 1040 n od es , s o t he g am e t re e i s b es t t ho ug ht o f a s a"
t he or et ic al c on st ru ct t ha t w e c an no t r ea li ze i n t he p hy si ca l w or ld . Bu t r eg ar dl es s o f t he s iz e
SEARCHTREE
"o ft he ga me tr ee ,i ti s MAX’s jo bt os ea rc hf or ag oo dm ov e . We us et he te rm se ar ch tr ee fo ra"
"t re et ha ti ss up er im po se d o nt he fu ll ga me tr ee ,a nd ex am in es e no ug hn od es to al lo wa pl ay er"
t od et er mi ne w ha tm ov et om ak e .
MAX (X)
X X X
MIN (O)
X X X
X X X
XO X O X . . .
MAX (X) O
X O X XO X O . . .
MIN (O) X X
. . . . . . . . . . . .
X O X X O X X O X . . .
TERMINAL O X OO X X
O X X O X O O
Ut il it y –1 0 +1
Fi gu re 5.1 A (p ar ti al) g am e t re e f or th e g am e o f t ic-t ac-t oe . Th e t op n od e i s t he i ni ti al
"s ta te ,a nd MAXm ov es fi rs t ,p la ci ng an Xi na ne mp ty sq ua re .We sh ow pa rt of th et re e ,g iv in g"
"a lt er na ti ng mo ve sb y MIN(O)a nd MAX(X),u nt il we ev en tu al ly re ac ht er mi na ls ta te s ,w hi ch"
c an be as si gn ed ut il it ie sa cc or di ng to th er ul es of th eg am e .
5.2 OPTIMAL DECISIONS IN GAMES
"In a n or ma l s ea rc h p ro bl em , t he o pt im al s ol ut io n w ou ld b e a s eq ue nc e o f a ct io ns l ea di ng t o"
"a g oa l s ta te—a t er mi na l s ta te t ha t i s a w in . In a dv er sa ri al s ea rc h , MIN h as s om et hi ng t o s ay"
"STRATEGY a bo ut i t . MAX t he re fo re m us t f in d a c on ti ng en t s tr at eg y , w hi ch s pe ci fi es MAX’s m ov e i n"
"t he i ni ti al s ta te , t he n MAX’s m ov es i n t he s ta te s r es ul ti ng f ro m e ve ry p os si bl e r es po ns e b y"
164 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
MAX 3 A
a a
1 3
a
2
MIN 3 B 2 C 2 D
b b c c d d
1 3 1 3 1 3
b c d
2 2 2
3 12 8 2 4 6 14 5 2
"Fi gu re 5.2 A t wo-p ly g am e t re e . Th e (c id:14) n od es a re “MAX n od es ,” i n w hi ch i t i s MAX’s"
(c id:15)
"t ur nt om ov e ,a nd th e n od es ar e“MINn od es .” Th et er mi na ln od es sh ow th eu ti li ty va lu es"
f or MAX ;t he ot he rn od es ar el ab el ed wi th th ei rm in im ax va lu es . MAX’s be st mo ve at th er oo t
"i sa 1,b ec au se it le ad st ot he st at ew it ht he hi gh es tm in im ax va lu e ,a nd MIN’s be st re pl yi sb 1,"
b ec au se it le ad st ot he st at ew it ht he lo we st mi ni ma xv al ue .
"MIN ,t he n MAX’s mo ve si nt he st at es r es ul ti ng f ro me ve ry po ss ib le r es po ns e b y MIN t ot ho se"
"m ov es , a nd s o o n . Th is i s e xa ct ly a na lo go us t o t he AND–OR s ea rc h a lg or it hm (Fi gu re 4.11)"
"w it h MAX p la yi ng t he ro le of OR a nd MIN e qu iv al en t t o AND . Ro ug hl y s pe ak in g , a no pt im al"
s tr at eg y l ea ds t o o ut co me s a t l ea st a s g oo d a s a ny o th er s tr at eg y w he n o ne i s p la yi ng a n
i nf al li bl e o pp on en t . We be gi nb ys ho wi ng ho wt of in dt hi so pt im al st ra te gy .
Ev en a s im pl e g am e l ik e t ic-t ac-t oe i s t oo c om pl ex f or u s t o d ra w t he e nt ir e g am e t re e
"o no ne pa ge ,s ow ew il ls wi tc ht ot he tr iv ia lg am ei n Fi gu re 5.2. Th ep os si bl em ov es fo r MAX"
"a t t he r oo t n od e a re l ab el ed a 1, a 2, a nd a 3. Th e p os si bl e r ep li es t o a 1 f or MIN a re b 1, b 2,"
"b 3, a nd s o o n . Th is p ar ti cu la r g am e e nd s a ft er o ne m ov e e ac h b y MAX a nd MIN . (In g am e"
"p ar la nc e ,w es ay th at th is tr ee is on em ov ed ee p ,c on si st in go ft wo ha lf-m ov es ,e ac ho fw hi ch"
i sc al le da pl y .) Th eu ti li ti es of th et er mi na ls ta te si nt hi sg am er an ge fr om 2 t o 14.
PLY
"Gi ve n a g am e t re e , t he o pt im al s tr at eg y c an b e d et er mi ne d f ro m t he m in im ax v al ue"
MINIMAXVALUE
"o f e ac h n od e , w hi ch w e w ri te a s MINIMAX(n). Th e m in im ax v al ue o f a n od e i s t he u ti li ty"
"(f or MAX) o f b ei ng i n t he c or re sp on di ng s ta te , a ss um in g t ha t b ot h p la ye rs p la y o pt im al ly"
"f ro m t he re t o t he e nd o f t he g am e . Ob vi ou sl y , t he m in im ax v al ue o f a t er mi na l s ta te i s j us t"
"i ts u ti li ty . Fu rt he rm or e , g iv en a c ho ic e , MAX p re fe rs t o m ov e t o a s ta te o f m ax im um v al ue ,"
w he re as MIN p re fe rs as ta te of mi ni mu mv al ue . So we ha ve th ef ol lo wi ng:
MINIMAX(s) =
⎧
⎨ UTILITY(s) i f TERMINAL-TEST(s)
⎩
"m ax a∈Ac ti on s(s)MINIMAX(RESULT(s ,a)) i f PLAYER(s) =MAX"
"m in a∈Ac ti on s(s)MINIMAX(RESULT(s ,a)) i f PLAYER(s) =MIN"
Le tu sa pp ly th es ed ef in it io ns to th eg am et re ei n Fi gu re 5.2. Th et er mi na ln od es on th eb ot to m
"l ev el g et t he ir u ti li ty v al ue s f ro m t he g am e’s UTILITY f un ct io n . Th e f ir st MIN n od e , l ab el ed"
"B , h as t hr ee s uc ce ss or s ta te s w it h v al ue s 3, 12, a nd 8, s o i ts m in im ax v al ue i s 3. Si mi la rl y ,"
t he o th er tw o MIN n od es h av e m in im ax va lu e 2. Th er oo t n od e i sa MAX n od e ; i ts s uc ce ss or
"s ta te s h av e m in im ax v al ue s 3, 2, a nd 2; s oi th as a mi ni ma x v al ue o f 3. We ca na ls o i de nt if y"
Se ct io n 5.2. Op ti ma l De ci si on s i n Ga me s 165
MINIMAXDECISION
t he mi ni ma xd ec is io na tt he ro ot: a ct io na 1 i st he op ti ma lc ho ic ef or MAXb ec au se it le ad st o
t he st at ew it ht he hi gh es t m in im ax va lu e .
Th is d ef in it io n o f o pt im al p la y f or MAX a ss um es t ha t MIN a ls o p la ys o pt im al ly—i t
m ax im iz es th ew or st-c as eo ut co me fo r MAX . Wh at if MINd oe sn ot pl ay op ti ma ll y ? Th en it is
e as yt os ho w(Ex er ci se 5.7)t ha t MAXw il ld oe ve nb et te r . Ot he rs tr at eg ie sa ga in st su bo pt im al
"o pp on en ts m ay do be tt er th an th em in im ax st ra te gy ,b ut th es e s tr at eg ie sn ec es sa ri ly d ow or se"
a ga in st op ti ma lo pp on en ts .
5.2.1 Th e m in im ax al go ri th m
Th em in im ax al go ri th m(Fi gu re 5.3)c om pu te st he mi ni ma xd ec is io nf ro mt he cu rr en t s ta te .
MINIMAXALGORITHM
"It us es as im pl er ec ur si ve co mp ut at io no ft he mi ni ma xv al ue so fe ac hs uc ce ss or st at e ,d ir ec tl y"
i mp le me nt in g t he de fi ni ng e qu at io ns . Th er ec ur si on p ro ce ed s a ll th ew ay do wn to th el ea ve s
"o f t he t re e , a nd t he n t he m in im ax v al ue s a re b ac ke d u p t hr ou gh t he t re e a s t he r ec ur si on"
"u nw in ds . Fo r e xa mp le , i n Fi gu re 5.2, t he a lg or it hm f ir st r ec ur se s d ow n t o t he t hr ee b ot to m-"
"l ef tn od es a nd us es th e UTILITY f un ct io n o nt he mt od is co ve rt ha tt he ir va lu es ar e 3,12,a nd"
"8, r es pe ct iv el y . Th en i t t ak es t he m in im um o f t he se v al ue s , 3, a nd r et ur ns i t a s t he b ac ke d-"
u p v al ue o f n od e B . A s im il ar p ro ce ss g iv es t he b ac ke d-u p v al ue s o f 2 f or C a nd 2 f or D .
"Fi na ll y ,w et ak et he ma xi mu mo f 3,2,a nd 2 t og et th eb ac ke d-u pv al ue of 3 f or th er oo tn od e ."
Th e m in im ax a lg or it hm p er fo rm s a c om pl et e d ep th-f ir st e xp lo ra ti on o f t he g am e t re e .
"If t he m ax im um d ep th o f t he t re e i s m a nd t he re a re b l eg al m ov es a t e ac h p oi nt , t he n t he"
t im ec om pl ex it yo ft he mi ni ma xa lg or it hm i s O(b m). Th es pa ce co mp le xi ty is O(b m)f or an
"a lg or it hm t ha t g en er at es a ll ac ti on s a to nc e , o r O(m)f or an a lg or it hm t ha t g en er at es a ct io ns"
"o ne a t a t im e (s ee p ag e 87). Fo r r ea l g am es , o f c ou rs e , t he t im e c os t i s t ot al ly i mp ra ct ic al ,"
b ut t hi s a lg or it hm s er ve s a s t he b as is f or t he m at he ma ti ca l a na ly si s o f g am es a nd f or m or e
p ra ct ic al a lg or it hm s .
5.2.2 Op ti ma ld ec is io ns i nm ul ti pl ay er ga me s
Ma ny po pu la rg am es al lo wm or et ha nt wo pl ay er s . Le tu se xa mi ne ho wt oe xt en dt he mi ni ma x
"i de a t o m ul ti pl ay er g am es . Th is i s s tr ai gh tf or wa rd f ro m t he t ec hn ic al v ie wp oi nt , b ut r ai se s"
s om ei nt er es ti ng n ew co nc ep tu al i ss ue s .
"Fi rs t , w e n ee d t o r ep la ce t he s in gl e v al ue f or e ac h n od e w it h a v ec to r o f v al ue s . Fo r"
"e xa mp le ,i na th re e-p la ye rg am ew it hp la ye rs A ,B ,a nd C ,a ve ct or(c id:16)v ,v ,v (c id:17)i sa ss oc ia te d"
A B C
"w it he ac hn od e . Fo rt er mi na ls ta te s ,t hi sv ec to rg iv es th eu ti li ty of th es ta te fr om ea ch pl ay er’s"
"v ie wp oi nt . (In tw o-p la ye r ,z er o-s um ga me s ,t he tw o-e le me nt ve ct or ca nb er ed uc ed to as in gl e"
v al ue be ca us et he va lu es ar ea lw ay so pp os it e .) Th es im pl es tw ay to im pl em en tt hi si st oh av e
t he UTILITY f un ct io n r et ur na ve ct or of ut il it ie s .
No ww eh av et oc on si de rn on te rm in al st at es . Co ns id er th en od em ar ke d X i nt he ga me
"t re e s ho wn i n Fi gu re 5.4. In t ha t s ta te , p la ye r C c ho os es w ha t t o d o . Th e t wo c ho ic es l ea d"
"t ot er mi na l s ta te s w it h u ti li ty v ec to rs (c id:16)v =1,v =2,v =6(c id:17)a nd (c id:16)v =4,v =2,v =3(c id:17)."
A B C A B C
"Si nc e 6 i sb ig ge rt ha n 3,Cs ho ul dc ho os et he fi rs tm ov e . Th is me an st ha ti fs ta te X i sr ea ch ed ,"
"s ub se qu en t p la y w il l l ea d t o a t er mi na l s ta te w it h u ti li ti es (c id:16)v =1,v =2,v =6(c id:17). He nc e ,"
A B C
t he ba ck ed-u pv al ue of X i st hi sv ec to r . Th eb ac ke d-u pv al ue of an od en is al wa ys th eu ti li ty
166 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
f un ct io n MINIMAX-DECISION(s ta te)r et ur ns an a ct io n
r et ur na rg ma x
a ∈ ACTIONS(s)
"MIN-VALUE(RESULT(s ta te ,a))"
f un ct io n MAX-VALUE(s ta te)r et ur ns a u ti li ty v al ue
i f TERMINAL-TEST(s ta te)t he nr et ur n UTILITY(s ta te)
v←−∞
f or ea ch a i n ACTIONS(s ta te)d o
"v←MAX(v ,MIN-VALUE(RESULT(s ,a)))"
r et ur nv
f un ct io n MIN-VALUE(s ta te)r et ur ns a u ti li ty v al ue
i f TERMINAL-TEST(s ta te)t he nr et ur n UTILITY(s ta te)
v←∞
f or ea ch a i n ACTIONS(s ta te)d o
"v←MIN(v ,MAX-VALUE(RESULT(s ,a)))"
r et ur nv
Fi gu re 5.3 An a lg or it hm f or ca lc ul at in g m in im ax d ec is io ns . It r et ur ns t he a ct io n c or re-
"s po nd in g t o t he b es t p os si bl e m ov e , t ha t i s , t he m ov e t ha t l ea ds t o t he o ut co me w it h t he"
"b es tu ti li ty ,u nd er th ea ss um pt io nt ha tt he op po ne nt pl ay st om in im iz eu ti li ty . Th ef un ct io ns"
"MAX-VALUE a nd MIN-VALUE g o t hr ou gh th e w ho le g am e t re e , a ll t he w ay t o t he l ea ve s ,"
t o d et er mi ne t he b ac ke d-u p v al ue o f a s ta te . Th e n ot at io n a rg ma x f(a) c om pu te s t he
a∈S
e le me nt ao fs et S t ha th as th em ax im um va lu eo ff(a).
t o m ov e
"A (1, 2, 6)"
"B (1, 2, 6) (1, 5, 2)"
"C (1, 2, 6) X (6, 1, 2) (1, 5, 2) (5, 4, 5)"
A
"(1, 2, 6) (4, 2, 3) (6, 1, 2) (7, 4,1) (5,1,1) (1, 5, 2) (7, 7,1) (5, 4, 5)"
"Fi gu re 5.4 Th ef ir st th re ep li es of ag am et re ew it ht hr ee pl ay er s(A ,B ,C). Ea ch no de is"
l ab el ed wi th va lu es fr om th ev ie wp oi nt of ea ch pl ay er . Th eb es tm ov ei sm ar ke da tt he ro ot .
v ec to r o f t he s uc ce ss or s ta te w it h t he h ig he st v al ue f or t he p la ye r c ho os in g a t n . An yo ne
"w ho p la ys m ul ti pl ay er g am es , s uc h a s Di pl om ac y , q ui ck ly b ec om es a wa re t ha t m uc h m or e"
"i sg oi ng o nt ha n i nt wo-p la ye r g am es . Mu lt ip la ye r g am es us ua ll y i nv ol ve a ll ia nc es , w he th er"
ALLIANCE
"f or ma lo ri nf or ma l ,a mo ng th ep la ye rs . Al li an ce sa re ma de an db ro ke na st he ga me pr oc ee ds ."
Ho w a re w e t o u nd er st an d s uc h b eh av io r ? Ar e a ll ia nc es a n at ur al c on se qu en ce o f o pt im al
"s tr at eg ie s f or ea ch p la ye r i n a m ul ti pl ay er g am e ? It t ur ns o ut t ha t t he y c an b e . Fo re xa mp le ,"
Se ct io n 5.3. Al ph a–Be ta Pr un in g 167
s up po se A a nd B a re i n w ea k p os it io ns a nd C i s i n a s tr on ge r p os it io n . Th en i t i s o ft en
"o pt im al f or b ot h A a nd B t o a tt ac k C r at he r t ha n e ac h o th er , l es t C d es tr oy e ac h o f t he m"
"i nd iv id ua ll y . In t hi s w ay , c ol la bo ra ti on e me rg es f ro m p ur el y s el fi sh b eh av io r . Of c ou rs e ,"
"a s s oo n a s C w ea ke ns u nd er t he j oi nt o ns la ug ht , t he a ll ia nc e l os es i ts v al ue , a nd e it he r A"
"o r B c ou ld v io la te t he a gr ee me nt . In s om e c as es , e xp li ci t a ll ia nc es m er el y m ak e c on cr et e"
"w ha t w ou ld h av e h ap pe ne d a ny wa y . In o th er c as es , a s oc ia l s ti gm a a tt ac he s t o b re ak in g a n"
"a ll ia nc e ,s op la ye rs mu st ba la nc et he im me di at ea dv an ta ge of br ea ki ng an al li an ce ag ai ns tt he"
l on g-t er m d is ad va nt ag e o f b ei ng p er ce iv ed a s u nt ru st wo rt hy . Se e Se ct io n 17.5 f or m or e o n
t he se co mp li ca ti on s .
"If t he g am e i s n ot z er o-s um , t he n c ol la bo ra ti on c an a ls o o cc ur w it h j us t t wo p la ye rs ."
"Su pp os e ,f or ex am pl e ,t ha tt he re is at er mi na ls ta te wi th ut il it ie s(c id:16)v =1000,v =1000(c id:17)a nd"
A B
t ha t 1000 i st he hi gh es t p os si bl e u ti li ty f or ea ch pl ay er . Th en th eo pt im al st ra te gy i sf or bo th
"p la ye rs t o d o e ve ry th in g p os si bl e t o r ea ch t hi s s ta te—t ha t i s , t he p la ye rs w il l a ut om at ic al ly"
c oo pe ra te t oa ch ie ve am ut ua ll yd es ir ab le g oa l .
5.3 ALPHA–BETA PRUNING
Th e p ro bl em w it h m in im ax s ea rc h i s t ha t t he n um be r o f g am e s ta te s i t h as t o e xa mi ne i s
"e xp on en ti al i n t he d ep th o f t he t re e . Un fo rt un at el y , w e c an’t e li mi na te t he e xp on en t , b ut i t"
t ur ns ou tw ec an ef fe ct iv el yc ut it in ha lf . Th et ri ck is th at it is po ss ib le to co mp ut et he co rr ec t
"m in im ax de ci si on wi th ou tl oo ki ng at ev er yn od ei nt he ga me tr ee . Th at is ,w ec an bo rr ow th e"
i de a o f p ru ni ng fr om Ch ap te r 3 t o e li mi na te l ar ge p ar ts o f t he t re e f ro m c on si de ra ti on . Th e
ALPHA–BETA p ar ti cu la r t ec hn iq ue w ee xa mi ne i sc al le d a lp ha–b et a p ru ni ng . Wh en ap pl ie d t oa st an da rd
PRUNING
"m in im ax t re e , i t r et ur ns t he s am e m ov e a s m in im ax w ou ld , b ut p ru ne s a wa y b ra nc he s t ha t"
c an no tp os si bl y i nf lu en ce th ef in al de ci si on .
Co ns id er ag ai nt he tw o-p ly ga me tr ee fr om Fi gu re 5.2. Le t’s go th ro ug ht he ca lc ul at io n
"o f t he o pt im al d ec is io n o nc e m or e , t hi s t im e p ay in g c ar ef ul a tt en ti on t o w ha t w e k no w a t"
e ac hp oi nt i nt he pr oc es s . Th es te ps ar ee xp la in ed i n Fi gu re 5.5. Th eo ut co me i st ha tw ec an
i de nt if y t he mi ni ma xd ec is io n w it ho ut ev er ev al ua ti ng t wo of th el ea fn od es .
An ot he rw ay to lo ok at th is is as as im pl if ic at io n o ft he fo rm ul a f or MINIMAX . Le tt he
t wo u ne va lu at ed s uc ce ss or s o f n od e C i n Fi gu re 5.5 h av e v al ue s x a nd y . Th en t he v al ue o f
t he ro ot no de is gi ve nb y
"MINIMAX(r oo t) = m ax(m in(3,12,8),m in(2,x ,y),m in(14,5,2))"
"= m ax(3,m in(2,x ,y),2)"
"= m ax(3,z ,2) w he re z = m in(2,x ,y) ≤ 2"
= 3.
"In o th er wo rd s , t he va lu e o ft he r oo t a nd h en ce t he m in im ax d ec is io n a re i nd ep en de nt o f t he"
v al ue so ft he pr un ed le av es x an dy .
"Al ph a–b et a p ru ni ng c an b e a pp li ed t o t re es o f a ny d ep th , a nd i t i s o ft en p os si bl e t o"
p ru ne e nt ir e s ub tr ee s r at he rt ha nj us t l ea ve s . Th eg en er al p ri nc ip le i st hi s: c on si de r a no de n
168 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
"(a) [−∞, +∞] A (b) [−∞, +∞] A"
"[−∞, 3] B [−∞, 3] B"
3 3 12
(c)
"[3, +∞]"
A (d)
"[3, +∞]"
A
"[3, 3] B [3, 3] B [−∞, 2] C"
3 12 8 3 12 8 2
"(e) [3, 14] A (f) [3, 3] A"
"[3, 3] B [−∞, 2] C [−∞, 14] D [3, 3] B [−∞, 2] C [2, 2] D"
3 12 8 2 14 3 12 8 2 14 5 2
Fi gu re 5.5 St ag es in th ec al cu la ti on of th eo pt im al de ci si on fo rt he ga me tr ee in Fi gu re 5.2.
"At ea ch po in t ,w es ho wt he ra ng eo fp os si bl ev al ue sf or ea ch no de .(a)Th ef ir st le af be lo w B"
"h as th ev al ue 3. He nc e ,B ,w hi ch is a MINn od e ,h as av al ue of at mo st 3.(b)Th es ec on dl ea f"
"b el ow B h as av al ue of 12; MIN w ou ld av oi dt hi sm ov e ,s ot he va lu eo f B i ss ti ll at mo st 3."
"(c) Th e t hi rd l ea f b el ow B h as a v al ue o f 8; w e h av e s ee n a ll B’s s uc ce ss or s ta te s , s o t he"
"v al ue o f B i s e xa ct ly 3. No w , w e c an i nf er th at t he v al ue o f t he r oo ti s a t l ea st 3, b ec au se"
"MAX h as a c ho ic e w or th 3 a t t he r oo t . (d) Th e f ir st l ea f b el ow C h as t he v al ue 2. He nc e ,"
"C , w hi ch is a MIN n od e ,h as av al ue of at mo st 2. Bu tw ek no wt ha t B i sw or th 3,s o MAX"
"w ou ld ne ve rc ho os e C . Th er ef or e ,t he re is no po in ti nl oo ki ng at th eo th er su cc es so rs ta te s"
"o f C . Th is is an ex am pl eo fa lp ha–b et ap ru ni ng . (e)Th ef ir st le af be lo w Dh as th ev al ue 14,"
"s o Di sw or th at mo st 14. Th is is st il lh ig he rt ha n MAX’s be st al te rn at iv e(i .e .,3),s ow en ee d"
t o k ee p e xp lo ri ng D’s s uc ce ss or st at es . No ti ce a ls o t ha t w e n ow ha ve b ou nd so n a ll o f t he
"s uc ce ss or so ft he ro ot ,s ot he ro ot’s va lu ei sa ls oa tm os t 14. (f)Th es ec on ds uc ce ss or of D"
"i sw or th 5,s oa ga in we ne ed to ke ep ex pl or in g . Th et hi rd su cc es so ri sw or th 2,s on ow Di s"
"w or th ex ac tl y 2. MAX’s de ci si on at th er oo ti st om ov et o B ,g iv in ga va lu eo f 3."
"s om ew he re in th et re e(s ee Fi gu re 5.6),s uc ht ha t Pl ay er ha sa c ho ic e o fm ov in gt ot ha tn od e ."
"If Pl ay er ha sa be tt er ch oi ce me it he ra tt he pa re nt no de of no ra ta ny ch oi ce po in tf ur th er up ,"
t he nn wi ll ne ve rb er ea ch ed i na ct ua lp la y . So on ce we ha ve fo un do ut en ou gh a bo ut n(b y
"e xa mi ni ng so me of it sd es ce nd an ts) t or ea ch th is co nc lu si on , w ec an pr un ei t ."
"Re me mb er t ha t m in im ax s ea rc h i s d ep th-f ir st , s o a t a ny o ne t im e w e j us t h av e t o c on-"
s id er t he n od es a lo ng a s in gl e p at h i n t he t re e . Al ph a–b et a p ru ni ng g et s i ts n am e f ro m t he
f ol lo wi ng tw op ar am et er st ha td es cr ib eb ou nd so nt he ba ck ed-u pv al ue st ha ta pp ea ra ny wh er e
a lo ng th ep at h:
Se ct io n 5.3. Al ph a–Be ta Pr un in g 169
Pl ay er
Op po ne nt m
•
•
•
Pl ay er
Op po ne nt n
"Fi gu re 5.6 Th eg en er al ca se fo ra lp ha–b et ap ru ni ng . If m is be tt er th an nf or Pl ay er ,w e"
w il ln ev er ge tt on in pl ay .
"α= t he va lu eo ft he be st(i .e .,h ig he st-v al ue)c ho ic ew eh av ef ou nd so fa ra ta ny ch oi ce po in t"
a lo ng th ep at hf or MAX .
"β = t he va lu eo ft he be st(i .e .,l ow es t-v al ue)c ho ic ew eh av ef ou nd so fa ra ta ny ch oi ce po in t"
a lo ng th ep at hf or MIN .
Al ph a–b et a s ea rc h u pd at es t he v al ue s o f α a nd β a s i t g oe s a lo ng a nd p ru ne s t he r em ai ni ng
"b ra nc he s a t a n od e (i .e ., t er mi na te s t he r ec ur si ve c al l) a s s oo n a s t he v al ue o f t he c ur re nt"
"n od e i s k no wn t o b e w or se t ha n t he c ur re nt α o r β v al ue f or MAX o r MIN , r es pe ct iv el y . Th e"
c om pl et e a lg or it hm i s g iv en i n Fi gu re 5.7. We e nc ou ra ge y ou t o t ra ce i ts b eh av io r w he n
a pp li ed to th et re ei n Fi gu re 5.5.
5.3.1 Mo ve or de ri ng
Th ee ff ec ti ve ne ss o fa lp ha–b et a p ru ni ng i sh ig hl y d ep en de nt o nt he or de ri nw hi ch t he st at es
"a re ex am in ed . Fo re xa mp le ,i n Fi gu re 5.5(e)a nd(f),w ec ou ld n ot pr un ea ny su cc es so rs o f D"
a t a ll b ec au se t he w or st s uc ce ss or s (f ro m t he p oi nt o f v ie w o f MIN) w er e g en er at ed f ir st . If
"t he th ir ds uc ce ss or of Dh ad be en ge ne ra te df ir st ,w ew ou ld ha ve be en ab le to pr un et he ot he r"
t wo . Th is su gg es ts t ha t i t m ig ht b ew or th wh il e t o t ry t oe xa mi ne f ir st th e s uc ce ss or s t ha t a re
l ik el yt ob eb es t .
"If t hi s c an b e d on e ,2 t he n i t t ur ns o ut t ha t a lp ha–b et a n ee ds t o e xa mi ne o nl y O(b m/2)"
"n od es t o p ic k t he b es t m ov√e , i ns te ad o f O(b m) f or m in im ax . Th is m ea ns t ha t t he e ff ec ti ve"
"b ra nc hi ng f ac to r b ec om es b i ns te ad o f b—f or c he ss , a bo ut 6 i ns te ad o f 35. Pu t a no th er"
"w ay , a lp ha–b et a c an s ol ve a t re e r ou gh ly t wi ce a s d ee p a s m in im ax i n t he s am e a mo un t o f"
"t im e . If s uc ce ss or s a re e xa mi ne d i n r an do m o rd er r at he r t ha n b es t-f ir st , t he t ot al n um be r o f"
"n od es ex am in ed wi ll be ro ug hl y O(b 3 m/4)f or mo de ra te b . Fo rc he ss ,a fa ir ly si mp le or de ri ng"
"f un ct io n (s uc h a s t ry in g c ap tu re s f ir st , t he n t hr ea ts , t he n f or wa rd m ov es , a nd t he n b ac kw ar d"
m ov es)g et sy ou to wi th in ab ou ta fa ct or of 2 o ft he be st-c as e O(b m/2)r es ul t .
"2 Ob vi ou sl y ,i tc an no tb ed on ep er fe ct ly ;o th er wi se ,t he or de ri ng fu nc ti on co ul db eu se dt op la ya pe rf ec tg am e !"
170 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
f un ct io n ALPHA-BETA-SEARCH(s ta te)r et ur ns an ac ti on
"v←MAX-VALUE(s ta te ,−∞,+∞)"
r et ur nt he ac ti on i n ACTIONS(s ta te)w it hv al ue v
"f un ct io n MAX-VALUE(s ta te ,α,β)r et ur ns a u ti li ty v al ue"
i f TERMINAL-TEST(s ta te)t he nr et ur n UTILITY(s ta te)
v←−∞
f or ea ch a i n ACTIONS(s ta te)d o
"v←MAX(v ,MIN-VALUE(RESULT(s ,a),α,β))"
i fv ≥ β t he nr et ur nv
"α←MAX(α,v)"
r et ur nv
"f un ct io n MIN-VALUE(s ta te ,α,β)r et ur ns a u ti li ty v al ue"
i f TERMINAL-TEST(s ta te)t he nr et ur n UTILITY(s ta te)
v←+∞
f or ea ch a i n ACTIONS(s ta te)d o
"v←MIN(v ,MAX-VALUE(RESULT(s ,a),α,β))"
i fv ≤ αt he nr et ur nv
"β←MIN(β,v)"
r et ur nv
Fi gu re 5.7 Th e a lp ha–b et as ea rc h a lg or it hm . No ti ce t ha t t he se r ou ti ne sa re t he s am e a s
"t he MINIMAX f un ct io ns in Fi gu re 5.3,e xc ep tf or th et wo li ne si ne ac ho f MIN-VALUE a nd"
MAX-VALUEt ha tm ai nt ai nαa ndβ(a nd th eb oo kk ee pi ng to pa ss th es ep ar am et er sa lo ng).
"Ad di ng dy na mi cm ov e-o rd er in gs ch em es ,s uc ha st ry in gf ir st th em ov es th at we re fo un d"
"t o b e b es t i n t he p as t , b ri ng s u s q ui te c lo se t o t he t he or et ic al l im it . Th e p as t c ou ld b e t he"
p re vi ou s m ov e—o ft en t he sa me t hr ea ts r em ai n—o r i tc ou ld c om e f ro m p re vi ou s e xp lo ra ti on
o f t he c ur re nt m ov e . On e w ay t o g ai n i nf or ma ti on f ro m t he c ur re nt m ov e i s w it h i te ra ti ve
"d ee pe ni ng s ea rc h . Fi rs t , s ea rc h 1 p ly d ee p a nd r ec or d t he b es t p at h o f m ov es . Th en s ea rc h"
"1 p ly d ee pe r , b ut u se t he r ec or de d p at h t o i nf or m m ov e o rd er in g . As w e s aw i n Ch ap te r 3,"
i te ra ti ve d ee pe ni ng o n a n e xp on en ti al g am e t re e a dd s o nl y a c on st an t f ra ct io n t o t he t ot al
"s ea rc ht im e ,w hi ch ca nb em or et ha nm ad eu pf ro mb et te rm ov eo rd er in g . Th eb es tm ov es ar e"
o ft en ca ll ed ki ll er mo ve sa nd to tr yt he mf ir st is ca ll ed th ek il le rm ov eh eu ri st ic .
KILLERMOVES
"In Ch ap te r 3, w e n ot ed t ha t r ep ea te d s ta te s i n t he s ea rc h t re e c an c au se a n e xp on en ti al"
"i nc re as ei ns ea rc hc os t . In ma ny ga me s ,r ep ea te ds ta te so cc ur fr eq ue nt ly be ca us eo ft ra ns po-"
s it io ns—d if fe re nt p er mu ta ti on s o f t he m ov e s eq ue nc e t ha t e nd u p i n t he s am e p os it io n . Fo r
TRANSPOSITION
"e xa mp le , i f Wh it e h as o ne m ov e , a , t ha t c an b e a ns we re d b y Bl ac k w it h b a nd a n u nr e-"
1 1
"l at ed m ov ea o n t he o th er s id e o f t he b oa rd t ha t c an b e a ns we re d b y b , t he n t he s eq ue nc es"
2 2
"[a ,b ,a ,b ] a nd [a ,b ,a ,b ] b ot h e nd u p i n t he s am e p os it io n . It i s w or th wh il e t o s to re"
1 1 2 2 2 2 1 1
t he e va lu at io n o f t he r es ul ti ng p os it io n i n a h as h t ab le t he f ir st t im e i t i s e nc ou nt er ed s o t ha t
w ed on’t h av et or ec om pu te i to ns ub se qu en t o cc ur re nc es . Th e h as ht ab le of pr ev io us ly s ee n
TRANSPOSITION p os it io ns is tr ad it io na ll yc al le da tr an sp os it io nt ab le ;i ti se ss en ti al ly id en ti ca lt ot he ex pl or ed
TABLE
Se ct io n 5.4. Im pe rf ec t Re al-Ti me De ci si on s 171
"l is ti n GRAPH-SEARCH (Se ct io n 3.3). Us in ga tr an sp os it io n t ab le ca nh av ea dr am at ic ef fe ct ,"
"s om et im es as mu ch as do ub li ng th er ea ch ab le se ar ch de pt hi nc he ss . On th eo th er ha nd ,i fw e"
"a re ev al ua ti ng am il li on no de sp er se co nd ,a ts om ep oi nt it is no tp ra ct ic al to ke ep al lo ft he m"
i n t he t ra ns po si ti on t ab le . Va ri ou s s tr at eg ie s h av e b ee n u se d t o c ho os e w hi ch n od es t o k ee p
a nd wh ic ht od is ca rd .
5.4 IMPERFECT REAL-TIME DECISIONS
"Th em in im ax al go ri th mg en er at es th ee nt ir eg am es ea rc hs pa ce ,w he re as th ea lp ha–b et aa lg o-"
"r it hm a ll ow su st op ru ne l ar ge p ar ts of it . Ho we ve r , a lp ha–b et a s ti ll ha st os ea rc h a ll th ew ay"
"t ot er mi na ls ta te sf or at le as ta po rt io no ft he se ar ch sp ac e . Th is de pt hi su su al ly no tp ra ct ic al ,"
b ec au se m ov es m us t b e m ad e i n a r ea so na bl e a mo un t o f t im e—t yp ic al ly a f ew m in ut es a t
m os t . Cl au de Sh an no n’s pa pe r Pr og ra mm in ga Co mp ut er fo r Pl ay in g Ch es s(1950)p ro po se d
i ns te ad th at pr og ra ms sh ou ld cu to ff th es ea rc he ar li er an da pp ly ah eu ri st ic e va lu at io nf un c-
"EVALUATION t io n t o s ta te s i n t he s ea rc h , e ff ec ti ve ly t ur ni ng n on te rm in al n od es i nt o t er mi na l l ea ve s . In"
FUNCTION
"o th er wo rd s ,t he su gg es ti on i st oa lt er mi ni ma xo ra lp ha–b et a i nt wo wa ys: r ep la ce th eu ti li ty"
"f un ct io n b y a h eu ri st ic e va lu at io n f un ct io n EVAL , w hi ch e st im at es t he p os it io n’s u ti li ty , a nd"
CUTOFFTEST
r ep la ce t he te rm in al te st by a c ut of ft es tt ha td ec id es w he nt oa pp ly EVAL . Th at gi ve su st he
f ol lo wi ng fo rh eu ri st ic m in im ax fo rs ta te s an dm ax im um de pt hd:
"H-MINIMAX(s ,d) ="
⎧
"⎨ EVAL(s) i f CUTOFF-TEST(s ,d)"
⎩
"m ax a∈Ac ti on s(s)H-MINIMAX(RESULT(s ,a),d+1) i f PLAYER(s) =MAX"
"m in a∈Ac ti on s(s)H-MINIMAX(RESULT(s ,a),d+1) i f PLAYER(s) =MIN ."
5.4.1 Ev al ua ti on fu nc ti on s
An e va lu at io n f un ct io n r et ur ns a n e st im at e o f t he e xp ec te d u ti li ty o f t he g am e f ro m a g iv en
"p os it io n , j us t a s t he h eu ri st ic f un ct io ns o f Ch ap te r 3 r et ur n a n e st im at e o f t he d is ta nc e t o"
"t he g oa l . Th e i de a o f a n e st im at or w as n ot n ew w he n Sh an no n p ro po se d i t . Fo r c en tu ri es ,"
c he ss p la ye rs (a nd a fi ci on ad os o f o th er ga me s) h av e d ev el op ed w ay s o fj ud gi ng t he v al ue o f
a p os it io n b ec au se h um an s a re e ve n m or e l im it ed i n t he a mo un t o f s ea rc h t he y c an d o t ha n
a re c om pu te r p ro gr am s . It s ho ul d b e c le ar t ha t t he p er fo rm an ce o f a g am e-p la yi ng p ro gr am
d ep en ds s tr on gl y o nt he qu al it y o fi ts ev al ua ti on f un ct io n . An in ac cu ra te e va lu at io n f un ct io n
w il lg ui de an ag en tt ow ar dp os it io ns t ha tt ur no ut to be lo st . Ho we xa ct ly do we de si gn go od
e va lu at io n f un ct io ns ?
"Fi rs t , t he e va lu at io n f un ct io n s ho ul d o rd er t he t er mi na l s ta te s i n t he s am e w ay a s t he"
"t ru eu ti li ty f un ct io n: s ta te s t ha ta re wi ns mu st ev al ua te b et te rt ha n d ra ws ,w hi ch in tu rn mu st"
"b e b et te r t ha n l os se s . Ot he rw is e , a n a ge nt u si ng t he e va lu at io n f un ct io n m ig ht e rr e ve n i f i t"
"c an s ee a he ad a ll t he w ay t o t he e nd o f t he g am e . Se co nd , t he c om pu ta ti on m us t n ot t ak e"
"t oo l on g ! (Th e w ho le p oi nt i s t o s ea rc h f as te r .) Th ir d , f or n on te rm in al s ta te s , t he e va lu at io n"
f un ct io n s ho ul db es tr on gl y c or re la te d w it ht he ac tu al ch an ce s o fw in ni ng .
172 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
"On em ig ht we ll wo nd er ab ou tt he ph ra se“c ha nc es of wi nn in g .” Af te ra ll ,c he ss is no ta"
"g am eo fc ha nc e: w ek no wt he cu rr en ts ta te wi th ce rt ai nt y ,a nd no di ce ar ei nv ol ve d . Bu ti ft he"
"s ea rc hm us tb ec ut of fa tn on te rm in al s ta te s , t he nt he al go ri th m w il ln ec es sa ri ly b eu nc er ta in"
"a bo ut th ef in al ou tc om es of th os es ta te s . Th is ty pe of un ce rt ai nt yi si nd uc ed by co mp ut at io na l ,"
"r at he r t ha n i nf or ma ti on al , l im it at io ns . Gi ve n t he l im it ed a mo un t o f c om pu ta ti on t ha t t he"
"e va lu at io nf un ct io ni sa ll ow ed to do fo ra gi ve ns ta te ,t he be st it ca nd oi sm ak ea gu es sa bo ut"
t he fi na lo ut co me .
Le t u s m ak e t hi s i de a m or e c on cr et e . Mo st e va lu at io n f un ct io ns w or k b y c al cu la ti ng
"v ar io us f ea tu re s o ft he st at e—f or e xa mp le , i nc he ss , w ew ou ld ha ve f ea tu re s f or th en um be r"
"o f w hi te p aw ns , b la ck p aw ns , w hi te q ue en s , b la ck q ue en s , a nd s o o n . Th e f ea tu re s , t ak en"
"t og et he r ,d ef in ev ar io us ca te go ri es or eq ui va le nc ec la ss es of st at es: t he st at es in ea ch ca te go ry"
"h av e t he s am e v al ue s f or a ll t he f ea tu re s . Fo r e xa mp le , o ne c at eg or y c on ta in s a ll t wo-p aw n"
"v s . o ne-p aw n e nd ga me s . An y g iv en c at eg or y , g en er al ly s pe ak in g , w il l c on ta in s om e s ta te s"
"t ha t l ea d t o w in s , s om e t ha t l ea d t o d ra ws , a nd s om e t ha t l ea d t o l os se s . Th e e va lu at io n"
"f un ct io n c an no t k no ww hi ch st at es ar ew hi ch ,b ut it ca nr et ur na si ng le va lu et ha tr ef le ct st he"
"p ro po rt io n o f s ta te s w it h e ac h o ut co me . Fo re xa mp le , s up po se o ur e xp er ie nc e s ug ge st s t ha t"
72% o ft he s ta te s e nc ou nt er ed i nt he tw o-p aw ns v s . o ne-p aw n c at eg or y l ea d t oa wi n(u ti li ty
"+1); 20% t o a l os s (0), a nd 8% t o a d ra w (1/2). Th en a r ea so na bl e e va lu at io n f or s ta te s i n"
t he c at eg or y i s t he e xp ec te d v al ue: (0.72 ×+1)+(0.20 ×0)+(0.08 ×1/2) = 0.76. In
EXPECTEDVALUE
"p ri nc ip le , t he e xp ec te d v al ue c an be d et er mi ne d f or ea ch c at eg or y , r es ul ti ng i na n e va lu at io n"
"f un ct io n t ha t w or ks f or a ny s ta te . As w it h t er mi na l s ta te s , t he e va lu at io n f un ct io n n ee d n ot"
r et ur na ct ua le xp ec te dv al ue sa sl on ga st he o rd er in go ft he st at es is th es am e .
"In p ra ct ic e , t hi s k in d o f a na ly si s r eq ui re s t oo m an y c at eg or ie s a nd h en ce t oo m uc h"
"e xp er ie nc e t o e st im at e a ll t he p ro ba bi li ti es o f w in ni ng . In st ea d , m os t e va lu at io n f un ct io ns"
c om pu te s ep ar at e n um er ic al c on tr ib ut io ns f ro m e ac h f ea tu re a nd t he n c om bi ne t he m t o f in d
"t he t ot al v al ue . Fo re xa mp le , i nt ro du ct or y c he ss b oo ks g iv e a n a pp ro xi ma te m at er ia l v al ue"
MATERIALVALUE
"f or ea ch pi ec e: e ac hp aw ni sw or th 1,a kn ig ht or bi sh op is wo rt h 3,a ro ok 5,a nd th eq ue en 9."
"Ot he rf ea tu re s s uc ha s“g oo d p aw ns tr uc tu re” a nd“k in gs af et y” m ig ht be wo rt hh al fa pa wn ,"
s ay . Th es ef ea tu re va lu es ar et he ns im pl ya dd ed up to ob ta in th ee va lu at io n o ft he po si ti on .
"As ec ur e a dv an ta ge e qu iv al en t t oa pa wn gi ve sa su bs ta nt ia l l ik el ih oo d o fw in ni ng , a nd"
"a se cu re ad va nt ag ee qu iv al en tt ot hr ee pa wn ss ho ul dg iv ea lm os tc er ta in vi ct or y ,a si ll us tr at ed"
"i n Fi gu re 5.8(a). Ma th em at ic al ly , t hi sk in do fe va lu at io n f un ct io ni sc al le da we ig ht ed li ne ar"
WEIGHTEDLINEAR f un ct io nb ec au se it ca nb ee xp re ss ed a s
FUNCTION
(c id:12)n
"EVAL(s) = w 1 f 1(s)+w 2 f 2(s)+···+w n f n(s) = w i f i(s),"
i=1
"w he re ea ch w i sa we ig ht a nd ea ch f i sa fe at ur e o ft he po si ti on . Fo rc he ss , t he f c ou ld b e"
i i i
"t he nu mb er s o fe ac h k in d o fp ie ce o nt he bo ar d , a nd th e w c ou ld b et he va lu es o ft he p ie ce s"
i
"(1 f or pa wn ,3 f or bi sh op , e tc .)."
"Ad di ng u p t he v al ue s o f f ea tu re s s ee ms l ik e a r ea so na bl e t hi ng t o d o , b ut i n f ac t i t"
i nv ol ve s a s tr on g a ss um pt io n: t ha t t he c on tr ib ut io n o f e ac h f ea tu re i s i nd ep en de nt o f t he
"v al ue s o f t he o th er f ea tu re s . Fo re xa mp le , a ss ig ni ng t he v al ue 3 t o a b is ho p i gn or es t he f ac t"
"t ha t b is ho ps a re m or e p ow er fu l i n t he e nd ga me , w he n t he y h av e a l ot o f s pa ce t o m an eu ve r ."
Se ct io n 5.4. Im pe rf ec t Re al-Ti me De ci si on s 173
(a) Wh it e t o m ov e (b) Wh it e t o m ov e
Fi gu re 5.8 Tw oc he ss po si ti on st ha td if fe ro nl yi nt he po si ti on of th er oo ka tl ow er ri gh t .
"In(a), Bl ac k h as a n a dv an ta ge of a k ni gh ta nd t wo p aw ns , w hi ch sh ou ld be e no ug ht o w in"
"t he ga me . In(b),Wh it ew il lc ap tu re th eq ue en ,g iv in gi ta na dv an ta ge th at sh ou ld be st ro ng"
e no ug ht ow in .
"Fo rt hi sr ea so n ,c ur re nt pr og ra ms fo rc he ss an do th er ga me sa ls ou se no nl in ea rc om bi na ti on s"
"o ff ea tu re s . Fo re xa mp le ,a pa ir of bi sh op sm ig ht be wo rt hs li gh tl ym or et ha nt wi ce th ev al ue"
"o fa si ng le bi sh op ,a nd ab is ho pi sw or th mo re in th ee nd ga me(t ha ti s ,w he nt he mo ve nu mb er"
f ea tu re is hi gh or th e n um be ro fr em ai ni ng pi ec es fe at ur ei sl ow).
Th ea st ut er ea de rw il lh av en ot ic ed th at th ef ea tu re sa nd we ig ht sa re no tp ar to ft he ru le s
o fc he ss ! Th ey co me fr om ce nt ur ie so fh um an ch es s-p la yi ng ex pe ri en ce . In ga me sw he re th is
"k in d o f e xp er ie nc e i s n ot a va il ab le , t he w ei gh ts o f t he e va lu at io n f un ct io n c an b e e st im at ed"
"b y t he m ac hi ne l ea rn in g t ec hn iq ue s o f Ch ap te r 18. Re as su ri ng ly , a pp ly in g t he se t ec hn iq ue s"
t oc he ss ha sc on fi rm ed th at ab is ho pi si nd ee dw or th ab ou tt hr ee pa wn s .
5.4.2 Cu tt in g o ff se ar ch
Th e n ex t s te p i s t o m od if y ALPHA-BETA-SEARCH s o t ha t i t w il l c al l t he h eu ri st ic EVAL
f un ct io n w he n i t i s a pp ro pr ia te t o c ut o ff t he s ea rc h . We r ep la ce t he t wo l in es i n Fi gu re 5.7
t ha tm en ti on TERMINAL-TEST w it ht he fo ll ow in gl in e:
"i f CUTOFF-TEST(s ta te ,d ep th)t he nr et ur n EVAL(s ta te)"
We al so mu st ar ra ng ef or so me bo ok ke ep in gs ot ha tt he cu rr en t d ep th i si nc re me nt ed on ea ch
r ec ur si ve ca ll . Th em os ts tr ai gh tf or wa rd ap pr oa ch to co nt ro ll in gt he am ou nt of se ar ch is to se t
"a fi xe dd ep th li mi ts ot ha t CUTOFF-TEST(s ta te ,d ep th)r et ur ns tr ue f or al ld ep th g re at er th an"
"s om ef ix ed de pt hd . (It mu st al so re tu rn t ru e f or al lt er mi na ls ta te s ,j us ta s TERMINAL-TEST"
d id .) Th e d ep th d i s c ho se n s o t ha t a m ov e i s s el ec te d w it hi n t he a ll oc at ed t im e . A m or e
"r ob us t a pp ro ac h i s t o a pp ly i te ra ti ve d ee pe ni ng . (Se e Ch ap te r 3.) Wh en t im e r un s o ut , t he"
"p ro gr am r et ur ns t he m ov e s el ec te d b y t he d ee pe st c om pl et ed s ea rc h . As a b on us , i te ra ti ve"
d ee pe ni ng a ls oh el ps wi th mo ve or de ri ng .
174 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
Th es e s im pl e a pp ro ac he s c an l ea d t o e rr or s d ue t o t he a pp ro xi ma te n at ur e o f t he e va l-
u at io n f un ct io n . Co ns id er a ga in t he s im pl e e va lu at io n f un ct io n f or c he ss b as ed o n m at er ia l
"a dv an ta ge . Su pp os e t he p ro gr am s ea rc he s t o t he d ep th l im it , r ea ch in g t he p os it io n i n Fi g-"
"u re 5.8(b), w he re Bl ac k i s a he ad b y a k ni gh t a nd t wo p aw ns . It w ou ld r ep or t t hi s a s t he"
"h eu ri st ic v al ue o f t he s ta te , t he re by d ec la ri ng t ha t t he s ta te i s a p ro ba bl e w in b y Bl ac k . Bu t"
"Wh it e’s n ex t m ov e c ap tu re s Bl ac k’s q ue en w it h n o c om pe ns at io n . He nc e , t he p os it io n i s"
"r ea ll yw on fo r Wh it e ,b ut th is ca nb es ee no nl yb yl oo ki ng a he ad on em or ep ly ."
"Ob vi ou sl y ,a mo re so ph is ti ca te dc ut of ft es ti sn ee de d . Th ee va lu at io nf un ct io ns ho ul db e"
"a pp li ed on ly to po si ti on s t ha ta re qu ie sc en t—t ha ti s ,u nl ik el y t oe xh ib it wi ld sw in gs in va lu e"
QUIESCENCE
"i n t he n ea rf ut ur e . In ch es s , f or ex am pl e , p os it io ns i nw hi ch f av or ab le c ap tu re s c an b e m ad e"
a re no tq ui es ce nt fo ra ne va lu at io n f un ct io nt ha tj us tc ou nt sm at er ia l . No nq ui es ce nt p os it io ns
c an b e e xp an de d f ur th er u nt il q ui es ce nt p os it io ns a re r ea ch ed . Th is e xt ra s ea rc h i s c al le d a
"QUIESCENCE q ui es ce nc e s ea rc h ; s om et im es i t i s r es tr ic te d t o c on si de r o nl y c er ta in t yp es o f m ov es , s uc h"
SEARCH
"a sc ap tu re m ov es ,t ha tw il lq ui ck ly r es ol ve th eu nc er ta in ti es i nt he po si ti on ."
Th e h or iz on e ff ec t i s m or e d if fi cu lt t o e li mi na te . It a ri se s w he n t he p ro gr am i s f ac in g
HORIZONEFFECT
"a n o pp on en t’s m ov e t ha t c au se s s er io us d am ag e a nd i s u lt im at el y u na vo id ab le , b ut c an b e"
t em po ra ri ly a vo id ed b y d el ay in g t ac ti cs . Co ns id er t he c he ss g am e i n Fi gu re 5.9. It i s c le ar
"t ha t t he re i sn o w ay fo rt he b la ck b is ho p t oe sc ap e . Fo re xa mp le , t he w hi te r oo k c an ca pt ur e"
"i tb ym ov in gt oh 1,t he na 1,t he na 2;a ca pt ur ea td ep th 6 p ly . Bu t Bl ac kd oe sh av ea se qu en ce"
o f m ov es t ha t p us he s t he c ap tu re o f t he b is ho p “o ve r t he h or iz on .” Su pp os e Bl ac k s ea rc he s
"t od ep th 8 p ly . Mo st mo ve sb y Bl ac kw il ll ea dt ot he ev en tu al ca pt ur eo ft he bi sh op , a nd th us"
w il l b e m ar ke d a s “b ad” m ov es . Bu t Bl ac k w il l c on si de r c he ck in g t he w hi te k in g w it h t he
p aw na te 4. Th is wi ll le ad to th ek in gc ap tu ri ng th ep aw n . No w Bl ac kw il lc on si de rc he ck in g
"a ga in , w it h t he p aw n a t f 5, l ea di ng t o a no th er p aw n c ap tu re . Th at t ak es u p 4 p ly , a nd f ro m"
t he re t he r em ai ni ng 4 p ly i s n ot e no ug h t o c ap tu re t he b is ho p . Bl ac k t hi nk s t ha t t he l in e o f
"p la yh as sa ve dt he bi sh op a tt he pr ic eo ft wo pa wn s ,w he na ct ua ll y a ll it ha sd on ei sp us ht he"
i ne vi ta bl e c ap tu re of th eb is ho pb ey on dt he ho ri zo nt ha t Bl ac kc an se e .
"SINGULAR On e s tr at eg y t o m it ig at e t he h or iz on e ff ec t i s t he s in gu la r e xt en si on , a m ov e t ha t i s"
EXTENSION
“c le ar ly b et te r” t ha n a ll o th er m ov es i n a g iv en p os it io n . On ce d is co ve re d a ny wh er e i n t he
"t re ei nt he co ur se of as ea rc h ,t hi ss in gu la rm ov ei sr em em be re d . Wh en th es ea rc hr ea ch es th e"
"n or ma ld ep th l im it ,t he al go ri th m c he ck s t os ee if th es in gu la re xt en si on i sa le ga lm ov e ;i fi t"
"i s , t he a lg or it hm a ll ow s t he m ov et o b e c on si de re d . Th is m ak es t he t re e d ee pe r , b ut b ec au se"
"t he re wi ll be fe ws in gu la re xt en si on s , i td oe sn ot ad dm an yt ot al no de st ot he tr ee ."
5.4.3 Fo rw ar dp ru ni ng
"So f ar , w e h av e t al ke d a bo ut c ut ti ng o ff s ea rc h a t a c er ta in l ev el a nd a bo ut d oi ng a lp ha–"
b et a p ru ni ng t ha t p ro va bl y h as n o e ff ec t o n t he r es ul t (a t l ea st w it h r es pe ct t o t he h eu ri st ic
"e va lu at io n v al ue s). It i s a ls o p os si bl e t o d o f or wa rd p ru ni ng , m ea ni ng t ha t s om e m ov es a t"
FORWARDPRUNING
"a g iv en n od e a re p ru ne d i mm ed ia te ly w it ho ut f ur th er c on si de ra ti on . Cl ea rl y , m os t h um an s"
p la yi ng c he ss c on si de r o nl y a f ew m ov es f ro m e ac h p os it io n (a t l ea st c on sc io us ly). On e
"a pp ro ac h t o f or wa rd p ru ni ng i s b ea m s ea rc h: o n e ac h p ly , c on si de r o nl y a “b ea m” o f t he n"
BEAMSEARCH
b es tm ov es(a cc or di ng t ot he ev al ua ti on f un ct io n)r at he rt ha nc on si de ri ng a ll po ss ib le m ov es .
Se ct io n 5.4. Im pe rf ec t Re al-Ti me De ci si on s 175
1
2
3
4
5
6
7
8
a b c d e f g h
"Fi gu re 5.9 Th eh or iz on ef fe ct . Wi th Bl ac k t om ov e ,t he b la ck bi sh op is su re ly do om ed ."
"Bu t Bl ac kc an fo re st al lt ha te ve nt by ch ec ki ng th ew hi te ki ng wi th it sp aw ns ,f or ci ng th ek in g"
"t oc ap tu re th ep aw ns .Th is pu sh es th ei ne vi ta bl el os so ft he bi sh op ov er th eh or iz on ,a nd th us"
t he pa wn sa cr if ic es ar es ee nb yt he se ar ch al go ri th ma sg oo dm ov es ra th er th an ba do ne s .
"Un fo rt un at el y , t hi s a pp ro ac h i s r at he r d an ge ro us b ec au se t he re i s n o g ua ra nt ee t ha t t he b es t"
m ov ew il ln ot be pr un ed aw ay .
"Th e PROBCUT , o r p ro ba bi li st ic c ut , a lg or it hm (Bu ro , 1995) i s a f or wa rd-p ru ni ng v er-"
s io no fa lp ha–b et as ea rc ht ha tu se ss ta ti st ic sg ai ne df ro mp ri or ex pe ri en ce to le ss en th ec ha nc e
t ha t t he b es t m ov e w il l b e p ru ne d . Al ph a–b et a s ea rc h p ru ne s a ny n od e t ha t i s p ro va bl y o ut-
"s id e t he c ur re nt (α,β) w in do w . PROBCUT a ls o p ru ne s n od es t ha t a re p ro ba bl y o ut si de t he"
w in do w . It c om pu te s t hi s p ro ba bi li ty b y d oi ng a s ha ll ow s ea rc h t o c om pu te t he b ac ke d-u p
v al ue v o fa no de an dt he nu si ng p as te xp er ie nc e t oe st im at eh ow li ke ly i ti st ha ta sc or eo f v
"a td ep th di nt he tr ee wo ul db eo ut si de (α,β). Bu ro ap pl ie dt hi st ec hn iq ue to hi s Ot he ll op ro-"
"g ra m ,LOGISTELLO ,a nd fo un dt ha ta ve rs io no fh is pr og ra mw it h PROBCUTb ea tt he re gu la r"
"v er si on 64%o ft he ti me ,e ve nw he nt he re gu la rv er si on wa sg iv en tw ic ea sm uc ht im e ."
Co mb in in g a ll t he t ec hn iq ue s d es cr ib ed h er e r es ul ts i n a p ro gr am t ha t c an p la y c re d-
i ta bl ec he ss(o ro th er ga me s). Le tu sa ss um ew eh av ei mp le me nt ed an ev al ua ti on fu nc ti on fo r
"c he ss , a r ea so na bl e c ut of f t es t w it h a q ui es ce nc e s ea rc h , a nd a l ar ge t ra ns po si ti on t ab le . Le t"
"u sa ls oa ss um et ha t ,a ft er mo nt hs of te di ou sb it-b as hi ng ,w ec an ge ne ra te an de va lu at ea ro un d"
"a mi ll io nn od es pe rs ec on do nt he la te st PC ,a ll ow in gu st os ea rc hr ou gh ly 200 m il li on no de s"
p er m ov e u nd er s ta nd ar d t im e c on tr ol s (t hr ee m in ut es p er m ov e). Th e b ra nc hi ng f ac to r f or
"c he ss i s a bo ut 35, o n a ve ra ge , a nd 355 i s a bo ut 50 m il li on , s o i f w e u se d m in im ax s ea rc h ,"
"w e c ou ld l oo k a he ad o nl y a bo ut f iv ep li es . Th ou gh n ot i nc om pe te nt , s uc h a p ro gr am c an b e"
"f oo le de as il yb ya na ve ra ge h um an ch es sp la ye r , w ho ca no cc as io na ll y p la ns ix or ei gh tp li es"
"a he ad . Wi th a lp ha–b et a s ea rc h w e g et t o a bo ut 10 p li es , w hi ch r es ul ts i n a n e xp er t l ev el o f"
p la y . Se ct io n 5.8 d es cr ib es a dd it io na l p ru ni ng te ch ni qu es t ha tc an ex te nd th ee ff ec ti ve se ar ch
d ep th t o r ou gh ly 14 p li es . To r ea ch g ra nd ma st er s ta tu s w e w ou ld n ee d a n e xt en si ve ly t un ed
e va lu at io n f un ct io n a nd al ar ge da ta ba se of op ti ma lo pe ni ng a nd en dg am em ov es .
176 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
5.4.4 Se ar ch v er su s l oo ku p
So me ho wi ts ee ms li ke ov er ki ll fo ra ch es sp ro gr am to st ar ta ga me by co ns id er in g a tr ee of a
"b il li on ga me st at es ,o nl yt oc on cl ud e t ha ti tw il lm ov ei ts pa wn to e 4. Bo ok sd es cr ib in g g oo d"
"p la yi nt he op en in ga nd en dg am ei nc he ss ha ve be en av ai la bl ef or ab ou ta ce nt ur y(Ta tt er sa ll ,"
"1911). It i s n ot s ur pr is in g , t he re fo re , t ha t m an y g am e-p la yi ng p ro gr am s u se t ab le l oo ku p"
r at he rt ha ns ea rc hf or th eo pe ni ng a nd en di ng of ga me s .
"Fo rt he o pe ni ng s , t he co mp ut er i sm os tl y r el yi ng o nt he e xp er ti se o fh um an s . Th eb es t"
a dv ic e o fh um an ex pe rt so nh ow to pl ay ea ch op en in g i sc op ie d f ro mb oo ks a nd en te re d i nt o
"t ab le s f or th ec om pu te r’s u se . Ho we ve r , c om pu te rs c an al so g at he rs ta ti st ic s f ro m a da ta ba se"
o f p re vi ou sl y p la ye d g am es t o s ee w hi ch o pe ni ng s eq ue nc es m os t o ft en l ea d t o a w in . In
"t he ea rl y m ov es th er ea re fe wc ho ic es , a nd th us mu ch ex pe rt c om me nt ar ya nd pa st ga me so n"
"w hi ch to dr aw . Us ua ll ya ft er te nm ov es we en du pi na ra re ly se en po si ti on , a nd th ep ro gr am"
m us ts wi tc hf ro mt ab le lo ok up to se ar ch .
"Ne ar th ee nd of th eg am et he re ar ea ga in fe we rp os si bl ep os it io ns ,a nd th us mo re ch an ce"
t o d o l oo ku p . Bu t h er e i t i s t he c om pu te r t ha t h as t he e xp er ti se: c om pu te r a na ly si s o f
e nd ga me s g oe s f ar b ey on d a ny th in g a ch ie ve d b y h um an s . A h um an c an t el l y ou t he g en-
e ra l s tr at eg y f or pl ay in g a ki ng-a nd-r oo k-v er su s-k in g (KRK)e nd ga me: r ed uc e t he o pp os in g
"k in g’s m ob il it y b ys qu ee zi ng i tt ow ar do ne e dg eo ft he bo ar d , u si ng y ou rk in g t op re ve nt t he"
"o pp on en t f ro me sc ap in g t he sq ue ez e . Ot he re nd in gs , s uc h a sk in g , b is ho p , a nd kn ig ht v er su s"
"k in g (KBNK),a re di ff ic ul t t om as te ra nd ha ve n os uc ci nc t s tr at eg y d es cr ip ti on . Ac om pu te r ,"
"o nt he ot he rh an d ,c an co mp le te ly s ol ve th ee nd ga me by pr od uc in g a po li cy ,w hi ch is am ap-"
POLICY
p in gf ro me ve ry po ss ib le st at et ot he be st mo ve in th at st at e . Th en we ca nj us tl oo ku pt he be st
m ov e r at he r t ha n r ec om pu te i t a ne w . Ho w b ig w il l t he KBNK l oo ku p t ab le b e ? It t ur ns o ut
t he re a re 462 w ay s t ha t t wo k in gs c an b e p la ce d o n t he b oa rd w it ho ut b ei ng a dj ac en t . Af te r
"t he k in gs a re p la ce d , t he re a re 62 e mp ty s qu ar es f or t he b is ho p , 61 f or t he k ni gh t , a nd t wo"
"p os si bl e p la ye rs t o m ov e n ex t , s o t he re a re j us t 462 × 62×61 ×2 = 3,494,568 p os si bl e"
p os it io ns . So me of th es ea re ch ec km at es ;m ar kt he ma ss uc hi na ta bl e . Th en do ar et ro gr ad e
RETROGRADE
m in im ax s ea rc h: r ev er se t he r ul es o f c he ss t o d o u nm ov es r at he r t ha n m ov es . An y m ov e b y
"Wh it et ha t ,n om at te rw ha tm ov e Bl ac kr es po nd sw it h ,e nd su pi na po si ti on ma rk ed as aw in ,"
"m us t a ls o b e a w in . Co nt in ue t hi s s ea rc h u nt il a ll 3,494,568 p os it io ns a re r es ol ve d a s w in ,"
"l os s ,o rd ra w ,a nd yo uh av ea ni nf al li bl e l oo ku pt ab le fo ra ll KBNKe nd ga me s ."
"Us in g t hi s t ec hn iq ue a nd a t ou r d e f or ce o f o pt im iz at io n t ri ck s , Ke n Th om ps on (1986,"
"1996) a nd Le wi s St il le r (1992, 1996) s ol ve d a ll c he ss e nd ga me s w it h u p t o f iv e p ie ce s a nd"
"s om e w it h s ix p ie ce s , m ak in g t he m a va il ab le o n t he In te rn et . St il le r d is co ve re d o ne c as e"
w he re af or ce dm at ee xi st ed bu tr eq ui re d 262 m ov es ;t hi sc au se ds om ec on st er na ti on b ec au se
t he r ul es o f c he ss r eq ui re a c ap tu re o r p aw n m ov e t o o cc ur w it hi n 50 m ov es . La te rw or k b y
"Ma rc Bo ur zu ts ch ky a nd Ya ko v Ko no va l (Bo ur zu ts ch ky , 2006) s ol ve d a ll p aw nl es s s ix-p ie ce"
a nd so me se ve n-p ie ce en dg am es ;t he re is a KQNKRBNe nd ga me th at wi th be st pl ay re qu ir es
"517 m ov es un ti la ca pt ur e , w hi ch th en le ad st oa ma te ."
"If w e c ou ld e xt en d t he c he ss e nd ga me t ab le s f ro m 6 p ie ce s t o 32, t he n Wh it e w ou ld"
"k no w o nt he o pe ni ng m ov ew he th er i tw ou ld b e a wi n , l os s , o rd ra w . Th is h as n ot h ap pe ne d"
"s of ar fo rc he ss ,b ut it ha sh ap pe ne df or ch ec ke rs , a se xp la in ed i nt he hi st or ic al no te ss ec ti on ."
Se ct io n 5.5. St oc ha st ic Ga me s 177
5.5 STOCHASTIC GAMES
"In r ea l l if e , m an y u np re di ct ab le e xt er na l e ve nt s c an p ut u s i nt o u nf or es ee n s it ua ti on s . Ma ny"
"g am es m ir ro r t hi s u np re di ct ab il it y b y i nc lu di ng a r an do m e le me nt , s uc h a s t he t hr ow in g o f"
d ic e . We c al l t he se s to ch as ti c g am es . Ba ck ga mm on i s a t yp ic al g am e t ha t c om bi ne s l uc k
STOCHASTICGAMES
a nd sk il l . Di ce ar er ol le da tt he be gi nn in g o fa pl ay er’s t ur n t od et er mi ne t he le ga lm ov es . In
"t he b ac kg am mo n p os it io n o f Fi gu re 5.10, f or e xa mp le , Wh it e h as r ol le d a 6–5 a nd h as f ou r"
p os si bl e m ov es .
0 1 2 3 4 5 6 7 8 9 10 11 12
25 24 23 22 21 20 19 18 17 16 15 14 13
Fi gu re 5.10 A t yp ic al ba ck ga mm on po si ti on . Th eg oa lo ft he ga me is to mo ve al lo ne’s
"p ie ce so ff th eb oa rd . Wh it em ov es cl oc kw is et ow ar d 25,a nd Bl ac km ov es co un te rc lo ck wi se"
t ow ar d 0.Ap ie ce ca nm ov et oa ny po si ti on un le ss mu lt ip le op po ne nt pi ec es ar et he re ;i ft he re
"i so ne op po ne nt ,i ti sc ap tu re da nd mu st st ar to ve r . In th ep os it io ns ho wn ,Wh it e h as ro ll ed"
"6–5 a nd m us t c ho os e a mo ng f ou r l eg al m ov es: (5–10,5–11), (5–11,19–24),(5–10,10–16),"
"a nd(5–11,11–16),w he re th en ot at io n(5–11,11–16)m ea ns mo ve on ep ie ce fr om po si ti on 5"
"t o 11,a nd th en mo ve ap ie ce fr om 11 t o 16."
"Al th ou gh Wh it ek no ws wh at hi so rh er ow nl eg al mo ve sa re ,Wh it ed oe sn ot kn ow wh at"
Bl ac ki sg oi ng t or ol la nd th us d oe sn ot kn ow w ha t Bl ac k’s l eg al mo ve sw il lb e . Th at me an s
Wh it e c an no t c on st ru ct a s ta nd ar d g am e t re e o f t he s or t w e s aw i n c he ss a nd t ic-t ac-t oe . A
CHANCENODES g am e t re e i n b ac kg am mo n m us t i nc lu de c ha nc e n od es i n a dd it io n t o MAX a nd MIN n od es .
Ch an ce n od es a re s ho wn a s c ir cl es i n Fi gu re 5.11. Th e b ra nc he s l ea di ng f ro m e ac h c ha nc e
n od e d en ot e t he p os si bl e d ic e r ol ls ; e ac h b ra nc h i s l ab el ed w it h t he r ol l a nd i ts p ro ba bi li ty .
"Th er ea re 36 w ay st or ol lt wo di ce ,e ac he qu al ly li ke ly ;b ut be ca us ea 6–5 i st he sa me as a 5–6,"
t he re ar eo nl y 21 d is ti nc tr ol ls . Th es ix do ub le s(1–1 t hr ou gh 6–6)e ac hh av ea pr ob ab il it y o f
"1/36,s ow es ay P(1–1) = 1/36. Th eo th er 15 d is ti nc tr ol ls ea ch ha ve a 1/18 p ro ba bi li ty ."
178 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
MAX
CHANCE . . .
B
... ... ... ...
1/36 1/18 1/18 1/36
"1,1 1,2 6,5 6,6"
MIN . . .
... ... ...
CHANCE C . . .
... ... ...
1/36 1/18 1/18 1/36
"1,1 1,2 6,5 6,6"
MAX . . .
... ... ...
TERMINAL 2 –1 1 –1 1
Fi gu re 5.11 Sc he ma ti cg am et re ef or ab ac kg am mo np os it io n .
"Th en ex ts te pi st ou nd er st an d h ow to ma ke co rr ec t d ec is io ns . Ob vi ou sl y , w es ti ll wa nt"
"t o p ic k t he m ov e t ha t l ea ds t o t he b es t p os it io n . Ho we ve r , p os it io ns d o n ot h av e d ef in it e"
"m in im ax va lu es . In st ea d ,w ec an on ly ca lc ul at et he ex pe ct ed va lu eo fa po si ti on: t he av er ag e"
EXPECTEDVALUE
o ve ra ll po ss ib le o ut co me so ft he ch an ce no de s .
Th is l ea ds u s t o g en er al iz e t he m in im ax v al ue f or d et er mi ni st ic g am es t o a n e xp ec ti-
EXPECTIMINIMAX m in im ax va lu ef or ga me sw it hc ha nc e n od es . Te rm in al no de s a nd MAX a nd MIN n od es (f or
VALUE
w hi ch t he d ic e r ol l i s k no wn) w or k e xa ct ly t he s am e w ay a s b ef or e . Fo r c ha nc e n od es w e
"c om pu te t he e xp ec te d v al ue , w hi ch i s t he s um o f t he v al ue o ve r a ll o ut co me s , w ei gh te d b y"
t he pr ob ab il it y o fe ac hc ha nc ea ct io n:
EXPECTIMINIMAX(s)=
⎧
⎪ ⎪ UTILITY(s) i f TERMINAL-TEST(s)
⎨
"m ax a EXPECTIMINIMAX(RESULT(s ,a)) i f PLAYER(s)= MAX"
"⎪ ⎪ ⎩ m (c id:2)i n a EXPECTIMINIMAX(RESULT(s ,a)) i f PLAYER(s)= MIN"
"P(r)EXPECTIMINIMAX(RESULT(s ,r)) i f PLAYER(s)= CHANCE"
r
"w he re r r ep re se nt s a po ss ib le d ic er ol l(o ro th er ch an ce e ve nt)a nd RESULT(s ,r)i st he sa me"
"s ta te as s ,w it ht he ad di ti on al f ac tt ha tt he re su lt of th ed ic er ol li sr ."
5.5.1 Ev al ua ti on fu nc ti on s f or ga me s o fc ha nc e
"As w it h m in im ax , t he o bv io us a pp ro xi ma ti on t o m ak e w it h e xp ec ti mi ni ma x i s t o c ut t he"
s ea rc h o ff at s om e p oi nt a nd a pp ly a n e va lu at io n f un ct io n t o e ac h l ea f . On em ig ht t hi nk t ha t
e va lu at io n f un ct io ns f or ga me ss uc ha sb ac kg am mo ns ho ul d b ej us tl ik ee va lu at io n f un ct io ns
Se ct io n 5.5. St oc ha st ic Ga me s 179
"f or ch es s—t he yj us tn ee dt og iv eh ig he rs co re st ob et te rp os it io ns . Bu ti nf ac t ,t he pr es en ce of"
c ha nc e n od es m ea ns t ha t o ne h as t ob e m or e c ar ef ul a bo ut w ha t t he e va lu at io n v al ue s m ea n .
"Fi gu re 5.12 s ho ws w ha t h ap pe ns: w it h a n e va lu at io n f un ct io n t ha t a ss ig ns t he v al ue s [1, 2,"
"3, 4] t o t he l ea ve s , m ov e a i s b es t ; w it h v al ue s [1, 20, 30, 400], m ov e a i s b es t . He nc e ,"
1 2
t he p ro gr am b eh av es t ot al ly d if fe re nt ly i f w e m ak e a c ha ng e i n t he s ca le o f s om e e va lu at io n
"v al ue s ! It t ur ns o ut t ha t t o a vo id t hi s s en si ti vi ty , t he e va lu at io n f un ct io n m us t b e a p os it iv e"
"l in ea rt ra ns fo rm at io n o ft he pr ob ab il it yo fw in ni ng fr om ap os it io n(o r ,m or eg en er al ly , o ft he"
e xp ec te d u ti li ty o f t he p os it io n). Th is i s a n i mp or ta nt a nd g en er al p ro pe rt y o f s it ua ti on s i n
"w hi ch un ce rt ai nt y i si nv ol ve d , a nd we di sc us si tf ur th er in Ch ap te r 16."
MAX
a a a a
1 2 1 2
CHANCE 2.1 1.3 21 40.9
.9 .1 .9 .1 .9 .1 .9 .1
MIN 2 3 1 4 20 30 1 400
2 2 3 3 1 1 4 4 20 20 30 30 1 1 400 400
Fi gu re 5.12 An or de r-p re se rv in gt ra ns fo rm at io no nl ea fv al ue sc ha ng es th eb es tm ov e .
If t he p ro gr am k ne w i n a dv an ce a ll t he d ic e r ol ls t ha t w ou ld o cc ur f or t he r es t o f t he
"g am e ,s ol vi ng a ga me wi th di ce wo ul db ej us tl ik es ol vi ng a ga me wi th ou t d ic e ,w hi ch mi ni-"
"m ax do es in O(b m)t im e ,w he re bi st he br an ch in gf ac to ra nd mi st he ma xi mu md ep th of th e"
"g am e t re e . Be ca us e e xp ec ti mi ni ma x i s a ls o c on si de ri ng a ll t he p os si bl e d ic e-r ol l s eq ue nc es ,"
"i tw il lt ak e O(b mn m),w he re ni st he nu mb er of di st in ct ro ll s ."
"Ev en if th es ea rc hd ep th is li mi te dt os om es ma ll de pt h d ,t he ex tr ac os tc om pa re dw it h"
t ha t o f m in im ax m ak es i t u nr ea li st ic t o c on si de r l oo ki ng a he ad v er y f ar i n m os t g am es o f
"c ha nc e . In ba ck ga mm on n is 21 a nd b i su su al ly a ro un d 20, b ut in so me s it ua ti on s c an be as"
h ig ha s 4000 f or di ce ro ll st ha ta re do ub le s . Th re ep li es is pr ob ab ly a ll we co ul dm an ag e .
An ot he r w ay t o t hi nk a bo ut t he p ro bl em i s t hi s: t he a dv an ta ge o f a lp ha–b et a i s t ha t
"i t i gn or es f ut ur e d ev el op me nt s t ha t j us t a re n ot g oi ng t o h ap pe n , g iv en b es t p la y . Th us , i t"
"c on ce nt ra te s o n l ik el y o cc ur re nc es . In g am es w it h d ic e , t he re a re n o l ik el y s eq ue nc es o f"
"m ov es ,b ec au se f or th os em ov es to ta ke pl ac e , t he di ce wo ul df ir st ha ve to co me ou tt he ri gh t"
w ay t o m ak e t he m l eg al . Th is i s a g en er al p ro bl em w he ne ve r u nc er ta in ty e nt er s t he p ic tu re:
"t he p os si bi li ti es a re m ul ti pl ie d e no rm ou sl y , a nd f or mi ng d et ai le d p la ns o f a ct io n b ec om es"
p oi nt le ss b ec au se th ew or ld pr ob ab ly w il ln ot pl ay al on g .
It m ay h av e o cc ur re d t o y ou t ha t s om et hi ng l ik e a lp ha–b et a p ru ni ng c ou ld b e a pp li ed
180 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
t o g am e t re es w it h c ha nc e n od es . It t ur ns o ut t ha t i t c an . Th e a na ly si s f or MIN a nd MAX
"n od es i s u nc ha ng ed , b ut w ec an a ls o p ru ne c ha nc e n od es , u si ng a b it o f i ng en ui ty . Co ns id er"
t he ch an ce n od e C i n Fi gu re 5.11 a nd w ha th ap pe ns t oi ts va lu e a sw ee xa mi ne a nd e va lu at e
i ts c hi ld re n . Is i t p os si bl e t o f in d a n u pp er b ou nd o n t he v al ue o f C b ef or e w e h av e l oo ke d
a ta ll it sc hi ld re n ? (Re ca ll t ha t t hi si sw ha ta lp ha–b et a n ee ds i no rd er to pr un e a no de a nd it s
"s ub tr ee .) At fi rs ts ig ht , i tm ig ht se em i mp os si bl e b ec au se t he va lu eo f C i st he av er ag e o fi ts"
"c hi ld re n’s v al ue s , a nd i n o rd er t o c om pu te t he a ve ra ge o f a s et o f n um be rs , w e m us t l oo k a t"
"a ll t he n um be rs . Bu t i fw ep ut b ou nd s o n t he p os si bl e v al ue s o f t he u ti li ty f un ct io n , t he n w e"
"c an a rr iv e a tb ou nd s f or th e a ve ra ge w it ho ut l oo ki ng a te ve ry n um be r . Fo re xa mp le , s ay t ha t"
"a ll ut il it yv al ue sa re be tw ee n−2 a nd+2;t he nt he va lu eo fl ea fn od es is bo un de d , a nd in tu rn"
w ec an pl ac ea nu pp er bo un do nt he va lu eo fa ch an ce no de wi th ou tl oo ki ng at al li ts ch il dr en .
MONTECARLO An a lt er na ti ve i s t o d o Mo nt e Ca rl o s im ul at io n t o e va lu at e a p os it io n . St ar t w it h
SIMULATION
"a n a lp ha–b et a (o r o th er) s ea rc h a lg or it hm . Fr om a s ta rt p os it io n , h av e t he a lg or it hm p la y"
"t ho us an ds o f g am es a ga in st i ts el f , u si ng r an do m d ic e r ol ls . In t he c as e o f b ac kg am mo n , t he"
r es ul ti ng w in p er ce nt ag e h as b ee n s ho wn t o b e a g oo d a pp ro xi ma ti on o f t he v al ue o f t he
"p os it io n , e ve n i f t he a lg or it hm h as a n i mp er fe ct h eu ri st ic a nd i s s ea rc hi ng o nl y a f ew p li es"
"(Te sa ur o ,1995). Fo rg am es wi th di ce ,t hi st yp eo fs im ul at io n i sc al le da ro ll ou t ."
ROLLOUT
5.6 PARTIALLY OBSERVABLE GAMES
"Ch es s h as o ft en b ee n d es cr ib ed a s w ar i n m in ia tu re , b ut i t l ac ks a t l ea st o ne m aj or c ha ra c-"
"t er is ti c o f r ea l w ar s , n am el y , p ar ti al o bs er va bi li ty . In t he “f og o f w ar ,” t he e xi st en ce a nd"
"d is po si ti on o f e ne my u ni ts i s o ft en u nk no wn u nt il r ev ea le d b y d ir ec t c on ta ct . As a r es ul t ,"
w ar fa re in cl ud es th eu se of sc ou ts an ds pi es to ga th er in fo rm at io na nd th eu se of co nc ea lm en t
a nd b lu ff t o c on fu se t he e ne my . Pa rt ia ll y o bs er va bl e g am es s ha re t he se c ha ra ct er is ti cs a nd
a re th us qu al it at iv el y d if fe re nt fr om th eg am es de sc ri be d i nt he pr ec ed in g s ec ti on s .
5.6.1 Kr ie gs pi el: Pa rt ia ll yo bs er va bl ec he ss
"In de te rm in is ti cp ar ti al ly ob se rv ab le ga me s ,u nc er ta in ty ab ou tt he st at eo ft he bo ar da ri se se n-"
t ir el yf ro ml ac ko fa cc es st ot he ch oi ce sm ad eb yt he op po ne nt . Th is cl as si nc lu de sc hi ld re n’s
g am es su ch as Ba tt le sh ip s(w he re ea ch pl ay er’s sh ip sa re pl ac ed in lo ca ti on sh id de nf ro mt he
o pp on en tb ut do no tm ov e)a nd St ra te go(w he re pi ec el oc at io ns ar ek no wn bu tp ie ce ty pe sa re
"h id de n). We wi ll e xa mi ne t he g am e o f Kr ie gs pi el , a pa rt ia ll y o bs er va bl e v ar ia nt o f c he ss i n"
KRIEGSPIEL
w hi ch pi ec es ca nm ov eb ut ar ec om pl et el yi nv is ib le t ot he op po ne nt .
Th e r ul es o f Kr ie gs pi el a re a s f ol lo ws: Wh it e a nd Bl ac k e ac h s ee a b oa rd c on ta in in g
"o nl yt he ir ow np ie ce s . Ar ef er ee ,w ho ca ns ee al lt he pi ec es ,a dj ud ic at es th eg am ea nd pe ri od-"
"i ca ll y m ak es a nn ou nc em en ts t ha t a re h ea rd b y b ot h p la ye rs . On h is t ur n , Wh it e p ro po se s t o"
t he re fe re e a ny mo ve th at wo ul db el eg al if th er e w er en ob la ck p ie ce s . If th em ov ei si nf ac t
"n ot l eg al (b ec au se o f t he b la ck p ie ce s), t he r ef er ee a nn ou nc es “i ll eg al .” In t hi s c as e , Wh it e"
m ay ke ep pr op os in g m ov es un ti la le ga lo ne is fo un d—a nd l ea rn sm or ea bo ut th el oc at io n o f
"Bl ac k’s p ie ce s i n t he p ro ce ss . On ce a l eg al m ov e i s p ro po se d , t he r ef er ee a nn ou nc es o ne o r"
Se ct io n 5.6. Pa rt ia ll y Ob se rv ab le Ga me s 181
"m or e o f t he f ol lo wi ng: “Ca pt ur e o n s qu ar e X”i f t he re i s a c ap tu re , a nd “Ch ec k b y D” i f t he"
"b la ck k in g i s i n c he ck , w he re D i s t he d ir ec ti on o f t he c he ck , a nd c an b e o ne o f “Kn ig ht ,”"
"“Ra nk ,” “Fi le ,” “Lo ng d ia go na l ,” o r “Sh or t d ia go na l .” (In c as e o f d is co ve re d c he ck , t he r ef-"
"e re e m ay m ak e t wo “Ch ec k” a nn ou nc em en ts .) If Bl ac k i s c he ck ma te d o r s ta le ma te d , t he"
"r ef er ee sa ys so ;o th er wi se , i ti s Bl ac k’s tu rn to mo ve ."
"Kr ie gs pi el ma ys ee mt er ri fy in gl yi mp os si bl e ,b ut hu ma ns ma na ge it qu it ew el la nd co m-"
p ut er p ro gr am s a re b eg in ni ng t o c at ch u p . It h el ps t o r ec al l t he n ot io n o f a b el ie f s ta te a s
d ef in ed i n Se ct io n 4.4 a nd i ll us tr at ed i n Fi gu re 4.14—t he s et o f a ll l og ic al ly p os si bl e b oa rd
"s ta te s g iv en t he c om pl et e h is to ry o f p er ce pt s t o d at e . In it ia ll y , Wh it e’s b el ie f s ta te i s a s in-"
g le to n b ec au se Bl ac k’s p ie ce s h av en’t m ov ed y et . Af te r Wh it e m ak es a m ov e a nd Bl ac k r e-
"s po nd s , Wh it e’s b el ie f s ta te c on ta in s 20 p os it io ns b ec au se Bl ac kh as 20 r ep li es t oa ny Wh it e"
m ov e . Ke ep in gt ra ck of th eb el ie fs ta te as th eg am ep ro gr es se si se xa ct ly th ep ro bl em of st at e
"e st im at io n , f or w hi ch t he u pd at e s te p i s g iv en i n Eq ua ti on (4.6). We c an m ap Kr ie gs pi el"
"s ta te e st im at io n d ir ec tl y o nt o t he p ar ti al ly o bs er va bl e , n on de te rm in is ti c f ra me wo rk o f Se c-"
"t io n 4.4 i f w e c on si de r t he o pp on en t a s t he s ou rc e o f n on de te rm in is m ; t ha t i s , t he RESULTS"
o f Wh it e’s mo ve ar ec om po se df ro mt he(p re di ct ab le) o ut co me o f Wh it e’s ow nm ov ea nd th e
u np re di ct ab le o ut co me gi ve nb y Bl ac k’s re pl y .3
"Gi ve n a c ur re nt b el ie f s ta te , Wh it e m ay a sk , “Ca n I w in t he g am e ?” Fo r a p ar ti al ly"
"o bs er va bl e g am e , t he n ot io n o f a s tr at eg y i s a lt er ed ; i ns te ad o f s pe ci fy in g a m ov e t o m ak e"
"f or ea ch po ss ib le m ov et he op po ne nt m ig ht ma ke ,w en ee da mo ve fo re ve ry po ss ib le p er ce pt"
"s eq ue nc e t ha t m ig ht b e r ec ei ve d . Fo r Kr ie gs pi el , a w in ni ng s tr at eg y , o r g ua ra nt ee d c he ck-"
"GUARANTEED m at e ,i so ne th at , f or ea ch po ss ib le p er ce pt s eq ue nc e , l ea ds to an a ct ua l c he ck ma te f or ev er y"
CHECKMATE
"p os si bl e b oa rd s ta te i n t he c ur re nt b el ie f s ta te , r eg ar dl es s o f h ow t he o pp on en t m ov es . Wi th"
"t hi s d ef in it io n , t he o pp on en t’s b el ie f s ta te i s i rr el ev an t—t he s tr at eg y h as t o w or k e ve n i f t he"
o pp on en t c an s ee a ll t he p ie ce s . Th is g re at ly s im pl if ie s t he c om pu ta ti on . Fi gu re 5.13 s ho ws
p ar t o f a g ua ra nt ee d c he ck ma te f or t he KRK (k in g a nd r oo k a ga in st k in g) e nd ga me . In t hi s
"c as e , Bl ac kh as ju st on ep ie ce(t he ki ng), s oa be li ef s ta te fo r Wh it ec an be sh ow ni na si ng le"
b oa rd by ma rk in ge ac hp os si bl e p os it io n o ft he Bl ac kk in g .
Th e g en er al AND-OR s ea rc h a lg or it hm c an b e a pp li ed t o t he b el ie f-s ta te s pa ce t o f in d
"g ua ra nt ee d c he ck ma te s , j us t a s i n Se ct io n 4.4. Th e i nc re me nt al b el ie f-s ta te a lg or it hm m en-"
t io ne d i nt ha ts ec ti on o ft en fi nd sm id ga me ch ec km at es u pt od ep th 9—p ro ba bl y w el lb ey on d
t he ab il it ie so fh um an pl ay er s .
"In a dd it io n t o g ua ra nt ee d c he ck ma te s , Kr ie gs pi el a dm it s a n e nt ir el y n ew c on ce pt t ha t"
PROBABILISTIC m ak es n o s en se i n f ul ly o bs er va bl e g am es: p ro ba bi li st ic c he ck ma te . Su ch c he ck ma te s a re
CHECKMATE
s ti ll re qu ir ed to wo rk in ev er yb oa rd st at ei nt he be li ef st at e ;t he ya re pr ob ab il is ti cw it hr es pe ct
"t or an do mi za ti on o ft he wi nn in g p la ye r’s m ov es . To ge tt he ba si c i de a , c on si de r t he pr ob le m"
"o f f in di ng a l on e b la ck k in g u si ng j us t t he w hi te k in g . Si mp ly b y m ov in g r an do ml y , t he"
"w hi te k in g w il l e ve nt ua ll y b um p i nt o t he b la ck k in g e ve n i f t he l at te r t ri es t o a vo id t hi s f at e ,"
s in ce Bl ac kc an no t k ee p g ue ss in g t he ri gh te va si ve mo ve si nd ef in it el y . In th et er mi no lo gy o f
"p ro ba bi li ty t he or y , d et ec ti on o cc ur s w it h p ro ba bi li ty 1. Th e KBNK e nd ga me—k in g , b is ho p"
"3 So me ti me s ,t he be li ef st at ew il lb ec om et oo la rg et or ep re se nt ju st as al is to fb oa rd st at es ,b ut we wi ll ig no re"
t hi si ss ue fo rn ow ;Ch ap te rs 7 a nd 8 s ug ge st me th od sf or co mp ac tl yr ep re se nt in gv er yl ar ge be li ef st at es .
182 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
4
3
2
1
a b c d
Kc 3 ?
“OK” “Il le ga l”
Rc 3 ?
“OK” “Ch ec k”
"Fi gu re 5.13 Pa rt o f a g ua ra nt ee dc he ck ma te in t he KRK e nd ga me , s ho wn o n a r ed uc ed"
"b oa rd . In t he i ni ti al b el ie f s ta te , Bl ac k’s k in g i s i n o ne o f t hr ee p os si bl e l oc at io ns . By a"
"c om bi na ti on o f p ro bi ng m ov es , t he s tr at eg y n ar ro ws t hi s d ow n t o o ne . Co mp le ti on o f t he"
c he ck ma te is le ft as an ex er ci se .
a nd kn ig ht a ga in st k in g—i s w on in th is s en se ; Wh it ep re se nt s Bl ac kw it ha ni nf in it er an do m
"s eq ue nc e o f c ho ic es , f or o ne o f w hi ch Bl ac k w il l g ue ss i nc or re ct ly a nd r ev ea l h is p os it io n ,"
"l ea di ng to ch ec km at e . Th e KBBKe nd ga me ,o nt he ot he rh an d ,i sw on wi th pr ob ab il it y 1−(c id:2)."
Wh it e c an f or ce a w in o nl y b y l ea vi ng o ne o f h is b is ho ps u np ro te ct ed f or o ne m ov e . If
Bl ac kh ap pe ns t ob ei nt he ri gh tp la ce an dc ap tu re s t he bi sh op (a mo ve th at wo ul dl os ei ft he
"b is ho ps ar ep ro te ct ed), t he ga me is dr aw n . Wh it ec an ch oo se to ma ke th er is ky mo ve at so me"
"r an do ml yc ho se np oi nt in th em id dl eo fa ve ry lo ng se qu en ce ,t hu sr ed uc in g(c id:2)t oa na rb it ra ri ly"
"s ma ll co ns ta nt , b ut ca nn ot re du ce (c id:2)t oz er o ."
It i s q ui te r ar e t ha t a g ua ra nt ee d o r p ro ba bi li st ic c he ck ma te c an b e f ou nd w it hi n a ny
"r ea so na bl ed ep th ,e xc ep ti nt he en dg am e . So me ti me sa ch ec km at es tr at eg yw or ks fo rs om eo f"
"t he bo ar ds ta te si nt he cu rr en tb el ie fs ta te bu tn ot ot he rs . Tr yi ng su ch as tr at eg ym ay su cc ee d ,"
ACCIDENTAL l ea di ng to an ac ci de nt al ch ec km at e—a cc id en ta l i nt he se ns et ha t Wh it ec ou ld no tk no wt ha t
CHECKMATE
i tw ou ld be ch ec km at e—i f Bl ac k’s pi ec es ha pp en to be in th er ig ht pl ac es . (Mo st ch ec km at es
i n g am es b et we en h um an s a re o f t hi s a cc id en ta l n at ur e .) Th is i de a l ea ds n at ur al ly t o t he
"q ue st io n o fh ow l ik el y i ti s t ha t a gi ve n s tr at eg y w il lw in , w hi ch le ad s i nt ur n t ot he q ue st io n"
o fh ow li ke ly it is th at ea ch bo ar ds ta te in th ec ur re nt be li ef st at ei st he tr ue bo ar ds ta te .
Se ct io n 5.6. Pa rt ia ll y Ob se rv ab le Ga me s 183
On e’s fi rs ti nc li na ti on mi gh tb et op ro po se th at al lb oa rd st at es in th ec ur re nt be li ef st at e
"a re e qu al ly l ik el y—b ut t hi s c an’t b e r ig ht . Co ns id er , f or e xa mp le , Wh it e’s b el ie f s ta te a ft er"
"Bl ac k’s f ir st m ov e o f t he g am e . By d ef in it io n (a ss um in g t ha t Bl ac k p la ys o pt im al ly), Bl ac k"
"m us th av ep la ye da no pt im al mo ve ,s oa ll bo ar ds ta te sr es ul ti ng fr om su bo pt im al mo ve so ug ht"
"t ob ea ss ig ne dz er op ro ba bi li ty . Th is ar gu me nt is no tq ui te ri gh te it he r ,b ec au se e ac hp la ye r’s"
g oa l i s n ot j us t t o m ov e p ie ce s t ot he r ig ht s qu ar es b ut a ls o t om in im iz e t he i nf or ma ti on t ha t
t he o pp on en t h as a bo ut t he ir l oc at io n . Pl ay in g a ny p re di ct ab le “o pt im al” s tr at eg y p ro vi de s
"t he o pp on en t w it h i nf or ma ti on . He nc e , o pt im al p la y i n p ar ti al ly o bs er va bl e g am es r eq ui re s"
a w il li ng ne ss t o p la y s om ew ha t r an do ml y . (Th is i s w hy r es ta ur an t h yg ie ne i ns pe ct or s d o
r an do mi ns pe ct io n v is it s .) Th is me an so cc as io na ll y s el ec ti ng m ov es th at ma ys ee m“i nt ri ns i-
"c al ly”w ea k—b ut th ey ga in st re ng th fr om th ei rv er yu np re di ct ab il it y , b ec au se th eo pp on en ti s"
u nl ik el y t oh av ep re pa re d a ny de fe ns ea ga in st th em .
"Fr om t he se c on si de ra ti on s , i t s ee ms t ha t t he p ro ba bi li ti es a ss oc ia te d w it h t he b oa rd"
s ta te s i n t he c ur re nt b el ie f s ta te c an o nl y b e c al cu la te d g iv en a n o pt im al r an do mi ze d s tr at-
"e gy ; i n t ur n , c om pu ti ng t ha t s tr at eg y s ee ms t o r eq ui re k no wi ng t he p ro ba bi li ti es o f t he v ar-"
i ou s s ta te s t he b oa rd m ig ht b e i n . Th is c on un dr um c an b e r es ol ve d b y a do pt in g t he g am e-
"t he or et ic n ot io n o f a n e qu il ib ri um s ol ut io n , w hi ch w e p ur su e f ur th er i n Ch ap te r 17. An"
e qu il ib ri um s pe ci fi es a n o pt im al r an do mi ze d s tr at eg y f or e ac h p la ye r . Co mp ut in g e qu il ib-
"r ia i s p ro hi bi ti ve ly e xp en si ve , h ow ev er , e ve n f or s ma ll g am es , a nd i s o ut o f t he q ue st io n f or"
"Kr ie gs pi el . At p re se nt , t he d es ig n o f e ff ec ti ve a lg or it hm s f or g en er al Kr ie gs pi el p la y i s a n"
o pe n r es ea rc h t op ic . Mo st s ys te ms p er fo rm b ou nd ed-d ep th l oo ka he ad i n t he ir o wn b el ie f-
"s ta te sp ac e , i gn or in g t he op po ne nt’s b el ie fs ta te . Ev al ua ti on f un ct io ns r es em bl e t ho se f or th e"
o bs er va bl e g am eb ut in cl ud ea co mp on en t f or th es iz eo ft he be li ef st at e—s ma ll er is be tt er !
5.6.2 Ca rd ga me s
"Ca rd g am es p ro vi de m an y e xa mp le s o f s to ch as ti c p ar ti al o bs er va bi li ty , w he re t he m is si ng"
"i nf or ma ti on is ge ne ra te dr an do ml y . Fo re xa mp le ,i nm an yg am es ,c ar ds ar ed ea lt ra nd om ly at"
"t he b eg in ni ng o f t he g am e , w it h e ac h p la ye r r ec ei vi ng a h an d t ha t i s n ot v is ib le t o t he o th er"
"p la ye rs . Su ch ga me si nc lu de br id ge , w hi st ,h ea rt s , a nd so me f or ms of po ke r ."
"At fi rs ts ig ht ,i tm ig ht se em th at th es ec ar dg am es ar ej us tl ik ed ic eg am es: t he ca rd sa re"
"d ea lt ra nd om ly an dd et er mi ne th em ov es av ai la bl et oe ac hp la ye r ,b ut al lt he“d ic e”a re ro ll ed"
"a tt he b eg in ni ng ! Ev en t ho ug h t hi s a na lo gy t ur ns o ut t ob e i nc or re ct , i ts ug ge st s a n e ff ec ti ve"
a lg or it hm: c on si de r a ll p os si bl e d ea ls o f t he i nv is ib le c ar ds ; s ol ve e ac h o ne a s i f i t w er e a
f ul ly ob se rv ab le ga me ;a nd th en ch oo se th em ov et ha th as th eb es to ut co me av er ag ed ov er al l
t he de al s . Su pp os et ha te ac hd ea ls oc cu rs wi th pr ob ab il it y P(s);t he nt he mo ve we wa nt is
(c id:12)
"a rg ma x P(s)MINIMAX(RESULT(s ,a)). (5.1)"
a
s
"He re ,w er un ex ac t MINIMAX i fc om pu ta ti on al ly f ea si bl e ;o th er wi se , w er un H-MINIMAX ."
"No w , i n m os t c ar d g am es , t he n um be r o f p os si bl e d ea ls i s r at he r l ar ge . Fo r e xa mp le ,"
"i nb ri dg e p la y , e ac h p la ye r s ee s j us t t wo(c id:20)o f(c id:21)t he f ou rh an ds ; t he re a re tw ou ns ee n h an ds o f 13"
"c ar ds e ac h , s o t he n um be r o f d ea ls i s 26 = 10,400,600. So lv in g e ve n o ne d ea l i s q ui te"
13
"d if fi cu lt , s o s ol vi ng t en m il li on i s o ut o f t he q ue st io n . In st ea d , w e r es or t t o a Mo nt e Ca rl o"
184 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
"a pp ro xi ma ti on: i ns te ad o f a dd in g u p a ll t he d ea ls , w e t ak e a r an do m s am pl e o f N d ea ls ,"
w he re th ep ro ba bi li ty o fd ea l s ap pe ar in g i nt he sa mp le is pr op or ti on al t o P(s):
(c id:12)N
1
"a rg ma x MINIMAX(RESULT(s i ,a)). (5.2)"
N
a
i=1
"(No ti ce t ha t P(s) d oe s n ot a pp ea r e xp li ci tl y i n t he s um ma ti on , b ec au se t he s am pl es a re a l-"
"r ea dy d ra wn a cc or di ng t o P(s).) As N g ro ws l ar ge , t he s um o ve r t he r an do m s am pl e t en ds"
"t ot he ex ac t v al ue , b ut e ve nf or fa ir ly s ma ll N—s ay , 100 t o 1,000—t he m et ho d g iv es a go od"
"a pp ro xi ma ti on . It ca na ls o b ea pp li ed t od et er mi ni st ic g am es su ch as Kr ie gs pi el , g iv en so me"
r ea so na bl e e st im at eo f P(s).
"Fo rg am es li ke wh is ta nd he ar ts ,w he re th er ei sn ob id di ng o rb et ti ng p ha se be fo re pl ay"
"c om me nc es , e ac h d ea l w il l b e e qu al ly l ik el y a nd s o t he v al ue s o f P(s) a re a ll e qu al . Fo r"
"b ri dg e , p la y i sp re ce de d b ya bi dd in g p ha se i nw hi ch ea ch te am i nd ic at es h ow ma ny tr ic ks i t"
"e xp ec ts t ow in . Si nc e p la ye rs b id b as ed o n t he c ar ds t he y h ol d , t he o th er p la ye rs l ea rn m or e"
a bo ut th ep ro ba bi li ty o fe ac hd ea l . Ta ki ng th is in to ac co un t i nd ec id in g h ow to pl ay th eh an d
"i st ri ck y , f or th er ea so ns m en ti on ed i no ur de sc ri pt io n o f Kr ie gs pi el: p la ye rs m ay bi di ns uc h"
"a wa ya st om in im iz e t he in fo rm at io n c on ve ye d t ot he ir op po ne nt s . Ev en so , t he a pp ro ac h i s"
"q ui te ef fe ct iv ef or br id ge , a sw es ho wi n Se ct io n 5.7."
Th e s tr at eg y d es cr ib ed i n Eq ua ti on s 5.1 a nd 5.2 i s s om et im es c al le d a ve ra gi ng o ve r
c la ir vo ya nc e b ec au se i t a ss um es t ha t t he g am e w il l b ec om e o bs er va bl e t o b ot h p la ye rs i m-
"m ed ia te ly a ft er t he f ir st m ov e . De sp it e i ts i nt ui ti ve a pp ea l , t he s tr at eg y c an l ea d o ne a st ra y ."
Co ns id er th ef ol lo wi ng st or y:
Da y 1: Ro ad A l ea ds t o a h ea p o f g ol d ; Ro ad B l ea ds t o a f or k . Ta ke t he l ef t f or k a nd
"y ou’l lf in da bi gg er he ap of go ld ,b ut ta ke th er ig ht fo rk an dy ou’l lb er un ov er by ab us ."
Da y 2: Ro ad A l ea ds to a he ap of go ld ; Ro ad Bl ea ds to a f or k . Ta ke th e r ig ht fo rk an d
"y ou’l lf in da bi gg er he ap of go ld ,b ut ta ke th el ef tf or ka nd yo u’l lb er un ov er by ab us ."
Da y 3: Ro ad A l ea ds t o a h ea p o f g ol d ; Ro ad B l ea ds t o a f or k . On e b ra nc h o f t he
"f or kl ea ds t o a b ig ge rh ea p o f g ol d , b ut t ak e t he w ro ng f or ka nd y ou’l lb e h it b y a b us ."
Un fo rt un at el yy ou do n’t kn ow wh ic hf or ki sw hi ch .
"Av er ag in go ve rc la ir vo ya nc el ea ds to th ef ol lo wi ng re as on in g: o n Da y 1,Bi st he ri gh tc ho ic e ;"
"o n Da y 2,Bi st he ri gh t c ho ic e ; o n Da y 3,t he si tu at io n i st he sa me as ei th er Da y 1 o r Da y 2,"
s o Bm us ts ti ll be th er ig ht ch oi ce .
No w w e c an s ee h ow a ve ra gi ng o ve rc la ir vo ya nc e f ai ls: i t d oe s n ot c on si de r t he b el ie f
"s ta te th at th ea ge nt wi ll be in af te ra ct in g . Ab el ie fs ta te of to ta li gn or an ce is no td es ir ab le ,e s-"
p ec ia ll y w he no ne po ss ib il it y i sc er ta in d ea th . Be ca us ei ta ss um es th at ev er yf ut ur es ta te wi ll
"a ut om at ic al ly b eo ne of pe rf ec tk no wl ed ge , t he ap pr oa ch n ev er se le ct sa ct io ns th at ga th er in-"
f or ma ti on(l ik et he fi rs tm ov ei n Fi gu re 5.13);n or wi ll it ch oo se ac ti on st ha th id ei nf or ma ti on
f ro m t he o pp on en t o r p ro vi de i nf or ma ti on t o a p ar tn er b ec au se i t a ss um es t ha t t he y a lr ea dy
"k no wt he in fo rm at io n ; a nd it wi ll ne ve rb lu ff in po ke r ,4 b ec au se i ta ss um es th eo pp on en t c an"
BLUFF
"s ee it sc ar ds . In Ch ap te r 17, w es ho wh ow to co ns tr uc t a lg or it hm s t ha td oa ll th es e t hi ng s b y"
v ir tu eo fs ol vi ng t he tr ue pa rt ia ll yo bs er va bl e d ec is io np ro bl em .
"4 Bl uf fi ng—b et ti ng as if on e’s ha nd is go od ,e ve nw he ni t’s no t—i sa co re pa rt of po ke rs tr at eg y ."
Se ct io n 5.7. St at e-o f-t he-Ar t Ga me Pr og ra ms 185
5.7 STATE-OF-THE-ART GAME PROGRAMS
"In 1965, t he Ru ss ia n m at he ma ti ci an Al ex an de r Kr on ro d c al le d c he ss “t he Dr os op hi la o f a r-"
t if ic ia l i nt el li ge nc e .” Jo hn Mc Ca rt hy d is ag re es: w he re as g en et ic is ts u se f ru it f li es t o m ak e
"d is co ve ri es t ha t a pp ly t o b io lo gy m or e b ro ad ly , AI h as u se d c he ss t o d o t he e qu iv al en t o f"
b re ed in g v er y f as t f ru it f li es . Pe rh ap s a b et te r a na lo gy i s t ha t c he ss i s t o AI a s Gr an d Pr ix
"m ot or ra ci ng is to th ec ar in du st ry: s ta te-o f-t he-a rt g am ep ro gr am sa re bl in di ng ly f as t ,h ig hl y"
"o pt im iz ed m ac hi ne s t ha t i nc or po ra te t he l at es t e ng in ee ri ng a dv an ce s , b ut t he y a re n’t m uc h"
"u se f or d oi ng t he s ho pp in g o r d ri vi ng o ff-r oa d . No ne th el es s , r ac in g a nd g am e-p la yi ng g en-"
e ra te e xc it em en t a nd a s te ad y s tr ea m o f i nn ov at io ns t ha t h av e b ee n a do pt ed b y t he w id er
c om mu ni ty . In th is se ct io nw el oo ka tw ha ti tt ak es to co me ou to nt op in va ri ou sg am es .
CHESS
"Ch es s: IBM’s DEEP BLUE c he ss p ro gr am , n ow r et ir ed , i s w el l k no wn f or d ef ea ti ng w or ld"
c ha mp io n Ga rr y Ka sp ar ov i na wi de ly p ub li ci ze d e xh ib it io n m at ch . De ep Bl ue ra no na pa r-
a ll el c om pu te r w it h 30 IBM RS/6000 p ro ce ss or s d oi ng a lp ha–b et a s ea rc h . Th e u ni qu e p ar t
w as a c on fi gu ra ti on o f 480 c us to m VLSI c he ss p ro ce ss or s t ha t p er fo rm ed m ov e g en er at io n
"a nd mo ve or de ri ng fo rt he la st fe wl ev el so ft he tr ee ,a nd ev al ua te dt he le af no de s . De ep Bl ue"
"s ea rc he d u p t o 30 b il li on p os it io ns p er m ov e , r ea ch in g d ep th 14 r ou ti ne ly . Th e k ey t o i ts"
s uc ce ss s ee ms to ha ve be en i ts ab il it y t og en er at e s in gu la r e xt en si on s b ey on d t he de pt h l im it
f or su ff ic ie nt ly i nt er es ti ng l in es o ff or ci ng/f or ce d m ov es . In so me ca se s t he se ar ch r ea ch ed a
"d ep th o f 40 p li es . Th ee va lu at io n f un ct io n h ad o ve r 8000 f ea tu re s , m an y o f t he m d es cr ib in g"
"h ig hl y s pe ci fi c p at te rn s o f p ie ce s . An “o pe ni ng b oo k” o f a bo ut 4000 p os it io ns w as u se d , a s"
"w el l a s a d at ab as e o f 700,000 g ra nd ma st er g am es f ro m w hi ch c on se ns us r ec om me nd at io ns"
c ou ld b ee xt ra ct ed . Th es ys te m a ls o u se d a la rg e e nd ga me d at ab as e o f s ol ve d p os it io ns c on-
t ai ni ng a ll p os it io ns w it h f iv e p ie ce s a nd m an y w it h s ix p ie ce s . Th is d at ab as e h ad t he e ff ec t
"o fs ub st an ti al ly e xt en di ng t he ef fe ct iv es ea rc hd ep th ,a ll ow in g De ep Bl ue to pl ay pe rf ec tl yi n"
s om ec as es ev en wh en it wa sm an ym ov es aw ay fr om ch ec km at e .
Th es uc ce ss of DEEP BLUEr ei nf or ce dt he wi de ly he ld be li ef th at pr og re ss in co mp ut er
g am e-p la yi ng h as c om e p ri ma ri ly f ro m e ve r-m or e-p ow er fu l h ar dw ar e—a v ie w e nc ou ra ge d
b y IBM . Bu t a lg or it hm ic i mp ro ve me nt s h av e a ll ow ed p ro gr am s r un ni ng o n s ta nd ar d PCs
t o w in Wo rl d Co mp ut er Ch es s Ch am pi on sh ip s . A v ar ie ty o f p ru ni ng h eu ri st ic s a re u se d t o
r ed uc et he ef fe ct iv eb ra nc hi ng fa ct or to le ss th an 3(c om pa re dw it ht he ac tu al br an ch in gf ac to r
"o fa bo ut 35). Th em os ti mp or ta nt of th es ei st he nu ll mo ve he ur is ti c , w hi ch ge ne ra te s a go od"
NULLMOVE
"l ow er b ou nd o n t he v al ue o f a p os it io n , u si ng a s ha ll ow s ea rc h i n w hi ch t he o pp on en t g et s"
t o m ov e t wi ce a t t he b eg in ni ng . Th is l ow er b ou nd o ft en a ll ow s a lp ha–b et a p ru ni ng w it ho ut
"t he ex pe ns eo fa fu ll-d ep th s ea rc h . Al so im po rt an t i s f ut il it yp ru ni ng ,w hi ch he lp sd ec id ei n"
FUTILITYPRUNING
a dv an ce wh ic hm ov es wi ll ca us ea be ta cu to ff in th es uc ce ss or n od es .
HYDRA c an b e s ee n a s t he s uc ce ss or t o DEEP BLUE . HYDRA r un s o n a 64-p ro ce ss or
c lu st er w it h 1 g ig ab yt e p er pr oc es so r a nd wi th cu st om h ar dw ar e i nt he fo rm o f FPGA(Fi el d
"Pr og ra mm ab le Ga te Ar ra y)c hi ps . HYDRAr ea ch es 200 m il li on ev al ua ti on sp er se co nd ,a bo ut"
"t he s am e a s De ep Bl ue , b ut HYDRA r ea ch es 18 p li es d ee p r at he r t ha n j us t 14 b ec au se o f"
a gg re ss iv e u se of th en ul lm ov eh eu ri st ic a nd fo rw ar dp ru ni ng .
186 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
"RYBKA , w in ne ro f t he 2008 a nd 2009 Wo rl d Co mp ut er Ch es s Ch am pi on sh ip s , i sc on-"
s id er ed t he s tr on ge st c ur re nt c om pu te r p la ye r . It u se s a n o ff-t he-s he lf 8-c or e 3.2 GHz In te l
"Xe on p ro ce ss or , b ut l it tl e i s k no wn a bo ut t he d es ig n o f t he p ro gr am . RYBKA’s m ai n a d-"
"v an ta ge a pp ea rs t o b e i ts e va lu at io n f un ct io n , w hi ch h as b ee n t un ed b y i ts m ai n d ev el op er ,"
"In te rn at io na l Ma st er Va si k Ra jl ic h ,a nd at le as tt hr ee ot he rg ra nd ma st er s ."
Th e m os t r ec en t m at ch es s ug ge st t ha t t he t op c om pu te r c he ss p ro gr am s h av e p ul le d
a he ad of al lh um an co nt en de rs . (Se et he hi st or ic al n ot es fo rd et ai ls .)
CHECKERS
"Ch ec ke rs: Jo na th an Sc ha ef fe r a nd c ol le ag ue s d ev el op ed CHINOOK , w hi ch r un s o n r eg ul ar"
PCs an d u se s a lp ha–b et a s ea rc h . Ch in oo k d ef ea te d t he l on g-r un ni ng h um an c ha mp io n i n a n
"a bb re vi at ed ma tc hi n 1990,a nd si nc e 2007 CHINOOKh as be en ab le to pl ay pe rf ec tl yb yu si ng"
a lp ha–b et a s ea rc hc om bi ne d w it ha da ta ba se o f 39 t ri ll io ne nd ga me po si ti on s .
"Ot he ll o , a ls o c al le d Re ve rs i , i s p ro ba bl y m or e p op ul ar a s a c om pu te r g am e t ha n a s a b oa rd"
OTHELLO
"g am e . It h as a s ma ll er s ea rc h s pa ce t ha n c he ss , u su al ly 5 t o 15 l eg al m ov es , b ut e va lu at io n"
"e xp er ti se ha dt ob ed ev el op ed fr om sc ra tc h . In 1997,t he LOGISTELLO p ro gr am(Bu ro ,2002)"
"d ef ea te dt he hu ma nw or ld ch am pi on ,Ta ke sh i Mu ra ka mi ,b ys ix ga me st on on e . It is ge ne ra ll y"
a ck no wl ed ge d t ha th um an sa re no ma tc hf or co mp ut er s a t Ot he ll o .
Ba ck ga mm on: Se ct io n 5.5 e xp la in ed wh yt he in cl us io no fu nc er ta in ty fr om di ce ro ll sm ak es
BACKGAMMON
d ee p s ea rc h a n e xp en si ve l ux ur y . Mo st w or k o n b ac kg am mo n h as g on e i nt o i mp ro vi ng t he
e va lu at io n f un ct io n . Ge rr y Te sa ur o (1992) c om bi ne d r ei nf or ce me nt l ea rn in g w it h n eu ra l
n et wo rk s t o d ev el op a r em ar ka bl y a cc ur at e e va lu at or t ha t i s u se d w it h a s ea rc h t o d ep th 2
"o r 3. Af te r p la yi ng m or e t ha n a m il li on t ra in in g g am es a ga in st i ts el f , Te sa ur o’s p ro gr am ,"
"TD-GAMMON ,i sc om pe ti ti ve wi th to ph um an pl ay er s . Th ep ro gr am’s op in io ns on th eo pe n-"
i ng mo ve so ft he ga me ha ve in so me ca se sr ad ic al ly al te re dt he r ec ei ve dw is do m .
Go i s t he m os t p op ul ar b oa rd g am e i n As ia . Be ca us e t he b oa rd i s 19 × 19 a nd m ov es a re
GO
"a ll ow ed i nt o (a lm os t) e ve ry e mp ty s qu ar e , t he b ra nc hi ng f ac to r s ta rt s a t 361, w hi ch i s t oo"
"d au nt in g f or r eg ul ar a lp ha–b et a s ea rc h m et ho ds . In a dd it io n , i t i s d if fi cu lt t o w ri te a n e va l-"
u at io n f un ct io n b ec au se c on tr ol o f t er ri to ry i s o ft en v er y u np re di ct ab le u nt il t he e nd ga me .
"Th er ef or e t he to pp ro gr am s , s uc ha s MOGO ,a vo id a lp ha–b et a s ea rc h a nd in st ea d u se Mo nt e"
Ca rl or ol lo ut s . Th et ri ck is to de ci de wh at mo ve st om ak ei nt he co ur se of th er ol lo ut . Th er ei s
n oa gg re ss iv e p ru ni ng ; a ll mo ve sa re po ss ib le . Th e UCT(u pp er co nf id en ce b ou nd s o nt re es)
"m et ho d w or ks b y m ak in g r an do m m ov es i n t he f ir st f ew i te ra ti on s , a nd o ve r t im e g ui di ng"
t he sa mp li ng p ro ce ss t op re fe rm ov es th at ha ve le dt ow in si np re vi ou s s am pl es . So me tr ic ks
"a re a dd ed , i nc lu di ng k no wl ed ge-b as ed r ul es t ha t s ug ge st p ar ti cu la r m ov es w he ne ve r a g iv en"
p at te rn i sd et ec te d a nd li mi te dl oc al s ea rc ht od ec id e t ac ti ca l q ue st io ns . So me pr og ra ms al so
COMBINATORIAL i nc lu de s pe ci al t ec hn iq ue s f ro m c om bi na to ri al g am e t he or y t o a na ly ze e nd ga me s . Th es e
GAMETHEORY
t ec hn iq ue s d ec om po se a po si ti on i nt os ub-p os it io ns t ha tc an be an al yz ed s ep ar at el y a nd th en
"c om bi ne d (Be rl ek am p a nd Wo lf e , 1994; Mu¨l le r , 2003). Th e o pt im al s ol ut io ns o bt ai ne d i n"
"t hi s w ay h av e s ur pr is ed m an y p ro fe ss io na l Go p la ye rs , w ho t ho ug ht t he y h ad b ee n p la yi ng"
"o pt im al ly a ll al on g . Cu rr en t Go pr og ra ms p la y a tt he ma st er le ve lo na re du ce d 9×9 b oa rd ,"
b ut ar es ti ll at ad va nc ed a ma te ur le ve lo na fu ll bo ar d .
Br id ge i s a c ar d g am e o f i mp er fe ct i nf or ma ti on: a p la ye r’s c ar ds a re h id de n f ro m t he o th er
BRIDGE
"p la ye rs . Br id ge i s a ls o a m ul ti pl ay er g am e w it h f ou r p la ye rs i ns te ad o f t wo , a lt ho ug h t he"
Se ct io n 5.8. Al te rn at iv e Ap pr oa ch es 187
"p la ye rs a re p ai re d i nt o t wo t ea ms . As i n Se ct io n 5.6, o pt im al p la y i n p ar ti al ly o bs er va bl e"
"g am es li ke br id ge ca ni nc lu de el em en ts of in fo rm at io ng at he ri ng ,c om mu ni ca ti on ,a nd ca re fu l"
w ei gh in g o f p ro ba bi li ti es . Ma ny o f t he se t ec hn iq ue s a re u se d i n t he Br id ge Ba ro n p ro gr am
"(Sm it h e t a l ., 1998), w hi ch w on t he 1997 c om pu te r b ri dg e c ha mp io ns hi p . Wh il e i t d oe s"
"n ot p la y o pt im al ly , Br id ge Ba ro n i s o ne o f t he f ew s uc ce ss fu l g am e-p la yi ng s ys te ms t o u se"
"c om pl ex ,h ie ra rc hi ca lp la ns(s ee Ch ap te r 11)i nv ol vi ng hi gh-l ev el id ea s ,s uc ha sf in es si ng an d"
"s qu ee zi ng ,t ha ta re fa mi li ar to br id ge pl ay er s ."
"Th e GIBp ro gr am(Gi ns be rg ,1999)w on th e 2000 c om pu te rb ri dg ec ha mp io ns hi pq ui te"
"d ec is iv el yu si ng th e Mo nt e Ca rl om et ho d . Si nc et he n ,o th er wi nn in gp ro gr am sh av ef ol lo we d"
EXPLANATION-
GIB’s le ad . GIB’s ma jo ri nn ov at io n i su si ng ex pl an at io n-b as ed g en er al iz at io n t oc om pu te
BASED
GENERALIZATION
a nd c ac he g en er al r ul es f or op ti ma l p la y i n v ar io us s ta nd ar d c la ss es o f s it ua ti on s r at he r t ha n
"e va lu at in g e ac h s it ua ti on i nd iv id ua ll y . Fo r e xa mp le , i n a s it ua ti on w he re o ne p la ye r h as t he"
"c ar ds A-K-Q-J-4-3-2 o f o ne s ui t a nd a no th er p la ye r h as 10-9-8-7-6-5, t he re a re 7×6 = 42"
w ay s t ha t t he f ir st p la ye r c an l ea d f ro m t ha t s ui t a nd t he s ec on d p la ye r c an f ol lo w . Bu t GIB
t re at s t he se s it ua ti on s a s j us t t wo: t he f ir st p la ye r c an l ea d e it he r a h ig h c ar d o r a l ow c ar d ;
"t he ex ac tc ar ds pl ay ed do n’t ma tt er . Wi th th is op ti mi za ti on (a nd af ew ot he rs), GIBc an so lv e"
"a 52-c ar d , f ul ly ob se rv ab le d ea l e xa ct ly i na bo ut a se co nd . GIB’s ta ct ic al a cc ur ac y m ak es up"
f or it si na bi li ty to re as on ab ou ti nf or ma ti on . It fi ni sh ed 12 t hi na fi el do f 35 i nt he pa rc on te st
"(i nv ol vi ng j us t p la y o f t he h an d , n ot b id di ng) a t t he 1998 h um an w or ld c ha mp io ns hi p , f ar"
e xc ee di ng t he ex pe ct at io ns o fm an yh um an ex pe rt s .
"Th er ea re s ev er al r ea so ns w hy GIB p la ys a te xp er t l ev el w it h Mo nt e Ca rl os im ul at io n ,"
"w he re as Kr ie gs pi el p ro gr am s d on ot . Fi rs t , GIB’s e va lu at io n o ft he f ul ly o bs er va bl e v er si on"
"o ft he ga me is ex ac t ,s ea rc hi ng t he fu ll ga me tr ee , w hi le Kr ie gs pi el p ro gr am s r el yo ni ne xa ct"
"h eu ri st ic s . Bu t f ar m or e i mp or ta nt i s t he f ac t t ha t i n b ri dg e , m os t o f t he u nc er ta in ty i n t he"
"p ar ti al ly o bs er va bl e i nf or ma ti on c om es fr om th er an do mn es s o ft he de al ,n ot fr om th ea dv er-"
"s ar ia l p la y o f t he o pp on en t . Mo nt e Ca rl o s im ul at io n h an dl es r an do mn es s w el l , b ut d oe s n ot"
"a lw ay sh an dl es tr at eg y w el l ,e sp ec ia ll y w he nt he st ra te gy i nv ol ve s t he va lu eo fi nf or ma ti on ."
"Sc ra bb le: Mo st pe op le th in kt he ha rd pa rt ab ou t Sc ra bb le is co mi ng up wi th go od wo rd s ,b ut"
SCRABBLE
"g iv en th eo ff ic ia ld ic ti on ar y , i tt ur ns ou tt ob er at he re as yt op ro gr am am ov eg en er at or to fi nd"
"t he h ig he st-s co ri ng m ov e (Go rd on , 1994). Th at d oe sn’t m ea n t he g am e i s s ol ve d , h ow ev er:"
m er el y t ak in g t he t op-s co ri ng m ov e e ac h t ur n r es ul ts i n a g oo d b ut n ot e xp er t p la ye r . Th e
p ro bl em i s t ha t Sc ra bb le i s b ot h p ar ti al ly o bs er va bl e a nd s to ch as ti c: y ou d on’t k no w w ha t
l et te rs t he o th er p la ye r h as o r w ha t l et te rs y ou w il l d ra w n ex t . So p la yi ng Sc ra bb le w el l
"c om bi ne s t he d if fi cu lt ie s o f b ac kg am mo n a nd b ri dg e . Ne ve rt he le ss , i n 2006, t he QUACKLE"
"p ro gr am d ef ea te dt he fo rm er wo rl dc ha mp io n , Da vi d Bo ys ,3–2."
5.8 ALTERNATIVE APPROACHES
"Be ca us e c al cu la ti ng o pt im al d ec is io ns i n g am es i s i nt ra ct ab le i n m os t c as es , a ll a lg or it hm s"
"m us t m ak e s om e a ss um pt io ns a nd a pp ro xi ma ti on s . Th e s ta nd ar d a pp ro ac h , b as ed o n m in i-"
"m ax ,e va lu at io nf un ct io ns , a nd al ph a–b et a , i sj us to ne wa yt od ot hi s . Pr ob ab ly be ca us ei th as"
188 Ch ap te r 5. Ad ve rs ar ia l Se ar ch
MAX
MIN 99 100
99 1000 1000 1000 100 101 102 100
Fi gu re 5.14 At wo-p ly ga me tr ee fo rw hi ch he ur is ti cm in im ax ma ym ak ea ne rr or .
"b ee n w or ke d o n f or s o l on g , t he s ta nd ar d a pp ro ac h d om in at es o th er m et ho ds i n t ou rn am en t"
p la y . So me b el ie ve t ha t t hi s h as c au se d g am e p la yi ng t o b ec om e d iv or ce d f ro m t he m ai n-
s tr ea m o f AIr es ea rc h: t he st an da rd a pp ro ac h n ol on ge rp ro vi de s m uc hr oo m f or ne wi ns ig ht
"i nt og en er al qu es ti on s o fd ec is io n m ak in g . In th is se ct io n , w el oo ka tt he al te rn at iv es ."
"Fi rs t , l et u s c on si de r h eu ri st ic m in im ax . It s el ec ts a n o pt im al m ov e i n a g iv en s ea rc h"
"t re e p ro vi de d t ha t t he l ea f n od e e va lu at io ns a re e xa ct ly c or re ct . In r ea li ty , e va lu at io ns a re"
u su al ly c ru de e st im at es o f t he v al ue o f a p os it io n a nd c an b e c on si de re d t o h av e l ar ge e rr or s
a ss oc ia te d w it h t he m . Fi gu re 5.14 s ho ws a t wo-p ly g am e t re e f or w hi ch m in im ax s ug ge st s
t ak in g t he r ig ht-h an d b ra nc h b ec au se 100 > 99. Th at i s t he c or re ct m ov e i f t he e va lu at io ns
a re a ll c or re ct . Bu t o f c ou rs e t he e va lu at io n f un ct io n i s o nl y a pp ro xi ma te . Su pp os e t ha t
t he e va lu at io n o f e ac h n od e h as a n e rr or t ha t i s i nd ep en de nt o f o th er n od es a nd i s r an do ml y
"d is tr ib ut ed w it h m ea n z er o a nd s ta nd ar d d ev ia ti on o f σ. Th en w he n σ = 5, t he l ef t-h an d"
"b ra nc h i s a ct ua ll y b et te r 71% o f t he t im e , a nd 58% o f t he t im e w he n σ = 2. Th e i nt ui ti on"
b eh in d t hi s i s t ha t t he r ig ht-h an d b ra nc h h as f ou r n od es t ha t a re c lo se t o 99; i f a n e rr or i n
"t he e va lu at io n o f a ny o ne o f t he f ou r m ak es t he r ig ht-h an d b ra nc h s li p b el ow 99, t he n t he"
l ef t-h an d b ra nc hi sb et te r .
"In re al it y ,c ir cu ms ta nc es a re ac tu al ly wo rs et ha nt hi sb ec au se th ee rr or in th ee va lu at io n"
"f un ct io ni sn ot in de pe nd en t . If we ge to ne no de wr on g ,t he ch an ce sa re hi gh th at ne ar by no de s"
i n t he t re e w il l a ls o b e w ro ng . Th e f ac t t ha t t he n od e l ab el ed 99 h as s ib li ng s l ab el ed 1000
s ug ge st s t ha t i n f ac t i t m ig ht h av e a h ig he r t ru e v al ue . We c an u se a n e va lu at io n f un ct io n
"t ha tr et ur ns a pr ob ab il it y d is tr ib ut io n o ve rp os si bl e v al ue s , b ut it is di ff ic ul tt oc om bi ne th es e"
"d is tr ib ut io ns p ro pe rl y , b ec au se w ew on’t ha ve ag oo dm od el of th ev er ys tr on gd ep en de nc ie s"
t ha te xi st be tw ee nt he va lu es of si bl in gn od es
"Ne xt ,w ec on si de rt he se ar ch al go ri th mt ha tg en er at es th et re e . Th ea im of an al go ri th m"
d es ig ne ri st os pe ci fy ac om pu ta ti on th at ru ns qu ic kl ya nd yi el ds ag oo dm ov e . Th ea lp ha–b et a
a lg or it hm is de si gn ed no tj us tt os el ec ta go od mo ve bu ta ls ot oc al cu la te bo un ds on th ev al ue s
"o f a ll t he l eg al m ov es . To se e w hy th is e xt ra i nf or ma ti on i s u nn ec es sa ry , c on si de r a po si ti on"
i n w hi ch t he re i s o nl y o ne l eg al m ov e . Al ph a–b et a s ea rc h s ti ll w il l g en er at e a nd e va lu at e a
"l ar ge s ea rc h t re e , t el li ng u st ha tt he o nl ym ov ei st he be st m ov ea nd a ss ig ni ng i ta va lu e . Bu t"
"s in ce w e h av e t o m ak e t he m ov e a ny wa y , k no wi ng t he m ov e’s v al ue i s u se le ss . Si mi la rl y , i f"
"t he re is on eo bv io us ly go od mo ve an ds ev er al mo ve st ha ta re le ga lb ut le ad to aq ui ck lo ss ,w e"
Se ct io n 5.9. Su mm ar y 189
w ou ld no tw an ta lp ha–b et at ow as te ti me de te rm in in ga pr ec is ev al ue fo rt he lo ne go od mo ve .
Be tt er to ju st ma ke th em ov eq ui ck ly an ds av et he ti me fo rl at er . Th is le ad st ot he id ea of th e
u ti li ty o f a n od e e xp an si on . A g oo d s ea rc h a lg or it hm s ho ul d s el ec t n od e e xp an si on s o f h ig h
"u ti li ty—t ha t i s , o ne s t ha t a re l ik el y t ol ea d t ot he d is co ve ry o fa s ig ni fi ca nt ly b et te r m ov e . If"
"t he re a re n o n od e e xp an si on s w ho se u ti li ty i s h ig he r t ha n t he ir c os t (i n t er ms o f t im e), t he n"
t he a lg or it hm s ho ul d s to p s ea rc hi ng a nd m ak e a m ov e . No ti ce t ha t t hi s w or ks n ot o nl y f or
"c le ar-f av or it e s it ua ti on s b ut a ls o f or th e c as e o f s ym me tr ic al m ov es , f or wh ic h n o a mo un t o f"
s ea rc hw il ls ho wt ha to ne mo ve is be tt er th an an ot he r .
Th is k in d o f r ea so ni ng a bo ut w ha t c om pu ta ti on s t o d o i s c al le d m et ar ea so ni ng (r ea-
METAREASONING
s on in g a bo ut r ea so ni ng). It a pp li es n ot j us t t o g am e p la yi ng b ut t o a ny k in d o f r ea so ni ng
"a t a ll . Al l c om pu ta ti on s a re d on e i n t he s er vi ce o f t ry in g t o r ea ch b et te r d ec is io ns , a ll h av e"
"c os ts , a nd al lh av e s om el ik el ih oo d o fr es ul ti ng i na ce rt ai n i mp ro ve me nt i nd ec is io n q ua li ty ."
"Al ph a–b et a i nc or po ra te s t he si mp le st k in do fm et ar ea so ni ng , n am el y , a th eo re m t ot he ef fe ct"
t ha tc er ta in br an ch es o ft he tr ee ca nb ei gn or ed w it ho ut lo ss . It is po ss ib le t od om uc hb et te r .
"In Ch ap te r 16,w es ee ho wt he se id ea sc an be ma de pr ec is ea nd im pl em en ta bl e ."
"Fi na ll y , l et u s r ee xa mi ne t he n at ur e o f s ea rc h i ts el f . Al go ri th ms f or h eu ri st ic s ea rc h"
"a nd f or g am e p la yi ng g en er at e s eq ue nc es o f c on cr et e s ta te s , s ta rt in g f ro m t he i ni ti al s ta te"
"a nd t he n a pp ly in g a n e va lu at io n f un ct io n . Cl ea rl y , t hi s i s n ot h ow h um an s p la y g am es . In"
"c he ss ,o ne of te nh as ap ar ti cu la rg oa li nm in d—f or ex am pl e ,t ra pp in gt he op po ne nt’s qu ee n—"
a nd c an u se t hi s g oa l t o s el ec ti ve ly g en er at e p la us ib le p la ns f or a ch ie vi ng i t . Th is k in d o f
g oa l-d ir ec te d r ea so ni ng o r p la nn in g s om et im es e li mi na te s c om bi na to ri al s ea rc h a lt og et he r .
Da vi d Wi lk in s’ (1980) PARADISE i s t he o nl y p ro gr am t o h av e u se d g oa l-d ir ec te d r ea so ni ng
s uc ce ss fu ll y i n c he ss: i t w as c ap ab le o f s ol vi ng s om e c he ss p ro bl em s r eq ui ri ng a n 18-m ov e
c om bi na ti on . As y et t he re i s n o g oo d u nd er st an di ng o f h ow t o c om bi ne t he t wo k in ds o f
"a lg or it hm s i nt o a r ob us t a nd e ff ic ie nt s ys te m , a lt ho ug h Br id ge Ba ro n m ig ht b e a s te p i n t he"
r ig ht d ir ec ti on . A f ul ly i nt eg ra te d s ys te m w ou ld b e a s ig ni fi ca nt a ch ie ve me nt n ot j us t f or
"g am e-p la yi ng r es ea rc h b ut a ls o f or AI r es ea rc h i n g en er al , b ec au se i t w ou ld b e a g oo d b as is"
f or ag en er al in te ll ig en t a ge nt .
5.9 SUMMARY
We h av e l oo ke d a t a v ar ie ty o f g am es t o u nd er st an d w ha t o pt im al p la y m ea ns a nd t o u nd er-
s ta nd ho wt op la yw el li np ra ct ic e . Th em os ti mp or ta nt i de as ar ea sf ol lo ws:
"• A g am e c an b e d ef in ed b y t he i ni ti al s ta te (h ow t he b oa rd i s s et u p), t he l eg al a ct io ns"
"i n e ac h s ta te , t he r es ul t o f e ac h a ct io n , a t er mi na l t es t (w hi ch s ay s w he n t he g am e i s"
"o ve r),a nd au ti li ty fu nc ti on th at ap pl ie s t ot er mi na ls ta te s ."
"• In t wo-p la ye r z er o-s um g am es w it h p er fe ct i nf or ma ti on , t he m in im ax a lg or it hm c an"
s el ec to pt im al mo ve sb ya de pt h-f ir st en um er at io n o ft he ga me tr ee .
"• Th e a lp ha–b et a s ea rc h a lg or it hm c om pu te s t he s am e o pt im al m ov e a s m in im ax , b ut"
a ch ie ve sm uc hg re at er ef fi ci en cy by el im in at in g s ub tr ee st ha ta re pr ov ab ly ir re le va nt .
"• Us ua ll y ,i ti sn ot fe as ib le to co ns id er th ew ho le ga me tr ee(e ve nw it ha lp ha–b et a),s ow e"
6
CONSTRAINT
SATISFACTION PROBLEMS
In wh ic hw es ee ho wt re at in gs ta te sa sm or et ha nj us tl it tl eb la ck bo xe sl ea ds to th e
i nv en ti on of ar an ge of po we rf ul ne ws ea rc hm et ho ds an da de ep er un de rs ta nd in g
o fp ro bl em s tr uc tu re an dc om pl ex it y .
Ch ap te rs 3 a nd 4 e xp lo re d t he i de a t ha t p ro bl em s c an b e s ol ve d b y s ea rc hi ng i n a s pa ce o f
s ta te s . Th es es ta te sc an be ev al ua te d b yd om ai n-s pe ci fi c h eu ri st ic s a nd te st ed to se ew he th er
"t he y a re g oa l s ta te s . Fr om t he p oi nt o f v ie w o f t he s ea rc h a lg or it hm , h ow ev er , e ac h s ta te i s"
"a to mi c ,o ri nd iv is ib le—a b la ck bo xw it hn oi nt er na ls tr uc tu re ."
Th is c ha pt er d es cr ib es a wa y t o s ol ve a w id e v ar ie ty o f p ro bl em s m or e e ff ic ie nt ly . We
"u se a f ac to re d r ep re se nt at io n f or e ac h s ta te: a s et o f v ar ia bl es , e ac h o f w hi ch h as a v al ue ."
A p ro bl em i s s ol ve d w he n e ac h v ar ia bl e h as a v al ue t ha t s at is fi es a ll t he c on st ra in ts o n t he
CONSTRAINT
"v ar ia bl e . Ap ro bl em d es cr ib ed t hi sw ay is ca ll ed a c on st ra in ts at is fa ct io n p ro bl em ,o r CSP ."
SATISFACTION
PROBLEM
CSPs ea rc ha lg or it hm st ak ea dv an ta ge of th es tr uc tu re of st at es an du se ge ne ra l-p ur po se
r at he rt ha np ro bl em-s pe ci fi c h eu ri st ic st oe na bl et he so lu ti on of co mp le xp ro bl em s . Th em ai n
i de ai st oe li mi na te la rg ep or ti on so ft he se ar ch sp ac ea ll at on ce by id en ti fy in gv ar ia bl e/v al ue
c om bi na ti on s t ha tv io la te th ec on st ra in ts .
6.1 DEFINING CONSTRAINT SATISFACTION PROBLEMS
"Ac on st ra in t s at is fa ct io n p ro bl em co ns is ts o ft hr ee co mp on en ts , X ,D ,a nd C:"
"X i sa se to fv ar ia bl es , {X ,...,X }."
1 n
"Di sa se to fd om ai ns ,{D ,...,D },o ne fo re ac hv ar ia bl e ."
1 n
C i sa se to fc on st ra in ts t ha ts pe ci fy al lo wa bl ec om bi na ti on s o fv al ue s .
"Ea ch d om ai n D c on si st s o f a s et o f a ll ow ab le v al ue s , {v ,...,v } f or v ar ia bl e X . Ea ch"
i 1 k i
"c on st ra in t C c on si st so fa pa ir(c id:16)s co pe ,r el(c id:17),w he re sc op e i sa tu pl eo fv ar ia bl es th at pa rt ic ip at e"
i
i nt he co ns tr ai nt an dr el i sa re la ti on th at de fi ne st he va lu es th at th os ev ar ia bl es ca nt ak eo n . A
"r el at io nc an be re pr es en te d a sa ne xp li ci tl is to fa ll tu pl es o fv al ue st ha ts at is fy th ec on st ra in t ,"
o r a s a n a bs tr ac t r el at io n t ha t s up po rt s t wo o pe ra ti on s: t es ti ng i f a t up le i s a m em be r o f t he
"r el at io n a nd en um er at in g t he me mb er so ft he re la ti on . Fo re xa mp le , i f X a nd X b ot hh av e"
1 2
202
Se ct io n 6.1. De fi ni ng Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms 203
"t he d om ai n {A ,B}, t he n t he c on st ra in t s ay in g t he t wo v ar ia bl es m us t h av e d if fe re nt v al ue s"
"c an be wr it te na s(c id:16)(X ,X ),[(A ,B),(B ,A)](c id:17) o ra s(c id:16)(X ,X ),X (c id:7)= X (c id:17)."
1 2 1 2 1 2
"To s ol ve a CSP , w e n ee d t o d ef in e a s ta te s pa ce a nd t he n ot io n o f a s ol ut io n . Ea ch"
"s ta te i n a CSP i s d ef in ed b y a n a ss ig nm en t o f v al ue s t o s om e o r a ll o f t he v ar ia bl es , {X ="
ASSIGNMENT i
"v ,X = v ,...}. An as si gn me nt t ha t d oe s n ot v io la te a ny co ns tr ai nt s i sc al le d a co ns is te nt"
CONSISTENT i j j
"COMPLETE o rl eg al as si gn me nt . Ac om pl et ea ss ig nm en ti so ne in wh ic he ve ry va ri ab le i sa ss ig ne d , a nd"
ASSIGNMENT
"a s ol ut io n t o a CSP i s a c on si st en t , c om pl et e a ss ig nm en t . A p ar ti al a ss ig nm en t i s o ne t ha t"
SOLUTION
PARTIAL a ss ig ns va lu es to on ly so me of th ev ar ia bl es .
ASSIGNMENT
6.1.1 Ex am pl ep ro bl em: Ma pc ol or in g
"Su pp os e t ha t , h av in g t ir ed o f Ro ma ni a , w e a re l oo ki ng a t a m ap o f Au st ra li a s ho wi ng e ac h"
o f i ts s ta te s a nd t er ri to ri es (Fi gu re 6.1(a)). We a re g iv en t he t as k o f c ol or in g e ac h r eg io n
"e it he r r ed , g re en , o rb lu e i n s uc h a wa y t ha t n o n ei gh bo ri ng r eg io ns h av e t he s am ec ol or . To"
"f or mu la te th is as a CSP ,w ed ef in et he va ri ab le s t ob et he re gi on s"
"X = {WA ,NT ,Q ,NSW ,V ,SA ,T}."
"Th e d om ai n o f e ac h v ar ia bl e i s t he s et D = {r ed ,g re en ,b lu e}. Th e c on st ra in ts r eq ui re"
i
"n ei gh bo ri ng r eg io ns to ha ve di st in ct co lo rs . Si nc et he re ar en in ep la ce sw he re re gi on sb or de r ,"
t he re ar en in ec on st ra in ts:
"C = {SA (c id:7)= WA ,SA (c id:7)= NT ,SA (c id:7)= Q ,SA (c id:7)= NSW ,SA (c id:7)= V ,"
"WA (c id:7)= NT ,NT (c id:7)= Q ,Q(c id:7)= NSW ,NSW (c id:7)= V}."
"He re we ar eu si ng ab br ev ia ti on s ; SA (c id:7)= WAi sa sh or tc ut fo r(c id:16)(SA ,WA),SA (c id:7)= WA(c id:17),w he re"
SA (c id:7)= WAc an be fu ll ye nu me ra te d i nt ur na s
"{(r ed ,g re en),(r ed ,b lu e),(g re en ,r ed),(g re en ,b lu e),(b lu e ,r ed),(b lu e ,g re en)}."
"Th er ea re ma ny po ss ib le s ol ut io ns t ot hi sp ro bl em , s uc ha s"
"{WA=r ed ,NT =g re en ,Q=r ed ,NSW =g re en ,V =r ed ,SA=b lu e ,T =r ed }."
"It c an b e h el pf ul t o v is ua li ze a CSP a s a c on st ra in t g ra ph , a s s ho wn i n Fi gu re 6.1(b). Th e"
CONSTRAINTGRAPH
"n od es o ft he gr ap h c or re sp on d t ov ar ia bl es o ft he pr ob le m , a nd al in k c on ne ct s a ny tw ov ar i-"
a bl es th at pa rt ic ip at e i na co ns tr ai nt .
Wh y f or mu la te a p ro bl em a s a CSP ? On e r ea so n i s t ha t t he CSPs y ie ld a n at ur al r ep-
"r es en ta ti on f or a w id e v ar ie ty o f p ro bl em s ; i f y ou a lr ea dy h av e a CSP-s ol vi ng s ys te m , i t i s"
o ft en ea si er to so lv ea pr ob le mu si ng it th an to de si gn ac us to ms ol ut io nu si ng an ot he rs ea rc h
"t ec hn iq ue . In ad di ti on , CSPs ol ve rs ca nb ef as te rt ha ns ta te-s pa ce s ea rc he rs b ec au se t he CSP"
"s ol ve r c an qu ic kl y e li mi na te l ar ge s wa tc he s o ft he s ea rc h s pa ce . Fo re xa mp le , o nc e w eh av e"
"c ho se n{SA=b lu e}i nt he Au st ra li ap ro bl em ,w ec an co nc lu de th at no ne of th ef iv en ei gh bo r-"
"i ng va ri ab le sc an ta ke on th ev al ue bl ue . Wi th ou tt ak in ga dv an ta ge of co ns tr ai nt pr op ag at io n ,"
a s ea rc h p ro ce du re w ou ld h av e t o c on si de r 35=243 a ss ig nm en ts f or t he f iv e n ei gh bo ri ng
"v ar ia bl es ; w it hc on st ra in t p ro pa ga ti on w en ev er ha ve to co ns id er b lu e a sa va lu e , s ow eh av e"
"o nl y 25=32 a ss ig nm en ts t ol oo ka t ,a re du ct io n o f 87%."
In r eg ul ar s ta te-s pa ce s ea rc h w e c an o nl y a sk: i s t hi s s pe ci fi c s ta te a g oa l ? No ? Wh at
"a bo ut th is on e ? Wi th CSPs ,o nc ew ef in do ut th at ap ar ti al as si gn me nt is no ta so lu ti on ,w ec an"
204 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
NT
Q
WA
No rt he rn
Te rr it or y
Qu ee ns la nd
We st er n SA NSW
Au st ra li a
So ut h
Au st ra li a Ne w
So ut h V
Wa le s
Vi ct or ia
T
Ta sm an ia
(a) (b)
Fi gu re 6.1 (a) Th e p ri nc ip al s ta te s a nd t er ri to ri es o f Au st ra li a . Co lo ri ng t hi s m ap c an
b e v ie we d a s a c on st ra in t s at is fa ct io n p ro bl em (CSP). Th e g oa l i s t o a ss ig n c ol or s t o e ac h
r eg io ns o t ha t n o n ei gh bo ri ng re gi on sh av e t he s am e c ol or . (b) Th e m ap-c ol or in gp ro bl em
r ep re se nt ed as ac on st ra in tg ra ph .
"i mm ed ia te ly d is ca rd f ur th er r ef in em en ts o f t he p ar ti al a ss ig nm en t . Fu rt he rm or e , w e c an s ee"
w hy th ea ss ig nm en ti sn ot as ol ut io n—w es ee wh ic hv ar ia bl es vi ol at ea co ns tr ai nt—s ow ec an
"f oc us a tt en ti on o n t he v ar ia bl es t ha t m at te r . As a r es ul t , m an y p ro bl em s t ha t a re i nt ra ct ab le"
f or re gu la rs ta te-s pa ce s ea rc hc an be so lv ed qu ic kl y w he nf or mu la te d a sa CSP .
6.1.2 Ex am pl ep ro bl em: Jo b-s ho ps ch ed ul in g
"Fa ct or ie sh av et he pr ob le mo fs ch ed ul in ga da y’s wo rt ho fj ob s ,s ub je ct to va ri ou sc on st ra in ts ."
"In pr ac ti ce ,m an yo ft he se pr ob le ms ar es ol ve dw it h CSPt ec hn iq ue s . Co ns id er th ep ro bl em of"
"s ch ed ul in gt he as se mb ly of ac ar . Th ew ho le jo bi sc om po se do ft as ks ,a nd we ca nm od el ea ch"
"t as k a s a va ri ab le , w he re t he v al ue o f e ac h v ar ia bl e i st he t im e t ha t t he t as k s ta rt s , e xp re ss ed"
a s a n i nt eg er n um be r o f m in ut es . Co ns tr ai nt s c an a ss er t t ha t o ne t as k m us t o cc ur b ef or e
"a no th er—f or e xa mp le , a wh ee l m us t b ei ns ta ll ed b ef or e t he h ub ca p i sp ut o n—a nd t ha t o nl y"
s o m an y t as ks c an g o o n a t o nc e . Co ns tr ai nt s c an a ls o s pe ci fy t ha t a t as k t ak es a c er ta in
a mo un to ft im et oc om pl et e .
"We co ns id er as ma ll pa rt of th ec ar as se mb ly , c on si st in g o f 15 t as ks: i ns ta ll ax le s(f ro nt"
"a nd b ac k), a ff ix a ll f ou r w he el s (r ig ht a nd l ef t , f ro nt a nd b ac k), t ig ht en n ut s f or e ac h w he el ,"
"a ff ix hu bc ap s , a nd in sp ec t t he fi na la ss em bl y . We ca nr ep re se nt t he ta sk sw it h 15 v ar ia bl es:"
"X = {Ax le ,Ax le ,Wh ee l ,Wh ee l ,Wh ee l ,Wh ee l ,Nu ts ,"
F B RF LF RB LB RF
"Nu ts ,Nu ts ,Nu ts ,Ca p ,Ca p ,Ca p ,Ca p ,In sp ec t}."
LF RB LB RF LF RB LB
Th e v al ue o f e ac h v ar ia bl e i s t he t im e t ha t t he t as k s ta rt s . Ne xt w e r ep re se nt p re ce de nc e
"PRECEDENCE c on st ra in ts b et we en i nd iv id ua l t as ks . Wh en ev er a t as k T m us t o cc ur b ef or e t as k T , a nd"
CONSTRAINTS 1 2
"t as k T t ak es du ra ti on d t oc om pl et e ,w ea dd an ar it hm et ic co ns tr ai nt o ft he fo rm"
1 1
T +d ≤ T .
1 1 2
Se ct io n 6.1. De fi ni ng Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms 205
"In o ur e xa mp le , t he a xl es h av e t o b e i n p la ce b ef or e t he w he el s a re p ut o n , a nd i t t ak es 10"
"m in ut es to in st al la na xl e ,s ow ew ri te"
Ax le +10 ≤ Wh ee l ; Ax le +10 ≤Wh ee l ;
F RF F LF
Ax le +10 ≤ Wh ee l ; Ax le +10 ≤ Wh ee l .
B RB B LB
"Ne xt we sa yt ha t ,f or ea ch wh ee l ,w em us ta ff ix th ew he el(w hi ch ta ke s 1 m in ut e),t he nt ig ht en"
"t he nu ts(2 m in ut es),a nd fi na ll ya tt ac ht he hu bc ap(1 m in ut e ,b ut no tr ep re se nt ed y et):"
Wh ee l +1 ≤ Nu ts ; Nu ts +2 ≤ Ca p ;
RF RF RF RF
Wh ee l +1≤ Nu ts ; Nu ts +2 ≤ Ca p ;
LF LF LF LF
Wh ee l +1 ≤ Nu ts ; Nu ts +2 ≤ Ca p ;
RB RB RB RB
Wh ee l +1 ≤Nu ts ; Nu ts +2≤ Ca p .
LB LB LB LB
"Su pp os ew eh av ef ou rw or ke rs to in st al lw he el s ,b ut th ey ha ve to sh ar eo ne to ol th at he lp sp ut"
DISJUNCTIVE t he a xl e i n p la ce . We n ee d a d is ju nc ti ve c on st ra in t t o s ay t ha t Ax le a nd Ax le m us t n ot
CONSTRAINT F B
o ve rl ap in ti me ;e it he ro ne co me sf ir st or th eo th er do es:
(Ax le +10 ≤ Ax le ) o r (Ax le +10 ≤ Ax le ).
F B B F
"Th is l oo ks l ik e a m or e c om pl ic at ed c on st ra in t , c om bi ni ng a ri th me ti c a nd l og ic . Bu t i t s ti ll"
r ed uc es to as et of pa ir so fv al ue st ha t Ax le a nd Ax le c an ta ke on .
F F
We a ls o n ee d t o a ss er t t ha t t he i ns pe ct io n c om es l as t a nd t ak es 3 m in ut es . Fo r e ve ry
"v ar ia bl ee xc ep t In sp ec t w ea dd ac on st ra in to ft he fo rm X+d ≤ In sp ec t . Fi na ll y ,s up po se"
X
t he re is ar eq ui re me nt t og et th ew ho le as se mb ly d on ei n 30 m in ut es . We ca na ch ie ve th at by
l im it in gt he do ma in of al lv ar ia bl es:
"D = {1,2,3,...,27}."
i
"Th is p ar ti cu la r p ro bl em i s t ri vi al t o s ol ve , b ut CSPs h av e b ee n a pp li ed t o j ob-s ho p s ch ed ul-"
"i ng p ro bl em s l ik e t hi s w it h t ho us an ds o f v ar ia bl es . In s om e c as es , t he re a re c om pl ic at ed"
"c on st ra in ts t ha t a re d if fi cu lt t o s pe ci fy i n t he CSP f or ma li sm , a nd m or e a dv an ce d p la nn in g"
"t ec hn iq ue s a re us ed ,a sd is cu ss ed i n Ch ap te r 11."
6.1.3 Va ri at io ns on th e CSP f or ma li sm
"Th e s im pl es t k in d o f CSP i nv ol ve s v ar ia bl es t ha t h av e d is cr et e , f in it e d om ai ns . Ma p-"
DISCRETEDOMAIN
c ol or in g p ro bl em s a nd sc he du li ng w it ht im el im it sa re bo th of th is ki nd . Th e 8-q ue en s p ro b-
FINITEDOMAIN
"l em d es cr ib ed i n Ch ap te r 3 c an a ls o b e v ie we d a s a f in it e-d om ai n CSP , w he re t he v ar ia bl es"
"Q ,...,Q a re t he p os it io ns o f e ac h q ue en i n c ol um ns 1,...,8 a nd e ac h v ar ia bl e h as t he"
1 8
"d om ai n D = {1,2,3,4,5,6,7,8}."
i
"Ad is cr et ed om ai nc an be in fi ni te ,s uc ha st he se to fi nt eg er so rs tr in gs . (If we di dn’t pu t"
INFINITE
"a d ea dl in e o n t he j ob-s ch ed ul in g p ro bl em , t he re w ou ld b e a n i nf in it e n um be r o f s ta rt t im es"
"f or e ac h v ar ia bl e .) Wi th i nf in it e d om ai ns , i t i s n o l on ge r p os si bl e t o d es cr ib e c on st ra in ts b y"
"CONSTRAINT e nu me ra ti ng a ll a ll ow ed c om bi na ti on s o f v al ue s . In st ea d , a c on st ra in t l an gu ag e m us t b e"
LANGUAGE
"u se d t ha t u nd er st an ds c on st ra in ts s uc h a s T + d ≤ T d ir ec tl y , w it ho ut e nu me ra ti ng t he"
1 1 2
"s et o f p ai rs o f a ll ow ab le v al ue s f or (T ,T ). Sp ec ia l s ol ut io n a lg or it hm s (w hi ch w e d o n ot"
1 2
"LINEAR d is cu ss h er e) e xi st f or l in ea r c on st ra in ts o n i nt eg er v ar ia bl es—t ha t i s , c on st ra in ts , s uc h a s"
CONSTRAINTS
"t he o ne j us t g iv en , i n w hi ch e ac h v ar ia bl e a pp ea rs o nl y i n l in ea r f or m . It c an b e s ho wn t ha t"
NONLINEAR n oa lg or it hm e xi st sf or so lv in g g en er al n on li ne ar co ns tr ai nt so ni nt eg er va ri ab le s .
CONSTRAINTS
206 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
CONTINUOUS Co ns tr ai nt s at is fa ct io n p ro bl em s w it h c on ti nu ou s d om ai ns a re c om mo n i n t he r ea l
DOMAINS
"w or ld an da re wi de ly st ud ie di nt he fi el do fo pe ra ti on s r es ea rc h . Fo re xa mp le ,t he sc he du li ng"
o fe xp er im en ts o n t he Hu bb le Sp ac e Te le sc op e r eq ui re s v er y p re ci se t im in go fo bs er va ti on s ;
t he s ta rt a nd f in is h o f e ac h o bs er va ti on a nd m an eu ve r a re c on ti nu ou s-v al ue d v ar ia bl es t ha t
"m us t o be y a v ar ie ty o f a st ro no mi ca l , p re ce de nc e , a nd p ow er c on st ra in ts . Th e b es t-k no wn"
"c at eg or y o f c on ti nu ou s-d om ai n CSPs i s t ha t o f l in ea r p ro gr am mi ng p ro bl em s , w he re c on-"
s tr ai nt sm us tb el in ea re qu al it ie so ri ne qu al it ie s . Li ne ar pr og ra mm in gp ro bl em sc an be so lv ed
i n t im e p ol yn om ia l i n t he n um be r o f v ar ia bl es . Pr ob le ms w it h d if fe re nt t yp es o f c on st ra in ts
"a nd ob je ct iv ef un ct io ns h av ea ls ob ee ns tu di ed—q ua dr at ic p ro gr am mi ng , s ec on d-o rd er c on ic"
"p ro gr am mi ng , a nd so on ."
"In a dd it io n t o e xa mi ni ng t he t yp es o f v ar ia bl es t ha t c an a pp ea r i n CSPs , i t i s u se fu l t o"
"l oo k a t t he t yp es o f c on st ra in ts . Th e s im pl es t t yp e i s t he u na ry c on st ra in t , w hi ch r es tr ic ts"
UNARYCONSTRAINT
"t he va lu eo fa si ng le va ri ab le . Fo re xa mp le ,i nt he ma p-c ol or in g p ro bl em i tc ou ld be th ec as e"
t ha t So ut h Au st ra li an s w on’t t ol er at e t he c ol or g re en ; w e c an e xp re ss t ha t w it h t he u na ry
"c on st ra in t (c id:16)(SA),SA (c id:7)= g re en(c id:17)"
"A b in ar y c on st ra in t r el at es t wo v ar ia bl es . Fo r e xa mp le , SA (c id:7)= NSW i s a b in ar y"
BINARYCONSTRAINT
c on st ra in t . A b in ar y CSP i s o ne w it h o nl y b in ar y c on st ra in ts ; i t c an b e r ep re se nt ed a s a
"c on st ra in t g ra ph , a si n Fi gu re 6.1(b)."
"We c an a ls o d es cr ib e h ig he r-o rd er c on st ra in ts , s uc h a s a ss er ti ng t ha t t he v al ue o f Y i s"
"b et we en X a nd Z ,w it ht he te rn ar yc on st ra in t Be tw ee n(X ,Y ,Z)."
GLOBAL A c on st ra in t i nv ol vi ng a n a rb it ra ry n um be r o f v ar ia bl es i s c al le d a g lo ba l c on st ra in t .
CONSTRAINT
(Th en am ei st ra di ti on al b ut co nf us in g b ec au se it ne ed no ti nv ol ve al lt he va ri ab le si na pr ob-
"l em). On e o f t he m os t c om mo n g lo ba l c on st ra in ts i s Al ld if f , w hi ch s ay s t ha t a ll o f t he"
v ar ia bl es i nv ol ve d i n t he c on st ra in t m us t h av e d if fe re nt v al ue s . In Su do ku p ro bl em s (s ee
"Se ct io n 6.2.6), a ll v ar ia bl es i n a r ow o r c ol um n m us t s at is fy a n Al ld if f c on st ra in t . An-"
o th er e xa mp le i sp ro vi de d b y c ry pt ar it hm et ic p uz zl es . (Se e Fi gu re 6.2(a).) Ea ch l et te r i n a
CRYPTARITHMETIC
"c ry pt ar it hm et ic p uz zl e r ep re se nt s a d if fe re nt d ig it . Fo r t he c as e i n Fi gu re 6.2(a), t hi s w ou ld"
"b e r ep re se nt ed a s t he g lo ba l c on st ra in t Al ld if f(F ,T ,U ,W ,R ,O). Th e a dd it io n c on st ra in ts"
o nt he fo ur co lu mn so ft he pu zz le ca nb ew ri tt en as th ef ol lo wi ng n-a ry co ns tr ai nt s:
O+O = R+10·C
10
C +W +W = U +10·C
10 100
C +T +T = O+10·C
100 1000
"C = F ,"
1000
"w he re C ,C ,a nd C a re au xi li ar yv ar ia bl es re pr es en ti ng th ed ig it ca rr ie do ve ri nt ot he"
10 100 1000
"t en s , h un dr ed s , o r t ho us an ds c ol um n . Th es e c on st ra in ts c an b e r ep re se nt ed i n a c on st ra in t"
"CONSTRAINT h yp er gr ap h ,s uc ha st he on es ho wn in Fi gu re 6.2(b). Ah yp er gr ap hc on si st so fo rd in ar yn od es"
HYPERGRAPH
"(t he ci rc le si nt he fi gu re)a nd hy pe rn od es (t he sq ua re s), w hi ch re pr es en t n-a ry co ns tr ai nt s ."
"Al te rn at iv el y , a s Ex er ci se 6.6 a sk s y ou t o p ro ve , e ve ry f in it e-d om ai n c on st ra in t c an b e"
"r ed uc ed to as et of bi na ry co ns tr ai nt si fe no ug ha ux il ia ry va ri ab le sa re in tr od uc ed ,s ow ec ou ld"
t ra ns fo rm a ny CSPi nt o o ne w it ho nl y b in ar y c on st ra in ts ; t hi sm ak es t he a lg or it hm s s im pl er .
An ot he rw ay to co nv er ta nn-a ry CSPt oa bi na ry on ei st he du al gr ap ht ra ns fo rm at io n: c re at e
DUALGRAPH
"a ne wg ra ph in wh ic ht he re wi ll be on ev ar ia bl ef or ea ch co ns tr ai nt i nt he or ig in al g ra ph , a nd"
Se ct io n 6.1. De fi ni ng Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms 207
T W O F T U W R O
+ T W O
F O U R
C C C
3 2 1
(a) (b)
Fi gu re 6.2 (a)Ac ry pt ar it hm et ic pr ob le m .Ea ch le tt er st an ds fo ra di st in ct di gi t ;t he ai mi s
"t of in da su bs ti tu ti on of di gi ts fo rl et te rs su ch th at th er es ul ti ng su mi sa ri th me ti ca ll yc or re ct ,"
w it ht he ad de dr es tr ic ti on th at no le ad in gz er oe sa re al lo we d . (b)Th ec on st ra in th yp er gr ap h
"f or t he c ry pt ar it hm et ic p ro bl em , s ho wi ng t he Al ld if f c on st ra in t (s qu ar e b ox a t t he t op) a s"
"w el la st he co lu mn ad di ti on co ns tr ai nt s(f ou rs qu ar eb ox es in th em id dl e). Th ev ar ia bl es C ,"
1
"C ,a nd C r ep re se nt th ec ar ry di gi ts fo rt he th re ec ol um ns ."
2 3
o ne bi na ry co ns tr ai nt fo re ac hp ai ro fc on st ra in ts in th eo ri gi na lg ra ph th at sh ar ev ar ia bl es . Fo r
"e xa mp le , i f t he o ri gi na l g ra ph h as v ar ia bl es {X ,Y ,Z} a nd c on st ra in ts (c id:16)(X ,Y ,Z),C (c id:17) a nd"
1
"(c id:16)(X ,Y),C (c id:17) t he n t he d ua l g ra ph w ou ld h av e v ar ia bl es {C ,C } w it h t he b in ar y c on st ra in t"
2 1 2
"(c id:16)(X ,Y),R (c id:17),w he re(X ,Y)a re th es ha re dv ar ia bl es an d R i sa ne wr el at io nt ha td ef in es th e"
1 1
"c on st ra in t b et we en th es ha re dv ar ia bl es , a ss pe ci fi ed by th e o ri gi na l C a nd C ."
1 2
Th er ea re ho we ve rt wo re as on sw hy we mi gh tp re fe ra gl ob al co ns tr ai nt su ch as Al ld if f
"r at he r t ha n a s et o f b in ar y c on st ra in ts . Fi rs t , i t i s e as ie r a nd l es s e rr or-p ro ne t o w ri te t he"
"p ro bl em d es cr ip ti on u si ng Al ld if f . Se co nd ,i ti sp os si bl e t od es ig ns pe ci al-p ur po se i nf er en ce"
a lg or it hm sf or gl ob al co ns tr ai nt st ha ta re no ta va il ab le fo ra se to fm or ep ri mi ti ve co ns tr ai nt s .
We de sc ri be th es ei nf er en ce a lg or it hm si n Se ct io n 6.2.5.
"Th ec on st ra in ts we ha ve de sc ri be ds of ar ha ve al lb ee na bs ol ut ec on st ra in ts , v io la ti on of"
PREFERENCE w hi ch r ul es o ut a po te nt ia l s ol ut io n . Ma ny r ea l-w or ld CSPs in cl ud e p re fe re nc e c on st ra in ts
CONSTRAINTS
"i nd ic at in g w hi ch so lu ti on s a re pr ef er re d . Fo re xa mp le ,i na u ni ve rs it y c la ss-s ch ed ul in g p ro b-"
l em t he re a re a bs ol ut e c on st ra in ts t ha t n o p ro fe ss or c an t ea ch t wo c la ss es a t t he s am e t im e .
"Bu tw ea ls om ay al lo wp re fe re nc e c on st ra in ts: Pr of .Rm ig ht pr ef er te ac hi ng i nt he mo rn in g ,"
w he re as Pr of . N p re fe rs t ea ch in g i n t he a ft er no on . A s ch ed ul e t ha t h as Pr of . R t ea ch in g a t
2 p .m .w ou ld st il lb ea na ll ow ab le so lu ti on(u nl es s Pr of .Rh ap pe ns to be th ed ep ar tm en tc ha ir)
b ut wo ul dn ot be an op ti ma lo ne . Pr ef er en ce c on st ra in ts c an of te nb ee nc od ed a sc os ts on in-
"d iv id ua l v ar ia bl e a ss ig nm en ts—f or e xa mp le , a ss ig ni ng a n a ft er no on s lo t f or Pr of . R c os ts"
"2 p oi nt s a ga in st t he o ve ra ll o bj ec ti ve f un ct io n , w he re as a m or ni ng s lo t c os ts 1. Wi th t hi s"
"f or mu la ti on , CSPs w it h p re fe re nc es c an b e s ol ve d w it h o pt im iz at io n s ea rc h m et ho ds , e it he r"
CONSTRAINT
"p at h-b as ed o r l oc al . We c al l s uc h a p ro bl em a c on st ra in t o pt im iz at io n p ro bl em , o r COP ."
OPTIMIZATION
PROBLEM
Li ne ar pr og ra mm in g p ro bl em sd ot hi sk in do fo pt im iz at io n .
208 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
6.2 CONSTRAINT PROPAGATION: INFERENCE IN CSPS
"In re gu la r s ta te-s pa ce s ea rc h , a na lg or it hm c an d oo nl y o ne t hi ng: s ea rc h . In CSPs th er e i s a"
c ho ic e: a na lg or it hm ca ns ea rc h(c ho os ea ne wv ar ia bl ea ss ig nm en tf ro ms ev er al po ss ib il it ie s)
o r d o a s pe ci fi c t yp e o f i nf er en ce c al le d c on st ra in t p ro pa ga ti on: u si ng t he c on st ra in ts t o
INFERENCE
"CONSTRAINT r ed uc e t he n um be r o f l eg al v al ue s f or a v ar ia bl e , w hi ch i n t ur n c an r ed uc e t he l eg al v al ue s"
PROPAGATION
"f or an ot he rv ar ia bl e , a nd so on . Co ns tr ai nt p ro pa ga ti on m ay b ei nt er tw in ed w it hs ea rc h , o ri t"
"m ay be do ne as ap re pr oc es si ng s te p , b ef or e s ea rc hs ta rt s . So me ti me st hi sp re pr oc es si ng c an"
"s ol ve th ew ho le pr ob le m ,s on os ea rc hi sr eq ui re d a ta ll ."
LOCAL Th e k ey i de a i s l oc al c on si st en cy . If w e t re at e ac h v ar ia bl e a s a n od e i n a g ra ph (s ee
CONSISTENCY
"Fi gu re 6.1(b)) a nd e ac h b in ar y c on st ra in t a s a n a rc , t he n t he p ro ce ss o f e nf or ci ng l oc al c on-"
s is te nc y i ne ac h p ar t o f t he g ra ph c au se s i nc on si st en t v al ue s t ob e e li mi na te d t hr ou gh ou t t he
"g ra ph . Th er ea re di ff er en t t yp es of lo ca lc on si st en cy , w hi ch we no wc ov er in tu rn ."
6.2.1 No de co ns is te nc y
A s in gl e v ar ia bl e (c or re sp on di ng t o a n od e i n t he CSP n et wo rk) i s n od e-c on si st en t i f a ll
NODECONSISTENCY
"t he v al ue s i n t he v ar ia bl e’s d om ai n s at is fy t he v ar ia bl e’s u na ry c on st ra in ts . Fo r e xa mp le ,"
i n t he v ar ia nt o f t he Au st ra li a m ap-c ol or in g p ro bl em (Fi gu re 6.1) w he re So ut h Au st ra li an s
"d is li ke g re en , t he v ar ia bl e SA s ta rt s w it h d om ai n {r ed ,g re en ,b lu e}, a nd w e c an m ak e i t"
"n od e c on si st en t b ye li mi na ti ng g re en ,l ea vi ng SAw it ht he r ed uc ed d om ai n {r ed ,b lu e}. We"
s ay th at an et wo rk is no de-c on si st en t i fe ve ry va ri ab le in th en et wo rk is no de-c on si st en t .
It i s a lw ay s p os si bl e t o e li mi na te a ll t he u na ry c on st ra in ts i n a CSP b y r un ni ng n od e
c on si st en cy . It i s a ls o p os si bl e t o t ra ns fo rm a ll n-a ry c on st ra in ts i nt o b in ar y o ne s (s ee Ex-
"e rc is e 6.6). Be ca us e o f t hi s , i t i s c om mo n t o d ef in e CSP s ol ve rs t ha t w or k w it h o nl y b in ar y"
"c on st ra in ts ; w em ak et ha ta ss um pt io n f or th er es to ft hi sc ha pt er , e xc ep tw he re no te d ."
6.2.2 Ar cc on si st en cy
A v ar ia bl e i n a CSP i s a rc-c on si st en t i f e ve ry v al ue i n i ts d om ai n s at is fi es t he v ar ia bl e’s
ARCCONSISTENCY
"b in ar yc on st ra in ts . Mo re fo rm al ly , X i sa rc-c on si st en t w it hr es pe ct to an ot he rv ar ia bl e X i f"
i j
f or ev er y v al ue i n t he c ur re nt d om ai n D t he re i s s om e v al ue i n t he d om ai n D t ha t s at is fi es
i j
"t he bi na ry c on st ra in t o nt he ar c (X ,X ). An et wo rk is ar c-c on si st en t i fe ve ry va ri ab le i sa rc"
i j
"c on si st en tw it he ve ry ot he rv ar ia bl e . Fo re xa mp le ,c on si de rt he co ns tr ai nt Y =X 2 w he re th e"
d om ai no fb ot h X a nd Y i st he se to fd ig it s . We ca nw ri te th is co ns tr ai nt e xp li ci tl y a s
"(c id:16)(X ,Y),{(0,0),(1,1),(2,4),(3,9))}(c id:17) ."
"To m ak e X a rc-c on si st en t w it h r es pe ct t o Y , w e r ed uc e X’s d om ai n t o {0,1,2,3}. If w e"
"a ls om ak e Y a rc-c on si st en t w it hr es pe ct t o X ,t he n Y’s do ma in be co me s {0,1,4,9} a nd th e"
w ho le CSPi sa rc-c on si st en t .
"On th eo th er ha nd ,a rc co ns is te nc y c an do no th in gf or th e Au st ra li am ap-c ol or in g p ro b-"
"l em . Co ns id er th ef ol lo wi ng in eq ua li ty c on st ra in t o n(SA ,WA):"
"{(r ed ,g re en),(r ed ,b lu e),(g re en ,r ed),(g re en ,b lu e),(b lu e ,r ed),(b lu e ,g re en)}."
Se ct io n 6.2. Co ns tr ai nt Pr op ag at io n: In fe re nc ei n CSPs 209
f un ct io n AC-3(c sp)r et ur ns fa ls ei fa ni nc on si st en cy is fo un da nd tr ue ot he rw is e
"i np ut s:c sp ,a bi na ry CSPw it hc om po ne nt s(X , D , C)"
"l oc al va ri ab le s: q ue ue ,a qu eu eo fa rc s ,i ni ti al ly al lt he ar cs in cs p"
w hi le qu eu e i sn ot em pt yd o
"(Xi , Xj)←REMOVE-FIRST(q ue ue)"
"i f REVISE(c sp ,Xi , Xj)t he n"
i fs iz eo f Di = 0 t he nr et ur nf al se
f or ea ch Xk i n Xi .NEIGHBORS-{Xj}d o
"a dd(Xk , Xi)t oq ue ue"
r et ur nt ru e
"f un ct io n REVISE(c sp ,Xi , Xj)r et ur ns tr ue if fw er ev is et he do ma in of Xi"
r ev is ed←f al se
f or ea ch x i n Di do
"i fn ov al ue yi n Dj a ll ow s(x ,y)t os at is fy th ec on st ra in tb et we en Xi an d Xj t he n"
d el et ex f ro m Di
r ev is ed←t ru e
r et ur nr ev is ed
"Fi gu re 6.3 Th e a rc-c on si st en cy a lg or it hm AC-3. Af te r a pp ly in g AC-3, e it he r e ve ry a rc"
"i sa rc-c on si st en t ,o rs om ev ar ia bl eh as an em pt yd om ai n ,i nd ic at in gt ha tt he CSP c an no tb e"
"s ol ve d . Th en am e“AC-3”w as us ed by th ea lg or it hm’s in ve nt or(Ma ck wo rt h ,1977)b ec au se"
i t’s th et hi rd ve rs io nd ev el op ed in th ep ap er .
"No m at te r w ha t v al ue y ou c ho os e f or SA (o r f or WA), t he re i s a v al id v al ue f or t he o th er"
v ar ia bl e . So ap pl yi ng a rc co ns is te nc y h as no ef fe ct on th ed om ai ns of ei th er va ri ab le .
Th e m os t p op ul ar a lg or it hm f or a rc c on si st en cy i s c al le d AC-3 (s ee Fi gu re 6.3). To
"m ak ee ve ry va ri ab le ar c-c on si st en t , t he AC-3 a lg or it hm ma in ta in sa qu eu eo fa rc st oc on si de r ."
"(Ac tu al ly , t he or de ro fc on si de ra ti on i sn ot im po rt an t , s ot he da ta st ru ct ur e i sr ea ll ya se t , b ut"
"t ra di ti on ca ll si ta qu eu e .) In it ia ll y ,t he qu eu ec on ta in sa ll th ea rc si nt he CSP .AC-3 t he np op s"
"o ff an ar bi tr ar ya rc (X ,X )f ro mt he qu eu ea nd ma ke s X a rc-c on si st en t w it hr es pe ct to X ."
i j i j
"If t hi s l ea ve s D u nc ha ng ed , t he a lg or it hm j us t m ov es o n t o t he n ex t a rc . Bu t i f t hi s r ev is es"
i
"D (m ak es t he d om ai n s ma ll er), t he n w e a dd t o t he q ue ue a ll a rc s (X ,X ) w he re X i s a"
i k i k
n ei gh bo ro f X . We ne ed to do th at be ca us et he ch an ge in D m ig ht en ab le fu rt he rr ed uc ti on s
i i
"i n t he d om ai ns o f D , e ve n i f w e h av e p re vi ou sl y c on si de re d X . If D i s r ev is ed d ow n t o"
k k i
"n ot hi ng , t he nw ek no wt he wh ol e CSPh as no co ns is te nt so lu ti on , a nd AC-3 c an im me di at el y"
"r et ur n f ai lu re . Ot he rw is e , w e k ee p c he ck in g , t ry in g t o r em ov e v al ue s f ro m t he d om ai ns o f"
"v ar ia bl es u nt il n o m or e a rc s a re i n t he q ue ue . At t ha t p oi nt , w e a re l ef t w it h a CSP t ha t i s"
e qu iv al en t t o t he o ri gi na l CSP—t he y b ot h h av e t he s am e s ol ut io ns—b ut t he a rc-c on si st en t
CSPw il li nm os tc as es be fa st er to se ar ch be ca us ei ts va ri ab le s h av es ma ll er do ma in s .
"Th e c om pl ex it y o f AC-3 c an b e a na ly ze d a s f ol lo ws . As su me a CSP w it h n v ar ia bl es ,"
"e ac hw it hd om ai ns iz ea tm os td ,a nd wi th cb in ar yc on st ra in ts (a rc s). Ea ch ar c (X ,X )c an"
k i
b e i ns er te d i n t he q ue ue o nl y d t im es b ec au se X h as a t m os t d v al ue s t o d el et e . Ch ec ki ng
i
210 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"c on si st en cy o fa na rc ca nb ed on ei n O(d 2)t im e ,s ow eg et O(c d 3)t ot al wo rs t-c as et im e .1"
It i s p os si bl e t o e xt en d t he n ot io n o f a rc c on si st en cy t o h an dl e n-a ry r at he r t ha n j us t
b in ar y c on st ra in ts ; t hi s i s c al le d g en er al iz ed a rc c on si st en cy o r s om et im es h yp er ar c c on si s-
"GENERALIZEDARC t en cy , d ep en di ng o nt he a ut ho r . A v ar ia bl e X i s g en er al iz ed a rc c on si st en t w it h r es pe ct t o"
CONSISTENT i
a nn-a ry co ns tr ai nt i ff or ev er yv al ue v i nt he do ma in of X t he re ex is ts at up le of va lu es th at
i
"i sa me mb er of th ec on st ra in t , h as al li ts va lu es t ak en fr om th ed om ai ns o ft he co rr es po nd in g"
"v ar ia bl es , a nd h as i ts X c om po ne nt e qu al t o v . Fo r e xa mp le , i f a ll v ar ia bl es h av e t he d o-"
i
"m ai n {0,1,2,3}, t he n t o m ak e t he v ar ia bl e X c on si st en t w it h t he c on st ra in t X < Y < Z ,"
w ew ou ld h av e t o e li mi na te 2 a nd 3 f ro m t he d om ai n o f X b ec au se t he c on st ra in t c an no t b e
s at is fi ed wh en X i s 2 o r 3.
6.2.3 Pa th co ns is te nc y
"Ar c c on si st en cy c an g o a l on g w ay t ow ar d r ed uc in g t he d om ai ns o f v ar ia bl es , s om et im es"
f in di ng a s ol ut io n (b y r ed uc in g e ve ry d om ai n t o s iz e 1) a nd s om et im es f in di ng t ha t t he CSP
"c an no tb es ol ve d(b yr ed uc in gs om ed om ai nt os iz e 0). Bu tf or ot he rn et wo rk s ,a rc co ns is te nc y"
"f ai ls t o m ak e e no ug h i nf er en ce s . Co ns id er t he m ap-c ol or in g p ro bl em o n Au st ra li a , b ut w it h"
"o nl yt wo co lo rs al lo we d ,r ed an db lu e . Ar cc on si st en cy ca nd on ot hi ng be ca us ee ve ry va ri ab le"
i sa lr ea dy ar cc on si st en t: e ac hc an be re dw it hb lu ea tt he ot he re nd of th ea rc(o rv ic ev er sa).
"Bu tc le ar ly th er ei sn os ol ut io nt ot he pr ob le m: b ec au se We st er n Au st ra li a ,No rt he rn Te rr it or y"
"a nd So ut h Au st ra li aa ll to uc he ac ho th er ,w en ee da tl ea st th re ec ol or sf or th em al on e ."
Ar c c on si st en cy t ig ht en s d ow n t he d om ai ns (u na ry c on st ra in ts) u si ng t he a rc s (b in ar y
"c on st ra in ts). To ma ke pr og re ss o np ro bl em s l ik e m ap co lo ri ng , w en ee d a st ro ng er n ot io n o f"
c on si st en cy . Pa th c on si st en cy t ig ht en s t he b in ar y c on st ra in ts b y u si ng i mp li ci t c on st ra in ts
PATHCONSISTENCY
t ha ta re in fe rr ed by lo ok in ga tt ri pl es of va ri ab le s .
"A t wo-v ar ia bl e s et {X ,X } i s p at h-c on si st en t w it h r es pe ct t o a t hi rd v ar ia bl e X i f ,"
i j m
"f or ev er ya ss ig nm en t {X = a ,X = b}c on si st en t w it ht he co ns tr ai nt s o n{X ,X },t he re is"
i j i j
"a na ss ig nm en tt o X t ha ts at is fi es th ec on st ra in ts on{X ,X }a nd{X ,X }. Th is is ca ll ed"
m i m m j
p at h c on si st en cy b ec au se o ne c an t hi nk o f i t a sl oo ki ng a t a pa th f ro m X t o X w it h X i n
i j m
t he mi dd le .
Le t’s se eh ow pa th co ns is te nc y f ar es in co lo ri ng t he Au st ra li am ap wi th tw oc ol or s . We
"w il lm ak et he se t{WA ,SA}p at hc on si st en tw it hr es pe ct to NT . We st ar tb ye nu me ra ti ng th e"
"c on si st en t a ss ig nm en ts t ot he se t . In th is c as e , t he re a re on ly t wo: {WA = r ed ,SA = b lu e}"
"a nd {WA = b lu e ,SA = r ed}. We c an s ee t ha t w it h b ot h o f t he se a ss ig nm en ts NT c an b e"
n ei th er r ed n or b lu e (b ec au se i t w ou ld c on fl ic t w it h e it he r WA o r SA). Be ca us e t he re i s n o
"v al id ch oi ce fo r NT ,w ee li mi na te bo th as si gn me nt s ,a nd we en du pw it hn ov al id as si gn me nt s"
"f or{WA ,SA}. Th er ef or e , w ek no w t ha t t he re c an be no so lu ti on t ot hi sp ro bl em . Th e PC-2"
"a lg or it hm (Ma ck wo rt h , 1977) a ch ie ve s p at h c on si st en cy i n m uc h t he s am e w ay t ha t AC-3"
"a ch ie ve sa rc co ns is te nc y . Be ca us ei ti ss os im il ar , w ed on ot s ho wi th er e ."
"1 Th e AC-4 a lg or it hm(Mo hr an d He nd er so n ,1986)r un si n O(c d 2)w or st-c as et im eb ut ca nb es lo we rt ha n AC-3"
o na ve ra ge ca se s .Se e Ex er ci se 6.13.
Se ct io n 6.2. Co ns tr ai nt Pr op ag at io n: In fe re nc ei n CSPs 211
6.2.4 K-c on si st en cy
St ro ng er f or ms o f p ro pa ga ti on c an b e d ef in ed w it h t he n ot io n o f k-c on si st en cy . A CSP i s
K-CONSISTENCY
"k-c on si st en t i f , f or a ny s et o f k − 1 v ar ia bl es a nd f or a ny c on si st en t a ss ig nm en t t o t ho se"
"v ar ia bl es , a c on si st en t v al ue c an a lw ay s b e a ss ig ne d t o a ny k th v ar ia bl e . 1-c on si st en cy s ay s"
"t ha t , g iv en t he e mp ty s et , w e c an m ak e a ny s et o f o ne v ar ia bl e c on si st en t: t hi s i s w ha t w e"
c al le d n od e c on si st en cy . 2-c on si st en cy i s t he s am e a s a rc c on si st en cy . Fo rb in ar y c on st ra in t
"n et wo rk s , 3-c on si st en cy i st he sa me as pa th co ns is te nc y ."
"STRONGLY A CSP i s s tr on gl y k-c on si st en t i f i t i s k-c on si st en t a nd i s a ls o (k − 1)-c on si st en t ,"
K-CONSISTENT
"(k −2)-c on si st en t , ... a ll t he w ay d ow n t o 1-c on si st en t . No w s up po se w e h av e a CSPw it h"
"n n od es a nd m ak e i t s tr on gl y n-c on si st en t (i .e ., s tr on gl y k-c on si st en t f or k=n). We c an"
"t he n s ol ve t he p ro bl em a s f ol lo ws: Fi rs t , w e c ho os e a c on si st en t v al ue f or X . We a re t he n"
1
"g ua ra nt ee d t o b e a bl e t o c ho os e a v al ue f or X b ec au se t he g ra ph i s 2-c on si st en t , f or X"
2 3
"b ec au se it is 3-c on si st en t , a nd so on . Fo re ac hv ar ia bl e X ,w en ee do nl ys ea rc ht hr ou gh th ed"
i
"v al ue si nt he do ma in to fi nd av al ue co ns is te nt w it h X 1,...,X i−1. We ar eg ua ra nt ee d t of in d"
"a s ol ut io n i n t im e O(n 2 d). Of co ur se , t he re i s n o f re e l un ch: a ny a lg or it hm f or e st ab li sh in g"
"n-c on si st en cy m us t t ak e t im e e xp on en ti al i n n i n t he w or st c as e . Wo rs e , n-c on si st en cy a ls o"
r eq ui re s s pa ce t ha ti se xp on en ti al i n n . Th em em or yi ss ue i se ve nm or es ev er et ha nt he ti me .
"In pr ac ti ce , d et er mi ni ng t he ap pr op ri at e l ev el of co ns is te nc y c he ck in g i sm os tl ya ne mp ir ic al"
s ci en ce . It c an b e s ai d p ra ct it io ne rs c om mo nl y c om pu te 2-c on si st en cy a nd l es s c om mo nl y
3-c on si st en cy .
6.2.5 Gl ob al co ns tr ai nt s
Re me mb er th at ag lo ba lc on st ra in ti so ne in vo lv in ga na rb it ra ry nu mb er of va ri ab le s(b ut no t
n ec es sa ri ly a ll v ar ia bl es). Gl ob al c on st ra in ts o cc ur f re qu en tl y i n r ea l p ro bl em s a nd c an b e
h an dl ed by sp ec ia l-p ur po se a lg or it hm st ha ta re mo re ef fi ci en tt ha nt he ge ne ra l-p ur po se m et h-
"o ds d es cr ib ed s o f ar . Fo re xa mp le , t he Al ld if f c on st ra in t s ay s t ha t a ll t he v ar ia bl es i nv ol ve d"
m us t h av e d is ti nc t v al ue s (a s i n t he c ry pt ar it hm et ic p ro bl em a bo ve a nd Su do ku p uz zl es b e-
l ow). On e s im pl e f or m o f i nc on si st en cy d et ec ti on f or Al ld if f c on st ra in ts w or ks a s f ol lo ws:
"i fm va ri ab le s a re in vo lv ed i nt he c on st ra in t , a nd i ft he yh av e n po ss ib le d is ti nc t v al ue s a lt o-"
"g et he r , a nd m > n ,t he nt he co ns tr ai nt c an no tb es at is fi ed ."
"Th is l ea ds t o t he f ol lo wi ng s im pl e a lg or it hm: Fi rs t , r em ov e a ny v ar ia bl e i n t he c on-"
"s tr ai nt t ha t h as a s in gl et on d om ai n , a nd d el et e t ha t v ar ia bl e’s v al ue f ro m t he d om ai ns o f t he"
r em ai ni ng va ri ab le s . Re pe at as lo ng as th er ea re si ng le to n v ar ia bl es . If at an yp oi nt an em pt y
"d om ai ni sp ro du ce do rt he re ar em or ev ar ia bl es th an do ma in va lu es le ft ,t he na ni nc on si st en cy"
h as be en de te ct ed .
"Th is me th od ca nd et ec t t he in co ns is te nc y i nt he as si gn me nt {WA=r ed ,NSW =r ed}"
"f or Fi gu re 6.1. No ti ce t ha t t he v ar ia bl es SA , NT , a nd Q a re e ff ec ti ve ly c on ne ct ed b y a n"
Al ld if f c on st ra in t b ec au se e ac h p ai r m us t h av e t wo d if fe re nt c ol or s . Af te r a pp ly in g AC-3
"w it h t he p ar ti al a ss ig nm en t , t he d om ai n o f e ac h v ar ia bl e i s r ed uc ed t o {g re en ,b lu e}. Th at"
"i s , w e h av e t hr ee v ar ia bl es a nd o nl y t wo c ol or s , s o t he Al ld if f c on st ra in t i s v io la te d . Th us ,"
a s im pl e c on si st en cy p ro ce du re f or a h ig he r-o rd er c on st ra in t i s s om et im es m or e e ff ec ti ve
t ha n a pp ly in g a rc c on si st en cy t o a n e qu iv al en t s et o f b in ar y c on st ra in ts . Th er e a re m or e
212 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"c om pl ex i nf er en ce a lg or it hm s f or Al ld if f (s ee v an Ho ev e a nd Ka tr ie l , 2006) t ha t p ro pa ga te"
m or ec on st ra in ts b ut ar em or ec om pu ta ti on al ly e xp en si ve to r un .
"RESOURCE An ot he ri mp or ta nt hi gh er-o rd er co ns tr ai nt is th e r es ou rc ec on st ra in t ,s om et im es ca ll ed"
CONSTRAINT
"t he a tm os t c on st ra in t . Fo r e xa mp le , i n a s ch ed ul in g p ro bl em , l et P ,...,P d en ot e t he"
1 4
n um be rs o f p er so nn el a ss ig ne d t o e ac h o f f ou r t as ks . Th e c on st ra in t t ha t n o m or e t ha n 10
"p er so nn el a re a ss ig ne d i n t ot al i s w ri tt en a s At mo st(10,P ,P ,P ,P ). We c an d et ec t a n"
1 2 3 4
i nc on si st en cy s im pl y b y c he ck in g t he s um o f t he m in im um v al ue s o f t he c ur re nt d om ai ns ;
"f or e xa mp le , i f e ac h v ar ia bl e h as t he d om ai n {3,4,5,6}, t he At mo st c on st ra in t c an no t b e"
s at is fi ed . We ca na ls oe nf or ce co ns is te nc yb yd el et in gt he ma xi mu mv al ue of an yd om ai ni fi t
"i sn ot co ns is te nt w it ht he mi ni mu mv al ue so ft he ot he rd om ai ns . Th us ,i fe ac hv ar ia bl ei no ur"
"e xa mp le ha st he do ma in{2,3,4,5,6}, t he va lu es 5 a nd 6 c an be de le te df ro me ac hd om ai n ."
Fo r l ar ge r es ou rc e-l im it ed p ro bl em s w it h i nt eg er v al ue s—s uc h a s l og is ti ca l p ro bl em s
i nv ol vi ng m ov in g t ho us an ds o f p eo pl e i n h un dr ed s o f v eh ic le s—i t i s u su al ly n ot p os si bl e t o
r ep re se nt th ed om ai no fe ac hv ar ia bl ea sa la rg es et of in te ge rs an dg ra du al ly re du ce th at se tb y
"c on si st en cy-c he ck in g m et ho ds . In st ea d , d om ai ns ar er ep re se nt ed b yu pp er an dl ow er bo un ds"
"BOUNDS a nd a re m an ag ed b y b ou nd s p ro pa ga ti on . Fo r e xa mp le , i n a n a ir li ne-s ch ed ul in g p ro bl em ,"
PROPAGATION
"l et’s s up po se t he re a re t wo f li gh ts , F a nd F , f or w hi ch t he p la ne s h av e c ap ac it ie s 165 a nd"
1 2
"385,r es pe ct iv el y . Th ei ni ti al do ma in sf or th en um be rs of pa ss en ge rs o ne ac hf li gh ta re th en"
"D = [0,165] a nd D = [0,385]."
1 2
No w s up po se w e h av e t he a dd it io na l c on st ra in t t ha t t he t wo f li gh ts t og et he r m us t c ar ry 420
"p eo pl e: F +F = 420. Pr op ag at in g b ou nd sc on st ra in ts , w er ed uc et he do ma in st o"
1 2
"D = [35,165] a nd D = [255,385]."
1 2
"BOUNDS We s ay t ha t a CSP i s b ou nd s c on si st en t i f f or e ve ry v ar ia bl e X , a nd f or b ot h t he l ow er-"
CONSISTENT
"b ou nd an du pp er-b ou nd v al ue so f X ,t he re ex is ts so me va lu eo f Y t ha ts at is fi es th ec on st ra in t"
b et we en X a nd Y f or e ve ry v ar ia bl e Y . Th is k in d o f b ou nd s p ro pa ga ti on i s w id el y u se d i n
p ra ct ic al c on st ra in t p ro bl em s .
6.2.6 Su do ku e xa mp le
Th ep op ul ar Su do ku pu zz le ha si nt ro du ce dm il li on so fp eo pl et oc on st ra in ts at is fa ct io np ro b-
SUDOKU
"l em s , a lt ho ug h t he y m ay n ot r ec og ni ze i t . A Su do ku b oa rd c on si st s o f 81 s qu ar es , s om e o f"
w hi ch a re i ni ti al ly f il le d w it h d ig it s f ro m 1 t o 9. Th e p uz zl e i s t o f il l i n a ll t he r em ai ni ng
"s qu ar es su ch th at no di gi ta pp ea rs tw ic ei na ny ro w ,c ol um n ,o r 3×3 b ox(s ee Fi gu re 6.4). A"
"r ow ,c ol um n ,o rb ox is ca ll ed au ni t ."
Th e Su do ku pu zz le s t ha ta re pr in te di nn ew sp ap er s a nd pu zz le b oo ks ha ve th ep ro pe rt y
"t ha t t he re is ex ac tl y o ne so lu ti on . Al th ou gh s om ec an be tr ic ky t os ol ve b yh an d , t ak in g t en s"
"o fm in ut es , e ve nt he ha rd es t Su do ku pr ob le ms yi el dt oa CSPs ol ve ri nl es st ha n 0.1 s ec on d ."
"ASu do ku p uz zl e c an b ec on si de re d a CSPw it h 81 v ar ia bl es , o ne f or ea ch s qu ar e . We"
"u se th ev ar ia bl e n am es A 1 t hr ou gh A 9 f or th et op ro w(l ef tt or ig ht), d ow nt o I 1 t hr ou gh I 9"
"f or th eb ot to m r ow . Th ee mp ty sq ua re s h av e t he d om ai n {1,2,3,4,5,6,7,8,9} a nd t he p re-"
"f il le d s qu ar es h av e a d om ai n c on si st in g o f a s in gl e v al ue . In a dd it io n , t he re a re 27 d if fe re nt"
Se ct io n 6.2. Co ns tr ai nt Pr op ag at io n: In fe re nc ei n CSPs 213
1 2 3 4 5 6 7 8 9 1 2 3 4 5 6 7 8 9
A 3 2 6 A 4 8 3 9 2 1 6 5 7
B 9 3 5 1 B 9 6 7 3 4 5 8 2 1
C 1 8 6 4 C 2 5 1 8 7 6 4 9 3
D 8 1 2 9 D 5 4 8 1 3 2 9 7 6
E 7 8 E 7 2 9 5 6 4 1 3 8
F 6 7 8 2 F 1 3 6 7 9 8 2 4 5
G 2 6 9 5 G 3 7 2 6 8 9 5 1 4
H 8 2 3 9 H 8 1 4 2 5 3 7 6 9
I 5 1 3 I 6 9 5 4 1 7 3 8 2
(a) (b)
Fi gu re 6.4 (a)ASu do ku pu zz le an d(b)i ts so lu ti on .
"Al ld if f c on st ra in ts: o ne fo re ac hr ow ,c ol um n , a nd bo xo f 9 s qu ar es ."
"Al ld if f(A 1,A 2,A 3,A 4,A 5,A 6,A 7,A 8,A 9)"
"Al ld if f(B 1,B 2,B 3,B 4,B 5,B 6,B 7,B 8,B 9)"
···
"Al ld if f(A 1,B 1,C 1,D 1,E 1,F 1,G 1,H 1,I 1)"
"Al ld if f(A 2,B 2,C 2,D 2,E 2,F 2,G 2,H 2,I 2)"
···
"Al ld if f(A 1,A 2,A 3,B 1,B 2,B 3,C 1,C 2,C 3)"
"Al ld if f(A 4,A 5,A 6,B 4,B 5,B 6,C 4,C 5,C 6)"
···
Le tu ss ee ho wf ar ar cc on si st en cy ca nt ak eu s . As su me th at th e Al ld if f c on st ra in ts ha ve be en
e xp an de di nt ob in ar yc on st ra in ts(s uc ha s A 1 (c id:7)= A 2)s ot ha tw ec an ap pl yt he AC-3 a lg or it hm
d ir ec tl y . Co ns id er v ar ia bl e E 6 f ro m Fi gu re 6.4(a)—t he e mp ty s qu ar e b et we en t he 2 a nd t he
"8 i nt he mi dd le bo x . Fr om th ec on st ra in ts in th eb ox ,w ec an re mo ve no to nl y 2 a nd 8 b ut al so"
"1 a nd 7 f ro m E 6’s d om ai n . Fr om t he c on st ra in ts i n i ts c ol um n , w e c an e li mi na te 5, 6, 2, 8,"
"9,a nd 3. Th at le av es E 6 w it ha do ma in of{4};i no th er wo rd s , w ek no wt he an sw er fo r E 6."
"No w c on si de r v ar ia bl e I 6—t he s qu ar e i n t he b ot to m m id dl e b ox s ur ro un de d b y 1, 3, a nd 3."
"Ap pl yi ng ar cc on si st en cy in it sc ol um n ,w ee li mi na te 5,6,2,4(s in ce we no wk no w E 6 m us t"
"b e 4), 8, 9, a nd 3. We e li mi na te 1 b y a rc c on si st en cy w it h I 5, a nd w e a re l ef t w it h o nl y t he"
"v al ue 7 i nt he d om ai n o f I 6. No w t he re a re 8 k no wn v al ue s i n c ol um n 6, s o a rc c on si st en cy"
"c an in fe rt ha t A 6 m us tb e 1. In fe re nc e c on ti nu es a lo ng t he se li ne s , a nd ev en tu al ly , AC-3 c an"
"s ol ve t he e nt ir e p uz zl e—a ll t he v ar ia bl es h av e t he ir d om ai ns r ed uc ed t o a s in gl e v al ue , a s"
s ho wn in Fi gu re 6.4(b).
"Of c ou rs e , Su do ku w ou ld s oo n l os e i ts a pp ea l i f e ve ry p uz zl e c ou ld b e s ol ve d b y a"
214 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"m ec ha ni ca la pp li ca ti on of AC-3,a nd in de ed AC-3 w or ks on ly fo rt he ea si es t Su do ku pu zz le s ."
"Sl ig ht ly h ar de r o ne s c an b e s ol ve d b y PC-2, b ut a t a g re at er c om pu ta ti on al c os t: t he re a re"
"255,960 d if fe re nt pa th co ns tr ai nt st oc on si de ri na Su do ku pu zz le . To so lv et he ha rd es tp uz zl es"
"a nd to ma ke ef fi ci en tp ro gr es s , w ew il lh av et ob em or ec le ve r ."
"In de ed ,t he ap pe al of Su do ku pu zz le sf or th eh um an so lv er is th en ee dt ob er es ou rc ef ul"
"i n a pp ly in g m or e c om pl ex i nf er en ce s tr at eg ie s . Af ic io na do s g iv e t he m c ol or fu l n am es , s uc h"
"a s “n ak ed t ri pl es .” Th at s tr at eg y w or ks a s f ol lo ws: i n a ny u ni t (r ow , c ol um n o r b ox), f in d"
t hr ee s qu ar es t ha t e ac h h av e a d om ai n t ha t c on ta in s t he s am e t hr ee n um be rs o r a s ub se t o f
"t ho se n um be rs . Fo re xa mp le , t he th re e d om ai ns m ig ht be {1,8}, {3,8}, a nd {1,3,8}. Fr om"
"t ha t w ed on’t k no w w hi ch s qu ar e c on ta in s 1,3, o r 8, b ut w ed ok no w t ha t t he th re e n um be rs"
"m us t b e d is tr ib ut ed a mo ng t he t hr ee s qu ar es . Th er ef or e w e c an r em ov e 1, 3, a nd 8 f ro m t he"
d om ai ns of ev er yo th er sq ua re in th eu ni t .
It i s i nt er es ti ng t o n ot e h ow f ar w e c an g o w it ho ut s ay in g m uc h t ha t i s s pe ci fi c t o Su-
"d ok u . We do of co ur se ha ve to sa yt ha tt he re ar e 81 v ar ia bl es ,t ha tt he ir do ma in sa re th ed ig it s"
"1 t o 9,a nd th at th er ea re 27 Al ld if f c on st ra in ts . Bu tb ey on d t ha t , a ll th es tr at eg ie s—a rc c on-"
"s is te nc y , p at h c on si st en cy , e tc .—a pp ly g en er al ly t o a ll CSPs , n ot j us t t o Su do ku p ro bl em s ."
Ev en n ak ed t ri pl es i s r ea ll y a s tr at eg y f or e nf or ci ng c on si st en cy o f Al ld if f c on st ra in ts a nd
h as no th in gt od ow it h Su do ku pe rs e . Th is is th ep ow er of th e CSPf or ma li sm: f or ea ch ne w
"p ro bl em a re a , w e o nl y n ee d t o d ef in e t he p ro bl em i n t er ms o f c on st ra in ts ; t he n t he g en er al"
c on st ra in t-s ol vi ng m ec ha ni sm sc an ta ke ov er .
6.3 BACKTRACKING SEARCH FOR CSPS
Su do ku p ro bl em s a re d es ig ne d t o b e s ol ve d b y i nf er en ce o ve r c on st ra in ts . Bu t m an y o th er
CSPs c an no t b e s ol ve d b y i nf er en ce a lo ne ; t he re c om es a t im e w he n w e m us t s ea rc h f or a
s ol ut io n . In t hi s s ec ti on w e l oo k a t b ac kt ra ck in g s ea rc h a lg or it hm s t ha t w or k o n p ar ti al a s-
s ig nm en ts ;i nt he ne xt se ct io nw el oo ka tl oc al se ar ch al go ri th ms ov er co mp le te as si gn me nt s .
We c ou ld a pp ly a s ta nd ar d d ep th-l im it ed s ea rc h (f ro m Ch ap te r 3). A s ta te w ou ld b e a
"p ar ti al a ss ig nm en t , a nd an ac ti on w ou ld be ad di ng v ar = v al ue t ot he as si gn me nt . Bu tf or a"
"CSPw it h n va ri ab le s o f d om ai n s iz e d , w eq ui ck ly n ot ic e s om et hi ng t er ri bl e: t he b ra nc hi ng"
f ac to ra tt he to pl ev el is nd be ca us ea ny of dv al ue sc an be as si gn ed to an yo fn va ri ab le s . At
"t he n ex t l ev el , t he b ra nc hi ng f ac to r i s (n −1)d , a nd s o o n f or n l ev el s . We g en er at e a t re e"
"w it hn !·d n l ea ve s ,e ve nt ho ug ht he re ar eo nl y d n p os si bl e c om pl et ea ss ig nm en ts !"
Ou r s ee mi ng ly r ea so na bl e b ut n ai ve f or mu la ti on i gn or es c ru ci al p ro pe rt y c om mo n t o
a ll CSPs: c om mu ta ti vi ty . Ap ro bl em is co mm ut at iv ei ft he or de ro fa pp li ca ti on o fa ny gi ve n
COMMUTATIVITY
s et o f a ct io ns h as n o e ff ec t o n t he o ut co me . CSPs ar e c om mu ta ti ve b ec au se w he n a ss ig ni ng
"v al ue s t o v ar ia bl es , w er ea ch t he s am ep ar ti al a ss ig nm en t r eg ar dl es s o f o rd er . Th er ef or e , w e"
"n ee d o nl yc on si de r a s in gl e v ar ia bl e a te ac h n od e i nt he s ea rc h t re e . Fo re xa mp le , a tt he ro ot"
"n od e o f a s ea rc h t re e f or c ol or in g t he m ap o f Au st ra li a , w e m ig ht m ak e a c ho ic e b et we en"
"SA=r ed , SA=g re en , a nd SA=b lu e , b ut w e w ou ld n ev er c ho os e b et we en SA=r ed a nd"
"WA=b lu e . Wi th th is re st ri ct io n , t he nu mb er of le av es is d n ,a sw ew ou ld ho pe ."
Se ct io n 6.3. Ba ck tr ac ki ng Se ar ch fo r CSPs 215
"f un ct io n BACKTRACKING-SEARCH(c sp)r et ur ns as ol ut io n ,o rf ai lu re"
"r et ur n BACKTRACK({},c sp)"
"f un ct io n BACKTRACK(a ss ig nm en t ,c sp)r et ur ns as ol ut io n ,o rf ai lu re"
i fa ss ig nm en t i sc om pl et et he nr et ur na ss ig nm en t
v ar←SELECT-UNASSIGNED-VARIABLE(c sp)
"f or ea ch va lu e i n ORDER-DOMAIN-VALUES(v ar ,a ss ig nm en t ,c sp)d o"
i fv al ue i sc on si st en tw it ha ss ig nm en t t he n
a dd{v ar =v al ue}t oa ss ig nm en t
"i nf er en ce s←INFERENCE(c sp ,v ar ,v al ue)"
i fi nf er en ce s (c id:7)= f ai lu re t he n
a dd in fe re nc es t oa ss ig nm en t
"r es ul t←BACKTRACK(a ss ig nm en t ,c sp)"
i fr es ul t (c id:7)=f ai lu re t he n
r et ur nr es ul t
r em ov e{v ar =v al ue}a nd in fe re nc es f ro ma ss ig nm en t
r et ur nf ai lu re
Fi gu re 6.5 As im pl eb ac kt ra ck in ga lg or it hm fo rc on st ra in ts at is fa ct io np ro bl em s . Th ea l-
g or it hm is mo de le do nt he re cu rs iv ed ep th-f ir st se ar ch of Ch ap te r 3.By va ry in gt he fu nc ti on s
"SELECT-UNASSIGNED-VARIABLE a nd ORDER-DOMAIN-VALUES , w e c an i mp le me nt th e"
g en er al-p ur po se he ur is ti cs di sc us se di nt he te xt . Th ef un ct io n INFERENCEc an op ti on al ly be
"u se d t o i mp os e a rc-, p at h-, o r k-c on si st en cy , a s d es ir ed . If a v al ue c ho ic e l ea ds t o f ai lu re"
"(n ot ic ed ei th er by INFERENCEo rb y BACKTRACK),t he nv al ue as si gn me nt s(i nc lu di ng th os e"
m ad eb y INFERENCE)a re re mo ve df ro mt he cu rr en ta ss ig nm en ta nd an ew va lu ei st ri ed .
BACKTRACKING Th e t er m b ac kt ra ck in g s ea rc h i s u se d f or a d ep th-f ir st s ea rc h t ha t c ho os es v al ue s f or
SEARCH
o ne v ar ia bl e a ta ti me a nd b ac kt ra ck s w he n a va ri ab le h as n ol eg al v al ue s l ef t t o a ss ig n . Th e
"a lg or it hm is sh ow ni n Fi gu re 6.5. It re pe at ed ly ch oo se sa nu na ss ig ne d v ar ia bl e ,a nd th en tr ie s"
"a ll va lu es in th ed om ai no ft ha tv ar ia bl ei nt ur n ,t ry in gt of in da so lu ti on . If an in co ns is te nc yi s"
"d et ec te d ,t he n BACKTRACKr et ur ns fa il ur e ,c au si ng th ep re vi ou sc al lt ot ry an ot he rv al ue . Pa rt"
"o f t he s ea rc h t re e f or th e Au st ra li a p ro bl em i s s ho wn i n Fi gu re 6.6, w he re w eh av e a ss ig ne d"
"v ar ia bl es i n t he o rd er WA ,NT ,Q ,.... Be ca us e t he r ep re se nt at io n o f CSPs i s s ta nd ar di ze d ,"
"t he re i s n o n ee d t o s up pl y BACKTRACKING-SEARCH w it h a d om ai n-s pe ci fi c i ni ti al s ta te ,"
"a ct io nf un ct io n , t ra ns it io n m od el ,o rg oa lt es t ."
No ti ce th at BACKTRACKING-SEARCH k ee ps on ly as in gl er ep re se nt at io n o fa st at ea nd
"a lt er st ha tr ep re se nt at io n r at he rt ha nc re at in g n ew on es ,a sd es cr ib ed o np ag e 87."
In Ch ap te r 3 w e i mp ro ve d t he p oo r p er fo rm an ce o f u ni nf or me d s ea rc h a lg or it hm s b y
s up pl yi ng t he m w it h d om ai n-s pe ci fi c h eu ri st ic f un ct io ns d er iv ed f ro m o ur kn ow le dg e o f t he
p ro bl em . It tu rn so ut th at we ca ns ol ve CSPs ef fi ci en tl yw it ho ut su ch do ma in-s pe ci fi c k no wl-
"e dg e . In st ea d , w e c an a dd s om e s op hi st ic at io n t o t he u ns pe ci fi ed f un ct io ns i n Fi gu re 6.5,"
u si ng th em to ad dr es st he fo ll ow in gq ue st io ns:
"1. Wh ic h v ar ia bl e s ho ul d b e a ss ig ne d n ex t (SELECT-UNASSIGNED-VARIABLE), a nd i n"
w ha to rd er sh ou ld it sv al ue sb et ri ed(ORDER-DOMAIN-VALUES)?
216 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
WA=r ed WA=g re en WA=b lu e
WA=r ed WA=r ed
NT=g re en NT=b lu e
WA=r ed WA=r ed
NT=g re en NT=g re en
Q=r ed Q=b lu e
Fi gu re 6.6 Pa rt of th es ea rc ht re ef or th em ap-c ol or in gp ro bl em in Fi gu re 6.1.
2. Wh at in fe re nc es s ho ul d b ep er fo rm ed a te ac hs te pi nt he se ar ch(INFERENCE)?
"3. Wh en th es ea rc ha rr iv es at an as si gn me nt th at vi ol at es ac on st ra in t ,c an th es ea rc ha vo id"
r ep ea ti ng t hi sf ai lu re ?
Th es ub se ct io ns t ha tf ol lo wa ns we re ac ho ft he se qu es ti on s i nt ur n .
6.3.1 Va ri ab le an d v al ue or de ri ng
Th eb ac kt ra ck in g a lg or it hm c on ta in st he li ne
v ar←SELECT-UNASSIGNED-VARIABLE(c sp) .
Th es im pl es ts tr at eg yf or SELECT-UNASSIGNED-VARIABLE i st oc ho os et he ne xt un as si gn ed
"v ar ia bl ei no rd er , {X ,X ,...}. Th is st at ic va ri ab le o rd er in g s el do mr es ul ts in th em os te ff i-"
1 2
"c ie nt se ar ch . Fo re xa mp le ,a ft er th ea ss ig nm en ts fo r WA=r ed a nd NT =g re en in Fi gu re 6.6,"
"t he re is on ly on ep os si bl ev al ue fo r SA ,s oi tm ak es se ns et oa ss ig n SA=b lu e n ex tr at he rt ha n"
"a ss ig ni ng Q . In fa ct ,a ft er SAi sa ss ig ne d ,t he ch oi ce sf or Q ,NSW ,a nd V a re al lf or ce d . Th is"
i nt ui ti ve id ea—c ho os in gt he va ri ab le wi th th ef ew es t“l eg al”v al ue s—i sc al le dt he mi ni mu m-
MINIMUM- r em ai ni ng-v al ue s(MRV)h eu ri st ic . It al so ha sb ee nc al le dt he“m os tc on st ra in ed va ri ab le”o r
REMAINING-VALUES
"“f ai l-f ir st” h eu ri st ic , t he la tt er be ca us e i tp ic ks av ar ia bl et ha ti sm os tl ik el yt oc au se af ai lu re"
"s oo n , t he re by p ru ni ng t he s ea rc h t re e . If s om e v ar ia bl e X h as n o l eg al v al ue s l ef t , t he MRV"
h eu ri st ic wi ll se le ct X a nd fa il ur ew il lb ed et ec te di mm ed ia te ly—a vo id in g p oi nt le ss se ar ch es
t hr ou gh o th er v ar ia bl es . Th e MRV h eu ri st ic u su al ly p er fo rm s b et te r t ha n a r an do m o r s ta ti c
"o rd er in g ,s om et im es by af ac to ro f 1,000 o rm or e ,a lt ho ug ht he re su lt sv ar yw id el yd ep en di ng"
o nt he pr ob le m .
"Th e MRVh eu ri st ic d oe sn’t h el p a ta ll in ch oo si ng t he fi rs tr eg io n t oc ol or in Au st ra li a ,"
"b ec au se in it ia ll ye ve ry re gi on ha st hr ee le ga lc ol or s . In th is ca se ,t he de gr ee he ur is ti cc om es"
DEGREEHEURISTIC
i n h an dy . It a tt em pt s t o r ed uc e t he b ra nc hi ng f ac to r o n f ut ur e c ho ic es b y s el ec ti ng t he v ar i-
a bl e t ha t i s i nv ol ve d i n t he l ar ge st n um be r o f c on st ra in ts o n o th er u na ss ig ne d v ar ia bl es . In
"Fi gu re 6.1, SAi s t he v ar ia bl e w it h h ig he st d eg re e , 5; t he o th er v ar ia bl es h av e d eg re e 2 o r 3,"
"e xc ep t f or T , w hi ch h as d eg re e 0. In f ac t , o nc e SA i s c ho se n , a pp ly in g t he d eg re e h eu ri s-"
t ic s ol ve s t he p ro bl em w it ho ut a ny f al se s te ps—y ou c an c ho os e a ny c on si st en t c ol or a t e ac h
c ho ic e p oi nt a nd s ti ll a rr iv e a t a s ol ut io n w it h n o b ac kt ra ck in g . Th e m in im um-r em ai ni ng-
Se ct io n 6.3. Ba ck tr ac ki ng Se ar ch fo r CSPs 217
"v al ue s h eu ri st ic i su su al ly a mo re po we rf ul g ui de , b ut t he d eg re e h eu ri st ic c an be u se fu l a s a"
t ie-b re ak er .
"On ce a v ar ia bl e h as b ee n s el ec te d , t he a lg or it hm m us t d ec id e o n t he o rd er i n w hi ch t o"
LEAST-
"e xa mi ne i ts va lu es . Fo rt hi s , t he l ea st-c on st ra in in g-v al ue h eu ri st ic c an b ee ff ec ti ve i ns om e"
CONSTRAINING-
VALUE
c as es . It p re fe rs t he v al ue t ha t r ul es o ut t he f ew es t c ho ic es f or t he n ei gh bo ri ng v ar ia bl es i n
"t he c on st ra in t g ra ph . Fo r e xa mp le , s up po se t ha t i n Fi gu re 6.1 w e h av e g en er at ed t he p ar ti al"
a ss ig nm en t w it h WA=r ed a nd NT =g re en a nd t ha t o ur n ex t c ho ic e i s f or Q . Bl ue w ou ld
"b e a b ad c ho ic e b ec au se i t e li mi na te s t he l as t l eg al v al ue l ef t f or Q’s n ei gh bo r , SA . Th e"
"l ea st-c on st ra in in g-v al ue h eu ri st ic t he re fo re p re fe rs r ed t o b lu e . In g en er al , t he h eu ri st ic i s"
"t ry in gt ol ea ve th em ax im um fl ex ib il it yf or su bs eq ue nt va ri ab le as si gn me nt s . Of co ur se ,i fw e"
"a re t ry in g t o f in d a ll t he s ol ut io ns t o a p ro bl em , n ot j us t t he f ir st o ne , t he n t he o rd er in g d oe s"
n ot m at te r b ec au se w e h av e t o c on si de r e ve ry v al ue a ny wa y . Th e s am e h ol ds i f t he re a re n o
s ol ut io ns t ot he pr ob le m .
"Wh ys ho ul d v ar ia bl e s el ec ti on b e f ai l-f ir st , b ut v al ue s el ec ti on b e f ai l-l as t ? It t ur ns o ut"
"t ha t , f or a w id e v ar ie ty o f p ro bl em s , a v ar ia bl e o rd er in g t ha t c ho os es a v ar ia bl e w it h t he"
m in im um nu mb er of re ma in in gv al ue sh el ps mi ni mi ze th en um be ro fn od es in th es ea rc ht re e
"b y p ru ni ng l ar ge r p ar ts o f t he t re e e ar li er . Fo rv al ue o rd er in g , t he t ri ck i s t ha t w e o nl y n ee d"
o ne so lu ti on ;t he re fo re it ma ke ss en se to lo ok fo rt he mo st li ke ly va lu es fi rs t . If we wa nt ed to
"e nu me ra te al ls ol ut io ns r at he rt ha nj us tf in do ne ,t he nv al ue o rd er in gw ou ld be ir re le va nt ."
6.3.2 In te rl ea vi ng s ea rc ha nd i nf er en ce
So f ar w e h av e s ee n h ow AC-3 a nd o th er a lg or it hm s c an i nf er r ed uc ti on s i n t he d om ai n o f
v ar ia bl es b ef or e w eb eg in th es ea rc h . Bu ti nf er en ce c an be ev en mo re po we rf ul in th ec ou rs e
"o f a s ea rc h: e ve ry t im e w e m ak e a c ho ic e o f a v al ue f or a v ar ia bl e , w e h av e a b ra nd-n ew"
o pp or tu ni ty t oi nf er ne wd om ai nr ed uc ti on s o nt he ne ig hb or in g v ar ia bl es .
FORWARD On e o f t he s im pl es t f or ms o f i nf er en ce i s c al le d f or wa rd c he ck in g . Wh en ev er a v ar i-
CHECKING
"a bl e X i sa ss ig ne d , t he f or wa rd-c he ck in g p ro ce ss e st ab li sh es a rc c on si st en cy f or it: f or ea ch"
"u na ss ig ne d v ar ia bl e Y t ha t i s c on ne ct ed t o X b y a c on st ra in t , d el et e f ro m Y’s d om ai n a ny"
v al ue t ha t i s i nc on si st en t w it ht he v al ue c ho se n f or X . Be ca us e f or wa rd c he ck in g o nl y d oe s
"a rc co ns is te nc yi nf er en ce s ,t he re is no re as on to do fo rw ar d c he ck in gi fw eh av ea lr ea dy do ne"
a rc co ns is te nc y a sa pr ep ro ce ss in g s te p .
Fi gu re 6.7 s ho ws t he p ro gr es s o f b ac kt ra ck in g s ea rc h o n t he Au st ra li a CSP w it h f or-
"w ar d c he ck in g . Th er e a re t wo i mp or ta nt p oi nt s t o n ot ic e a bo ut t hi s e xa mp le . Fi rs t , n ot ic e"
"t ha t a ft er WA=r ed a nd Q=g re en a re a ss ig ne d , t he d om ai ns o f NT a nd SA a re r ed uc ed"
t o a s in gl e v al ue ; w e h av e e li mi na te d b ra nc hi ng o n t he se v ar ia bl es a lt og et he r b y p ro pa ga t-
"i ng i nf or ma ti on f ro m WA a nd Q . A s ec on d p oi nt t o n ot ic e i s t ha t a ft er V =b lu e , t he d o-"
"m ai n o f SA i s e mp ty . He nc e , f or wa rd c he ck in g h as d et ec te d t ha t t he p ar ti al a ss ig nm en t"
"{WA=r ed ,Q=g re en ,V =b lu e} i s i nc on si st en t w it h t he c on st ra in ts o f t he p ro bl em , a nd"
t he al go ri th m w il lt he re fo re b ac kt ra ck i mm ed ia te ly .
Fo r m an y p ro bl em s t he s ea rc h w il l b e m or e e ff ec ti ve i f w e c om bi ne t he MRV h eu ri s-
"t ic w it h f or wa rd c he ck in g . Co ns id er Fi gu re 6.7 a ft er a ss ig ni ng {WA=r ed}. In tu it iv el y , i t"
"s ee ms t ha t t ha t a ss ig nm en t c on st ra in s i ts ne ig hb or s , NT a nd SA , s ow es ho ul d h an dl e t ho se"
218 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
WA NT Q NSW V SA T
In it ia l d om ai ns R G B R G B R G B R G B R G B R G B R G B
Af te r WA=r ed R G B R G B R G B R G B G B R G B
Af te r Q=g re en R B G R B R G B B R G B
Af te r V=b lu e R B G R B R G B
Fi gu re 6.7 Th e p ro gr es s o f a m ap-c ol or in g s ea rc h w it h f or wa rd c he ck in g . WA=r ed
i s a ss ig ne d f ir st ; t he n f or wa rd c he ck in g d el et es r ed f ro m t he d om ai ns o f t he n ei gh bo ri ng
"v ar ia bl es NT a nd SA . Af te r Q=g re en i s a ss ig ne d , g re en i s d el et ed f ro m t he d om ai ns of"
"NT ,SA ,a nd NSW . Af te r V =b lu e i sa ss ig ne d ,b lu e i sd el et ed fr om th ed om ai ns of NSW"
"a nd SA ,l ea vi ng SAw it hn ol eg al va lu es ."
"v ar ia bl es n ex t , a nd t he n a ll t he o th er v ar ia bl es w il l f al l i nt o p la ce . Th at’s e xa ct ly w ha t h ap-"
"p en s w it h MRV:NT a nd SAh av e t wo v al ue s , s oo ne o f t he m i sc ho se n f ir st , t he n t he o th er ,"
"t he n Q , NSW , a nd V i n o rd er . Fi na ll y T s ti ll h as t hr ee v al ue s , a nd a ny o ne o f t he m w or ks ."
We ca nv ie wf or wa rd ch ec ki ng a sa ne ff ic ie nt wa yt oi nc re me nt al ly c om pu te t he in fo rm at io n
t ha tt he MRVh eu ri st ic n ee ds to do it sj ob .
"Al th ou gh fo rw ar dc he ck in gd et ec ts ma ny in co ns is te nc ie s , i td oe sn ot de te ct al lo ft he m ."
"Th e p ro bl em i s t ha t i t m ak es t he c ur re nt v ar ia bl e a rc-c on si st en t , b ut d oe sn’t l oo k a he ad a nd"
"m ak ea ll th eo th er va ri ab le sa rc-c on si st en t . Fo re xa mp le ,c on si de rt he th ir dr ow of Fi gu re 6.7."
"It sh ow st ha tw he n WAi sr ed a nd Qi sg re en ,b ot h NT a nd SAa re fo rc ed to be bl ue . Fo rw ar d"
c he ck in g d oe s n ot lo ok f ar en ou gh a he ad t on ot ic e t ha t t hi si s a ni nc on si st en cy: NT a nd SA
a re ad ja ce nt an ds oc an no th av et he sa me va lu e .
MAINTAININGARC Th e a lg or it hm c al le d MAC (f or Ma in ta in in g Ar c Co ns is te nc y (MAC)) d et ec ts t hi s
CONSISTENCY(MAC)
i nc on si st en cy . Af te ra va ri ab le X
i
"i sa ss ig ne da va lu e ,t he INFERENCE p ro ce du re ca ll s AC-3,"
"b ut i ns te ad o f a q ue ue o f a ll a rc s i n t he CSP , w e s ta rt w it h o nl y t he a rc s (X ,X ) f or a ll"
j i
"X t ha ta re un as si gn ed v ar ia bl es t ha ta re ne ig hb or s o f X . Fr om th er e , AC-3 d oe sc on st ra in t"
j i
"p ro pa ga ti on i nt he us ua lw ay ,a nd if an yv ar ia bl eh as it sd om ai nr ed uc ed to th ee mp ty se t ,t he"
c al l t o AC-3 f ai ls a nd w e k no w t o b ac kt ra ck i mm ed ia te ly . We c an s ee t ha t MAC i s s tr ic tl y
m or ep ow er fu lt ha nf or wa rd ch ec ki ng be ca us ef or wa rd ch ec ki ng do es th es am et hi ng as MAC
"o n t he i ni ti al a rc s i n MAC’s q ue ue ; b ut u nl ik e MAC , f or wa rd c he ck in g d oe s n ot r ec ur si ve ly"
p ro pa ga te c on st ra in ts w he nc ha ng es a re ma de to th ed om ai ns of va ri ab le s .
6.3.3 In te ll ig en tb ac kt ra ck in g: Lo ok in g b ac kw ar d
Th e BACKTRACKING-SEARCH a lg or it hm i n Fi gu re 6.5 h as av er ys im pl e p ol ic y f or wh at to
d o w he n a b ra nc h o f t he s ea rc h f ai ls: b ac k u p t o t he p re ce di ng v ar ia bl e a nd t ry a d if fe re nt
CHRONOLOGICAL v al ue f or i t . Th is i s c al le d c hr on ol og ic al b ac kt ra ck in g b ec au se t he m os t r ec en t d ec is io n
BACKTRACKING
"p oi nt is re vi si te d . In th is su bs ec ti on , w ec on si de rb et te rp os si bi li ti es ."
Co ns id er w ha t h ap pe ns w he n w e a pp ly s im pl e b ac kt ra ck in g i n Fi gu re 6.1 w it h a f ix ed
"v ar ia bl e o rd er in g Q , NSW , V , T , SA , WA , NT . Su pp os e w e h av e g en er at ed t he p ar ti al"
"a ss ig nm en t {Q=r ed ,NSW =g re en ,V =b lu e ,T =r ed}. Wh en w e t ry t he n ex t v ar ia bl e ,"
"SA , w e s ee t ha t e ve ry v al ue v io la te s a c on st ra in t . We b ac k u p t o T a nd t ry a n ew c ol or f or"
Se ct io n 6.3. Ba ck tr ac ki ng Se ar ch fo r CSPs 219
Ta sm an ia ! Ob vi ou sl yt hi si ss il ly—r ec ol or in g Ta sm an ia ca nn ot po ss ib ly re so lv et he pr ob le m
w it h So ut h Au st ra li a .
Am or ei nt el li ge nt a pp ro ac h t ob ac kt ra ck in g i st ob ac kt ra ck t oa va ri ab le t ha tm ig ht fi x
t he p ro bl em—a v ar ia bl e t ha t w as r es po ns ib le f or m ak in g o ne o f t he p os si bl e v al ue s o f SA
"i mp os si bl e . To d o t hi s , w e w il l k ee p t ra ck o f a s et o f a ss ig nm en ts t ha t a re i n c on fl ic t w it h"
"s om ev al ue fo r SA . Th es et(i nt hi sc as e{Q=r ed ,NSW =g re en ,V =b lu e ,}),i sc al le dt he"
c on fl ic t s et f or SA . Th e b ac kj um pi ng me th od b ac kt ra ck s t o t he m os t r ec en t a ss ig nm en t i n
CONFLICTSET
"t he c on fl ic t s et ; i n t hi s c as e , b ac kj um pi ng w ou ld j um p o ve r Ta sm an ia a nd t ry a n ew v al ue"
BACKJUMPING
f or V . Th is m et ho d i s e as il y i mp le me nt ed b y a m od if ic at io n t o BACKTRACK s uc h t ha t i t
a cc um ul at es t he c on fl ic t s et w hi le c he ck in g f or a l eg al v al ue t o a ss ig n . If n o l eg al v al ue i s
"f ou nd , t he a lg or it hm s ho ul d r et ur n t he m os t r ec en t e le me nt o f t he c on fl ic t s et al on g w it h t he"
f ai lu re in di ca to r .
Th e s ha rp-e ye d r ea de r w il l h av e n ot ic ed t ha t f or wa rd c he ck in g c an s up pl y t he c on fl ic t
s et wi th no ex tr aw or k: w he ne ve rf or wa rd ch ec ki ng b as ed on an a ss ig nm en t X=x de le te s a
"v al ue f ro m Y’s d om ai n , i t s ho ul d a dd X=x t o Y’s c on fl ic t s et . If t he l as t v al ue i s d el et ed"
"f ro m Y’s d om ai n , t he n t he a ss ig nm en ts i n t he c on fl ic t s et o f Y a re a dd ed t o t he c on fl ic t s et"
"o f X . Th en ,w he nw eg et to Y ,w ek no wi mm ed ia te ly w he re to ba ck tr ac k i fn ee de d ."
Th e e ag le-e ye d r ea de r w il l h av e n ot ic ed s om et hi ng o dd: b ac kj um pi ng o cc ur s w he n
e ve ry v al ue i n a d om ai n i s i n c on fl ic t w it h t he c ur re nt a ss ig nm en t ; b ut f or wa rd c he ck in g
"d et ec ts t hi s e ve nt a nd p re ve nt s t he s ea rc h f ro m e ve r r ea ch in g s uc h a n od e ! In f ac t , i t c an b e"
"s ho wn th at ev er yb ra nc hp ru ne db yb ac kj um pi ng i sa ls op ru ne db yf or wa rd ch ec ki ng . He nc e ,"
"s im pl e b ac kj um pi ng i s r ed un da nt i n a f or wa rd-c he ck in g s ea rc h o r , i nd ee d , i n a s ea rc h t ha t"
"u se ss tr on ge rc on si st en cy c he ck in g , s uc ha s MAC ."
"De sp it e t he o bs er va ti on s o f t he p re ce di ng p ar ag ra ph , t he i de a b eh in d b ac kj um pi ng r e-"
m ai ns ag oo do ne: t ob ac kt ra ck ba se do nt he re as on sf or fa il ur e . Ba ck ju mp in gn ot ic es fa il ur e
"w he na va ri ab le’s do ma in be co me se mp ty ,b ut in ma ny ca se sa br an ch is do om ed lo ng be fo re"
"t hi s o cc ur s . Co ns id er a ga in t he p ar ti al a ss ig nm en t {WA=r ed ,NSW =r ed} (w hi ch , f ro m"
"o ur ea rl ie rd is cu ss io n , i si nc on si st en t). Su pp os ew et ry T =r ed n ex ta nd th en as si gn NT ,Q ,"
"V ,SA . We kn ow th at no as si gn me nt c an wo rk fo rt he se la st fo ur va ri ab le s , s oe ve nt ua ll y w e"
"r un ou to fv al ue st ot ry at NT . No w ,t he qu es ti on is ,w he re to ba ck tr ac k ? Ba ck ju mp in gc an no t"
"w or k , b ec au se NT d oe s h av e v al ue s c on si st en t w it h t he p re ce di ng a ss ig ne d v ar ia bl es—NT"
"d oe sn’t h av e a c om pl et e c on fl ic t s et o f p re ce di ng v ar ia bl es t ha t c au se d i t t o f ai l . We k no w ,"
"h ow ev er ,t ha tt he fo ur va ri ab le s NT ,Q ,V ,a nd SA ,t ak en to ge th er , f ai le db ec au se of as et of"
"p re ce di ng v ar ia bl es , w hi ch m us t b e t ho se v ar ia bl es t ha t d ir ec tl y c on fl ic t w it h t he f ou r . Th is"
l ea ds t oa de ep er no ti on o ft he co nf li ct s et fo ra va ri ab le s uc h a s NT: i ti st ha t s et of pr ec ed-
"i ng v ar ia bl es t ha t c au se d NT , t og et he r w it h a ny s ub se qu en t v ar ia bl es , t o h av e n o c on si st en t"
"s ol ut io n . In t hi s c as e , t he s et i s WA a nd NSW , s o t he a lg or it hm s ho ul d b ac kt ra ck t o NSW"
a nd sk ip ov er Ta sm an ia . Ab ac kj um pi ng a lg or it hm t ha tu se sc on fl ic ts et s d ef in ed in th is wa y
CONFLICT-DIRECTED i sc al le dc on fl ic t-d ir ec te d b ac kj um pi ng .
BACKJUMPING
We m us t n ow e xp la in h ow t he se n ew c on fl ic t s et s a re c om pu te d . Th e m et ho d i s i n
f ac t q ui te s im pl e . Th e “t er mi na l” f ai lu re o f a b ra nc h o f t he s ea rc h a lw ay s o cc ur s b ec au se a
"v ar ia bl e’s d om ai n b ec om es e mp ty ; t ha t v ar ia bl e h as a s ta nd ar d c on fl ic t s et . In o ur e xa mp le ,"
"SA f ai ls , a nd i ts c on fl ic t s et i s (s ay) {WA ,NT ,Q}. We b ac kj um p t o Q , a nd Q a bs or bs"
220 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"t he c on fl ic t s et f ro m SA (m in us Q i ts el f , o f c ou rs e) i nt o i ts o wn d ir ec t c on fl ic t s et , w hi ch i s"
"{NT ,NSW}; t he n ew c on fl ic t s et i s {WA ,NT ,NSW}. Th at i s , t he re i s n o s ol ut io n f ro m"
"Q o nw ar d , g iv en t he p re ce di ng a ss ig nm en t t o {WA ,NT ,NSW}. Th er ef or e , w e b ac kt ra ck"
"t o NT , t he m os t r ec en t o f t he se . NT a bs or bs {WA ,NT ,NSW} − {NT} i nt o i ts o wn"
"d ir ec t c on fl ic t s et {WA}, g iv in g {WA ,NSW} (a s s ta te d i n t he p re vi ou s p ar ag ra ph). No w"
"t he a lg or it hm b ac kj um ps t o NSW , a s w ew ou ld h op e . To su mm ar iz e: l et X b e t he c ur re nt"
j
"v ar ia bl e , a nd l et c on f(X ) b e i ts c on fl ic t s et . If e ve ry p os si bl e v al ue f or X f ai ls , b ac kj um p"
j j
"t ot he mo st re ce nt va ri ab le X i nc on f(X ),a nd se t"
i j
c on f(X ) ← c on f(X )∪c on f(X )−{X }.
i i j i
"Wh en w e r ea ch a c on tr ad ic ti on , b ac kj um pi ng c an t el l u s h ow f ar t o b ac k u p , s o w e d on’t"
w as te t im e c ha ng in g v ar ia bl es t ha t w on’t f ix t he p ro bl em . Bu t w e w ou ld a ls o l ik e t o a vo id
"r un ni ng i nt o t he s am e p ro bl em a ga in . Wh en t he s ea rc h a rr iv es a t a c on tr ad ic ti on , w e k no w"
CONSTRAINT t ha ts om es ub se to ft he co nf li ct se ti sr es po ns ib le fo rt he pr ob le m . Co ns tr ai nt le ar ni ng is th e
LEARNING
i de ao ff in di ng am in im um se to fv ar ia bl es fr om th ec on fl ic ts et th at ca us es th ep ro bl em . Th is
"s et o f v ar ia bl es , a lo ng w it h t he ir c or re sp on di ng v al ue s , i s c al le d a n o-g oo d . We th en r ec or d"
NO-GOOD
"t he n o-g oo d , e it he r b ya dd in g a ne w c on st ra in t t ot he CSPo rb y k ee pi ng a se pa ra te c ac he o f"
n o-g oo ds .
"Fo r e xa mp le , c on si de r t he s ta te {WA = r ed ,NT = g re en ,Q = b lu e} i n t he b ot to m"
r ow o f Fi gu re 6.6. Fo rw ar d c he ck in g c an t el l u s t hi s s ta te i s a n o-g oo d b ec au se t he re i s n o
"v al id as si gn me nt to SA . In th is pa rt ic ul ar ca se ,r ec or di ng th en o-g oo dw ou ld no th el p ,b ec au se"
"o nc e w e p ru ne t hi s b ra nc h f ro m t he s ea rc h t re e , w e w il l n ev er e nc ou nt er t hi s c om bi na ti on"
a ga in . Bu ts up po se th at th es ea rc ht re ei n Fi gu re 6.6 w er ea ct ua ll yp ar to fa la rg er se ar ch tr ee
t ha t s ta rt ed b y f ir st a ss ig ni ng v al ue s f or V a nd T . Th en i t w ou ld b e w or th wh il e t o r ec or d
"{WA = r ed ,NT = g re en ,Q = b lu e} a s a n o-g oo d b ec au se w e a re g oi ng t o r un i nt o t he"
s am ep ro bl em ag ai nf or ea ch po ss ib le s et of as si gn me nt s t o V a nd T .
No-g oo ds c an b e e ff ec ti ve ly u se d b y f or wa rd c he ck in g o rb y b ac kj um pi ng . Co ns tr ai nt
l ea rn in g i s o ne o f t he m os t i mp or ta nt t ec hn iq ue s u se d b y m od er n CSP s ol ve rs t o a ch ie ve
e ff ic ie nc yo nc om pl ex pr ob le ms .
6.4 LOCAL SEARCH FOR CSPS
Lo ca ls ea rc ha lg or it hm s(s ee Se ct io n 4.1)t ur no ut to be ef fe ct iv ei ns ol vi ng ma ny CSPs . Th ey
"u se a c om pl et e-s ta te f or mu la ti on: t he i ni ti al s ta te a ss ig ns a v al ue t o e ve ry v ar ia bl e , a nd t he"
"s ea rc hc ha ng es th ev al ue of on ev ar ia bl ea ta ti me . Fo re xa mp le ,i nt he 8-q ue en sp ro bl em(s ee"
"Fi gu re 4.3), t he i ni ti al s ta te m ig ht b e a r an do m c on fi gu ra ti on o f 8 q ue en s i n 8 c ol um ns , a nd"
"e ac h s te p m ov es a s in gl e q ue en t o a n ew p os it io n i n i ts c ol um n . Ty pi ca ll y , t he i ni ti al g ue ss"
v io la te ss ev er al co ns tr ai nt s . Th ep oi nt of lo ca ls ea rc hi st oe li mi na te th ev io la te dc on st ra in ts .2
"In ch oo si ng a ne wv al ue fo ra va ri ab le , t he mo st ob vi ou s h eu ri st ic i st os el ec t t he va lu e"
t ha t r es ul ts i n t he m in im um n um be r o f c on fl ic ts w it h o th er v ar ia bl es—t he m in-c on fl ic ts
MIN-CONFLICTS
"2 Lo ca ls ea rc hc an ea si ly be ex te nd ed to co ns tr ai nt op ti mi za ti on pr ob le ms(COPs).In th at ca se ,a ll th et ec hn iq ue s"
f or hi ll cl im bi ng an ds im ul at ed an ne al in gc an be ap pl ie dt oo pt im iz et he ob je ct iv ef un ct io n .
Se ct io n 6.4. Lo ca l Se ar ch fo r CSPs 221
"f un ct io n MIN-CONFLICTS(c sp ,m ax s te ps)r et ur ns as ol ut io no rf ai lu re"
"i np ut s:c sp ,a co ns tr ai nt sa ti sf ac ti on pr ob le m"
"m ax s te ps ,t he nu mb er of st ep sa ll ow ed be fo re gi vi ng up"
c ur re nt←a ni ni ti al co mp le te as si gn me nt fo rc sp
f or i =1 t om ax s te ps d o
i fc ur re nt i sa so lu ti on fo rc sp t he nr et ur nc ur re nt
v ar←a ra nd om ly ch os en co nf li ct ed va ri ab le fr om cs p .VARIABLES
"v al ue←t he va lu ev f or va r t ha tm in im iz es CONFLICTS(v ar ,v ,c ur re nt ,c sp)"
s et va r=v al ue i nc ur re nt
r et ur nf ai lu re
Fi gu re 6.8 Th e MIN-CONFLICTSa lg or it hm fo rs ol vi ng CSPs by lo ca ls ea rc h . Th ei ni ti al
s ta te m ay b e c ho se n r an do ml yo r b y a g re ed y a ss ig nm en tp ro ce ss t ha t c ho os es a m in im al-
c on fl ic t v al ue f or e ac h v ar ia bl e i n t ur n . Th e CONFLICTS f un ct io n c ou nt s t he n um be r o f
"c on st ra in ts vi ol at ed by ap ar ti cu la rv al ue ,g iv en th er es to ft he cu rr en ta ss ig nm en t ."
2 3
2 3
1
2 2
3 3
1 2
2 3
0
Fi gu re 6.9 A t wo-s te p s ol ut io n u si ng m in-c on fl ic ts f or a n 8-q ue en s p ro bl em . At e ac h
"s ta ge , a q ue en i s c ho se n f or r ea ss ig nm en t i n i ts c ol um n . Th e n um be r o f c on fl ic ts (i n t hi s"
"c as e , t he n um be r o f a tt ac ki ng q ue en s) i s s ho wn i n e ac h s qu ar e . Th e a lg or it hm m ov es t he"
"q ue en to th em in-c on fl ic ts sq ua re ,b re ak in gt ie sr an do ml y ."
h eu ri st ic . Th ea lg or it hm i ss ho wn in Fi gu re 6.8 a nd it sa pp li ca ti on t oa n 8-q ue en s p ro bl em i s
d ia gr am me di n Fi gu re 6.9.
"Mi n-c on fl ic ts i s s ur pr is in gl y e ff ec ti ve f or m an y CSPs . Am az in gl y , o n t he n-q ue en s"
"p ro bl em , i f y ou d on’t c ou nt t he i ni ti al p la ce me nt o f q ue en s , t he r un t im e o f m in-c on fl ic ts i s"
r ou gh ly i nd ep en de nt o f p ro bl em s iz e . It s ol ve s e ve n t he m il li on-q ue en s p ro bl em i n a n a ve r-
a ge o f 50 s te ps (a ft er t he i ni ti al a ss ig nm en t). Th is r em ar ka bl e o bs er va ti on w as t he s ti mu lu s
l ea di ng t o a g re at d ea l o f r es ea rc h i n t he 1990 s o n l oc al s ea rc h a nd t he d is ti nc ti on b et we en
"e as y a nd h ar d p ro bl em s , w hi ch w e t ak e u p i n Ch ap te r 7. Ro ug hl y s pe ak in g , n-q ue en s i s"
e as y f or l oc al s ea rc h b ec au se s ol ut io ns a re d en se ly d is tr ib ut ed t hr ou gh ou t t he s ta te s pa ce .
"Mi n-c on fl ic ts a ls o w or ks w el l f or h ar d p ro bl em s . Fo re xa mp le , i t h as b ee n u se d t o s ch ed ul e"
"o bs er va ti on s f or th e Hu bb le Sp ac e Te le sc op e , r ed uc in g t he t im et ak en t os ch ed ul e a we ek of"
o bs er va ti on s f ro mt hr ee we ek s(!) t oa ro un d 10 m in ut es .
222 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"Al lt he lo ca ls ea rc ht ec hn iq ue sf ro m Se ct io n 4.1 a re ca nd id at es fo ra pp li ca ti on to CSPs ,"
a nd s om e o f t ho se h av e p ro ve d e sp ec ia ll y e ff ec ti ve . Th e l an ds ca pe o f a CSPu nd er t he m in-
c on fl ic ts h eu ri st ic u su al ly h as a s er ie s o f p la te au x . Th er e m ay b e m il li on s o f v ar ia bl e a s-
s ig nm en ts t ha t a re o nl y o ne c on fl ic t a wa y f ro m a s ol ut io n . Pl at ea u s ea rc h—a ll ow in g s id e-
w ay sm ov es to an ot he r s ta te w it ht he sa me sc or e—c an h el pl oc al s ea rc h f in di ts wa yo ff th is
p la te au . Th is w an de ri ng o n t he p la te au c an b e d ir ec te d w it h t ab u s ea rc h: k ee pi ng a s ma ll
l is to fr ec en tl yv is it ed st at es an df or bi dd in g t he al go ri th m t or et ur nt ot ho se st at es . Si mu la te d
a nn ea li ng c an al so be us ed to es ca pe fr om pl at ea ux .
"CONSTRAINT An ot he rt ec hn iq ue ,c al le dc on st ra in tw ei gh ti ng ,c an he lp co nc en tr at et he se ar ch on th e"
WEIGHTING
"i mp or ta nt c on st ra in ts . Ea ch co ns tr ai nt i sg iv en an um er ic w ei gh t , W ,i ni ti al ly a ll 1. At ea ch"
i
"s te po ft he se ar ch ,t he al go ri th mc ho os es av ar ia bl e/v al ue p ai rt oc ha ng et ha tw il lr es ul ti nt he"
l ow es tt ot al we ig ht of al lv io la te dc on st ra in ts . Th ew ei gh ts ar et he na dj us te db yi nc re me nt in g
t he we ig ht of ea ch co ns tr ai nt th at is vi ol at ed by th ec ur re nt as si gn me nt . Th is ha st wo be ne fi ts:
"i t a dd s t op og ra ph y t o p la te au x , m ak in g s ur e t ha t i t i s p os si bl e t o i mp ro ve f ro m t he c ur re nt"
"s ta te ,a nd it al so ,o ve rt im e ,a dd sw ei gh tt ot he co ns tr ai nt s t ha ta re pr ov in gd if fi cu lt to so lv e ."
An ot he r a dv an ta ge o f l oc al s ea rc h i s t ha t i t c an b e u se d i n a n o nl in e s et ti ng w he n t he
p ro bl em c ha ng es . Th is i s p ar ti cu la rl y i mp or ta nt i n s ch ed ul in g p ro bl em s . A w ee k’s a ir li ne
"s ch ed ul e m ay i nv ol ve t ho us an ds o f f li gh ts a nd t en s o f t ho us an ds o f p er so nn el a ss ig nm en ts ,"
b ut ba dw ea th er at on ea ir po rt ca nr en de rt he sc he du le in fe as ib le . We wo ul dl ik et or ep ai rt he
s ch ed ul e w it h a m in im um n um be r o f c ha ng es . Th is c an b e e as il y d on e w it h a l oc al s ea rc h
a lg or it hm s ta rt in g f ro m t he c ur re nt s ch ed ul e . A b ac kt ra ck in g s ea rc h w it h t he n ew s et o f
c on st ra in ts u su al ly r eq ui re s m uc h m or e t im e a nd m ig ht f in d a s ol ut io n w it h m an y c ha ng es
f ro mt he cu rr en ts ch ed ul e .
6.5 THE STRUCTURE OF PROBLEMS
"In t hi s s ec ti on , w e e xa mi ne w ay s i n w hi ch t he s tr uc tu re o f t he p ro bl em , a s r ep re se nt ed b y"
"t he co ns tr ai nt g ra ph , c an b eu se d t of in ds ol ut io ns q ui ck ly . Mo st of th e a pp ro ac he s h er ea ls o"
"a pp ly to ot he rp ro bl em sb es id es CSPs ,s uc ha sp ro ba bi li st ic r ea so ni ng . Af te ra ll ,t he on ly wa y"
w ec an p os si bl y h op e t od ea l w it ht he r ea lw or ld i st od ec om po se i ti nt om an y s ub pr ob le ms .
"Lo ok in ga ga in at th ec on st ra in tg ra ph fo r Au st ra li a(Fi gu re 6.1(b),r ep ea te da s Fi gu re 6.12(a)),"
"o ne fa ct st an ds ou t: Ta sm an ia is no tc on ne ct ed to th em ai nl an d .3 In tu it iv el y , i ti so bv io us th at"
INDEPENDENT c ol or in g Ta sm an ia a nd c ol or in g t he m ai nl an d a re i nd ep en de nt su bp ro bl em s—a ny s ol ut io n
SUBPROBLEMS
f or t he m ai nl an d c om bi ne d w it h a ny s ol ut io n f or Ta sm an ia y ie ld s a s ol ut io n f or t he w ho le
CONNECTED m ap . In de pe nd en ce c an b e a sc er ta in ed s im pl y b y f in di ng c on ne ct ed c om po ne nt s o f t he
COMPONENT
c on st ra in t g ra ph . Ea ch c om po ne nt c or re sp on ds t o a s ub pr ob le m CSP . If a ss ig nm en t S i s
(c id:22) (c id:22) i i
"a s ol ut io n o f CSP , t he n S i s a s ol ut io n o f CSP . Wh y i s t hi s i mp or ta nt ? Co ns id er"
i i i i i
"t he f ol lo wi ng: s up po se e ac h CSP h as c v ar ia bl es f ro m t he t ot al o f n v ar ia bl es , w he re c i s"
i
"a c on st an t . Th en t he re a re n/c s ub pr ob le ms , e ac h o f w hi ch t ak es a t m os t d c w or k t o s ol ve ,"
3 Ac ar ef ul ca rt og ra ph er or pa tr io ti c Ta sm an ia nm ig ht ob je ct t ha t Ta sm an ia sh ou ld no tb ec ol or ed th es am ea s
"i ts ne ar es tm ai nl an dn ei gh bo r ,t oa vo id th ei mp re ss io nt ha ti tm ig ht be pa rt of th at st at e ."
Se ct io n 6.5. Th e St ru ct ur eo f Pr ob le ms 223
"w he re d i s t he s iz e o f t he d om ai n . He nc e , t he t ot al w or k i s O(d cn/c), w hi ch i s l in ea r i n n ;"
"w it ho ut t he d ec om po si ti on , t he t ot al w or k i s O(d n), w hi ch i s e xp on en ti al i n n . Le t’s m ak e"
t hi sm or ec on cr et e: d iv id in ga Bo ol ea n CSPw it h 80 v ar ia bl es i nt of ou rs ub pr ob le ms r ed uc es
t he wo rs t-c as es ol ut io n t im ef ro mt he li fe ti me of th eu ni ve rs ed ow nt ol es st ha na se co nd .
"Co mp le te ly i nd ep en de nt s ub pr ob le ms a re d el ic io us , t he n , b ut r ar e . Fo rt un at el y , s om e"
"o th er g ra ph s tr uc tu re s a re a ls o e as y t o s ol ve . Fo re xa mp le , a c on st ra in t g ra ph i sa t re e w he n"
a ny tw ov ar ia bl es ar ec on ne ct ed by on ly on ep at h . We sh ow th at an yt re e-s tr uc tu re d CSPc an
"b es ol ve d i nt im el in ea r i nt he nu mb er of va ri ab le s .4 Th ek ey is an ew no ti on o fc on si st en cy ,"
DIRECTEDARC c al le dd ir ec te da rc co ns is te nc yo r DAC .ACSPi sd ef in ed to be di re ct ed ar c-c on si st en tu nd er
CONSISTENCY
"a n o rd er in g o f v ar ia bl es X ,X ,...,X i f a nd o nl y i f e ve ry X i s a rc-c on si st en t w it h e ac h"
1 2 n i
X f or j > i .
j
"To s ol ve a t re e-s tr uc tu re d CSP , f ir st p ic k a ny v ar ia bl e t o b e t he r oo t o f t he t re e , a nd"
c ho os ea no rd er in go ft he va ri ab le ss uc ht ha te ac hv ar ia bl ea pp ea rs af te ri ts pa re nt in th et re e .
Su ch a n o rd er in g i s c al le d a t op ol og ic al s or t . Fi gu re 6.10(a) s ho ws a s am pl e t re e a nd (b)
TOPOLOGICALSORT
"s ho ws on ep os si bl eo rd er in g . An yt re ew it hn no de sh as n−1 a rc s ,s ow ec an ma ke th is gr ap h"
"d ir ec te d a rc-c on si st en t i n O(n) s te ps , e ac h o f w hi ch m us t c om pa re u p t o d p os si bl e d om ai n"
"v al ue s f or tw o v ar ia bl es , f or at ot al t im e o f O(n d 2). On ce w e h av e a d ir ec te d a rc-c on si st en t"
"g ra ph , w e c an j us t m ar ch d ow n t he l is t o f v ar ia bl es a nd c ho os e a ny r em ai ni ng v al ue . Si nc e"
"e ac hl in kf ro ma pa re nt to it sc hi ld is ar cc on si st en t ,w ek no wt ha tf or an yv al ue we ch oo se fo r"
"t he pa re nt , t he re w il lb ea va li dv al ue l ef tt oc ho os e f or th ec hi ld . Th at me an sw ew on’t ha ve"
t o b ac kt ra ck ; w e c an m ov e l in ea rl y t hr ou gh t he v ar ia bl es . Th ec om pl et e a lg or it hm i s s ho wn
i n Fi gu re 6.11.
A E
B D A B C D E F
C F
(a) (b)
Fi gu re 6.10 (a)Th ec on st ra in tg ra ph of at re e-s tr uc tu re d CSP .(b)Al in ea ro rd er in go ft he
v ar ia bl es co ns is te nt wi th th et re ew it h Aa st he ro ot . Th is is kn ow na sa to po lo gi ca ls or to f
t he va ri ab le s .
"No wt ha tw eh av ea ne ff ic ie nt al go ri th mf or tr ee s ,w ec an co ns id er wh et he rm or eg en er al"
"c on st ra in t g ra ph s c an b e r ed uc ed t o t re es s om eh ow . Th er e a re t wo p ri ma ry w ay s t o d o t hi s ,"
o ne ba se do nr em ov in gn od es an do ne ba se do nc ol la ps in g n od es t og et he r .
Th e f ir st a pp ro ac h i nv ol ve s a ss ig ni ng v al ue s t o s om e v ar ia bl es s o t ha t t he r em ai ni ng
"v ar ia bl es f or m a t re e . Co ns id er t he c on st ra in t g ra ph f or Au st ra li a , s ho wn a ga in i n Fi g-"
"u re 6.12(a). If w e c ou ld d el et e So ut h Au st ra li a , t he g ra ph w ou ld b ec om e a t re e , a s i n (b)."
"Fo rt un at el y , w e c an d o t hi s (i n t he g ra ph , n ot t he c on ti ne nt) b y f ix in g a v al ue f or SA a nd"
"4 Sa dl y ,v er yf ew re gi on so ft he wo rl dh av et re e-s tr uc tu re dm ap s ,a lt ho ug h Su la we si co me sc lo se ."
224 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
"f un ct io n TREE-CSP-SOLVER(c sp)r et ur ns as ol ut io n ,o rf ai lu re"
"i np ut s: c sp ,a CSPw it hc om po ne nt s X , D , C"
n←n um be ro fv ar ia bl es in X
a ss ig nm en t←a ne mp ty as si gn me nt
r oo t←a ny va ri ab le in X
"X ←TOPOLOGICALSORT(X ,r oo t)"
f or j =n d ow nt o 2 d o
"MAKE-ARC-CONSISTENT(PARENT(Xj),Xj)"
i fi tc an no tb em ad ec on si st en tt he nr et ur nf ai lu re
f or i =1 t on d o
a ss ig nm en t[Xi]←a ny co ns is te nt va lu ef ro m Di
i ft he re is no co ns is te nt va lu et he nr et ur nf ai lu re
r et ur na ss ig nm en t
Fi gu re 6.11 Th e TREE-CSP-SOLVER a lg or it hm fo rs ol vi ng tr ee-s tr uc tu re d CSPs . If th e
"CSPh as as ol ut io n ,w ew il lf in di ti nl in ea rt im e ;i fn ot ,w ew il ld et ec ta co nt ra di ct io n ."
NT NT
Q Q
WA WA
SA NSW NSW
V V
T T
(a) (b)
Fi gu re 6.12 (a) Th eo ri gi na lc on st ra in tg ra ph fr om Fi gu re 6.1. (b)Th e c on st ra in tg ra ph
a ft er th er em ov al of SA .
d el et in g f ro m t he d om ai ns o f t he o th er v ar ia bl es a ny v al ue s t ha t a re i nc on si st en t w it h t he
v al ue ch os en f or SA .
"No w , a ny s ol ut io n f or t he CSP a ft er SA a nd i ts c on st ra in ts a re r em ov ed w il l b e c on-"
s is te nt w it h t he v al ue c ho se n f or SA . (Th is w or ks f or b in ar y CSPs ; t he s it ua ti on i s m or e
"c om pl ic at ed w it hh ig he r-o rd er c on st ra in ts .) Th er ef or e , w ec an s ol ve t he re ma in in g t re ew it h"
"t he a lg or it hm g iv en a bo ve a nd t hu s s ol ve t he w ho le p ro bl em . Of co ur se , i n t he g en er al c as e"
"(a so pp os ed t om ap co lo ri ng), t he va lu ec ho se nf or SAc ou ld be th ew ro ng on e , s ow ew ou ld"
n ee dt ot ry ea ch po ss ib le v al ue . Th eg en er al al go ri th m i sa sf ol lo ws:
Se ct io n 6.5. Th e St ru ct ur eo f Pr ob le ms 225
1. Ch oo se as ub se t S o ft he CSP’s va ri ab le s s uc ht ha tt he co ns tr ai nt g ra ph be co me sa tr ee
a ft er re mo va lo f S . S i sc al le da cy cl ec ut se t .
CYCLECUTSET
"2. Fo re ac hp os si bl e a ss ig nm en t t ot he va ri ab le s i n S t ha ts at is fi es al lc on st ra in ts o n S ,"
(a) r em ov e f ro m t he do ma in s o ft he re ma in in g v ar ia bl es a ny va lu es t ha t a re i nc on si s-
"t en tw it ht he as si gn me nt f or S ,a nd"
"(b) If th er em ai ni ng CSPh as as ol ut io n , r et ur ni tt og et he rw it ht he as si gn me nt f or S ."
"If th ec yc le cu ts et ha ss iz ec ,t he nt he to ta lr un ti me is O(d c·(n−c)d 2): w eh av et ot ry ea ch"
"o f t he d c c om bi na ti on s o f v al ue s f or t he v ar ia bl es i n S , a nd f or e ac h c om bi na ti on w e m us t"
"s ol ve at re ep ro bl em of si ze n−c . If th eg ra ph is“n ea rl ya tr ee ,”t he n c wi ll be sm al la nd th e"
"s av in gs ov er st ra ig ht ba ck tr ac ki ng w il lb eh ug e . In th ew or st ca se ,h ow ev er ,c ca nb ea sl ar ge"
"a s(n−2). Fi nd in g t he s ma ll es t c yc le c ut se t i s NP-h ar d , b ut s ev er al e ff ic ie nt a pp ro xi ma ti on"
CUTSET a lg or it hm s a re k no wn . Th e o ve ra ll a lg or it hm ic a pp ro ac h i s c al le d c ut se t c on di ti on in g ; i t
CONDITIONING
"c om es up ag ai ni n Ch ap te r 14,w he re it is us ed fo rr ea so ni ng a bo ut pr ob ab il it ie s ."
TREE Th e s ec on d a pp ro ac h i s b as ed o n c on st ru ct in g a t re e d ec om po si ti on o f t he c on st ra in t
DECOMPOSITION
"g ra ph in to as et of co nn ec te ds ub pr ob le ms . Ea ch su bp ro bl em is so lv ed in de pe nd en tl y , a nd th e"
"r es ul ti ng s ol ut io ns a re t he n c om bi ne d . Li ke mo st di vi de-a nd-c on qu er a lg or it hm s , t hi s w or ks"
w el l i f n o s ub pr ob le m i s t oo l ar ge . Fi gu re 6.13 s ho ws a t re e d ec om po si ti on o f t he m ap-
c ol or in g p ro bl em i nt o f iv e s ub pr ob le ms . A t re e d ec om po si ti on m us t s at is fy t he f ol lo wi ng
t hr ee re qu ir em en ts:
• Ev er yv ar ia bl ei nt he or ig in al pr ob le m a pp ea rs in at le as to ne of th es ub pr ob le ms .
"• If tw ov ar ia bl es ar ec on ne ct ed by ac on st ra in t i nt he or ig in al pr ob le m ,t he ym us ta pp ea r"
t og et he r(a lo ng wi th th ec on st ra in t) i na tl ea st on eo ft he su bp ro bl em s .
"• If av ar ia bl ea pp ea rs in tw os ub pr ob le ms in th et re e ,i tm us ta pp ea ri ne ve ry su bp ro bl em"
a lo ng th ep at hc on ne ct in g t ho se su bp ro bl em s .
Th e f ir st t wo c on di ti on s e ns ur e t ha t a ll t he v ar ia bl es a nd c on st ra in ts a re r ep re se nt ed i n t he
"d ec om po si ti on . Th et hi rd c on di ti on s ee ms ra th er te ch ni ca l , b ut si mp ly r ef le ct st he co ns tr ai nt"
t ha t a ny g iv en v ar ia bl e m us t h av e t he s am e v al ue i n e ve ry s ub pr ob le m i n w hi ch i t a pp ea rs ;
"t he li nk sj oi ni ng s ub pr ob le ms i nt he tr ee en fo rc et hi sc on st ra in t . Fo re xa mp le , SAa pp ea rs i n"
a ll f ou r o f t he c on ne ct ed s ub pr ob le ms i n Fi gu re 6.13. Yo u c an v er if y f ro m Fi gu re 6.12 t ha t
t hi sd ec om po si ti on m ak es se ns e .
"We so lv e e ac hs ub pr ob le m i nd ep en de nt ly ; i fa ny on e h as no so lu ti on , w ek no w t he en-"
"t ir ep ro bl em ha sn os ol ut io n . If we ca ns ol ve al lt he su bp ro bl em s ,t he nw ea tt em pt to co ns tr uc t"
"a gl ob al so lu ti on as fo ll ow s . Fi rs t ,w ev ie we ac hs ub pr ob le m a sa“m eg a-v ar ia bl e”w ho se do-"
"m ai n i st he s et o f a ll s ol ut io ns f or th e s ub pr ob le m . Fo re xa mp le , t he l ef tm os t s ub pr ob le m i n"
Fi gu re 6.13 i sa ma p-c ol or in g p ro bl em wi th th re ev ar ia bl es an dh en ce ha ss ix so lu ti on s—o ne
"i s {WA = r ed ,SA = b lu e ,NT = g re en}. Th en , w e s ol ve t he c on st ra in ts c on ne ct in g t he"
"s ub pr ob le ms , u si ng t he e ff ic ie nt a lg or it hm f or t re es g iv en e ar li er . Th e c on st ra in ts b et we en"
s ub pr ob le ms s im pl y i ns is tt ha tt he su bp ro bl em s ol ut io ns a gr ee on th ei rs ha re d v ar ia bl es . Fo r
"e xa mp le ,g iv en th es ol ut io n{WA = r ed ,SA = b lu e ,NT = g re en}f or th ef ir st su bp ro bl em ,"
"t he on ly co ns is te nt so lu ti on fo rt he ne xt su bp ro bl em is{SA = b lu e ,NT = g re en ,Q = r ed}."
A g iv en c on st ra in t g ra ph a dm it s m an y t re e d ec om po si ti on s ; i n c ho os in g a d ec om po-
"s it io n , t he a im i s t o m ak e t he s ub pr ob le ms a s s ma ll a s p os si bl e . Th e t re e w id th o f a t re e"
TREEWIDTH
226 Ch ap te r 6. Co ns tr ai nt Sa ti sf ac ti on Pr ob le ms
NT
NT
Q
WA
SA
SA
Q
SA NSW
SA NSW
T
V
Fi gu re 6.13 At re ed ec om po si ti on of th ec on st ra in tg ra ph in Fi gu re 6.12(a).
d ec om po si ti on o f a g ra ph i s o ne l es s t ha n t he s iz e o f t he l ar ge st s ub pr ob le m ; t he t re e w id th
o ft he gr ap hi ts el fi sd ef in ed to be th em in im um tr ee wi dt ha mo ng al li ts tr ee de co mp os it io ns .
"If ag ra ph h as t re ew id th w a nd we ar eg iv en t he co rr es po nd in g t re e d ec om po si ti on , t he n t he"
"p ro bl em c an b e s ol ve d i n O(n dw+1) t im e . He nc e , CSPs w it h c on st ra in t g ra ph s o f b ou nd ed"
"t re e w id th a re s ol va bl e i n p ol yn om ia l t im e . Un fo rt un at el y , f in di ng t he d ec om po si ti on w it h"
"m in im al tr ee wi dt hi s NP-h ar d ,b ut th er ea re he ur is ti c m et ho ds th at wo rk we ll in pr ac ti ce ."
"So fa r , w eh av e l oo ke d a tt he st ru ct ur e o ft he co ns tr ai nt g ra ph . Th er e c an be im po rt an t"
s tr uc tu re in th ev al ue so fv ar ia bl es as we ll . Co ns id er th em ap-c ol or in gp ro bl em wi th nc ol or s .
"Fo re ve ry co ns is te nt s ol ut io n , t he re i sa ct ua ll y a se t o f n !s ol ut io ns f or me d b yp er mu ti ng t he"
"c ol or na me s . Fo re xa mp le ,o nt he Au st ra li am ap we kn ow th at WA ,NT ,a nd SAm us ta ll ha ve"
"d if fe re nt c ol or s , b ut t he re a re 3! = 6 w ay s t o a ss ig n t he t hr ee c ol or s t o t he se t hr ee r eg io ns ."
Th is i s c al le d v al ue s ym me tr y . We w ou ld l ik e t o r ed uc e t he s ea rc h s pa ce b y a f ac to r o f
VALUESYMMETRY
SYMMETRY-
n !b y b re ak in g t he s ym me tr y . We do t hi s b y i nt ro du ci ng a s ym me tr y-b re ak in g c on st ra in t .
BREAKING
CONSTRAINT
"Fo ro ur ex am pl e , w e m ig ht i mp os e a n a rb it ra ry o rd er in g c on st ra in t , NT < SA < WA , t ha t"
r eq ui re s t he t hr ee v al ue s t ob ei na lp ha be ti ca l o rd er . Th is co ns tr ai nt e ns ur es t ha t o nl y o ne o f
"t he n !s ol ut io ns i sp os si bl e: {NT = b lu e ,SA = g re en ,WA = r ed}."
"Fo r m ap c ol or in g , i t w as e as y t o f in d a c on st ra in t t ha t e li mi na te s t he s ym me tr y , a nd"
i n g en er al i t i s p os si bl e t o f in d c on st ra in ts t ha t e li mi na te a ll b ut o ne s ym me tr ic s ol ut io n i n
"p ol yn om ia l t im e , b ut i t i s NP-h ar d t o e li mi na te a ll s ym me tr y a mo ng i nt er me di at e s et s o f"
"v al ue s d ur in g s ea rc h . In p ra ct ic e , b re ak in g v al ue s ym me tr y h as p ro ve d t o b e i mp or ta nt a nd"
e ff ec ti ve on aw id er an ge of pr ob le ms .
7
LOGICAL AGENTS
"In wh ic hw ed es ig na ge nt st ha tc an fo rm re pr es en ta ti on so fa co mp le xw or ld ,u se a"
"p ro ce ss of in fe re nc e t od er iv en ew re pr es en ta ti on s a bo ut th ew or ld ,a nd us et he se"
n ew re pr es en ta ti on s t od ed uc e w ha tt od o .
"Hu ma ns , i t s ee ms , k no w t hi ng s ; a nd w ha t t he y k no w h el ps t he m d o t hi ng s . Th es e a re"
n ot e mp ty s ta te me nt s . Th ey m ak e s tr on g c la im s a bo ut h ow t he i nt el li ge nc e o f h um an s i s
a ch ie ve d—n ot b y p ur el y r ef le x m ec ha ni sm s b ut b y p ro ce ss es o f r ea so ni ng t ha t o pe ra te o n
REASONING
"i nt er na l r ep re se nt at io ns o f k no wl ed ge . In AI , t hi s a pp ro ac h t o i nt el li ge nc e i s e mb od ie d i n"
REPRESENTATION
KNOWLEDGE-BASED k no wl ed ge-b as ed ag en ts .
AGENTS
"Th ep ro bl em-s ol vi ng ag en ts of Ch ap te rs 3 a nd 4 k no wt hi ng s ,b ut on ly in av er yl im it ed ,"
"i nf le xi bl es en se . Fo re xa mp le , t he tr an si ti on m od el fo rt he 8-p uz zl e—k no wl ed ge o fw ha tt he"
a ct io ns d o—i s h id de n i ns id e t he d om ai n-s pe ci fi c c od e o f t he RESULT f un ct io n . It c an b e
u se d t o p re di ct t he o ut co me o f a ct io ns b ut n ot t o d ed uc e t ha t t wo t il es c an no t o cc up y t he
s am es pa ce or th at st at es wi th od dp ar it yc an no tb er ea ch ed fr om st at es wi th ev en pa ri ty . Th e
a to mi c r ep re se nt at io ns u se d b y p ro bl em-s ol vi ng a ge nt s a re a ls o v er y l im it in g . In a p ar ti al ly
"o bs er va bl e e nv ir on me nt , a n a ge nt’s o nl y c ho ic e f or r ep re se nt in g w ha t i t k no ws a bo ut t he"
c ur re nt st at ei st ol is ta ll po ss ib le co nc re te st at es—a ho pe le ss pr os pe ct in la rg ee nv ir on me nt s .
Ch ap te r 6 i nt ro du ce d t he i de a o f r ep re se nt in g s ta te s a s a ss ig nm en ts o f v al ue s t o v ar i-
"a bl es ; t hi s i s a s te p i n t he r ig ht d ir ec ti on , e na bl in g s om e p ar ts o f t he a ge nt t o w or k i n a"
d om ai n-i nd ep en de nt w ay a nd a ll ow in g f or m or e e ff ic ie nt a lg or it hm s . In t hi s c ha pt er a nd
"t ho se t ha t f ol lo w , w e t ak e t hi s s te p t o i ts l og ic al c on cl us io n , s o t o s pe ak—w e d ev el op l og ic"
LOGIC
a s a g en er al c la ss o f r ep re se nt at io ns t o s up po rt k no wl ed ge-b as ed a ge nt s . Su ch a ge nt s c an
"c om bi ne an dr ec om bi ne in fo rm at io nt os ui tm yr ia dp ur po se s . Of te n ,t hi sp ro ce ss ca nb eq ui te"
f ar r em ov ed f ro m t he n ee ds o f t he m om en t—a s w he n a m at he ma ti ci an p ro ve s a t he or em o r
a na st ro no me rc al cu la te st he ea rt h’s li fe ex pe ct an cy . Kn ow le dg e-b as ed ag en ts ca na cc ep tn ew
t as ks in th ef or mo fe xp li ci tl yd es cr ib ed go al s ;t he yc an ac hi ev ec om pe te nc eq ui ck ly by be in g
t ol do rl ea rn in g n ew kn ow le dg e a bo ut t he en vi ro nm en t ; a nd th ey ca na da pt to ch an ge s i nt he
e nv ir on me nt b yu pd at in g t he re le va nt kn ow le dg e .
We b eg in i n Se ct io n 7.1 w it h t he o ve ra ll a ge nt d es ig n . Se ct io n 7.2 i nt ro du ce s a s im-
"p le ne we nv ir on me nt , t he wu mp us wo rl d , a nd il lu st ra te s t he op er at io n o fa kn ow le dg e-b as ed"
a ge nt wi th ou tg oi ng in to an yt ec hn ic al de ta il . Th en we ex pl ai nt he ge ne ra lp ri nc ip le so fl og ic
234
Se ct io n 7.1. Kn ow le dg e-Ba se d Ag en ts 235
i n Se ct io n 7.3 a nd t he s pe ci fi cs o f p ro po si ti on al l og ic i n Se ct io n 7.4. Wh il e l es s e xp re ss iv e
"t ha n f ir st-o rd er l og ic (Ch ap te r 8), p ro po si ti on al l og ic i ll us tr at es a ll t he b as ic c on ce pt s o f"
"l og ic ; i t a ls o c om es w it h w el l-d ev el op ed i nf er en ce t ec hn ol og ie s , w hi ch w e d es cr ib e i n s ec-"
"t io ns 7.5 a nd 7.6. Fi na ll y ,Se ct io n 7.7 c om bi ne st he co nc ep to fk no wl ed ge-b as ed a ge nt sw it h"
t he te ch no lo gy o fp ro po si ti on al l og ic to bu il ds om es im pl ea ge nt sf or th ew um pu sw or ld .
7.1 KNOWLEDGE-BASED AGENTS
"Th ec en tr al co mp on en t o fa kn ow le dg e-b as ed a ge nt is it sk no wl ed ge ba se ,o r KB .Ak no wl-"
KNOWLEDGEBASE
e dg e b as e i s a s et o f s en te nc es . (He re “s en te nc e” i s u se d a s a t ec hn ic al t er m . It i s r el at ed
SENTENCE
b ut n ot i de nt ic al t o t he s en te nc es o f En gl is h a nd o th er n at ur al l an gu ag es .) Ea ch s en te nc e i s
KNOWLEDGE
e xp re ss ed i n a l an gu ag e c al le d a k no wl ed ge r ep re se nt at io n l an gu ag e a nd r ep re se nt s s om e
REPRESENTATION
LANGUAGE
"a ss er ti on a bo ut t he wo rl d . So me ti me sw ed ig ni fy a se nt en ce w it ht he na me ax io m , w he nt he"
AXIOM
s en te nc e i st ak en as gi ve nw it ho ut be in gd er iv ed fr om ot he rs en te nc es .
Th er e m us t b e a w ay t o a dd n ew s en te nc es t o t he k no wl ed ge b as e a nd a w ay t o q ue ry
"w ha t i s k no wn . Th e s ta nd ar d n am es f or t he se o pe ra ti on s a re TELL a nd ASK , r es pe ct iv el y ."
"Bo th op er at io ns m ay in vo lv e i nf er en ce—t ha t i s ,d er iv in g n ew se nt en ce s f ro mo ld . In fe re nc e"
INFERENCE
"m us to be yt he re qu ir em en tt ha tw he no ne ASKs aq ue st io no ft he kn ow le dg eb as e ,t he an sw er"
s ho ul d f ol lo w f ro m w ha th as be en t ol d(o r TELLe d)t ot he kn ow le dg e b as ep re vi ou sl y . La te r
"i n t hi s c ha pt er , w e w il l b e m or e p re ci se a bo ut t he c ru ci al w or d “f ol lo w .” Fo rn ow , t ak e i t t o"
m ea nt ha tt he in fe re nc ep ro ce ss s ho ul dn ot ma ke th in gs up as it go es al on g .
"Fi gu re 7.1 s ho ws th eo ut li ne of ak no wl ed ge-b as ed a ge nt pr og ra m . Li ke al lo ur ag en ts ,"
"i tt ak es ap er ce pt as in pu ta nd re tu rn sa na ct io n . Th ea ge nt ma in ta in sa kn ow le dg eb as e , KB ,"
BACKGROUND w hi ch ma yi ni ti al ly c on ta in so me ba ck gr ou nd kn ow le dg e .
KNOWLEDGE
"Ea ch t im e t he a ge nt p ro gr am i s c al le d , i t d oe s t hr ee t hi ng s . Fi rs t , i t TELLs t he k no wl-"
"e dg e b as e w ha t i t p er ce iv es . Se co nd , i t ASKs t he k no wl ed ge b as e w ha t a ct io n i t s ho ul d"
"p er fo rm . In t he p ro ce ss o f a ns we ri ng t hi s q ue ry , e xt en si ve r ea so ni ng m ay b e d on e a bo ut"
"t he c ur re nt s ta te o f t he w or ld , a bo ut t he o ut co me s o f p os si bl e a ct io n s eq ue nc es , a nd s o o n ."
"Th ir d ,t he ag en tp ro gr am TELLs th ek no wl ed ge ba se wh ic ha ct io nw as ch os en , a nd th ea ge nt"
e xe cu te st he ac ti on .
Th ed et ai ls o ft he re pr es en ta ti on l an gu ag e a re hi dd en i ns id et hr ee fu nc ti on s t ha ti mp le-
m en tt he in te rf ac e b et we en t he se ns or s a nd ac tu at or s o no ne si de an dt he co re re pr es en ta ti on
a nd r ea so ni ng s ys te m o n t he o th er . MAKE-PERCEPT-SENTENCE c on st ru ct s a s en te nc e a s-
s er ti ng th at th ea ge nt pe rc ei ve dt he gi ve np er ce pt at th eg iv en ti me . MAKE-ACTION-QUERY
"c on st ru ct s a s en te nc e t ha t a sk s w ha t a ct io n s ho ul d b e d on e a t t he c ur re nt t im e . Fi na ll y ,"
MAKE-ACTION-SENTENCE c on st ru ct s a s en te nc e a ss er ti ng t ha t t he c ho se n a ct io n w as e x-
e cu te d . Th e d et ai ls o f t he i nf er en ce m ec ha ni sm s a re h id de n i ns id e TELL a nd ASK . La te r
s ec ti on s w il lr ev ea lt he se de ta il s .
Th ea ge nt in Fi gu re 7.1 a pp ea rs qu it es im il ar to th ea ge nt sw it hi nt er na ls ta te de sc ri be d
"i n Ch ap te r 2. Be ca us e o f t he d ef in it io ns o f TELL a nd ASK , h ow ev er , t he k no wl ed ge-b as ed"
a ge nt i s n ot a n a rb it ra ry p ro gr am f or c al cu la ti ng a ct io ns . It i s a me na bl e t o a d es cr ip ti on a t
236 Ch ap te r 7. Lo gi ca l Ag en ts
f un ct io n KB-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: KB ,a kn ow le dg eb as e"
"t ,a co un te r ,i ni ti al ly 0,i nd ic at in gt im e"
"TELL(KB ,MAKE-PERCEPT-SENTENCE(p er ce pt ,t))"
"a ct io n←ASK(KB ,MAKE-ACTION-QUERY(t))"
"TELL(KB ,MAKE-ACTION-SENTENCE(a ct io n ,t))"
t←t +1
r et ur na ct io n
"Fi gu re 7.1 Ag en er ic kn ow le dg e-b as ed ag en t .Gi ve na pe rc ep t ,t he ag en ta dd st he pe rc ep t"
"t oi ts kn ow le dg eb as e ,a sk st he kn ow le dg eb as ef or th eb es ta ct io n ,a nd te ll st he kn ow le dg e"
b as et ha ti th as in fa ct ta ke nt ha ta ct io n .
"t he k no wl ed ge l ev el , w he re w e n ee d s pe ci fy o nl y w ha t t he a ge nt k no ws a nd w ha t i ts g oa ls"
KNOWLEDGELEVEL
"a re , i n o rd er t o f ix i ts b eh av io r . Fo r e xa mp le , a n a ut om at ed t ax i m ig ht h av e t he g oa l o f"
t ak in g a p as se ng er f ro m Sa n Fr an ci sc o t o Ma ri n Co un ty a nd m ig ht k no w t ha t t he Go ld en
Ga te Br id ge i s t he o nl y l in k b et we en t he t wo l oc at io ns . Th en w e c an e xp ec t i t t o c ro ss t he
Go ld en Ga te Br id ge be ca us ei tk no ws th at th at wi ll ac hi ev ei ts go al . No ti ce th at th is an al ys is
IMPLEMENTATION i si nd ep en de nt o fh ow th et ax iw or ks at th ei mp le me nt at io nl ev el . It do es n’t m at te rw he th er
LEVEL
"i ts ge og ra ph ic al kn ow le dg ei si mp le me nt ed as li nk ed li st so rp ix el ma ps ,o rw he th er it re as on s"
b y m an ip ul at in g s tr in gs o f s ym bo ls s to re d i n r eg is te rs o r b y p ro pa ga ti ng n oi sy s ig na ls i n a
n et wo rk of ne ur on s .
A k no wl ed ge-b as ed a ge nt c an b e b ui lt s im pl y b y TELLi ng i t w ha t i t n ee ds t o k no w .
"St ar ti ng w it h a n e mp ty k no wl ed ge b as e , t he a ge nt d es ig ne r c an TELL s en te nc es o ne b y o ne"
u nt il t he a ge nt k no ws h ow t o o pe ra te i n i ts e nv ir on me nt . Th is i s c al le d t he d ec la ra ti ve a p-
DECLARATIVE
"p ro ac h t o s ys te m b ui ld in g . In c on tr as t , t he p ro ce du ra l a pp ro ac h e nc od es d es ir ed b eh av io rs"
"d ir ec tl y a sp ro gr am c od e . In th e 1970 s a nd 1980 s , a dv oc at es o ft he tw oa pp ro ac he s e ng ag ed"
i nh ea te dd eb at es . We no wu nd er st an dt ha ta su cc es sf ul ag en to ft en co mb in es bo th de cl ar at iv e
"a nd pr oc ed ur al e le me nt s i ni ts de si gn , a nd th at de cl ar at iv e k no wl ed ge c an of te n b ec om pi le d"
i nt om or ee ff ic ie nt pr oc ed ur al c od e .
We c an a ls o p ro vi de a k no wl ed ge-b as ed a ge nt w it h m ec ha ni sm s t ha t a ll ow i t t o l ea rn
"f or i ts el f . Th es e m ec ha ni sm s , w hi ch a re d is cu ss ed i n Ch ap te r 18, c re at e g en er al k no wl ed ge"
a bo ut th ee nv ir on me nt f ro ma se ri es of pe rc ep ts . Al ea rn in g a ge nt ca nb ef ul ly au to no mo us .
7.2 THE WUMPUS WORLD
In th is se ct io n w ed es cr ib e a ne nv ir on me nt i nw hi ch kn ow le dg e-b as ed a ge nt s c an sh ow th ei r
w or th . Th ew um pu sw or ld is ac av ec on si st in go fr oo ms co nn ec te db yp as sa ge wa ys . Lu rk in g
WUMPUSWORLD
"s om ew he re i n t he c av e i st he t er ri bl e w um pu s , a b ea st t ha t e at s a ny on e w ho e nt er s i ts r oo m ."
"Th ew um pu sc an be sh ot by an ag en t ,b ut th ea ge nt ha so nl yo ne ar ro w . So me ro om sc on ta in"
Se ct io n 7.2. Th e Wu mp us Wo rl d 237
"b ot to ml es s p it st ha tw il lt ra pa ny on e w ho wa nd er s i nt ot he se r oo ms(e xc ep t f or th ew um pu s ,"
w hi ch i s t oo b ig t o f al l i n). Th e o nl y m it ig at in g f ea tu re o f t hi s b le ak e nv ir on me nt i s t he
p os si bi li ty o f f in di ng a h ea p o f g ol d . Al th ou gh t he w um pu s w or ld i s r at he r t am e b y m od er n
"c om pu te rg am es ta nd ar ds , i ti ll us tr at es s om ei mp or ta nt p oi nt sa bo ut in te ll ig en ce ."
A s am pl e w um pu s w or ld i s s ho wn i n Fi gu re 7.2. Th e p re ci se d ef in it io n o f t he t as k
"e nv ir on me nt i sg iv en ,a ss ug ge st ed i n Se ct io n 2.3,b yt he PEASd es cr ip ti on:"
"• Pe rf or ma nc e m ea su re: +1000 f or c li mb in g o ut o f t he c av e w it h t he g ol d , –1000 f or"
"f al li ng i nt o a p it o r b ei ng e at en b y t he w um pu s , –1 f or e ac h a ct io n t ak en a nd –10 f or"
u si ng up th ea rr ow . Th eg am ee nd se it he rw he nt he ag en td ie so rw he nt he ag en tc li mb s
o ut of th ec av e .
• En vi ro nm en t: A 4×4 g ri d o f r oo ms . Th e a ge nt a lw ay s s ta rt s i n t he s qu ar e l ab el ed
"[1,1], f ac in g t o t he r ig ht . Th e l oc at io ns o f t he g ol d a nd t he w um pu s a re c ho se n r an-"
"d om ly , w it h a u ni fo rm d is tr ib ut io n , f ro m t he s qu ar es o th er t ha n t he s ta rt s qu ar e . In"
"a dd it io n , e ac hs qu ar eo th er th an th es ta rt ca nb ea pi t ,w it hp ro ba bi li ty 0.2."
"• Ac tu at or s: Th e a ge nt c an m ov e Fo rw ar d , Tu rn Le ft b y 90◦ , o r Tu rn Ri gh t b y 90◦ . Th e"
a ge nt d ie s a m is er ab le d ea th i f i t e nt er s a s qu ar e c on ta in in g a pi t o ra l iv e w um pu s . (It
"i ss af e , a lb ei t s me ll y , t oe nt er a sq ua re w it h a de ad w um pu s .) If an a ge nt t ri es t o m ov e"
"f or wa rd a nd b um ps i nt o a wa ll , t he n t he a ge nt d oe s n ot mo ve . Th ea ct io n Gr ab ca n b e"
u se d t o p ic k u p t he g ol d i f i t i s i n t he s am e s qu ar e a s t he a ge nt . Th e a ct io n Sh oo t c an
b eu se dt of ir ea na rr ow in as tr ai gh t l in ei nt he di re ct io n t he ag en ti sf ac in g . Th ea rr ow
c on ti nu es u nt il it ei th er hi ts(a nd he nc e k il ls) t he wu mp us or hi ts a wa ll . Th ea ge nt h as
"o nl y o ne a rr ow , s o o nl y t he f ir st Sh oo t a ct io n h as a ny e ff ec t . Fi na ll y , t he a ct io n Cl im b"
"c an be us ed to cl im bo ut of th ec av e ,b ut on ly fr om sq ua re[1,1]."
"• Se ns or s: Th ea ge nt ha sf iv es en so rs , e ac ho fw hi ch gi ve sa si ng le bi to fi nf or ma ti on:"
– In th e s qu ar e c on ta in in g t he w um pu sa nd i n t he di re ct ly (n ot d ia go na ll y) a dj ac en t
"s qu ar es , t he ag en tw il lp er ce iv ea St en ch ."
"– In th es qu ar es d ir ec tl ya dj ac en t t oa pi t ,t he ag en tw il lp er ce iv ea Br ee ze ."
"– In th es qu ar ew he re th eg ol di s ,t he ag en tw il lp er ce iv ea Gl it te r ."
"– Wh en an ag en tw al ks in to aw al l ,i tw il lp er ce iv ea Bu mp ."
"– Wh en t he w um pu s i s k il le d , i t e mi ts a w oe fu l Sc re am t ha t c an b e p er ce iv ed a ny-"
w he re in th ec av e .
Th e p er ce pt s w il l b e g iv en t o t he a ge nt p ro gr am i n t he f or m o f a l is t o f f iv e s ym bo ls ;
"f or ex am pl e , i ft he re is as te nc ha nd ab re ez e , b ut no gl it te r , b um p ,o rs cr ea m ,t he ag en t"
"p ro gr am wi ll ge t [St en ch ,Br ee ze ,No ne ,No ne ,No ne]."
We c an c ha ra ct er iz e t he w um pu s e nv ir on me nt a lo ng t he v ar io us d im en si on s g iv en i n Ch ap-
"t er 2. Cl ea rl y ,i ti sd is cr et e ,s ta ti c ,a nd si ng le-a ge nt . (Th ew um pu sd oe sn’t mo ve ,f or tu na te ly .)"
"It i s s eq ue nt ia l , b ec au se r ew ar ds m ay c om e o nl y a ft er m an y a ct io ns a re t ak en . It i s p ar ti al ly"
"o bs er va bl e , b ec au se s om e a sp ec ts o f t he s ta te a re n ot d ir ec tl y p er ce iv ab le: t he a ge nt’s l o-"
"c at io n , t he w um pu s’s s ta te o f h ea lt h , a nd t he a va il ab il it y o f a n a rr ow . As f or t he l oc at io ns"
o f t he p it s a nd t he w um pu s: w e c ou ld t re at t he m a s u no bs er ve d p ar ts o f t he s ta te t ha t h ap-
"p en to be im mu ta bl e—i n w hi ch ca se , t he tr an si ti on m od el fo rt he en vi ro nm en t i sc om pl et el y"
238 Ch ap te r 7. Lo gi ca l Ag en ts
4 St en ch Br ee ze PIT
Br ee ze
3 St en ch PIT Br ee ze
Go ld
2 St en ch Br ee ze
1 Br ee ze PIT Br ee ze
START
1 2 3 4
"Fi gu re 7.2 At yp ic al wu mp us wo rl d .Th ea ge nt is in th eb ot to ml ef tc or ne r ,f ac in gr ig ht ."
k no wn ;o rw ec ou ld sa yt ha tt he tr an si ti on mo de li ts el fi su nk no wn be ca us et he ag en td oe sn’t
"k no w w hi ch Fo rw ar d a ct io ns a re f at al—i n w hi ch c as e , d is co ve ri ng t he l oc at io ns o f p it s a nd"
w um pu sc om pl et es th ea ge nt’s kn ow le dg e o ft he tr an si ti on m od el .
"Fo ra n a ge nt i n t he e nv ir on me nt , t he m ai n c ha ll en ge i s i ts i ni ti al i gn or an ce o f t he c on-"
f ig ur at io no ft he en vi ro nm en t ; o ve rc om in gt hi si gn or an ce s ee ms to re qu ir el og ic al re as on in g .
"In mo st in st an ce so ft he wu mp us wo rl d ,i ti sp os si bl ef or th ea ge nt to re tr ie ve th eg ol ds af el y ."
"Oc ca si on al ly , t he ag en tm us tc ho os eb et we en go in gh om ee mp ty-h an de da nd ri sk in gd ea th to"
"f in d t he g ol d . Ab ou t 21% o f t he e nv ir on me nt s a re u tt er ly u nf ai r , b ec au se t he g ol d i s i n a p it"
o rs ur ro un de d b yp it s .
Le t u s w at ch a k no wl ed ge-b as ed w um pu s a ge nt e xp lo ri ng t he e nv ir on me nt s ho wn i n
Fi gu re 7.2. We u se a n i nf or ma l k no wl ed ge r ep re se nt at io n l an gu ag e c on si st in g o f w ri ti ng
d ow ns ym bo ls in ag ri d(a si n Fi gu re s 7.3 a nd 7.4).
"Th e a ge nt’s i ni ti al k no wl ed ge b as e c on ta in s t he r ul es o f t he e nv ir on me nt , a s d es cr ib ed"
"p re vi ou sl y ; i np ar ti cu la r , i tk no ws th at i ti si n[1,1] a nd t ha t [1,1]i s a sa fe s qu ar e ; w ed en ot e"
"t ha tw it ha n“A”a nd“OK ,”r es pe ct iv el y , i ns qu ar e[1,1]."
"Th ef ir st pe rc ep t i s [No ne ,No ne ,No ne ,No ne ,No ne], f ro m w hi ch t he a ge nt c an c on-"
"c lu de t ha t i ts n ei gh bo ri ng s qu ar es , [1,2] a nd [2,1], a re f re e o f d an ge rs—t he y a re OK . Fi g-"
u re 7.3(a)s ho ws th ea ge nt’s st at eo fk no wl ed ge at th is po in t .
A c au ti ou s a ge nt w il l m ov e o nl y i nt o a s qu ar e t ha t i t k no ws t o b e OK . Le t u s s up po se
"t he ag en td ec id es to mo ve fo rw ar dt o[2,1]. Th ea ge nt pe rc ei ve sa br ee ze(d en ot ed by“B”)i n"
"[2,1],s ot he re mu st be ap it in an ei gh bo ri ng sq ua re . Th ep it ca nn ot be in[1,1],b yt he ru le so f"
"t he g am e , s o t he re m us t b e a pi ti n [2,2] o r[3,1] o rb ot h . Th e n ot at io n “P ?” i n Fi gu re 7.3(b)"
"i nd ic at es a po ss ib le p it in th os es qu ar es . At th is po in t , t he re is on ly on ek no wn sq ua re t ha ti s"
"OKa nd th at ha sn ot ye tb ee nv is it ed . So th ep ru de nt ag en tw il lt ur na ro un d , g ob ac kt o[1,1],"
"a nd th en pr oc ee d t o[1,2]."
"Th e a ge nt p er ce iv es a s te nc h i n [1,2], r es ul ti ng i n t he s ta te o f k no wl ed ge s ho wn i n"
"Fi gu re 7.4(a). Th e s te nc h i n [1,2] m ea ns t ha t t he re m us t b e a w um pu s n ea rb y . Bu t t he"
Se ct io n 7.2. Th e Wu mp us Wo rl d 239
"1,4 2,4 3,4 4,4 A = Ag en t 1,4 2,4 3,4 4,4"
B = Br ee ze
"G = Gl it te r , Go ld"
OK = Sa fe s qu ar e
"1,3 2,3 3,3 4,3 P = Pi t 1,3 2,3 3,3 4,3"
S = St en ch
V = Vi si te d
W = Wu mp us
"1,2 2,2 3,2 4,2 1,2 2,2 3,2 4,2"
P ?
OK OK
"1,1 2,1 3,1 4,1 1,1 2,1 3,1 4,1"
A P ?
A
V B
OK OK OK OK
(a) (b)
Fi gu re 7.3 Th e f ir st s te p t ak en b y t he a ge nt i n t he w um pu s w or ld . (a) Th e i ni ti al s it-
"u at io n , a ft er p er ce pt [No ne ,No ne ,No ne ,No ne ,No ne]. (b) Af te r o ne m ov e , w it h p er ce pt"
"[No ne ,Br ee ze ,No ne ,No ne ,No ne]."
"1,4 2,4 3,4 4,4 A = Ag en t 1,4 2,4 3,4 4,4"
P ?
B = Br ee ze
"G = Gl it te r , Go ld"
OK = Sa fe s qu ar e
"1,3 W ! 2,3 3,3 4,3 P = Pi t 1,3 W ! 2,3 A 3,3 P ? 4,3"
S = St en ch
S G
V = Vi si te d
B
W = Wu mp us
"1,2 2,2 3,2 4,2 1,2 2,2 3,2 4,2"
A S
S V V
OK OK OK OK
"1,1 2,1 3,1 4,1 1,1 2,1 3,1 4,1"
B P ! B P !
V V V V
OK OK OK OK
(a) (b)
"Fi gu re 7.4 Tw o l at er s ta ge s i n t he p ro gr es s o f t he a ge nt . (a) Af te r t he t hi rd m ov e ,"
"w it h p er ce pt [St en ch ,No ne ,No ne ,No ne ,No ne]. (b) Af te r t he f if th m ov e , w it h p er ce pt"
"[St en ch ,Br ee ze ,Gl it te r ,No ne ,No ne]."
"w um pu s c an no t b e i n [1,1], b y t he r ul es o f t he g am e , a nd i t c an no t b e i n [2,2] (o r t he a ge nt"
"w ou ld h av e d et ec te d a s te nc h w he n i t w as i n [2,1]). Th er ef or e , t he a ge nt c an i nf er t ha t t he"
"w um pu si si n[1,3]. Th en ot at io n W !i nd ic at es t hi si nf er en ce . Mo re ov er , t he la ck o fa br ee ze"
"i n[1,2]i mp li es th at th er ei sn op it in[2,2]. Ye tt he ag en th as al re ad y i nf er re dt ha tt he re mu st"
"b e a p it i n e it he r [2,2] o r [3,1], s o t hi s m ea ns i t m us t b e i n [3,1]. Th is i s a f ai rl y d if fi cu lt"
"i nf er en ce , b ec au se i t c om bi ne s k no wl ed ge g ai ne d a t d if fe re nt t im es i n d if fe re nt p la ce s a nd"
r el ie so nt he la ck of ap er ce pt to ma ke on ec ru ci al st ep .
240 Ch ap te r 7. Lo gi ca l Ag en ts
"Th ea ge nt ha sn ow pr ov ed to it se lf th at th er ei sn ei th er ap it no ra wu mp us in[2,2],s oi t"
"i s OKt om ov et he re . We do no ts ho wt he ag en t’s st at eo fk no wl ed ge at[2,2];w ej us ta ss um e"
"t ha t t he a ge nt t ur ns a nd m ov es t o [2,3], g iv in g u s Fi gu re 7.4(b). In [2,3], t he a ge nt d et ec ts a"
"g li tt er , s oi ts ho ul dg ra bt he go ld an dt he nr et ur nh om e ."
No te t ha t i n e ac h c as e f or w hi ch t he a ge nt d ra ws a c on cl us io n f ro m t he a va il ab le i n-
"f or ma ti on , t ha t c on cl us io n i s g ua ra nt ee d t ob ec or re ct i ft he av ai la bl e i nf or ma ti on i sc or re ct ."
"Th is i s a f un da me nt al p ro pe rt y o f l og ic al r ea so ni ng . In t he r es t o f t hi s c ha pt er , w e d es cr ib e"
h ow to bu il dl og ic al ag en ts th at ca nr ep re se nt in fo rm at io na nd dr aw co nc lu si on ss uc ha st ho se
d es cr ib ed i nt he pr ec ed in g p ar ag ra ph s .
7.3 LOGIC
Th is s ec ti on s um ma ri ze s t he f un da me nt al c on ce pt s o f l og ic al r ep re se nt at io n a nd r ea so ni ng .
Th es e b ea ut if ul i de as a re i nd ep en de nt o f a ny o f l og ic’s p ar ti cu la r f or ms . We t he re fo re p os t-
"p on e t he t ec hn ic al d et ai ls o f t ho se f or ms u nt il t he n ex t s ec ti on , u si ng i ns te ad t he f am il ia r"
e xa mp le of or di na ry a ri th me ti c .
"In Se ct io n 7.1, w e s ai d t ha t k no wl ed ge b as es c on si st o f s en te nc es . Th es e s en te nc es"
"a re ex pr es se d a cc or di ng t ot he s yn ta x o ft he re pr es en ta ti on l an gu ag e , w hi ch sp ec if ie s a ll th e"
SYNTAX
s en te nc es t ha t a re w el l f or me d . Th e n ot io n o f s yn ta x i s c le ar e no ug h i n o rd in ar y a ri th me ti c:
"“x+y =4”i sa we ll-f or me d s en te nc e , w he re as“x 4 y+ =”i sn ot ."
Al og ic mu st al so de fi ne th es em an ti cs or me an in go fs en te nc es . Th es em an ti cs de fi ne s
SEMANTICS
"t he t ru th o f e ac h s en te nc e w it h r es pe ct t o e ac h p os si bl e w or ld . Fo re xa mp le , t he s em an ti cs"
TRUTH
f or a ri th me ti c s pe ci fi es t ha t t he s en te nc e “x +y=4” i s t ru e i n a w or ld w he re x i s 2 a nd y
POSSIBLEWORLD
"i s 2, b ut f al se i n a w or ld w he re x i s 1 a nd y i s 1. In s ta nd ar d l og ic s , e ve ry s en te nc e m us t b e"
e it he rt ru eo rf al se in ea ch po ss ib le w or ld—t he re i sn o“i nb et we en .”1
"Wh en w e n ee d t o b e p re ci se , w e u se t he t er m m od el i n p la ce o f “p os si bl e w or ld .”"
MODEL
Wh er ea sp os si bl ew or ld sm ig ht be th ou gh to fa s(p ot en ti al ly)r ea le nv ir on me nt st ha tt he ag en t
"m ig ht o r m ig ht n ot b e i n , m od el s a re m at he ma ti ca l a bs tr ac ti on s , e ac h o f w hi ch s im pl y f ix es"
"t he tr ut ho rf al se ho od of ev er yr el ev an ts en te nc e . In fo rm al ly ,w em ay th in ko fa po ss ib le wo rl d"
"a s ,f or ex am pl e ,h av in gx me na nd yw om en si tt in ga ta ta bl ep la yi ng br id ge ,a nd th es en te nc e"
"x+y=4 i s t ru e w he n t he re a re f ou r p eo pl e i n t ot al . Fo rm al ly , t he p os si bl e m od el s a re j us t"
a ll po ss ib le as si gn me nt so fr ea ln um be rs to th ev ar ia bl es x an dy . Ea ch su ch as si gn me nt fi xe s
t he tr ut ho fa ny se nt en ce o fa ri th me ti c w ho se va ri ab le s a re x an dy . If as en te nc e αi st ru ei n
"m od el m , w e s ay t ha t m s at is fi es α o r s om et im es m i s a m od el o f α. We u se t he n ot at io n"
SATISFACTION
M(α)t om ea nt he se to fa ll mo de ls ofα.
"No wt ha t w eh av e a n ot io n o f t ru th , w e a re r ea dy t o t al k a bo ut l og ic al r ea so ni ng . Th is"
i nv ol ve s t he r el at io n o f l og ic al e nt ai lm en t b et we en s en te nc es—t he i de a t ha t a s en te nc e f ol-
ENTAILMENT
"l ow sl og ic al ly f ro ma no th er se nt en ce . In ma th em at ic al no ta ti on , w ew ri te"
α |= β
"1 Fu zz yl og ic ,d is cu ss ed in Ch ap te r 14,a ll ow sf or de gr ee so ft ru th ."
Se ct io n 7.3. Lo gi c 241
2 2 PIT 2 2 PIT α
KB 1 1 Br ee 2 z e P 3 IT α 1 1 Br e 2 e ze 3 KB 1 1 Br ee 2 z e P 3 IT 1 1 Br ee 2 z e 3 2
1
2 PIT 2 2 PIT 2 PIT 2 2 PIT
1 1 Br ee 2 z e 3 1 1 Br ee 2 z e 3 1 1 Br ee 2 z e P 3 IT 1 1 Br e 2 e ze 3 1 1 Br ee 2 z e 3 1 1 Br e 2 e ze P 3 IT
2 PIT 2 PIT PIT 2 PIT 2 PIT PIT
1 Br ee ze PIT 2 PIT PIT 1 1 Br e 2 e ze 3 1 Br ee ze PIT 2 PIT PIT 1 1 Br e 2 e ze 3
1 2 3 1 2 3
1 Br ee ze PIT 1 Br ee ze PIT
1 2 3 1 2 3
(a) (b)
"Fi gu re 7.5 Po ss ib le mo de ls fo rt he pr es en ce of pi ts in sq ua re s[1,2],[2,2],a nd[3,1]. Th e"
"KB c or re sp on di ng to t he ob se rv at io ns of no th in gi n [1,1]a nd a b re ez ei n[2,1]i ss ho wn by"
"t he s ol id l in e . (a) Do tt ed l in e s ho ws m od el so f α (n o p it i n [1,2]). (b) Do tt ed l in e s ho ws"
1
"m od el so fα (n op it in[2,2])."
2
t om ea nt ha tt he se nt en ceαe nt ai ls th es en te nc eβ. Th ef or ma ld ef in it io no fe nt ai lm en ti st hi s:
"α |= β i fa nd on ly if ,i ne ve ry mo de li nw hi chαi st ru e ,β i sa ls ot ru e . Us in gt he no ta ti on ju st"
"i nt ro du ce d , w ec an wr it e"
α |= β i fa nd on ly if M(α) ⊆ M(β).
"(No te th ed ir ec ti on o ft he⊆h er e: i fα |= β,t he nαi sa st ro ng er a ss er ti on th anβ: i tr ul es ou t"
m or e p os si bl e w or ld s .) Th e r el at io n o f e nt ai lm en t i s f am il ia r f ro m a ri th me ti c ; w e a re h ap py
"w it h t he i de a t ha t t he s en te nc e x = 0 e nt ai ls t he s en te nc e x y = 0. Ob vi ou sl y , i n a ny m od el"
"w he re xi sz er o ,i ti st he ca se th at xy i sz er o(r eg ar dl es so ft he va lu eo f y)."
We ca na pp ly th es am ek in do fa na ly si st ot he wu mp us-w or ld re as on in g e xa mp le gi ve n
i n t he p re ce di ng s ec ti on . Co ns id er t he s it ua ti on i n Fi gu re 7.3(b): t he a ge nt h as d et ec te d
"n ot hi ng i n[1,1]a nd ab re ez ei n[2,1]. Th es ep er ce pt s , c om bi ne d w it ht he ag en t’s k no wl ed ge"
"o f t he r ul es o f t he w um pu s w or ld , c on st it ut e t he KB . Th e a ge nt i s i nt er es te d (a mo ng o th er"
"t hi ng s) i n w he th er t he a dj ac en t s qu ar es [1,2], [2,2], a nd [3,1] c on ta in p it s . Ea ch o f t he t hr ee"
"s qu ar es mi gh to rm ig ht no tc on ta in ap it ,s o(f or th ep ur po se s o ft hi se xa mp le)t he re ar e 23=8"
p os si bl e m od el s . Th es ee ig ht mo de ls ar es ho wn in Fi gu re 7.5.2
Th e KB c an b e t ho ug ht o f a s a s et o f s en te nc es o r a s a s in gl e s en te nc e t ha t a ss er ts a ll
t he i nd iv id ua l s en te nc es . Th e KB i s f al se i n m od el s t ha t c on tr ad ic t w ha t t he a ge nt k no ws—
"f or e xa mp le , t he KB i s f al se i n a ny m od el i n w hi ch [1,2] c on ta in s a p it , b ec au se t he re i s"
"n o b re ez e i n[1,1]. Th er ea re i n f ac t j us t t hr ee m od el s i nw hi ch t he KBi s t ru e , a nd t he se a re"
"2 Al th ou gh th ef ig ur es ho ws th em od el sa sp ar ti al wu mp us wo rl ds ,t he ya re re al ly no th in gm or et ha na ss ig nm en ts"
"o ft ru e a nd fa ls et ot he se nt en ce s“t he re is ap it in[1,2]”e tc . Mo de ls ,i nt he ma th em at ic al se ns e ,d on ot ne ed to"
h av e’o rr ib le’a ir yw um pu se si nt he m .
242 Ch ap te r 7. Lo gi ca l Ag en ts
s ho wn su rr ou nd ed by as ol id li ne in Fi gu re 7.5. No wl et us co ns id er tw op os si bl ec on cl us io ns:
"α = “Th er ei sn op it in[1,2].”"
1
"α = “Th er ei sn op it in[2,2].”"
2
"We ha ve su rr ou nd ed t he mo de ls of α a ndα w it hd ot te d l in es in Fi gu re s 7.5(a)a nd 7.5(b),"
1 2
"r es pe ct iv el y . By in sp ec ti on , w es ee th ef ol lo wi ng:"
"i ne ve ry mo de li nw hi ch KB i st ru e , α i sa ls ot ru e ."
1
"He nc e ,KB |= α : t he re is no pi ti n[1,2]. We ca na ls os ee th at"
1
"i ns om em od el si nw hi ch KB i st ru e , α i sf al se ."
2
"He nc e ,KB (c id:7)|= α : t he ag en tc an no tc on cl ud et ha tt he re is no pi ti n[2,2]. (No rc an it co nc lu de"
2
"t ha tt he re i sa pi ti n[2,2].)3"
Th ep re ce di ng ex am pl en ot on ly il lu st ra te se nt ai lm en tb ut al so sh ow sh ow th ed ef in it io n
"o f e nt ai lm en t c an b e a pp li ed t o d er iv e c on cl us io ns—t ha t i s , t o c ar ry o ut l og ic al i nf er en ce ."
LOGICALINFERENCE
"Th e i nf er en ce a lg or it hm i ll us tr at ed i n Fi gu re 7.5 i s c al le d m od el c he ck in g , b ec au se i t e nu-"
MODELCHECKING
"m er at es al lp os si bl e m od el st oc he ck th at αi st ru ei na ll mo de ls in wh ic h KB i st ru e , t ha ti s ,"
t ha t M(KB)⊆ M(α).
"In un de rs ta nd in g e nt ai lm en ta nd in fe re nc e ,i tm ig ht he lp to th in ko ft he se to fa ll co ns e-"
q ue nc es o f KB a sa ha ys ta ck a nd ofαa sa ne ed le . En ta il me nt is li ke th en ee dl eb ei ng i nt he
h ay st ac k ;i nf er en ce is li ke fi nd in gi t . Th is di st in ct io ni se mb od ie di ns om ef or ma ln ot at io n: i f
"a ni nf er en ce al go ri th m i ca nd er iv eαf ro m KB ,w ew ri te"
"KB (c id:20) α,"
i
w hi ch is pr on ou nc ed “αi sd er iv ed fr om KB b yi”o r“i de ri ve s αf ro m KB .”
An i nf er en ce a lg or it hm t ha t d er iv es o nl y e nt ai le d s en te nc es i s c al le d s ou nd o r t ru th-
SOUND
p re se rv in g . So un dn es s i s a h ig hl y d es ir ab le p ro pe rt y . An u ns ou nd i nf er en ce p ro ce du re e s-
TRUTH-PRESERVING
s en ti al ly ma ke st hi ng su pa si tg oe sa lo ng—i ta nn ou nc es th ed is co ve ry of no ne xi st en tn ee dl es .
"It is ea sy to se et ha tm od el ch ec ki ng , w he ni ti sa pp li ca bl e ,4 i sa so un dp ro ce du re ."
Th e p ro pe rt y o f c om pl et en es s i s a ls o d es ir ab le: a n i nf er en ce a lg or it hm i s c om pl et e i f
COMPLETENESS
"i t c an d er iv e a ny s en te nc e t ha t i s e nt ai le d . Fo r r ea l h ay st ac ks , w hi ch a re f in it e i n e xt en t ,"
i t s ee ms o bv io us t ha t a s ys te ma ti c e xa mi na ti on c an a lw ay s d ec id e w he th er t he n ee dl e i s i n
"t he ha ys ta ck . Fo rm an yk no wl ed ge b as es , h ow ev er , t he ha ys ta ck o fc on se qu en ce s i si nf in it e ,"
"a nd c om pl et en es s b ec om es a n i mp or ta nt i ss ue .5 Fo rt un at el y , t he re a re c om pl et e i nf er en ce"
p ro ce du re s f or lo gi cs th at ar es uf fi ci en tl y e xp re ss iv et oh an dl e m an yk no wl ed ge ba se s .
We h av e d es cr ib ed a r ea so ni ng p ro ce ss w ho se c on cl us io ns a re g ua ra nt ee d t o b e t ru e
"i n a ny w or ld i n w hi ch t he p re mi se s a re t ru e ; i n p ar ti cu la r , i f KB i s t ru e i n t he r ea l w or ld ,"
t he na ny se nt en ce αd er iv ed f ro m KB b ya so un di nf er en ce p ro ce du re i sa ls ot ru ei nt he re al
"w or ld . So ,w hi le an in fe re nc ep ro ce ss op er at es on“s yn ta x”—i nt er na l p hy si ca lc on fi gu ra ti on s"
s uc h a s b it s i n r eg is te rs o r p at te rn s o f e le ct ri ca l b li ps i n b ra in s—t he p ro ce ss c or re sp on ds
"3 Th ea ge nt ca nc al cu la te th ep ro ba bi li ty th at th er ei sa pi ti n[2,2];Ch ap te r 13 s ho ws ho w ."
"4 Mo de l c he ck in g w or ks i f t he s pa ce o f m od el s i sf in it e—f or ex am pl e , i nw um pu s w or ld s o f f ix ed si ze . Fo r"
"a ri th me ti c ,o nt he ot he rh an d ,t he sp ac eo fm od el si si nf in it e: e ve ni fw er es tr ic to ur se lv es to th ei nt eg er s ,t he re"
a re in fi ni te ly ma ny pa ir so fv al ue sf or xa nd yi nt he se nt en ce x+y=4.
"5 Co mp ar ew it ht he ca se of in fi ni te se ar ch sp ac es in Ch ap te r 3,w he re de pt h-f ir st se ar ch is no tc om pl et e ."
Se ct io n 7.4. Pr op os it io na l Lo gi c: AVe ry Si mp le Lo gi c 243
Se nt en ce s Se nt en ce
En ta il s
Fo ll ow s
Se ma nt ic s Se ma nt ic s
Re pr es en ta ti on
Wo rl d
As pe ct s o f t he As pe ct o f t he
r ea l w or ld r ea l w or ld
"Fi gu re 7.6 Se nt en ce sa re ph ys ic al co nf ig ur at io ns of th ea ge nt ,a nd re as on in gi sa pr oc es s"
o f c on st ru ct in g n ew p hy si ca l c on fi gu ra ti on s f ro m o ld o ne s . Lo gi ca l r ea so ni ng s ho ul d e n-
s ur et ha tt he ne wc on fi gu ra ti on sr ep re se nt as pe ct so ft he wo rl dt ha ta ct ua ll yf ol lo wf ro mt he
a sp ec ts th at th eo ld co nf ig ur at io ns re pr es en t .
t o t he r ea l-w or ld r el at io ns hi p w he re by s om e a sp ec t o f t he r ea l w or ld i s t he c as e 6 b y v ir tu e
o f o th er a sp ec ts o f t he r ea l w or ld b ei ng t he c as e . Th is c or re sp on de nc e b et we en w or ld a nd
r ep re se nt at io n i si ll us tr at ed i n Fi gu re 7.6.
Th e f in al i ss ue t o c on si de r i s g ro un di ng—t he c on ne ct io n b et we en l og ic al r ea so ni ng
GROUNDING
"p ro ce ss es a nd th e r ea l e nv ir on me nt i nw hi ch t he ag en t e xi st s . In pa rt ic ul ar , h ow d o w ek no w"
"t ha t KB i s t ru e i n t he r ea l w or ld ? (Af te r a ll , KB i s j us t “s yn ta x” i ns id e t he a ge nt’s h ea d .)"
"Th is i s a p hi lo so ph ic al q ue st io n a bo ut w hi ch m an y , m an y b oo ks h av e b ee n w ri tt en . (Se e"
"Ch ap te r 26.) As im pl ea ns we ri st ha tt he ag en t’s se ns or s c re at et he co nn ec ti on . Fo re xa mp le ,"
o ur w um pu s-w or ld a ge nt h as a s me ll s en so r . Th e a ge nt p ro gr am c re at es a s ui ta bl e s en te nc e
"w he ne ve r t he re i s a s me ll . Th en , w he ne ve r t ha t s en te nc e i s i n t he k no wl ed ge b as e , i t i s"
"t ru e i n t he r ea l w or ld . Th us , t he m ea ni ng a nd t ru th o f p er ce pt s en te nc es a re d ef in ed b y t he"
p ro ce ss es of se ns in ga nd se nt en ce co ns tr uc ti on t ha tp ro du ce th em . Wh at ab ou tt he re st of th e
"a ge nt’s k no wl ed ge , s uc h a s i ts b el ie f t ha t w um pu se s c au se s me ll s i n a dj ac en t s qu ar es ? Th is"
"i s n ot a d ir ec t r ep re se nt at io n o f a s in gl e p er ce pt , b ut a g en er al r ul e—d er iv ed , p er ha ps , f ro m"
p er ce pt ua l e xp er ie nc e b ut n ot i de nt ic al t o a s ta te me nt o f t ha t e xp er ie nc e . Ge ne ra l r ul es l ik e
"t hi s a re p ro du ce d b y a s en te nc e c on st ru ct io n p ro ce ss c al le d l ea rn in g , w hi ch i s t he s ub je ct"
o f Pa rt V . Le ar ni ng i s f al li bl e . It c ou ld b e t he c as e t ha t w um pu se s c au se s me ll s e xc ep t o n
"Fe br ua ry 29 i nl ea py ea rs ,w hi ch is wh en th ey ta ke th ei rb at hs . Th us ,KB m ay no tb et ru ei n"
"t he re al wo rl d ,b ut wi th go od le ar ni ng p ro ce du re s , t he re is re as on fo ro pt im is m ."
7.4 PROPOSITIONAL LOGIC: A VERY SIMPLE LOGIC
PROPOSITIONAL We no wp re se nt as im pl eb ut po we rf ul lo gi cc al le d p ro po si ti on al l og ic . We co ve rt he sy nt ax
LOGIC
o f p ro po si ti on al l og ic a nd i ts s em an ti cs—t he w ay i n w hi ch t he t ru th o f s en te nc es i s d et er-
m in ed . Th en w e l oo k a t e nt ai lm en t—t he r el at io n b et we en a s en te nc e a nd a no th er s en te nc e
t ha tf ol lo ws f ro m i t—a nd se eh ow t hi sl ea ds t oa si mp le a lg or it hm f or lo gi ca l i nf er en ce . Ev-
"e ry th in g t ak es pl ac e , o fc ou rs e , i nt he wu mp us wo rl d ."
6 As Wi tt ge ns te in(1922)p ut it in hi sf am ou s Tr ac ta tu s:“Th ew or ld is ev er yt hi ng th at is th ec as e .”
244 Ch ap te r 7. Lo gi ca l Ag en ts
7.4.1 Sy nt ax
Th e s yn ta x o f p ro po si ti on al l og ic d ef in es t he a ll ow ab le s en te nc es . Th e a to mi c s en te nc es
ATOMICSENTENCES
PROPOSITION c on si st o f a s in gl e p ro po si ti on s ym bo l . Ea ch s uc h s ym bo l s ta nd s f or a p ro po si ti on t ha t c an
SYMBOL
b e t ru e o r f al se . We u se s ym bo ls t ha t s ta rt w it h a n u pp er ca se l et te r a nd m ay c on ta in o th er
"l et te rs o r s ub sc ri pt s , f or e xa mp le: P , Q , R , W a nd No rt h . Th e n am es a re a rb it ra ry b ut"
"1,3"
a re o ft en c ho se n t o h av e s om e m ne mo ni c v al ue—w e u se W t o s ta nd f or t he p ro po si ti on
"1,3"
"t ha t t he w um pu s i s i n [1,3]. (Re me mb er t ha t s ym bo ls s uc h a s W a re a to mi c , i .e ., W , 1,"
"1,3"
a nd 3 a re no tm ea ni ng fu lp ar ts of th es ym bo l .) Th er ea re tw op ro po si ti on s ym bo ls wi th fi xe d
m ea ni ng s: Tr ue i s t he a lw ay s-t ru e p ro po si ti on a nd Fa ls e i s t he a lw ay s-f al se p ro po si ti on .
"COMPLEX Co mp le x s en te nc es a re c on st ru ct ed f ro m s im pl er s en te nc es , u si ng p ar en th es es a nd l og ic al"
SENTENCES
LOGICAL c on ne ct iv es . Th er ea re fi ve co nn ec ti ve s i nc om mo nu se:
CONNECTIVES
¬ (n ot). A s en te nc e s uc h a s ¬W i s c al le d t he n eg at io n o f W . A l it er al i s e it he r a n
"NEGATION 1,3 1,3"
a to mi cs en te nc e(a po si ti ve li te ra l)o ra ne ga te da to mi cs en te nc e (a ne ga ti ve l it er al).
LITERAL
"∧ (a nd). A s en te nc e w ho se m ai n c on ne ct iv e i s ∧, s uc h a s W ∧P , i s c al le d a c on-"
"1,3 3,1"
j un ct io n ;i ts pa rt sa re th ec on ju nc ts . (Th e∧l oo ks li ke an“A”f or“An d .”)
CONJUNCTION
"∨ (o r). As en te nc eu si ng∨,s uc ha s(W ∧P )∨W ,i sa di sj un ct io no ft he di sj un ct s"
"DISJUNCTION 1,3 3,1 2,2"
"(W ∧P )a nd W . (Hi st or ic al ly , t he ∨c om es f ro mt he La ti n“v el ,”w hi ch m ea ns"
"1,3 3,1 2,2"
"“o r .” Fo rm os tp eo pl e , i ti se as ie rt or em em be r ∨a sa nu ps id e-d ow n ∧.)"
⇒ (i mp li es). As en te nc es uc ha s(W ∧P ) ⇒ ¬W i sc al le da ni mp li ca ti on(o rc on-
"IMPLICATION 1,3 3,1 2,2"
"d it io na l). It sp re mi se or an te ce de nt is(W ∧P ),a nd it sc on cl us io no rc on se qu en t"
"PREMISE 1,3 3,1"
i s¬W . Im pl ic at io ns a re al so kn ow na s r ul es or if–t he ns ta te me nt s . Th ei mp li ca ti on
"CONCLUSION 2,2"
s ym bo li ss om et im es wr it te ni no th er bo ok sa s ⊃o r→.
RULES
⇔ (i f a nd o nl y i f). Th e s en te nc e W ⇔ ¬W i s a b ic on di ti on al . So me o th er b oo ks
"BICONDITIONAL 1,3 2,2"
w ri te th is as≡.
Se nt en ce → At om ic Se nt en ce | Co mp le x Se nt en ce
At om ic Se nt en ce → Tr ue | Fa ls e | P | Q | R | ...
Co mp le x Se nt en ce → (Se nt en ce )| [Se nt en ce ]
| ¬Se nt en ce
| Se nt en ce ∧Se nt en ce
| Se nt en ce ∨Se nt en ce
| Se nt en ce ⇒ Se nt en ce
| Se nt en ce ⇔ Se nt en ce
"OPERATORPRECEDENCE : ¬,∧,∨,⇒,⇔"
"Fi gu re 7.7 A BNF (Ba ck us–Na ur Fo rm) g ra mm ar o f s en te nc es i n p ro po si ti on al l og ic ,"
"a lo ng wi th op er at or pr ec ed en ce s ,f ro mh ig he st to lo we st ."
Se ct io n 7.4. Pr op os it io na l Lo gi c: AVe ry Si mp le Lo gi c 245
Fi gu re 7.7 g iv es af or ma lg ra mm ar of pr op os it io na l l og ic ; s ee pa ge 1060 i fy ou ar en ot
f am il ia r w it h t he BNF n ot at io n . Th e BNF g ra mm ar b y i ts el f i s a mb ig uo us ; a s en te nc e w it h
s ev er al op er at or sc an be pa rs ed by th eg ra mm ar in mu lt ip le wa ys . To el im in at et he am bi gu it y
"w ed ef in ea pr ec ed en ce fo re ac ho pe ra to r . Th e“n ot”o pe ra to r(¬)h as th eh ig he st pr ec ed en ce ,"
"w hi ch m ea ns t ha t i n t he s en te nc e ¬A∧B t he ¬b in ds m os t t ig ht ly , g iv in g u s t he e qu iv al en t"
o f(¬A)∧Br at he rt ha n¬(A∧B). (Th en ot at io nf or or di na ry ar it hm et ic is th es am e: −2+4
"i s 2,n ot–6.) Wh en in do ub t ,u se pa re nt he se s t om ak es ur eo ft he ri gh ti nt er pr et at io n . Sq ua re"
b ra ck et s m ea nt he sa me th in g a sp ar en th es es ; t he ch oi ce o fs qu ar e b ra ck et s o rp ar en th es es i s
s ol el yt om ak ei te as ie rf or ah um an to re ad as en te nc e .
7.4.2 Se ma nt ic s
"Ha vi ng s pe ci fi ed t he s yn ta x o f p ro po si ti on al l og ic , w e n ow s pe ci fy i ts s em an ti cs . Th e s e-"
m an ti cs d ef in es t he r ul es f or d et er mi ni ng t he t ru th o f a s en te nc e w it h r es pe ct t o a p ar ti cu la r
"m od el . In pr op os it io na l l og ic , a mo de ls im pl y f ix es th et ru th va lu e—t ru e o rf al se—f or ev-"
TRUTHVALUE
"e ry pr op os it io n s ym bo l . Fo re xa mp le ,i ft he se nt en ce si nt he k no wl ed ge ba se ma ke us eo ft he"
"p ro po si ti on s ym bo ls P ,P ,a nd P ,t he no ne po ss ib le m od el is"
"1,2 2,2 3,1"
"m = {P =f al se , P =f al se , P =t ru e}."
"1 1,2 2,2 3,1"
"Wi th t hr ee p ro po si ti on s ym bo ls , t he re a re 23=8 p os si bl e m od el s—e xa ct ly t ho se d ep ic te d"
"i n Fi gu re 7.5. No ti ce , h ow ev er , t ha t t he m od el s a re p ur el y m at he ma ti ca l o bj ec ts w it h n o"
n ec es sa ry c on ne ct io n t o w um pu s w or ld s . P i s j us t a sy mb ol ; i tm ig ht m ea n “t he re i s a pi t
"1,2"
"i n[1,2]”o r“I’m in Pa ri st od ay an dt om or ro w .”"
Th e s em an ti cs f or p ro po si ti on al l og ic m us t s pe ci fy h ow t o c om pu te t he t ru th v al ue o f
"a ny s en te nc e , g iv en a m od el . Th is i s d on e r ec ur si ve ly . Al l s en te nc es a re c on st ru ct ed f ro m"
"a to mi cs en te nc es a nd th ef iv ec on ne ct iv es ; t he re fo re , w en ee d t os pe ci fy h ow t oc om pu te t he"
t ru th of at om ic se nt en ce s a nd ho wt oc om pu te th et ru th of se nt en ce s f or me dw it he ac ho ft he
f iv ec on ne ct iv es . At om ic se nt en ce s a re ea sy:
• Tr ue i st ru ei ne ve ry mo de la nd Fa ls e i sf al se in ev er ym od el .
• Th e t ru th v al ue o f e ve ry o th er p ro po si ti on s ym bo l m us t b e s pe ci fi ed d ir ec tl y i n t he
"m od el . Fo re xa mp le ,i nt he mo de lm g iv en ea rl ie r , P i sf al se ."
"1 1,2"
"Fo rc om pl ex se nt en ce s , w eh av e f iv er ul es , w hi ch ho ld f or an ys ub se nt en ce s P a nd Qi na ny"
m od el m(h er e“i ff”m ea ns“i fa nd on ly if”):
• ¬P i st ru ei ff P i sf al se in m .
• P ∧Qi st ru ei ff bo th P a nd Qa re tr ue in m .
• P ∨Qi st ru ei ff ei th er P o r Qi st ru ei nm .
• P ⇒ Qi st ru eu nl es s P i st ru ea nd Qi sf al se in m .
• P ⇔ Qi st ru ei ff P a nd Qa re bo th tr ue or bo th fa ls ei n m .
Th e r ul es c an a ls o b e e xp re ss ed w it h t ru th t ab le s t ha t s pe ci fy t he t ru th v al ue o f a c om pl ex
TRUTHTABLE
s en te nc e f or ea ch p os si bl e a ss ig nm en t o ft ru th v al ue s t oi ts c om po ne nt s . Tr ut ht ab le s f or th e
"f iv ec on ne ct iv es a re gi ve n i n Fi gu re 7.8. Fr om th es e t ab le s , t he tr ut h v al ue o fa ny se nt en ce s"
"c an be co mp ut ed wi th re sp ec tt oa ny mo de lm by as im pl er ec ur si ve ev al ua ti on . Fo re xa mp le ,"
246 Ch ap te r 7. Lo gi ca l Ag en ts
P Q ¬P P ∧Q P ∨Q P ⇒ Q P ⇔ Q
f al se f al se t ru e f al se f al se t ru e t ru e
f al se t ru e t ru e f al se t ru e t ru e f al se
t ru e f al se f al se f al se t ru e f al se f al se
t ru e t ru e f al se t ru e t ru e t ru e t ru e
"Fi gu re 7.8 Tr ut ht ab le sf or th ef iv el og ic al co nn ec ti ve s . To us et he ta bl et oc om pu te ,f or"
"e xa mp le ,t he va lu eo f P ∨Qw he n P i st ru ea nd Qi sf al se ,f ir st lo ok on th el ef tf or th er ow"
w he re P i st ru ea nd Qi sf al se(t he th ir dr ow).Th en lo ok in th at ro wu nd er th e P∨Qc ol um n
t os ee th er es ul t: t ru e .
"t he s en te nc e ¬P ∧(P ∨ P ), e va lu at ed i n m , g iv es t ru e ∧(f al se ∨t ru e)=t ru e ∧"
"1,2 2,2 3,1 1"
"t ru e=t ru e . Ex er ci se 7.3 a sk sy ou to wr it et he al go ri th m PL-TRUE ?(s ,m),w hi ch co mp ut es"
t he tr ut hv al ue of ap ro po si ti on al l og ic se nt en ce s in am od el m .
"Th et ru th t ab le s f or“a nd ,” “o r ,” a nd“n ot” a re in cl os e a cc or d w it ho ur in tu it io ns a bo ut"
t he En gl is hw or ds . Th em ai np oi nt of po ss ib le co nf us io ni st ha t P ∨Qi st ru ew he n P i st ru e
"o r Q i s t ru e o r b ot h . A d if fe re nt c on ne ct iv e , c al le d “e xc lu si ve o r” (“x or” f or s ho rt), y ie ld s"
f al se w he n b ot h d is ju nc ts a re t ru e .7 Th er e i s n o c on se ns us o n t he s ym bo l f or e xc lu si ve o r ;
s om ec ho ic es ar e∨˙ o r(c id:7)=o r⊕.
Th et ru th t ab le f or ⇒ m ay no t q ui te f it on e’s i nt ui ti ve u nd er st an di ng o f “P i mp li es Q”
"o r“i f P t he n Q .” Fo ro ne th in g ,p ro po si ti on al lo gi cd oe sn ot re qu ir ea ny re la ti on of ca us at io n"
o rr el ev an ce be tw ee n P a nd Q . Th es en te nc e“5 i so dd im pl ie s To ky oi st he ca pi ta lo f Ja pa n”
"i s a t ru e s en te nc e o f p ro po si ti on al l og ic (u nd er t he n or ma l i nt er pr et at io n), e ve n t ho ug h i t i s"
a d ec id ed ly o dd s en te nc e o f En gl is h . An ot he r p oi nt o f c on fu si on i s t ha t a ny i mp li ca ti on i s
"t ru e w he ne ve r i ts a nt ec ed en t i s f al se . Fo re xa mp le , “5 i s e ve n i mp li es Sa m i s s ma rt” i s t ru e ,"
"r eg ar dl es s o f w he th er Sa m i s s ma rt . Th is s ee ms b iz ar re , b ut i t m ak es s en se i f y ou t hi nk o f"
"“P ⇒ Q”a ss ay in g ,“If P i st ru e ,t he n Ia mc la im in gt ha t Qi st ru e . Ot he rw is e Ia mm ak in g"
n oc la im .” Th eo nl yw ay fo rt hi ss en te nc e t ob ef al se is if P i st ru eb ut Qi sf al se .
"Th e b ic on di ti on al , P ⇔ Q , i s t ru e w he ne ve r b ot h P ⇒ Q a nd Q ⇒ P a re t ru e . In"
"En gl is h ,t hi si so ft en wr it te na s“P i fa nd on ly if Q .” Ma ny of th er ul es of th ew um pu sw or ld"
"a re b es t w ri tt en u si ng ⇔. Fo re xa mp le , a s qu ar e i s b re ez y i f a n ei gh bo ri ng s qu ar e h as a p it ,"
"a nd as qu ar ei sb re ez y o nl yi fa ne ig hb or in g s qu ar eh as ap it . So we ne ed ab ic on di ti on al ,"
"B ⇔ (P ∨P ),"
"1,1 1,2 2,1"
"w he re B m ea ns th at th er ei sa br ee ze in[1,1]."
"1,1"
7.4.3 A s im pl ek no wl ed ge b as e
"No wt ha tw eh av ed ef in ed th es em an ti cs fo rp ro po si ti on al lo gi c ,w ec an co ns tr uc ta kn ow le dg e"
"b as e f or t he w um pu s w or ld . We f oc us f ir st o n t he i mm ut ab le a sp ec ts o f t he w um pu s w or ld ,"
"l ea vi ng t he m ut ab le a sp ec ts f or a l at er s ec ti on . Fo rn ow , w en ee d t he f ol lo wi ng s ym bo ls f or"
"e ac h[x ,y]l oc at io n:"
"7 La ti nh as as ep ar at ew or d ,a ut ,f or ex cl us iv eo r ."
Se ct io n 7.4. Pr op os it io na l Lo gi c: AVe ry Si mp le Lo gi c 247
"P i st ru ei ft he re is ap it in[x ,y]."
"x ,y"
"W i st ru ei ft he re is aw um pu si n [x ,y],d ea do ra li ve ."
"x ,y"
"B i st ru ei ft he ag en tp er ce iv es a br ee ze in [x ,y]."
"x ,y"
"S i st ru ei ft he ag en tp er ce iv es as te nc hi n [x ,y]."
"x ,y"
"Th e s en te nc es w e w ri te w il l s uf fi ce t o d er iv e ¬P (t he re i s n o p it i n [1,2]), a s w as d on e"
"1,2"
i nf or ma ll y i n Se ct io n 7.3. We la be le ac hs en te nc e R s ot ha tw ec an re fe rt ot he m:
i
"• Th er ei sn op it in[1,1]:"
R : ¬P .
"1 1,1"
• A s qu ar e i s b re ez y i f a nd o nl y i f t he re i s a p it i n a n ei gh bo ri ng s qu ar e . Th is h as t o b e
"s ta te df or ea ch sq ua re ; f or no w ,w ei nc lu de ju st th er el ev an t s qu ar es:"
R : B ⇔ (P ∨P ).
"2 1,1 1,2 2,1"
R : B ⇔ (P ∨P ∨P ).
"3 2,1 1,1 2,2 3,1"
• Th e p re ce di ng s en te nc es a re t ru e i n a ll w um pu s w or ld s . No w w e i nc lu de t he b re ez e
"p er ce pt sf or th ef ir st tw os qu ar es vi si te di nt he sp ec if ic wo rl dt he ag en ti si n ,l ea di ng up"
t ot he si tu at io n i n Fi gu re 7.3(b).
R : ¬B .
"4 1,1"
R : B .
"5 2,1"
7.4.4 A s im pl ei nf er en ce p ro ce du re
"Ou r g oa l n ow i s t o d ec id e w he th er KB |= α f or s om e s en te nc e α. Fo r e xa mp le , i s ¬P"
"1,2"
e nt ai le db yo ur KB ? Ou rf ir st al go ri th m f or in fe re nc e i sa mo de l-c he ck in g a pp ro ac ht ha ti sa
"d ir ec t i mp le me nt at io n o f t he d ef in it io n o f e nt ai lm en t: e nu me ra te t he m od el s , a nd c he ck t ha t"
α i s t ru e i n e ve ry m od el i n w hi ch KB i s t ru e . Mo de ls a re a ss ig nm en ts o f t ru e o r f al se t o
"e ve ry p ro po si ti on s ym bo l . Re tu rn in g t o o ur w um pu s-w or ld e xa mp le , t he r el ev an t p ro po si-"
"t io n s ym bo ls a re B , B , P , P , P , P , a nd P . Wi th s ev en s ym bo ls , t he re a re"
"1,1 2,1 1,1 1,2 2,1 2,2 3,1"
"27=128 p os si bl e m od el s ; i n t hr ee o f t he se , KB i s t ru e (Fi gu re 7.9). In t ho se t hr ee m od el s ,"
"¬P i st ru e ,h en ce th er ei sn op it in[1,2]. On th eo th er ha nd , P i st ru ei nt wo of th et hr ee"
"1,2 2,2"
"m od el sa nd fa ls ei no ne ,s ow ec an no ty et te ll wh et he rt he re is ap it in[2,2]."
Fi gu re 7.9 r ep ro du ce s i na mo re pr ec is e f or m t he re as on in g i ll us tr at ed i n Fi gu re 7.5. A
g en er al al go ri th mf or de ci di ng en ta il me nt in pr op os it io na ll og ic is sh ow ni n Fi gu re 7.10. Li ke
"t he BACKTRACKING-SEARCH a lg or it hm o n p ag e 215, TT-ENTAILS ? p er fo rm s a r ec ur si ve"
e nu me ra ti on o f a fi ni te s pa ce o f a ss ig nm en ts t o s ym bo ls . Th ea lg or it hm i s s ou nd be ca us e i t
"i mp le me nt s d ir ec tl y t he de fi ni ti on o fe nt ai lm en t , a nd c om pl et eb ec au se i tw or ks fo ra ny KB"
a ndαa nd al wa ys te rm in at es—t he re a re on ly fi ni te ly ma ny mo de ls to e xa mi ne .
"Of c ou rs e , “f in it el y m an y” i s n ot a lw ay s t he s am e a s “f ew .” If KB a nd α c on ta in n"
"s ym bo ls i n a ll , t he n t he re a re 2 n m od el s . Th us , t he t im e c om pl ex it y o f t he a lg or it hm i s"
O(2 n). (Th es pa ce co mp le xi ty is on ly O(n)b ec au se th ee nu me ra ti on i sd ep th-f ir st .) La te ri n
"t hi s c ha pt er w es ho w a lg or it hm s t ha t a re m uc h m or e e ff ic ie nt i n m an y c as es . Un fo rt un at el y ,"
"p ro po si ti on al e nt ai lm en t i sc o-NP-c om pl et e (i .e .,p ro ba bl y n oe as ie rt ha n NP-c om pl et e—s ee"
"Ap pe nd ix A), s o e ve ry k no wn i nf er en ce a lg or it hm f or p ro po si ti on al l og ic h as a w or st-c as e"
c om pl ex it y t ha ti se xp on en ti al i nt he si ze of th ei np ut .
248 Ch ap te r 7. Lo gi ca l Ag en ts
"B 1,1 B 2,1 P 1,1 P 1,2 P 2,1 P 2,2 P 3,1 R 1 R 2 R 3 R 4 R 5 KB"
f al se f al se f al se f al se f al se f al se f al se t ru e t ru e t ru e t ru e f al se f al se
f al se f al se f al se f al se f al se f al se t ru e t ru e t ru e f al se t ru e f al se f al se
. . . . . . . . . . . . .
. . . . . . . . . . . . .
. . . . . . . . . . . . .
f al se t ru e f al se f al se f al se f al se f al se t ru e t ru e f al se t ru e t ru e f al se
f al se t ru e f al se f al se f al se f al se t ru e t ru e t ru e t ru e t ru e t ru e t ru e
f al se t ru e f al se f al se f al se t ru e f al se t ru e t ru e t ru e t ru e t ru e t ru e
f al se t ru e f al se f al se f al se t ru e t ru e t ru e t ru e t ru e t ru e t ru e t ru e
f al se t ru e f al se f al se t ru e f al se f al se t ru e f al se f al se t ru e t ru e f al se
. . . . . . . . . . . . .
. . . . . . . . . . . . .
. . . . . . . . . . . . .
t ru e t ru e t ru e t ru e t ru e t ru e t ru e f al se t ru e t ru e f al se t ru e f al se
Fi gu re 7.9 At ru th ta bl ec on st ru ct ed fo rt he kn ow le dg eb as eg iv en in th et ex t . KBi st ru e
"i f R t hr ou gh R a re tr ue ,w hi ch oc cu rs in ju st 3 o ft he 128 r ow s(t he on es un de rl in ed in th e"
1 5
"r ig ht-h an dc ol um n).In al l 3 r ow s ,P 1,2 i sf al se ,s ot he re is no pi ti n[1,2].On th eo th er ha nd ,"
"t he re mi gh t(o rm ig ht no t)b ea pi ti n[2,2]."
"f un ct io n TT-ENTAILS ?(KB ,α)r et ur ns tr ue o rf al se"
"i np ut s:KB ,t he kn ow le dg eb as e ,a se nt en ce in pr op os it io na ll og ic"
"α,t he qu er y ,a se nt en ce in pr op os it io na ll og ic"
s ym bo ls←a li st of th ep ro po si ti on sy mb ol si n KB a ndα
"r et ur n TT-CHECK-ALL(KB ,α,s ym bo ls ,{})"
"f un ct io n TT-CHECK-ALL(KB ,α,s ym bo ls ,m od el)r et ur ns tr ue o rf al se"
i f EMPTY ?(s ym bo ls)t he n
"i f PL-TRUE ?(KB ,m od el)t he nr et ur n PL-TRUE ?(α,m od el)"
"e ls er et ur nt ru e // w he n KBi sf al se ,a lw ay sr et ur nt ru e"
e ls ed o
P←FIRST(s ym bo ls)
r es t←REST(s ym bo ls)
"r et ur n(TT-CHECK-ALL(KB ,α,r es t ,m od el ∪{P = t ru e})"
a nd
"TT-CHECK-ALL(KB ,α,r es t ,m od el ∪{P = f al se }))"
Fi gu re 7.10 A t ru th-t ab le e nu me ra ti on a lg or it hm f or d ec id in g p ro po si ti on al en ta il me nt .
(TTs ta nd sf or tr ut ht ab le .) PL-TRUE ? r et ur ns tr ue if as en te nc eh ol ds wi th in am od el . Th e
v ar ia bl em od el re pr es en ts ap ar ti al mo de l—a na ss ig nm en tt os om eo ft he sy mb ol s . Th ek ey-
"w or d“a nd”i su se dh er ea sa lo gi ca lo pe ra ti on on it st wo ar gu me nt s ,r et ur ni ng tr ue o rf al se ."
Se ct io n 7.5. Pr op os it io na l Th eo re m Pr ov in g 249
(α∧β) ≡ (β ∧α) c om mu ta ti vi ty o f∧
(α∨β) ≡ (β ∨α) c om mu ta ti vi ty o f∨
((α∧β)∧γ) ≡ (α∧(β∧γ)) a ss oc ia ti vi ty o f∧
((α∨β)∨γ) ≡ (α∨(β∨γ)) a ss oc ia ti vi ty o f∨
¬(¬α) ≡ α d ou bl e-n eg at io n e li mi na ti on
(α ⇒ β) ≡ (¬β ⇒ ¬α) c on tr ap os it io n
(α ⇒ β) ≡ (¬α∨β) i mp li ca ti on e li mi na ti on
(α ⇔ β) ≡ ((α ⇒ β)∧(β ⇒ α)) b ic on di ti on al e li mi na ti on
¬(α∧β) ≡ (¬α∨¬β) De Mo rg an
¬(α∨β) ≡ (¬α∧¬β) De Mo rg an
(α∧(β ∨γ)) ≡ ((α∧β)∨(α∧γ)) d is tr ib ut iv it y o f ∧ o ve r∨
(α∨(β ∧γ)) ≡ ((α∨β)∧(α∨γ)) d is tr ib ut iv it y o f ∨ o ve r∧
"Fi gu re 7.11 St an da rd lo gi ca le qu iv al en ce s . Th es ym bo lsα, β, a ndγ s ta nd fo ra rb it ra ry"
s en te nc es of pr op os it io na ll og ic .
7.5 PROPOSITIONAL THEOREM PROVING
"So fa r ,w eh av es ho wn ho wt od et er mi ne en ta il me nt by mo de lc he ck in g: e nu me ra ti ng mo de ls"
"a nd s ho wi ng t ha t t he s en te nc e m us t h ol d i n a ll m od el s . In t hi s s ec ti on , w es ho w h ow e nt ai l-"
m en tc an be do ne by th eo re mp ro vi ng—a pp ly in g r ul es of in fe re nc ed ir ec tl yt ot he se nt en ce s
THEOREMPROVING
i no ur kn ow le dg eb as et oc on st ru ct ap ro of of th ed es ir ed se nt en ce wi th ou tc on su lt in gm od el s .
"If th en um be ro fm od el si sl ar ge bu tt he le ng th of th ep ro of is sh or t ,t he nt he or em pr ov in gc an"
b em or ee ff ic ie nt th an mo de lc he ck in g .
"Be fo re w e p lu ng e i nt o t he d et ai ls o f t he or em-p ro vi ng a lg or it hm s , w e w il l n ee d s om e"
LOGICAL a dd it io na l c on ce pt s r el at ed t oe nt ai lm en t . Th ef ir st co nc ep t i sl og ic al e qu iv al en ce: t wo se n-
EQUIVALENCE
t en ce s α a nd β a re l og ic al ly e qu iv al en t i f t he y a re t ru e i n t he s am e s et o f m od el s . We w ri te
"t hi s a s α ≡ β. Fo re xa mp le , w ec an e as il y s ho w (u si ng t ru th t ab le s) t ha t P ∧Q a nd Q∧P"
a re l og ic al ly e qu iv al en t ; o th er e qu iv al en ce s a re s ho wn i n Fi gu re 7.11. Th es e e qu iv al en ce s
p la y m uc h t he s am e r ol e i n l og ic a s a ri th me ti c i de nt it ie s d o i n o rd in ar y m at he ma ti cs . An
a lt er na ti ve d ef in it io n o f e qu iv al en ce i s a sf ol lo ws: a ny t wo s en te nc es α a nd β a re e qu iv al en t
o nl yi fe ac ho ft he me nt ai ls th eo th er:
α ≡ β i fa nd on ly if α |= β a ndβ |= α.
Th es ec on dc on ce pt we wi ll ne ed is va li di ty . As en te nc ei sv al id if it is tr ue in al lm od el s . Fo r
VALIDITY
"e xa mp le ,t he se nt en ce P ∨¬P i sv al id . Va li ds en te nc es ar ea ls ok no wn as ta ut ol og ie s—t he y"
TAUTOLOGY
"a re n ec es sa ri ly t ru e . Be ca us e t he s en te nc e Tr ue i s t ru e i n a ll m od el s , e ve ry v al id s en te nc e"
i s l og ic al ly e qu iv al en t t o Tr ue . Wh at g oo d a re v al id s en te nc es ? Fr om o ur d ef in it io n o f
"DEDUCTION e nt ai lm en t , w ec an de ri ve th ed ed uc ti on th eo re m ,w hi ch wa sk no wn to th ea nc ie nt Gr ee ks:"
THEOREM
"Fo ra ny se nt en ce s αa ndβ,α |= β i fa nd on ly if th es en te nc e(α ⇒ β)i sv al id ."
"(Ex er ci se 7.5 a sk sf or ap ro of .) He nc e , w ec an de ci de i f α |= β b yc he ck in g t ha t(α ⇒ β)i s"
t ru ei ne ve ry mo de l—w hi ch is es se nt ia ll yw ha tt he in fe re nc e a lg or it hm in Fi gu re 7.10 d oe s—
250 Ch ap te r 7. Lo gi ca l Ag en ts
"o rb y p ro vi ng t ha t (α ⇒ β) i se qu iv al en t t o Tr ue . Co nv er se ly , t he d ed uc ti on t he or em s ta te s"
t ha te ve ry va li di mp li ca ti on s en te nc e d es cr ib es a le gi ti ma te in fe re nc e .
Th e f in al c on ce pt w e w il l n ee d i s s at is fi ab il it y . A s en te nc e i s s at is fi ab le i f i t i s t ru e
SATISFIABILITY
"i n , o rs at is fi ed b y , s om e m od el . Fo re xa mp le , t he k no wl ed ge b as e g iv en e ar li er , (R ∧R ∧"
1 2
"R ∧ R ∧ R ), i s s at is fi ab le b ec au se t he re a re t hr ee m od el s i n w hi ch i t i s t ru e , a s s ho wn"
3 4 5
i n Fi gu re 7.9. Sa ti sf ia bi li ty c an b e c he ck ed b y e nu me ra ti ng t he p os si bl e m od el s u nt il o ne i s
f ou nd t ha t s at is fi es t he s en te nc e . Th e p ro bl em o f d et er mi ni ng t he s at is fi ab il it y o f s en te nc es
i np ro po si ti on al l og ic—t he SATp ro bl em—w as t he fi rs tp ro bl em p ro ve d t ob e NP-c om pl et e .
SAT
"Ma ny p ro bl em s i n c om pu te r s ci en ce a re r ea ll y s at is fi ab il it y p ro bl em s . Fo r e xa mp le , a ll t he"
c on st ra in t s at is fa ct io n p ro bl em s i n Ch ap te r 6 a sk w he th er t he c on st ra in ts a re s at is fi ab le b y
s om ea ss ig nm en t .
Va li di ty a nd s at is fi ab il it y a re o f c ou rs e c on ne ct ed: α i s v al id i ff ¬α i s u ns at is fi ab le ;
"c on tr ap os it iv el y , αi ss at is fi ab le i ff¬αi sn ot va li d . We al so ha ve th ef ol lo wi ng us ef ul re su lt:"
α|= β i fa nd on ly if th es en te nc e (α∧¬β)i su ns at is fi ab le .
Pr ov in g β f ro m α b y c he ck in g t he u ns at is fi ab il it y o f (α ∧ ¬β) c or re sp on ds e xa ct ly t o t he
"REDUCTIOAD s ta nd ar d m at he ma ti ca l p ro of t ec hn iq ue o f r ed uc ti o a d a bs ur du m (l it er al ly , “r ed uc ti on t o a n"
ABSURDUM
a bs ur dt hi ng”). It is al so ca ll ed pr oo fb yr ef ut at io no rp ro of by co nt ra di ct io n . On ea ss um es a
REFUTATION
s en te nc eβt ob ef al se an ds ho ws th at th is le ad st oa co nt ra di ct io n w it hk no wn ax io msα. Th is
CONTRADICTION
c on tr ad ic ti on i se xa ct ly wh at is me an tb ys ay in gt ha tt he se nt en ce (α∧¬β)i su ns at is fi ab le .
7.5.1 In fe re nc e a nd pr oo fs
Th is se ct io nc ov er si nf er en ce ru le st ha tc an be ap pl ie dt od er iv ea pr oo f—a ch ai no fc on cl u-
INFERENCERULES
s io ns t ha t l ea ds t ot he d es ir ed g oa l . Th eb es t-k no wn r ul e i s c al le d Mo du s Po ne ns(La ti n f or
PROOF
m od et ha ta ff ir ms)a nd is wr it te n
MODUSPONENS
"α ⇒ β, α"
.
β
"Th e n ot at io n m ea ns t ha t , w he ne ve r a ny s en te nc es o f t he f or m α ⇒ β a nd α a re g iv en , t he n"
"t he se nt en ceβc an be in fe rr ed . Fo re xa mp le ,i f(Wu mp us Ah ea d∧Wu mp us Al iv e) ⇒ Sh oo t"
"a nd(Wu mp us Ah ea d ∧Wu mp us Al iv e)a re gi ve n ,t he n Sh oo t c an be in fe rr ed ."
"An ot he ru se fu li nf er en ce ru le is An d-El im in at io n ,w hi ch sa ys th at ,f ro ma co nj un ct io n ,"
AND-ELIMINATION
a ny of th ec on ju nc ts c an be in fe rr ed:
α∧β
.
α
"Fo re xa mp le ,f ro m (Wu mp us Ah ea d ∧Wu mp us Al iv e),Wu mp us Al iv e c an be in fe rr ed ."
"By c on si de ri ng t he p os si bl e t ru th v al ue s o f α a nd β, o ne c an s ho w e as il y t ha t Mo du s"
Po ne ns a nd An d-El im in at io n a re s ou nd o nc e a nd f or a ll . Th es e r ul es c an t he n b e u se d i n
"a ny p ar ti cu la r i ns ta nc es w he re t he y a pp ly , g en er at in g s ou nd i nf er en ce s w it ho ut t he n ee d f or"
e nu me ra ti ng m od el s .
Al lo ft he lo gi ca le qu iv al en ce s i n Fi gu re 7.11 c an be us ed as in fe re nc er ul es . Fo re xa m-
"p le ,t he eq ui va le nc e f or bi co nd it io na l e li mi na ti on y ie ld s t he tw oi nf er en ce r ul es"
α ⇔ β (α ⇒ β)∧(β ⇒ α)
a nd .
(α ⇒ β)∧(β ⇒ α) α ⇔ β
Se ct io n 7.5. Pr op os it io na l Th eo re m Pr ov in g 251
"No ta ll i nf er en ce r ul es w or k i nb ot h d ir ec ti on s l ik e t hi s . Fo re xa mp le , w ec an no t r un Mo du s"
Po ne ns in th eo pp os it ed ir ec ti on t oo bt ai n α ⇒ β a ndαf ro mβ.
Le tu ss ee ho wt he se in fe re nc er ul es an de qu iv al en ce sc an be us ed in th ew um pu sw or ld .
"We s ta rt w it h t he k no wl ed ge b as e c on ta in in g R t hr ou gh R a nd s ho w h ow t o p ro ve ¬P ,"
"1 5 1,2"
"t ha ti s ,t he re is no pi ti n[1,2]. Fi rs t ,w ea pp ly bi co nd it io na l e li mi na ti on t o R t oo bt ai n"
2
R : (B ⇒ (P ∨P )) ∧ ((P ∨P ) ⇒ B ).
"6 1,1 1,2 2,1 1,2 2,1 1,1"
Th en we ap pl y An d-El im in at io n t o R t oo bt ai n
6
R : ((P ∨P ) ⇒ B ).
"7 1,2 2,1 1,1"
Lo gi ca le qu iv al en ce f or co nt ra po si ti ve s g iv es
R : (¬B ⇒ ¬(P ∨P )).
"8 1,1 1,2 2,1"
"No ww ec an ap pl y Mo du s Po ne ns wi th R a nd th ep er ce pt R (i .e .,¬B ),t oo bt ai n"
"8 4 1,1"
R : ¬(P ∨P ).
"9 1,2 2,1"
"Fi na ll y ,w ea pp ly De Mo rg an’s ru le ,g iv in gt he co nc lu si on"
R : ¬P ∧¬P .
"10 1,2 2,1"
"Th at is ,n ei th er[1,2]n or[2,1]c on ta in s a pi t ."
"We fo un dt hi sp ro of by ha nd ,b ut we ca na pp ly an yo ft he se ar ch al go ri th ms in Ch ap te r 3"
t of in da se qu en ce o fs te ps th at co ns ti tu te s a pr oo f . We ju st ne ed to de fi ne ap ro of pr ob le ma s
f ol lo ws:
• INITIAL STATE: t he in it ia lk no wl ed ge ba se .
• ACTIONS: t he s et o f a ct io ns c on si st s o f a ll t he i nf er en ce r ul es a pp li ed t o a ll t he s en-
t en ce st ha tm at ch th et op ha lf of th ei nf er en ce ru le .
• RESULT: t he re su lt of an ac ti on is to ad dt he se nt en ce in th eb ot to mh al fo ft he in fe re nc e
r ul e .
• GOAL: t he go al is as ta te th at co nt ai ns th es en te nc e w ea re tr yi ng to pr ov e .
"Th us , s ea rc hi ng f or p ro of s i s a n a lt er na ti ve t o e nu me ra ti ng m od el s . In m an y p ra ct ic al c as es"
"f in di ng ap ro of ca nb em or ee ff ic ie nt b ec au se th ep ro of ca ni gn or ei rr el ev an tp ro po si ti on s , n o"
"m at te r h ow m an yo f t he m t he re a re . Fo re xa mp le , t he p ro of g iv en e ar li er l ea di ng t o ¬P ∧"
"1,2"
"¬P d oe s n ot m en ti on t he p ro po si ti on s B , P , P , o r P . Th ey c an b e i gn or ed"
"2,1 2,1 1,1 2,2 3,1"
"b ec au se th eg oa lp ro po si ti on , P ,a pp ea rs on ly in se nt en ce R ;t he ot he rp ro po si ti on s i n R"
"1,2 2 2"
"a pp ea ro nl yi n R a nd R ;s o R ,R ,a nd R h av en ob ea ri ng on th ep ro of . Th es am ew ou ld"
4 2 1 3 5
h ol de ve ni fw ea dd ed am il li on mo re se nt en ce st ot he kn ow le dg eb as e ;t he si mp le tr ut h-t ab le
"a lg or it hm ,o nt he ot he rh an d ,w ou ld be ov er wh el me db yt he ex po ne nt ia le xp lo si on of mo de ls ."
"On e f in al p ro pe rt y o f l og ic al s ys te ms i s m on ot on ic it y , w hi ch s ay s t ha t t he s et o f e n-"
MONOTONICITY
t ai le d s en te nc es c an o nl y i nc re as e a s i nf or ma ti on i s a dd ed t o t he k no wl ed ge b as e .8 Fo ra ny
"s en te nc es αa ndβ,"
i f KB |= α t he n KB ∧β |= α.
"8 No nm on ot on ic lo gi cs , w hi ch vi ol at et he mo no to ni ci ty p ro pe rt y , c ap tu re a c om mo np ro pe rt y o fh um an r ea-"
s on in g:c ha ng in go ne’s mi nd .Th ey ar ed is cu ss ed in Se ct io n 12.6.
252 Ch ap te r 7. Lo gi ca l Ag en ts
"Fo re xa mp le ,s up po se th ek no wl ed ge ba se co nt ai ns th ea dd it io na la ss er ti onβs ta ti ng th at th er e"
a re ex ac tl ye ig ht pi ts in th ew or ld . Th is kn ow le dg em ig ht he lp th ea ge nt dr aw ad di ti on al co n-
"c lu si on s , b ut i t c an no t i nv al id at e a ny c on cl us io n α a lr ea dy i nf er re d—s uc h a s t he c on cl us io n"
"t ha tt he re is no pi ti n[1,2]. Mo no to ni ci ty me an st ha ti nf er en ce ru le sc an be ap pl ie dw he ne ve r"
s ui ta bl e p re mi se s a re f ou nd i n t he k no wl ed ge b as e—t he c on cl us io n o f t he r ul e m us t f ol lo w
r eg ar dl es s o fw ha te ls ei si nt he kn ow le dg e b as e .
7.5.2 Pr oo fb y r es ol ut io n
"We ha ve a rg ue d t ha t t he i nf er en ce r ul es c ov er ed s o f ar ar e s ou nd , b ut w eh av e n ot d is cu ss ed"
t he q ue st io n o f c om pl et en es s f or t he i nf er en ce a lg or it hm s t ha t u se t he m . Se ar ch a lg or it hm s
s uc h a s i te ra ti ve d ee pe ni ng s ea rc h (p ag e 89) a re c om pl et e i n t he s en se t ha t t he y w il l f in d
"a ny r ea ch ab le g oa l , b ut i f t he a va il ab le i nf er en ce r ul es a re i na de qu at e , t he n t he g oa l i s n ot"
"r ea ch ab le—n o p ro of e xi st st ha tu se s o nl yt ho se i nf er en ce r ul es . Fo re xa mp le , i fw er em ov ed"
"t he b ic on di ti on al e li mi na ti on r ul e , t he p ro of i n t he p re ce di ng s ec ti on w ou ld n ot g o t hr ou gh ."
"Th e c ur re nt s ec ti on i nt ro du ce s a s in gl e i nf er en ce r ul e , r es ol ut io n , t ha t y ie ld s a c om pl et e"
i nf er en ce a lg or it hm w he nc ou pl ed wi th an yc om pl et es ea rc ha lg or it hm .
We be gi nb yu si ng as im pl ev er si on o ft he re so lu ti on r ul ei nt he wu mp us wo rl d . Le tu s
"c on si de r t he s te ps l ea di ng u p t o Fi gu re 7.4(a): t he a ge nt r et ur ns f ro m [2,1] t o [1,1] a nd t he n"
"g oe s t o [1,2], w he re i t p er ce iv es a s te nc h , b ut n o b re ez e . We a dd t he f ol lo wi ng f ac ts t o t he"
k no wl ed ge ba se:
R : ¬B .
"11 1,2"
R : B ⇔ (P ∨P ∨P ).
"12 1,2 1,1 2,2 1,3"
"By t he s am e p ro ce ss t ha t l ed t o R e ar li er , w e c an n ow d er iv e t he a bs en ce o f p it s i n [2,2]"
10
"a nd[1,3](r em em be rt ha t[1,1]i sa lr ea dy kn ow nt ob ep it le ss):"
R : ¬P .
"13 2,2"
R : ¬P .
"14 1,3"
"We c an a ls o a pp ly b ic on di ti on al e li mi na ti on t o R , f ol lo we d b y Mo du s Po ne ns w it h R , t o"
3 5
"o bt ai nt he fa ct th at th er ei sa pi ti n[1,1],[2,2],o r[3,1]:"
R : P ∨P ∨P .
"15 1,1 2,2 3,1"
No w c om es t he f ir st ap pl ic at io n o f t he r es ol ut io n r ul e: t he l it er al ¬P i n R r es ol ve s w it h
"2,2 13"
t he li te ra l P i n R t og iv et he re so lv en t
"RESOLVENT 2,2 15"
R : P ∨P .
"16 1,1 3,1"
"In En gl is h ;i ft he re’s ap it in on eo f[1,1],[2,2],a nd[3,1]a nd it’s no ti n[2,2],t he ni t’s in[1,1]"
"o r[3,1]. Si mi la rl y ,t he li te ra l ¬P i n R r es ol ve sw it ht he li te ra l P i n R t og iv e"
"1,1 1 1,1 16"
R : P .
"17 3,1"
"In En gl is h: i f t he re’s a p it i n [1,1] o r [3,1] a nd i t’s n ot i n [1,1], t he n i t’s i n [3,1]. Th es e l as t"
"t wo in fe re nc e s te ps ar ee xa mp le so ft he un it re so lu ti on i nf er en ce r ul e ,"
UNITRESOLUTION
"(c id:3) ∨···∨(c id:3) , m"
1 k
","
(c id:3) 1∨···∨(c id:3) i−1∨(c id:3) i+1∨···∨(c id:3)
k
"COMPLEMENTARY w he re e ac h (c id:3) i s a l it er al a nd (c id:3) a nd m a re c om pl em en ta ry l it er al s (i .e ., o ne i s t he n eg at io n"
LITERALS i
Se ct io n 7.5. Pr op os it io na l Th eo re m Pr ov in g 253
"o f t he o th er). Th us , t he u ni t r es ol ut io n r ul e t ak es a c la us e—a d is ju nc ti on o f l it er al s—a nd a"
CLAUSE
l it er al an dp ro du ce s a ne wc la us e . No te th at as in gl el it er al c an be vi ew ed as ad is ju nc ti on o f
"o ne li te ra l , a ls ok no wn as au ni tc la us e ."
UNITCLAUSE
"Th eu ni tr es ol ut io n r ul ec an be ge ne ra li ze d t ot he fu ll r es ol ut io n r ul e ,"
RESOLUTION
"(c id:3) ∨···∨(c id:3) , m ∨···∨m"
1 k 1 n
","
(c id:3) 1∨···∨(c id:3) i−1∨(c id:3) i+1∨···∨(c id:3)
k
∨m 1∨···∨m j−1∨m j+1∨···∨m
n
w he re (c id:3) a nd m a re c om pl em en ta ry l it er al s . Th is sa ys t ha t r es ol ut io n t ak es t wo cl au se s a nd
i j
p ro du ce s a n ew c la us e c on ta in in g a ll t he l it er al s o f t he t wo o ri gi na l c la us es e xc ep t t he t wo
"c om pl em en ta ry l it er al s . Fo re xa mp le ,w eh av e"
"P ∨P , ¬P ∨¬P"
"1,1 3,1 1,1 2,2"
.
P ∨¬P
"3,1 2,2"
Th er ei so ne mo re te ch ni ca l a sp ec to ft he re so lu ti on r ul e: t he re su lt in g c la us es ho ul d c on ta in
o nl yo ne co py of ea ch li te ra l .9 Th er em ov al of mu lt ip le co pi es o fl it er al s i sc al le d f ac to ri ng .
FACTORING
"Fo re xa mp le ,i fw er es ol ve (A∨B)w it h(A∨¬B),w eo bt ai n(A∨A),w hi ch is re du ce dt o"
j us t A .
Th es ou nd ne ss of th er es ol ut io nr ul ec an be se en ea si ly by co ns id er in g t he li te ra l(c id:3) t ha t
i
"i s c om pl em en ta ry t o l it er al m i n t he o th er c la us e . If (c id:3) i s t ru e , t he n m i s f al se , a nd h en ce"
j i j
m 1∨···∨m j−1∨m j+1∨···∨m
n
"m us tb et ru e , b ec au se m 1∨···∨m"
n
i sg iv en . If(c id:3)
i
i s
"f al se ,t he n(c id:3) 1∨···∨(c id:3) i−1∨(c id:3) i+1∨···∨(c id:3)"
k
m us tb et ru eb ec au se (c id:3) 1∨···∨(c id:3)
k
i sg iv en . No w
"(c id:3) i se it he rt ru eo rf al se ,s oo ne or ot he ro ft he se co nc lu si on s h ol ds—e xa ct ly a st he re so lu ti on"
i
r ul es ta te s .
Wh at is m or es ur pr is in g a bo ut t he re so lu ti on r ul e i s t ha t i tf or ms t he b as is f or af am il y
"o fc om pl et e i nf er en ce p ro ce du re s . Ar es ol ut io n-b as ed t he or em p ro ve r c an , f or an ys en te nc es"
"α a nd β i n p ro po si ti on al l og ic , d ec id e w he th er α |= β. Th e n ex t t wo s ub se ct io ns e xp la in"
h ow re so lu ti on a cc om pl is he s t hi s .
Co nj un ct iv en or ma lf or m
"Th er es ol ut io n r ul ea pp li es o nl yt oc la us es (t ha t i s ,d is ju nc ti on s o fl it er al s), s oi tw ou ld se em"
"t o b e r el ev an t o nl y t o k no wl ed ge b as es a nd q ue ri es c on si st in g o f c la us es . Ho w , t he n , c an"
i t l ea d t o a c om pl et e i nf er en ce p ro ce du re f or a ll o f p ro po si ti on al l og ic ? Th e a ns we r i s t ha t
e ve ry s en te nc e o f p ro po si ti on al l og ic i s l og ic al ly e qu iv al en t t o a c on ju nc ti on o f c la us es . A
CONJUNCTIVE s en te nc e e xp re ss ed a s a c on ju nc ti on o f c la us es i s s ai d t o b e i n c on ju nc ti ve n or ma l f or m o r
NORMALFORM
CNF (s ee Fi gu re 7.14). We n ow d es cr ib e a p ro ce du re f or c on ve rt in g t o CNF . We i ll us tr at e
t he p ro ce du re b y c on ve rt in g t he s en te nc e B ⇔ (P ∨P ) i nt o CNF . Th e s te ps a re a s
"1,1 1,2 2,1"
f ol lo ws:
"1. El im in at e⇔,r ep la ci ng α ⇔ β w it h(α ⇒ β)∧(β ⇒ α)."
(B ⇒ (P ∨P ))∧((P ∨P ) ⇒ B ).
"1,1 1,2 2,1 1,2 2,1 1,1"
"2. El im in at e⇒,r ep la ci ng α ⇒ β w it h¬α∨β:"
(¬B ∨P ∨P )∧(¬(P ∨P )∨B ).
"1,1 1,2 2,1 1,2 2,1 1,1"
"9 If ac la us ei sv ie we da sa se to fl it er al s ,t he nt hi sr es tr ic ti on is au to ma ti ca ll yr es pe ct ed . Us in gs et no ta ti on fo r"
"c la us es ma ke st he re so lu ti on ru le mu ch cl ea ne r ,a tt he co st of in tr od uc in ga dd it io na ln ot at io n ."
254 Ch ap te r 7. Lo gi ca l Ag en ts
"3. CNFr eq ui re s ¬ t o a pp ea r o nl y i n l it er al s , s o w e “m ov e ¬ i nw ar ds” b y r ep ea te d a pp li-"
c at io no ft he fo ll ow in ge qu iv al en ce s f ro m Fi gu re 7.11:
¬(¬α) ≡ α (d ou bl e-n eg at io n e li mi na ti on)
¬(α∧β)≡ (¬α∨¬β) (De Mo rg an)
¬(α∨β)≡ (¬α∧¬β) (De Mo rg an)
"In th ee xa mp le ,w er eq ui re ju st on ea pp li ca ti on o ft he la st ru le:"
(¬B ∨P ∨P )∧((¬P ∧¬P )∨B ).
"1,1 1,2 2,1 1,2 2,1 1,1"
4. No w w e h av e a s en te nc e c on ta in in g n es te d ∧ a nd ∨ o pe ra to rs a pp li ed t o l it er al s . We
"a pp ly th ed is tr ib ut iv it y l aw fr om Fi gu re 7.11,d is tr ib ut in g ∨o ve r∧w he re ve rp os si bl e ."
(¬B ∨P ∨P )∧(¬P ∨B )∧(¬P ∨B ).
"1,1 1,2 2,1 1,2 1,1 2,1 1,1"
"Th e o ri gi na l s en te nc e i s n ow i n CNF ,a s a co nj un ct io n o f t hr ee c la us es . It i s m uc h h ar de r t o"
"r ea d ,b ut it ca nb eu se da si np ut to ar es ol ut io n p ro ce du re ."
Ar es ol ut io n a lg or it hm
In fe re nc e p ro ce du re s b as ed o n r es ol ut io n w or k b y u si ng t he p ri nc ip le o f p ro of b yc on tr ad ic-
"t io n i nt ro du ce d o n p ag e 250. Th at i s , t o s ho w t ha t KB |= α, w e s ho w t ha t (KB ∧¬α) i s"
u ns at is fi ab le . We do th is by pr ov in g a co nt ra di ct io n .
"A r es ol ut io n a lg or it hm i s s ho wn i n Fi gu re 7.12. Fi rs t , (KB ∧ ¬α) i s c on ve rt ed i nt o"
"CNF . Th en , t he r es ol ut io n r ul e i s a pp li ed t o t he r es ul ti ng c la us es . Ea ch p ai r t ha t c on ta in s"
"c om pl em en ta ry l it er al s i s r es ol ve d t o p ro du ce a n ew c la us e , w hi ch i s a dd ed t o t he s et i f i t i s"
n ot al re ad yp re se nt . Th ep ro ce ss co nt in ue s u nt il on eo ft wo th in gs ha pp en s:
"• t he re ar en on ew cl au se s t ha tc an be ad de d , i nw hi ch ca se KB d oe sn ot en ta ilα;o r ,"
"• t wo cl au se sr es ol ve to yi el dt he em pt yc la us e ,i nw hi ch ca se KB e nt ai lsα."
Th ee mp ty cl au se—a di sj un ct io no fn od is ju nc ts—i se qu iv al en tt o Fa ls e b ec au se ad is ju nc ti on
i s t ru e o nl y i f a t l ea st o ne o f i ts d is ju nc ts i s t ru e . An ot he r w ay t o s ee t ha t a n e mp ty c la us e
r ep re se nt s a co nt ra di ct io n i st oo bs er ve th at it ar is es on ly f ro mr es ol vi ng t wo co mp le me nt ar y
u ni tc la us es su ch as P a nd¬P .
We ca na pp ly th er es ol ut io np ro ce du re to av er ys im pl ei nf er en ce in th ew um pu sw or ld .
"Wh en th ea ge nt is in[1,1],t he re is no br ee ze , s ot he re ca nb en op it si nn ei gh bo ri ng s qu ar es ."
Th er el ev an tk no wl ed ge ba se is
KB = R ∧R = (B ⇔ (P ∨P ))∧¬B
"2 4 1,1 1,2 2,1 1,1"
"a nd w e w is h t o p ro ve α w hi ch i s , s ay , ¬P . Wh en w e c on ve rt (KB ∧¬α) i nt o CNF , w e"
"1,2"
o bt ai n t he c la us es s ho wn a t t he t op o f Fi gu re 7.13. Th e s ec on d r ow o f t he f ig ur e s ho ws
"c la us es o bt ai ne d b y r es ol vi ng p ai rs i n t he f ir st ro w . Th en , w he n P i sr es ol ve d w it h ¬P ,"
"1,2 1,2"
"w e o bt ai n t he e mp ty c la us e , s ho wn a s a s ma ll s qu ar e . In sp ec ti on o f Fi gu re 7.13 r ev ea ls t ha t"
"m an yr es ol ut io ns te ps ar ep oi nt le ss . Fo re xa mp le ,t he cl au se B ∨¬B ∨P i se qu iv al en t"
"1,1 1,1 1,2"
t o Tr ue ∨P w hi ch i s e qu iv al en t t o Tr ue . De du ci ng t ha t Tr ue i s t ru e i s n ot v er y h el pf ul .
"1,2"
"Th er ef or e , a ny cl au se in wh ic ht wo co mp le me nt ar y l it er al sa pp ea rc an be di sc ar de d ."
Se ct io n 7.5. Pr op os it io na l Th eo re m Pr ov in g 255
"f un ct io n PL-RESOLUTION(KB ,α)r et ur ns tr ue o rf al se"
"i np ut s:KB ,t he kn ow le dg eb as e ,a se nt en ce in pr op os it io na ll og ic"
"α,t he qu er y ,a se nt en ce in pr op os it io na ll og ic"
c la us es←t he se to fc la us es in th e CNFr ep re se nt at io no f KB ∧¬α
n ew←{}
l oo pd o
"f or ea ch pa ir of cl au se s Ci ,Cj i nc la us es d o"
"r es ol ve nt s←PL-RESOLVE(Ci ,Cj)"
i fr es ol ve nt s c on ta in st he em pt yc la us et he nr et ur nt ru e
n ew←n ew∪ r es ol ve nt s
i fn ew ⊆c la us es t he nr et ur nf al se
c la us es←c la us es∪n ew
Fi gu re 7.12 A s im pl e r es ol ut io n a lg or it hm f or p ro po si ti on al l og ic . Th e f un ct io n
PL-RESOLVEr et ur ns th es et of al lp os si bl ec la us es ob ta in ed by re so lv in gi ts tw oi np ut s .
¬P ^ B ¬B ^ P ^ P ¬P ^ B ¬B P
"2,1 1,1 1,1 1,2 2,1 1,2 1,1 1,1 1,2"
¬B ^ P ^ B P ^ P ^ ¬P ¬B ^ P ^ B P ^ P ^ ¬P ¬P ¬P
"1,1 1,2 1,1 1,2 2,1 2,1 1,1 2,1 1,1 1,2 2,1 1,2 2,1 1,2"
Fi gu re 7.13 Pa rt ia la pp li ca ti on of PL-RESOLUTIONt oa si mp le in fe re nc ei nt he wu mp us
"w or ld . ¬P 1,2 i ss ho wn to fo ll ow fr om th ef ir st fo ur cl au se si nt he to pr ow ."
Co mp le te ne ss of re so lu ti on
"To co nc lu de o ur di sc us si on o f r es ol ut io n , w en ow s ho w w hy PL-RESOLUTION i sc om pl et e ."
"RESOLUTION To do th is ,w ei nt ro du ce th er es ol ut io nc lo su re RC(S)o fa se to fc la us es S ,w hi ch is th es et"
CLOSURE
o f a ll c la us es d er iv ab le b y r ep ea te d a pp li ca ti on o f t he r es ol ut io n r ul e t o c la us es i n S o rt he ir
d er iv at iv es . Th e r es ol ut io n c lo su re i s w ha t PL-RESOLUTION c om pu te s a s t he f in al v al ue o f
"t he va ri ab le cl au se s . It is ea sy to se et ha t RC(S)m us tb ef in it e ,b ec au se th er ea re on ly fi ni te ly"
"m an yd is ti nc tc la us es th at ca nb ec on st ru ct ed o ut of th es ym bo ls P ,...,P t ha ta pp ea ri n S ."
1 k
(No ti ce th at th is wo ul dn ot be tr ue wi th ou tt he fa ct or in g s te pt ha tr em ov es mu lt ip le co pi es of
"l it er al s .) He nc e , PL-RESOLUTION a lw ay st er mi na te s ."
Th e c om pl et en es s t he or em f or r es ol ut io n i n p ro po si ti on al l og ic i s c al le d t he g ro un d
GROUND
r es ol ut io n t he or em:
RESOLUTION
THEOREM
"If a s et o f c la us es i s u ns at is fi ab le , t he n t he r es ol ut io n c lo su re o f t ho se c la us es"
c on ta in st he em pt yc la us e .
Th is t he or em i s p ro ve d b y d em on st ra ti ng i ts c on tr ap os it iv e: i f t he c lo su re RC(S) d oe s n ot
256 Ch ap te r 7. Lo gi ca l Ag en ts
"c on ta in t he e mp ty c la us e , t he n S i s s at is fi ab le . In f ac t , w e c an c on st ru ct a m od el f or S w it h"
"s ui ta bl e t ru th va lu es fo r P ,...,P . Th ec on st ru ct io n p ro ce du re i sa sf ol lo ws:"
1 k
"Fo ri fr om 1 t ok ,"
– If ac la us ei n RC(S)c on ta in st he li te ra l¬P a nd al li ts ot he rl it er al sa re fa ls eu nd er
i
"t he as si gn me nt c ho se nf or P 1,...,P i−1,t he na ss ig nf al se t o P i ."
"– Ot he rw is e ,a ss ig n t ru e t o P ."
i
"Th is a ss ig nm en t t o P ,...,P i s a m od el o f S . To s ee t hi s , a ss um e t he o pp os it e—t ha t , a t"
1 k
"s om e s ta ge i i n t he s eq ue nc e , a ss ig ni ng s ym bo l P c au se s s om e c la us e C t o b ec om e f al se ."
i
"Fo rt hi s t oh ap pe n , i tm us t b et he c as e t ha t a ll t he o th er l it er al s i n C m us ta lr ea dy h av e b ee n"
"f al si fi ed by as si gn me nt s t o P 1,...,P i−1. Th us ,C m us tn ow lo ok li ke ei th er(f al se ∨f al se ∨"
"···f al se∨P )o rl ik e(f al se∨f al se∨···f al se∨¬P ). If ju st on eo ft he se tw oi si n RC(S),t he n"
i i
"t he a lg or it hm w il l a ss ig n t he a pp ro pr ia te t ru th v al ue t o P t o m ak e C t ru e , s o C c an o nl y b e"
i
"f al si fi ed if bo th of th es ec la us es ar ei n RC(S). No w ,s in ce RC(S)i sc lo se du nd er re so lu ti on ,"
"i tw il lc on ta in th er es ol ve nt of th es et wo cl au se s ,a nd th at re so lv en tw il lh av ea ll of it sl it er al s"
"a lr ea dy f al si fi ed b y t he a ss ig nm en ts t o P 1,...,P i−1. Th is c on tr ad ic ts o ur a ss um pt io n t ha t"
"t he fi rs tf al si fi ed cl au se ap pe ar sa ts ta ge i . He nc e ,w eh av ep ro ve dt ha tt he co ns tr uc ti on n ev er"
"f al si fi es a c la us e i n RC(S); t ha t i s , i t p ro du ce s a m od el o f RC(S) a nd t hu s a m od el o f S"
i ts el f(s in ce S i sc on ta in ed i n RC(S)).
7.5.3 Ho rn cl au se s a nd d ef in it e c la us es
Th ec om pl et en es so fr es ol ut io nm ak es it av er yi mp or ta nt in fe re nc em et ho d . In ma ny pr ac ti ca l
"s it ua ti on s , h ow ev er , t he f ul l p ow er o f r es ol ut io n i s n ot n ee de d . So me r ea l-w or ld k no wl ed ge"
"b as es s at is fy c er ta in r es tr ic ti on s o n t he f or m o f s en te nc es t he y c on ta in , w hi ch e na bl es t he m"
t ou se am or er es tr ic te d a nd ef fi ci en ti nf er en ce a lg or it hm .
"On e s uc h r es tr ic te d f or m i s t he d ef in it e c la us e , w hi ch i s a d is ju nc ti on o f l it er al s o f"
DEFINITECLAUSE
"w hi ch ex ac tl yo ne is po si ti ve . Fo re xa mp le ,t he cl au se(¬L ∨¬Br ee ze∨B )i sa de fi ni te"
"1,1 1,1"
"c la us e , w he re as(¬B ∨P ∨P )i sn ot ."
"1,1 1,2 2,1"
"Sl ig ht ly mo re ge ne ra l i st he Ho rn cl au se , w hi ch is ad is ju nc ti on o fl it er al s o fw hi ch a t"
HORNCLAUSE
"m os to ne i s p os it iv e . So al l d ef in it e c la us es a re Ho rn c la us es , a s a re cl au se s w it h n o p os it iv e"
l it er al s ;t he se ar ec al le dg oa lc la us es . Ho rn cl au se sa re cl os ed un de rr es ol ut io n: i fy ou re so lv e
GOALCLAUSES
"t wo Ho rn cl au se s , y ou ge tb ac ka Ho rn cl au se ."
Kn ow le dg eb as es co nt ai ni ng o nl yd ef in it ec la us es ar ei nt er es ti ng f or th re er ea so ns:
1. Ev er y d ef in it e c la us e c an b e w ri tt en a s a n i mp li ca ti on w ho se p re mi se i s a c on ju nc ti on
o fp os it iv el it er al sa nd wh os ec on cl us io ni sa si ng le po si ti ve li te ra l . (Se e Ex er ci se 7.13.)
"Fo r e xa mp le , t he d ef in it e c la us e (¬L ∨ ¬Br ee ze ∨ B ) c an b e w ri tt en a s t he i m-"
"1,1 1,1"
"p li ca ti on (L ∧ Br ee ze) ⇒ B . In t he i mp li ca ti on f or m , t he s en te nc e i s e as ie r t o"
"1,1 1,1"
"u nd er st an d: i ts ay st ha ti ft he ag en ti si n[1,1]a nd th er ei sa br ee ze ,t he n[1,1]i sb re ez y ."
"In Ho rn f or m , t he p re mi se i s c al le d t he b od y a nd t he c on cl us io n i s c al le d t he h ea d . A"
BODY
"s en te nc e c on si st in g o f a s in gl e p os it iv e l it er al , s uc h a s L , i s c al le d a f ac t . It t oo c an"
"HEAD 1,1"
"b ew ri tt en in im pl ic at io n f or ma s Tr ue ⇒ L ,b ut it is si mp le rt ow ri te ju st L ."
"FACT 1,1 1,1"
Se ct io n 7.5. Pr op os it io na l Th eo re m Pr ov in g 257
CNFSe nt en ce → Cl au se
1
∧···∧Cl au se n
Cl au se → Li te ra l
1
∨···∨Li te ra lm
Li te ra l → Sy mb ol | ¬Sy mb ol
Sy mb ol → P | Q| R| ...
Ho rn Cl au se Fo rm → De fi ni te Cl au se Fo rm | Go al Cl au se Fo rm
De fi ni te Cl au se Fo rm → (Sy mb ol ∧···∧Sy mb ol ) ⇒ Sy mb ol
1 l
Go al Cl au se Fo rm → (Sy mb ol ∧···∧Sy mb ol ) ⇒ Fa ls e
1 l
"Fi gu re 7.14 Ag ra mm ar fo rc on ju nc ti ve no rm al fo rm ,Ho rn cl au se s ,a nd de fi ni te cl au se s ."
"Ac la us es uc ha s A∧B ⇒ C i ss ti ll ad ef in it ec la us ew he ni ti sw ri tt en as¬A∨¬B∨C ,"
b ut on ly th ef or me ri sc on si de re dt he ca no ni ca lf or mf or de fi ni te cl au se s . On em or ec la ss is
"t he k-CNFs en te nc e ,w hi ch is a CNFs en te nc ew he re ea ch cl au se ha sa tm os tk li te ra ls ."
2. In fe re nc ew it h Ho rn cl au se sc an be do ne th ro ug ht he fo rw ar d-c ha in in ga nd ba ck wa rd-
FORWARD-CHAINING
"BACKWARD- c ha in in g a lg or it hm s , w hi ch w e e xp la in n ex t . Bo th o f t he se a lg or it hm s a re n at ur al ,"
CHAINING
i n t ha t t he i nf er en ce s te ps a re o bv io us a nd e as y f or h um an s t o f ol lo w . Th is t yp e o f
"i nf er en ce is th eb as is fo rl og ic pr og ra mm in g , w hi ch is di sc us se d i n Ch ap te r 9."
3. De ci di ng e nt ai lm en t w it h Ho rn cl au se s c an b e d on e i n t im et ha t i s l in ea r i nt he s iz e o f
t he kn ow le dg e b as e—a pl ea sa nt s ur pr is e .
7.5.4 Fo rw ar da nd ba ck wa rd c ha in in g
"Th e f or wa rd-c ha in in g a lg or it hm PL-FC-ENTAILS ?(KB ,q) d et er mi ne s i f a s in gl e p ro po si-"
t io n s ym bo l q—t he q ue ry—i s e nt ai le d b y a k no wl ed ge b as e o f d ef in it e c la us es . It b eg in s
f ro m k no wn fa ct s (p os it iv e l it er al s) i nt he kn ow le dg e b as e . If al lt he pr em is es o fa ni mp li ca-
"t io n a re k no wn , t he n i ts c on cl us io n i s a dd ed t o t he s et o f k no wn f ac ts . Fo r e xa mp le , i f L"
"1,1"
"a nd Br ee ze a re kn ow na nd (L ∧Br ee ze) ⇒ B i si nt he kn ow le dg e b as e , t he n B c an"
"1,1 1,1 1,1"
b ea dd ed . Th is pr oc es sc on ti nu es u nt il th eq ue ry q i sa dd ed or un ti ln of ur th er in fe re nc es c an
b em ad e . Th ed et ai le da lg or it hm i ss ho wn in Fi gu re 7.15;t he ma in po in tt or em em be ri st ha t
i tr un si nl in ea rt im e .
Th e b es t w ay t o u nd er st an d t he a lg or it hm i s t hr ou gh a n e xa mp le a nd a p ic tu re . Fi g-
u re 7.16(a) s ho ws a s im pl e k no wl ed ge b as e o f Ho rn c la us es w it h A a nd B a s k no wn f ac ts .
Fi gu re 7.16(b) s ho ws t he s am e k no wl ed ge b as e d ra wn a s a n AND–OR g ra ph (s ee Ch ap-
"t er 4). In AND–OR g ra ph s , m ul ti pl e l in ks j oi ne d b y a n a rc i nd ic at e a c on ju nc ti on—e ve ry"
l in k m us t b e p ro ve d—w hi le m ul ti pl e l in ks w it ho ut a n a rc i nd ic at e a d is ju nc ti on—a ny l in k
c an be pr ov ed . It is ea sy to se eh ow fo rw ar dc ha in in g w or ks in th eg ra ph . Th ek no wn le av es
"(h er e , A a nd B) a re s et , a nd i nf er en ce p ro pa ga te s u p t he g ra ph a s f ar a s p os si bl e . Wh er-"
"e ve r a c on ju nc ti on a pp ea rs , t he p ro pa ga ti on w ai ts u nt il a ll t he c on ju nc ts a re k no wn b ef or e"
p ro ce ed in g . Th er ea de ri se nc ou ra ge d t ow or kt hr ou gh th ee xa mp le in de ta il .
258 Ch ap te r 7. Lo gi ca l Ag en ts
"f un ct io n PL-FC-ENTAILS ?(KB ,q)r et ur ns tr ue o rf al se"
"i np ut s:KB ,t he kn ow le dg eb as e ,a se to fp ro po si ti on al de fi ni te cl au se s"
"q ,t he qu er y ,a pr op os it io ns ym bo l"
"c ou nt←a ta bl e ,w he re co un t[c]i st he nu mb er of sy mb ol si nc’s pr em is e"
"i nf er re d←a ta bl e ,w he re in fe rr ed[s]i si ni ti al ly fa ls e f or al ls ym bo ls"
"a ge nd a←a qu eu eo fs ym bo ls ,i ni ti al ly sy mb ol sk no wn to be tr ue in KB"
w hi le ag en da i sn ot em pt yd o
p←POP(a ge nd a)
i fp =q t he nr et ur nt ru e
i fi nf er re d[p]=f al se t he n
i nf er re d[p]←t ru e
f or ea ch cl au se c i n KB w he re p i si nc .PREMISEd o
d ec re me nt co un t[c]
i fc ou nt[c]=0 t he na dd c .CONCLUSIONt oa ge nd a
r et ur nf al se
Fi gu re 7.15 Th ef or wa rd-c ha in in ga lg or it hm fo rp ro po si ti on al lo gi c . Th ea ge nd a k ee ps
t ra ck of sy mb ol sk no wn to b et ru eb ut no ty et“p ro ce ss ed .” Th e c ou nt t ab le ke ep st ra ck of
h ow ma ny pr em is es of ea ch im pl ic at io na re as ye tu nk no wn .Wh en ev er an ew sy mb ol pf ro m
"t he ag en da is pr oc es se d ,t he co un ti sr ed uc ed by on ef or ea ch im pl ic at io ni nw ho se pr em is e"
p a pp ea rs(e as il y i de nt if ie d i n c on st an tt im e w it h a pp ro pr ia te in de xi ng .) If a c ou nt re ac he s
"z er o , a ll t he p re mi se s o f t he i mp li ca ti on a re k no wn , s o i ts c on cl us io n c an b e a dd ed t o t he"
"a ge nd a .Fi na ll y ,w en ee dt ok ee pt ra ck of wh ic hs ym bo ls ha ve be en pr oc es se d ;a sy mb ol th at"
i sa lr ea dy in th es et of in fe rr ed sy mb ol sn ee dn ot be ad de dt ot he ag en da ag ai n . Th is av oi ds
r ed un da nt wo rk an dp re ve nt sl oo ps ca us ed by im pl ic at io ns su ch as P ⇒Qa nd Q⇒P .
It is ea sy to se et ha tf or wa rd c ha in in g i ss ou nd: e ve ry in fe re nc e i se ss en ti al ly a na pp li-
c at io no f Mo du s Po ne ns . Fo rw ar dc ha in in g i sa ls oc om pl et e: e ve ry en ta il ed a to mi cs en te nc e
w il lb ed er iv ed . Th ee as ie st w ay to se et hi s i st oc on si de r t he f in al st at e o ft he in fe rr ed t ab le
(a ft er t he a lg or it hm r ea ch es a f ix ed p oi nt w he re n o n ew i nf er en ce s a re p os si bl e). Th e t ab le
FIXEDPOINT
"c on ta in s t ru e f or e ac h s ym bo l i nf er re d d ur in g t he p ro ce ss , a nd f al se f or a ll o th er s ym bo ls ."
"We ca nv ie wt he ta bl ea sa lo gi ca lm od el ;m or eo ve r ,e ve ry de fi ni te cl au se in th eo ri gi na l KBi s"
"t ru ei nt hi sm od el . To se et hi s ,a ss um et he op po si te ,n am el yt ha ts om ec la us ea ∧...∧a ⇒ b"
1 k
i s f al se i n t he m od el . Th en a ∧...∧a m us t b e t ru e i n t he m od el a nd b m us t b e f al se i n
1 k
t he m od el . Bu t t hi s c on tr ad ic ts o ur as su mp ti on t ha t t he a lg or it hm h as r ea ch ed a f ix ed p oi nt !
"We ca nc on cl ud e ,t he re fo re ,t ha tt he se to fa to mi cs en te nc es i nf er re da tt he fi xe dp oi nt de fi ne s"
"a m od el o f t he o ri gi na l KB . Fu rt he rm or e , a ny a to mi c s en te nc e q t ha t i s e nt ai le d b y t he KB"
"m us t b e t ru e i n a ll i ts m od el s a nd i n t hi s m od el i n p ar ti cu la r . He nc e , e ve ry e nt ai le d a to mi c"
s en te nc e q m us tb ei nf er re d b yt he al go ri th m .
Fo rw ar dc ha in in gi sa ne xa mp le of th eg en er al co nc ep to f d at a-d ri ve nr ea so ni ng—t ha t
DATA-DRIVEN
"i s ,r ea so ni ng in wh ic ht he fo cu so fa tt en ti on s ta rt sw it ht he kn ow nd at a . It ca nb eu se dw it hi n"
"a n a ge nt t o d er iv e c on cl us io ns f ro m i nc om in g p er ce pt s , o ft en w it ho ut a s pe ci fi c q ue ry i n"
"m in d . Fo re xa mp le , t he wu mp us ag en t m ig ht TELL i ts pe rc ep ts t ot he kn ow le dg e b as eu si ng"
Se ct io n 7.6. Ef fe ct iv e Pr op os it io na l Mo de l Ch ec ki ng 259
Q
P ⇒ Q
L∧M ⇒ P P
B∧L ⇒ M
A∧P ⇒ L M
A∧B ⇒ L
L
A
B
A B
(a) (b)
Fi gu re 7.16 (a)As et of Ho rn cl au se s . (b)Th ec or re sp on di ng AND–ORg ra ph .
a ni nc re me nt al f or wa rd-c ha in in g a lg or it hm i nw hi ch ne wf ac ts ca nb ea dd ed to th ea ge nd at o
"i ni ti at e n ew in fe re nc es . In hu ma ns , a ce rt ai n a mo un t o fd at a-d ri ve n r ea so ni ng o cc ur s a sn ew"
"i nf or ma ti on a rr iv es . Fo re xa mp le ,i f Ia mi nd oo rs an dh ea rr ai ns ta rt in gt of al l ,i tm ig ht oc cu r"
t om et ha tt he pi cn ic wi ll be ca nc el ed . Ye ti tw il lp ro ba bl yn ot oc cu rt om et ha tt he se ve nt ee nt h
p et al on th el ar ge st ro se in my ne ig hb or’s ga rd en wi ll ge tw et ;h um an sk ee pf or wa rd ch ai ni ng
"u nd er ca re fu lc on tr ol , l es tt he yb es wa mp ed wi th ir re le va nt c on se qu en ce s ."
"Th e b ac kw ar d-c ha in in g a lg or it hm , a s i ts n am e s ug ge st s , w or ks b ac kw ar d f ro m t he"
"q ue ry . If th e q ue ry q i s k no wn t o b e t ru e , t he n n o w or k i s n ee de d . Ot he rw is e , t he a lg or it hm"
f in ds t ho se i mp li ca ti on s i nt he k no wl ed ge b as e w ho se c on cl us io n i s q . If a ll t he p re mi se s o f
"o ne o f t ho se i mp li ca ti on s c an b e p ro ve d t ru e (b y b ac kw ar d c ha in in g), t he n q i s t ru e . Wh en"
"a pp li ed t o t he q ue ry Q i n Fi gu re 7.16, i t w or ks b ac k d ow nt he g ra ph u nt il i t r ea ch es a s et o f"
"k no wn fa ct s ,Aa nd B ,t ha tf or ms th eb as is fo ra pr oo f . Th ea lg or it hm i se ss en ti al ly i de nt ic al"
"t o t he AND-OR-GRAPH-SEARCH a lg or it hm i n Fi gu re 4.11. As w it h f or wa rd c ha in in g , a n"
e ff ic ie nt im pl em en ta ti on r un si nl in ea rt im e .
GOAL-DIRECTED Ba ck wa rd c ha in in g i s a f or m o f g oa l-d ir ec te d r ea so ni ng . It i s u se fu l f or a ns we ri ng
REASONING
"s pe ci fi cq ue st io ns su ch as“Wh at sh al l Id on ow ?” a nd“Wh er ea re my ke ys ?” Of te n ,t he co st"
"o fb ac kw ar d c ha in in g i s m uc hl es st ha nl in ea ri nt he si ze of th ek no wl ed ge b as e , b ec au se t he"
p ro ce ss to uc he s o nl yr el ev an tf ac ts .
7.6 EFFECTIVE PROPOSITIONAL MODEL CHECKING
"In t hi s s ec ti on , w e d es cr ib e t wo f am il ie s o f e ff ic ie nt a lg or it hm s f or g en er al p ro po si ti on al"
"i nf er en ce b as ed o n m od el c he ck in g: On e a pp ro ac h b as ed o n b ac kt ra ck in g s ea rc h , a nd o ne"
o nl oc al hi ll-c li mb in g s ea rc h . Th es ea lg or it hm s a re pa rt of t he“t ec hn ol og y” o fp ro po si ti on al
l og ic . Th is se ct io nc an be sk im me do na fi rs tr ea di ng of th ec ha pt er .
260 Ch ap te r 7. Lo gi ca l Ag en ts
Th ea lg or it hm sw ed es cr ib ea re fo rc he ck in gs at is fi ab il it y: t he SATp ro bl em . (As no te d
"e ar li er , t es ti ng e nt ai lm en t , α |= β, c an b e d on e b y t es ti ng u ns at is fi ab il it y o f α∧ ¬β.) We"
h av e a lr ea dy n ot ed t he c on ne ct io n b et we en f in di ng a s at is fy in g m od el f or a l og ic al s en te nc e
"a nd fi nd in ga so lu ti on fo ra co ns tr ai nt sa ti sf ac ti on pr ob le m ,s oi ti sp er ha ps no ts ur pr is in gt ha t"
t he t wo f am il ie s o f a lg or it hm s c lo se ly r es em bl e t he b ac kt ra ck in g a lg or it hm s o f Se ct io n 6.3
"a nd t he l oc al s ea rc h a lg or it hm s o f Se ct io n 6.4. Th ey a re , h ow ev er , e xt re me ly i mp or ta nt i n"
t he ir ow nr ig ht be ca us es om an yc om bi na to ri al pr ob le ms in co mp ut er sc ie nc ec an be re du ce d
t o c he ck in g t he s at is fi ab il it y o f a p ro po si ti on al s en te nc e . An y i mp ro ve me nt i n s at is fi ab il it y
a lg or it hm s h as hu ge co ns eq ue nc es f or ou ra bi li ty to ha nd le co mp le xi ty in ge ne ra l .
7.6.1 A c om pl et eb ac kt ra ck in g a lg or it hm
"DAVIS–PUTNAM Th ef ir st al go ri th m w ec on si de r i so ft en c al le d t he Da vi s–Pu tn am al go ri th m , a ft er th es em-"
ALGORITHM
i na l p ap er b y Ma rt in Da vi s a nd Hi la ry Pu tn am (1960). Th e a lg or it hm i s i n f ac t t he v er si on
"d es cr ib ed b y Da vi s , Lo ge ma nn , a nd Lo ve la nd (1962), s o w e w il l c al l i t DPLL a ft er t he i ni-"
t ia ls o f a ll f ou r a ut ho rs . DPLL t ak es a s i np ut a s en te nc e i n c on ju nc ti ve n or ma l f or m—a s et
"o f c la us es . Li ke BACKTRACKING-SEARCH a nd TT-ENTAILS ?, i t i s e ss en ti al ly a r ec ur si ve ,"
d ep th-f ir st e nu me ra ti on o fp os si bl e m od el s . It em bo di es t hr ee im pr ov em en ts o ve rt he si mp le
s ch em eo f TT-ENTAILS ?:
"• Ea rl y t er mi na ti on: Th e a lg or it hm d et ec ts w he th er t he s en te nc e m us t b e t ru e o r f al se ,"
"e ve n w it h a p ar ti al ly c om pl et ed m od el . A c la us e i s t ru e i f a ny l it er al i s t ru e , e ve n i f"
"t he o th er l it er al s d o n ot y et h av e t ru th v al ue s ; h en ce , t he s en te nc e a s a w ho le c ou ld b e"
"j ud ge d t ru e e ve n b ef or e t he m od el i s c om pl et e . Fo r e xa mp le , t he s en te nc e (A∨B)∧"
"(A∨C)i st ru e i f Ai st ru e , r eg ar dl es s o f t he va lu es o f B a nd C . Si mi la rl y , a se nt en ce"
"i sf al se if an yc la us ei sf al se ,w hi ch oc cu rs wh en ea ch of it sl it er al si sf al se . Ag ai n ,t hi s"
c an o cc ur lo ng b ef or e t he m od el i sc om pl et e . Ea rl y t er mi na ti on a vo id s e xa mi na ti on o f
e nt ir es ub tr ee s i nt he se ar ch sp ac e .
• Pu re s ym bo l h eu ri st ic: A p ur es ym bo l i s a s ym bo l t ha t a lw ay s a pp ea rs w it h t he s am e
PURESYMBOL
"“s ig n” i n a ll c la us es . Fo r e xa mp le , i n t he t hr ee c la us es (A ∨ ¬B), (¬B ∨ ¬C), a nd"
"(C ∨ A), t he s ym bo l A i s p ur e b ec au se o nl y t he p os it iv e l it er al a pp ea rs , B i s p ur e"
"b ec au se o nl y t he n eg at iv e l it er al a pp ea rs , a nd C i s i mp ur e . It i s e as y t o s ee t ha t i f"
"a s en te nc e h as a m od el , t he n i t h as a m od el w it h t he p ur e s ym bo ls a ss ig ne d s o a s t o"
"m ak e t he ir l it er al s t ru e , b ec au se d oi ng s o c an n ev er m ak e a c la us e f al se . No te t ha t , i n"
"d et er mi ni ng t he p ur it y o f a s ym bo l , t he a lg or it hm c an i gn or e c la us es t ha t a re a lr ea dy"
"k no wn t o b e t ru e i n t he m od el c on st ru ct ed s o f ar . Fo r e xa mp le , i f t he m od el c on ta in s"
"B=f al se , t he n t he c la us e (¬B ∨¬C)i s a lr ea dy t ru e , a nd i n t he r em ai ni ng c la us es C"
a pp ea rs on ly as ap os it iv el it er al ;t he re fo re C b ec om es pu re .
• Un it c la us e h eu ri st ic: A u ni t c la us e w as d ef in ed e ar li er a s a c la us e w it h j us t o ne l it-
"e ra l . In t he c on te xt o f DPLL , i t a ls o m ea ns c la us es i n w hi ch a ll l it er al s b ut o ne a re"
"a lr ea dy a ss ig ne d f al se b y t he m od el . Fo r e xa mp le , i f t he m od el c on ta in s B=t ru e ,"
"t he n (¬B ∨¬C) s im pl if ie s t o ¬C , w hi ch i s a u ni t c la us e . Ob vi ou sl y , f or t hi s c la us e"
"t o b e t ru e , C m us t b e s et t o f al se . Th e u ni t c la us e h eu ri st ic a ss ig ns a ll s uc h s ym bo ls"
b ef or e b ra nc hi ng o n t he r em ai nd er . On ei mp or ta nt c on se qu en ce o ft he h eu ri st ic i s t ha t
Se ct io n 7.6. Ef fe ct iv e Pr op os it io na l Mo de l Ch ec ki ng 261
f un ct io n DPLL-SATISFIABLE ?(s)r et ur ns tr ue o rf al se
"i np ut s:s ,a se nt en ce in pr op os it io na ll og ic"
c la us es←t he se to fc la us es in th e CNFr ep re se nt at io no fs
s ym bo ls←a li st of th ep ro po si ti on sy mb ol si ns
"r et ur n DPLL(c la us es ,s ym bo ls ,{})"
"f un ct io n DPLL(c la us es ,s ym bo ls ,m od el)r et ur ns tr ue o rf al se"
i fe ve ry cl au se in cl au se s i st ru ei nm od el t he nr et ur nt ru e
i fs om ec la us ei nc la us es i sf al se in mo de l t he nr et ur nf al se
"P ,v al ue←FIND-PURE-SYMBOL(s ym bo ls ,c la us es ,m od el)"
"i f P i sn on-n ul lt he nr et ur n DPLL(c la us es ,s ym bo ls –P ,m od el ∪{P=v al ue})"
"P ,v al ue←FIND-UNIT-CLAUSE(c la us es ,m od el)"
"i f P i sn on-n ul lt he nr et ur n DPLL(c la us es ,s ym bo ls –P ,m od el ∪{P=v al ue})"
P←FIRST(s ym bo ls);r es t←REST(s ym bo ls)
"r et ur n DPLL(c la us es ,r es t ,m od el ∪{P=t ru e})o r"
"DPLL(c la us es ,r es t ,m od el ∪{P=f al se}))"
Fi gu re 7.17 Th e DPLLa lg or it hm fo rc he ck in gs at is fi ab il it yo fa se nt en ce in pr op os it io na l
l og ic . Th e i de as b eh in d FIND-PURE-SYMBOL a nd FIND-UNIT-CLAUSE a re d es cr ib ed i n
t he t ex t ; e ac h r et ur ns a s ym bo l(o r n ul l) a nd t he t ru th v al ue t o a ss ig n t o t ha t s ym bo l . Li ke
"TT-ENTAILS ?,DPLLo pe ra te so ve rp ar ti al mo de ls ."
a ny a tt em pt t op ro ve (b y r ef ut at io n) a l it er al t ha t i s a lr ea dy i n t he k no wl ed ge b as e w il l
s uc ce ed i mm ed ia te ly (Ex er ci se 7.23). No ti ce a ls o t ha t a ss ig ni ng o ne u ni t c la us e c an
"c re at e a no th er u ni t c la us e—f or e xa mp le , w he n C i s s et t o f al se , (C ∨ A) b ec om es a"
"u ni t c la us e , c au si ng t ru e t o b e a ss ig ne d t o A . Th is “c as ca de” o f f or ce d a ss ig nm en ts"
i s c al le d u ni tp ro pa ga ti on . It r es em bl es t he p ro ce ss o f f or wa rd c ha in in g w it h d ef in it e
UNITPROPAGATION
"c la us es , a nd i nd ee d , i f t he CNF e xp re ss io n c on ta in s o nl y d ef in it e c la us es t he n DPLL"
e ss en ti al ly r ep li ca te s f or wa rd ch ai ni ng . (Se e Ex er ci se 7.24.)
"Th e DPLL a lg or it hm i s s ho wn i n Fi gu re 7.17, w hi ch g iv es t he t he e ss en ti al s ke le to n o f t he"
s ea rc hp ro ce ss .
Wh at Fi gu re 7.17 d oe s n ot s ho w a re t he t ri ck s t ha t e na bl e SAT s ol ve rs t o s ca le u p t o
"l ar ge p ro bl em s . It i s i nt er es ti ng t ha t m os t o f t he se t ri ck s a re i n f ac t r at he r g en er al , a nd w e"
h av es ee nt he mb ef or ei no th er gu is es:
1. Co mp on en ta na ly si s (a ss ee nw it h Ta sm an ia in CSPs): As DPLL a ss ig ns t ru th va lu es
"t ov ar ia bl es , t he se to fc la us es m ay be co me se pa ra te d i nt od is jo in t s ub se ts , c al le dc om-"
"p on en ts ,t ha ts ha re no un as si gn ed v ar ia bl es . Gi ve na ne ff ic ie nt wa yt od et ec tw he nt hi s"
"o cc ur s ,a so lv er ca ng ai nc on si de ra bl es pe ed by wo rk in go ne ac hc om po ne nt se pa ra te ly ."
2. Va ri ab le a nd v al ue o rd er in g (a s s ee n i n Se ct io n 6.3.1 f or CSPs): Ou r s im pl e i mp le-
m en ta ti on o f DPLL u se s a n a rb it ra ry v ar ia bl e o rd er in g a nd a lw ay s t ri es t he v al ue t ru e
b ef or e f al se . Th e d eg re e h eu ri st ic (s ee p ag e 216) s ug ge st s c ho os in g t he v ar ia bl e t ha t
a pp ea rs mo st fr eq ue nt ly o ve ra ll re ma in in gc la us es .
262 Ch ap te r 7. Lo gi ca l Ag en ts
3. In te ll ig en t b ac kt ra ck in g (a s s ee n i n Se ct io n 6.3 f or CSPs): Ma ny p ro bl em s t ha t c an-
n ot b e s ol ve d i n h ou rs o f r un t im e w it h c hr on ol og ic al b ac kt ra ck in g c an b e s ol ve d i n
s ec on ds w it h i nt el li ge nt b ac kt ra ck in g t ha t b ac ks u p a ll t he w ay t o t he r el ev an t p oi nt o f
c on fl ic t . Al l SAT s ol ve rs t ha t d o i nt el li ge nt b ac kt ra ck in g u se s om e f or m o f c on fl ic t
c la us e l ea rn in g t o r ec or d c on fl ic ts s o t ha t t he y w on’t b e r ep ea te d l at er i n t he s ea rc h .
"Us ua ll ya li mi te d-s iz e s et of co nf li ct si sk ep t ,a nd ra re ly us ed on es ar ed ro pp ed ."
4. Ra nd om re st ar ts(a ss ee no np ag e 124 f or hi ll-c li mb in g): So me ti me sa ru na pp ea rs no t
"t o b e m ak in g p ro gr es s . In t hi s c as e , w e c an s ta rt o ve r f ro m t he t op o f t he s ea rc h t re e ,"
"r at he r t ha n t ry in g t o c on ti nu e . Af te r r es ta rt in g , d if fe re nt r an do m c ho ic es (i n v ar ia bl e"
a nd va lu es el ec ti on) a re ma de . Cl au se st ha ta re le ar ne di nt he fi rs tr un ar er et ai ne da ft er
t he r es ta rt a nd c an h el p p ru ne t he s ea rc h s pa ce . Re st ar ti ng d oe s n ot g ua ra nt ee t ha t a
"s ol ut io nw il lb ef ou nd fa st er , b ut it do es re du ce th ev ar ia nc e o nt he ti me to so lu ti on ."
5. Cl ev er i nd ex in g (a s s ee n i n m an y a lg or it hm s): Th e s pe ed up m et ho ds u se d i n DPLL
"i ts el f , a sw el l a st he t ri ck s u se d i n m od er n s ol ve rs , r eq ui re f as t i nd ex in g o fs uc h t hi ng s"
a s “t he s et o f c la us es i n w hi ch v ar ia bl e X a pp ea rs a s a p os it iv e l it er al .” Th is t as k i s
i
c om pl ic at ed b y t he f ac t t ha t t he a lg or it hm s a re i nt er es te d o nl y i n t he c la us es t ha t h av e
"n ot y et b ee n s at is fi ed b y p re vi ou s a ss ig nm en ts t o v ar ia bl es , s o t he i nd ex in g s tr uc tu re s"
m us tb eu pd at ed dy na mi ca ll y a st he co mp ut at io n p ro ce ed s .
"Wi th th es ee nh an ce me nt s , m od er ns ol ve rs ca nh an dl ep ro bl em sw it ht en so fm il li on so fv ar i-"
a bl es . Th ey h av e r ev ol ut io ni ze d a re as s uc h a s h ar dw ar e v er if ic at io n a nd s ec ur it y p ro to co l
"v er if ic at io n , w hi ch pr ev io us ly r eq ui re d l ab or io us , h an d-g ui de d p ro of s ."
7.6.2 Lo ca l s ea rc h a lg or it hm s
"We ha ve se en se ve ra ll oc al se ar ch al go ri th ms so fa ri nt hi sb oo k ,i nc lu di ng HILL-CLIMBING"
(p ag e 122) a nd SIMULATED-ANNEALING (p ag e 126). Th es e a lg or it hm s c an b e a pp li ed d i-
"r ec tl y t o s at is fi ab il it y p ro bl em s , p ro vi de d t ha t w e c ho os e t he r ig ht e va lu at io n f un ct io n . Be-"
"c au se t he go al is to fi nd an as si gn me nt t ha t s at is fi es ev er yc la us e , a ne va lu at io n f un ct io n t ha t"
"c ou nt s t he n um be r o f u ns at is fi ed c la us es w il l d o t he j ob . In f ac t , t hi s i s e xa ct ly t he m ea su re"
u se db yt he MIN-CONFLICTS a lg or it hm fo r CSPs(p ag e 221). Al lt he se al go ri th ms ta ke st ep s
"i n t he s pa ce o f c om pl et e a ss ig nm en ts , f li pp in g t he t ru th v al ue o f o ne s ym bo l a t a t im e . Th e"
"s pa ce u su al ly c on ta in s m an y l oc al m in im a , t o e sc ap e f ro m w hi ch v ar io us f or ms o f r an do m-"
"n es s a re r eq ui re d . In r ec en t y ea rs , t he re h as b ee n a g re at d ea l o f e xp er im en ta ti on t o f in d a"
g oo db al an ce be tw ee ng re ed in es s a nd ra nd om ne ss .
On eo ft he si mp le st an dm os te ff ec ti ve al go ri th ms to em er ge fr om al lt hi sw or ki sc al le d
"WALKSAT (Fi gu re 7.18). On e ve ry i te ra ti on , t he a lg or it hm p ic ks a n u ns at is fi ed c la us e a nd"
p ic ks a s ym bo l i n t he c la us e t o f li p . It c ho os es r an do ml y b et we en t wo w ay s t o p ic k w hi ch
s ym bo lt of li p: (1)a“m in-c on fl ic ts” s te pt ha tm in im iz es th en um be ro fu ns at is fi ed c la us es in
t he ne ws ta te an d(2)a“r an do m w al k”s te pt ha tp ic ks th es ym bo lr an do ml y .
"Wh en WALKSAT r et ur ns a m od el , t he i np ut s en te nc e i s i nd ee d s at is fi ab le , b ut w he n"
"i t r et ur ns f ai lu re , t he re a re t wo p os si bl e c au se s: e it he r t he s en te nc e i s u ns at is fi ab le o r w e"
"n ee d t og iv e t he a lg or it hm m or e t im e . If w es et m ax f li ps=∞ a nd p > 0, WALKSAT w il l"
"e ve nt ua ll y r et ur n a m od el (i f o ne e xi st s), b ec au se t he r an do m-w al k s te ps w il l e ve nt ua ll y h it"
Se ct io n 7.6. Ef fe ct iv e Pr op os it io na l Mo de l Ch ec ki ng 263
"f un ct io n WALKSAT(c la us es ,p ,m ax f li ps)r et ur ns as at is fy in gm od el or fa il ur e"
"i np ut s:c la us es ,a se to fc la us es in pr op os it io na ll og ic"
"p ,t he pr ob ab il it yo fc ho os in gt od oa“r an do mw al k”m ov e ,t yp ic al ly ar ou nd 0.5"
"m ax f li ps ,n um be ro ff li ps al lo we db ef or eg iv in gu p"
m od el←a ra nd om as si gn me nt of tr ue/f al se t ot he sy mb ol si nc la us es
f or i= 1 t om ax f li ps d o
i fm od el s at is fi es cl au se s t he nr et ur nm od el
c la us e←a ra nd om ly se le ct ed cl au se fr om cl au se s t ha ti sf al se in mo de l
w it hp ro ba bi li ty pf li pt he va lu ei nm od el o fa ra nd om ly se le ct ed sy mb ol fr om cl au se
e ls ef li pw hi ch ev er sy mb ol in cl au se m ax im iz es th en um be ro fs at is fi ed cl au se s
r et ur nf ai lu re
Fi gu re 7.18 Th e WALKSAT a lg or it hm f or c he ck in g s at is fi ab il it y b y r an do ml y f li pp in g
t he va lu es of va ri ab le s .Ma ny ve rs io ns of th ea lg or it hm ex is t .
"u po n t he s ol ut io n . Al as , i f m ax f li ps i s i nf in it y a nd t he s en te nc e i s u ns at is fi ab le , t he n t he"
a lg or it hm n ev er te rm in at es !
"Fo rt hi sr ea so n , WALKSAT i sm os tu se fu l w he nw ee xp ec t a so lu ti on t oe xi st—f or ex-"
"a mp le ,t he pr ob le ms di sc us se di n Ch ap te rs 3 a nd 6 u su al ly ha ve so lu ti on s . On th eo th er ha nd ,"
"WALKSAT c an no t a lw ay s d et ec t u ns at is fi ab il it y , w hi ch i s r eq ui re d f or d ec id in g e nt ai lm en t ."
"Fo r e xa mp le , a n a ge nt c an no t r el ia bl y u se WALKSAT t o p ro ve t ha t a s qu ar e i s s af e i n t he"
"w um pu sw or ld . In st ea d , i tc an sa y ,“It ho ug ht ab ou ti tf or an ho ur an dc ou ld n’t co me up wi th"
a po ss ib le w or ld in wh ic ht he sq ua re i sn’t sa fe .” Th is ma yb ea go od em pi ri ca l i nd ic at or t ha t
"t he sq ua re is sa fe ,b ut it’s ce rt ai nl y n ot ap ro of ."
7.6.3 Th e l an ds ca pe of ra nd om SATp ro bl em s
So me SAT p ro bl em s a re h ar de r t ha n o th er s . Ea sy p ro bl em s c an b e s ol ve d b y a ny o ld a lg o-
"r it hm , b ut b ec au se w ek no w t ha t SATi s NP-c om pl et e , a tl ea st s om ep ro bl em i ns ta nc es m us t"
"r eq ui re ex po ne nt ia l r un ti me . In Ch ap te r 6,w es aw so me su rp ri si ng di sc ov er ie s a bo ut ce rt ai n"
"k in ds of pr ob le ms . Fo re xa mp le ,t he n-q ue en sp ro bl em—t ho ug ht t ob eq ui te tr ic ky fo rb ac k-"
"t ra ck in g s ea rc h a lg or it hm s—t ur ne d o ut to be tr iv ia ll y e as y f or lo ca l s ea rc h m et ho ds , s uc h a s"
m in-c on fl ic ts . Th is i s b ec au se s ol ut io ns a re v er y d en se ly d is tr ib ut ed i n t he s pa ce o f a ss ig n-
"m en ts , a nd a ny in it ia l a ss ig nm en t i sg ua ra nt ee d t oh av ea so lu ti on n ea rb y . Th us , n-q ue en s i s"
e as yb ec au se i ti su nd er co ns tr ai ne d .
UNDERCONSTRAINED
"Wh en w e l oo k a t s at is fi ab il it y p ro bl em s i n c on ju nc ti ve n or ma l f or m , a n u nd er co n-"
"s tr ai ne d p ro bl em i s o ne w it h r el at iv el y f ew c la us es c on st ra in in g t he v ar ia bl es . Fo r e xa mp le ,"
h er ei sa ra nd om ly ge ne ra te d 3-CNFs en te nc e w it hf iv es ym bo ls a nd fi ve cl au se s:
(¬D∨¬B∨C)∧(B∨¬A∨¬C)∧(¬C ∨¬B∨E)
∧(E ∨¬D∨B)∧(B∨E ∨¬C).
"Si xt ee n o f t he 32 p os si bl e a ss ig nm en ts a re m od el s o f t hi s s en te nc e , s o , o n a ve ra ge , i t w ou ld"
"t ak e j us t t wo r an do m g ue ss es t o f in d a m od el . Th is i s a n e as y s at is fi ab il it y p ro bl em , a s a re"
264 Ch ap te r 7. Lo gi ca l Ag en ts
"m os t s uc h u nd er co ns tr ai ne d p ro bl em s . On t he o th er h an d , a n o ve rc on st ra in ed p ro bl em h as"
m an yc la us es r el at iv et ot he nu mb er of va ri ab le sa nd is li ke ly to ha ve no so lu ti on s .
"To g o b ey on d t he se b as ic i nt ui ti on s , w e m us t d ef in e e xa ct ly h ow r an do m s en te nc es"
"a re g en er at ed . Th e n ot at io n CNF (m ,n) d en ot es a k-CNF s en te nc e w it h m c la us es a nd n"
k
"s ym bo ls , w he re t he c la us es a re c ho se n u ni fo rm ly , i nd ep en de nt ly , a nd w it ho ut r ep la ce me nt"
"f ro ma mo ng al lc la us es wi th kd if fe re nt li te ra ls ,w hi ch ar ep os it iv eo rn eg at iv ea tr an do m . (A"
"s ym bo lm ay no ta pp ea rt wi ce in ac la us e ,n or ma ya cl au se ap pe ar tw ic ei na se nt en ce .)"
"Gi ve n a s ou rc e o f r an do m s en te nc es , w e c an m ea su re t he p ro ba bi li ty o f s at is fi ab il it y ."
"Fi gu re 7.19(a) p lo ts t he p ro ba bi li ty f or CNF (m ,50), t ha t i s , s en te nc es w it h 50 v ar ia bl es"
3
"a nd 3 l it er al s p er c la us e , a s a f un ct io n o f t he c la us e/s ym bo l r at io , m/n . As w e e xp ec t , f or"
"s ma ll m/n t he p ro ba bi li ty o f s at is fi ab il it y i s c lo se t o 1, a nd a t l ar ge m/n t he p ro ba bi li ty"
"i s c lo se t o 0. Th e p ro ba bi li ty d ro ps f ai rl y s ha rp ly a ro un d m/n=4.3. Em pi ri ca ll y , w e f in d"
t ha t t he “c li ff” s ta ys i n r ou gh ly t he s am e p la ce (f or k=3)a nd g et s s ha rp er a nd s ha rp er a s n
"SATISFIABILITY i nc re as es . Th eo re ti ca ll y , t he s at is fi ab il it y t hr es ho ld c on je ct ur e s ay s t ha t f or e ve ry k ≥ 3,"
THRESHOLD
CONJECTURE
"t he re is at hr es ho ld r at io r s uc ht ha t ,a sn go es to in fi ni ty ,t he pr ob ab il it y t ha t CNF (n ,r n)"
k k
"i s s at is fi ab le b ec om es 1 f or a ll v al ue s o f r b el ow t he t hr es ho ld , a nd 0 f or a ll v al ue s a bo ve ."
Th ec on je ct ur e r em ai ns un pr ov en .
1
0.8
0.6
0.4
0.2
0
0 1 2 3 4 5 6 7 8
)e lb ai fs it as(P
2000
1800
1600
1400
1200
1000
800
600
400
200
0
0 1 2 3 4 5 6 7 8
Cl au se/s ym bo l r at io m/n
e mi tn u R
DPLL
Wa lk SAT
Cl au se/s ym bo l r at io m/n
(a) (b)
Fi gu re 7.19 (a)Gr ap hs ho wi ng th ep ro ba bi li ty th at ar an do m 3-CNFs en te nc ew it hn=50
"s ym bo ls is sa ti sf ia bl e ,a sa fu nc ti on of th ec la us e/s ym bo lr at io m/n .(b)Gr ap ho ft he me di an"
"r un ti me(m ea su re di nn um be ro fr ec ur si ve ca ll st o DPLL ,a go od pr ox y)o nr an do m 3-CNF"
s en te nc es .Th em os td if fi cu lt pr ob le ms ha ve ac la us e/s ym bo lr at io of ab ou t 4.3.
"No wt ha tw eh av ea go od i de aw he re th es at is fi ab le a nd un sa ti sf ia bl e p ro bl em s a re , t he"
"n ex t q ue st io n i s , w he re a re t he h ar d p ro bl em s ? It t ur ns o ut t ha t t he y a re a ls o o ft en a t t he"
t hr es ho ld v al ue . Fi gu re 7.19(b) s ho ws th at 50-s ym bo l p ro bl em s a tt he t hr es ho ld v al ue o f 4.3
a re a bo ut 20 t im es m or e d if fi cu lt t o s ol ve t ha n t ho se a t a r at io o f 3.3. Th e u nd er co ns tr ai ne d
p ro bl em s a re e as ie st t o s ol ve (b ec au se i t i s s o e as y t o g ue ss a s ol ut io n); t he o ve rc on st ra in ed
"p ro bl em sa re no ta se as ya st he un de rc on st ra in ed , b ut st il la re mu ch ea si er th an th eo ne sr ig ht"
a tt he th re sh ol d .
Se ct io n 7.7. Ag en ts Ba se do n Pr op os it io na l Lo gi c 265
7.7 AGENTS BASED ON PROPOSITIONAL LOGIC
"In t hi s s ec ti on , w eb ri ng t og et he r w ha t w e h av e l ea rn ed s o f ar i n o rd er t o c on st ru ct w um pu s"
"w or ld ag en ts th at us ep ro po si ti on al lo gi c . Th ef ir st st ep is to en ab le th ea ge nt to de du ce ,t ot he"
"e xt en t p os si bl e , t he st at e o ft he wo rl dg iv en i ts pe rc ep t h is to ry . Th is re qu ir es w ri ti ng d ow na"
c om pl et el og ic al mo de lo ft he ef fe ct so fa ct io ns . We al so sh ow ho wt he ag en tc an ke ep tr ac ko f
"t he w or ld e ff ic ie nt ly w it ho ut g oi ng b ac k i nt o t he p er ce pt h is to ry f or e ac h i nf er en ce . Fi na ll y ,"
w e s ho w h ow t he a ge nt c an u se l og ic al i nf er en ce t o c on st ru ct p la ns t ha t a re g ua ra nt ee d t o
a ch ie ve it sg oa ls .
7.7.1 Th e c ur re nt s ta te of th e w or ld
"As s ta te d a t t he b eg in ni ng o f t he c ha pt er , a l og ic al a ge nt o pe ra te s b y d ed uc in g w ha t t o d o"
f ro m a k no wl ed ge b as e o f s en te nc es a bo ut t he w or ld . Th e k no wl ed ge b as e i s c om po se d o f
a xi om s—g en er al k no wl ed ge a bo ut h ow t he w or ld w or ks—a nd p er ce pt s en te nc es o bt ai ne d
"f ro mt he ag en t’s ex pe ri en ce in ap ar ti cu la rw or ld . In th is se ct io n ,w ef oc us on th ep ro bl em of"
"d ed uc in g t he cu rr en ts ta te of th ew um pu sw or ld—w he re am I ,i s t ha ts qu ar es af e ,a nd so on ."
We be ga nc ol le ct in g a xi om s i n Se ct io n 7.4.3. Th ea ge nt k no ws t ha tt he s ta rt in g s qu ar e
"c on ta in sn op it(¬P )a nd no wu mp us(¬W ). Fu rt he rm or e , f or ea ch sq ua re , i tk no ws th at"
"1,1 1,1"
t he sq ua re is br ee zy if an do nl yi fa ne ig hb or in gs qu ar eh as ap it ;a nd as qu ar ei ss me ll yi fa nd
"o nl yi fa ne ig hb or in g s qu ar eh as aw um pu s . Th us ,w ei nc lu de a la rg ec ol le ct io n o fs en te nc es"
o ft he fo ll ow in gf or m:
B ⇔ (P ∨P )
"1,1 1,2 2,1"
S ⇔ (W ∨W )
"1,1 1,2 2,1"
···
"Th ea ge nt al so kn ow st ha tt he re is ex ac tl yo ne wu mp us . Th is is ex pr es se d i nt wo pa rt s . Fi rs t ,"
w eh av et os ay th at th er ei sa tl ea st on ew um pu s:
W ∨W ∨···∨W ∨W .
"1,1 1,2 4,3 4,4"
"Th en , w eh av e t os ay th at t he re i s a tm os to ne wu mp us . Fo re ac h p ai ro fl oc at io ns , w ea dd a"
s en te nc e s ay in gt ha ta tl ea st on eo ft he mm us tb ew um pu s-f re e:
¬W ∨¬W
"1,1 1,2"
¬W ∨¬W
"1,1 1,3"
···
¬W ∨¬W .
"4,3 4,4"
"So f ar , s o g oo d . No w l et’s c on si de r t he a ge nt’s p er ce pt s . If t he re i s c ur re nt ly a s te nc h , o ne"
m ig ht su pp os e t ha ta pr op os it io n St en ch s ho ul db ea dd ed to th ek no wl ed ge ba se . Th is is no t
"q ui te ri gh t ,h ow ev er: i ft he re wa sn os te nc ha tt he pr ev io us ti me st ep ,t he n¬St en ch w ou ld al-"
"r ea dy be as se rt ed ,a nd th en ew as se rt io nw ou ld si mp ly re su lt i na co nt ra di ct io n . Th ep ro bl em"
"i ss ol ve dw he nw er ea li ze th at ap er ce pt as se rt ss om et hi ng o nl ya bo ut th ec ur re nt ti me . Th us ,"
"i ft he ti me st ep(a ss up pl ie d t o MAKE-PERCEPT-SENTENCE i n Fi gu re 7.1)i s 4,t he nw ea dd"
266 Ch ap te r 7. Lo gi ca l Ag en ts
"St en ch 4 t ot he kn ow le dg e b as e , r at he rt ha n St en ch—n ea tl ya vo id in g a ny co nt ra di ct io n w it h"
"¬St en ch 3. Th es am eg oe sf or th eb re ez e , b um p ,g li tt er , a nd sc re am p er ce pt s ."
Th ei de ao fa ss oc ia ti ng p ro po si ti on s w it ht im es te ps e xt en ds t oa ny as pe ct o ft he wo rl d
"t ha tc ha ng es ov er ti me . Fo re xa mp le ,t he in it ia lk no wl ed ge ba se in cl ud es L 0 —t he ag en ti si n"
"1,1"
"s qu ar e[1,1]a tt im e 0—a sw el la s Fa ci ng Ea st 0,Ha ve Ar ro w 0,a nd Wu mp us Al iv e 0. We us e"
"t he wo rd f lu en t(f ro m t he La ti n f lu en s , f lo wi ng) t or ef er an as pe ct o f t he wo rl d t ha tc ha ng es ."
FLUENT
"“Fl ue nt”i sa sy no ny mf or“s ta te va ri ab le ,”i nt he se ns ed es cr ib ed in th ed is cu ss io no ff ac to re d"
r ep re se nt at io ns i n Se ct io n 2.4.7 o n p ag e 57. Sy mb ol s a ss oc ia te d w it h p er ma ne nt a sp ec ts o f
ATEMPORAL t he wo rl dd on ot ne ed at im es up er sc ri pt a nd ar es om et im es ca ll ed a te mp or al va ri ab le s .
VARIABLE
We c an c on ne ct s te nc h a nd b re ez e p er ce pt s d ir ec tl y t o t he p ro pe rt ie s o f t he s qu ar es
w he re t he y a re ex pe ri en ce d t hr ou gh t he l oc at io n f lu en ta s f ol lo ws .10 Fo ra ny t im es te p t a nd
"a ny sq ua re [x ,y],w ea ss er t"
Lt ⇒ (Br ee ze t ⇔ B )
"x ,y x ,y"
Lt ⇒ (St en ch t ⇔ S ).
"x ,y x ,y"
"No w , o f c ou rs e , w e n ee d a xi om s t ha t a ll ow t he a ge nt t o k ee p t ra ck o f f lu en ts s uc h a s Lt ."
"x ,y"
"Th es e f lu en ts c ha ng e a s t he r es ul t o f a ct io ns t ak en b y t he a ge nt , s o , i n t he t er mi no lo gy o f"
"Ch ap te r 3, w e n ee d t o w ri te d ow n t he t ra ns it io n m od el o f t he w um pu s w or ld a s a s et o f"
l og ic al se nt en ce s .
"Fi rs t , w e n ee d p ro po si ti on s ym bo ls f or t he o cc ur re nc es o f a ct io ns . As w it h p er ce pt s ,"
"t he se sy mb ol sa re in de xe db yt im e ;t hu s ,Fo rw ar d 0 m ea ns th at th ea ge nt ex ec ut es th e Fo rw ar d"
"a ct io n a t t im e 0. By co nv en ti on , t he p er ce pt f or a g iv en t im e s te p h ap pe ns f ir st , f ol lo we d b y"
"t he ac ti on fo rt ha tt im es te p ,f ol lo we db ya tr an si ti on t ot he n ex tt im es te p ."
"To d es cr ib e h ow t he w or ld c ha ng es , w e c an t ry w ri ti ng e ff ec t a xi om s t ha t s pe ci fy t he"
EFFECTAXIOM
"o ut co me of an ac ti on at th en ex tt im es te p . Fo re xa mp le ,i ft he ag en ti sa tl oc at io n[1,1]f ac in g"
"e as t a t t im e 0 a nd g oe s Fo rw ar d , t he r es ul t i st ha t t he a ge nt i s i n s qu ar e [2,1] a nd n o l on ge r"
"i si n[1,1]:"
L 0 ∧Fa ci ng Ea st 0∧Fo rw ar d 0 ⇒ (L 1 ∧¬L 1 ). (7.1)
"1,1 2,1 1,1"
"We w ou ld n ee d o ne s uc h s en te nc e f or e ac h p os si bl e t im e s te p , f or e ac h o f t he 16 s qu ar es ,"
a nd ea ch of th ef ou ro ri en ta ti on s . We wo ul da ls on ee ds im il ar se nt en ce sf or th eo th er ac ti on s:
"Gr ab ,Sh oo t ,Cl im b ,Tu rn Le ft ,a nd Tu rn Ri gh t ."
Le t u s s up po se t ha t t he a ge nt d oe s d ec id e t o m ov e Fo rw ar d a t t im e 0 a nd a ss er ts t hi s
"f ac t i nt o i ts k no wl ed ge b as e . Gi ve n t he e ff ec t a xi om i n Eq ua ti on (7.1), c om bi ne d w it h t he"
"i ni ti al a ss er ti on s a bo ut t he s ta te a t t im e 0, t he a ge nt c an n ow d ed uc e t ha t i t i s i n [2,1]. Th at"
"i s , ASK(KB ,L 1 )=t ru e . So fa r , s o g oo d . Un fo rt un at el y , t he n ew s e ls ew he re i sl es s g oo d:"
"2,1"
"i f w e ASK(KB ,Ha ve Ar ro w 1), t he a ns we r i s f al se , t ha t i s , t he a ge nt c an no t p ro ve i t s ti ll"
h as t he a rr ow ; n or ca n i t p ro ve i t d oe sn’t h av e i t ! Th ei nf or ma ti on h as b ee n l os t b ec au se t he
e ff ec ta xi om f ai ls t os ta te wh at re ma in s u nc ha ng ed a st he re su lt of an ac ti on . Th en ee d t od o
t hi s g iv es r is e t o t he f ra me p ro bl em .11 On e p os si bl e s ol ut io n t o t he f ra me p ro bl em w ou ld
FRAMEPROBLEM
10 Se ct io n 7.4.3 c on ve ni en tl yg lo ss ed ov er th is re qu ir em en t .
11 Th en am e“f ra me pr ob le m”c om es fr om“f ra me of re fe re nc e”i np hy si cs—t he as su me ds ta ti on ar yb ac kg ro un d
"w it hr es pe ct to wh ic hm ot io ni sm ea su re d . It al so ha sa na na lo gy to th ef ra me so fa mo vi e , i nw hi ch no rm al ly"
m os to ft he ba ck gr ou nd st ay sc on st an tw hi le ch an ge so cc ur in th ef or eg ro un d .
Se ct io n 7.7. Ag en ts Ba se do n Pr op os it io na l Lo gi c 267
b e t o a dd f ra me a xi om s e xp li ci tl y a ss er ti ng a ll t he p ro po si ti on s t ha t r em ai n t he s am e . Fo r
FRAMEAXIOM
"e xa mp le ,f or ea ch ti me tw ew ou ld ha ve"
Fo rw ar dt ⇒ (Ha ve Ar ro wt ⇔ Ha ve Ar ro wt+1)
Fo rw ar dt ⇒ (Wu mp us Al iv et ⇔ Wu mp us Al iv et+1)
···
w he re w e e xp li ci tl y m en ti on e ve ry p ro po si ti on t ha t s ta ys u nc ha ng ed f ro m t im e t t o t im e
t + 1 u nd er t he a ct io n Fo rw ar d . Al th ou gh t he a ge nt n ow k no ws t ha t i t s ti ll h as t he a rr ow
"a ft er mo vi ng fo rw ar da nd th at th ew um pu sh as n’t d ie do rc om eb ac kt ol if e ,t he pr ol if er at io n"
o f f ra me a xi om s s ee ms r em ar ka bl y i ne ff ic ie nt . In a w or ld w it h m d if fe re nt a ct io ns a nd n
"f lu en ts , t he s et o f f ra me a xi om s w il l b e o f s iz e O(m n). Th is s pe ci fi c m an if es ta ti on o f t he"
"REPRESENTATIONAL f ra me p ro bl em i s s om et im es c al le d t he r ep re se nt at io na l f ra me p ro bl em . Hi st or ic al ly , t he"
FRAMEPROBLEM
p ro bl em wa sa si gn if ic an to ne fo r AIr es ea rc he rs ; w ee xp lo re it fu rt he ri nt he no te sa tt he en d
o ft he ch ap te r .
Th er ep re se nt at io na l f ra me pr ob le mi ss ig ni fi ca nt be ca us et he re al wo rl dh as ve ry ma ny
"f lu en ts , t o p ut i t m il dl y . Fo rt un at el y f or u s h um an s , e ac h a ct io n t yp ic al ly c ha ng es n o m or e"
t ha n s om e s ma ll n um be r k o f t ho se f lu en ts—t he w or ld e xh ib it s l oc al it y . So lv in g t he r ep re-
LOCALITY
s en ta ti on al f ra me pr ob le m r eq ui re s d ef in in gt he tr an si ti on m od el wi th as et of ax io ms of si ze
INFERENTIALFRAME O(m k) r at he r t ha n s iz e O(m n). Th er e i s a ls o a n i nf er en ti al f ra me p ro bl em: t he p ro bl em
PROBLEM
o fp ro je ct in g f or wa rd th er es ul ts of a t st ep pl an of ac ti on in ti me O(k t)r at he rt ha n O(n t).
Th e s ol ut io n t o t he p ro bl em i nv ol ve s c ha ng in g o ne’s f oc us f ro m w ri ti ng a xi om s a bo ut
"a ct io ns t ow ri ti ng a xi om s a bo ut f lu en ts . Th us , f or ea ch f lu en t F , w ew il lh av ea n a xi om t ha t"
d ef in es th et ru th va lu eo f Ft+1 i nt er ms of fl ue nt s(i nc lu di ng F i ts el f)a tt im et an dt he ac ti on s
"t ha tm ay ha ve oc cu rr ed at ti me t . No w ,t he tr ut hv al ue of Ft+1 c an be se ti no ne of tw ow ay s:"
"e it he rt he ac ti on at ti me tc au se s F t ob et ru ea tt+1,o r F w as al re ad yt ru ea tt im et an dt he"
a ct io na tt im et do es no tc au se it to be fa ls e . An ax io mo ft hi sf or mi sc al le da su cc es so r-s ta te
SUCCESSOR-STATE a xi om an dh as th is sc he ma:
AXIOM
Ft+1 ⇔ Ac ti on Ca us es Ft∨(Ft∧¬Ac ti on Ca us es No t Ft).
On e o f t he s im pl es t s uc ce ss or-s ta te a xi om s i s t he o ne f or Ha ve Ar ro w . Be ca us e t he re i s n o
"a ct io nf or re lo ad in g , t he Ac ti on Ca us es Ft p ar tg oe sa wa ya nd we ar el ef tw it h"
Ha ve Ar ro wt+1 ⇔ (Ha ve Ar ro wt∧¬Sh oo tt). (7.2)
"Fo r t he a ge nt’s l oc at io n , t he s uc ce ss or-s ta te a xi om s a re m or e e la bo ra te . Fo r e xa mp le , Lt+1"
"1,1"
"i s t ru e i f e it he r (a) t he a ge nt m ov ed Fo rw ar d f ro m [1,2] w he n f ac in g s ou th , o r f ro m [2,1]"
w he nf ac in gw es t ;o r(b)Lt w as al re ad yt ru ea nd th ea ct io nd id no tc au se mo ve me nt(e it he r
"1,1"
b ec au se t he a ct io n w as no t Fo rw ar d o rb ec au se t he ac ti on b um pe d i nt o a wa ll). Wr it te n o ut
"i np ro po si ti on al l og ic ,t hi sb ec om es"
Lt+1 ⇔ (Lt ∧(¬Fo rw ar dt∨Bu mp t+1))
"1,1 1,1"
∨ (Lt ∧(So ut ht∧Fo rw ar dt)) (7.3)
"1,2"
∨ (Lt ∧(We st t∧Fo rw ar dt)).
"2,1"
Ex er ci se 7.26 a sk sy ou to wr it eo ut ax io ms fo rt he re ma in in g w um pu sw or ld fl ue nt s .
268 Ch ap te r 7. Lo gi ca l Ag en ts
Gi ve na co mp le te se to fs uc ce ss or-s ta te a xi om sa nd th eo th er ax io ms li st ed at th eb eg in-
"n in go ft hi ss ec ti on , t he ag en tw il lb ea bl et o ASK a nd an sw er an ya ns we ra bl eq ue st io na bo ut"
"t he cu rr en ts ta te of th ew or ld . Fo re xa mp le ,i n Se ct io n 7.2 t he in it ia ls eq ue nc eo fp er ce pt sa nd"
a ct io ns is
¬St en ch 0∧¬Br ee ze 0∧¬Gl it te r 0∧¬Bu mp 0∧¬Sc re am 0 ; Fo rw ar d 0
¬St en ch 1∧Br ee ze 1∧¬Gl it te r 1∧¬Bu mp 1∧¬Sc re am 1 ; Tu rn Ri gh t 1
¬St en ch 2∧Br ee ze 2∧¬Gl it te r 2∧¬Bu mp 2∧¬Sc re am 2 ; Tu rn Ri gh t 2
¬St en ch 3∧Br ee ze 3∧¬Gl it te r 3∧¬Bu mp 3∧¬Sc re am 3 ; Fo rw ar d 3
¬St en ch 4∧¬Br ee ze 4∧¬Gl it te r 4∧¬Bu mp 4∧¬Sc re am 4 ; Tu rn Ri gh t 4
¬St en ch 5∧¬Br ee ze 5∧¬Gl it te r 5∧¬Bu mp 5∧¬Sc re am 5 ; Fo rw ar d 5
St en ch 6∧¬Br ee ze 6∧¬Gl it te r 6∧¬Bu mp 6∧¬Sc re am 6
"At t hi s p oi nt , w e h av e ASK(KB ,L 6 )=t ru e , s o t he a ge nt k no ws w he re i t i s . Mo re ov er ,"
"1,2"
"ASK(KB ,W 1,3)=t ru e a nd ASK(KB ,P 3,1)=t ru e ,s ot he ag en th as fo un dt he wu mp us an d"
o ne of th ep it s . Th em os ti mp or ta nt qu es ti on fo rt he ag en ti sw he th er as qu ar ei s OKt om ov e
"i nt o , t ha t i s , t he s qu ar e c on ta in s n o p it n or l iv e w um pu s . It’s c on ve ni en t t o a dd a xi om s f or"
"t hi s ,h av in gt he fo rm"
OKt ⇔ ¬P ∧¬(W ∧Wu mp us Al iv et).
"x ,y x ,y x ,y"
"Fi na ll y , ASK(KB ,OK 6 )=t ru e , s o t he s qu ar e [2,2] i s OK t o m ov e i nt o . In f ac t , g iv en a"
"2,2"
"s ou nd an dc om pl et ei nf er en ce al go ri th ms uc ha s DPLL ,t he ag en tc an an sw er an ya ns we ra bl e"
q ue st io na bo ut wh ic hs qu ar es ar e OK—a nd ca nd os oi nj us ta fe wm il li se co nd s f or sm al l-t o-
m ed iu mw um pu sw or ld s .
"So lv in g t he r ep re se nt at io na l a nd i nf er en ti al f ra me p ro bl em s i s a b ig s te p f or wa rd , b ut"
a pe rn ic io us p ro bl em r em ai ns: w en ee d t oc on fi rm t ha t a ll th en ec es sa ry p re co nd it io ns o fa n
a ct io nh ol df or it to ha ve it si nt en de de ff ec t . We sa id th at th e Fo rw ar d a ct io nm ov es th ea ge nt
"a he ad un le ss th er ei sa wa ll in th ew ay ,b ut th er ea re ma ny ot he ru nu su al ex ce pt io ns th at co ul d"
"c au se th ea ct io nt of ai l: t he ag en tm ig ht tr ip an df al l ,b es tr ic ke nw it ha he ar ta tt ac k ,b ec ar ri ed"
"QUALIFICATION a wa yb yg ia nt b at s , e tc . Sp ec if yi ng a ll th es e e xc ep ti on s i sc al le d t he qu al if ic at io n p ro bl em ."
PROBLEM
Th er e i s n o c om pl et e s ol ut io n w it hi n l og ic ; s ys te m d es ig ne rs h av e t o u se g oo d j ud gm en t i n
"d ec id in g h ow d et ai le d t he y w an t t o b e i n s pe ci fy in g t he ir m od el , a nd w ha t d et ai ls t he y w an t"
t ol ea ve ou t . We wi ll se ei n Ch ap te r 13 t ha tp ro ba bi li ty t he or ya ll ow su st os um ma ri ze al lt he
e xc ep ti on s w it ho ut ex pl ic it ly n am in gt he m .
7.7.2 A h yb ri da ge nt
Th ea bi li ty to de du ce va ri ou sa sp ec ts of th es ta te of th ew or ld ca nb ec om bi ne df ai rl ys tr ai gh t-
f or wa rd ly w it hc on di ti on–a ct io n r ul es an dw it hp ro bl em-s ol vi ng a lg or it hm s f ro m Ch ap te rs 3
a nd 4 t op ro du ce ah yb ri da ge nt fo rt he wu mp us wo rl d . Fi gu re 7.20 s ho ws on ep os si bl ew ay
HYBRIDAGENT
t o d o t hi s . Th e a ge nt p ro gr am m ai nt ai ns a nd u pd at es a k no wl ed ge b as e a s w el l a s a c ur re nt
p la n . Th e i ni ti al k no wl ed ge b as e c on ta in s t he a te mp or al a xi om s—t ho se t ha t d on’t d ep en d
"o n t , s uc h a s t he a xi om r el at in g t he b re ez in es s o f s qu ar es t o t he p re se nc e o f p it s . At e ac h"
"t im es te p ,t he ne wp er ce pt se nt en ce is ad de da lo ng wi th al lt he ax io ms th at de pe nd on t ,s uc h"
Se ct io n 7.7. Ag en ts Ba se do n Pr op os it io na l Lo gi c 269
a st he su cc es so r-s ta te a xi om s . (Th en ex ts ec ti on ex pl ai ns wh yt he ag en td oe sn’t n ee da xi om s
"f or f ut ur e t im e s te ps .) Th en , t he a ge nt u se s l og ic al i nf er en ce , b y ASKi ng q ue st io ns o f t he"
"k no wl ed ge ba se ,t ow or ko ut wh ic hs qu ar es a re sa fe an dw hi ch ha ve ye tt ob ev is it ed ."
Th em ai nb od yo ft he ag en tp ro gr am co ns tr uc ts ap la nb as ed on ad ec re as in gp ri or it yo f
"g oa ls . Fi rs t ,i ft he re is ag li tt er , t he pr og ra m c on st ru ct s a p la nt og ra bt he go ld ,f ol lo wa ro ut e"
"b ac k t ot he i ni ti al l oc at io n , a nd c li mb o ut o f t he c av e . Ot he rw is e , i ft he re i sn o c ur re nt p la n ,"
"t he p ro gr am p la ns a r ou te t o t he c lo se st s af e s qu ar e t ha t i t h as n ot v is it ed y et , m ak in g s ur e"
∗
"t he r ou te g oe s t hr ou gh o nl y s af e s qu ar es . Ro ut e p la nn in g i s d on e w it h A s ea rc h , n ot w it h"
"ASK . If th er ea re no sa fe sq ua re st oe xp lo re ,t he ne xt st ep—i ft he a ge nt st il lh as an ar ro w—i s"
t ot ry t o m ak ea s af e s qu ar e b ys ho ot in g a t o ne o ft he p os si bl e w um pu s l oc at io ns . Th es e a re
"d et er mi ne d b y a sk in g w he re ASK(KB ,¬W x ,y) i s f al se—t ha t i s , w he re i t i s n ot k no wn t ha t"
t he re i s n ot a wu mp us . Th e f un ct io n PLAN-SHOT (n ot s ho wn) u se s PLAN-ROUTE t o p la n a
"s eq ue nc e o fa ct io ns t ha tw il ll in e u pt hi s s ho t . If th is f ai ls , t he p ro gr am l oo ks f or as qu ar e t o"
"e xp lo re t ha t i sn ot p ro va bl y u ns af e—t ha t i s , a sq ua re f or wh ic h ASK(KB ,¬OKt x ,y)r et ur ns"
"f al se . If th er ei sn os uc hs qu ar e , t he nt he mi ss io ni si mp os si bl ea nd th ea ge nt re tr ea ts to[1,1]"
a nd cl im bs ou to ft he ca ve .
7.7.3 Lo gi ca ls ta te es ti ma ti on
"Th e a ge nt p ro gr am i n Fi gu re 7.20 w or ks q ui te w el l , b ut i t h as o ne m aj or w ea kn es s: a s t im e"
"g oe sb y ,t he co mp ut at io na le xp en se in vo lv ed in th ec al ls to ASKg oe su pa nd up . Th is ha pp en s"
m ai nl yb ec au se th er eq ui re di nf er en ce sh av et og ob ac kf ur th er an df ur th er in ti me an di nv ol ve
"m or e a nd m or e p ro po si ti on s ym bo ls . Ob vi ou sl y , t hi s i s u ns us ta in ab le—w e c an no t h av e a n"
a ge nt w ho se t im et op ro ce ss e ac h p er ce pt g ro ws i np ro po rt io n t o t he l en gt h o fi ts l if e ! Wh at
"w er ea ll yn ee di sa co ns ta nt u pd at et im e—t ha ti s ,i nd ep en de nt o ft . Th eo bv io us an sw er is to"
"s av e ,o rc ac he ,t he re su lt so fi nf er en ce , s ot ha tt he in fe re nc ep ro ce ss at th en ex tt im es te pc an"
CACHING
b ui ld on th er es ul ts of ea rl ie rs te ps in st ea d o fh av in gt os ta rt ag ai nf ro ms cr at ch .
"As w e s aw i n Se ct io n 4.4, t he p as t h is to ry o f p er ce pt s a nd a ll t he ir r am if ic at io ns c an"
"b er ep la ce d b yt he b el ie fs ta te—t ha t i s ,s om er ep re se nt at io n o ft he se to fa ll po ss ib le c ur re nt"
s ta te so ft he wo rl d .12 Th ep ro ce ss of up da ti ng t he be li ef st at ea sn ew pe rc ep ts a rr iv ei sc al le d
"s ta te e st im at io n . Wh er ea s i n Se ct io n 4.4 t he b el ie f s ta te w as a n e xp li ci t l is t o f s ta te s , h er e"
w e c an u se a l og ic al s en te nc e i nv ol vi ng t he p ro po si ti on s ym bo ls a ss oc ia te d w it h t he c ur re nt
"t im es te p ,a sw el la st he at em po ra l s ym bo ls . Fo re xa mp le ,t he l og ic al se nt en ce"
Wu mp us Al iv e 1∧L 1 ∧B ∧(P ∨P ) (7.4)
"2,1 2,1 3,1 2,2"
"r ep re se nt s t he s et o f a ll s ta te s a t t im e 1 i n w hi ch t he w um pu s i s a li ve , t he a ge nt i s a t [2,1],"
"t ha ts qu ar ei sb re ez y , a nd th er ei sa pi ti n [3,1]o r[2,2]o rb ot h ."
Ma in ta in in g a n e xa ct b el ie f s ta te a s a l og ic al f or mu la t ur ns o ut n ot t o b e e as y . If t he re
"a re nf lu en ts ym bo ls fo rt im et ,t he nt he re ar e 2 n po ss ib le st at es—t ha ti s ,a ss ig nm en ts of tr ut h"
"v al ue st ot ho se sy mb ol s . No w ,t he se to fb el ie fs ta te si st he po we rs et(s et of al ls ub se ts)o ft he"
"s et o f p hy si ca l s ta te s . Th er e a re 2 n p hy si ca l s ta te s , h en ce 22 n b el ie f s ta te s . Ev en i f w eu se d"
"t he m os t c om pa ct p os si bl e e nc od in g o f l og ic al f or mu la s , w it h e ac h b el ie f s ta te r ep re se nt ed"
"12 We ca nt hi nk of th ep er ce pt hi st or yi ts el fa sa re pr es en ta ti on of th eb el ie fs ta te ,b ut on et ha tm ak es in fe re nc e"
i nc re as in gl ye xp en si ve as th eh is to ry ge ts lo ng er .
270 Ch ap te r 7. Lo gi ca l Ag en ts
f un ct io n HYBRID-WUMPUS-AGENT(p er ce pt)r et ur ns an ac ti on
"i np ut s:p er ce pt ,a li st ,[s te nc h ,b re ez e ,g li tt er ,b um p ,s cr ea m]"
"p er si st en t: KB ,a kn ow le dg eb as e ,i ni ti al ly th ea te mp or al“w um pu sp hy si cs”"
"t ,a co un te r ,i ni ti al ly 0,i nd ic at in gt im e"
"p la n ,a na ct io ns eq ue nc e ,i ni ti al ly em pt y"
"TELL(KB ,MAKE-PERCEPT-SENTENCE(p er ce pt ,t))"
TELLt he KB t he te mp or al“p hy si cs”s en te nc es fo rt im et
"s af e←{[x ,y] : ASK(KB ,OKt x ,y) = t ru e}"
t
"i f ASK(KB ,Gl it te r ) = t ru e t he n"
"p la n←[Gr ab]+PLAN-ROUTE(c ur re nt ,{[1,1]},s af e)+[Cl im b]"
i fp la n i se mp ty th en
"u nv is it ed←{[x ,y] : ASK(KB ,Lt x(c id:3) ,y) = f al se f or al l t(c id:5) ≤ t}"
"p la n←PLAN-ROUTE(c ur re nt ,u nv is it ed∩s af e ,s af e)"
t
"i fp la n i se mp ty an d ASK(KB ,Ha ve Ar ro w ) = t ru e t he n"
"p os si bl e w um pu s←{[x ,y] : ASK(KB ,¬Wx ,y) = f al se}"
"p la n←PLAN-SHOT(c ur re nt ,p os si bl e w um pu s ,s af e)"
i fp la n i se mp ty th en //n oc ho ic eb ut to ta ke ar is k
"n ot u ns af e←{[x ,y] : ASK(KB ,¬OKt x ,y) = f al se}"
"p la n←PLAN-ROUTE(c ur re nt ,u nv is it ed∩n ot u ns af e ,s af e)"
i fp la n i se mp ty th en
"p la n←PLAN-ROUTE(c ur re nt ,{[1,1]},s af e)+[Cl im b]"
a ct io n←POP(p la n)
"TELL(KB ,MAKE-ACTION-SENTENCE(a ct io n ,t))"
t←t +1
r et ur na ct io n
"f un ct io n PLAN-ROUTE(c ur re nt ,g oa ls ,a ll ow ed)r et ur ns an ac ti on se qu en ce"
"i np ut s:c ur re nt ,t he ag en t’s cu rr en tp os it io n"
"g oa ls ,a se to fs qu ar es ;t ry to pl an ar ou te to on eo ft he m"
"a ll ow ed ,a se to fs qu ar es th at ca nf or mp ar to ft he ro ut e"
"p ro bl em←ROUTE-PROBLEM(c ur re nt ,g oa ls ,a ll ow ed)"
r et ur n A*-GRAPH-SEARCH(p ro bl em)
Fi gu re 7.20 Ah yb ri da ge nt pr og ra mf or th ew um pu sw or ld .It us es ap ro po si ti on al kn ow l-
"e dg eb as e t o i nf er th es ta te o ft he w or ld , a nd a c om bi na ti on of p ro bl em-s ol vi ng se ar ch a nd"
d om ai n-s pe ci fi cc od et od ec id ew ha ta ct io ns to ta ke .
"b y a u ni qu e b in ar y n um be r , w e w ou ld n ee d n um be rs w it h l og (22 n )=2 n b it s t o l ab el t he"
2
"c ur re nt be li ef st at e . Th at is ,e xa ct st at ee st im at io nm ay re qu ir el og ic al fo rm ul as wh os es iz ei s"
e xp on en ti al i nt he nu mb er of sy mb ol s .
On ev er y c om mo n a nd n at ur al s ch em e f or a pp ro xi ma te s ta te e st im at io n i s t o r ep re se nt
"b el ie fs ta te sa sc on ju nc ti on so fl it er al s ,t ha ti s ,1-CNFf or mu la s . To do th is ,t he ag en tp ro gr am"
s im pl y t ri es t o p ro ve Xt a nd ¬Xt f or e ac h s ym bo l Xt (a s w el l a s e ac h a te mp or al s ym bo l
"w ho se t ru th v al ue i s n ot y et k no wn), g iv en t he b el ie f s ta te a t t − 1. Th e c on ju nc ti on o f"
Se ct io n 7.7. Ag en ts Ba se do n Pr op os it io na l Lo gi c 271
"Fi gu re 7.21 De pi ct io n o f a 1-CNF b el ie f s ta te (b ol d o ut li ne) a s a s im pl y r ep re se nt ab le ,"
c on se rv at iv e a pp ro xi ma ti on t o t he e xa ct (w ig gl y) b el ie f s ta te (s ha de d r eg io n w it h d as he d
o ut li ne).Ea ch po ss ib le wo rl di ss ho wn as ac ir cl e ;t he sh ad ed on es ar ec on si st en tw it ha ll th e
p er ce pt s .
"p ro va bl el it er al sb ec om es th en ew be li ef st at e ,a nd th ep re vi ou sb el ie fs ta te is di sc ar de d ."
It is i mp or ta nt t o u nd er st an d t ha t t hi s s ch em e m ay lo se s om e i nf or ma ti on a s t im eg oe s
"a lo ng . Fo re xa mp le , i f t he s en te nc e i n Eq ua ti on (7.4) w er e t he t ru e b el ie f s ta te , t he n n ei th er"
P n or P w ou ld b e p ro va bl e i nd iv id ua ll y a nd n ei th er w ou ld a pp ea r i n t he 1-CNF b el ie f
"3,1 2,2"
"s ta te . (Ex er ci se 7.27 e xp lo re s o ne p os si bl e s ol ut io n t o t hi s p ro bl em .) On t he o th er h an d ,"
"b ec au se e ve ry l it er al i n t he 1-CNF b el ie f s ta te i s p ro ve d f ro m t he p re vi ou s b el ie f s ta te , a nd"
"t he i ni ti al b el ie f s ta te i s a t ru e a ss er ti on , w e k no w t ha t e nt ir e 1-CNF b el ie f s ta te m us t b e"
"t ru e . Th us , t he se to fp os si bl e s ta te sr ep re se nt ed b yt he 1-CNFb el ie fs ta te in cl ud es a ll st at es"
"t ha t a re i n f ac t p os si bl e g iv en t he f ul l p er ce pt h is to ry . As i ll us tr at ed i n Fi gu re 7.21, t he 1-"
"CONSERVATIVE CNFb el ie fs ta te ac ts as as im pl eo ut er en ve lo pe ,o rc on se rv at iv ea pp ro xi ma ti on ,a ro un dt he"
APPROXIMATION
e xa ct b el ie f s ta te . We s ee t hi s i de a o f c on se rv at iv e a pp ro xi ma ti on s t o c om pl ic at ed s et s a s a
r ec ur ri ng t he me in ma ny ar ea so f AI .
7.7.4 Ma ki ng p la ns b y p ro po si ti on al i nf er en ce
"Th ea ge nt in Fi gu re 7.20 u se sl og ic al in fe re nc e t od et er mi ne w hi ch sq ua re sa re sa fe ,b ut us es"
∗
"A s ea rc h t o m ak e p la ns . In t hi s s ec ti on , w e s ho w h ow t o m ak e p la ns b y l og ic al i nf er en ce ."
Th eb as ic id ea is ve ry si mp le:
1. Co ns tr uc ta se nt en ce t ha ti nc lu de s
"(a) In it 0,a co ll ec ti on o fa ss er ti on s a bo ut th ei ni ti al st at e ;"
"(b) Tr an si ti on 1,...,Tr an si ti on t , t he s uc ce ss or-s ta te a xi om s f or a ll p os si bl e a ct io ns"
a te ac ht im eu pt os om em ax im um ti me t ;
(c) t he as se rt io n t ha tt he go al is ac hi ev ed a tt im et: Ha ve Go ld t∧Cl im be d Ou tt .
272 Ch ap te r 7. Lo gi ca l Ag en ts
"2. Pr es en tt he wh ol es en te nc e t oa SATs ol ve r . If th es ol ve rf in ds as at is fy in g m od el , t he n"
"t he g oa l i s a ch ie va bl e ; i f t he s en te nc e i s u ns at is fi ab le , t he n t he p la nn in g p ro bl em i s"
i mp os si bl e .
"3. As su mi ng a m od el i s f ou nd , e xt ra ct f ro m t he m od el t ho se v ar ia bl es t ha t r ep re se nt a c-"
t io ns an da re as si gn ed t ru e . To ge th er th ey re pr es en t a pl an to ac hi ev et he go al s .
"A p ro po si ti on al p la nn in g p ro ce du re , SATPLAN , i s s ho wn i n Fi gu re 7.22. It i mp le me nt s t he"
"b as ic i de a j us t g iv en , w it h o ne t wi st . Be ca us e t he a ge nt d oe s n ot k no w h ow m an y s te ps i t"
"w il l t ak e t o r ea ch t he g oa l , t he a lg or it hm t ri es e ac h p os si bl e n um be r o f s te ps t , u p t o s om e"
"m ax im um co nc ei va bl ep la nl en gt h T . In th is wa y ,i ti sg ua ra nt ee dt of in dt he sh or te st pl an"
m ax
"i f o ne e xi st s . Be ca us e o f t he w ay SATPLAN s ea rc he s f or a s ol ut io n , t hi s a pp ro ac h c an no t"
b e u se d i n a p ar ti al ly o bs er va bl e e nv ir on me nt ; SATPLAN w ou ld j us t s et t he u no bs er va bl e
v ar ia bl es t ot he va lu es it ne ed st oc re at ea so lu ti on .
"f un ct io n SATPLAN(i ni t , t ra ns it io n , g oa l ,T m ax)r et ur ns so lu ti on or fa il ur e"
"i np ut s:i ni t , t ra ns it io n , g oa l ,c on st it ut ea de sc ri pt io no ft he pr ob le m"
"T ,a nu pp er li mi tf or pl an le ng th"
m ax
f or t =0 t o T d o
m ax
"c nf ←TRANSLATE-TO-SAT(i ni t , t ra ns it io n , g oa l ,t)"
m od el←SAT-SOLVER(c nf)
i fm od el i sn ot nu ll th en
r et ur n EXTRACT-SOLUTION(m od el)
r et ur nf ai lu re
Fi gu re 7.22 Th e SATPLAN a lg or it hm . Th e p la nn in g p ro bl em i s t ra ns la te d i nt o a CNF
s en te nc ei nw hi ch th eg oa li sa ss er te dt oh ol da ta fi xe dt im es te pt an da xi om sa re in cl ud ed
"f or ea ch ti me st ep up to t . If th es at is fi ab il it ya lg or it hm fi nd sa mo de l ,t he na pl an is ex tr ac te d"
b y l oo ki ng a t t ho se p ro po si ti on s ym bo ls t ha t r ef er t o a ct io ns a nd a re a ss ig ne d t ru e i n t he
"m od el .If no mo de le xi st s ,t he nt he pr oc es si sr ep ea te dw it ht he go al mo ve do ne st ep la te r ."
Th e k ey s te p i n u si ng SATPLAN i s t he c on st ru ct io n o f t he k no wl ed ge b as e . It m ig ht
"s ee m , o n c as ua l i ns pe ct io n , t ha t t he w um pu s w or ld a xi om s i n Se ct io n 7.7.1 s uf fi ce f or st ep s"
"1(a)a nd 1(b)a bo ve . Th er ei s ,h ow ev er ,a si gn if ic an td if fe re nc e b et we en th er eq ui re me nt s f or"
"e nt ai lm en t (a s t es te d b y ASK)a nd t ho se f or sa ti sf ia bi li ty . Co ns id er , f or ex am pl e , t he ag en t’s"
"l oc at io n , i ni ti al ly [1,1], a nd s up po se t he a ge nt’s u na mb it io us g oa l i st o b e i n[2,1] a tt im e 1."
"Th ei ni ti al kn ow le dg eb as ec on ta in s L 0 a nd th eg oa li s L 1 . Us in g ASK ,w ec an pr ov e L 1"
"1,1 2,1 2,1"
"i f Fo rw ar d 0 i s a ss er te d , a nd , r ea ss ur in gl y , w e c an no t p ro ve L 1 i f , s ay , Sh oo t 0 i s a ss er te d"
"2,1"
"i ns te ad . No w , SATPLAN w il l f in d t he p la n [Fo rw ar d 0]; s o f ar , s o g oo d . Un fo rt un at el y ,"
"SATPLANa ls of in ds th ep la n[Sh oo t 0]. Ho wc ou ld th is be ? To fi nd ou t ,w ei ns pe ct th em od el"
"t ha t SATPLAN c on st ru ct s: i t i nc lu de s t he a ss ig nm en t L 0 , t ha t i s , t he a ge nt c an b e i n [2,1]"
"2,1"
"a tt im e 1 b yb ei ng th er ea tt im e 0 a nd sh oo ti ng . On em ig ht as k ,“Di dn’t we sa yt he ag en ti si n"
"[1,1]a tt im e 0?” Ye s ,w ed id ,b ut we di dn’t te ll th ea ge nt th at it ca n’t be in tw op la ce sa to nc e !"
"Fo r e nt ai lm en t , L 0 i s u nk no wn a nd c an no t , t he re fo re , b e u se d i n a p ro of ; f or s at is fi ab il it y ,"
"2,1"
Se ct io n 7.7. Ag en ts Ba se do n Pr op os it io na l Lo gi c 273
"o n t he o th er h an d , L 0 i s u nk no wn a nd c an , t he re fo re , b e s et t o w ha te ve r v al ue h el ps t o"
"2,1"
"m ak et he go al tr ue . Fo rt hi sr ea so n , SATPLAN i sa go od de bu gg in gt oo lf or kn ow le dg eb as es"
"b ec au se i t r ev ea ls p la ce s w he re k no wl ed ge i s m is si ng . In th is p ar ti cu la r c as e , w ec an f ix th e"
"k no wl ed ge ba se by as se rt in gt ha t ,a te ac ht im es te p ,t he ag en ti si ne xa ct ly on el oc at io n ,u si ng"
a co ll ec ti on o fs en te nc es s im il ar to th os eu se dt oa ss er tt he ex is te nc e o fe xa ct ly on ew um pu s .
"Al te rn at iv el y ,w ec an as se rt¬L 0 f or al ll oc at io ns ot he rt ha n[1,1];t he su cc es so r-s ta te ax io m"
"x ,y"
f or l oc at io n t ak es c ar e o f s ub se qu en t t im e s te ps . Th e s am e f ix es a ls o w or k t o m ak e s ur e t he
a ge nt ha so nl yo ne or ie nt at io n .
"SATPLAN h as m or e s ur pr is es i n s to re , h ow ev er . Th e f ir st i s t ha t i t f in ds m od el s w it h"
"i mp os si bl ea ct io ns ,s uc ha ss ho ot in gw it hn oa rr ow . To un de rs ta nd wh y ,w en ee dt ol oo km or e"
c ar ef ul ly at wh at th es uc ce ss or-s ta te a xi om s(s uc ha s Eq ua ti on(7.3))s ay ab ou ta ct io ns wh os e
p re co nd it io ns ar en ot sa ti sf ie d . Th ea xi om sd op re di ct co rr ec tl yt ha tn ot hi ng wi ll ha pp en wh en
"s uc ha na ct io n i se xe cu te d (s ee Ex er ci se 10.14), b ut th ey do no ts ay th at th ea ct io nc an no t b e"
"PRECONDITION e xe cu te d ! To av oi d g en er at in g p la ns w it hi ll eg al a ct io ns , w em us ta dd p re co nd it io n a xi om s"
AXIOMS
"s ta ti ng th at an ac ti on oc cu rr en ce re qu ir es th ep re co nd it io ns to be sa ti sf ie d .13 Fo re xa mp le ,w e"
"n ee dt os ay ,f or ea ch ti me t ,t ha t"
Sh oo tt ⇒ Ha ve Ar ro wt .
"Th is e ns ur es t ha t i f a p la n s el ec ts t he Sh oo t a ct io n a t a ny t im e , i t m us t b e t he c as e t ha t t he"
a ge nt ha sa na rr ow at th at ti me .
SATPLAN’s se co nd su rp ri se is th ec re at io no fp la ns wi th mu lt ip le si mu lt an eo us ac ti on s .
"Fo r e xa mp le , i t m ay c om e u p w it h a m od el i n w hi ch b ot h Fo rw ar d 0 a nd Sh oo t 0 a re t ru e ,"
"ACTIONEXCLUSION w hi ch is no ta ll ow ed . To el im in at e t hi sp ro bl em , w ei nt ro du ce a ct io n e xc lu si on a xi om s: f or"
AXIOM
e ve ry pa ir of ac ti on s At a nd At w ea dd th ea xi om
i j
¬At∨¬At .
i j
It mi gh t b ep oi nt ed o ut t ha t w al ki ng f or wa rd a nd s ho ot in g a t t he s am e t im ei s n ot s o h ar d t o
"d o , w he re as , s ay , s ho ot in g a nd g ra bb in g a tt he sa me ti me is r at he ri mp ra ct ic al . By im po si ng"
"a ct io n e xc lu si on a xi om s o nl y o n p ai rs o f a ct io ns t ha t r ea ll y d o i nt er fe re w it h e ac h o th er , w e"
c an al lo wf or pl an st ha ti nc lu de mu lt ip le si mu lt an eo us ac ti on s—a nd be ca us e SATPLANf in ds
"t he sh or te st le ga lp la n ,w ec an be su re th at it wi ll ta ke ad va nt ag e o ft hi sc ap ab il it y ."
"To s um ma ri ze , SATPLAN f in ds m od el s f or a s en te nc e c on ta in in g t he i ni ti al s ta te , t he"
"g oa l , t he s uc ce ss or-s ta te a xi om s , t he p re co nd it io n a xi om s , a nd t he a ct io n e xc lu si on a xi om s ."
"It c an b e s ho wn t ha t t hi s c ol le ct io n o f a xi om s i s s uf fi ci en t , i n t he s en se t ha t t he re a re n o"
l on ge r a ny s pu ri ou s “s ol ut io ns .” An y m od el s at is fy in g t he p ro po si ti on al s en te nc e w il l b e a
v al id p la n f or t he o ri gi na l p ro bl em . Mo de rn SAT-s ol vi ng t ec hn ol og y m ak es t he a pp ro ac h
"q ui te p ra ct ic al . Fo re xa mp le , a DPLL-s ty le so lv er ha sn o d if fi cu lt y i n g en er at in g t he 11-s te p"
s ol ut io n f or th ew um pu sw or ld in st an ce s ho wn in Fi gu re 7.2.
Th is se ct io nh as de sc ri be da de cl ar at iv ea pp ro ac ht oa ge nt co ns tr uc ti on: t he ag en tw or ks
b ya co mb in at io n o fa ss er ti ng s en te nc es i nt he kn ow le dg e b as ea nd pe rf or mi ng l og ic al i nf er-
e nc e . Th is a pp ro ac h h as s om e w ea kn es se s h id de n i n p hr as es s uc h a s “f or e ac h t im e t” a nd
13 No ti ce th at th ea dd it io no fp re co nd it io na xi om sm ea ns th at we ne ed no ti nc lu de pr ec on di ti on sf or ac ti on si n
t he su cc es so r-s ta te ax io ms .
274 Ch ap te r 7. Lo gi ca l Ag en ts
"“f or e ac h s qu ar e [x ,y].” Fo r a ny p ra ct ic al a ge nt , t he se p hr as es h av e t o b e i mp le me nt ed b y"
c od et ha tg en er at es i ns ta nc es o ft he ge ne ra l s en te nc e s ch em aa ut om at ic al ly f or in se rt io n i nt o
t he kn ow le dg e b as e . Fo ra wu mp us wo rl do fr ea so na bl e s iz e—o ne c om pa ra bl e t oa sm al li sh
"c om pu te r g am e—w e m ig ht n ee d a 100×100 b oa rd a nd 1000 t im e s te ps , l ea di ng t o k no wl-"
e dg e b as es w it ht en s o rh un dr ed s o fm il li on s o fs en te nc es . No to nl y d oe s t hi sb ec om e r at he r
"i mp ra ct ic al , b ut i t a ls o i ll us tr at es a d ee pe r p ro bl em: w e k no w s om et hi ng a bo ut t he w um-"
"p us w or ld—n am el y , t ha t t he “p hy si cs” w or ks t he s am e w ay a cr os s a ll s qu ar es a nd a ll t im e"
s te ps—t ha t w e c an no t e xp re ss d ir ec tl y i n t he l an gu ag e o f p ro po si ti on al l og ic . To s ol ve t hi s
"p ro bl em , w e n ee d a m or e e xp re ss iv e l an gu ag e , o ne i n w hi ch p hr as es l ik e “f or e ac h t im e t”"
"a nd “f or e ac h s qu ar e [x ,y]” c an b e w ri tt en i n a n at ur al w ay . Fi rs t-o rd er l og ic , d es cr ib ed i n"
"Ch ap te r 8, i s s uc h a l an gu ag e ; i n f ir st-o rd er l og ic a w um pu s w or ld o f a ny s iz e a nd d ur at io n"
c an be de sc ri be d i na bo ut te ns en te nc es r at he rt ha nt en mi ll io no rt en tr il li on .
7.8 SUMMARY
We h av e i nt ro du ce d k no wl ed ge-b as ed a ge nt s a nd h av e s ho wn h ow t o d ef in e a l og ic w it h
w hi ch su ch ag en ts ca nr ea so na bo ut th ew or ld . Th em ai np oi nt s a re as fo ll ow s:
• In te ll ig en t a ge nt sn ee dk no wl ed ge a bo ut th ew or ld in or de rt or ea ch go od de ci si on s .
• Kn ow le dg e i s c on ta in ed i n a ge nt s i n t he f or m o f s en te nc es i n a k no wl ed ge r ep re se n-
t at io nl an gu ag et ha ta re st or ed in ak no wl ed ge ba se .
• A k no wl ed ge-b as ed a ge nt i s c om po se d o f a k no wl ed ge b as e a nd a n i nf er en ce m ec ha-
"n is m . It op er at es b ys to ri ng s en te nc es a bo ut th ew or ld in it s k no wl ed ge b as e , u si ng t he"
"i nf er en ce m ec ha ni sm t oi nf er ne w s en te nc es , a nd u si ng t he se s en te nc es t od ec id e w ha t"
a ct io nt ot ak e .
"• A r ep re se nt at io n l an gu ag e i s d ef in ed b y i ts s yn ta x , w hi ch s pe ci fi es t he s tr uc tu re o f"
"s en te nc es ,a nd it ss em an ti cs ,w hi ch de fi ne st he tr ut ho fe ac hs en te nc ei ne ac hp os si bl e"
w or ld or mo de l .
• Th e r el at io ns hi p o f e nt ai lm en t b et we en s en te nc es i s c ru ci al t o o ur u nd er st an di ng o f
r ea so ni ng . A s en te nc e α e nt ai ls a no th er s en te nc e β i f β i s t ru e i n a ll w or ld s w he re
α i s t ru e . Eq ui va le nt d ef in it io ns i nc lu de t he v al id it y o f t he s en te nc e α ⇒ β a nd t he
u ns at is fi ab il it yo ft he se nt en ce α∧¬β.
• In fe re nc ei st he pr oc es so fd er iv in gn ew se nt en ce sf ro mo ld on es . So un di nf er en ce al go-
r it hm sd er iv eo nl ys en te nc es th at ar ee nt ai le d ; c om pl et ea lg or it hm sd er iv ea ll se nt en ce s
t ha ta re en ta il ed .
• Pr op os it io na ll og ic is as im pl el an gu ag ec on si st in go fp ro po si ti on sy mb ol sa nd lo gi ca l
"c on ne ct iv es . It ca nh an dl ep ro po si ti on st ha ta re kn ow nt ru e ,k no wn fa ls e ,o rc om pl et el y"
u nk no wn .
"• Th e s et o f p os si bl e m od el s , g iv en a f ix ed p ro po si ti on al v oc ab ul ar y , i s f in it e , s o e n-"
t ai lm en t c an b e c he ck ed b y e nu me ra ti ng m od el s . Ef fi ci en t m od el-c he ck in g i nf er en ce
a lg or it hm s f or p ro po si ti on al l og ic i nc lu de b ac kt ra ck in g a nd l oc al s ea rc h m et ho ds a nd
c an of te ns ol ve la rg ep ro bl em sq ui ck ly .
8
FIRST-ORDER LOGIC
"In wh ic hw en ot ic et ha tt he wo rl di sb le ss ed wi th ma ny ob je ct s ,s om eo fw hi ch ar e"
"r el at ed to ot he ro bj ec ts , a nd in wh ic hw ee nd ea vo r t or ea so na bo ut th em ."
"In Ch ap te r 7,w es ho we dh ow ak no wl ed ge-b as ed a ge nt co ul dr ep re se nt th ew or ld in wh ic hi t"
o pe ra te s a nd d ed uc e w ha t a ct io ns t ot ak e . We us ed p ro po si ti on al l og ic a s o ur re pr es en ta ti on
l an gu ag e b ec au se i t s uf fi ce d t o i ll us tr at e t he b as ic c on ce pt s o f l og ic a nd k no wl ed ge-b as ed
"a ge nt s . Un fo rt un at el y , p ro po si ti on al l og ic i s t oo p un y a l an gu ag e t o r ep re se nt k no wl ed ge"
"o f c om pl ex e nv ir on me nt s i n a c on ci se w ay . In t hi s c ha pt er , w e e xa mi ne f ir st-o rd er l og ic ,1"
FIRST-ORDERLOGIC
w hi ch i s s uf fi ci en tl y e xp re ss iv e t o r ep re se nt a g oo d d ea l o f o ur c om mo ns en se k no wl ed ge .
It a ls o e it he r s ub su me s o r f or ms t he f ou nd at io n o f m an y o th er r ep re se nt at io n l an gu ag es a nd
h as be en st ud ie d i nt en si ve ly f or ma ny de ca de s . We be gi ni n Se ct io n 8.1 w it ha di sc us si on o f
r ep re se nt at io nl an gu ag es in ge ne ra l ;Se ct io n 8.2 c ov er st he sy nt ax an ds em an ti cs of fi rs t-o rd er
l og ic ;Se ct io ns 8.3 a nd 8.4 i ll us tr at e t he us eo ff ir st-o rd er l og ic fo rs im pl er ep re se nt at io ns .
8.1 REPRESENTATION REVISITED
"In t hi s s ec ti on , w e d is cu ss t he n at ur e o f r ep re se nt at io n l an gu ag es . Ou rd is cu ss io n m ot iv at es"
"t he de ve lo pm en to ff ir st-o rd er lo gi c ,a mu ch mo re ex pr es si ve l an gu ag et ha nt he pr op os it io na l"
l og ic in tr od uc ed i n Ch ap te r 7. We lo ok at pr op os it io na l l og ic an da to th er ki nd so fl an gu ag es
"t o u nd er st an d w ha t w or ks a nd w ha t f ai ls . Ou r d is cu ss io n w il l b e c ur so ry , c om pr es si ng c en-"
"t ur ie so ft ho ug ht , t ri al ,a nd er ro ri nt oa fe wp ar ag ra ph s ."
Pr og ra mm in g l an gu ag es (s uc h a s C++ o r Ja va o r Li sp) a re b y f ar t he l ar ge st c la ss o f
"f or ma l l an gu ag es i n c om mo n u se . Pr og ra ms t he ms el ve s r ep re se nt , i n a d ir ec t s en se , o nl y"
"c om pu ta ti on al p ro ce ss es . Da ta s tr uc tu re s w it hi n p ro gr am s c an r ep re se nt f ac ts ; f or e xa mp le ,"
"a pr og ra m c ou ld u se a 4×4 a rr ay t or ep re se nt t he c on te nt s o ft he w um pu sw or ld . Th us , t he"
"p ro gr am mi ng la ng ua ge st at em en t Wo rl d[2,2]←Pi t i sa fa ir ly na tu ra lw ay to as se rt th at th er e"
"i s a pi t i n s qu ar e [2,2]. (Su ch r ep re se nt at io ns m ig ht b e c on si de re d a d h oc ; d at ab as e s ys te ms"
"w er e d ev el op ed p re ci se ly t o p ro vi de a m or e g en er al , d om ai n-i nd ep en de nt w ay t o s to re a nd"
"1 Al so ca ll ed fi rs t-o rd er pr ed ic at ec al cu lu s ,s om et im es ab br ev ia te da s FOLo r FOPC ."
285
286 Ch ap te r 8. Fi rs t-Or de r Lo gi c
r et ri ev e f ac ts .) Wh at p ro gr am mi ng l an gu ag es l ac k i s a ny g en er al m ec ha ni sm f or d er iv in g
f ac ts fr om ot he rf ac ts ;e ac hu pd at et oa da ta st ru ct ur ei sd on eb ya do ma in-s pe ci fi cp ro ce du re
w ho se de ta il s a re de ri ve d b yt he pr og ra mm er f ro mh is or he ro wn kn ow le dg e o ft he do ma in .
"Th is pr oc ed ur al ap pr oa ch ca nb ec on tr as te dw it ht he de cl ar at iv en at ur eo fp ro po si ti on al lo gi c ,"
"i nw hi ch kn ow le dg ea nd in fe re nc ea re se pa ra te ,a nd in fe re nc ei se nt ir el yd om ai ni nd ep en de nt ."
"A s ec on d d ra wb ac k o f d at a s tr uc tu re s i n p ro gr am s (a nd o f d at ab as es , f or t ha t m at te r)"
"i s t he l ac k o f a ny e as y w ay t o s ay , f or e xa mp le , “Th er e i s a p it i n [2,2] o r [3,1]” o r “If t he"
"w um pu si si n[1,1]t he nh ei sn ot in[2,2].” Pr og ra ms ca ns to re as in gl ev al ue fo re ac hv ar ia bl e ,"
"a nd so me sy st em sa ll ow th ev al ue to be“u nk no wn ,”b ut th ey la ck th ee xp re ss iv en es sr eq ui re d"
t oh an dl e p ar ti al in fo rm at io n .
Pr op os it io na l l og ic i s a d ec la ra ti ve l an gu ag e b ec au se i ts s em an ti cs i s b as ed o n a t ru th
r el at io n b et we en s en te nc es a nd p os si bl e w or ld s . It a ls o h as s uf fi ci en t e xp re ss iv e p ow er t o
"d ea l w it hp ar ti al i nf or ma ti on , u si ng d is ju nc ti on a nd n eg at io n . Pr op os it io na l l og ic h as at hi rd"
"p ro pe rt y t ha t i s d es ir ab le i n r ep re se nt at io n l an gu ag es , n am el y , c om po si ti on al it y . In a c om-"
COMPOSITIONALITY
"p os it io na l l an gu ag e , t he m ea ni ng o f a se nt en ce i s a f un ct io n o f t he m ea ni ng o f i ts p ar ts . Fo r"
"e xa mp le , t he m ea ni ng o f “S ∧ S ” i s r el at ed t o t he m ea ni ng s o f “S ” a nd “S .” It"
"1,4 1,2 1,4 1,2"
"w ou ld be ve ry st ra ng e i f“S ”m ea nt th at th er e i sa st en ch i ns qu ar e [1,4]a nd“S ”m ea nt"
"1,4 1,2"
"t ha tt he re is as te nc hi ns qu ar e[1,2],b ut“S ∧S ”m ea nt th at Fr an ce an d Po la nd dr ew 1–1"
"1,4 1,2"
"i n l as t w ee k’s i ce h oc ke y q ua li fy in g m at ch . Cl ea rl y , n on co mp os it io na li ty m ak es l if e m uc h"
m or ed if fi cu lt fo rt he re as on in g s ys te m .
"As w e s aw i n Ch ap te r 7, h ow ev er , p ro po si ti on al l og ic l ac ks t he e xp re ss iv e p ow er t o"
"c on ci se ly d es cr ib e a ne nv ir on me nt w it hm an yo bj ec ts . Fo re xa mp le , w ew er ef or ce d t ow ri te"
"a se pa ra te r ul ea bo ut br ee ze s a nd pi ts fo re ac hs qu ar e , s uc ha s"
B ⇔ (P ∨P ).
"1,1 1,2 2,1"
"In En gl is h ,o nt he ot he rh an d ,i ts ee ms ea sy en ou gh to sa y ,o nc ea nd fo ra ll ,“Sq ua re sa dj ac en t"
t op it sa re br ee zy .” Th es yn ta xa nd se ma nt ic so f En gl is hs om eh ow ma ke it po ss ib le to de sc ri be
t he en vi ro nm en t c on ci se ly .
8.1.1 Th e l an gu ag eo ft ho ug ht
Na tu ra l l an gu ag es (s uc h a s En gl is h o r Sp an is h) a re v er y e xp re ss iv e i nd ee d . We m an ag ed t o
"w ri te al mo st th is wh ol eb oo ki nn at ur al l an gu ag e , w it ho nl yo cc as io na l l ap se si nt oo th er la n-"
"g ua ge s (i nc lu di ng l og ic , m at he ma ti cs , a nd t he l an gu ag e o f d ia gr am s). Th er e i s a l on g t ra di-"
t io ni nl in gu is ti cs an dt he ph il os op hy of la ng ua ge th at vi ew sn at ur al la ng ua ge as ad ec la ra ti ve
"k no wl ed ge r ep re se nt at io n l an gu ag e . If w e c ou ld u nc ov er t he r ul es f or n at ur al l an gu ag e , w e"
c ou ld u se i t i n r ep re se nt at io n a nd r ea so ni ng s ys te ms a nd g ai n t he b en ef it o f t he b il li on s o f
p ag es th at ha ve be en wr it te ni nn at ur al la ng ua ge .
Th em od er nv ie wo fn at ur al la ng ua ge is th at it se rv es aa sa me di um fo rc om mu ni ca ti on
"r at he rt ha np ur er ep re se nt at io n . Wh en as pe ak er po in ts a nd sa ys , “Lo ok !” t he li st en er co me s"
"t o k no w t ha t , s ay , Su pe rm an h as f in al ly a pp ea re d o ve r t he r oo ft op s . Ye t w e w ou ld n ot w an t"
"t o s ay t ha t t he s en te nc e “Lo ok !” r ep re se nt s t ha t f ac t . Ra th er , t he m ea ni ng o f t he s en te nc e"
d ep en ds b ot h o n t he s en te nc e i ts el f a nd o n t he c on te xt i n w hi ch t he s en te nc e w as s po ke n .
"Cl ea rl y , o ne c ou ld n ot s to re a s en te nc e s uc h a s “Lo ok !” i n a k no wl ed ge b as e a nd e xp ec t t o"
Se ct io n 8.1. Re pr es en ta ti on Re vi si te d 287
r ec ov er i ts m ea ni ng w it ho ut a ls o s to ri ng a r ep re se nt at io n o f t he c on te xt—w hi ch r ai se s t he
q ue st io n o f h ow t he c on te xt i ts el f c an b e r ep re se nt ed . Na tu ra l l an gu ag es a ls o s uf fe r f ro m
"a mb ig ui ty ,a pr ob le mf or ar ep re se nt at io n l an gu ag e . As Pi nk er(1995)p ut si t: “Wh en pe op le"
AMBIGUITY
"t hi nk ab ou ts pr in g ,s ur el yt he ya re no tc on fu se da st ow he th er th ey ar et hi nk in ga bo ut as ea so n"
"o r s om et hi ng t ha t g oe s b oi ng—a nd i f o ne w or d c an c or re sp on d t o t wo t ho ug ht s , t ho ug ht s"
c an’t be wo rd s .”
Th e f am ou s Sa pi r–Wh or f h yp ot he si s c la im s t ha t o ur u nd er st an di ng o f t he w or ld i s
"s tr on gl y i nf lu en ce d b yt he la ng ua ge w es pe ak . Wh or f(1956)w ro te“We cu tn at ur e u p ,o rg a-"
"n iz ei ti nt oc on ce pt s , a nd as cr ib e s ig ni fi ca nc es a sw ed o , l ar ge ly b ec au se w ea re pa rt ie s t oa n"
a gr ee me nt t o o rg an iz e i t t hi s w ay—a n a gr ee me nt t ha t h ol ds t hr ou gh ou t o ur s pe ec h c om mu-
n it y a nd i s c od if ie d i n t he p at te rn s o f o ur l an gu ag e .” It i s c er ta in ly t ru e t ha t d if fe re nt s pe ec h
c om mu ni ti es d iv id e u pt he wo rl dd if fe re nt ly . Th e Fr en ch ha ve tw ow or ds“c ha is e” a nd“f au-
"t eu il ,” f or a c on ce pt t ha t En gl is h s pe ak er s c ov er w it h o ne: “c ha ir .” Bu t En gl is h s pe ak er s"
c an ea si ly re co gn iz et he ca te go ry fa ut eu il an dg iv ei ta na me—r ou gh ly“o pe n-a rm ch ai r”—s o
"d oe s l an gu ag e r ea ll y m ak e a d if fe re nc e ? Wh or f r el ie d m ai nl y o n i nt ui ti on a nd s pe cu la ti on ,"
"b ut i n t he i nt er ve ni ng y ea rs w e a ct ua ll y h av e r ea l d at a f ro m a nt hr op ol og ic al , p sy ch ol og ic al"
a nd ne ur ol og ic al s tu di es .
"Fo re xa mp le ,c an yo ur em em be rw hi ch of th ef ol lo wi ng tw op hr as es fo rm ed th eo pe ni ng"
o f Se ct io n 8.1?
"“In th is se ct io n , w ed is cu ss th en at ur eo fr ep re se nt at io n l an gu ag es ...”"
“Th is se ct io nc ov er st he to pi co fk no wl ed ge r ep re se nt at io n l an gu ag es ...”
Wa nn er (1974) d id a s im il ar e xp er im en t a nd f ou nd t ha t s ub je ct s m ad e t he r ig ht c ho ic e a t
c ha nc e l ev el—a bo ut 50% o f t he t im e—b ut r em em be re d t he c on te nt o f w ha t t he y r ea d w it h
b et te rt ha n 90% a cc ur ac y . Th is su gg es ts t ha tp eo pl e p ro ce ss t he wo rd st of or m s om ek in do f
n on ve rb al r ep re se nt at io n .
Mo re i nt er es ti ng i s t he c as e i n w hi ch a c on ce pt i s c om pl et el y a bs en t i n a l an gu ag e .
Sp ea ke rs o f t he Au st ra li an a bo ri gi na l l an gu ag e Gu ug u Yi mi th ir r h av e n o w or ds f or r el at iv e
"d ir ec ti on s , s uc h a s f ro nt , b ac k , r ig ht , o r l ef t . In st ea d t he y u se a bs ol ut e d ir ec ti on s , s ay in g ,"
"f or e xa mp le , t he e qu iv al en t o f “I h av e a p ai n i n m y n or th a rm .” Th is d if fe re nc e i n l an gu ag e"
m ak es a d if fe re nc e i n b eh av io r: Gu ug u Yi mi th ir r s pe ak er s a re b et te r a t n av ig at in g i n o pe n
"t er ra in , w hi le En gl is hs pe ak er s a re be tt er at pl ac in gt he fo rk to th er ig ht of th ep la te ."
La ng ua ge a ls o s ee ms t o i nf lu en ce t ho ug ht t hr ou gh s ee mi ng ly a rb it ra ry g ra mm at ic al
"f ea tu re s s uc h a s t he g en de r o f n ou ns . Fo r e xa mp le , “b ri dg e” i s m as cu li ne i n Sp an is h a nd"
f em in in e i n Ge rm an . Bo ro di ts ky (2003) a sk ed s ub je ct s t o c ho os e En gl is h a dj ec ti ve s t o d e-
"s cr ib e a p ho to gr ap h o f a p ar ti cu la r b ri dg e . Sp an is h s pe ak er s c ho se b ig , d an ge ro us , s tr on g ,"
"a nd to we ri ng ,w he re as Ge rm an sp ea ke rs ch os eb ea ut if ul ,e le ga nt ,f ra gi le ,a nd sl en de r . Wo rd s"
c an s er ve a s a nc ho r p oi nt s t ha t a ff ec t h ow w ep er ce iv e t he w or ld . Lo ft us a nd Pa lm er(1974)
s ho we d e xp er im en ta l s ub je ct s a m ov ie o f a n a ut o a cc id en t . Su bj ec ts w ho w er e a sk ed “Ho w
"f as t w er e t he c ar s g oi ng w he n t he y c on ta ct ed e ac h o th er ?” r ep or te d a n a ve ra ge o f 32 m ph ,"
w hi le su bj ec ts w ho we re as ke dt he qu es ti on w it ht he wo rd“s ma sh ed” i ns te ad of“c on ta ct ed”
r ep or te d 41 m ph fo rt he sa me ca rs in th es am em ov ie .
288 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"In af ir st-o rd er lo gi cr ea so ni ng sy st em th at us es CNF ,w ec an se et ha tt he li ng ui st ic fo rm"
“¬(A∨B)” a nd “¬A∧¬B” a re t he s am e b ec au se w e c an l oo k i ns id e t he s ys te m a nd s ee
t ha t t he t wo s en te nc es a re s to re d a s t he s am e c an on ic al CNFf or m . Ca n w ed o t ha t w it h t he
"h um an b ra in ? Un ti l r ec en tl y t he a ns we r w as “n o ,” b ut n ow i t i s “m ay be .” Mi tc he ll e t a l ."
"(2008) p ut s ub je ct s i n a n f MRI (f un ct io na l m ag ne ti c r es on an ce i ma gi ng) m ac hi ne , s ho we d"
"t he mw or ds su ch as“c el er y ,”a nd im ag ed th ei rb ra in s . Th er es ea rc he rs we re th en ab le to tr ai n"
"a co mp ut er pr og ra mt op re di ct ,f ro ma br ai ni ma ge ,w ha tw or dt he su bj ec th ad be en pr es en te d"
"w it h . Gi ve n t wo c ho ic es (e .g ., “c el er y” o r “a ir pl an e”), t he s ys te m p re di ct s c or re ct ly 77% o f"
t he t im e . Th e s ys te m c an e ve n p re di ct a t a bo ve-c ha nc e l ev el s f or w or ds i t h as n ev er s ee n
a n f MRI i ma ge o f b ef or e (b y c on si de ri ng t he i ma ge s o f r el at ed w or ds) a nd f or p eo pl e i t h as
n ev er s ee n b ef or e (p ro vi ng t ha t f MRI r ev ea ls s om e l ev el o f c om mo n r ep re se nt at io n a cr os s
"p eo pl e). Th is t yp e o f w or k i s s ti ll i n i ts i nf an cy , b ut f MRI (a nd o th er i ma gi ng t ec hn ol og y"
"s uc h a s i nt ra cr an ia l e le ct ro ph ys io lo gy (Sa hi n e t a l ., 2009)) p ro mi se s t o g iv e u s m uc h m or e"
c on cr et e i de as of wh at hu ma nk no wl ed ge r ep re se nt at io ns a re l ik e .
"Fr om t he v ie wp oi nt o f f or ma l l og ic , r ep re se nt in g t he s am e k no wl ed ge i n t wo d if fe re nt"
w ay s m ak es a bs ol ut el y n o d if fe re nc e ; t he s am e f ac ts w il l b e d er iv ab le f ro m e it he r r ep re se n-
"t at io n . In pr ac ti ce , h ow ev er , o ne re pr es en ta ti on m ig ht re qu ir e f ew er st ep st od er iv ea co nc lu-"
"s io n , m ea ni ng t ha t a r ea so ne r w it h l im it ed r es ou rc es c ou ld g et t o t he c on cl us io n u si ng o ne"
"r ep re se nt at io n b ut n ot t he o th er . Fo r n on de du ct iv e t as ks s uc h a s l ea rn in g f ro m e xp er ie nc e ,"
o ut co me s a re n ec es sa ri ly d ep en de nt o n t he f or m o f t he r ep re se nt at io ns u se d . We s ho w i n
"Ch ap te r 18 t ha t w he n a l ea rn in g p ro gr am c on si de rs t wo p os si bl e t he or ie s o f t he w or ld , b ot h"
"o fw hi ch ar ec on si st en tw it ha ll th ed at a ,t he mo st co mm on wa yo fb re ak in gt he ti ei st oc ho os e"
"t he mo st su cc in ct th eo ry—a nd th at de pe nd so nt he la ng ua ge us ed to re pr es en tt he or ie s . Th us ,"
t he in fl ue nc eo fl an gu ag e o nt ho ug ht is un av oi da bl e f or an ya ge nt th at do es le ar ni ng .
8.1.2 Co mb in in g t he b es to ff or ma la nd n at ur al l an gu ag es
"We ca n a do pt t he f ou nd at io n o f p ro po si ti on al l og ic—a d ec la ra ti ve , c om po si ti on al s em an ti cs"
t ha t i s c on te xt-i nd ep en de nt a nd u na mb ig uo us—a nd b ui ld a m or e e xp re ss iv e l og ic o n t ha t
"f ou nd at io n , b or ro wi ng r ep re se nt at io na l i de as f ro mn at ur al l an gu ag e w hi le av oi di ng i ts dr aw-"
"b ac ks . Wh en we lo ok at th es yn ta xo fn at ur al la ng ua ge ,t he mo st ob vi ou se le me nt sa re no un s"
"a nd n ou n p hr as es t ha t r ef er to o bj ec ts (s qu ar es , p it s , w um pu se s) a nd v er bs a nd v er bp hr as es"
OBJECT
"t ha t r ef er t o r el at io ns a mo ng o bj ec ts (i s b re ez y , i s a dj ac en t t o , s ho ot s). So me o f t he se r el a-"
RELATION
t io ns a re f un ct io ns—r el at io ns i n w hi ch t he re i s o nl y o ne “v al ue” f or a g iv en “i np ut .” It i s
FUNCTION
"e as yt os ta rt li st in ge xa mp le so fo bj ec ts , r el at io ns , a nd fu nc ti on s:"
"• Ob je ct s: p eo pl e ,h ou se s ,n um be rs ,t he or ie s ,Ro na ld Mc Do na ld ,c ol or s ,b as eb al lg am es ,"
"w ar s ,c en tu ri es ..."
"• Re la ti on s: t he se ca nb eu na ry re la ti on s o r p ro pe rt ie ss uc ha sr ed ,r ou nd , b og us , p ri me ,"
PROPERTY
"m ul ti st or ie d ...,o rm or eg en er al n-a ry re la ti on s s uc ha sb ro th er of ,b ig ge rt ha n ,i ns id e ,"
"p ar to f ,h as co lo r ,o cc ur re d a ft er ,o wn s ,c om es be tw ee n , ..."
"• Fu nc ti on s: f at he ro f ,b es tf ri en d ,t hi rd in ni ng of ,o ne mo re t ha n ,b eg in ni ng o f ..."
"In de ed , a lm os t a ny a ss er ti on c an b e t ho ug ht o f a s r ef er ri ng t oo bj ec ts a nd p ro pe rt ie s o rr el a-"
t io ns . So me ex am pl es fo ll ow:
Se ct io n 8.1. Re pr es en ta ti on Re vi si te d 289
• “On ep lu st wo eq ua ls th re e .”
"Ob je ct s: o ne , t wo , t hr ee , o ne p lu s t wo ; Re la ti on: e qu al s ; Fu nc ti on: p lu s . (“On e p lu s"
t wo” i s a n am e f or t he o bj ec t t ha t i s o bt ai ne d b y a pp ly in g t he f un ct io n “p lu s” t o t he
o bj ec ts“o ne”a nd“t wo .” “Th re e”i sa no th er na me fo rt hi so bj ec t .)
• “Sq ua re sn ei gh bo ri ng t he wu mp us ar es me ll y .”
"Ob je ct s: w um pu s ,s qu ar es ; Pr op er ty: s me ll y ;Re la ti on: n ei gh bo ri ng ."
• “Ev il Ki ng Jo hn ru le d En gl an di n 1200.”
"Ob je ct s: Jo hn ,En gl an d ,1200;Re la ti on: r ul ed ;Pr op er ti es: e vi l ,k in g ."
"Th el an gu ag eo ff ir st-o rd er lo gi c ,w ho se sy nt ax an ds em an ti cs we de fi ne in th en ex ts ec ti on ,"
"i sb ui lt ar ou nd ob je ct sa nd re la ti on s . It ha sb ee ns oi mp or ta nt to ma th em at ic s ,p hi lo so ph y ,a nd"
"a rt if ic ia l i nt el li ge nc e p re ci se ly b ec au se t ho se f ie ld s—a nd i nd ee d , m uc h o f e ve ry da y h um an"
e xi st en ce—c an b eu se fu ll y t ho ug ht o fa sd ea li ng w it ho bj ec ts a nd th er el at io ns a mo ng th em .
Fi rs t-o rd er l og ic c an a ls o e xp re ss f ac ts a bo ut s om e o ra ll o f t he ob je ct s i nt he u ni ve rs e . Th is
"e na bl es o ne t o r ep re se nt g en er al l aw s o r r ul es , s uc h a s t he s ta te me nt “Sq ua re s n ei gh bo ri ng"
t he wu mp us ar es me ll y .”
Th ep ri ma ry di ff er en ce b et we en pr op os it io na l a nd fi rs t-o rd er lo gi cl ie si nt he o nt ol og i-
"ONTOLOGICAL c al co mm it me nt ma de by ea ch la ng ua ge—t ha ti s ,w ha ti ta ss um es ab ou tt he na tu re of re al it y ."
COMMITMENT
"Ma th em at ic al ly , t hi s c om mi tm en ti se xp re ss ed t hr ou gh t he na tu re o ft he fo rm al m od el sw it h"
"r es pe ct t o w hi ch t he t ru th o f s en te nc es i s d ef in ed . Fo re xa mp le , p ro po si ti on al l og ic a ss um es"
t ha t t he re a re f ac ts t ha t e it he r h ol d o r d o n ot h ol d i n t he w or ld . Ea ch f ac t c an b e i n o ne
"o f t wo s ta te s: t ru e o r f al se , a nd e ac h m od el a ss ig ns t ru e o r f al se t o e ac h p ro po si ti on s ym-"
"b ol (s ee Se ct io n 7.4.2).2 Fi rs t-o rd er l og ic a ss um es m or e ; n am el y , t ha t t he w or ld c on si st s o f"
o bj ec ts w it h c er ta in r el at io ns a mo ng t he m t ha t d o o r d o n ot h ol d . Th e f or ma l m od el s a re
c or re sp on di ng ly m or ec om pl ic at ed th an th os ef or pr op os it io na l l og ic . Sp ec ia l-p ur po se l og ic s
"m ak e s ti ll f ur th er o nt ol og ic al c om mi tm en ts ; f or ex am pl e , t em po ra l l og ic a ss um es t ha t f ac ts"
TEMPORALLOGIC
h ol d a t p ar ti cu la r t im es a nd t ha t t ho se t im es (w hi ch m ay b e p oi nt s o r i nt er va ls) a re o rd er ed .
"Th us , s pe ci al-p ur po se l og ic s g iv ec er ta in k in ds o fo bj ec ts (a nd th ea xi om s a bo ut t he m)“f ir st"
"c la ss” s ta tu s w it hi n t he l og ic , r at he r t ha n s im pl y d ef in in g t he m w it hi n t he k no wl ed ge b as e ."
HIGHER-ORDER Hi gh er-o rd er l og ic v ie ws t he r el at io ns a nd f un ct io ns r ef er re d t o b y f ir st-o rd er l og ic a s o b-
LOGIC
"j ec ts in th em se lv es . Th is al lo ws on et om ak ea ss er ti on sa bo ut al lr el at io ns—f or ex am pl e ,o ne"
c ou ld wi sh to de fi ne wh at it me an sf or ar el at io nt ob et ra ns it iv e . Un li ke mo st sp ec ia l-p ur po se
"l og ic s , h ig he r-o rd er l og ic i s s tr ic tl y m or e e xp re ss iv e t ha n f ir st-o rd er l og ic , i n t he s en se t ha t"
s om es en te nc es o fh ig he r-o rd er l og ic ca nn ot b ee xp re ss ed b y a ny fi ni te nu mb er of fi rs t-o rd er
l og ic se nt en ce s .
EPISTEMOLOGICAL A l og ic c an a ls o b e c ha ra ct er iz ed b y i ts e pi st em ol og ic al c om mi tm en ts—t he p os si bl e
COMMITMENT
s ta te s o f k no wl ed ge t ha t i t a ll ow s w it h r es pe ct t o e ac h f ac t . In b ot h p ro po si ti on al a nd f ir st-
"o rd er lo gi c , a se nt en ce r ep re se nt s a fa ct an d t he ag en t e it he rb el ie ve s t he se nt en ce t ob et ru e ,"
"b el ie ve s i t t o b e f al se , o r h as n o o pi ni on . Th es e l og ic s t he re fo re h av e t hr ee p os si bl e s ta te s"
"o fk no wl ed ge r eg ar di ng a ny se nt en ce . Sy st em su si ng p ro ba bi li ty t he or y ,o nt he ot he rh an d ,"
"2 In co nt ra st ,f ac ts in fu zz yl og ic ha ve ad eg re eo ft ru th be tw ee n 0 a nd 1.Fo re xa mp le ,t he se nt en ce“Vi en na is"
a la rg ec it y”m ig ht be tr ue in ou rw or ld on ly to de gr ee 0.6 i nf uz zy lo gi c .
290 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"c an h av e a ny d eg re e o f b el ie f , r an gi ng f ro m 0 (t ot al d is be li ef) t o 1 (t ot al b el ie f).3 Fo r e x-"
"a mp le , a p ro ba bi li st ic w um pu s-w or ld a ge nt m ig ht b el ie ve t ha t t he w um pu s i s i n [1,3] w it h"
p ro ba bi li ty 0.75. Th e o nt ol og ic al a nd e pi st em ol og ic al c om mi tm en ts o f f iv e d if fe re nt l og ic s
a re su mm ar iz ed in Fi gu re 8.1.
La ng ua ge On to lo gi ca l Co mm it me nt Ep is te mo lo gi ca l Co mm it me nt
(Wh at ex is ts in th ew or ld) (Wh at an ag en tb el ie ve sa bo ut fa ct s)
Pr op os it io na ll og ic f ac ts t ru e/f al se/u nk no wn
"Fi rs t-o rd er lo gi c f ac ts ,o bj ec ts ,r el at io ns t ru e/f al se/u nk no wn"
"Te mp or al lo gi c f ac ts ,o bj ec ts ,r el at io ns ,t im es t ru e/f al se/u nk no wn"
"Pr ob ab il it yt he or y f ac ts d eg re eo fb el ie f∈[0,1]"
"Fu zz yl og ic f ac ts wi th de gr ee of tr ut h∈[0,1] k no wn in te rv al va lu e"
Fi gu re 8.1 Fo rm al la ng ua ge sa nd th ei ro nt ol og ic al an de pi st em ol og ic al co mm it me nt s .
"In th en ex ts ec ti on ,w ew il ll au nc hi nt ot he de ta il so ff ir st-o rd er lo gi c . Ju st as as tu de nt of"
"p hy si cs re qu ir es so me fa mi li ar it yw it hm at he ma ti cs ,a st ud en to f AIm us td ev el op at al en tf or"
"w or ki ng wi th lo gi ca ln ot at io n . On th eo th er ha nd ,i ti sa ls oi mp or ta nt no tt og et to oc on ce rn ed"
"w it h t he s pe ci fi cs o f l og ic al n ot at io n—a ft er a ll , t he re a re d oz en s o f d if fe re nt v er si on s . Th e"
m ai nt hi ng st ok ee ph ol do fa re ho wt he la ng ua ge f ac il it at es c on ci se r ep re se nt at io ns a nd ho w
i ts se ma nt ic sl ea ds to so un dr ea so ni ng p ro ce du re s .
8.2 SYNTAX AND SEMANTICS OF FIRST-ORDER LOGIC
We b eg in t hi s s ec ti on b y s pe ci fy in g m or e p re ci se ly t he w ay i n w hi ch t he p os si bl e w or ld s
o f f ir st-o rd er l og ic r ef le ct t he o nt ol og ic al c om mi tm en t t o o bj ec ts a nd r el at io ns . Th en w e
"i nt ro du ce t he va ri ou se le me nt so ft he la ng ua ge , e xp la in in g t he ir se ma nt ic s a sw eg oa lo ng ."
8.2.1 Mo de ls f or fi rs t-o rd er l og ic
Re ca ll f ro m Ch ap te r 7 t ha t t he m od el s o f a l og ic al l an gu ag e a re t he f or ma l s tr uc tu re s t ha t
c on st it ut e t he p os si bl e w or ld s u nd er c on si de ra ti on . Ea ch m od el l in ks t he v oc ab ul ar y o f t he
"l og ic al s en te nc es t o e le me nt s o f t he p os si bl e w or ld , s o t ha t t he t ru th o f a ny s en te nc e c an"
"b e d et er mi ne d . Th us , m od el s f or p ro po si ti on al l og ic l in k p ro po si ti on s ym bo ls t o p re de fi ne d"
"t ru th v al ue s . Mo de ls f or fi rs t-o rd er l og ic a re m uc h m or ei nt er es ti ng . Fi rs t , t he y h av e o bj ec ts"
i nt he m ! Th ed om ai no fa mo de li st he se to fo bj ec ts or do ma in el em en ts it co nt ai ns . Th ed o-
DOMAIN
m ai ni sr eq ui re dt ob en on em pt y—e ve ry po ss ib le wo rl dm us tc on ta in at le as to ne ob je ct . (Se e
DOMAINELEMENTS
"Ex er ci se 8.7 f or a d is cu ss io n o f e mp ty w or ld s .) Ma th em at ic al ly s pe ak in g , i t d oe sn’t m at te r"
w ha tt he se ob je ct s a re—a ll t ha tm at te rs i s h ow ma ny th er ea re in ea ch pa rt ic ul ar mo de l—b ut
f or p ed ag og ic al p ur po se s w e’l l u se a c on cr et e e xa mp le . Fi gu re 8.2 s ho ws a m od el w it h f iv e
3 It is im po rt an tn ot to co nf us et he de gr ee of be li ef in pr ob ab il it yt he or yw it ht he de gr ee of tr ut hi nf uz zy lo gi c .
"In de ed ,s om ef uz zy sy st em sa ll ow un ce rt ai nt y(d eg re eo fb el ie f)a bo ut de gr ee so ft ru th ."
Se ct io n 8.2. Sy nt ax an d Se ma nt ic so f Fi rs t-Or de r Lo gi c 291
"o bj ec ts: Ri ch ar dt he Li on he ar t ,Ki ng of En gl an df ro m 1189 t o 1199;h is yo un ge rb ro th er , t he"
"e vi l Ki ng Jo hn ,w ho ru le df ro m 1199 t o 1215;t he le ft le gs of Ri ch ar da nd Jo hn ;a nd ac ro wn ."
"Th e o bj ec ts i n t he m od el m ay b e r el at ed i n v ar io us w ay s . In t he f ig ur e , Ri ch ar d a nd"
"Jo hn a re b ro th er s . Fo rm al ly s pe ak in g , a r el at io n i s j us t t he s et o f t up le s o f o bj ec ts t ha t a re"
TUPLE
r el at ed . (At up le i sa co ll ec ti on o fo bj ec ts a rr an ge d i na fi xe do rd er an di sw ri tt en wi th an gl e
"b ra ck et s s ur ro un di ng t he ob je ct s .) Th us ,t he br ot he rh oo d r el at io ni nt hi sm od el is th es et"
"{(c id:16)Ri ch ar d t he Li on he ar t , Ki ng Jo hn(c id:17), (c id:16)Ki ng Jo hn , Ri ch ar dt he Li on he ar t(c id:17)}. (8.1)"
"(He re we ha ve na me dt he ob je ct si n En gl is h ,b ut yo um ay ,i fy ou wi sh ,m en ta ll ys ub st it ut et he"
"p ic tu re sf or th en am es .) Th ec ro wn is on Ki ng Jo hn’s he ad ,s ot he“o nh ea d”r el at io nc on ta in s"
"j us t o ne t up le , (c id:16)t he cr ow n , Ki ng Jo hn(c id:17). Th e “b ro th er” a nd “o n h ea d” r el at io ns a re b in ar y"
"r el at io ns—t ha t i s , t he y r el at e p ai rs o f o bj ec ts . Th e m od el a ls o c on ta in s u na ry r el at io ns , o r"
p ro pe rt ie s: t he“p er so n”p ro pe rt yi st ru eo fb ot h Ri ch ar da nd Jo hn ;t he“k in g”p ro pe rt yi st ru e
o nl yo f Jo hn(p re su ma bl y b ec au se Ri ch ar di sd ea da tt hi sp oi nt);a nd th e“c ro wn”p ro pe rt yi s
t ru eo nl yo ft he cr ow n .
"Ce rt ai n k in ds o f r el at io ns hi ps a re b es t c on si de re d a s f un ct io ns , i n t ha t a g iv en o bj ec t"
"m us t b er el at ed t o e xa ct ly o ne o bj ec t i n t hi s w ay . Fo re xa mp le , e ac h p er so n h as o ne l ef t l eg ,"
s ot he mo de lh as au na ry“l ef tl eg”f un ct io n t ha ti nc lu de s t he fo ll ow in gm ap pi ng s:
(c id:16)Ri ch ar dt he Li on he ar t(c id:17) → Ri ch ar d’s le ft le g
(8.2)
(c id:16)Ki ng Jo hn(c id:17)→ Jo hn’s le ft le g .
"St ri ct ly s pe ak in g , m od el s i n f ir st-o rd er l og ic r eq ui re t ot al f un ct io ns , t ha t i s , t he re m us t b e a"
TOTALFUNCTIONS
"v al ue fo re ve ry in pu tt up le . Th us , t he cr ow nm us th av ea le ft le ga nd so mu st ea ch of th el ef t"
l eg s . Th er ei sa te ch ni ca ls ol ut io nt ot hi sa wk wa rd pr ob le mi nv ol vi ng an ad di ti on al“i nv is ib le”
c ro wn
o n h ea d
b ro th er
p er so n p er so n
k in g
b ro th er
R J
$
l ef t l eg l ef t l eg
"Fi gu re 8.2 A m od el c on ta in in g f iv e o bj ec ts , t wo b in ar y r el at io ns , t hr ee u na ry r el at io ns"
"(i nd ic at ed by la be ls on th eo bj ec ts),a nd on eu na ry fu nc ti on ,l ef t-l eg ."
292 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"o bj ec t t ha t i s t he l ef t l eg o f e ve ry th in g t ha t h as n o l ef t l eg , i nc lu di ng i ts el f . Fo rt un at el y , a s"
"l on g a s o ne m ak es n o a ss er ti on s a bo ut t he l ef t l eg s o f t hi ng s t ha t h av e n o l ef t l eg s , t he se"
t ec hn ic al it ie s a re of no im po rt .
"So f ar , w e h av e d es cr ib ed t he e le me nt s t ha t p op ul at e m od el s f or f ir st-o rd er l og ic . Th e"
o th er e ss en ti al p ar t o f a m od el i s t he l in k b et we en t ho se e le me nt s a nd t he v oc ab ul ar y o f t he
"l og ic al se nt en ce s , w hi ch we ex pl ai nn ex t ."
8.2.2 Sy mb ol s a nd in te rp re ta ti on s
We t ur n n ow t o t he s yn ta x o f f ir st-o rd er l og ic . Th e i mp at ie nt r ea de r c an o bt ai n a c om pl et e
d es cr ip ti on f ro mt he fo rm al gr am ma ri n Fi gu re 8.3.
"Th eb as ic s yn ta ct ic e le me nt s o f f ir st-o rd er l og ic a re t he s ym bo ls t ha t s ta nd f or ob je ct s ,"
"r el at io ns , a nd f un ct io ns . Th e s ym bo ls , t he re fo re , c om e i n t hr ee k in ds: c on st an t s ym bo ls ,"
CONSTANTSYMBOL
"w hi ch s ta nd f or o bj ec ts ; p re di ca te s ym bo ls , w hi ch s ta nd f or r el at io ns ; a nd f un ct io n s ym-"
PREDICATESYMBOL
"b ol s , w hi ch st an d f or fu nc ti on s . We ad op t t he co nv en ti on t ha tt he se s ym bo ls w il lb eg in wi th"
FUNCTIONSYMBOL
"u pp er ca se l et te rs . Fo r e xa mp le , w e m ig ht u se t he c on st an t s ym bo ls Ri ch ar d a nd Jo hn ; t he"
"p re di ca te s ym bo ls Br ot he r , On He ad , Pe rs on , Ki ng , a nd Cr ow n ; a nd t he f un ct io n s ym bo l"
"Le ft Le g . As w it h p ro po si ti on s ym bo ls , t he c ho ic e o f n am es i s e nt ir el y u p t o t he u se r . Ea ch"
p re di ca te a nd fu nc ti on s ym bo lc om es wi th an ar it yt ha tf ix es th en um be ro fa rg um en ts .
ARITY
"As in p ro po si ti on al l og ic , e ve ry m od el m us t p ro vi de t he i nf or ma ti on r eq ui re d t o d et er-"
"m in e i f a ny g iv en s en te nc e i s t ru e o r f al se . Th us , i n a dd it io n t o i ts o bj ec ts , r el at io ns , a nd"
"f un ct io ns , e ac h m od el i nc lu de s a n i nt er pr et at io n t ha t s pe ci fi es e xa ct ly w hi ch o bj ec ts , r el a-"
INTERPRETATION
"t io ns a nd f un ct io ns a re r ef er re d t o b y t he c on st an t , p re di ca te , a nd f un ct io n s ym bo ls . On e"
p os si bl ei nt er pr et at io n f or ou re xa mp le—w hi ch al og ic ia nw ou ld ca ll th ei nt en de di nt er pr e-
INTENDED t at io n—i sa sf ol lo ws:
INTERPRETATION
• Ri ch ar d r ef er st o Ri ch ar dt he Li on he ar ta nd Jo hn r ef er st ot he ev il Ki ng Jo hn .
"• Br ot he r r ef er s t o t he b ro th er ho od r el at io n , t ha t i s , t he s et o f t up le s o f o bj ec ts g iv en i n"
Eq ua ti on (8.1); On He ad r ef er s t o t he“o n h ea d” r el at io n t ha t h ol ds b et we en t he c ro wn
"a nd Ki ng Jo hn ;Pe rs on ,Ki ng ,a nd Cr ow n r ef er to th es et so fo bj ec ts t ha ta re pe rs on s ,"
"k in gs ,a nd cr ow ns ."
"• Le ft Le g r ef er st ot he“l ef tl eg”f un ct io n , t ha ti s ,t he ma pp in gg iv en i n Eq ua ti on(8.2)."
"Th er e a re m an y o th er p os si bl e i nt er pr et at io ns , o f c ou rs e . Fo r e xa mp le , o ne i nt er pr et at io n"
m ap s Ri ch ar d t o t he c ro wn a nd Jo hn t o Ki ng Jo hn’s l ef t l eg . Th er e a re f iv e o bj ec ts i n
"t he m od el , s o t he re a re 25 p os si bl e i nt er pr et at io ns j us t f or t he c on st an t s ym bo ls Ri ch ar d"
"a nd Jo hn . No ti ce t ha t n ot a ll t he o bj ec ts n ee d h av e a n am e—f or e xa mp le , t he i nt en de d"
i nt er pr et at io n d oe s n ot n am e t he c ro wn o r t he l eg s . It i s a ls o p os si bl e f or a n o bj ec t t o h av e
s ev er al n am es ; t he re i s a n i nt er pr et at io n u nd er w hi ch b ot h Ri ch ar d a nd Jo hn r ef er t o t he
"c ro wn .4 If y ou f in d t hi s p os si bi li ty c on fu si ng , r em em be r t ha t , i n p ro po si ti on al l og ic , i t i s"
p er fe ct ly p os si bl e t oh av ea mo de li nw hi ch Cl ou dy a nd Su nn y a re bo th tr ue ; i ti st he jo bo f
t he kn ow le dg eb as et or ul eo ut mo de ls th at ar ei nc on si st en t w it ho ur kn ow le dg e .
"4 La te r ,i n Se ct io n 8.2.8,w ee xa mi ne as em an ti cs in wh ic he ve ry ob je ct ha se xa ct ly on en am e ."
Se ct io n 8.2. Sy nt ax an d Se ma nt ic so f Fi rs t-Or de r Lo gi c 293
Se nt en ce → At om ic Se nt en ce | Co mp le x Se nt en ce
"At om ic Se nt en ce → Pr ed ic at e | Pr ed ic at e(Te rm ,...)| Te rm =Te rm"
Co mp le x Se nt en ce → (Se nt en ce )| [Se nt en ce ]
| ¬Se nt en ce
| Se nt en ce ∧Se nt en ce
| Se nt en ce ∨Se nt en ce
| Se nt en ce ⇒ Se nt en ce
| Se nt en ce ⇔ Se nt en ce
"| Qu an ti fi er Va ri ab le ,... Se nt en ce"
"Te rm → Fu nc ti on(Te rm ,...)"
| Co ns ta nt
| Va ri ab le
Qu an ti fi er → ∀| ∃
Co ns ta nt → A| X | Jo hn | ···
1
Va ri ab le → a| x| s| ···
Pr ed ic at e → Tr ue | Fa ls e | Af te r | Lo ve s | Ra in in g | ···
Fu nc ti on → Mo th er | Le ft Le g | ···
"OPERATORPRECEDENCE : ¬,=,∧,∨,⇒,⇔"
"Fi gu re 8.3 Th e s yn ta x o f f ir st-o rd er lo gi c w it h e qu al it y , s pe ci fi ed i n Ba ck us–Na ur fo rm"
"(s ee pa ge 1060 i fy ou ar en ot fa mi li ar wi th th is no ta ti on).Op er at or pr ec ed en ce sa re sp ec if ie d ,"
f ro m h ig he st t o l ow es t . Th e p re ce de nc e o f q ua nt if ie rs i s s uc h t ha t a q ua nt if ie r h ol ds o ve r
e ve ry th in gt ot he ri gh to fi t .
R J R J R J R J R J R J
. . . . . . . . .
Fi gu re 8.4 So me me mb er so ft he se to fa ll mo de ls fo ra la ng ua ge wi th tw oc on st an ts ym-
"b ol s ,Ra nd J ,a nd on eb in ar yr el at io ns ym bo l .Th ei nt er pr et at io no fe ac hc on st an ts ym bo li s"
"s ho wn by ag ra ya rr ow .Wi th in ea ch mo de l ,t he re la te do bj ec ts ar ec on ne ct ed by ar ro ws ."
294 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"In su mm ar y ,a mo de li nf ir st-o rd er lo gi cc on si st so fa se to fo bj ec ts an da ni nt er pr et at io n"
"t ha t m ap s c on st an t s ym bo ls t o o bj ec ts , p re di ca te s ym bo ls t o r el at io ns o n t ho se o bj ec ts , a nd"
"f un ct io n s ym bo ls t o f un ct io ns o n t ho se o bj ec ts . Ju st a s w it h p ro po si ti on al l og ic , e nt ai lm en t ,"
"v al id it y , a nd s o o n a re d ef in ed i n t er ms o f a ll p os si bl e m od el s . To g et a n i de a o f w ha t t he"
"s et o fa ll po ss ib le m od el s l oo ks l ik e , s ee Fi gu re 8.4. It sh ow s t ha t m od el s v ar y i nh ow m an y"
o bj ec ts t he y c on ta in—f ro m o ne u p t o i nf in it y—a nd i n t he w ay t he c on st an t s ym bo ls m ap
"t o o bj ec ts . If t he re a re t wo c on st an t s ym bo ls a nd o ne o bj ec t , t he n b ot h s ym bo ls m us t r ef er"
t o t he s am e o bj ec t ; b ut t hi s c an s ti ll h ap pe n e ve n w it h m or e o bj ec ts . Wh en t he re a re m or e
"o bj ec ts t ha nc on st an t s ym bo ls , s om eo ft he ob je ct s w il lh av en on am es . Be ca us et he nu mb er"
"o f p os si bl e m od el s i s u nb ou nd ed , c he ck in g e nt ai lm en t b y t he e nu me ra ti on o f a ll p os si bl e"
m od el si sn ot fe as ib le fo rf ir st-o rd er lo gi c(u nl ik ep ro po si ti on al l og ic). Ev en if th en um be ro f
"o bj ec ts i s r es tr ic te d , t he n um be r o f c om bi na ti on s c an b e v er y l ar ge . (Se e Ex er ci se 8.5.) Fo r"
"t he ex am pl ei n Fi gu re 8.4,t he re ar e 137,506,194,466 m od el s w it hs ix or fe we ro bj ec ts ."
8.2.3 Te rm s
"At er mi sa lo gi ca le xp re ss io n t ha tr ef er st oa no bj ec t . Co ns ta nt sy mb ol sa re th er ef or et er ms ,"
TERM
"b ut i ti sn ot al wa ys c on ve ni en t t oh av e a di st in ct s ym bo l t on am ee ve ry o bj ec t . Fo re xa mp le ,"
i n En gl is h w e m ig ht u se t he e xp re ss io n “Ki ng Jo hn’s l ef t l eg” r at he r t ha n g iv in g a n am e
"t o h is l eg . Th is i s w ha t f un ct io n s ym bo ls a re f or: i ns te ad o f u si ng a c on st an t s ym bo l , w e"
"u se Le ft Le g(Jo hn). In t he g en er al c as e , a c om pl ex t er m i s f or me d b y a f un ct io n s ym bo l"
f ol lo we db ya pa re nt he si ze d l is to ft er ms as ar gu me nt st ot he f un ct io ns ym bo l . It is im po rt an t
t o r em em be r t ha t a co mp le x t er m i s j us t a c om pl ic at ed k in d o f n am e . It i s n ot a “s ub ro ut in e
c al l” t ha t “r et ur ns a v al ue .” Th er e i s n o Le ft Le g s ub ro ut in e t ha t t ak es a p er so n a s i np ut a nd
"r et ur ns al eg . We ca nr ea so na bo ut le ft le gs(e .g .,s ta ti ng th eg en er al ru le th at ev er yo ne ha so ne"
a nd t he n d ed uc in g t ha t Jo hn m us t h av e o ne) w it ho ut e ve r p ro vi di ng a d ef in it io n o f Le ft Le g .
Th is is so me th in gt ha tc an no tb ed on ew it hs ub ro ut in es i np ro gr am mi ng l an gu ag es .5
"Th e f or ma l s em an ti cs o f t er ms i s s tr ai gh tf or wa rd . Co ns id er a t er m f(t ,...,t ). Th e"
1 n
f un ct io n s ym bo l f r ef er s t o s om ef un ct io n i nt he m od el(c al l i t F); t he ar gu me nt t er ms re fe r
"t o o bj ec ts i n t he d om ai n (c al l t he m d ,...,d ); a nd t he t er m a s a w ho le r ef er s t o t he o bj ec t"
1 n
"t ha t i s t he v al ue o f t he f un ct io n F a pp li ed t o d ,...,d . Fo re xa mp le , s up po se t he Le ft Le g"
1 n
"f un ct io ns ym bo lr ef er st ot he fu nc ti on sh ow ni n Eq ua ti on(8.2)a nd Jo hn r ef er st o Ki ng Jo hn ,"
"t he n Le ft Le g(Jo hn) r ef er s t o Ki ng Jo hn’s l ef t l eg . In t hi s w ay , t he i nt er pr et at io n f ix es t he"
r ef er en to fe ve ry te rm .
8.2.4 At om ic se nt en ce s
No w t ha t w e h av e b ot h t er ms f or r ef er ri ng t o o bj ec ts a nd p re di ca te s ym bo ls f or r ef er ri ng t o
"r el at io ns , w e c an p ut t he m t og et he r t o m ak e a to mi c s en te nc es t ha t s ta te f ac ts . An a to mi c"
5 λ-e xp re ss io ns p ro vi de a u se fu l n ot at io n i n w hi ch n ew f un ct io n s ym bo ls a re c on st ru ct ed “o n t he f ly .” Fo r
"e xa mp le , t he fu nc ti on th at sq ua re si ts ar gu me nt ca nb ew ri tt en as(λx x×x)a nd ca nb ea pp li ed to ar gu me nt s"
j us tl ik ea ny ot he rf un ct io ns ym bo l . Aλ-e xp re ss io nc an al so be de fi ne da nd us ed as ap re di ca te sy mb ol . (Se e
Ch ap te r 22.)Th el am bd ao pe ra to ri n Li sp pl ay se xa ct ly th es am er ol e .No ti ce th at th eu se ofλi nt hi sw ay do es
"n ot in cr ea se th ef or ma le xp re ss iv ep ow er of fi rs t-o rd er lo gi c ,b ec au se an ys en te nc et ha ti nc lu de saλ-e xp re ss io n"
c an be re wr it te nb y“p lu gg in gi n”i ts ar gu me nt st oy ie ld an eq ui va le nt se nt en ce .
Se ct io n 8.2. Sy nt ax an d Se ma nt ic so f Fi rs t-Or de r Lo gi c 295
s en te nc e (o r a to m f or s ho rt) i s f or me d f ro m a p re di ca te s ym bo l o pt io na ll y f ol lo we d b y a
ATOMICSENTENCE
"p ar en th es iz ed l is to ft er ms ,s uc ha s"
ATOM
"Br ot he r(Ri ch ar d ,Jo hn)."
"Th is s ta te s , u nd er t he i nt en de d i nt er pr et at io n g iv en e ar li er , t ha t Ri ch ar d t he Li on he ar t i s t he"
"b ro th er of Ki ng Jo hn .6 At om ic se nt en ce s c an ha ve co mp le xt er ms as ar gu me nt s . Th us ,"
"Ma rr ie d(Fa th er(Ri ch ar d),Mo th er(Jo hn))"
"s ta te s t ha t Ri ch ar d t he Li on he ar t’s f at he r i s m ar ri ed t o Ki ng Jo hn’s m ot he r (a ga in , u nd er a"
s ui ta bl e i nt er pr et at io n).
An at om ic s en te nc e i s t ru e i n a gi ve n m od el i f t he r el at io n r ef er re d t o b y t he p re di ca te
s ym bo lh ol ds am on gt he ob je ct sr ef er re dt ob yt he ar gu me nt s .
8.2.5 Co mp le x s en te nc es
"We c an u se l og ic al c on ne ct iv es t o c on st ru ct m or e c om pl ex s en te nc es , w it h t he s am e s yn ta x"
a nd se ma nt ic sa si np ro po si ti on al c al cu lu s . He re ar ef ou rs en te nc es t ha ta re tr ue in th em od el
o f Fi gu re 8.2 u nd er ou ri nt en de di nt er pr et at io n:
"¬Br ot he r(Le ft Le g(Ri ch ar d),Jo hn)"
"Br ot he r(Ri ch ar d ,Jo hn)∧Br ot he r(Jo hn ,Ri ch ar d)"
Ki ng(Ri ch ar d)∨Ki ng(Jo hn)
¬Ki ng(Ri ch ar d) ⇒ Ki ng(Jo hn).
8.2.6 Qu an ti fi er s
"On ce w e h av e a l og ic t ha t a ll ow s o bj ec ts , i t i s o nl y n at ur al t o w an t t o e xp re ss p ro pe rt ie s o f"
"e nt ir e c ol le ct io ns o f o bj ec ts , i ns te ad o f e nu me ra ti ng t he o bj ec ts b y n am e . Qu an ti fi er sl et u s"
QUANTIFIER
"d ot hi s . Fi rs t-o rd er lo gi cc on ta in s t wo st an da rd q ua nt if ie rs , c al le du ni ve rs al a nd ex is te nt ia l ."
Un iv er sa lq ua nt if ic at io n(∀)
Re ca ll t he d if fi cu lt y w e h ad i n Ch ap te r 7 w it h t he e xp re ss io n o f g en er al r ul es i n p ro po si-
t io na l l og ic . Ru le s s uc h a s “Sq ua re s n ei gh bo ri ng t he w um pu s a re s me ll y” a nd “Al l k in gs
a re p er so ns” a re t he b re ad a nd b ut te r o f f ir st-o rd er l og ic . We d ea l w it h t he f ir st o f t he se i n
"Se ct io n 8.3. Th es ec on dr ul e ,“Al lk in gs ar ep er so ns ,”i sw ri tt en in fi rs t-o rd er lo gi ca s"
∀x Ki ng(x) ⇒ Pe rs on(x).
∀ i s u su al ly p ro no un ce d “Fo ra ll ...”. (Re me mb er t ha t t he u ps id e-d ow n A s ta nd s f or “a ll .”)
"Th us ,t he se nt en ce s ay s , “Fo ra ll x ,i fx is ak in g , t he nx is ap er so n .” Th es ym bo lx is ca ll ed"
"a v ar ia bl e . By c on ve nt io n , v ar ia bl es a re l ow er ca se l et te rs . A v ar ia bl e i s a t er m a ll b y i ts el f ,"
VARIABLE
"a nd a s s uc h c an a ls o s er ve a s t he a rg um en t o f a f un ct io n—f or e xa mp le , Le ft Le g(x). At er m"
w it hn ov ar ia bl es i sc al le da gr ou nd te rm .
GROUNDTERM
"In tu it iv el y , t he s en te nc e ∀x P , w he re P i s a ny l og ic al e xp re ss io n , s ay s t ha t P i s t ru e"
"f or ev er y o bj ec t x . Mo re p re ci se ly , ∀x P i st ru e i n a gi ve n m od el i f P i st ru e i na ll p os si bl e"
"EXTENDED e xt en de di nt er pr et at io ns co ns tr uc te df ro mt he in te rp re ta ti on gi ve ni nt he mo de l ,w he re ea ch"
INTERPRETATION
"6 We us ua ll yf ol lo wt he ar gu me nt-o rd er in gc on ve nt io nt ha t P(x ,y)i sr ea da s“x is a P o fy .”"
296 Ch ap te r 8. Fi rs t-Or de r Lo gi c
e xt en de d i nt er pr et at io n s pe ci fi es ad om ai ne le me nt to wh ic h x re fe rs .
"Th is so un ds co mp li ca te d ,b ut it is re al ly ju st ac ar ef ul wa yo fs ta ti ng th ei nt ui ti ve me an-"
i ng o f u ni ve rs al q ua nt if ic at io n . Co ns id er t he m od el s ho wn i n Fi gu re 8.2 a nd t he i nt en de d
i nt er pr et at io n t ha tg oe sw it hi t . We ca ne xt en dt he in te rp re ta ti on i nf iv ew ay s:
"x→ Ri ch ar dt he Li on he ar t ,"
"x→ Ki ng Jo hn ,"
"x→ Ri ch ar d’s le ft le g ,"
"x→ Jo hn’s le ft le g ,"
x→ t he cr ow n .
Th eu ni ve rs al ly qu an ti fi ed se nt en ce ∀x Ki ng(x) ⇒ Pe rs on(x)i st ru ei nt he or ig in al mo de l
i f t he s en te nc e Ki ng(x) ⇒ Pe rs on(x) i s t ru e u nd er e ac h o f t he f iv e e xt en de d i nt er pr et a-
"t io ns . Th at is ,t he un iv er sa ll y q ua nt if ie ds en te nc e i se qu iv al en t t oa ss er ti ng t he fo ll ow in gf iv e"
s en te nc es:
Ri ch ar dt he Li on he ar ti sa ki ng ⇒ Ri ch ar dt he Li on he ar ti sa pe rs on .
Ki ng Jo hn is ak in g ⇒ Ki ng Jo hn is ap er so n .
Ri ch ar d’s le ft le gi sa ki ng ⇒ Ri ch ar d’s le ft le gi sa pe rs on .
Jo hn’s le ft le gi sa ki ng ⇒ Jo hn’s le ft le gi sa pe rs on .
Th ec ro wn is ak in g ⇒ t he cr ow ni sa pe rs on .
"Le t u s l oo k c ar ef ul ly a t t hi s s et o f a ss er ti on s . Si nc e , i n o ur m od el , Ki ng Jo hn i s t he o nl y"
"k in g , t he s ec on d s en te nc e a ss er ts t ha t h e i s a p er so n , a s w e w ou ld h op e . Bu t w ha t a bo ut"
"t he o th er f ou r s en te nc es , w hi ch a pp ea r t o m ak e c la im s a bo ut l eg s a nd c ro wn s ? Is t ha t p ar t"
"o f t he m ea ni ng o f “Al l k in gs a re p er so ns”? In f ac t , t he o th er f ou r a ss er ti on s a re t ru e i n t he"
"m od el , b ut m ak e n o c la im w ha ts oe ve r a bo ut t he p er so nh oo d q ua li fi ca ti on s o f l eg s , c ro wn s ,"
o ri nd ee d Ri ch ar d . Th is is be ca us e n on eo ft he se o bj ec ts i sa ki ng . Lo ok in ga tt he tr ut ht ab le
"f or ⇒ (Fi gu re 7.8 o n p ag e 246), w e s ee t ha t t he i mp li ca ti on i s t ru e w he ne ve r i ts p re mi se i s"
"f al se—r eg ar dl es s o ft he tr ut ho ft he co nc lu si on . Th us ,b ya ss er ti ng t he un iv er sa ll y q ua nt if ie d"
"s en te nc e , w hi ch i s e qu iv al en t t o a ss er ti ng a w ho le l is t o f i nd iv id ua l i mp li ca ti on s , w e e nd"
u p a ss er ti ng t he c on cl us io n o f t he r ul e j us t f or t ho se o bj ec ts f or w ho m t he p re mi se i s t ru e
"a nd s ay in g n ot hi ng a t a ll a bo ut t ho se i nd iv id ua ls f or w ho m t he p re mi se i s f al se . Th us , t he"
t ru th-t ab le d ef in it io n o f ⇒ t ur ns o ut t o b e p er fe ct f or w ri ti ng g en er al r ul es w it h u ni ve rs al
q ua nt if ie rs .
"Ac om mo nm is ta ke ,m ad ef re qu en tl y e ve nb yd il ig en t r ea de rs w ho ha ve re ad th is pa ra-"
"g ra ph se ve ra lt im es ,i st ou se co nj un ct io n i ns te ad o fi mp li ca ti on . Th es en te nc e"
∀x Ki ng(x)∧Pe rs on(x)
w ou ld be eq ui va le nt t oa ss er ti ng
"Ri ch ar dt he Li on he ar ti sa ki ng∧Ri ch ar dt he Li on he ar ti sa pe rs on ,"
"Ki ng Jo hn is ak in g∧Ki ng Jo hn is ap er so n ,"
"Ri ch ar d’s le ft le gi sa ki ng∧Ri ch ar d’s le ft le gi sa pe rs on ,"
"a nd so on . Ob vi ou sl y , t hi sd oe sn ot ca pt ur ew ha tw ew an t ."
Se ct io n 8.2. Sy nt ax an d Se ma nt ic so f Fi rs t-Or de r Lo gi c 297
Ex is te nt ia lq ua nt if ic at io n(∃)
"Un iv er sa lq ua nt if ic at io nm ak es st at em en ts ab ou te ve ry ob je ct . Si mi la rl y ,w ec an ma ke as ta te-"
"m en t a bo ut s om e o bj ec t i n t he u ni ve rs e w it ho ut n am in g i t , b y u si ng a ne xi st en ti al q ua nt if ie r ."
"To sa y ,f or ex am pl e ,t ha t Ki ng Jo hn ha sa cr ow no nh is he ad ,w ew ri te"
"∃x Cr ow n(x)∧On He ad(x ,Jo hn)."
∃x is pr on ou nc ed “Th er ee xi st sa n x su ch th at ...”o r“Fo rs om e x ...”.
"In tu it iv el y , t he s en te nc e ∃x P s ay s t ha t P i s t ru e f or a t l ea st o ne o bj ec t x . Mo re"
"p re ci se ly , ∃x P i s t ru e i n a g iv en m od el i f P i s t ru e i n a t l ea st o ne e xt en de d i nt er pr et at io n"
"t ha ta ss ig ns xt oa do ma in el em en t . Th at is ,a tl ea st on eo ft he fo ll ow in gi st ru e:"
Ri ch ar dt he Li on he ar ti sa cr ow n∧Ri ch ar dt he Li on he ar ti so n Jo hn’s he ad ;
Ki ng Jo hn is ac ro wn∧Ki ng Jo hn is on Jo hn’s he ad ;
Ri ch ar d’s le ft le gi sa cr ow n∧Ri ch ar d’s le ft le gi so n Jo hn’s he ad ;
Jo hn’s le ft le gi sa cr ow n∧Jo hn’s le ft le gi so n Jo hn’s he ad ;
Th ec ro wn is ac ro wn∧t he cr ow ni so n Jo hn’s he ad .
"Th e f if th a ss er ti on i s t ru e i n t he m od el , s o t he o ri gi na l e xi st en ti al ly q ua nt if ie d s en te nc e i s"
"t ru e i n t he m od el . No ti ce t ha t , b y o ur de fi ni ti on , t he s en te nc e w ou ld a ls o b e t ru e i n a m od el"
i n w hi ch Ki ng Jo hn w as w ea ri ng t wo c ro wn s . Th is i s e nt ir el y c on si st en t w it h t he o ri gi na l
s en te nc e “Ki ng Jo hn ha sa cr ow no nh is he ad .” 7
"Ju st as⇒a pp ea rs to be th en at ur al co nn ec ti ve to us ew it h∀,∧i st he na tu ra lc on ne ct iv e"
t o u se w it h ∃. Us in g ∧ a s t he m ai n c on ne ct iv e w it h ∀ l ed t o a n o ve rl y s tr on g s ta te me nt i n
"t he ex am pl e i nt he p re vi ou s s ec ti on ; u si ng ⇒w it h∃u su al ly l ea ds t oa ve ry w ea ks ta te me nt ,"
i nd ee d . Co ns id er th ef ol lo wi ng se nt en ce:
"∃x Cr ow n(x) ⇒ On He ad(x ,Jo hn)."
"On t he s ur fa ce , t hi s m ig ht l oo k l ik e a r ea so na bl e r en di ti on o f o ur s en te nc e . Ap pl yi ng t he"
"s em an ti cs , w es ee th at th es en te nc e s ay st ha ta tl ea st on eo ft he fo ll ow in ga ss er ti on s i st ru e:"
Ri ch ar dt he Li on he ar ti sa cr ow n ⇒ Ri ch ar dt he Li on he ar t i so n Jo hn’s he ad ;
Ki ng Jo hn is ac ro wn ⇒ Ki ng Jo hn is on Jo hn’s h ea d ;
Ri ch ar d’s le ft le gi sa cr ow n ⇒ Ri ch ar d’s le ft le gi so n Jo hn’s he ad ;
"a nd so on . No wa ni mp li ca ti on is tr ue if bo th pr em is ea nd co nc lu si on ar et ru e ,o ri fi ts pr em is e"
"i s f al se . So i f Ri ch ar d t he Li on he ar t i s n ot a c ro wn , t he n t he f ir st a ss er ti on i s t ru e a nd t he"
"e xi st en ti al i s s at is fi ed . So , a n e xi st en ti al ly q ua nt if ie d i mp li ca ti on s en te nc e i s t ru e w he ne ve r"
a ny ob je ct fa il st os at is fy th ep re mi se ;h en ce su ch se nt en ce s r ea ll yd on ot sa ym uc ha ta ll .
Ne st ed qu an ti fi er s
We w il l o ft en w an t t o e xp re ss m or e c om pl ex s en te nc es u si ng m ul ti pl e q ua nt if ie rs . Th e s im-
"p le st ca se is wh er et he qu an ti fi er s a re of th es am et yp e . Fo re xa mp le , “Br ot he rs ar es ib li ng s”"
c an be wr it te na s
"∀x ∀y Br ot he r(x ,y) ⇒ Si bl in g(x ,y)."
"7 Th er ei sa va ri an to ft he ex is te nt ia lq ua nt if ie r ,u su al ly wr it te n∃1 o r∃!,t ha tm ea ns“Th er ee xi st se xa ct ly on e .”"
Th es am em ea ni ng ca nb ee xp re ss ed us in ge qu al it ys ta te me nt s .
298 Ch ap te r 8. Fi rs t-Or de r Lo gi c
Co ns ec ut iv e q ua nt if ie rs o f t he s am e t yp e c an b e w ri tt en a s o ne q ua nt if ie r w it h s ev er al v ar i-
"a bl es . Fo re xa mp le ,t os ay th at si bl in gh oo d i sa sy mm et ri cr el at io ns hi p , w ec an wr it e"
"∀x ,y Si bl in g(x ,y) ⇔ Si bl in g(y ,x)."
In o th er c as es w e w il l h av e m ix tu re s . “Ev er yb od y l ov es s om eb od y” m ea ns t ha t f or e ve ry
"p er so n , t he re is so me on et ha tp er so nl ov es:"
"∀x ∃y Lo ve s(x ,y)."
"On th eo th er ha nd ,t os ay“Th er ei ss om eo ne wh oi sl ov ed by ev er yo ne ,”w ew ri te"
"∃y ∀x Lo ve s(x ,y)."
Th eo rd er of qu an ti fi ca ti on i st he re fo re ve ry im po rt an t . It be co me sc le ar er if we in se rt pa re n-
"t he se s . ∀x(∃y Lo ve s(x ,y)) s ay s t ha t e ve ry on e h as a p ar ti cu la r p ro pe rt y , n am el y , t he p ro p-"
"e rt y t ha t t he y l ov e s om eo ne . On t he o th er h an d , ∃y (∀x Lo ve s(x ,y)) s ay s t ha t s om eo ne i n"
"t he wo rl dh as ap ar ti cu la rp ro pe rt y , n am el yt he pr op er ty of be in gl ov ed by ev er yb od y ."
So me co nf us io n c an a ri se w he n t wo q ua nt if ie rs a re u se d w it h t he s am e v ar ia bl e n am e .
Co ns id er th es en te nc e
"∀x (Cr ow n(x)∨(∃x Br ot he r(Ri ch ar d ,x)))."
"He re t he x i n Br ot he r(Ri ch ar d ,x) i s e xi st en ti al ly q ua nt if ie d . Th e r ul e i s t ha t t he v ar ia bl e"
b el on gs t o t he i nn er mo st q ua nt if ie r t ha t m en ti on s i t ; t he n i t w il l n ot b e s ub je ct t o a ny o th er
"q ua nt if ic at io n . An ot he r w ay t o t hi nk o f i t i s t hi s: ∃x Br ot he r(Ri ch ar d ,x) i s a s en te nc e"
"a bo ut Ri ch ar d(t ha th eh as ab ro th er), n ot ab ou t x ;s op ut ti ng a∀x ou ts id ei th as no ef fe ct . It"
"c ou ld eq ua ll yw el lh av eb ee nw ri tt en∃z Br ot he r(Ri ch ar d ,z). Be ca us et hi sc an be as ou rc e"
"o fc on fu si on , w ew il la lw ay su se di ff er en tv ar ia bl en am es wi th ne st ed qu an ti fi er s ."
Co nn ec ti on sb et we en∀a nd∃
"Th et wo qu an ti fi er s a re ac tu al ly i nt im at el y c on ne ct ed w it he ac ho th er , t hr ou gh n eg at io n . As-"
s er ti ng t ha t e ve ry on e d is li ke s p ar sn ip s i s t he s am e a s a ss er ti ng t he re d oe s n ot e xi st s om eo ne
"w ho li ke st he m ,a nd vi ce ve rs a:"
"∀x ¬Li ke s(x ,Pa rs ni ps) i se qu iv al en t t o ¬∃x Li ke s(x ,Pa rs ni ps)."
We ca ng oo ne st ep fu rt he r: “Ev er yo ne li ke si ce cr ea m”m ea ns th at th er ei sn oo ne wh od oe s
n ot li ke ic ec re am:
"∀x Li ke s(x ,Ic e Cr ea m) i se qu iv al en t t o ¬∃x ¬Li ke s(x ,Ic e Cr ea m)."
"Be ca us e∀i sr ea ll ya co nj un ct io no ve rt he un iv er se of ob je ct sa nd ∃i sa di sj un ct io n , i ts ho ul d"
n ot be su rp ri si ng t ha t t he yo be y De Mo rg an’s r ul es . Th e De Mo rg an r ul es f or qu an ti fi ed a nd
u nq ua nt if ie d s en te nc es a re as fo ll ow s:
∀x ¬P ≡ ¬∃x P ¬(P ∨Q) ≡ ¬P ∧¬Q
¬∀x P ≡ ∃x ¬P ¬(P ∧Q) ≡ ¬P ∨¬Q
∀x P ≡ ¬∃x ¬P P ∧Q ≡ ¬(¬P ∨¬Q)
∃x P ≡ ¬∀x ¬P P ∨Q ≡ ¬(¬P ∧¬Q).
"Th us , w e d o n ot r ea ll y n ee d b ot h ∀a nd ∃, j us t a s w ed o n ot r ea ll y n ee d b ot h ∧ a nd ∨. St il l ,"
"r ea da bi li ty i sm or ei mp or ta nt t ha np ar si mo ny , s ow ew il lk ee pb ot ho ft he qu an ti fi er s ."
Se ct io n 8.2. Sy nt ax an d Se ma nt ic so f Fi rs t-Or de r Lo gi c 299
8.2.7 Eq ua li ty
"Fi rs t-o rd er l og ic i nc lu de s o ne mo re wa yt om ak ea to mi c s en te nc es , o th er th an u si ng a pr ed i-"
c at ea nd te rm sa sd es cr ib ed ea rl ie r . We ca nu se th e e qu al it ys ym bo lt os ig ni fy th at tw ot er ms
EQUALITYSYMBOL
"r ef er to th es am eo bj ec t . Fo re xa mp le ,"
Fa th er(Jo hn)=He nr y
s ay st ha tt he ob je ct re fe rr ed t ob y Fa th er(Jo hn)a nd th eo bj ec tr ef er re d t ob y He nr y a re th e
"s am e . Be ca us e a n i nt er pr et at io n f ix es t he r ef er en t o f a ny t er m , d et er mi ni ng t he t ru th o f a n"
e qu al it ys en te nc ei ss im pl ya ma tt er of se ei ng th at th er ef er en ts of th et wo te rm sa re th es am e
o bj ec t .
"Th ee qu al it ys ym bo lc an be us ed to st at ef ac ts ab ou ta gi ve nf un ct io n ,a sw ej us td id fo r"
t he Fa th er s ym bo l . It ca na ls ob eu se dw it hn eg at io nt oi ns is tt ha tt wo te rm sa re no tt he sa me
"o bj ec t . To sa yt ha t Ri ch ar dh as at le as tt wo br ot he rs , w ew ou ld wr it e"
"∃x ,y Br ot he r(x ,Ri ch ar d)∧Br ot he r(y ,Ri ch ar d)∧¬(x=y)."
Th es en te nc e
"∃x ,y Br ot he r(x ,Ri ch ar d)∧Br ot he r(y ,Ri ch ar d)"
"d oe sn ot ha ve th ei nt en de dm ea ni ng . In pa rt ic ul ar , i ti st ru e i nt he mo de lo f Fi gu re 8.2,w he re"
"Ri ch ar dh as on ly on eb ro th er . To se et hi s ,c on si de rt he ex te nd ed i nt er pr et at io n i nw hi ch bo th"
x a nd y a re a ss ig ne d t o Ki ng Jo hn . Th e a dd it io n o f ¬(x=y) r ul es o ut s uc h m od el s . Th e
n ot at io n x (c id:7)= y i ss om et im es us ed as an ab br ev ia ti on f or¬(x=y).
8.2.8 An al te rn at iv es em an ti cs ?
"Co nt in ui ng t he e xa mp le f ro m t he p re vi ou s s ec ti on , s up po se t ha t w eb el ie ve t ha t Ri ch ar d h as"
"t wo br ot he rs , Jo hn an d Ge of fr ey .8 Ca nw ec ap tu re th is st at eo fa ff ai rs by as se rt in g"
"Br ot he r(Jo hn ,Ri ch ar d)∧Br ot he r(Ge of fr ey ,Ri ch ar d)? (8.3)"
"No t q ui te . Fi rs t , t hi s a ss er ti on i s t ru e i n a m od el w he re Ri ch ar d h as o nl y o ne b ro th er—"
"w e n ee d t o a dd Jo hn (c id:7)= Ge of fr ey . Se co nd , t he s en te nc e d oe sn’t r ul e o ut m od el s i n w hi ch"
"Ri ch ar d h as m an ym or e b ro th er s b es id es Jo hn a nd Ge of fr ey . Th us , t he co rr ec t t ra ns la ti on o f"
“Ri ch ar d’s b ro th er sa re Jo hn an d Ge of fr ey”i sa sf ol lo ws:
"Br ot he r(Jo hn ,Ri ch ar d)∧Br ot he r(Ge of fr ey ,Ri ch ar d)∧Jo hn (c id:7)= Ge of fr ey"
"∧∀x Br ot he r(x ,Ri ch ar d) ⇒ (x=Jo hn ∨x=Ge of fr ey)."
"Fo r m an y p ur po se s , t hi s s ee ms m uc h m or e c um be rs om e t ha n t he c or re sp on di ng n at ur al-"
"l an gu ag e e xp re ss io n . As a c on se qu en ce , h um an s m ay m ak e m is ta ke s i n t ra ns la ti ng t he ir"
"k no wl ed ge i nt o f ir st-o rd er l og ic , r es ul ti ng i n u ni nt ui ti ve b eh av io rs f ro m l og ic al r ea so ni ng"
s ys te ms t ha t u se t he k no wl ed ge . Ca n w e d ev is e a s em an ti cs t ha t a ll ow s a m or e s tr ai gh tf or-
w ar dl og ic al ex pr es si on ?
"On ep ro po sa lt ha ti sv er yp op ul ar in da ta ba se sy st em sw or ks as fo ll ow s . Fi rs t ,w ei ns is t"
t ha t e ve ry c on st an t s ym bo l r ef er t o a d is ti nc t o bj ec t—t he s o-c al le d u ni qu e-n am es a ss um p-
"UNIQUE-NAMES t io n . Se co nd , w e a ss um e t ha t a to mi c s en te nc es n ot k no wn t o b e t ru e a re i n f ac t f al se—t he"
ASSUMPTION
"CLOSED-WORLD c lo se d-w or ld a ss um pt io n . Fi na ll y , w e i nv ok e d om ai n c lo su re , m ea ni ng t ha t e ac h m od el"
ASSUMPTION
"DOMAINCLOSURE 8 Ac tu al ly he ha df ou r ,t he ot he rs be in g Wi ll ia ma nd He nr y ."
300 Ch ap te r 8. Fi rs t-Or de r Lo gi c
R J R J R J R J R J
R R R R . . . R
J J J J J
Fi gu re 8.5 So me me mb er so ft he se to fa ll mo de ls fo ra la ng ua ge wi th tw oc on st an ts ym-
"b ol s ,Ra nd J ,a nd on eb in ar yr el at io ns ym bo l ,u nd er da ta ba se se ma nt ic s . Th ei nt er pr et at io n"
"o ft he co ns ta nt sy mb ol si sf ix ed ,a nd th er ei sa di st in ct ob je ct fo re ac hc on st an ts ym bo l ."
c on ta in s n o m or e d om ai n e le me nt s t ha n t ho se n am ed b y t he c on st an t s ym bo ls . Un de r t he
"DATABASE r es ul ti ng s em an ti cs , w hi ch w e c al l d at ab as e s em an ti cs t o d is ti ng ui sh i t f ro m t he s ta nd ar d"
SEMANTICS
"s em an ti cs o f f ir st-o rd er l og ic , t he s en te nc e Eq ua ti on (8.3) d oe s i nd ee d s ta te t ha t Ri ch ar d’s"
t wo b ro th er s a re Jo hn a nd Ge of fr ey . Da ta ba se s em an ti cs i s a ls o u se d i n l og ic p ro gr am mi ng
"s ys te ms ,a se xp la in ed i n Se ct io n 9.4.5."
It i s i ns tr uc ti ve t o c on si de r t he s et o f a ll p os si bl e m od el s u nd er d at ab as e s em an ti cs f or
"t he s am e c as e a s s ho wn i n Fi gu re 8.4. Fi gu re 8.5 s ho ws s om e o f t he m od el s , r an gi ng f ro m"
t he m od el w it h n o t up le s s at is fy in g t he r el at io n t o t he m od el w it h a ll t up le s s at is fy in g t he
"r el at io n . Wi th t wo o bj ec ts , t he re a re f ou r p os si bl e t wo-e le me nt t up le s , s o t he re a re 24=16"
"d if fe re nt s ub se ts o ft up le s t ha t c an sa ti sf y t he re la ti on . Th us , t he re a re 16 p os si bl e m od el si n"
a ll—a lo tf ew er th an th ei nf in it el ym an ym od el sf or th es ta nd ar df ir st-o rd er se ma nt ic s . On th e
"o th er ha nd ,t he da ta ba se se ma nt ic s r eq ui re sd ef in it ek no wl ed ge of wh at th ew or ld co nt ai ns ."
Th is e xa mp le b ri ng s u p a n i mp or ta nt p oi nt: t he re i s n o o ne “c or re ct” s em an ti cs f or
l og ic . Th e u se fu ln es s o f a ny p ro po se d s em an ti cs d ep en ds o n h ow c on ci se a nd i nt ui ti ve i t
"m ak es t he e xp re ss io n o f t he k in ds o f k no wl ed ge w e w an t t o w ri te d ow n , a nd o n h ow e as y"
a nd na tu ra l i ti st od ev el op t he co rr es po nd in g r ul es o fi nf er en ce . Da ta ba se s em an ti cs i sm os t
u se fu l w he n w e a re c er ta in a bo ut t he i de nt it y o f a ll t he o bj ec ts d es cr ib ed i n t he k no wl ed ge
"b as e a nd w he nw eh av e a ll th e f ac ts a th an d ; i no th er c as es , i ti sq ui te a wk wa rd . Fo rt he r es t"
"o ft hi sc ha pt er ,w ea ss um et he st an da rd se ma nt ic sw hi le no ti ng in st an ce si nw hi ch th is ch oi ce"
l ea ds to cu mb er so me ex pr es si on s .
8.3 USING FIRST-ORDER LOGIC
"No wt ha tw eh av ed ef in ed an ex pr es si ve lo gi ca ll an gu ag e ,i ti st im et ol ea rn ho wt ou se it . Th e"
b es tw ay to do th is is th ro ug he xa mp le s . We ha ve se en so me si mp le se nt en ce si ll us tr at in g t he
"v ar io us as pe ct so fl og ic al sy nt ax ;i nt hi ss ec ti on , w ep ro vi de mo re sy st em at ic re pr es en ta ti on s"
"o f s om e s im pl e d om ai ns . In k no wl ed ge r ep re se nt at io n , a d om ai n i s j us t s om e p ar t o f t he"
DOMAIN
w or ld ab ou tw hi ch we wi sh to ex pr es ss om ek no wl ed ge .
We be gi n w it ha br ie fd es cr ip ti on o ft he TELL/ASK i nt er fa ce f or fi rs t-o rd er kn ow le dg e
"b as es . Th en w e l oo k a t t he d om ai ns o f f am il y r el at io ns hi ps , n um be rs , s et s , a nd l is ts , a nd a t"
Se ct io n 8.3. Us in g Fi rs t-Or de r Lo gi c 301
t he wu mp us wo rl d . Th en ex ts ec ti on co nt ai ns am or es ub st an ti al ex am pl e(e le ct ro ni cc ir cu it s)
a nd Ch ap te r 12 c ov er se ve ry th in g i nt he un iv er se .
8.3.1 As se rt io ns a nd qu er ie s i nf ir st-o rd er l og ic
"Se nt en ce sa re ad de dt oa kn ow le dg eb as eu si ng TELL ,e xa ct ly as in pr op os it io na l l og ic . Su ch"
"s en te nc es a re c al le d a ss er ti on s . Fo re xa mp le , w ec an a ss er t t ha t Jo hn i s a ki ng , Ri ch ar d i s a"
ASSERTION
"p er so n , a nd al lk in gs ar ep er so ns:"
"TELL(KB , Ki ng(Jo hn))."
"TELL(KB , Pe rs on(Ri ch ar d))."
"TELL(KB , ∀x Ki ng(x) ⇒ Pe rs on(x))."
"We ca na sk qu es ti on s o ft he kn ow le dg eb as eu si ng ASK . Fo re xa mp le ,"
"ASK(KB , Ki ng(Jo hn))"
QUERY
"r et ur ns tr ue . Qu es ti on sa sk ed wi th ASKa re ca ll ed qu er ie so rg oa ls . Ge ne ra ll ys pe ak in g ,a ny"
q ue ry t ha ti sl og ic al ly e nt ai le d b yt he kn ow le dg e b as es ho ul d b ea ns we re d a ff ir ma ti ve ly . Fo r
GOAL
"e xa mp le ,g iv en th et wo pr ec ed in g a ss er ti on s , t he qu er y"
"ASK(KB , Pe rs on(Jo hn))"
"s ho ul da ls or et ur n t ru e . We ca na sk qu an ti fi ed qu er ie s , s uc ha s"
"ASK(KB , ∃x Pe rs on(x))."
"Th e a ns we r i s t ru e , b ut t hi s i s p er ha ps n ot a s h el pf ul a s w e w ou ld l ik e . It i s r at he r l ik e"
a ns we ri ng “Ca n y ou t el l m e t he t im e ?” w it h “Ye s .” If w e w an t t o k no w w ha t v al ue o f x
"m ak es th es en te nc e t ru e ,w ew il ln ee da di ff er en tf un ct io n , ASKVARS ,w hi ch we ca ll wi th"
"ASKVARS(KB ,Pe rs on(x))"
a nd wh ic hy ie ld sa st re am o fa ns we rs . In th is ca se th er ew il lb et wo an sw er s: {x/Jo hn}a nd
SUBSTITUTION
{x/Ri ch ar d}. Su ch an an sw er is ca ll ed as ub st it ut io no rb in di ng li st . ASKVARS i su su al ly
"r es er ve d f or kn ow le dg e b as es c on si st in g s ol el y o f Ho rn c la us es , b ec au se i n s uc h k no wl ed ge"
BINDINGLIST
b as es e ve ry w ay o f m ak in g t he q ue ry t ru e w il l b in d t he v ar ia bl es t o s pe ci fi c v al ue s . Th at i s
"n ot th ec as ew it hf ir st-o rd er lo gi c ; i f KB h as be en to ld Ki ng(Jo hn)∨Ki ng(Ri ch ar d),t he n"
"t he re is no bi nd in g t ox fo rt he qu er y ∃x Ki ng(x),e ve nt ho ug ht he qu er yi st ru e ."
8.3.2 Th e k in sh ip do ma in
"Th ef ir st ex am pl ew ec on si de ri st he do ma in of fa mi ly re la ti on sh ip s , o rk in sh ip . Th is do ma in"
i nc lu de s f ac ts s uc h a s “El iz ab et h i s t he m ot he r o f Ch ar le s” a nd “Ch ar le s i s t he f at he r o f
Wi ll ia m”a nd ru le ss uc ha s“On e’s gr an dm ot he ri st he mo th er of on e’s pa re nt .”
"Cl ea rl y ,t he ob je ct si no ur do ma in ar ep eo pl e . We ha ve tw ou na ry pr ed ic at es , Ma le a nd"
"Fe ma le . Ki ns hi p r el at io ns—p ar en th oo d , b ro th er ho od , m ar ri ag e , a nd so on—a re re pr es en te d"
"b y b in ar y p re di ca te s: Pa re nt , Si bl in g , Br ot he r , Si st er , Ch il d , Da ug ht er , So n , Sp ou se ,"
"Wi fe , Hu sb an d , Gr an dp ar en t , Gr an dc hi ld , Co us in , Au nt , a nd Un cl e . We u se f un ct io ns"
"f or Mo th er a nd Fa th er , b ec au se e ve ry p er so n h as e xa ct ly o ne o f e ac h o f t he se (a t l ea st"
a cc or di ng t on at ur e’s de si gn).
302 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"We c an g o t hr ou gh e ac h f un ct io n a nd p re di ca te , w ri ti ng d ow n w ha t w e k no w i n t er ms"
"o ft he ot he rs ym bo ls . Fo re xa mp le , o ne’s mo th er is on e’s fe ma le pa re nt:"
"∀m ,c Mo th er(c)=m ⇔ Fe ma le(m)∧Pa re nt(m ,c)."
On e’s hu sb an d i so ne’s ma le sp ou se:
"∀w ,h Hu sb an d(h ,w) ⇔ Ma le(h)∧Sp ou se(h ,w)."
Ma le an df em al ea re di sj oi nt c at eg or ie s:
∀x Ma le(x) ⇔ ¬Fe ma le(x).
Pa re nt an dc hi ld ar ei nv er se re la ti on s:
"∀p ,c Pa re nt(p ,c) ⇔ Ch il d(c ,p)."
Ag ra nd pa re nt i sa pa re nt of on e’s pa re nt:
"∀g ,c Gr an dp ar en t(g ,c) ⇔ ∃p Pa re nt(g ,p)∧Pa re nt(p ,c)."
As ib li ng i sa no th er ch il do fo ne’s pa re nt s:
"∀x ,y Si bl in g(x ,y) ⇔ x (c id:7)= y∧∃p Pa re nt(p ,x)∧Pa re nt(p ,y)."
"We co ul dg oo nf or se ve ra lm or ep ag es li ke th is ,a nd Ex er ci se 8.14 a sk sy ou to do ju st th at ."
"Ea ch of th es es en te nc es ca nb ev ie we da sa na xi om of th ek in sh ip do ma in ,a se xp la in ed"
i n Se ct io n 7.1. Ax io ms a re c om mo nl y a ss oc ia te d w it h p ur el y m at he ma ti ca l d om ai ns—w e
w il ls ee so me ax io ms fo rn um be rs sh or tl y—b ut th ey ar en ee de d i na ll do ma in s . Th ey pr ov id e
t he b as ic f ac tu al i nf or ma ti on f ro m w hi ch u se fu l c on cl us io ns c an b e d er iv ed . Ou r k in sh ip
"a xi om s a re a ls o d ef in it io ns ; t he y h av e t he fo rm ∀x ,y P(x ,y) ⇔ .... Th ea xi om s d ef in e"
DEFINITION
"t he Mo th er f un ct io na nd th e Hu sb an d ,Ma le ,Pa re nt ,Gr an dp ar en t ,a nd Si bl in g p re di ca te s"
"i nt er ms of ot he rp re di ca te s . Ou rd ef in it io ns “b ot to m o ut”a t a ba si cs et of pr ed ic at es (Ch il d ,"
"Sp ou se , a nd Fe ma le) i n t er ms o f w hi ch t he o th er s a re u lt im at el y d ef in ed . Th is i s a n at ur al"
"w ay i n w hi ch t o b ui ld u p t he r ep re se nt at io n o f a d om ai n , a nd i t i s a na lo go us t o t he w ay i n"
w hi ch so ft wa re pa ck ag es a re bu il tu pb ys uc ce ss iv e d ef in it io ns o fs ub ro ut in es f ro mp ri mi ti ve
l ib ra ry f un ct io ns . No ti ce t ha t t he re i s n ot n ec es sa ri ly a u ni qu e s et o f p ri mi ti ve p re di ca te s ;
"w ec ou ld e qu al ly w el lh av e u se d Pa re nt ,Sp ou se ,a nd Ma le . In so me do ma in s , a sw es ho w ,"
t he re is no cl ea rl y i de nt if ia bl eb as ic se t .
"No ta ll lo gi ca ls en te nc es ab ou ta do ma in ar ea xi om s . So me ar et he or em s—t ha ti s ,t he y"
THEOREM
"a re en ta il ed by th ea xi om s . Fo re xa mp le ,c on si de rt he as se rt io nt ha ts ib li ng ho od is sy mm et ri c:"
"∀x ,y Si bl in g(x ,y) ⇔ Si bl in g(y ,x)."
"Is t hi s a n a xi om o ra t he or em ? In f ac t , i t i s a t he or em t ha t f ol lo ws l og ic al ly f ro m t he a xi om"
"t ha td ef in es si bl in gh oo d . If we ASK t he kn ow le dg e b as et hi ss en te nc e , i ts ho ul dr et ur n t ru e ."
"Fr om a p ur el y l og ic al p oi nt o f v ie w , a k no wl ed ge b as e n ee d c on ta in o nl y a xi om s a nd"
"n o t he or em s , b ec au se t he t he or em s d o n ot i nc re as e t he s et o f c on cl us io ns t ha t f ol lo w f ro m"
"t he k no wl ed ge b as e . Fr om a p ra ct ic al p oi nt o f v ie w , t he or em s a re e ss en ti al t o r ed uc e t he"
"c om pu ta ti on al c os to fd er iv in g n ew se nt en ce s . Wi th ou t t he m ,a re as on in g s ys te m h as to st ar t"
"f ro mf ir st pr in ci pl es ev er yt im e ,r at he rl ik ea ph ys ic is th av in gt or ed er iv et he ru le so fc al cu lu s"
f or ev er yn ew pr ob le m .
Se ct io n 8.3. Us in g Fi rs t-Or de r Lo gi c 303
No t a ll a xi om s a re d ef in it io ns . So me p ro vi de m or e g en er al i nf or ma ti on a bo ut c er ta in
"p re di ca te s w it ho ut c on st it ut in g a d ef in it io n . In de ed , s om e p re di ca te s h av e n o c om pl et e d ef i-"
"n it io n b ec au se w e d o n ot k no w e no ug h t o c ha ra ct er iz e t he m f ul ly . Fo r e xa mp le , t he re i s n o"
o bv io us de fi ni ti ve wa yt oc om pl et et he se nt en ce
∀x Pe rs on(x) ⇔ ...
"Fo rt un at el y , f ir st-o rd er l og ic a ll ow s u s t o m ak e u se o f t he Pe rs on p re di ca te w it ho ut c om-"
"p le te ly de fi ni ng it . In st ea d , w ec an wr it ep ar ti al sp ec if ic at io ns o fp ro pe rt ie s t ha te ve ry pe rs on"
h as an dp ro pe rt ie s t ha tm ak es om et hi ng a pe rs on:
∀x Pe rs on(x) ⇒ ...
∀x ... ⇒ Pe rs on(x).
"Ax io ms c an a ls o b e “j us t p la in f ac ts ,” s uc h a s Ma le(Ji m) a nd Sp ou se(Ji m ,La ur a)."
"Su ch f ac ts f or m t he d es cr ip ti on s o f s pe ci fi c p ro bl em i ns ta nc es , e na bl in g s pe ci fi c q ue st io ns"
t o b e a ns we re d . Th e a ns we rs t o t he se q ue st io ns w il l t he n b e t he or em s t ha t f ol lo w f ro m
"t he a xi om s . Of te n , o ne f in ds t ha t t he e xp ec te d a ns we rs a re n ot f or th co mi ng—f or e xa mp le ,"
"f ro m Sp ou se(Ji m ,La ur a)o ne ex pe ct s(u nd er th el aw so fm an yc ou nt ri es)t ob ea bl et oi nf er"
"¬Sp ou se(Ge or ge ,La ur a);b ut th is do es no tf ol lo wf ro mt he ax io ms gi ve ne ar li er—e ve na ft er"
w ea dd Ji m (c id:7)= Ge or ge a ss ug ge st ed i n Se ct io n 8.2.8. Th is is as ig nt ha ta na xi om is mi ss in g .
Ex er ci se 8.8 a sk st he re ad er to su pp ly it .
"8.3.3 Nu mb er s , s et s ,a nd l is ts"
Nu mb er s a re p er ha ps t he m os t v iv id e xa mp le o f h ow a l ar ge t he or y c an b e b ui lt u p f ro m
a t in y k er ne l o f a xi om s . We d es cr ib e h er e t he t he or y o f n at ur al n um be rs o r n on-n eg at iv e
NATURALNUMBERS
i nt eg er s . We n ee d a p re di ca te Na t Nu m t ha t w il l b e t ru e o f n at ur al n um be rs ; w e n ee d o ne
"c on st an t s ym bo l , 0; a nd w e n ee d o ne f un ct io n s ym bo l , S (s uc ce ss or). Th e Pe an o a xi om s"
PEANOAXIOMS
d ef in en at ur al nu mb er sa nd ad di ti on .9 Na tu ra ln um be rs ar ed ef in ed re cu rs iv el y:
Na t Nu m(0).
∀n Na t Nu m(n) ⇒ Na t Nu m(S(n)).
"Th at i s , 0 i s a n at ur al n um be r , a nd f or e ve ry o bj ec t n , i f n i s a n at ur al n um be r , t he n S(n) i s"
"a n at ur al n um be r . So t he n at ur al n um be rs a re 0, S(0), S(S(0)), a nd s o o n . (Af te r r ea di ng"
"Se ct io n 8.2.8, y ou w il l n ot ic e t ha t t he se a xi om s a ll ow f or o th er n at ur al n um be rs b es id es t he"
u su al on es ;s ee Ex er ci se 8.12.) We al so ne ed ax io ms to co ns tr ai n t he su cc es so rf un ct io n:
∀n 0 (c id:7)= S(n).
"∀m ,n m (c id:7)= n ⇒ S(m)(c id:7)= S(n)."
No ww ec an de fi ne ad di ti on in te rm so ft he su cc es so rf un ct io n:
"∀m Na t Nu m(m) ⇒ +(0,m) = m ."
"∀m ,n Na t Nu m(m)∧Na t Nu m(n) ⇒ +(S(m),n) = S(+(m ,n))."
Th e f ir st o f t he se a xi om s s ay s t ha t a dd in g 0 t o a ny n at ur al n um be r m g iv es m i ts el f . No ti ce
"t he us eo ft he bi na ry fu nc ti on sy mb ol“+”i nt he te rm+(m ,0);i no rd in ar y m at he ma ti cs , t he"
t er mw ou ld be wr it te n m+0 u si ng in fi xn ot at io n . (Th en ot at io nw eh av eu se df or fi rs t-o rd er
INFIX
"9 Th e Pe an o a xi om sa ls o i nc lu de t he pr in ci pl e o f i nd uc ti on , w hi ch is a s en te nc e o f s ec on d-o rd er l og ic r at he r"
t ha no ff ir st-o rd er lo gi c .Th ei mp or ta nc eo ft hi sd is ti nc ti on is ex pl ai ne di n Ch ap te r 9.
304 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"l og ic is ca ll ed pr ef ix .) To ma ke ou rs en te nc es ab ou tn um be rs ea si er to re ad ,w ea ll ow th eu se"
PREFIX
"o fi nf ix no ta ti on . We ca na ls ow ri te S(n)a sn+1,s ot he se co nd a xi om be co me s"
"∀m ,n Na t Nu m(m)∧Na t Nu m(n) ⇒ (m+1)+n = (m+n)+1."
Th is ax io mr ed uc es a dd it io nt or ep ea te d a pp li ca ti on o ft he su cc es so rf un ct io n .
"Th e u se o f i nf ix n ot at io n i s a n e xa mp le o f s yn ta ct ic s ug ar , t ha t i s , a n e xt en si on t o o r"
SYNTACTICSUGAR
a bb re vi at io n o f t he s ta nd ar d s yn ta x t ha t d oe s n ot c ha ng e t he s em an ti cs . An y s en te nc e t ha t
u se ss ug ar ca nb e“d es ug ar ed”t op ro du ce an eq ui va le nt se nt en ce in or di na ry fi rs t-o rd er lo gi c .
"On ce w e h av e a dd it io n , i t i s s tr ai gh tf or wa rd t o d ef in e m ul ti pl ic at io n a s r ep ea te d a dd i-"
"t io n , e xp on en ti at io n a sr ep ea te d m ul ti pl ic at io n , i nt eg er d iv is io n a nd r em ai nd er s , p ri me nu m-"
"b er s , a nd s o o n . Th us , t he w ho le o f n um be rt he or y (i nc lu di ng c ry pt og ra ph y) c an b e b ui lt u p"
"f ro mo ne co ns ta nt , o ne fu nc ti on , o ne pr ed ic at e a nd fo ur ax io ms ."
Th e d om ai n o f s et s i s a ls o f un da me nt al t o m at he ma ti cs a s w el l a s t o c om mo ns en se
SET
"r ea so ni ng . (In fa ct , i ti sp os si bl e t od ef in en um be rt he or y i n t er ms of se tt he or y .) We wa nt to"
"b ea bl e t or ep re se nt i nd iv id ua l s et s , i nc lu di ng t he e mp ty s et . We ne ed a wa yt ob ui ld u p s et s"
b y a dd in g a n e le me nt t o a s et o r t ak in g t he u ni on o r i nt er se ct io n o f t wo s et s . We w il l w an t
t o k no w w he th er a n e le me nt i s a m em be r o f a s et a nd w e w il l w an t t o d is ti ng ui sh s et s f ro m
o bj ec ts th at ar en ot se ts .
We wi ll us e t he n or ma l v oc ab ul ar y o f s et t he or y a s s yn ta ct ic s ug ar . Th e e mp ty s et i s a
"c on st an t w ri tt en a s {}. Th er e i s o ne u na ry p re di ca te , Se t , w hi ch i s t ru e o f s et s . Th e b in ar y"
"p re di ca te s a re x∈s (x i s a m em be ro f s et s)a nd s ⊆ s (s et s i s a s ub se t , n ot n ec es sa ri ly"
1 2 1
"p ro pe r , o f s et s ). Th e b in ar y f un ct io ns a re s ∩s (t he i nt er se ct io n o f t wo s et s), s ∪s"
2 1 2 1 2
"(t he u ni on o f t wo s et s), a nd {x|s} (t he s et r es ul ti ng f ro m a dj oi ni ng e le me nt x t o s et s). On e"
p os si bl e s et of ax io ms is as fo ll ow s:
1. Th eo nl ys et sa re th ee mp ty se ta nd th os em ad eb ya dj oi ni ng s om et hi ng t oa se t:
"∀s Se t(s) ⇔ (s={})∨(∃x ,s Se t(s )∧s={x|s })."
2 2 2
"2. Th e e mp ty s et h as n o e le me nt s a dj oi ne d i nt o i t . In o th er w or ds , t he re i s n o w ay t o"
d ec om po se{}i nt oa sm al le rs et an da ne le me nt:
"¬∃x ,s {x|s}={}."
3. Ad jo in in ga ne le me nt al re ad yi nt he se th as no ef fe ct:
"∀x ,s x∈s ⇔ s={x|s}."
4. Th e o nl y m em be rs o f a s et a re t he e le me nt s t ha t w er e a dj oi ne d i nt o i t . We e xp re ss
"t hi s r ec ur si ve ly , s ay in g t ha t x i s a m em be r o f s i f a nd o nl y i f s i s e qu al t o s om e s et s"
2
"a dj oi ne dw it hs om ee le me nt y ,w he re ei th er y i st he sa me as xo rx is am em be ro fs :"
2
"∀x ,s x∈s ⇔ ∃y ,s (s={y|s }∧(x=y∨x∈s ))."
2 2 2
5. As et is as ub se t o fa no th er se ti fa nd on ly i fa ll of th ef ir st se t’s m em be rs ar em em be rs
o ft he se co nd se t:
"∀s ,s s ⊆ s ⇔ (∀x x∈s ⇒ x∈s )."
1 2 1 2 1 2
6. Tw os et sa re eq ua li fa nd on ly if ea ch is as ub se to ft he ot he r:
"∀s ,s (s =s ) ⇔ (s ⊆ s ∧s ⊆ s )."
1 2 1 2 1 2 2 1
Se ct io n 8.3. Us in g Fi rs t-Or de r Lo gi c 305
7. An ob je ct is in th ei nt er se ct io n o ft wo se ts if an do nl yi fi ti sa me mb er of bo th se ts:
"∀x ,s ,s x∈(s ∩s ) ⇔ (x∈s ∧x∈s )."
1 2 1 2 1 2
8. An ob je ct is in th eu ni on of tw os et si fa nd on ly if it is am em be ro fe it he rs et:
"∀x ,s ,s x∈(s ∪s ) ⇔ (x∈s ∨x∈s )."
1 2 1 2 1 2
Li st s a re s im il ar t o s et s . Th e d if fe re nc es a re t ha t l is ts a re o rd er ed a nd t he s am e e le me nt c an
LIST
a pp ea rm or et ha no nc ei na li st . We ca nu se th ev oc ab ul ar yo f Li sp fo rl is ts: Ni l i st he co ns ta nt
"l is t w it h n o e le me nt s ; Co ns , Ap pe nd , Fi rs t , a nd Re st a re f un ct io ns ; a nd Fi nd i s t he p re d-"
i ca te t ha t d oe s f or l is ts w ha t Me mb er d oe s f or s et s . Li st ? i s a p re di ca te t ha t i s t ru e o nl y o f
"l is ts . As wi th se ts ,i ti sc om mo nt ou se sy nt ac ti cs ug ar in lo gi ca ls en te nc es in vo lv in gl is ts . Th e"
"e mp ty l is t i s[]. Th et er m Co ns(x ,y), w he re y i sa no ne mp ty l is t , i sw ri tt en [x|y]. Th et er m"
"Co ns(x ,Ni l) (i .e ., t he l is t c on ta in in g t he e le me nt x) i s w ri tt en a s [x]. A l is t o f s ev er al e le-"
"m en ts ,s uc ha s[A ,B ,C],c or re sp on ds to th en es te dt er m Co ns(A ,Co ns(B ,Co ns(C ,Ni l)))."
Ex er ci se 8.16 a sk sy ou to wr it eo ut th ea xi om sf or li st s .
8.3.4 Th e w um pu s w or ld
So me p ro po si ti on al l og ic a xi om s f or t he w um pu s w or ld w er e g iv en i n Ch ap te r 7. Th e f ir st-
"o rd er ax io ms i nt hi s s ec ti on a re mu ch m or ec on ci se , c ap tu ri ng i na na tu ra l w ay ex ac tl y w ha t"
w ew an tt os ay .
Re ca ll t ha t t he w um pu s a ge nt r ec ei ve s a p er ce pt v ec to r w it h f iv ee le me nt s . Th e c or re-
s po nd in gf ir st-o rd er se nt en ce st or ed in th ek no wl ed ge ba se mu st in cl ud eb ot ht he pe rc ep ta nd
"t he ti me at wh ic hi to cc ur re d ; o th er wi se ,t he ag en tw il lg et co nf us ed a bo ut wh en it sa ww ha t ."
We us ei nt eg er sf or ti me st ep s . At yp ic al pe rc ep ts en te nc e w ou ld be
"Pe rc ep t([St en ch ,Br ee ze ,Gl it te r ,No ne ,No ne],5)."
"He re ,Pe rc ep t i sa bi na ry p re di ca te , a nd St en ch a nd so on ar ec on st an ts p la ce di na li st . Th e"
a ct io ns in th ew um pu sw or ld ca nb er ep re se nt ed b yl og ic al te rm s:
"Tu rn(Ri gh t), Tu rn(Le ft), Fo rw ar d , Sh oo t , Gr ab , Cl im b ."
"To de te rm in e w hi ch is be st ,t he ag en tp ro gr am e xe cu te st he qu er y"
"ASKVARS(∃a Be st Ac ti on(a ,5)),"
w hi ch r et ur ns a b in di ng l is t s uc h a s {a/Gr ab}. Th e a ge nt p ro gr am c an t he n r et ur n Gr ab a s
t he a ct io n t o t ak e . Th e r aw p er ce pt d at a i mp li es c er ta in f ac ts a bo ut t he c ur re nt s ta te . Fo r
e xa mp le:
"∀t ,s ,g ,m ,c Pe rc ep t([s ,Br ee ze ,g ,m ,c],t) ⇒ Br ee ze(t),"
"∀t ,s ,b ,m ,c Pe rc ep t([s ,b ,Gl it te r ,m ,c],t) ⇒ Gl it te r(t),"
"a nd so on . Th es er ul es ex hi bi ta tr iv ia lf or mo ft he re as on in g p ro ce ss ca ll ed pe rc ep ti on ,w hi ch"
"w es tu dy in de pt hi n Ch ap te r 24. No ti ce th eq ua nt if ic at io no ve rt im et . In pr op os it io na ll og ic ,"
w ew ou ld ne ed co pi es of ea ch se nt en ce f or ea ch ti me st ep .
Si mp le“r ef le x”b eh av io rc an al so be im pl em en te d b yq ua nt if ie di mp li ca ti on s en te nc es .
"Fo re xa mp le ,w eh av e"
"∀t Gl it te r(t) ⇒ Be st Ac ti on(Gr ab ,t)."
306 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"Gi ve nt he pe rc ep ta nd ru le sf ro mt he pr ec ed in g p ar ag ra ph s , t hi sw ou ld yi el dt he de si re dc on-"
"c lu si on Be st Ac ti on(Gr ab ,5)—t ha t i s ,Gr ab i st he ri gh tt hi ng to do ."
We h av e r ep re se nt ed t he a ge nt’s i np ut s a nd o ut pu ts ; n ow i t i s t im e t o r ep re se nt t he
"e nv ir on me nt i ts el f . Le t u s b eg in w it h o bj ec ts . Ob vi ou s c an di da te s a re s qu ar es , p it s , a nd t he"
w um pu s . We co ul dn am ee ac hs qu ar e—Sq ua re a nd so on—b ut th en th ef ac tt ha t Sq ua re
"1,2 1,2"
"a nd Sq ua re a re a dj ac en t w ou ld h av e t o b e a n “e xt ra” f ac t , a nd w e w ou ld n ee d o ne s uc h"
"1,3"
f ac tf or ea ch p ai ro fs qu ar es . It is be tt er to us ea co mp le x t er m i nw hi ch t he ro wa nd co lu mn
"a pp ea ra si nt eg er s ; f or ex am pl e ,w ec an si mp ly us et he li st te rm [1,2]. Ad ja ce nc yo fa ny tw o"
s qu ar es ca nb ed ef in ed as
"∀x ,y ,a ,b Ad ja ce nt([x ,y],[a ,b]) ⇔"
(x = a∧(y = b−1∨y = b+1))∨(y = b∧(x = a−1∨x = a+1)).
"We c ou ld n am e e ac h p it , b ut t hi s w ou ld b e i na pp ro pr ia te f or a d if fe re nt r ea so n: t he re i s n o"
r ea so n t o d is ti ng ui sh a mo ng p it s .10 It i s s im pl er t o u se a u na ry p re di ca te Pi t t ha t i s t ru e o f
"s qu ar es c on ta in in g p it s . Fi na ll y , s in ce t he re i s e xa ct ly o ne w um pu s , a c on st an t Wu mp us i s"
j us ta sg oo da sa un ar yp re di ca te(a nd pe rh ap sm or ed ig ni fi ed fr om th ew um pu s’s vi ew po in t).
"Th e a ge nt’s l oc at io n c ha ng es o ve r t im e , s o w e w ri te At(Ag en t ,s ,t) t o m ea n t ha t t he"
"a ge nt is at sq ua re sa tt im et . We ca nf ix th ew um pu s’s lo ca ti on wi th∀t At(Wu mp us ,[2,2],t)."
We ca nt he ns ay th at ob je ct sc an on ly be at on el oc at io n a ta ti me:
"∀x ,s ,s ,t At(x ,s ,t)∧At(x ,s ,t) ⇒ s =s ."
1 2 1 2 1 2
"Gi ve n i ts c ur re nt l oc at io n , t he a ge nt c an i nf er p ro pe rt ie s o f t he s qu ar e f ro m p ro pe rt ie s o f i ts"
"c ur re nt p er ce pt . Fo r e xa mp le , i f t he a ge nt i s a t a s qu ar e a nd p er ce iv es a b re ez e , t he n t ha t"
s qu ar ei sb re ez y:
"∀s ,t At(Ag en t ,s ,t)∧Br ee ze(t) ⇒ Br ee zy(s)."
It is us ef ul to kn ow th at as qu ar ei sb re ez yb ec au se we kn ow th at th ep it sc an no tm ov ea bo ut .
No ti ce th at Br ee zy h as no ti me ar gu me nt .
"Ha vi ng di sc ov er ed w hi ch pl ac es ar eb re ez y(o rs me ll y)a nd ,v er yi mp or ta nt , n ot br ee zy"
"(o rn ot sm el ly),t he ag en tc an de du ce wh er et he pi ts ar e(a nd wh er et he wu mp us is). Wh er ea s"
p ro po si ti on al lo gi cn ec es si ta te sa se pa ra te ax io mf or ea ch sq ua re(s ee R a nd R o np ag e 247)
2 3
"a nd wo ul dn ee da di ff er en ts et of ax io ms fo re ac hg eo gr ap hi ca ll ay ou to ft he wo rl d ,f ir st-o rd er"
l og ic ju st ne ed so ne ax io m:
"∀s Br ee zy(s) ⇔ ∃r Ad ja ce nt(r ,s)∧Pi t(r). (8.4)"
"Si mi la rl y , i n f ir st-o rd er l og ic w ec an q ua nt if y o ve rt im e , s o w en ee d j us t o ne s uc ce ss or-s ta te"
"a xi om f or e ac h p re di ca te , r at he r t ha n a d if fe re nt c op y f or e ac h t im e s te p . Fo r e xa mp le , t he"
a xi om fo rt he ar ro w(Eq ua ti on(7.2)o np ag e 267)b ec om es
"∀t Ha ve Ar ro w(t+1) ⇔ (Ha ve Ar ro w(t)∧¬Ac ti on(Sh oo t ,t))."
"Fr om t he se t wo e xa mp le s en te nc es , w e c an s ee t ha t t he f ir st-o rd er l og ic f or mu la ti on i s n o"
l es s c on ci se t ha n t he o ri gi na l En gl is h-l an gu ag e d es cr ip ti on g iv en i n Ch ap te r 7. Th e r ea de r
"10 Si mi la rl y ,m os to fu sd on ot na me ea ch bi rd th at fl ie so ve rh ea da si tm ig ra te st ow ar me rr eg io ns in wi nt er . An"
"o rn it ho lo gi st wi sh in gt os tu dy mi gr at io np at te rn s ,s ur vi va lr at es ,a nd so on do es na me ea ch bi rd ,b ym ea ns of a"
"r in go ni ts le g ,b ec au se in di vi du al bi rd sm us tb et ra ck ed ."
Se ct io n 8.4. Kn ow le dg e En gi ne er in g i n Fi rs t-Or de r Lo gi c 307
i s i nv it ed t o c on st ru ct a na lo go us a xi om s f or t he a ge nt’s l oc at io n a nd o ri en ta ti on ; i n t he se
"c as es , t he a xi om s q ua nt if y o ve r b ot h s pa ce a nd t im e . As i n t he c as e o f p ro po si ti on al s ta te"
"e st im at io n ,a na ge nt ca nu se lo gi ca li nf er en ce wi th ax io ms of th is ki nd to ke ep tr ac ko fa sp ec ts"
o ft he wo rl dt ha ta re no td ir ec tl yo bs er ve d . Ch ap te r 10 g oe si nt om or ed ep th on th es ub je ct of
f ir st-o rd er su cc es so r-s ta te a xi om sa nd th ei ru se sf or co ns tr uc ti ng p la ns .
8.4 KNOWLEDGE ENGINEERING IN FIRST-ORDER LOGIC
Th e p re ce di ng s ec ti on i ll us tr at ed t he u se o f f ir st-o rd er l og ic t o r ep re se nt k no wl ed ge i n t hr ee
s im pl ed om ai ns . Th is se ct io nd es cr ib es th eg en er al pr oc es so fk no wl ed ge-b as ec on st ru ct io n—
KNOWLEDGE a pr oc es sc al le dk no wl ed ge en gi ne er in g . Ak no wl ed ge en gi ne er is so me on ew ho in ve st ig at es
ENGINEERING
"a pa rt ic ul ar d om ai n , l ea rn s w ha tc on ce pt s a re im po rt an t i nt ha td om ai n , a nd cr ea te s a fo rm al"
r ep re se nt at io n o f t he o bj ec ts a nd r el at io ns i n t he d om ai n . We i ll us tr at e t he k no wl ed ge e ng i-
"n ee ri ng p ro ce ss i n a ne le ct ro ni c c ir cu it d om ai n t ha t s ho ul d a lr ea dy b ef ai rl y f am il ia r , s o t ha t"
w ec an co nc en tr at e o nt he re pr es en ta ti on al i ss ue s i nv ol ve d . Th ea pp ro ac h w et ak ei ss ui ta bl e
f or d ev el op in g s pe ci al-p ur po se k no wl ed ge b as es w ho se d om ai n i s c ar ef ul ly c ir cu ms cr ib ed
"a nd w ho se r an ge o f q ue ri es i s k no wn i n a dv an ce . Ge ne ra l-p ur po se k no wl ed ge b as es , w hi ch"
c ov er a b ro ad r an ge o f h um an k no wl ed ge a nd a re i nt en de d t o s up po rt t as ks s uc h a s n at ur al
"l an gu ag e u nd er st an di ng , a re di sc us se d i n Ch ap te r 12."
8.4.1 Th e k no wl ed ge-e ng in ee ri ng p ro ce ss
"Kn ow le dg e e ng in ee ri ng p ro je ct s v ar y w id el y i n c on te nt , s co pe , a nd d if fi cu lt y , b ut a ll s uc h"
p ro je ct s i nc lu de th ef ol lo wi ng st ep s:
1. Id en ti fy t he t as k . Th e k no wl ed ge e ng in ee r m us t d el in ea te t he r an ge o f q ue st io ns t ha t
t he k no wl ed ge b as e w il l s up po rt a nd t he k in ds o f f ac ts t ha t w il l b e a va il ab le f or e ac h
"s pe ci fi c p ro bl em i ns ta nc e . Fo re xa mp le , d oe s t he w um pu s k no wl ed ge b as e n ee d t o b e"
a bl e t o c ho os e a ct io ns o r i s i t r eq ui re d t o a ns we r q ue st io ns o nl y a bo ut t he c on te nt s
o f t he e nv ir on me nt ? Wi ll t he s en so r f ac ts i nc lu de t he c ur re nt l oc at io n ? Th e t as k w il l
d et er mi ne wh at kn ow le dg em us tb er ep re se nt ed in or de rt oc on ne ct pr ob le mi ns ta nc es to
a ns we rs . Th is st ep is an al og ou st ot he PEASp ro ce ss fo rd es ig ni ng a ge nt si n Ch ap te r 2.
2. As se mb le th er el ev an t k no wl ed ge . Th ek no wl ed ge e ng in ee r m ig ht a lr ea dy b ea ne xp er t
"i n t he d om ai n , o r m ig ht n ee d t o w or k w it h r ea l e xp er ts t o e xt ra ct w ha t t he y k no w—a"
"KNOWLEDGE p ro ce ss c al le d k no wl ed ge ac qu is it io n . At th is st ag e , t he kn ow le dg e i sn ot re pr es en te d"
ACQUISITION
"f or ma ll y . Th ei de ai st ou nd er st an d t he sc op e o ft he kn ow le dg e b as e , a sd et er mi ne d b y"
"t he ta sk ,a nd to un de rs ta nd h ow th ed om ai na ct ua ll yw or ks ."
"Fo r t he w um pu s w or ld , w hi ch i s d ef in ed b y a n a rt if ic ia l s et o f r ul es , t he r el ev an t"
"k no wl ed ge i s e as y t o i de nt if y . (No ti ce , h ow ev er , t ha t t he d ef in it io n o f a dj ac en cy w as"
"n ot s up pl ie d e xp li ci tl y i n t he w um pu s-w or ld r ul es .) Fo r r ea l d om ai ns , t he i ss ue o f"
"r el ev an ce c an b e q ui te d if fi cu lt—f or e xa mp le , a s ys te m f or s im ul at in g VLSI d es ig ns"
m ig ht or mi gh tn ot ne ed to ta ke in to ac co un ts tr ay ca pa ci ta nc es a nd sk in ef fe ct s .
308 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"3. De ci de o n a v oc ab ul ar y o f p re di ca te s , f un ct io ns , a nd c on st an ts . Th at i s , t ra ns la te t he"
i mp or ta nt d om ai n-l ev el c on ce pt s i nt ol og ic-l ev el n am es . Th is in vo lv es m an yq ue st io ns
"o f k no wl ed ge-e ng in ee ri ng s ty le . Li ke p ro gr am mi ng s ty le , t hi s c an h av e a s ig ni fi ca nt"
"i mp ac t o n t he e ve nt ua l s uc ce ss o f t he p ro je ct . Fo re xa mp le , s ho ul d p it s b e r ep re se nt ed"
b y o bj ec ts o r b y a u na ry p re di ca te o n s qu ar es ? Sh ou ld t he a ge nt’s o ri en ta ti on b e a
f un ct io n o r a p re di ca te ? Sh ou ld t he w um pu s’s l oc at io n d ep en d o n t im e ? On ce t he
"c ho ic es h av e b ee n m ad e , t he r es ul t i s a v oc ab ul ar y t ha t i s k no wn a s t he o nt ol og y o f"
ONTOLOGY
t he d om ai n . Th e w or d o nt ol og y m ea ns a p ar ti cu la r t he or y o f t he n at ur e o f b ei ng o r
"e xi st en ce . Th eo nt ol og y d et er mi ne s w ha t k in ds o f t hi ng s e xi st , b ut d oe s n ot d et er mi ne"
t he ir sp ec if ic pr op er ti es a nd in te rr el at io ns hi ps .
4. En co de g en er al k no wl ed ge a bo ut t he d om ai n . Th e k no wl ed ge e ng in ee r w ri te s d ow n
t he a xi om s f or a ll t he v oc ab ul ar y t er ms . Th is p in s d ow n (t o t he e xt en t p os si bl e) t he
"m ea ni ng of th et er ms , e na bl in g t he ex pe rt t oc he ck t he co nt en t . Of te n ,t hi ss te pr ev ea ls"
m is co nc ep ti on s o rg ap s i n t he v oc ab ul ar y t ha t m us tb e f ix ed by r et ur ni ng t os te p 3 a nd
i te ra ti ng th ro ug h t he pr oc es s .
5. En co de a d es cr ip ti on o f t he s pe ci fi c p ro bl em i ns ta nc e . If t he o nt ol og y i s w el l t ho ug ht
"o ut , t hi s s te p w il l b e e as y . It w il l i nv ol ve w ri ti ng s im pl e a to mi c s en te nc es a bo ut i n-"
"s ta nc es o f c on ce pt s t ha t a re a lr ea dy p ar t o f t he o nt ol og y . Fo ra l og ic al a ge nt , p ro bl em"
"i ns ta nc es ar es up pl ie db yt he se ns or s ,w he re as a“d is em bo di ed” k no wl ed ge ba se is su p-"
p li ed w it h a dd it io na l s en te nc es i n t he s am e w ay t ha t t ra di ti on al p ro gr am s a re s up pl ie d
w it hi np ut da ta .
6. Po se q ue ri es t o t he i nf er en ce p ro ce du re a nd g et a ns we rs . Th is i s w he re t he r ew ar d i s:
w ec an le tt he in fe re nc e p ro ce du re o pe ra te o nt he ax io ms an dp ro bl em-s pe ci fi c f ac ts to
"d er iv e t he f ac ts w e a re i nt er es te d i n k no wi ng . Th us , w e a vo id t he n ee d f or w ri ti ng a n"
a pp li ca ti on-s pe ci fi c s ol ut io n a lg or it hm .
"7. De bu g t he k no wl ed ge b as e . Al as , t he a ns we rs t o q ue ri es w il l s el do m b e c or re ct o n"
"t he f ir st t ry . Mo re p re ci se ly , t he a ns we rs w il l b e c or re ct f or t he k no wl ed ge b as e a s"
"w ri tt en , a ss um in g t ha t t he i nf er en ce p ro ce du re i s s ou nd , b ut t he y w il l n ot b e t he o ne s"
"t ha tt he us er is ex pe ct in g . Fo re xa mp le ,i fa na xi om is mi ss in g ,s om eq ue ri es wi ll no tb e"
a ns we ra bl e f ro m t he k no wl ed ge b as e . A c on si de ra bl e d eb ug gi ng p ro ce ss c ou ld e ns ue .
Mi ss in ga xi om so ra xi om st ha ta re to ow ea kc an be ea si ly i de nt if ie db yn ot ic in g p la ce s
"w he re t he c ha in o f r ea so ni ng s to ps u ne xp ec te dl y . Fo r e xa mp le , i f t he k no wl ed ge b as e"
"i nc lu de sa di ag no st ic r ul e(s ee Ex er ci se 8.13)f or fi nd in gt he wu mp us ,"
"∀s Sm el ly(s) ⇒ Ad ja ce nt(Ho me(Wu mp us),s),"
"i ns te ad o f t he b ic on di ti on al , t he n t he a ge nt w il l n ev er b e a bl e t o p ro ve t he a bs en ce o f"
w um pu se s . In co rr ec t a xi om s c an b e i de nt if ie d b ec au se t he y a re f al se s ta te me nt s a bo ut
"t he wo rl d . Fo re xa mp le ,t he se nt en ce"
"∀x Nu m Of Le gs(x ,4) ⇒ Ma mm al(x)"
"i s f al se f or r ep ti le s , a mp hi bi an s , a nd , m or e i mp or ta nt ly , t ab le s . Th e f al se ho od o f t hi s"
"s en te nc ec an be de te rm in ed in de pe nd en tl yo ft he re st of th ek no wl ed ge ba se . In co nt ra st ,"
Se ct io n 8.4. Kn ow le dg e En gi ne er in g i n Fi rs t-Or de r Lo gi c 309
a ty pi ca le rr or in ap ro gr am lo ok sl ik et hi s:
o ff se t = p os it io n + 1.
It is im po ss ib le to te ll wh et he rt hi ss ta te me nt is co rr ec tw it ho ut lo ok in ga tt he re st of th e
"p ro gr am t o s ee w he th er , f or e xa mp le , o ff se ti s u se d t o r ef er t o t he c ur re nt p os it io n ,"
"o r t o o ne b ey on d t he c ur re nt p os it io n , o r w he th er t he v al ue o f p os it io ni s c ha ng ed"
b ya no th er st at em en ta nd so of fs et sh ou ld al so be ch an ge d a ga in .
"To u nd er st an d t hi s s ev en-s te p p ro ce ss b et te r , w e n ow a pp ly i t t o a n e xt en de d e xa mp le—t he"
d om ai no fe le ct ro ni c c ir cu it s .
8.4.2 Th e e le ct ro ni c c ir cu it s d om ai n
We wi ll de ve lo pa no nt ol og ya nd kn ow le dg eb as et ha ta ll ow us to re as on ab ou td ig it al ci rc ui ts
o ft he ki nd sh ow ni n Fi gu re 8.6. We fo ll ow th es ev en-s te pp ro ce ss fo rk no wl ed ge en gi ne er in g .
Id en ti fy th et as k
"Th er e a re m an y r ea so ni ng t as ks a ss oc ia te d w it h d ig it al c ir cu it s . At t he h ig he st l ev el , o ne"
"a na ly ze s t he c ir cu it’s f un ct io na li ty . Fo r e xa mp le , d oe s t he c ir cu it i n Fi gu re 8.6 a ct ua ll y a dd"
"p ro pe rl y ? If a ll t he i np ut s a re h ig h , w ha t i s t he o ut pu t o f g at e A 2? Qu es ti on s a bo ut t he"
"c ir cu it’s s tr uc tu re a re a ls o i nt er es ti ng . Fo r e xa mp le , w ha t a re a ll t he g at es c on ne ct ed t o t he"
f ir st in pu t t er mi na l ? Do es th e c ir cu it c on ta in f ee db ac k l oo ps ? Th es ew il lb eo ur ta sk s i nt hi s
"s ec ti on . Th er e a re m or e d et ai le d l ev el s o f a na ly si s , i nc lu di ng t ho se r el at ed t o t im in g d el ay s ,"
"c ir cu it a re a , p ow er c on su mp ti on , p ro du ct io n c os t , a nd s o o n . Ea ch o f t he se l ev el s w ou ld"
r eq ui re ad di ti on al k no wl ed ge .
As se mb le th er el ev an tk no wl ed ge
"Wh at d o w e k no w a bo ut d ig it al c ir cu it s ? Fo ro ur p ur po se s , t he y a re c om po se d o f w ir es a nd"
"g at es . Si gn al s f lo w a lo ng w ir es t o t he i np ut t er mi na ls o f g at es , a nd e ac h g at e p ro du ce s a"
C
1
1
2 X 1 X 2 1
3 A
2
A O 1 2
1
"Fi gu re 8.6 Ad ig it al ci rc ui t C 1,p ur po rt in gt ob ea on e-b it fu ll ad de r . Th ef ir st tw oi np ut s"
"a re th et wo bi ts to be ad de d ,a nd th et hi rd in pu ti sa ca rr yb it . Th ef ir st ou tp ut is th es um ,a nd"
"t he se co nd ou tp ut is ac ar ry bi tf or th en ex ta dd er . Th ec ir cu it co nt ai ns tw o XORg at es ,t wo"
"ANDg at es ,a nd on e ORg at e ."
310 Ch ap te r 8. Fi rs t-Or de r Lo gi c
s ig na l o n t he ou tp ut t er mi na l t ha tf lo ws al on g a no th er w ir e . To de te rm in e w ha tt he se s ig na ls
"w il l b e , w e n ee d t o k no w h ow t he g at es t ra ns fo rm t he ir i np ut s ig na ls . Th er e a re f ou r t yp es"
"o fg at es: AND ,OR ,a nd XORg at es ha ve t wo in pu t t er mi na ls , a nd NOTg at es h av e o ne . Al l"
"g at es ha ve on eo ut pu tt er mi na l . Ci rc ui ts , l ik eg at es ,h av ei np ut an do ut pu t t er mi na ls ."
"To re as on a bo ut f un ct io na li ty a nd c on ne ct iv it y , w e d o n ot n ee d t o t al k a bo ut t he w ir es"
"t he ms el ve s , t he p at hs t he y t ak e , o r t he j un ct io ns w he re t he y c om e t og et he r . Al l t ha t m at te rs"
i s t he c on ne ct io ns b et we en t er mi na ls—w e c an s ay t ha t o ne o ut pu t t er mi na l i s c on ne ct ed t o
a no th er in pu tt er mi na lw it ho ut ha vi ng to sa yw ha ta ct ua ll yc on ne ct st he m . Ot he rf ac to rs su ch
"a st he si ze ,s ha pe , c ol or ,o rc os to ft he va ri ou sc om po ne nt s a re ir re le va nt t oo ur an al ys is ."
"If ou rp ur po se w er es om et hi ng o th er th an v er if yi ng d es ig ns a tt he ga te le ve l , t he on to l-"
"o gy wo ul db ed if fe re nt . Fo re xa mp le ,i fw ew er ei nt er es te d i n d eb ug gi ng f au lt yc ir cu it s , t he n"
"i t w ou ld p ro ba bl y b e a g oo d i de a t o i nc lu de t he w ir es i n t he o nt ol og y , b ec au se a f au lt y w ir e"
"c an co rr up tt he si gn al fl ow in ga lo ng it . Fo rr es ol vi ng ti mi ng f au lt s ,w ew ou ld ne ed to in cl ud e"
"g at e d el ay s . If w e w er e i nt er es te d i n d es ig ni ng a p ro du ct t ha t w ou ld b e p ro fi ta bl e , t he n t he"
c os to ft he ci rc ui ta nd it ss pe ed re la ti ve to ot he rp ro du ct so nt he ma rk et wo ul db ei mp or ta nt .
De ci de on av oc ab ul ar y
"We no wk no wt ha tw ew an tt ot al ka bo ut ci rc ui ts ,t er mi na ls ,s ig na ls ,a nd ga te s . Th en ex ts te p"
"i st oc ho os e f un ct io ns , p re di ca te s , a nd c on st an ts t or ep re se nt t he m . Fi rs t , w en ee d t ob ea bl e"
t o d is ti ng ui sh g at es f ro m e ac h o th er a nd f ro m o th er o bj ec ts . Ea ch g at e i s r ep re se nt ed a s a n
"o bj ec tn am ed by ac on st an t , a bo ut wh ic hw ea ss er tt ha ti ti sa ga te wi th ,s ay ,Ga te(X ). Th e"
1
"b eh av io r o f e ac h g at e i s d et er mi ne d b y i ts t yp e: o ne o f t he c on st an ts AND ,OR , XOR , o r"
"NOT . Be ca us e a g at e h as e xa ct ly o ne t yp e , a f un ct io n i s a pp ro pr ia te: Ty pe(X )=XOR ."
1
"Ci rc ui ts ,l ik eg at es ,a re id en ti fi ed by ap re di ca te: Ci rc ui t(C )."
1
"Ne xt we co ns id er te rm in al s ,w hi ch ar ei de nt if ie db yt he pr ed ic at e Te rm in al(x). Ag at e"
o rc ir cu it ca nh av eo ne or mo re in pu tt er mi na ls an do ne or mo re o ut pu tt er mi na ls . We us et he
"f un ct io n In(1,X ) t o d en ot e t he f ir st i np ut t er mi na l f or g at e X . A s im il ar f un ct io n Ou t i s"
1 1
"u se df or ou tp ut te rm in al s . Th ef un ct io n Ar it y(c ,i ,j)s ay st ha tc ir cu it ch as ii np ut an dj o ut-"
"p ut te rm in al s . Th ec on ne ct iv it yb et we en ga te sc an be re pr es en te db ya pr ed ic at e , Co nn ec te d ,"
"w hi ch ta ke st wo te rm in al sa sa rg um en ts , a si n Co nn ec te d(Ou t(1,X ),In(1,X ))."
1 2
"Fi na ll y ,w en ee dt ok no ww he th er as ig na li so no ro ff . On ep os si bi li ty i st ou se au na ry"
"p re di ca te , On(t), w hi ch i s t ru e w he n t he s ig na l a t a t er mi na l i s o n . Th is m ak es i t a l it tl e"
"d if fi cu lt , h ow ev er , t o p os e q ue st io ns s uc h a s “Wh at a re a ll t he p os si bl e v al ue s o f t he s ig na ls"
"a tt he ou tp ut te rm in al so fc ir cu it C ?” We th er ef or ei nt ro du ce a so bj ec ts tw os ig na lv al ue s , 1"
1
"a nd 0,a nd af un ct io n Si gn al(t)t ha td en ot es t he si gn al va lu ef or th et er mi na l t ."
En co de ge ne ra lk no wl ed ge of th ed om ai n
"On es ig nt ha tw eh av ea go od on to lo gy i st ha tw er eq ui re on ly af ew ge ne ra lr ul es ,w hi ch ca n"
b es ta te dc le ar ly an dc on ci se ly . Th es ea re al lt he ax io ms we wi ll ne ed:
"1. If tw ot er mi na ls ar ec on ne ct ed , t he nt he yh av et he sa me si gn al:"
"∀t ,t Te rm in al(t )∧Te rm in al(t )∧Co nn ec te d(t ,t ) ⇒"
1 2 1 2 1 2
Si gn al(t )=Si gn al(t ).
1 2
Se ct io n 8.4. Kn ow le dg e En gi ne er in g i n Fi rs t-Or de r Lo gi c 311
2. Th es ig na la te ve ry te rm in al is ei th er 1 o r 0:
∀t Te rm in al(t) ⇒ Si gn al(t)=1∨Si gn al(t)=0 .
3. Co nn ec te di sc om mu ta ti ve:
"∀t ,t Co nn ec te d(t ,t ) ⇔ Co nn ec te d(t ,t )."
1 2 1 2 2 1
4. Th er ea re fo ur ty pe so fg at es:
∀g Ga te(g)∧k = Ty pe(g) ⇒ k = AND ∨k = OR∨k = XOR∨k = NOT .
5. An ANDg at e’s ou tp ut is 0 i fa nd on ly if an yo fi ts in pu ts is 0:
∀g Ga te(g)∧Ty pe(g)=AND ⇒
"Si gn al(Ou t(1,g))=0 ⇔ ∃n Si gn al(In(n ,g))=0."
6. An ORg at e’s ou tp ut is 1 i fa nd on ly if an yo fi ts in pu ts is 1:
∀g Ga te(g)∧Ty pe(g)=OR ⇒
"Si gn al(Ou t(1,g))=1 ⇔ ∃n Si gn al(In(n ,g))=1."
7. An XORg at e’s ou tp ut is 1 i fa nd on ly if it si np ut sa re di ff er en t:
∀g Ga te(g)∧Ty pe(g)=XOR ⇒
"Si gn al(Ou t(1,g))=1 ⇔ Si gn al(In(1,g)) (c id:7)= Si gn al(In(2,g))."
8. ANOTg at e’s ou tp ut is di ff er en tf ro mi ts in pu t:
∀g Ga te(g)∧(Ty pe(g)=NOT) ⇒
"Si gn al(Ou t(1,g)) (c id:7)= Si gn al(In(1,g)) ."
9. Th eg at es(e xc ep tf or NOT)h av et wo in pu ts an do ne ou tp ut .
"∀g Ga te(g)∧Ty pe(g) = NOT ⇒ Ar it y(g ,1,1) ."
∀g Ga te(g)∧k = Ty pe(g)∧(k = AND ∨k = OR∨k = XOR) ⇒
"Ar it y(g ,2,1)"
"10. Ac ir cu it ha st er mi na ls , u pt oi ts in pu ta nd ou tp ut ar it y , a nd no th in g b ey on di ts ar it y:"
"∀c ,i ,j Ci rc ui t(c)∧Ar it y(c ,i ,j) ⇒"
"∀n (n ≤ i ⇒ Te rm in al(In(c ,n)))∧(n > i ⇒ In(c ,n) = No th in g)∧"
"∀n (n ≤ j ⇒ Te rm in al(Ou t(c ,n)))∧(n > j ⇒ Ou t(c ,n) = No th in g)"
"11. Ga te s ,t er mi na ls , s ig na ls , g at et yp es ,a nd No th in g a re al ld is ti nc t ."
"∀g ,t Ga te(g)∧Te rm in al(t) ⇒"
g (c id:7)= t (c id:7)= 1 (c id:7)= 0 (c id:7)=OR (c id:7)= AND (c id:7)= XOR (c id:7)= NOT (c id:7)= No th in g .
12. Ga te sa re ci rc ui ts .
∀g Ga te(g) ⇒ Ci rc ui t(g)
En co de th es pe ci fi cp ro bl em in st an ce
"Th ec ir cu it sh ow ni n Fi gu re 8.6 i se nc od ed as ci rc ui t C w it ht he fo ll ow in gd es cr ip ti on . Fi rs t ,"
1
w ec at eg or iz e t he ci rc ui ta nd it sc om po ne nt g at es:
"Ci rc ui t(C )∧Ar it y(C ,3,2)"
1 1
Ga te(X )∧Ty pe(X )=XOR
1 1
Ga te(X )∧Ty pe(X )=XOR
2 2
Ga te(A )∧Ty pe(A )=AND
1 1
Ga te(A )∧Ty pe(A )=AND
2 2
Ga te(O )∧Ty pe(O )=OR .
1 1
312 Ch ap te r 8. Fi rs t-Or de r Lo gi c
"Th en ,w es ho wt he co nn ec ti on s b et we en th em:"
"Co nn ec te d(Ou t(1,X ),In(1,X )) Co nn ec te d(In(1,C ),In(1,X ))"
1 2 1 1
"Co nn ec te d(Ou t(1,X ),In(2,A )) Co nn ec te d(In(1,C ),In(1,A ))"
1 2 1 1
"Co nn ec te d(Ou t(1,A ),In(1,O )) Co nn ec te d(In(2,C ),In(2,X ))"
2 1 1 1
"Co nn ec te d(Ou t(1,A ),In(2,O )) Co nn ec te d(In(2,C ),In(2,A ))"
1 1 1 1
"Co nn ec te d(Ou t(1,X ),Ou t(1,C )) Co nn ec te d(In(3,C ),In(2,X ))"
2 1 1 2
"Co nn ec te d(Ou t(1,O ),Ou t(2,C )) Co nn ec te d(In(3,C ),In(1,A ))."
1 1 1 2
Po se qu er ie st ot he in fe re nc ep ro ce du re
Wh at co mb in at io ns o fi np ut s w ou ld ca us e t he fi rs to ut pu t o f C (t he su mb it)t ob e 0 a nd th e
1
s ec on do ut pu to f C (t he ca rr yb it)t ob e 1?
1
"∃i ,i ,i Si gn al(In(1,C ))=i ∧Si gn al(In(2,C ))=i ∧Si gn al(In(3,C ))=i"
1 2 3 1 1 1 2 1 3
"∧Si gn al(Ou t(1,C ))=0∧Si gn al(Ou t(2,C ))=1."
1 1
"Th e a ns we rs a re s ub st it ut io ns f or th e v ar ia bl es i , i , a nd i s uc h t ha t t he r es ul ti ng s en te nc e"
1 2 3
i se nt ai le d b yt he kn ow le dg e b as e . ASKVARS w il lg iv eu st hr ee su ch su bs ti tu ti on s:
"{i /1, i /1, i /0} {i /1, i /0, i /1} {i /0, i /1, i /1}."
1 2 3 1 2 3 1 2 3
Wh at ar et he po ss ib le s et so fv al ue so fa ll th et er mi na ls fo rt he ad de rc ir cu it ?
"∃i ,i ,i ,o ,o Si gn al(In(1,C ))=i ∧Si gn al(In(2,C ))=i"
1 2 3 1 2 1 1 1 2
"∧Si gn al(In(3,C ))=i ∧Si gn al(Ou t(1,C ))=o ∧Si gn al(Ou t(2,C ))=o ."
1 3 1 1 1 2
"Th is f in al q ue ry w il l r et ur n a c om pl et e i np ut–o ut pu t t ab le f or t he d ev ic e , w hi ch c an b e u se d"
t o c he ck t ha t i t d oe s i n f ac t a dd i ts i np ut s c or re ct ly . Th is i s a s im pl e e xa mp le o f c ir cu it
"CIRCUIT v er if ic at io n . We c an a ls o u se t he d ef in it io n o f t he c ir cu it t o b ui ld l ar ge r d ig it al s ys te ms , f or"
VERIFICATION
w hi ch th es am ek in do fv er if ic at io n p ro ce du re c an be ca rr ie do ut . (Se e Ex er ci se 8.26.) Ma ny
"d om ai ns ar ea me na bl et ot he sa me ki nd of st ru ct ur ed kn ow le dg e-b as e d ev el op me nt ,i nw hi ch"
m or ec om pl ex co nc ep ts a re de fi ne do nt op of si mp le rc on ce pt s .
De bu gt he kn ow le dg eb as e
We ca np er tu rb th ek no wl ed ge ba se in va ri ou sw ay st os ee wh at ki nd so fe rr on eo us be ha vi or s
"e me rg e . Fo r e xa mp le , s up po se w e f ai l t o r ea d Se ct io n 8.2.8 a nd h en ce f or ge t t o a ss er t t ha t"
"1 (c id:7)= 0. Su dd en ly , t he s ys te m w il l b e u na bl e t o p ro ve a ny o ut pu ts f or t he c ir cu it , e xc ep t f or"
t he i np ut c as es 000 a nd 110. We ca n p in po in t t he p ro bl em b ya sk in g f or th e o ut pu ts o fe ac h
"g at e . Fo re xa mp le ,w ec an as k"
"∃i ,i ,o Si gn al(In(1,C ))=i ∧Si gn al(In(2,C ))=i ∧Si gn al(Ou t(1,X )),"
1 2 1 1 1 2 1
"w hi ch r ev ea ls t ha t n oo ut pu ts a re k no wn at X f or th e i np ut c as es 10 a nd 01. Th en , w el oo k"
1
"a tt he ax io mf or XORg at es ,a sa pp li ed to X :"
1
"Si gn al(Ou t(1,X ))=1 ⇔ Si gn al(In(1,X )) (c id:7)= Si gn al(In(2,X ))."
1 1 1
"If th ei np ut sa re kn ow nt ob e ,s ay ,1 a nd 0,t he nt hi sr ed uc es to"
"Si gn al(Ou t(1,X ))=1 ⇔ 1 (c id:7)= 0."
1
"No wt he p ro bl em i s a pp ar en t: t he s ys te m i su na bl e t o i nf er t ha t Si gn al(Ou t(1,X ))=1, s o"
1
w en ee dt ot el li tt ha t 1 (c id:7)=0.
9
INFERENCE IN
FIRST-ORDER LOGIC
In w hi ch w e d ef in e e ff ec ti ve p ro ce du re s f or a ns we ri ng q ue st io ns p os ed i n f ir st-
o rd er lo gi c .
Ch ap te r 7 s ho we dh ow so un da nd co mp le te in fe re nc ec an be ac hi ev ed fo rp ro po si ti on al lo gi c .
"In t hi s c ha pt er , w e e xt en d t ho se r es ul ts t o o bt ai n a lg or it hm s t ha t c an a ns we r a ny a ns we r-"
a bl eq ue st io n s ta te di nf ir st-o rd er lo gi c . Se ct io n 9.1 i nt ro du ce s i nf er en ce r ul es fo rq ua nt if ie rs
"a nd sh ow sh ow to re du ce fi rs t-o rd er in fe re nc e t op ro po si ti on al i nf er en ce , a lb ei ta tp ot en ti al ly"
"g re at e xp en se . Se ct io n 9.2 d es cr ib es t he i de a o f u ni fi ca ti on , s ho wi ng h ow i t c an b e u se d"
t o c on st ru ct i nf er en ce r ul es t ha t w or k d ir ec tl y w it h f ir st-o rd er s en te nc es . We t he n d is cu ss
t hr ee m aj or f am il ie s o f f ir st-o rd er i nf er en ce a lg or it hm s . Fo rw ar d c ha in in g a nd i ts a pp li ca-
t io ns to de du ct iv ed at ab as es an dp ro du ct io ns ys te ms ar ec ov er ed in Se ct io n 9.3;b ac kw ar d
c ha in in ga nd lo gi c p ro gr am mi ng sy st em s a re de ve lo pe d i n Se ct io n 9.4. Fo rw ar da nd ba ck-
"w ar d c ha in in g c an b e v er y e ff ic ie nt , b ut a re a pp li ca bl e o nl y t o k no wl ed ge b as es t ha t c an"
b e e xp re ss ed a s s et s o f Ho rn c la us es . Ge ne ra l f ir st-o rd er s en te nc es r eq ui re r es ol ut io n-b as ed
"t he or em pr ov in g ,w hi ch is de sc ri be d i n Se ct io n 9.5."
9.1 PROPOSITIONAL VS . FIRST-ORDER INFERENCE
Th is s ec ti on a nd t he n ex t i nt ro du ce t he i de as u nd er ly in g m od er n l og ic al i nf er en ce s ys te ms .
We be gi n w it h s om e s im pl e i nf er en ce r ul es t ha t c an b e a pp li ed t o s en te nc es w it h q ua nt if ie rs
t oo bt ai n s en te nc es w it ho ut q ua nt if ie rs . Th es e r ul es l ea d n at ur al ly t ot he i de a t ha t f ir st-o rd er
i nf er en ce c an b e d on e b y c on ve rt in g t he k no wl ed ge b as e t o p ro po si ti on al l og ic a nd u si ng
"p ro po si ti on al i nf er en ce , w hi ch w e a lr ea dy k no w h ow t o d o . Th e n ex t s ec ti on p oi nt s o ut a n"
"o bv io us sh or tc ut , l ea di ng to in fe re nc e m et ho ds th at ma ni pu la te f ir st-o rd er se nt en ce s d ir ec tl y ."
9.1.1 In fe re nc e r ul es f or qu an ti fi er s
Le t u s b eg in w it h u ni ve rs al q ua nt if ie rs . Su pp os e o ur k no wl ed ge b as e c on ta in s t he s ta nd ar d
f ol kl or ic a xi om st at in gt ha ta ll gr ee dy ki ng sa re ev il:
∀x Ki ng(x)∧Gr ee dy(x) ⇒ Ev il(x).
322
Se ct io n 9.1. Pr op os it io na l v s .Fi rs t-Or de r In fe re nc e 323
Th en it se em sq ui te pe rm is si bl e t oi nf er an yo ft he fo ll ow in g s en te nc es:
Ki ng(Jo hn)∧Gr ee dy(Jo hn) ⇒ Ev il(Jo hn)
Ki ng(Ri ch ar d)∧Gr ee dy(Ri ch ar d) ⇒ Ev il(Ri ch ar d)
Ki ng(Fa th er(Jo hn))∧Gr ee dy(Fa th er(Jo hn)) ⇒ Ev il(Fa th er(Jo hn)).
.
.
.
UNIVERSAL Th e r ul e o f Un iv er sa l In st an ti at io n (UI f or s ho rt) s ay s t ha t w e c an i nf er a ny s en te nc e o b-
INSTANTIATION
t ai ne d b y s ub st it ut in g a g ro un d t er m (a t er m w it ho ut v ar ia bl es) f or t he v ar ia bl e .1 To w ri te
GROUNDTERM
"o ut th ei nf er en ce r ul ef or ma ll y , w eu se th en ot io n o f s ub st it ut io ns in tr od uc ed i n Se ct io n 8.3."
"Le t SUBST(θ,α)d en ot e t he re su lt o fa pp ly in g t he su bs ti tu ti on θ t ot he se nt en ce α. Th en th e"
r ul ei sw ri tt en
∀v α
"SUBST({v/g},α)"
"f or a ny v ar ia bl e v a nd g ro un d t er m g . Fo r e xa mp le , t he t hr ee s en te nc es g iv en e ar li er a re"
"o bt ai ne d w it ht he su bs ti tu ti on s {x/Jo hn},{x/Ri ch ar d},a nd{x/Fa th er(Jo hn)}."
"EXISTENTIAL In t he r ul e f or Ex is te nt ia l In st an ti at io n , t he v ar ia bl e i s r ep la ce d b y a s in gl e n ew c on-"
INSTANTIATION
"s ta nt sy mb ol . Th ef or ma ls ta te me nt is as fo ll ow s: f or an ys en te nc e α,v ar ia bl ev ,a nd co ns ta nt"
"s ym bo lk t ha td oe sn ot ap pe ar el se wh er ei nt he kn ow le dg eb as e ,"
∃v α
.
"SUBST({v/k},α)"
"Fo re xa mp le ,f ro mt he se nt en ce"
"∃x Cr ow n(x)∧On He ad(x ,Jo hn)"
w ec an in fe rt he se nt en ce
"Cr ow n(C )∧On He ad(C ,Jo hn)"
1 1
"a s l on g a s C d oe s n ot a pp ea r e ls ew he re i n t he k no wl ed ge b as e . Ba si ca ll y , t he e xi st en ti al"
1
"s en te nc e s ay st he re is so me ob je ct sa ti sf yi ng a co nd it io n , a nd ap pl yi ng t he ex is te nt ia l i ns ta n-"
"t ia ti on r ul e j us t g iv es a n am e t o t ha t o bj ec t . Of c ou rs e , t ha t n am e m us t n ot a lr ea dy b el on g"
t oa no th er ob je ct . Ma th em at ic s p ro vi de s a ni ce e xa mp le: s up po se w ed is co ve rt ha tt he re i sa
n um be rt ha ti sa li tt le bi gg er th an 2.71828 a nd th at sa ti sf ie st he eq ua ti on d(x y)/d y=x y f or x .
"We ca n g iv e t hi s n um be r a n am e , s uc h a s e , b ut i t w ou ld b e a m is ta ke t o g iv e i tt he n am e o f"
"a n e xi st in g o bj ec t , s uc h a s π. In l og ic , t he n ew n am e i s c al le d a Sk ol em c on st an t . Ex is te n-"
SKOLEMCONSTANT
"t ia l In st an ti at io n i sa sp ec ia l c as eo fa mo re ge ne ra l p ro ce ss c al le d s ko le mi za ti on , w hi ch w e"
c ov er in Se ct io n 9.5.
Wh er ea s Un iv er sa l In st an ti at io n c an b e a pp li ed m an y t im es t o p ro du ce m an y d if fe re nt
"c on se qu en ce s , Ex is te nt ia l In st an ti at io n c an b e a pp li ed o nc e , a nd t he n t he e xi st en ti al ly q ua n-"
"t if ie d s en te nc e c an b e d is ca rd ed . Fo re xa mp le , w en o l on ge r n ee d ∃x Ki ll(x ,Vi ct im)o nc e"
"w eh av ea dd ed th es en te nc e Ki ll(Mu rd er er ,Vi ct im). St ri ct ly sp ea ki ng , t he ne wk no wl ed ge"
"INFERENTIAL b as ei sn ot lo gi ca ll y e qu iv al en t t ot he ol d ,b ut it ca nb es ho wn to be in fe re nt ia ll y e qu iv al en t"
EQUIVALENCE
i nt he se ns et ha ti ti ss at is fi ab le ex ac tl yw he nt he or ig in al k no wl ed ge ba se is sa ti sf ia bl e .
1 Do no tc on fu se th es es ub st it ut io ns wi th th ee xt en de di nt er pr et at io ns us ed to de fi ne th es em an ti cs of qu an ti fi er s .
"Th e s ub st it ut io n r ep la ce s a v ar ia bl e w it h a t er m (a p ie ce o f s yn ta x) t o p ro du ce a n ew s en te nc e , w he re as a n"
i nt er pr et at io nm ap sa va ri ab le to an ob je ct in th ed om ai n .
324 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
9.1.2 Re du ct io n t o p ro po si ti on al i nf er en ce
"On ce w e h av e r ul es f or i nf er ri ng n on qu an ti fi ed s en te nc es f ro m q ua nt if ie d s en te nc es , i t b e-"
c om es p os si bl e t o r ed uc e f ir st-o rd er i nf er en ce t o p ro po si ti on al i nf er en ce . In t hi s s ec ti on w e
g iv et he ma in id ea s ;t he de ta il sa re gi ve ni n Se ct io n 9.5.
"Th e f ir st i de a i s t ha t , j us t a s a n e xi st en ti al ly q ua nt if ie d s en te nc e c an b e r ep la ce d b y"
"o ne i ns ta nt ia ti on , a u ni ve rs al ly q ua nt if ie d s en te nc e c an b e r ep la ce d b y t he s et o f a ll p os si bl e"
"i ns ta nt ia ti on s . Fo re xa mp le , s up po se ou rk no wl ed ge ba se co nt ai ns ju st th es en te nc es"
∀x Ki ng(x)∧Gr ee dy(x) ⇒ Ev il(x)
Ki ng(Jo hn)
(9.1)
Gr ee dy(Jo hn)
"Br ot he r(Ri ch ar d ,Jo hn)."
Th en w ea pp ly UI t o t he f ir st s en te nc e u si ng a ll p os si bl e g ro un d-t er m s ub st it ut io ns f ro m t he
"v oc ab ul ar y o ft he kn ow le dg e b as e—i nt hi sc as e , {x/Jo hn}a nd{x/Ri ch ar d}. We ob ta in"
Ki ng(Jo hn)∧Gr ee dy(Jo hn) ⇒ Ev il(Jo hn)
"Ki ng(Ri ch ar d)∧Gr ee dy(Ri ch ar d) ⇒ Ev il(Ri ch ar d),"
"a nd w e d is ca rd t he u ni ve rs al ly q ua nt if ie d s en te nc e . No w , t he k no wl ed ge b as e i s e ss en ti al ly"
"p ro po si ti on al i f w e v ie w t he g ro un d a to mi c s en te nc es—Ki ng(Jo hn), Gr ee dy(Jo hn), a nd"
"s o o n—a s p ro po si ti on s ym bo ls . Th er ef or e , w e c an a pp ly a ny o f t he c om pl et e p ro po si ti on al"
a lg or it hm s i n Ch ap te r 7 t oo bt ai nc on cl us io ns s uc ha s Ev il(Jo hn).
"Th is t ec hn iq ue o f p ro po si ti on al iz at io n c an b e m ad e c om pl et el y g en er al , a s w e s ho w"
"i n Se ct io n 9.5; t ha t i s , e ve ry f ir st-o rd er k no wl ed ge b as e a nd q ue ry c an b e p ro po si ti on al iz ed"
"i n s uc h a w ay t ha t e nt ai lm en t i s p re se rv ed . Th us , w e h av e a c om pl et e d ec is io n p ro ce du re"
f or e nt ai lm en t ... o r p er ha ps n ot . Th er e i s a p ro bl em: w he n t he k no wl ed ge b as e i nc lu de s
"a f un ct io n s ym bo l , t he s et o f p os si bl e g ro un d-t er m s ub st it ut io ns i s i nf in it e ! Fo r e xa mp le , i f"
"t he k no wl ed ge b as e m en ti on s t he Fa th er s ym bo l , t he n i nf in it el y m an y n es te d t er ms s uc h a s"
Fa th er(Fa th er(Fa th er(Jo hn)))c an be co ns tr uc te d . Ou rp ro po si ti on al a lg or it hm s w il lh av e
d if fi cu lt yw it ha ni nf in it el yl ar ge se to fs en te nc es .
"Fo rt un at el y , t he re i s a f am ou s t he or em d ue t o Ja cq ue s He rb ra nd (1930) t o t he e ff ec t"
"t ha ti fa se nt en ce i se nt ai le d b yt he or ig in al , f ir st-o rd er k no wl ed ge b as e , t he nt he re i sa pr oo f"
i nv ol vi ng j us ta fi ni te s ub se t o ft he pr op os it io na li ze d k no wl ed ge b as e . Si nc ea ny su ch s ub se t
"h as a m ax im um d ep th o f n es ti ng a mo ng i ts g ro un d t er ms , w e c an f in d t he s ub se t b y f ir st"
"g en er at in ga ll th ei ns ta nt ia ti on s w it hc on st an ts ym bo ls(Ri ch ar d a nd Jo hn),t he na ll te rm so f"
"d ep th 1(Fa th er(Ri ch ar d)a nd Fa th er(Jo hn)),t he na ll te rm so fd ep th 2,a nd so on ,u nt il we"
a re ab le to co ns tr uc t a pr op os it io na l p ro of of th ee nt ai le ds en te nc e .
We h av e s ke tc he d a n a pp ro ac h t o f ir st-o rd er i nf er en ce v ia p ro po si ti on al iz at io n t ha t i s
"c om pl et e—t ha t i s , a ny e nt ai le d s en te nc e c an b e p ro ve d . Th is i s a m aj or a ch ie ve me nt , g iv en"
"t ha t t he s pa ce o f p os si bl e m od el s i s i nf in it e . On t he o th er h an d , w e d o n ot k no w u nt il t he"
p ro of i sd on e t ha t t he se nt en ce i se nt ai le d ! Wh at ha pp en s w he nt he se nt en ce i sn ot e nt ai le d ?
"Ca nw et el l ? We ll , f or fi rs t-o rd er l og ic , i tt ur ns o ut th at w ec an no t . Ou rp ro of p ro ce du re c an"
"g oo na nd on , g en er at in g m or ea nd mo re de ep ly n es te d t er ms , b ut we wi ll no tk no ww he th er"
i ti ss tu ck in ah op el es s l oo po rw he th er th ep ro of is ju st ab ou t t op op ou t . Th is is ve ry mu ch
Se ct io n 9.2. Un if ic at io na nd Li ft in g 325
l ik et he ha lt in gp ro bl em fo r Tu ri ng ma ch in es . Al an Tu ri ng(1936)a nd Al on zo Ch ur ch(1936)
"b ot hp ro ve d , i nr at he rd if fe re nt w ay s , t he in ev it ab il it y o f t hi ss ta te of af fa ir s . Th eq ue st io n o f"
"e nt ai lm en tf or fi rs t-o rd er lo gi ci ss em id ec id ab le—t ha ti s ,a lg or it hm se xi st th at sa yy es to ev er y"
"e nt ai le d s en te nc e , b ut no al go ri th m e xi st st ha ta ls os ay sn ot oe ve ry no ne nt ai le d s en te nc e ."
9.2 UNIFICATION AND LIFTING
Th e p re ce di ng s ec ti on d es cr ib ed t he u nd er st an di ng o f f ir st-o rd er i nf er en ce t ha t e xi st ed u p
t o t he e ar ly 1960 s . Th e s ha rp-e ye d r ea de r (a nd c er ta in ly t he c om pu ta ti on al l og ic ia ns o f t he
e ar ly 1960 s)w il lh av en ot ic ed th at th ep ro po si ti on al iz at io n a pp ro ac hi sr at he ri ne ff ic ie nt . Fo r
"e xa mp le , g iv en t he q ue ry Ev il(x) a nd t he k no wl ed ge b as e i n Eq ua ti on (9.1), i t s ee ms p er-"
v er se to ge ne ra te s en te nc es s uc ha s Ki ng(Ri ch ar d)∧Gr ee dy(Ri ch ar d) ⇒ Ev il(Ri ch ar d).
"In de ed , t he in fe re nc e o f Ev il(Jo hn)f ro mt he se nt en ce s"
∀x Ki ng(x)∧Gr ee dy(x) ⇒ Ev il(x)
Ki ng(Jo hn)
Gr ee dy(Jo hn)
s ee ms c om pl et el y o bv io us t o a h um an b ei ng . We n ow s ho w h ow t o m ak e i t c om pl et el y
o bv io us to ac om pu te r .
9.2.1 A f ir st-o rd er i nf er en ce r ul e
"Th ei nf er en ce th at Jo hn is ev il—t ha ti s ,t ha t{x/Jo hn}s ol ve st he qu er y Ev il(x)—w or ks li ke"
"t hi s: t o u se t he r ul e t ha t g re ed y k in gs a re e vi l , f in d s om e x s uc h t ha t x i s a k in g a nd x i s"
"g re ed y , a nd t he n i nf er t ha t t hi s x i s e vi l . Mo re g en er al ly , i f t he re i s s om e s ub st it ut io n θ t ha t"
m ak es e ac h o f t he c on ju nc ts o f t he p re mi se o f t he i mp li ca ti on i de nt ic al t o s en te nc es a lr ea dy
"i nt he kn ow le dg eb as e ,t he nw ec an as se rt th ec on cl us io n o ft he im pl ic at io n , a ft er ap pl yi ng θ."
"In th is ca se ,t he su bs ti tu ti on θ={x/Jo hn}a ch ie ve st ha ta im ."
We c an a ct ua ll y m ak e t he i nf er en ce s te p d o e ve n m or e w or k . Su pp os e t ha t i ns te ad o f
"k no wi ng Gr ee dy(Jo hn),w ek no wt ha te ve ry on ei sg re ed y:"
∀y Gr ee dy(y). (9.2)
"Th en w e w ou ld s ti ll l ik e t o b e a bl e t o c on cl ud e t ha t Ev il(Jo hn), b ec au se w e k no w t ha t"
Jo hn i s a k in g (g iv en) a nd Jo hn i s g re ed y (b ec au se e ve ry on e i s g re ed y). Wh at w e n ee d f or
t hi s t o w or k i s t o f in d a s ub st it ut io n b ot h f or t he v ar ia bl es i n t he i mp li ca ti on s en te nc e a nd
"f or t he v ar ia bl es i n t he s en te nc es t ha t a re i n t he k no wl ed ge b as e . In t hi s c as e , a pp ly in g t he"
"s ub st it ut io n{x/Jo hn ,y/Jo hn}t ot he im pl ic at io np re mi se s Ki ng(x)a nd Gr ee dy(x)a nd th e"
"k no wl ed ge-b as e s en te nc es Ki ng(Jo hn) a nd Gr ee dy(y) w il l m ak e t he m i de nt ic al . Th us , w e"
c an in fe rt he co nc lu si on o ft he im pl ic at io n .
Th is i nf er en ce p ro ce ss c an b e c ap tu re d a s a s in gl e i nf er en ce r ul e t ha t w e c al l Ge ne r-
"GENERALIZED a li ze d Mo du s Po ne ns:2 Fo r a to mi c s en te nc es p , p (c id:2) , a nd q , w he re t he re i s a s ub st it ut io n θ"
MODUSPONENS i i
326 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
(c id:2)
"s uc ht ha t SUBST(θ,p"
i
")=SUBST(θ,p i),f or al li ,"
"p (c id:2) , p (c id:2) , ..., p (c id:2) , (p ∧p ∧...∧p ⇒ q)"
1 2 n 1 2 n
.
"SUBST(θ,q)"
(c id:2)
Th er ea re n+1 p re mi se st ot hi sr ul e: t he na to mi cs en te nc es p a nd th eo ne im pl ic at io n . Th e
i
c on cl us io n i st he re su lt of ap pl yi ng t he su bs ti tu ti on θ t ot he co ns eq ue nt q . Fo ro ur ex am pl e:
(c id:2)
p i s Ki ng(Jo hn) p i s Ki ng(x)
1 1
(c id:2)
p i s Gr ee dy(y) p i s Gr ee dy(x)
2 2
"θ i s{x/Jo hn ,y/Jo hn} q i s Ev il(x)"
"SUBST(θ,q)i s Ev il(Jo hn)."
"It is ea sy to sh ow th at Ge ne ra li ze d Mo du s Po ne ns is as ou nd in fe re nc er ul e . Fi rs t ,w eo bs er ve"
"t ha t , f or a ny s en te nc e p (w ho se v ar ia bl es a re a ss um ed t o b e u ni ve rs al ly q ua nt if ie d) a nd f or"
"a ny su bs ti tu ti on θ,"
"p |= SUBST(θ,p)"
h ol ds b y Un iv er sa l In st an ti at io n . It h ol ds i n p ar ti cu la r f or a θ t ha t s at is fi es t he c on di ti on s o f
(c id:2) (c id:2)
"t he Ge ne ra li ze d Mo du s Po ne ns ru le . Th us ,f ro m p ,...,p w ec an in fe r"
1 n
"SUBST(θ,p 1(c id:2) )∧...∧SUBST(θ,p n(c id:2) )"
a nd fr om th ei mp li ca ti on p ∧...∧p ⇒ q w ec an in fe r
1 n
"SUBST(θ,p 1)∧...∧SUBST(θ,p n) ⇒ SUBST(θ,q)."
(c id:2)
"No w , θ i n Ge ne ra li ze d Mo du s Po ne ns i s d ef in ed s o t ha t SUBST(θ,p"
i
")=SUBST(θ,p i), f or"
a ll i ; t he re fo re t he f ir st o f t he se t wo s en te nc es m at ch es t he p re mi se o f t he s ec on d e xa ct ly .
"He nc e , SUBST(θ,q)f ol lo ws by Mo du s Po ne ns ."
Ge ne ra li ze d Mo du s Po ne ns i s a l if te d v er si on o f Mo du s Po ne ns—i t r ai se s Mo du s Po-
LIFTING
n en s f ro m g ro un d (v ar ia bl e-f re e) p ro po si ti on al l og ic t o f ir st-o rd er l og ic . We w il l s ee i n t he
"r es t o f t hi s c ha pt er t ha t w e c an d ev el op l if te d v er si on s o f t he f or wa rd c ha in in g , b ac kw ar d"
"c ha in in g , a nd r es ol ut io n a lg or it hm s i nt ro du ce d i n Ch ap te r 7. Th e k ey a dv an ta ge o f l if te d"
i nf er en ce r ul es o ve r p ro po si ti on al iz at io n i s t ha t t he y m ak e o nl y t ho se s ub st it ut io ns t ha t a re
r eq ui re d t oa ll ow pa rt ic ul ar in fe re nc es t op ro ce ed .
9.2.2 Un if ic at io n
Li ft ed i nf er en ce r ul es r eq ui re f in di ng s ub st it ut io ns t ha t m ak e d if fe re nt l og ic al e xp re ss io ns
l oo k i de nt ic al . Th is p ro ce ss i s c al le d u ni fi ca ti on a nd i s a k ey c om po ne nt o f a ll f ir st-o rd er
UNIFICATION
UNIFIER
i nf er en ce a lg or it hm s . Th e UNIFY a lg or it hm t ak es t wo s en te nc es a nd r et ur ns a u ni fi er f or
t he mi fo ne ex is ts:
"UNIFY(p ,q)=θ w he re SUBST(θ,p)=SUBST(θ,q)."
Le t u s l oo k a t s om e e xa mp le s o f h ow UNIFY s ho ul d b eh av e . Su pp os e w e h av e a q ue ry
"As k Va rs(Kn ow s(Jo hn ,x)): w ho m d oe s Jo hn k no w ? An sw er s t o t hi s q ue ry c an b e f ou nd"
2 Ge ne ra li ze d Mo du s Po ne ns is mo re ge ne ra lt ha n Mo du s Po ne ns(p ag e 249)i nt he se ns et ha tt he kn ow nf ac ts
"a nd th ep re mi se of th ei mp li ca ti on ne ed ma tc ho nl yu pt oa su bs ti tu ti on ,r at he rt ha ne xa ct ly . On th eo th er ha nd ,"
"Mo du s Po ne ns al lo ws an ys en te nc eαa st he pr em is e ,r at he rt ha nj us ta co nj un ct io no fa to mi cs en te nc es ."
Se ct io n 9.2. Un if ic at io na nd Li ft in g 327
"b yf in di ng al ls en te nc es in th ek no wl ed ge ba se th at un if yw it h Kn ow s(Jo hn ,x). He re ar et he"
r es ul ts of un if ic at io nw it hf ou rd if fe re nt se nt en ce s t ha tm ig ht be in th ek no wl ed ge ba se:
"UNIFY(Kn ow s(Jo hn ,x), Kn ow s(Jo hn ,Ja ne)) = {x/Ja ne}"
"UNIFY(Kn ow s(Jo hn ,x), Kn ow s(y ,Bi ll)) = {x/Bi ll ,y/Jo hn}"
"UNIFY(Kn ow s(Jo hn ,x), Kn ow s(y ,Mo th er(y))) = {y/Jo hn ,x/Mo th er(Jo hn)}"
"UNIFY(Kn ow s(Jo hn ,x), Kn ow s(x ,El iz ab et h)) = f ai l ."
Th e l as t u ni fi ca ti on f ai ls b ec au se x c an no t t ak e o n t he v al ue s Jo hn a nd El iz ab et h a t t he
"s am e t im e . No w , r em em be r t ha t Kn ow s(x ,El iz ab et h) m ea ns “Ev er yo ne k no ws El iz ab et h ,”"
s o w e s ho ul d b e a bl e t o i nf er t ha t Jo hn k no ws El iz ab et h . Th e p ro bl em a ri se s o nl y b ec au se
"t he t wo s en te nc es h ap pe n t o u se t he s am e v ar ia bl e n am e , x . Th e p ro bl em c an b e a vo id ed"
"STANDARDIZING b y s ta nd ar di zi ng a pa rt o ne o f t he t wo s en te nc es b ei ng u ni fi ed , w hi ch m ea ns r en am in g i ts"
APART
"v ar ia bl es t o a vo id n am e c la sh es . Fo re xa mp le , w e c an r en am e x in Kn ow s(x ,El iz ab et h) t o"
x (a ne wv ar ia bl en am e)w it ho ut ch an gi ng i ts me an in g . No wt he un if ic at io n w il lw or k:
17
"UNIFY(Kn ow s(Jo hn ,x), Kn ow s(x 17,El iz ab et h)) = {x/El iz ab et h ,x 17/Jo hn}."
Ex er ci se 9.12 d el ve sf ur th er in to th en ee df or st an da rd iz in g a pa rt .
Th er e i s o ne m or e c om pl ic at io n: w e s ai d t ha t UNIFY s ho ul d r et ur n a s ub st it ut io n
t ha t m ak es t he t wo a rg um en ts l oo k t he s am e . Bu t t he re c ou ld b e m or e t ha n o ne s uc h u ni-
"f ie r . Fo r e xa mp le , UNIFY(Kn ow s(Jo hn ,x),Kn ow s(y ,z)) c ou ld r et ur n {y/Jo hn ,x/z} o r"
"{y/Jo hn ,x/Jo hn ,z/Jo hn}. Th e f ir st u ni fi er g iv es Kn ow s(Jo hn ,z) a s t he r es ul t o f u ni fi-"
"c at io n , w he re as t he se co nd g iv es Kn ow s(Jo hn ,Jo hn). Th es ec on d r es ul t c ou ld b eo bt ai ne d"
f ro m t he f ir st b y a n a dd it io na l s ub st it ut io n {z/Jo hn}; w e s ay t ha t t he f ir st u ni fi er i s m or e
"g en er al th an th es ec on d , b ec au se i tp la ce s f ew er re st ri ct io ns o nt he v al ue so ft he va ri ab le s . It"
"MOSTGENERAL t ur ns ou tt ha t ,f or ev er yu ni fi ab le pa ir of ex pr es si on s ,t he re is as in gl em os tg en er al un if ie r(o r"
UNIFIER
"MGU)t ha ti su ni qu e u pt or en am in g a nd su bs ti tu ti on o fv ar ia bl es . (Fo re xa mp le , {x/Jo hn}"
"a nd{y/Jo hn}a re co ns id er ed eq ui va le nt ,a sa re{x/Jo hn ,y/Jo hn}a nd{x/Jo hn ,y/x}.) In"
"t hi sc as ei ti s{y/Jo hn ,x/z}."
An al go ri th m f or co mp ut in g m os tg en er al u ni fi er s i ss ho wn in Fi gu re 9.1. Th ep ro ce ss
"i ss im pl e: r ec ur si ve ly ex pl or et he tw oe xp re ss io ns s im ul ta ne ou sl y “s id eb ys id e ,”b ui ld in g u p"
"a un if ie ra lo ng th ew ay ,b ut fa il in gi ft wo co rr es po nd in g p oi nt si nt he st ru ct ur es do no tm at ch ."
"Th er e i s o ne e xp en si ve s te p: w he n m at ch in g a v ar ia bl e a ga in st a c om pl ex t er m , o ne m us t"
"c he ck wh et he rt he va ri ab le it se lf oc cu rs in si de th et er m ;i f i td oe s ,t he ma tc hf ai ls be ca us en o"
"c on si st en t u ni fi er ca nb ec on st ru ct ed . Fo re xa mp le , S(x)c an’t u ni fy w it h S(S(x)). Th is so-"
c al le d o cc ur c he ck ma ke s t he co mp le xi ty o ft he en ti re a lg or it hm q ua dr at ic i nt he si ze o ft he
OCCURCHECK
"e xp re ss io ns b ei ng u ni fi ed . So me s ys te ms , i nc lu di ng a ll l og ic p ro gr am mi ng s ys te ms , s im pl y"
o mi tt he oc cu rc he ck a nd so me ti me s m ak eu ns ou nd i nf er en ce s a sa re su lt ; o th er sy st em s u se
m or ec om pl ex al go ri th ms w it hl in ea r-t im e c om pl ex it y .
9.2.3 St or ag ea nd r et ri ev al
Un de rl yi ng t he TELL a nd ASK f un ct io ns u se d t o i nf or m a nd i nt er ro ga te a k no wl ed ge b as e
a re t he m or e p ri mi ti ve STORE a nd FETCH f un ct io ns . STORE(s) s to re s a s en te nc e s i nt o t he
k no wl ed ge b as e a nd FETCH(q) r et ur ns a ll u ni fi er s s uc h t ha t t he q ue ry q u ni fi es w it h s om e
328 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"f un ct io n UNIFY(x ,y ,θ)r et ur ns as ub st it ut io nt om ak ex a nd y i de nt ic al"
"i np ut s:x ,a va ri ab le ,c on st an t ,l is t ,o rc om po un de xp re ss io n"
"y ,a va ri ab le ,c on st an t ,l is t ,o rc om po un de xp re ss io n"
"θ,t he su bs ti tu ti on bu il tu ps of ar(o pt io na l ,d ef au lt st oe mp ty)"
i fθ=f ai lu re th en re tu rn fa il ur e
e ls ei fx =y t he nr et ur nθ
"e ls ei f VARIABLE ?(x)t he nr et ur n UNIFY-VAR(x ,y ,θ)"
"e ls ei f VARIABLE ?(y)t he nr et ur n UNIFY-VAR(y ,x ,θ)"
e ls ei f COMPOUND ?(x)a nd COMPOUND ?(y)t he n
"r et ur n UNIFY(x .ARGS ,y .ARGS ,UNIFY(x .OP ,y .OP ,θ))"
e ls ei f LIST ?(x)a nd LIST ?(y)t he n
"r et ur n UNIFY(x .REST ,y .REST ,UNIFY(x .FIRST ,y .FIRST ,θ))"
e ls er et ur nf ai lu re
"f un ct io n UNIFY-VAR(v ar ,x ,θ)r et ur ns as ub st it ut io n"
"i f{v ar/v al} ∈ θt he nr et ur n UNIFY(v al ,x ,θ)"
"e ls ei f{x/v al} ∈ θt he nr et ur n UNIFY(v ar ,v al ,θ)"
"e ls ei f OCCUR-CHECK ?(v ar ,x)t he nr et ur nf ai lu re"
e ls er et ur na dd{v ar/x}t oθ
Fi gu re 9.1 Th eu ni fi ca ti on al go ri th m . Th ea lg or it hm wo rk sb yc om pa ri ng t he st ru ct ur es
"o ft he in pu ts ,e le me nt by el em en t . Th es ub st it ut io nθ t ha ti st he ar gu me nt to UNIFY i sb ui lt"
u pa lo ng th ew ay an di su se dt om ak es ur et ha tl at er co mp ar is on sa re co ns is te nt wi th bi nd in gs
"t ha tw er ee st ab li sh ed ea rl ie r . In ac om po un de xp re ss io ns uc ha s F(A ,B),t he OPf ie ld pi ck s"
"o ut th ef un ct io ns ym bo l F a nd th e ARGSf ie ld pi ck so ut th ea rg um en tl is t(A ,B)."
s en te nc e i n t he k no wl ed ge b as e . Th e p ro bl em w e u se d t o i ll us tr at e u ni fi ca ti on—f in di ng a ll
"f ac ts th at un if yw it h Kn ow s(Jo hn ,x)—i sa ni ns ta nc eo f FETCHi ng ."
Th e s im pl es t w ay t o i mp le me nt STORE a nd FETCH i s t o k ee p a ll t he f ac ts i n o ne l on g
"l is t a nd u ni fy e ac h q ue ry a ga in st e ve ry e le me nt o f t he l is t . Su ch a p ro ce ss i s i ne ff ic ie nt , b ut"
"i t w or ks , a nd i t’s a ll y ou n ee d t o u nd er st an d t he r es t o f t he c ha pt er . Th e r em ai nd er o f t hi s"
s ec ti on ou tl in es w ay st om ak er et ri ev al mo re ef fi ci en t ;i tc an be sk ip pe do nf ir st re ad in g .
We c an m ak e FETCH m or e e ff ic ie nt b y e ns ur in g t ha t u ni fi ca ti on s a re a tt em pt ed o nl y
"w it h s en te nc es t ha t h av e s om e c ha nc e o f u ni fy in g . Fo r e xa mp le , t he re i s n o p oi nt i n t ry in g"
"t ou ni fy Kn ow s(Jo hn ,x)w it h Br ot he r(Ri ch ar d ,Jo hn). We ca na vo id su ch un if ic at io ns by"
i nd ex in g t he f ac ts i n t he k no wl ed ge b as e . A s im pl e s ch em e c al le d p re di ca te i nd ex in g p ut s
INDEXING
PREDICATE a ll t he Kn ow s f ac ts i n o ne b uc ke t a nd a ll t he Br ot he r f ac ts i n a no th er . Th e b uc ke ts c an b e
INDEXING
s to re di na ha sh ta bl ef or ef fi ci en ta cc es s .
Pr ed ic at e i nd ex in g i s u se fu l w he n t he re a re m an y p re di ca te s ym bo ls b ut o nl y a f ew
"c la us es f or e ac h s ym bo l . So me ti me s , h ow ev er , a p re di ca te h as m an y c la us es . Fo r e xa mp le ,"
"s up po se t ha t t he t ax a ut ho ri ti es w an t t o k ee p t ra ck o f w ho e mp lo ys w ho m , u si ng a p re di-"
"c at e Em pl oy s(x ,y). Th is w ou ld b e a v er y l ar ge b uc ke t w it h p er ha ps m il li on s o f e mp lo ye rs"
Se ct io n 9.2. Un if ic at io na nd Li ft in g 329
"Em pl oy s(x ,y) Em pl oy s(x ,y)"
"Em pl oy s(x ,Ri ch ar d) Em pl oy s(IBM ,y) Em pl oy s(x ,Jo hn) Em pl oy s(x ,x) Em pl oy s(Jo hn ,y)"
"Em pl oy s(IBM ,Ri ch ar d) Em pl oy s(Jo hn ,Jo hn)"
(a) (b)
"Fi gu re 9.2 (a)Th es ub su mp ti on la tt ic ew ho se lo we st no de is Em pl oy s(IBM ,Ri ch ar d)."
"(b)Th es ub su mp ti on la tt ic ef or th es en te nc e Em pl oy s(Jo hn ,Jo hn)."
"a nd t en s o f m il li on s o f e mp lo ye es . An sw er in g a q ue ry s uc h a s Em pl oy s(x ,Ri ch ar d) w it h"
p re di ca te i nd ex in gw ou ld re qu ir es ca nn in g t he en ti re bu ck et .
"Fo rt hi s p ar ti cu la r q ue ry , i t w ou ld h el p i f f ac ts w er e i nd ex ed b ot h b y p re di ca te a nd b y"
"s ec on da rg um en t , p er ha ps u si ng ac om bi ne d h as ht ab le ke y . Th en we co ul ds im pl yc on st ru ct"
t he k ey f ro m t he q ue ry a nd r et ri ev e e xa ct ly t ho se f ac ts t ha t u ni fy w it h t he q ue ry . Fo r o th er
"q ue ri es , s uc h a s Em pl oy s(IBM ,y), w e w ou ld n ee d t o h av e i nd ex ed t he f ac ts b y c om bi ni ng"
"t he p re di ca te w it h t he f ir st a rg um en t . Th er ef or e , f ac ts c an b e s to re d u nd er m ul ti pl e i nd ex"
"k ey s ,r en de ri ng t he mi ns ta nt ly a cc es si bl e t ov ar io us qu er ie st ha tt he ym ig ht un if yw it h ."
"Gi ve na se nt en ce t ob es to re d , i ti sp os si bl e t oc on st ru ct i nd ic es f or al lp os si bl e q ue ri es"
"t ha tu ni fy wi th it . Fo rt he fa ct Em pl oy s(IBM ,Ri ch ar d),t he qu er ie sa re"
"Em pl oy s(IBM ,Ri ch ar d) Do es IBMe mp lo y Ri ch ar d ?"
"Em pl oy s(x ,Ri ch ar d) Wh oe mp lo ys Ri ch ar d ?"
"Em pl oy s(IBM ,y) Wh om do es IBMe mp lo y ?"
"Em pl oy s(x ,y) Wh oe mp lo ys wh om ?"
"SUBSUMPTION Th es e q ue ri es f or m a s ub su mp ti on l at ti ce , a s s ho wn i n Fi gu re 9.2(a). Th e l at ti ce h as s om e"
LATTICE
"i nt er es ti ng p ro pe rt ie s . Fo r e xa mp le , t he c hi ld o f a ny n od e i n t he l at ti ce i s o bt ai ne d f ro m i ts"
p ar en t b y a s in gl e s ub st it ut io n ; a nd t he “h ig he st” c om mo n d es ce nd an t o f a ny t wo n od es i s
t he r es ul t o f a pp ly in g t he ir m os tg en er al u ni fi er . Th ep or ti on o ft he l at ti ce a bo ve a ny gr ou nd
f ac tc an be co ns tr uc te ds ys te ma ti ca ll y (Ex er ci se 9.5). As en te nc ew it hr ep ea te dc on st an ts ha s
"a s li gh tl y d if fe re nt l at ti ce , a s s ho wn i n Fi gu re 9.2(b). Fu nc ti on s ym bo ls a nd v ar ia bl es i n t he"
s en te nc es t ob es to re di nt ro du ce s ti ll mo re in te re st in g l at ti ce st ru ct ur es .
Th e s ch em e w e h av e d es cr ib ed w or ks v er y w el l w he ne ve r t he l at ti ce c on ta in s a s ma ll
"n um be r o f n od es . Fo r a p re di ca te w it h n a rg um en ts , h ow ev er , t he l at ti ce c on ta in s O(2 n)"
"n od es . If f un ct io n s ym bo ls a re a ll ow ed , t he n um be r o f n od es i s a ls o e xp on en ti al i n t he s iz e"
o ft he te rm si nt he se nt en ce to be st or ed . Th is ca nl ea dt oa hu ge nu mb er of in di ce s . At so me
"p oi nt , t he b en ef it s o f i nd ex in g a re o ut we ig he d b y t he c os ts o f s to ri ng a nd m ai nt ai ni ng a ll"
"t he i nd ic es . We ca n r es po nd b y a do pt in g a fi xe dp ol ic y , s uc h a s m ai nt ai ni ng i nd ic es o nl y o n"
"k ey sc om po se do fa pr ed ic at ep lu se ac ha rg um en t ,o rb yu si ng an ad ap ti ve po li cy th at cr ea te s"
"i nd ic es t o m ee t t he d em an ds o f t he k in ds o f q ue ri es b ei ng a sk ed . Fo r m os t AI s ys te ms , t he"
n um be r o f f ac ts t o b e s to re d i s s ma ll e no ug h t ha t e ff ic ie nt i nd ex in g i s c on si de re d a s ol ve d
"p ro bl em . Fo r c om me rc ia l d at ab as es , w he re f ac ts n um be r i n t he b il li on s , t he p ro bl em h as"
b ee nt he su bj ec to fi nt en si ve st ud ya nd te ch no lo gy d ev el op me nt ..
330 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
9.3 FORWARD CHAINING
A f or wa rd-c ha in in g a lg or it hm f or p ro po si ti on al d ef in it e c la us es w as g iv en i n Se ct io n 7.5.
Th e i de a i s s im pl e: s ta rt w it h t he a to mi c s en te nc es i n t he k no wl ed ge b as e a nd a pp ly Mo du s
"Po ne ns i n t he f or wa rd d ir ec ti on , a dd in g n ew a to mi c s en te nc es , u nt il n o f ur th er i nf er en ce s"
"c an b e m ad e . He re , w e e xp la in h ow t he a lg or it hm i s a pp li ed t o f ir st-o rd er d ef in it e c la us es ."
De fi ni te cl au se ss uc ha s Si tu at io n ⇒ Re sp on se a re es pe ci al ly us ef ul fo rs ys te ms th at ma ke
"i nf er en ce s i n r es po ns e t o n ew ly ar ri ve d i nf or ma ti on . Ma ny sy st em s c an b ed ef in ed t hi s w ay ,"
a nd fo rw ar dc ha in in gc an be im pl em en te dv er ye ff ic ie nt ly .
9.3.1 Fi rs t-o rd er d ef in it e c la us es
Fi rs t-o rd er d ef in it e c la us es c lo se ly r es em bl e p ro po si ti on al d ef in it e c la us es (p ag e 256): t he y
a re di sj un ct io ns o fl it er al s o fw hi ch e xa ct ly o ne is po si ti ve . Ad ef in it ec la us e e it he ri sa to mi c
o r i s a n i mp li ca ti on w ho se a nt ec ed en t i s a c on ju nc ti on o f p os it iv e l it er al s a nd w ho se c on se-
q ue nt is as in gl ep os it iv el it er al . Th ef ol lo wi ng ar ef ir st-o rd er de fi ni te cl au se s:
Ki ng(x)∧Gr ee dy(x) ⇒ Ev il(x).
Ki ng(Jo hn).
Gr ee dy(y).
"Un li ke p ro po si ti on al l it er al s , f ir st-o rd er l it er al s c an i nc lu de v ar ia bl es , i n w hi ch c as e t ho se"
"v ar ia bl es a re a ss um ed t o b e u ni ve rs al ly q ua nt if ie d . (Ty pi ca ll y , w e o mi t u ni ve rs al q ua nt if ie rs"
w he n w ri ti ng d ef in it e c la us es .) No t e ve ry k no wl ed ge b as e c an b e c on ve rt ed i nt o a s et o f
"d ef in it e c la us es b ec au se o f t he s in gl e-p os it iv e-l it er al r es tr ic ti on , b ut m an y c an . Co ns id er t he"
f ol lo wi ng pr ob le m:
Th e l aw s ay s t ha ti t i s a c ri me f or an Am er ic an t o s el l w ea po ns to h os ti le n at io ns . Th e
"c ou nt ry No no ,a ne ne my of Am er ic a ,h as so me mi ss il es ,a nd al lo fi ts mi ss il es we re so ld"
"t oi tb y Co lo ne l We st ,w ho is Am er ic an ."
"We wi ll pr ov et ha t We st is ac ri mi na l . Fi rs t ,w ew il lr ep re se nt th es ef ac ts as fi rs t-o rd er de fi ni te"
c la us es . Th en ex ts ec ti on s ho ws ho wt he fo rw ar d-c ha in in g a lg or it hm s ol ve st he pr ob le m .
“...i ti sa cr im ef or an Am er ic an to se ll we ap on st oh os ti le na ti on s”:
"Am er ic an(x)∧We ap on(y)∧Se ll s(x ,y ,z)∧Ho st il e(z) ⇒ Cr im in al(x). (9.3)"
"“No no ...h as so me mi ss il es .” Th es en te nc e∃x Ow ns(No no ,x)∧Mi ss il e(x)i st ra ns fo rm ed"
"i nt ot wo de fi ni te cl au se sb y Ex is te nt ia l In st an ti at io n , i nt ro du ci ng a ne wc on st an t M :"
1
"Ow ns(No no ,M ) (9.4)"
1
M . i ss il e(M ) (9.5)
1
“Al lo fi ts mi ss il es we re so ld to it by Co lo ne l We st”:
"Mi ss il e(x)∧Ow ns(No no ,x) ⇒ Se ll s(We st ,x ,No no). (9.6)"
We wi ll al so ne ed to kn ow th at mi ss il es ar ew ea po ns:
Mi ss il e(x) ⇒ We ap on(x) (9.7)
Se ct io n 9.3. Fo rw ar d Ch ai ni ng 331
a nd we mu st kn ow th at an en em yo f Am er ic ac ou nt sa s“h os ti le”:
"En em y(x ,Am er ic a) ⇒ Ho st il e(x). (9.8)"
"“We st ,w ho is Am er ic an ...”:"
Am er ic an(We st). (9.9)
"“Th ec ou nt ry No no ,a ne ne my of Am er ic a ...”:"
"En em y(No no ,Am er ic a). (9.10)"
Th is k no wl ed ge b as e c on ta in s n o f un ct io n s ym bo ls a nd i s t he re fo re a n i ns ta nc e o f t he c la ss
o f Da ta lo g k no wl ed ge b as es . Da ta lo g i s a l an gu ag e t ha t i s r es tr ic te d t o f ir st-o rd er d ef in it e
DATALOG
c la us es w it hn of un ct io n s ym bo ls . Da ta lo g g et si ts na me be ca us e i tc an re pr es en t t he ty pe of
s ta te me nt s t yp ic al ly m ad e i n r el at io na l d at ab as es . We w il l s ee t ha t t he a bs en ce o f f un ct io n
s ym bo ls ma ke si nf er en ce m uc he as ie r .
9.3.2 A s im pl ef or wa rd-c ha in in g a lg or it hm
"Th ef ir st fo rw ar d-c ha in in g a lg or it hm we co ns id er is as im pl e o ne ,s ho wn in Fi gu re 9.3. St ar t-"
"i ng f ro m t he k no wn f ac ts , i t t ri gg er s a ll t he r ul es w ho se p re mi se s a re s at is fi ed , a dd in g t he ir"
c on cl us io ns t o t he k no wn f ac ts . Th e p ro ce ss r ep ea ts u nt il t he q ue ry i s a ns we re d (a ss um in g
t ha t j us t o ne a ns we r i s r eq ui re d) o r n o n ew f ac ts a re a dd ed . No ti ce t ha t a f ac t i s n ot “n ew”
i f i t i s j us t a r en am in g o f a k no wn f ac t . On e s en te nc e i s a r en am in g o f a no th er i f t he y
RENAMING
"a re i de nt ic al e xc ep t f or t he n am es o f t he v ar ia bl es . Fo r e xa mp le , Li ke s(x ,Ic e Cr ea m) a nd"
"Li ke s(y ,Ic e Cr ea m) a re re na mi ng s o fe ac h o th er be ca us e t he yd if fe r o nl y i n t he ch oi ce o f x"
o ry ;t he ir me an in gs ar ei de nt ic al: e ve ry on el ik es ic ec re am .
We u se o ur c ri me p ro bl em t o i ll us tr at e h ow FOL-FC-ASK w or ks . Th e i mp li ca ti on
"s en te nc es a re(9.3),(9.6),(9.7),a nd(9.8). Tw oi te ra ti on s a re re qu ir ed:"
"• On th ef ir st it er at io n , r ul e(9.3)h as un sa ti sf ie dp re mi se s ."
"Ru le(9.6)i ss at is fi ed wi th{x/M },a nd Se ll s(We st ,M ,No no)i sa dd ed ."
1 1
"Ru le(9.7)i ss at is fi ed wi th{x/M },a nd We ap on(M )i sa dd ed ."
1 1
"Ru le(9.8)i ss at is fi ed wi th{x/No no},a nd Ho st il e(No no)i sa dd ed ."
"• On t he s ec on d i te ra ti on , r ul e (9.3) i s s at is fi ed w it h {x/We st ,y/M ,z/No no}, a nd"
1
Cr im in al(We st)i sa dd ed .
Fi gu re 9.4 s ho ws t he pr oo f t re et ha t i sg en er at ed . No ti ce t ha t n on ew in fe re nc es a re po ss ib le
a t t hi s p oi nt b ec au se e ve ry s en te nc e t ha t c ou ld b e c on cl ud ed b y f or wa rd c ha in in g i s a lr ea dy
c on ta in ed ex pl ic it ly in th e KB .Su ch ak no wl ed ge ba se is ca ll ed af ix ed po in to ft he in fe re nc e
p ro ce ss . Fi xe dp oi nt sr ea ch ed by fo rw ar dc ha in in gw it hf ir st-o rd er de fi ni te cl au se sa re si mi la r
t ot ho se fo rp ro po si ti on al f or wa rd ch ai ni ng (p ag e 258);t he p ri nc ip al d if fe re nc e i st ha ta fi rs t-
o rd er fi xe dp oi nt ca ni nc lu de u ni ve rs al ly q ua nt if ie da to mi cs en te nc es .
"FOL-FC-ASK i se as y t o a na ly ze . Fi rs t , i ti s s ou nd ,b ec au se e ve ry i nf er en ce i s j us t a n"
"a pp li ca ti on of Ge ne ra li ze d Mo du s Po ne ns ,w hi ch is so un d . Se co nd ,i ti sc om pl et ef or de fi ni te"
"c la us e k no wl ed ge b as es ; t ha t i s , i t a ns we rs e ve ry q ue ry w ho se a ns we rs a re e nt ai le d b y a ny"
"k no wl ed ge ba se of de fi ni te cl au se s . Fo r Da ta lo gk no wl ed ge ba se s ,w hi ch co nt ai nn of un ct io n"
"s ym bo ls , t he p ro of o f c om pl et en es s i s f ai rl y e as y . We b eg in b y c ou nt in g t he n um be r o f"
332 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"f un ct io n FOL-FC-ASK(KB ,α)r et ur ns as ub st it ut io no rf al se"
"i np ut s:KB ,t he kn ow le dg eb as e ,a se to ff ir st-o rd er de fi ni te cl au se s"
"α,t he qu er y ,a na to mi cs en te nc e"
"l oc al va ri ab le s: n ew ,t he ne ws en te nc es in fe rr ed on ea ch it er at io n"
r ep ea tu nt il ne w i se mp ty
n ew←{}
f or ea ch ru le i n KB d o
(p 1∧...∧ p n ⇒ q)←STANDARDIZE-VARIABLES(r ul e)
"f or ea chθs uc ht ha t SUBST(θ,p"
1
"∧ ... ∧ p n)=SUBST(θ,p 1(c id:5) ∧ ... ∧ p n(c id:5))"
"f or so me p(c id:5),...,p(c id:5) i n KB"
1 n
"q(c id:5)←SUBST(θ,q)"
i fq(c id:5) d oe sn ot un if yw it hs om es en te nc ea lr ea dy in KB o rn ew t he n
a dd q(c id:5)t on ew
"φ←UNIFY(q(c id:5),α)"
i fφi sn ot fa il t he nr et ur nφ
a dd ne w t o KB
r et ur nf al se
"Fi gu re 9.3 A c on ce pt ua ll y s tr ai gh tf or wa rd , b ut v er y i ne ff ic ie nt , f or wa rd-c ha in in ga lg o-"
"r it hm . On ea ch it er at io n ,i ta dd st o KB a ll th ea to mi cs en te nc es th at ca nb ei nf er re di no ne"
s te p f ro mt he i mp li ca ti on se nt en ce sa nd th ea to mi cs en te nc es al re ad yi n KB . Th ef un ct io n
STANDARDIZE-VARIABLES r ep la ce sa ll va ri ab le si ni ts ar gu me nt sw it hn ew on es th at ha ve
n ot be en us ed be fo re .
Cr im in al(We st)
"We ap on(M) Se ll s(We st ,M ,No no) Ho st il e(No no)"
1 1
"Am er ic an(We st) Mi ss il e(M) Ow ns(No no ,M) En em y(No no ,Am er ic a)"
1 1
Fi gu re 9.4 Th ep ro of tr ee ge ne ra te db yf or wa rd ch ai ni ng on th ec ri me ex am pl e .Th ei ni ti al
"f ac ts ap pe ar at th e b ot to ml ev el , f ac ts in fe rr ed on t he f ir st it er at io ni n t he m id dl el ev el , a nd"
f ac ts in fe rr ed on th es ec on di te ra ti on at th et op le ve l .
"p os si bl e f ac ts th at ca nb ea dd ed , w hi ch de te rm in es t he ma xi mu mn um be ro fi te ra ti on s . Le tk"
"b et he ma xi mu ma ri ty(n um be ro fa rg um en ts)o fa ny pr ed ic at e , p be th en um be ro fp re di ca te s ,"
"a nd n b e t he n um be r o f c on st an t s ym bo ls . Cl ea rl y , t he re c an b e n o m or e t ha n p nk d is ti nc t"
"g ro un df ac ts ,s oa ft er th is ma ny it er at io ns th ea lg or it hm mu st ha ve re ac he da fi xe dp oi nt . Th en"
w ec an ma ke an ar gu me nt ve ry si mi la rt ot he pr oo fo fc om pl et en es sf or pr op os it io na lf or wa rd
Se ct io n 9.3. Fo rw ar d Ch ai ni ng 333
c ha in in g . (Se e p ag e 258.) Th e d et ai ls o f h ow t o m ak e t he t ra ns it io n f ro m p ro po si ti on al t o
f ir st-o rd er co mp le te ne ss a re gi ve nf or th er es ol ut io n a lg or it hm i n Se ct io n 9.5.
"Fo r g en er al d ef in it e c la us es w it h f un ct io n s ym bo ls , FOL-FC-ASK c an g en er at e i n-"
"f in it el y m an y n ew f ac ts , s o w e n ee d t o b e m or e c ar ef ul . Fo rt he c as e i n w hi ch a n a ns we r t o"
"t he q ue ry s en te nc e q i s e nt ai le d , w e m us t a pp ea l t o He rb ra nd’s t he or em t o e st ab li sh t ha t t he"
a lg or it hm w il l f in d a p ro of . (Se e Se ct io n 9.5 f or t he r es ol ut io n c as e .) If t he q ue ry h as n o
"a ns we r , t he a lg or it hm c ou ld f ai l t o t er mi na te i n s om e c as es . Fo r e xa mp le , i f t he k no wl ed ge"
b as ei nc lu de s t he Pe an oa xi om s
Na t Nu m(0)
"∀n Na t Nu m(n) ⇒ Na t Nu m(S(n)),"
"t he n f or wa rd c ha in in g a dd s Na t Nu m(S(0)), Na t Nu m(S(S(0))), Na t Nu m(S(S(S(0)))),"
"a nd s o o n . Th is p ro bl em i s u na vo id ab le i n g en er al . As w it h g en er al f ir st-o rd er l og ic , e nt ai l-"
m en tw it hd ef in it ec la us es i ss em id ec id ab le .
9.3.3 Ef fi ci en t f or wa rd ch ai ni ng
Th e f or wa rd-c ha in in g a lg or it hm i n Fi gu re 9.3 i s d es ig ne d f or e as e o f u nd er st an di ng r at he r
"t ha n f or e ff ic ie nc y o f o pe ra ti on . Th er e a re t hr ee p os si bl e s ou rc es o f i ne ff ic ie nc y . Fi rs t , t he"
“i nn er l oo p” o f t he a lg or it hm i nv ol ve s f in di ng a ll p os si bl e u ni fi er s s uc h t ha t t he p re mi se o f
a ru le u ni fi es w it h a su it ab le s et o ff ac ts i n t he k no wl ed ge b as e . Th is i s o ft en c al le d p at te rn
"m at ch in g a nd c an b e v er y e xp en si ve . Se co nd , t he a lg or it hm r ec he ck s e ve ry r ul e o n e ve ry"
PATTERNMATCHING
"i te ra ti on t o s ee w he th er i ts p re mi se s a re s at is fi ed , e ve n i fv er y f ew a dd it io ns a re m ad e t o t he"
"k no wl ed ge b as e o n e ac h i te ra ti on . Fi na ll y , t he a lg or it hm m ig ht g en er at e m an y f ac ts t ha t a re"
i rr el ev an t t ot he go al . We ad dr es se ac ho ft he se is su es in tu rn .
Ma tc hi ng ru le sa ga in st kn ow nf ac ts
Th ep ro bl em of ma tc hi ng th ep re mi se of ar ul ea ga in st th ef ac ts in th ek no wl ed ge ba se mi gh t
"s ee ms im pl ee no ug h . Fo re xa mp le ,s up po se w ew an tt oa pp ly th er ul e"
Mi ss il e(x) ⇒ We ap on(x).
Th en we ne ed to fi nd al lt he fa ct st ha tu ni fy wi th Mi ss il e(x);i na su it ab ly in de xe dk no wl ed ge
"b as e ,t hi sc an be do ne in co ns ta nt t im ep er fa ct . No wc on si de r a ru le su ch as"
"Mi ss il e(x)∧Ow ns(No no ,x) ⇒ Se ll s(We st ,x ,No no)."
"Ag ai n ,w ec an fi nd al lt he ob je ct s o wn ed by No no in co ns ta nt t im ep er ob je ct ; t he n , f or ea ch"
"o bj ec t , w ec ou ld c he ck w he th er i t i sa m is si le . If t he k no wl ed ge b as e c on ta in s m an yo bj ec ts"
"o wn ed by No no an dv er yf ew mi ss il es ,h ow ev er ,i tw ou ld be be tt er to fi nd al lt he mi ss il es fi rs t"
CONJUNCT a nd t he n c he ck w he th er t he y a re o wn ed b y No no . Th is i s t he c on ju nc t o rd er in g p ro bl em:
ORDERING
f in da no rd er in gt os ol ve th ec on ju nc ts o ft he ru le pr em is es ot ha tt he to ta lc os ti sm in im iz ed .
"It t ur ns o ut t ha t f in di ng t he o pt im al o rd er in g i s NP-h ar d , b ut g oo d h eu ri st ic s a re a va il ab le ."
"Fo re xa mp le , t he m in im um-r em ai ni ng-v al ue s (MRV)h eu ri st ic u se d f or CSPs in Ch ap te r 6"
w ou ld s ug ge st o rd er in g t he c on ju nc ts t o l oo k f or mi ss il es f ir st i f f ew er m is si le s t ha n o bj ec ts
a re ow ne db y No no .
334 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"NT Di ff(w a ,n t)∧Di ff(w a ,s a)∧"
Q
"Di ff(n t ,q)∧Di ff(n t ,s a)∧"
WA
"Di ff(q ,n sw)∧Di ff(q ,s a)∧"
"Di ff(n sw ,v)∧Di ff(n sw ,s a)∧"
SA NSW
"Di ff(v ,s a) ⇒ Co lo ra bl e()"
"V Di ff(Re d ,Bl ue) Di ff(Re d ,Gr ee n)"
"Di ff(Gr ee n ,Re d)Di ff(Gr ee n ,Bl ue)"
"Di ff(Bl ue ,Re d) Di ff(Bl ue ,Gr ee n)"
T
(a) (b)
Fi gu re 9.5 (a)Co ns tr ai nt gr ap hf or co lo ri ng th em ap of Au st ra li a . (b)Th em ap-c ol or in g
CSPe xp re ss ed as as in gl ed ef in it ec la us e .Ea ch ma pr eg io ni sr ep re se nt ed as av ar ia bl ew ho se
"v al ue ca nb eo ne of th ec on st an ts Re d ,Gr ee n o r Bl ue ."
Th e c on ne ct io n b et we en p at te rn m at ch in g a nd c on st ra in t s at is fa ct io n i s a ct ua ll y v er y
c lo se . We c an v ie w e ac h c on ju nc t a s a c on st ra in t o n t he v ar ia bl es t ha t i t c on ta in s—f or e x-
"a mp le , Mi ss il e(x) i s a u na ry c on st ra in t o n x . Ex te nd in g t hi s i de a , w e c an e xp re ss e ve ry"
f in it e-d om ai n CSP a s a s in gl e d ef in it e c la us e t og et he r w it h s om e a ss oc ia te d g ro un d f ac ts .
"Co ns id er th em ap-c ol or in gp ro bl em fr om Fi gu re 6.1,s ho wn ag ai ni n Fi gu re 9.5(a). An eq ui v-"
"a le nt fo rm ul at io n a sa si ng le de fi ni te cl au se is gi ve ni n Fi gu re 9.5(b). Cl ea rl y , t he co nc lu si on"
Co lo ra bl e()c an be in fe rr ed o nl yi ft he CSPh as as ol ut io n . Be ca us e CSPs in ge ne ra li nc lu de
"3-SAT p ro bl em s a s s pe ci al c as es , w ec an c on cl ud e t ha t m at ch in g a d ef in it e c la us e a ga in st a"
s et of fa ct si s NP-h ar d .
It mi gh ts ee mr at he rd ep re ss in gt ha tf or wa rd ch ai ni ng ha sa n NP-h ar dm at ch in gp ro bl em
i ni ts in ne rl oo p . Th er ea re th re ew ay st oc he er ou rs el ve su p:
• We c an r em in d o ur se lv es t ha t m os t r ul es i n r ea l-w or ld k no wl ed ge b as es a re s ma ll a nd
s im pl e (l ik e t he r ul es i n o ur c ri me e xa mp le) r at he r t ha n l ar ge a nd c om pl ex (l ik e t he
CSP f or mu la ti on i n Fi gu re 9.5). It i s c om mo n i n t he d at ab as e w or ld t o a ss um e t ha t
b ot h t he s iz es o f r ul es a nd t he a ri ti es o f p re di ca te s a re b ou nd ed b y a c on st an t a nd t o
"w or ry o nl y a bo ut d at a c om pl ex it y—t ha t i s , t he c om pl ex it y o f i nf er en ce a s a f un ct io n"
DATACOMPLEXITY
o f t he n um be r o f g ro un d f ac ts i n t he k no wl ed ge b as e . It i s e as y t o s ho w t ha t t he d at a
c om pl ex it yo ff or wa rd ch ai ni ng i sp ol yn om ia l .
• We c an c on si de r s ub cl as se s o f r ul es f or w hi ch m at ch in g i s e ff ic ie nt . Es se nt ia ll y e ve ry
"Da ta lo g c la us e c an b e v ie we d a s d ef in in g a CSP , s o m at ch in g w il l b e t ra ct ab le j us t"
w he nt he co rr es po nd in g CSPi st ra ct ab le . Ch ap te r 6 d es cr ib es se ve ra lt ra ct ab le fa mi li es
"o f CSPs . Fo r e xa mp le , i f t he c on st ra in t g ra ph (t he g ra ph w ho se n od es a re v ar ia bl es"
"a nd w ho se l in ks a re c on st ra in ts) f or ms a t re e , t he n t he CSP c an b e s ol ve d i n l in ea r"
"t im e . Ex ac tl yt he sa me re su lt ho ld sf or ru le ma tc hi ng . Fo ri ns ta nc e ,i fw er em ov e So ut h"
Se ct io n 9.3. Fo rw ar d Ch ai ni ng 335
"Au st ra li af ro mt he ma pi n Fi gu re 9.5,t he re su lt in gc la us ei s"
"Di ff(w a ,n t)∧Di ff(n t ,q)∧Di ff(q ,n sw)∧Di ff(n sw ,v) ⇒ Co lo ra bl e()"
w hi ch co rr es po nd s t ot he r ed uc ed CSPs ho wn i n Fi gu re 6.12 o np ag e 224. Al go ri th ms
f or so lv in gt re e-s tr uc tu re d CSPs ca nb ea pp li ed di re ct ly to th ep ro bl em of ru le ma tc hi ng .
• We c an t ry t o t o e li mi na te r ed un da nt r ul e-m at ch in g a tt em pt s i n t he f or wa rd-c ha in in g
"a lg or it hm , a sd es cr ib ed n ex t ."
In cr em en ta lf or wa rd ch ai ni ng
"Wh en we sh ow ed ho w f or wa rd c ha in in g w or ks on th ec ri me ex am pl e , w ec he at ed ; i np ar ti c-"
"u la r , w e o mi tt ed s om e o f t he r ul e m at ch in g d on e b y t he a lg or it hm s ho wn i n Fi gu re 9.3. Fo r"
"e xa mp le ,o nt he se co nd it er at io n , t he ru le"
Mi ss il e(x) ⇒ We ap on(x)
"m at ch es ag ai ns t Mi ss il e(M )(a ga in), a nd of co ur se t he co nc lu si on We ap on(M )i sa lr ea dy"
1 1
k no wn s o n ot hi ng h ap pe ns . Su ch r ed un da nt r ul e m at ch in g c an b e a vo id ed i f w e m ak e t he
f ol lo wi ng o bs er va ti on: Ev er y n ew f ac t i nf er re d o n i te ra ti on t m us t b e d er iv ed f ro m a t l ea st
o ne n ew f ac t i nf er re d o n i te ra ti on t − 1. Th is i s t ru e b ec au se a ny i nf er en ce t ha t d oe s n ot
r eq ui re an ew fa ct fr om it er at io n t−1 c ou ld ha ve be en do ne at it er at io n t−1 a lr ea dy .
"Th is o bs er va ti on l ea ds n at ur al ly t o a n i nc re me nt al f or wa rd-c ha in in g a lg or it hm w he re ,"
"a ti te ra ti on t ,w ec he ck ar ul eo nl yi fi ts pr em is ei nc lu de sa co nj un ct p t ha tu ni fi es wi th af ac t"
i
"p(c id:2) n ew ly in fe rr ed at it er at io n t−1. Th er ul e-m at ch in g s te pt he nf ix es p t om at ch wi th p(c id:2) ,b ut"
i i i
a ll ow s t he o th er c on ju nc ts o f t he r ul e t o m at ch w it h f ac ts f ro m a ny p re vi ou s i te ra ti on . Th is
"a lg or it hm ge ne ra te se xa ct ly th es am ef ac ts at ea ch it er at io na st he al go ri th mi n Fi gu re 9.3,b ut"
i sm uc hm or ee ff ic ie nt .
"Wi th s ui ta bl e i nd ex in g , i t i s e as y t o i de nt if y a ll t he r ul es t ha t c an b e t ri gg er ed b y a ny"
"g iv en fa ct ,a nd in de ed ma ny re al sy st em so pe ra te in an“u pd at e”m od ew he re in fo rw ar dc ha in-"
i ng o cc ur s i n r es po ns e t o e ac h n ew f ac t t ha t i s TELLe d t o t he s ys te m . In fe re nc es c as ca de
"t hr ou gh t he se to fr ul es un ti lt he fi xe dp oi nt is re ac he d , a nd th en th ep ro ce ss b eg in sa ga in fo r"
t he ne xt ne wf ac t .
"Ty pi ca ll y ,o nl ya sm al lf ra ct io no ft he ru le si nt he kn ow le dg eb as ea re ac tu al ly tr ig ge re d"
b y t he a dd it io n o f a g iv en f ac t . Th is m ea ns t ha t a g re at d ea l o f r ed un da nt w or k i s d on e i n
r ep ea te dl y c on st ru ct in g p ar ti al m at ch es t ha t h av e s om e u ns at is fi ed p re mi se s . Ou r c ri me e x-
"a mp le is ra th er to os ma ll to sh ow th is ef fe ct iv el y ,b ut no ti ce th at ap ar ti al ma tc hi sc on st ru ct ed"
o nt he fi rs ti te ra ti on be tw ee nt he ru le
"Am er ic an(x)∧We ap on(y)∧Se ll s(x ,y ,z)∧Ho st il e(z) ⇒ Cr im in al(x)"
a nd th ef ac t Am er ic an(We st). Th is pa rt ia lm at ch is th en di sc ar de da nd re bu il to nt he se co nd
i te ra ti on (w he n t he r ul e s uc ce ed s). It w ou ld b e b et te r t o r et ai n a nd g ra du al ly c om pl et e t he
"p ar ti al ma tc he sa sn ew fa ct sa rr iv e ,r at he rt ha nd is ca rd in g t he m ."
Th e r et e a lg or it hm 3 w as t he f ir st t o a dd re ss t hi s p ro bl em . Th e a lg or it hm p re pr oc es se s
RETE
t he s et o f r ul es i n t he k no wl ed ge b as e t o c on st ru ct a s or t o f d at af lo w n et wo rk i n w hi ch e ac h
3 Re te is La ti nf or ne t .Th e En gl is hp ro nu nc ia ti on rh ym es wi th tr ea ty .
336 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
n od e i s a l it er al f ro m a r ul e p re mi se . Va ri ab le b in di ng s f lo w t hr ou gh t he n et wo rk a nd a re
f il te re d o ut w he n t he y f ai l t o m at ch a l it er al . If t wo l it er al s i n a r ul e s ha re a v ar ia bl e—f or
"e xa mp le , Se ll s(x ,y ,z) ∧ Ho st il e(z) i n t he c ri me e xa mp le—t he n t he b in di ng s f ro m e ac h"
l it er al a re f il te re d t hr ou gh a n e qu al it y n od e . A v ar ia bl e b in di ng r ea ch in g a n od e f or a n n-
"a ry l it er al s uc h a s Se ll s(x ,y ,z) m ig ht h av e t ow ai t f or bi nd in gs f or th e o th er v ar ia bl es t ob e"
"e st ab li sh ed b ef or e t he p ro ce ss c an c on ti nu e . At a ny g iv en p oi nt , t he s ta te o f a r et e n et wo rk"
"c ap tu re s a ll th ep ar ti al ma tc he so ft he ru le s ,a vo id in g a gr ea td ea lo fr ec om pu ta ti on ."
"Re te n et wo rk s , a nd v ar io us i mp ro ve me nt s t he re on , h av e b ee n a k ey c om po ne nt o f s o-"
"PRODUCTION c al le d p ro du ct io n s ys te ms , w hi ch w er e a mo ng t he e ar li es t f or wa rd-c ha in in g s ys te ms i n"
SYSTEM
"w id es pr ea d u se .4 Th e XCON s ys te m (o ri gi na ll y c al le d R 1; Mc De rm ot t , 1982) w as b ui lt"
w it ha pr od uc ti on-s ys te m a rc hi te ct ur e . XCONc on ta in ed se ve ra lt ho us an d r ul es fo rd es ig ni ng
c on fi gu ra ti on so fc om pu te rc om po ne nt sf or cu st om er so ft he Di gi ta l Eq ui pm en t Co rp or at io n .
It w as o ne o f t he f ir st c le ar c om me rc ia l s uc ce ss es i n t he e me rg in g f ie ld o f e xp er t s ys te ms .
"Ma ny ot he rs im il ar sy st em sh av eb ee nb ui lt wi th th es am eu nd er ly in g t ec hn ol og y , w hi ch ha s"
b ee ni mp le me nt ed i nt he ge ne ra l-p ur po se l an gu ag e OPS-5.
"COGNITIVE Pr od uc ti on sy st em sa re al so po pu la ri nc og ni ti ve ar ch it ec tu re s—t ha t i s ,m od el so fh u-"
ARCHITECTURES
"m an re as on in g—s uc h a s ACT (An de rs on , 1983)a nd SOAR (La ir de ta l .,1987). In su ch sy s-"
"t em s , t he “w or ki ng m em or y” o f t he s ys te m m od el s h um an s ho rt-t er m m em or y , a nd t he p ro-"
"d uc ti on sa re pa rt of lo ng-t er mm em or y . On ea ch cy cl eo fo pe ra ti on , p ro du ct io ns a re ma tc he d"
a ga in st th ew or ki ng me mo ry of fa ct s . Ap ro du ct io n w ho se co nd it io ns a re sa ti sf ie dc an ad do r
"d el et e f ac ts i n w or ki ng m em or y . In c on tr as t t o t he t yp ic al s it ua ti on i n d at ab as es , p ro du ct io n"
s ys te ms o ft en h av e m an y r ul es a nd r el at iv el y f ew f ac ts . Wi th s ui ta bl y o pt im iz ed m at ch in g
"t ec hn ol og y , s om em od er ns ys te ms ca no pe ra te in re al ti me wi th te ns of mi ll io ns of ru le s ."
Ir re le va nt f ac ts
Th e f in al s ou rc e o f i ne ff ic ie nc y i n f or wa rd c ha in in g a pp ea rs t o b e i nt ri ns ic t o t he a pp ro ac h
a nd al so ar is es in th ep ro po si ti on al c on te xt . Fo rw ar dc ha in in gm ak es al la ll ow ab le in fe re nc es
"b as ed on th ek no wn fa ct s ,e ve ni ft he ya re ir re le va nt to th eg oa la th an d . In ou rc ri me ex am pl e ,"
"t he re we re no ru le sc ap ab le of dr aw in gi rr el ev an tc on cl us io ns , s ot he la ck of di re ct ed ne ss wa s"
"n ot ap ro bl em . In ot he rc as es(e .g .,i fm an yr ul es de sc ri be th ee at in gh ab it so f Am er ic an sa nd"
"t he pr ic es of mi ss il es), FOL-FC-ASK w il lg en er at e m an yi rr el ev an t c on cl us io ns ."
"On e w ay t o a vo id d ra wi ng i rr el ev an t c on cl us io ns i s t o u se b ac kw ar d c ha in in g , a s d e-"
s cr ib ed in Se ct io n 9.4. An ot he rs ol ut io ni st or es tr ic tf or wa rd ch ai ni ng to as el ec te ds ub se to f
"r ul es , a s i n PL-FC-ENTAILS ? (p ag e 258). A t hi rd a pp ro ac h h as e me rg ed i n t he f ie ld o f d e-"
"DEDUCTIVE d uc ti ve d at ab as es , w hi ch a re l ar ge-s ca le d at ab as es , l ik e r el at io na l d at ab as es , b ut w hi ch u se"
DATABASES
f or wa rd ch ai ni ng as th es ta nd ar di nf er en ce to ol ra th er th an SQLq ue ri es . Th ei de ai st or ew ri te
"t he r ul e s et , u si ng i nf or ma ti on f ro m t he g oa l , s o t ha t o nl y r el ev an t v ar ia bl e b in di ng s—t ho se"
"b el on gi ng to as o-c al le dm ag ic se t—a re co ns id er ed du ri ng fo rw ar di nf er en ce . Fo re xa mp le ,i f"
MAGICSET
"t he go al is Cr im in al(We st),t he ru le th at co nc lu de s Cr im in al(x)w il lb er ew ri tt en to in cl ud e"
a ne xt ra co nj un ct th at co ns tr ai ns t he va lu eo f x:
"Ma gi c(x)∧Am er ic an(x)∧We ap on(y)∧Se ll s(x ,y ,z)∧Ho st il e(z) ⇒ Cr im in al(x)."
4 Th ew or dp ro du ct io ni np ro du ct io ns ys te ms de no te sa co nd it io n–a ct io nr ul e .
Se ct io n 9.4. Ba ck wa rd Ch ai ni ng 337
"Th e f ac t Ma gi c(We st) i s a ls o a dd ed t o t he KB . In t hi s w ay , e ve n i f t he k no wl ed ge b as e"
"c on ta in s f ac ts ab ou tm il li on so f Am er ic an s , o nl y Co lo ne l We st wi ll be co ns id er ed d ur in g t he"
f or wa rd i nf er en ce p ro ce ss . Th e c om pl et e p ro ce ss f or d ef in in g m ag ic s et s a nd r ew ri ti ng t he
"k no wl ed ge b as e i s t oo c om pl ex t o g o i nt o h er e , b ut t he b as ic i de a i s t o p er fo rm a s or t o f"
“g en er ic” b ac kw ar d i nf er en ce f ro m t he g oa l i n o rd er t o w or k o ut w hi ch v ar ia bl e b in di ng s
n ee d t o b e c on st ra in ed . Th e m ag ic s et s a pp ro ac h c an t he re fo re b e t ho ug ht o f a s a k in d o f
h yb ri db et we en fo rw ar di nf er en ce a nd ba ck wa rd pr ep ro ce ss in g .
9.4 BACKWARD CHAINING
Th e s ec on d m aj or f am il y o f l og ic al i nf er en ce a lg or it hm s u se s t he b ac kw ar d c ha in in g a p-
p ro ac h i nt ro du ce d i n Se ct io n 7.5 f or de fi ni te cl au se s . Th es e a lg or it hm s w or kb ac kw ar d f ro m
"t he g oa l , c ha in in g t hr ou gh r ul es t o f in d k no wn f ac ts t ha t s up po rt t he p ro of . We d es cr ib e"
"t he ba si ca lg or it hm , a nd th en we de sc ri be ho wi ti su se di nl og ic pr og ra mm in g ,w hi ch is th e"
m os tw id el yu se df or mo fa ut om at ed re as on in g . We al so se et ha tb ac kw ar dc ha in in gh as so me
"d is ad va nt ag es c om pa re d w it hf or wa rd c ha in in g , a nd w el oo k a tw ay st o o ve rc om e t he m . Fi-"
"n al ly ,w el oo ka tt he cl os ec on ne ct io nb et we en lo gi cp ro gr am mi ng an dc on st ra in ts at is fa ct io n"
p ro bl em s .
9.4.1 A b ac kw ar d-c ha in in g a lg or it hm
"Fi gu re 9.6 s ho ws a b ac kw ar d-c ha in in g a lg or it hm f or d ef in it e c la us es . FOL-BC-ASK(KB ,"
"g oa l)w il lb e p ro ve d i ft he kn ow le dg e b as e c on ta in s a cl au se o f t he f or m l hs ⇒ g oa l , w he re"
l hs (l ef t-h an ds id e)i sa li st of co nj un ct s . An at om ic fa ct li ke Am er ic an(We st)i sc on si de re d
a sa cl au se w ho se lh s i st he em pt yl is t . No wa qu er y t ha tc on ta in s v ar ia bl es m ig ht be pr ov ed
"i n m ul ti pl e w ay s . Fo r e xa mp le , t he q ue ry Pe rs on(x) c ou ld b e p ro ve d w it h t he s ub st it ut io n"
GENERATOR
{x/Jo hn}a sw el la sw it h{x/Ri ch ar d}. So we im pl em en t FOL-BC-ASK a sa ge ne ra to r—
"a fu nc ti on t ha tr et ur ns mu lt ip le ti me s ,e ac ht im eg iv in go ne p os si bl e r es ul t ."
Ba ck wa rd c ha in in g i s a k in d o f AND/OR s ea rc h—t he OR p ar t b ec au se t he g oa l q ue ry
"c an be pr ov ed by an yr ul ei nt he kn ow le dg eb as e ,a nd th e ANDp ar tb ec au se al lt he co nj un ct s"
i nt he lh s o fa cl au se mu st be pr ov ed . FOL-BC-OR w or ks by fe tc hi ng al lc la us es t ha tm ig ht
"u ni fy w it h t he g oa l , s ta nd ar di zi ng t he v ar ia bl es i n t he c la us e t o b e b ra nd-n ew v ar ia bl es , a nd"
"t he n , i f t he r hs o f t he c la us e d oe s i nd ee d u ni fy w it h t he g oa l , p ro vi ng e ve ry c on ju nc t i n t he"
"l hs , u si ng FOL-BC-AND . Th at f un ct io n i n t ur n w or ks b y p ro vi ng e ac h o f t he c on ju nc ts i n"
"t ur n , k ee pi ng t ra ck o ft he ac cu mu la te d s ub st it ut io n a sw eg o . Fi gu re 9.7 i st he p ro of t re e f or"
d er iv in g Cr im in al(We st)f ro ms en te nc es (9.3)t hr ou gh(9.10).
"Ba ck wa rd c ha in in g , a s w e h av e w ri tt en i t , i s c le ar ly a d ep th-f ir st s ea rc h a lg or it hm ."
"Th is m ea ns t ha t i ts s pa ce r eq ui re me nt s a re l in ea r i n t he s iz e o f t he p ro of (n eg le ct in g , f or"
"n ow , t he s pa ce r eq ui re d t o a cc um ul at e t he s ol ut io ns). It a ls o m ea ns t ha t b ac kw ar d c ha in in g"
(u nl ik ef or wa rd ch ai ni ng)s uf fe rs fr om pr ob le ms wi th re pe at ed st at es an di nc om pl et en es s . We
"w il l d is cu ss t he se p ro bl em s a nd s om e p ot en ti al s ol ut io ns , b ut f ir st w e s ho w h ow b ac kw ar d"
c ha in in g i su se di nl og ic pr og ra mm in gs ys te ms .
338 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"f un ct io n FOL-BC-ASK(KB ,q ue ry)r et ur ns ag en er at or of su bs ti tu ti on s"
"r et ur n FOL-BC-OR(KB ,q ue ry ,{})"
"g en er at or FOL-BC-OR(KB ,g oa l ,θ)y ie ld sa su bs ti tu ti on"
"f or ea ch ru le(l hs ⇒ r hs)i n FETCH-RULES-FOR-GOAL(KB ,g oa l)d o"
"(l hs ,r hs)←STANDARDIZE-VARIABLES((l hs ,r hs))"
"f or ea chθ(c id:5)i n FOL-BC-AND(KB ,l hs ,UNIFY(r hs ,g oa l ,θ))d o"
y ie ldθ(c id:5)
"g en er at or FOL-BC-AND(KB ,g oa ls ,θ)y ie ld sa su bs ti tu ti on"
i fθ = f ai lu re t he nr et ur n
e ls ei f LENGTH(g oa ls)=0 t he ny ie ldθ
e ls ed o
"f ir st ,r es t←FIRST(g oa ls),REST(g oa ls)"
"f or ea chθ(c id:5)i n FOL-BC-OR(KB , SUBST(θ,f ir st),θ)d o"
"f or ea chθ(c id:5)(c id:5)i n FOL-BC-AND(KB ,r es t ,θ(c id:5))d o"
y ie ldθ(c id:5)(c id:5)
Fi gu re 9.6 As im pl eb ac kw ar d-c ha in in ga lg or it hm fo rf ir st-o rd er kn ow le dg eb as es .
Cr im in al(We st)
"Am er ic an(We st) We ap on(y) Se ll s(We st ,M ,z) Ho st il e(No no)"
1
{ } {z/No no}
"Mi ss il e(y) Mi ss il e(M ) Ow ns(No no ,M ) En em y(No no ,Am er ic a)"
1 1
{y/M 1} { } { } { }
Fi gu re 9.7 Pr oo ft re ec on st ru ct ed by ba ck wa rd ch ai ni ng to pr ov et ha t We st is ac ri mi na l .
"Th et re es ho ul db er ea dd ep th fi rs t ,l ef tt or ig ht .To pr ov e Cr im in al(We st),w eh av et op ro ve"
"t he f ou r c on ju nc ts b el ow i t . So me o f t he se a re i n t he k no wl ed ge b as e , a nd o th er s r eq ui re"
f ur th er ba ck wa rd c ha in in g . Bi nd in gs f or e ac h s uc ce ss fu l u ni fi ca ti on a re s ho wn n ex t t o t he
"c or re sp on di ng su bg oa l .No te th at on ce on es ub go al in ac on ju nc ti on su cc ee ds ,i ts su bs ti tu ti on"
"i sa pp li ed to su bs eq ue nt su bg oa ls .Th us ,b yt he ti me FOL-BC-ASKg et st ot he la st co nj un ct ,"
"o ri gi na ll y Ho st il e(z),z is al re ad yb ou nd to No no ."
Se ct io n 9.4. Ba ck wa rd Ch ai ni ng 339
9.4.2 Lo gi cp ro gr am mi ng
Lo gi c p ro gr am mi ng i s a t ec hn ol og y t ha t c om es f ai rl y c lo se t o e mb od yi ng t he d ec la ra ti ve
i de al de sc ri be di n Ch ap te r 7: t ha ts ys te ms sh ou ld be co ns tr uc te d b ye xp re ss in gk no wl ed ge in
a fo rm al la ng ua ge an dt ha tp ro bl em ss ho ul db es ol ve db yr un ni ng in fe re nc ep ro ce ss es on th at
"k no wl ed ge . Th ei de al is su mm ed up in Ro be rt Ko wa ls ki’s eq ua ti on ,"
Al go ri th m = Lo gi c +Co nt ro l .
Pr ol og i st he mo st wi de ly us ed l og ic pr og ra mm in g l an gu ag e . It is us ed p ri ma ri ly a sa ra pi d-
PROLOG
"p ro to ty pi ng la ng ua ge an df or sy mb ol-m an ip ul at io nt as ks su ch as wr it in gc om pi le rs(Va n Ro y ,"
"1990) a nd p ar si ng n at ur al l an gu ag e (Pe re ir a a nd Wa rr en , 1980). Ma ny e xp er t s ys te ms h av e"
"b ee nw ri tt en in Pr ol og fo rl eg al ,m ed ic al , f in an ci al ,a nd ot he rd om ai ns ."
Pr ol og p ro gr am s a re s et s o f d ef in it e c la us es w ri tt en i n a n ot at io n s om ew ha t d if fe re nt
f ro m s ta nd ar d f ir st-o rd er l og ic . Pr ol og us es u pp er ca se l et te rs f or va ri ab le s a nd l ow er ca se f or
"c on st an ts—t he o pp os it e o fo ur co nv en ti on f or lo gi c . Co mm as se pa ra te c on ju nc ts i na cl au se ,"
a nd t he cl au se i sw ri tt en“b ac kw ar ds” f ro m w ha tw ea re us ed t o ; i ns te ad o f A∧B ⇒ C i n
"Pr ol og we ha ve C :- A , B .He re is at yp ic al ex am pl e:"
"c ri mi na l(X) :- a me ri ca n(X), w ea po n(Y), s el ls(X ,Y ,Z), h os ti le(Z)."
Th e n ot at io n [E|L] d en ot es a l is t w ho se f ir st e le me nt i s E a nd w ho se r es t i s L . He re i s a
"Pr ol og p ro gr am f or a pp en d(X ,Y ,Z),w hi ch s uc ce ed s i f l is t Z i s t he r es ul t o f a pp en di ng"
l is ts Xa nd Y:
"a pp en d([],Y ,Y)."
"a pp en d([A|X],Y ,[A|Z]) :- a pp en d(X ,Y ,Z)."
"In En gl is h , w e c an r ea d t he se c la us es a s (1) a pp en di ng a n e mp ty l is t w it h a l is t Y p ro du ce s"
"t he s am e l is t Y a nd (2) [A|Z]i s t he r es ul t o f a pp en di ng [A|X] o nt o Y , p ro vi de d t ha t Z i s"
t he r es ul t o fa pp en di ng Xo nt o Y .In mo st h ig h-l ev el l an gu ag es w ec an w ri te as im il ar r ec ur-
s iv e f un ct io n t ha t d es cr ib es h ow t o a pp en d t wo l is ts . Th e Pr ol og d ef in it io n i s a ct ua ll y m uc h
"m or e p ow er fu l , h ow ev er , b ec au se i t d es cr ib es a r el at io n t ha t h ol ds a mo ng t hr ee a rg um en ts ,"
"r at he r t ha n a f un ct io n c om pu te d f ro m t wo a rg um en ts . Fo r e xa mp le , w e c an a sk t he q ue ry"
"a pp en d(X ,Y ,[1,2]): w ha tt wo l is ts c an b e a pp en de d t o g iv e [1,2]? We ge t b ac k t he"
s ol ut io ns
"X=[] Y=[1,2];"
X=[1] Y=[2];
"X=[1,2] Y=[]"
"Th e e xe cu ti on o f Pr ol og p ro gr am s i s d on e t hr ou gh d ep th-f ir st b ac kw ar d c ha in in g , w he re"
c la us es a re t ri ed i nt he o rd er i nw hi ch t he ya re w ri tt en i n t he k no wl ed ge b as e . So me as pe ct s
o f Pr ol og fa ll ou ts id es ta nd ar d l og ic al in fe re nc e:
"• Pr ol og u se s t he d at ab as e s em an ti cs o f Se ct io n 8.2.8 r at he r t ha n f ir st-o rd er s em an ti cs ,"
a nd th is is ap pa re nt i ni ts tr ea tm en to fe qu al it y a nd ne ga ti on(s ee Se ct io n 9.4.5).
• Th er ei sa se to fb ui lt-i n f un ct io ns f or ar it hm et ic . Li te ra ls us in gt he se fu nc ti on s ym bo ls
"a re “p ro ve d” b y e xe cu ti ng c od e r at he r t ha n d oi ng f ur th er i nf er en ce . Fo r e xa mp le , t he"
340 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"g oa l“Xi s 4+3”s uc ce ed sw it h Xb ou nd to 7. On th eo th er ha nd ,t he go al“5 i s X+Y”"
"f ai ls ,b ec au se th eb ui lt-i n f un ct io ns d on ot do ar bi tr ar y e qu at io ns ol vi ng .5"
• Th er ea re bu il t-i np re di ca te st ha th av es id ee ff ec ts wh en ex ec ut ed . Th es ei nc lu de in pu t–
o ut pu t p re di ca te s a nd t he a ss er t/r et ra ct pr ed ic at es f or mo di fy in g t he kn ow le dg e
b as e . Su ch pr ed ic at es ha ve no co un te rp ar ti nl og ic an dc an pr od uc ec on fu si ng re su lt s—
"f or ex am pl e ,i ff ac ts ar ea ss er te di na br an ch of th ep ro of tr ee th at ev en tu al ly f ai ls ."
• Th eo cc ur ch ec ki so mi tt ed fr om Pr ol og’s un if ic at io na lg or it hm . Th is me an st ha ts om e
u ns ou nd in fe re nc es c an be ma de ;t he se ar ea lm os tn ev er ap ro bl em in pr ac ti ce .
• Pr ol og us es de pt h-f ir st b ac kw ar d-c ha in in g s ea rc h w it hn oc he ck s f or in fi ni te re cu rs io n .
"Th is ma ke s i tv er y f as t w he n g iv en t he ri gh t s et of a xi om s , b ut i nc om pl et e w he n g iv en"
t he wr on go ne s .
Pr ol og’s de si gn re pr es en ts ac om pr om is eb et we en de cl ar at iv en es sa nd ex ec ut io ne ff ic ie nc y—
i na sm uc ha se ff ic ie nc yw as un de rs to od a tt he ti me Pr ol og wa sd es ig ne d .
9.4.3 Ef fi ci en t i mp le me nt at io no fl og ic pr og ra ms
Th e e xe cu ti on o f a Pr ol og p ro gr am c an h ap pe n i n t wo m od es: i nt er pr et ed a nd c om pi le d .
"In te rp re ta ti on e ss en ti al ly a mo un ts t o r un ni ng t he FOL-BC-ASK a lg or it hm f ro m Fi gu re 9.6,"
w it h t he p ro gr am a s t he k no wl ed ge b as e . We s ay “e ss en ti al ly” b ec au se Pr ol og i nt er pr et er s
c on ta in av ar ie ty of im pr ov em en ts de si gn ed t om ax im iz es pe ed . He re we co ns id er on ly tw o .
"Fi rs t , o ur i mp le me nt at io n h ad t o e xp li ci tl y m an ag e t he i te ra ti on o ve r p os si bl e r es ul ts"
"g en er at ed b y e ac h o f t he s ub fu nc ti on s . Pr ol og i nt er pr et er s h av e a g lo ba l d at a s tr uc tu re ,"
"a s ta ck o f c ho ic e p oi nt s , t o k ee p t ra ck o f t he m ul ti pl e p os si bi li ti es t ha t w e c on si de re d i n"
CHOICEPOINT
"FOL-BC-OR . Th is g lo ba l s ta ck i s m or e e ff ic ie nt , a nd i t m ak es d eb ug gi ng e as ie r , b ec au se"
t he de bu gg er ca nm ov eu pa nd do wn th es ta ck .
"Se co nd ,o ur si mp le im pl em en ta ti on of FOL-BC-ASKs pe nd sa go od de al of ti me ge ne r-"
"a ti ng su bs ti tu ti on s . In st ea do fe xp li ci tl yc on st ru ct in gs ub st it ut io ns , Pr ol og ha sl og ic va ri ab le s"
"t ha t r em em be r t he ir c ur re nt b in di ng . At a ny p oi nt i n t im e , e ve ry v ar ia bl e i n t he p ro gr am e i-"
"t he r i s u nb ou nd o r i s b ou nd t o s om e v al ue . To ge th er , t he se v ar ia bl es a nd v al ue s i mp li ci tl y"
d ef in e t he s ub st it ut io n f or t he c ur re nt b ra nc h o f t he p ro of . Ex te nd in g t he p at h c an o nl y a dd
"n ew v ar ia bl e b in di ng s , b ec au se a n a tt em pt t o a dd a d if fe re nt b in di ng f or a n a lr ea dy b ou nd"
"v ar ia bl e r es ul ts i n a f ai lu re o f u ni fi ca ti on . Wh en a p at h i n t he s ea rc h f ai ls , Pr ol og w il l b ac k"
"u pt oa pr ev io us c ho ic e p oi nt , a nd th en i tm ig ht h av e t ou nb in d s om ev ar ia bl es . Th is is do ne"
b yk ee pi ng tr ac ko fa ll th ev ar ia bl es t ha th av eb ee nb ou nd in as ta ck ca ll ed th et ra il . As ea ch
TRAIL
"n ew va ri ab le is bo un db y UNIFY-VAR ,t he va ri ab le is pu sh ed on to th et ra il . Wh en ag oa lf ai ls"
"a nd i t i s t im e t o b ac k u p t o a p re vi ou s c ho ic e p oi nt , e ac h o f t he v ar ia bl es i s u nb ou nd a s i t i s"
r em ov ed fr om th et ra il .
Ev en t he m os t e ff ic ie nt Pr ol og i nt er pr et er s r eq ui re s ev er al t ho us an d m ac hi ne i ns tr uc-
"t io ns p er i nf er en ce s te p b ec au se o f t he c os t o f i nd ex l oo ku p , u ni fi ca ti on , a nd b ui ld in g t he"
"r ec ur si ve c al l s ta ck . In e ff ec t , t he i nt er pr et er a lw ay s b eh av es a s i f i t h as n ev er s ee n t he p ro-"
"g ra m b ef or e ; f or e xa mp le , i t h as t o f in d c la us es t ha t m at ch t he g oa l . A c om pi le d Pr ol og"
"5 No te th at if th e Pe an oa xi om sa re pr ov id ed ,s uc hg oa ls ca nb es ol ve db yi nf er en ce wi th in a Pr ol og pr og ra m ."
Se ct io n 9.4. Ba ck wa rd Ch ai ni ng 341
"p ro ce du re APPEND(a x ,y ,a z ,c on ti nu at io n)"
t ra il←GLOBAL-TRAIL-POINTER()
"i fa x =[]a nd UNIFY(y ,a z)t he n CALL(c on ti nu at io n)"
RESET-TRAIL(t ra il)
"a ,x ,z←NEW-VARIABLE(),NEW-VARIABLE(),NEW-VARIABLE()"
"i f UNIFY(a x ,[a |x])a nd UNIFY(a z ,[a |z])t he n APPEND(x ,y ,z ,c on ti nu at io n)"
Fi gu re 9.8 Ps eu do co de re pr es en ti ng th er es ul to fc om pi li ng th e Ap pe nd pr ed ic at e . Th e
"f un ct io n NEW-VARIABLEr et ur ns an ew va ri ab le ,d is ti nc tf ro ma ll ot he rv ar ia bl es us ed so fa r ."
Th ep ro ce du re CALL(c on ti nu at io n)c on ti nu es ex ec ut io nw it ht he sp ec if ie dc on ti nu at io n .
"p ro gr am ,o nt he ot he rh an d ,i sa ni nf er en ce pr oc ed ur ef or as pe ci fi cs et of cl au se s ,s oi tk no ws"
w ha tc la us es m at ch th eg oa l . Pr ol og ba si ca ll y g en er at es a mi ni at ur e t he or em p ro ve rf or ea ch
"d if fe re nt pr ed ic at e , t he re by el im in at in gm uc ho ft he ov er he ad of in te rp re ta ti on . It is al so po s-"
"s ib le t o o pe n-c od e t he u ni fi ca ti on r ou ti ne f or e ac h d if fe re nt c al l , t he re by a vo id in g e xp li ci t"
OPEN-CODE
"a na ly si s o ft er ms tr uc tu re . (Fo rd et ai ls of op en-c od ed u ni fi ca ti on , s ee Wa rr en e ta l .(1977).)"
"Th e i ns tr uc ti on s et s o f t od ay’s c om pu te rs g iv e a p oo r m at ch w it h Pr ol og’s s em an ti cs ,"
s om os t Pr ol og co mp il er sc om pi le in to an in te rm ed ia te la ng ua ge ra th er th an di re ct ly in to ma-
"c hi ne l an gu ag e . Th e m os t p op ul ar i nt er me di at e l an gu ag e i s t he Wa rr en Ab st ra ct Ma ch in e ,"
"o r WAM ,n am ed a ft er Da vi d H .D .Wa rr en , o ne of th ei mp le me nt er s o ft he fi rs t Pr ol og co m-"
p il er . Th e WAM i s a n a bs tr ac t i ns tr uc ti on s et t ha t i s s ui ta bl e f or Pr ol og a nd c an b e e it he r
i nt er pr et ed or tr an sl at ed in to ma ch in el an gu ag e . Ot he rc om pi le rs tr an sl at e Pr ol og in to ah ig h-
l ev el la ng ua ge su ch as Li sp or Ca nd th en us et ha tl an gu ag e’s co mp il er to tr an sl at et om ac hi ne
"l an gu ag e . Fo re xa mp le ,t he de fi ni ti on of th e Ap pe nd pr ed ic at ec an be co mp il ed in to th ec od e"
s ho wn in Fi gu re 9.8. Se ve ra lp oi nt sa re wo rt hm en ti on in g:
"• Ra th er t ha n h av in g t o s ea rc h t he k no wl ed ge b as e f or Ap pe nd cl au se s , t he c la us es b e-"
c om ea pr oc ed ur e a nd th ei nf er en ce s a re ca rr ie do ut si mp ly by c al li ng th ep ro ce du re .
"• As de sc ri be de ar li er ,t he cu rr en tv ar ia bl eb in di ng sa re ke pt on at ra il . Th ef ir st st ep of th e"
"p ro ce du re sa ve st he cu rr en ts ta te of th et ra il ,s ot ha ti tc an b er es to re db y RESET-TRAIL"
i ft he fi rs tc la us ef ai ls . Th is wi ll un do an yb in di ng sg en er at ed by th ef ir st ca ll to UNIFY .
• Th et ri ck ie st pa rt is th eu se of co nt in ua ti on st oi mp le me nt ch oi ce po in ts . Yo uc an th in k
CONTINUATION
o f a c on ti nu at io n a s p ac ka gi ng u p a p ro ce du re a nd a l is t o f a rg um en ts t ha t t og et he r
d ef in e w ha t s ho ul d b e d on e n ex t w he ne ve r t he c ur re nt g oa l s uc ce ed s . It w ou ld n ot
"d o j us t t o r et ur n f ro m a p ro ce du re l ik e APPEND w he n t he g oa l s uc ce ed s , b ec au se i t"
"c ou ld s uc ce ed i n s ev er al w ay s , a nd e ac h o f t he m h as t o b e e xp lo re d . Th ec on ti nu at io n"
a rg um en t s ol ve s t hi s p ro bl em b ec au se i t c an b e c al le d e ac h t im e t he g oa l s uc ce ed s . In
"t he APPEND c od e , i ft he f ir st ar gu me nt i s e mp ty a nd t he s ec on d a rg um en t u ni fi es w it h"
"t he t hi rd , t he n t he APPEND p re di ca te h as s uc ce ed ed . We t he n CALL t he c on ti nu at io n ,"
"w it h t he a pp ro pr ia te b in di ng s o n t he t ra il , t o d o w ha te ve r s ho ul d b e d on e n ex t . Fo r"
"e xa mp le , i f t he c al l t o APPEND w er e a t t he t op l ev el , t he c on ti nu at io n w ou ld p ri nt t he"
b in di ng so ft he va ri ab le s .
342 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"Be fo re Wa rr en’s w or k o n t he c om pi la ti on o f i nf er en ce i n Pr ol og , l og ic p ro gr am mi ng w as"
t oo s lo w f or g en er al u se . Co mp il er s b y Wa rr en a nd o th er s a ll ow ed Pr ol og c od e t o a ch ie ve
"s pe ed s t ha t a re c om pe ti ti ve w it h C o n a v ar ie ty o f s ta nd ar d b en ch ma rk s (Va n Ro y , 1990)."
"Of c ou rs e , t he f ac t t ha t o ne c an w ri te a p la nn er o r n at ur al l an gu ag e p ar se r i n a f ew d oz en"
l in es of Pr ol og ma ke si ts om ew ha tm or ed es ir ab le th an Cf or pr ot ot yp in gm os ts ma ll-s ca le AI
r es ea rc h p ro je ct s .
Pa ra ll el iz at io nc an al so pr ov id es ub st an ti al sp ee du p . Th er ea re tw op ri nc ip al so ur ce so f
"p ar al le li sm . Th e f ir st , c al le d OR-p ar al le li sm , c om es f ro m t he p os si bi li ty o f a go al u ni fy in g"
OR-PARALLELISM
w it hm an yd if fe re nt cl au se si nt he kn ow le dg eb as e . Ea ch gi ve sr is et oa ni nd ep en de nt b ra nc h
"i n t he s ea rc h s pa ce t ha t c an l ea d t o a p ot en ti al s ol ut io n , a nd a ll s uc h b ra nc he s c an b e s ol ve d"
"i n p ar al le l . Th e s ec on d , c al le d AND-p ar al le li sm , c om es f ro m t he p os si bi li ty o f s ol vi ng"
AND-PARALLELISM
e ac h c on ju nc t i nt he bo dy o fa ni mp li ca ti on i np ar al le l . AND-p ar al le li sm i sm or ed if fi cu lt t o
"a ch ie ve , b ec au se s ol ut io ns f or t he w ho le c on ju nc ti on r eq ui re c on si st en t b in di ng s f or a ll t he"
v ar ia bl es . Ea ch c on ju nc ti ve b ra nc h m us t c om mu ni ca te w it h t he o th er b ra nc he s t o e ns ur e a
g lo ba ls ol ut io n .
9.4.4 Re du nd an t i nf er en ce a nd in fi ni te l oo ps
We n ow t ur n t o t he Ac hi ll es h ee l o f Pr ol og: t he m is ma tc h b et we en d ep th-f ir st s ea rc h a nd
s ea rc h t re es t ha ti nc lu de r ep ea te d s ta te s a nd in fi ni te p at hs . Co ns id er th ef ol lo wi ng l og ic pr o-
g ra mt ha td ec id es if ap at he xi st sb et we en tw op oi nt so na di re ct ed gr ap h:
"p at h(X ,Z) :- l in k(X ,Z)."
"p at h(X ,Z) :- p at h(X ,Y), l in k(Y ,Z)."
"As im pl e t hr ee-n od e g ra ph , d es cr ib ed b yt he fa ct s l in k(a ,b)a nd l in k(b ,c),i ss ho wn"
"i n Fi gu re 9.9(a). Wi th t hi s p ro gr am , t he q ue ry p at h(a ,c)g en er at es t he p ro of t re e s ho wn"
"i n Fi gu re 9.10(a). On th eo th er ha nd ,i fw ep ut th et wo cl au se s i nt he or de r"
"p at h(X ,Z) :- p at h(X ,Y), l in k(Y ,Z)."
"p at h(X ,Z) :- l in k(X ,Z)."
t he n Pr ol og fo ll ow st he in fi ni te pa th sh ow ni n Fi gu re 9.10(b). Pr ol og is th er ef or e i nc om pl et e
"a sa th eo re mp ro ve rf or de fi ni te cl au se s—e ve nf or Da ta lo gp ro gr am s ,a st hi se xa mp le sh ow s—"
"b ec au se , f or s om e k no wl ed ge b as es , i t f ai ls t o p ro ve s en te nc es t ha t a re e nt ai le d . No ti ce t ha t"
"f or wa rd c ha in in g d oe s n ot s uf fe r f ro m t hi s p ro bl em: o nc e p at h(a ,b),p at h(b ,c),a nd"
"p at h(a ,c)a re in fe rr ed , f or wa rd ch ai ni ng h al ts ."
De pt h-f ir st b ac kw ar d c ha in in g a ls o h as p ro bl em s w it h r ed un da nt c om pu ta ti on s . Fo r
"e xa mp le ,w he nf in di ng ap at hf ro m A t o J i n Fi gu re 9.9(b),Pr ol og pe rf or ms 877 i nf er en ce s ,"
1 4
m os to fw hi ch in vo lv ef in di ng al lp os si bl ep at hs to no de sf ro mw hi ch th eg oa li su nr ea ch ab le .
Th is i s s im il ar t o t he r ep ea te d-s ta te p ro bl em d is cu ss ed i n Ch ap te r 3. Th e t ot al a mo un t o f
i nf er en ce c an b e e xp on en ti al i n t he n um be r o f g ro un d f ac ts t ha t a re g en er at ed . If w e a pp ly
"f or wa rd c ha in in g i ns te ad , a t m os t n 2 p at h(X ,Y)f ac ts c an b e g en er at ed l in ki ng n n od es ."
"Fo rt he pr ob le m i n Fi gu re 9.9(b),o nl y 62 i nf er en ce s a re ne ed ed ."
"DYNAMIC Fo rw ar dc ha in in go ng ra ph se ar ch pr ob le ms is an ex am pl eo f d yn am ic pr og ra mm in g ,"
PROGRAMMING
i n w hi ch t he s ol ut io ns t o s ub pr ob le ms a re c on st ru ct ed i nc re me nt al ly f ro m t ho se o f s ma ll er
Se ct io n 9.4. Ba ck wa rd Ch ai ni ng 343
A
1
A B C
J
4
(a) (b)
Fi gu re 9.9 (a) Fi nd in g a p at h f ro m A t o C c an l ea d Pr ol og i nt o a n i nf in it e l oo p . (b) A
g ra ph in wh ic he ac hn od ei sc on ne ct ed to tw or an do ms uc ce ss or si nt he ne xt la ye r .Fi nd in ga
p at hf ro m A t o J r eq ui re s 877 i nf er en ce s .
1 4
"p at h(a ,c)"
"p at h(a ,c)"
"p at h(a ,Y) l in k(Y ,c)"
"l in k(a ,c) p at h(a ,Y) l in k(b ,c)"
f ai l { }
"p at h(a ,Y’) l in k(Y’,Y)"
"l in k(a ,Y)"
{Y /b}
(a) (b)
Fi gu re 9.10 (a) Pr oo f t ha t a p at h e xi st s f ro m A t o C . (b) In fi ni te p ro of t re e g en er at ed
w he nt he cl au se sa re in th e“w ro ng”o rd er .
s ub pr ob le ms a nd a re c ac he d t o a vo id r ec om pu ta ti on . We c an o bt ai n a s im il ar e ff ec t i n a
"b ac kw ar d c ha in in g s ys te m u si ng m em oi za ti on—t ha t i s , c ac hi ng s ol ut io ns t o s ub go al s a s"
"t he y a re f ou nd a nd t he n r eu si ng t ho se s ol ut io ns w he n t he s ub go al r ec ur s , r at he r t ha n r ep ea t-"
TABLEDLOGIC i ng th ep re vi ou sc om pu ta ti on . Th is is th ea pp ro ac ht ak en by ta bl ed lo gi cp ro gr am mi ng sy s-
PROGRAMMING
"t em s , w hi ch u se e ff ic ie nt s to ra ge a nd r et ri ev al m ec ha ni sm s t o p er fo rm m em oi za ti on . Ta bl ed"
l og ic pr og ra mm in g c om bi ne s t he go al-d ir ec te dn es s o fb ac kw ar d c ha in in g w it ht he dy na mi c-
p ro gr am mi ng e ff ic ie nc y o f f or wa rd c ha in in g . It i s a ls o c om pl et e f or Da ta lo g k no wl ed ge
"b as es , w hi ch me an st ha tt he pr og ra mm er ne ed wo rr yl es sa bo ut i nf in it el oo ps . (It is st il lp os-"
"s ib le t o g et a n i nf in it e l oo p w it h p re di ca te s l ik e f at he r(X ,Y) t ha t r ef er t o a p ot en ti al ly"
u nb ou nd ed n um be ro fo bj ec ts .)
9.4.5 Da ta ba se se ma nt ic s o f Pr ol og
"Pr ol og us es da ta ba se se ma nt ic s ,a sd is cu ss ed in Se ct io n 8.2.8. Th eu ni qu en am es as su mp ti on"
"s ay s t ha t e ve ry Pr ol og c on st an t a nd e ve ry g ro un d t er m r ef er s t o a d is ti nc t o bj ec t , a nd t he"
c lo se d w or ld as su mp ti on s ay s t ha t t he o nl y s en te nc es t ha ta re t ru e a re th os e t ha t a re en ta il ed
344 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
b yt he kn ow le dg eb as e . Th er ei sn ow ay to as se rt th at as en te nc ei sf al se in Pr ol og . Th is ma ke s
"Pr ol og le ss ex pr es si ve th an fi rs t-o rd er lo gi c ,b ut it is pa rt o fw ha tm ak es Pr ol og mo re ef fi ci en t"
a nd mo re co nc is e . Co ns id er th ef ol lo wi ng Pr ol og as se rt io ns a bo ut so me co ur se of fe ri ng s:
"Co ur se(CS ,101), Co ur se(CS ,102), Co ur se(CS ,106), Co ur se(EE ,101). (9.11)"
"Un de r t he u ni qu e n am es a ss um pt io n , CS a nd EE a re d if fe re nt (a s a re 101, 102, a nd 106),"
s o t hi s m ea ns t ha t t he re a re f ou r d is ti nc t c ou rs es . Un de r t he c lo se d-w or ld a ss um pt io n t he re
"a re n o o th er c ou rs es , s o t he re a re e xa ct ly f ou r c ou rs es . Bu t i f t he se w er e a ss er ti on s i n FOL"
"r at he r t ha n i n Pr ol og , t he n a ll w e c ou ld s ay i s t ha t t he re a re s om ew he re b et we en o ne a nd"
i nf in it yc ou rs es . Th at’s be ca us e t he as se rt io ns (i n FOL)d on ot de ny th ep os si bi li ty t ha to th er
"u nm en ti on ed co ur se sa re al so of fe re d ,n or do th ey sa yt ha tt he co ur se sm en ti on ed ar ed if fe re nt"
"f ro me ac ho th er . If we wa nt ed to tr an sl at e Eq ua ti on(9.11)i nt o FOL ,w ew ou ld ge tt hi s:"
"Co ur se(d ,n) ⇔ (d=CS ∧n = 101)∨(d=CS ∧n = 102)"
∨(d=CS ∧n = 106)∨(d=EE ∧n = 101). (9.12)
Th is is c al le d t he c om pl et io n o f Eq ua ti on (9.11). It ex pr es se s i n FOLt he i de a t ha t t he re a re
COMPLETION
"a tm os tf ou rc ou rs es . To ex pr es s i n FOLt he id ea th at th er ea re a tl ea st fo ur co ur se s , w en ee d"
t ow ri te th ec om pl et io n o ft he eq ua li ty p re di ca te:
x= y ⇔ (x = CS ∧y = CS)∨(x= EE ∧y = EE)∨(x = 101∧y = 101)
∨(x= 102∧y = 102)∨(x = 106∧y = 106).
"Th ec om pl et io n i su se fu lf or un de rs ta nd in g d at ab as e s em an ti cs , b ut fo rp ra ct ic al p ur po se s , i f"
"y ou r p ro bl em c an b e d es cr ib ed w it h d at ab as e s em an ti cs , i t i s m or e e ff ic ie nt t o r ea so n w it h"
"Pr ol og o r s om e o th er d at ab as e s em an ti cs s ys te m , r at he r t ha n t ra ns la ti ng i nt o FOL a nd r ea-"
s on in gw it ha fu ll FOLt he or em p ro ve r .
9.4.6 Co ns tr ai nt lo gi cp ro gr am mi ng
"In o ur d is cu ss io n o f f or wa rd c ha in in g (Se ct io n 9.3), w e s ho we d h ow c on st ra in t s at is fa ct io n"
p ro bl em s (CSPs) c an b e e nc od ed a s d ef in it e c la us es . St an da rd Pr ol og s ol ve s s uc h p ro bl em s
i ne xa ct ly th es am ew ay as th eb ac kt ra ck in g a lg or it hm g iv en in Fi gu re 6.5.
"Be ca us eb ac kt ra ck in g e nu me ra te st he do ma in so ft he va ri ab le s ,i tw or ks on ly fo rf in it e-"
"d om ai n CSPs . In Pr ol og t er ms , t he re m us t b e a f in it e n um be r o f s ol ut io ns f or a ny g oa l"
"w it hu nb ou nd v ar ia bl es . (Fo re xa mp le , t he go al d if f(Q ,SA),w hi ch sa ys th at Qu ee ns la nd"
"a nd So ut h Au st ra li a m us t b e d if fe re nt c ol or s , h as s ix s ol ut io ns i f t hr ee c ol or s a re a ll ow ed .)"
"In fi ni te-d om ai n CSPs—f or ex am pl e ,w it hi nt eg er or re al-v al ue dv ar ia bl es—r eq ui re q ui te di f-"
"f er en ta lg or it hm s , s uc ha sb ou nd sp ro pa ga ti on o rl in ea rp ro gr am mi ng ."
"Co ns id er t he f ol lo wi ng e xa mp le . We d ef in e t ri an gl e(X ,Y ,Z)a s a p re di ca te t ha t"
h ol ds if th et hr ee ar gu me nt s a re nu mb er st ha ts at is fy th et ri an gl ei ne qu al it y:
"t ri an gl e(X ,Y ,Z) :-"
"X>0, Y>0, Z>0, X+Y>=Z , Y+Z>=X , X+Z>=Y ."
"If w e a sk Pr ol og t he q ue ry t ri an gl e(3,4,5), i t s uc ce ed s . On t he o th er h an d , i f w e"
"a sk t ri an gl e(3,4,Z),n o s ol ut io n w il l b e f ou nd , b ec au se t he s ub go al Z>=0 c an no t b e"
h an dl ed b y Pr ol og ;w ec an’t co mp ar ea nu nb ou nd v al ue to 0.
Se ct io n 9.5. Re so lu ti on 345
CONSTRAINTLOGIC Co ns tr ai nt l og ic p ro gr am mi ng (CLP) a ll ow s v ar ia bl es t o b e c on st ra in ed r at he r t ha n
PROGRAMMING
b ou nd . ACLPs ol ut io n i st he mo st sp ec if ic s et of co ns tr ai nt s o nt he q ue ry v ar ia bl es t ha t c an
"b ed er iv ed fr om th ek no wl ed ge b as e . Fo re xa mp le ,t he so lu ti on t ot he tr ia ng le(3,4,Z)"
q ue ry i s t he c on st ra in t 7 >= Z >= 1. St an da rd l og ic p ro gr am s a re j us t a s pe ci al c as e o f
"CLPi nw hi ch th es ol ut io nc on st ra in ts m us tb ee qu al it y c on st ra in ts—t ha t i s ,b in di ng s ."
CLP s ys te ms i nc or po ra te v ar io us c on st ra in t-s ol vi ng a lg or it hm s f or t he c on st ra in ts a l-
"l ow ed i n t he l an gu ag e . Fo r e xa mp le , a s ys te m t ha t a ll ow s l in ea r i ne qu al it ie s o n r ea l-v al ue d"
v ar ia bl es m ig ht i nc lu de a l in ea r p ro gr am mi ng a lg or it hm f or s ol vi ng t ho se c on st ra in ts . CLP
s ys te ms a ls o a do pt a m uc h m or e f le xi bl e a pp ro ac h t o s ol vi ng s ta nd ar d l og ic p ro gr am mi ng
"q ue ri es . Fo re xa mp le , i ns te ad o fd ep th-f ir st , l ef t-t o-r ig ht b ac kt ra ck in g , t he ym ig ht us ea ny of"
"t he m or e e ff ic ie nt a lg or it hm s d is cu ss ed i n Ch ap te r 6, i nc lu di ng h eu ri st ic c on ju nc t o rd er in g ,"
"b ac kj um pi ng , c ut se t c on di ti on in g , a nd s o o n . CLP s ys te ms t he re fo re c om bi ne e le me nt s o f"
"c on st ra in t s at is fa ct io n a lg or it hm s , l og ic pr og ra mm in g , a nd de du ct iv e d at ab as es ."
Se ve ra l s ys te ms t ha t a ll ow t he p ro gr am me r m or e c on tr ol o ve r t he s ea rc h o rd er f or i n-
"f er en ce ha ve be en de fi ne d . Th e MRS l an gu ag e(Ge ne se re th a nd Sm it h ,1981;Ru ss el l ,1985)"
a ll ow s t he p ro gr am me r t o w ri te m et ar ul es t o d et er mi ne w hi ch c on ju nc ts a re t ri ed f ir st . Th e
METARULE
u se r c ou ld w ri te a r ul e s ay in g t ha t t he g oa l w it h t he f ew es t v ar ia bl es s ho ul d b e t ri ed f ir st o r
c ou ld wr it ed om ai n-s pe ci fi c r ul es fo rp ar ti cu la rp re di ca te s .
9.5 RESOLUTION
Th el as to fo ur th re ef am il ie so fl og ic al sy st em si sb as ed on re so lu ti on . We sa wo np ag e 250
t ha t p ro po si ti on al r es ol ut io n u si ng r ef ut at io n i s a c om pl et e i nf er en ce p ro ce du re f or p ro po si-
"t io na ll og ic . In th is se ct io n , w ed es cr ib eh ow to ex te nd re so lu ti on t of ir st-o rd er lo gi c ."
9.5.1 Co nj un ct iv e n or ma l f or m f or fi rs t-o rd er l og ic
"As i n t he p ro po si ti on al c as e , f ir st-o rd er r es ol ut io n r eq ui re s t ha t s en te nc es b e i n c on ju nc ti ve"
"n or ma lf or m(CNF)—t ha ti s ,a co nj un ct io n o fc la us es , w he re ea ch cl au se is ad is ju nc ti on o f"
"l it er al s .6 Li te ra ls c an c on ta in v ar ia bl es , w hi ch a re a ss um ed t ob e u ni ve rs al ly q ua nt if ie d . Fo r"
"e xa mp le ,t he se nt en ce"
"∀x Am er ic an(x)∧We ap on(y)∧Se ll s(x ,y ,z)∧Ho st il e(z) ⇒ Cr im in al(x)"
"b ec om es , i n CNF ,"
"¬Am er ic an(x)∨¬We ap on(y)∨¬Se ll s(x ,y ,z)∨¬Ho st il e(z)∨Cr im in al(x)."
Ev er y s en te nc e o f f ir st-o rd er l og ic c an b e c on ve rt ed i nt o a n i nf er en ti al ly e qu iv al en t CNF
"s en te nc e . In pa rt ic ul ar ,t he CNFs en te nc ew il lb eu ns at is fi ab le ju st wh en th eo ri gi na ls en te nc e"
"i su ns at is fi ab le , s ow eh av ea ba si sf or do in gp ro of sb yc on tr ad ic ti on o nt he CNFs en te nc es ."
6 Ac la us ec an al so be re pr es en te da sa ni mp li ca ti on wi th ac on ju nc ti on of at om si nt he pr em is ea nd ad is ju nc ti on
o fa to ms in th ec on cl us io n(Ex er ci se 7.13).Th is is ca ll ed im pl ic at iv en or ma lf or mo r Ko wa ls ki fo rm(e sp ec ia ll y
"w he nw ri tt en wi th ar ig ht-t o-l ef ti mp li ca ti on sy mb ol(Ko wa ls ki ,1979))a nd is of te nm uc he as ie rt or ea d ."
346 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"Th ep ro ce du re fo rc on ve rs io nt o CNFi ss im il ar to th ep ro po si ti on al ca se ,w hi ch we sa w"
o np ag e 253. Th ep ri nc ip al di ff er en ce ar is es fr om th en ee dt oe li mi na te ex is te nt ia lq ua nt if ie rs .
We i ll us tr at e t he p ro ce du re b y t ra ns la ti ng t he s en te nc e “Ev er yo ne w ho l ov es a ll a ni ma ls i s
"l ov ed by so me on e ,”o r"
"∀x [∀y An im al(y) ⇒ Lo ve s(x ,y)] ⇒ [∃y Lo ve s(y ,x)]."
Th es te ps ar ea sf ol lo ws:
• El im in at ei mp li ca ti on s:
"∀x [¬∀y ¬An im al(y)∨Lo ve s(x ,y)]∨[∃y Lo ve s(y ,x)]."
"• Mo ve¬i nw ar ds: In ad di ti on t ot he us ua l r ul es fo rn eg at ed co nn ec ti ve s , w en ee dr ul es"
"f or ne ga te dq ua nt if ie rs . Th us ,w eh av e"
¬∀x p b ec om es ∃x ¬p
¬∃x p b ec om es ∀x ¬p .
Ou rs en te nc eg oe st hr ou gh th ef ol lo wi ng tr an sf or ma ti on s:
"∀x [∃y ¬(¬An im al(y)∨Lo ve s(x ,y))]∨[∃y Lo ve s(y ,x)]."
"∀x [∃y ¬¬An im al(y)∧¬Lo ve s(x ,y)]∨[∃y Lo ve s(y ,x)]."
"∀x [∃y An im al(y)∧¬Lo ve s(x ,y)]∨[∃y Lo ve s(y ,x)]."
No ti ce h ow a u ni ve rs al q ua nt if ie r (∀y) i n t he p re mi se o f t he i mp li ca ti on h as b ec om e
a n e xi st en ti al q ua nt if ie r . Th e s en te nc e n ow r ea ds “Ei th er t he re i s s om e a ni ma l t ha t x
"d oe sn’t l ov e , o r (i f t hi s i s n ot t he c as e) s om eo ne l ov es x .” Cl ea rl y , t he m ea ni ng o f t he"
o ri gi na ls en te nc e h as be en pr es er ve d .
• St an da rd iz ev ar ia bl es: Fo rs en te nc es li ke(∃x P(x))∨(∃x Q(x))w hi ch us et he sa me
"v ar ia bl e n am e t wi ce , c ha ng e t he n am e o f o ne o f t he v ar ia bl es . Th is a vo id s c on fu si on"
"l at er wh en we dr op th eq ua nt if ie rs . Th us ,w eh av e"
"∀x [∃y An im al(y)∧¬Lo ve s(x ,y)]∨[∃z Lo ve s(z ,x)]."
• Sk ol em iz e: Sk ol em iz at io n i s t he p ro ce ss o f r em ov in g e xi st en ti al q ua nt if ie rs b y e li mi-
SKOLEMIZATION
"n at io n . In th es im pl ec as e ,i ti sj us tl ik et he Ex is te nt ia l In st an ti at io n r ul eo f Se ct io n 9.1:"
"t ra ns la te∃x P(x)i nt o P(A),w he re Ai sa ne wc on st an t . Ho we ve r ,w ec an’t ap pl y Ex-"
i st en ti al In st an ti at io n t oo ur se nt en ce a bo ve be ca us e i td oe sn’t m at ch th ep at te rn ∃v α;
o nl y p ar ts o f t he s en te nc e m at ch t he p at te rn . If w e b li nd ly a pp ly t he r ul e t o t he t wo
m at ch in gp ar ts we ge t
"∀x [An im al(A)∧¬Lo ve s(x ,A)]∨Lo ve s(B ,x),"
w hi ch h as t he w ro ng m ea ni ng e nt ir el y: i t s ay s t ha t e ve ry on e e it he r f ai ls t o l ov e a p ar-
"t ic ul ar a ni ma l Ao ri s l ov ed b y s om e p ar ti cu la r e nt it y B . In f ac t , o ur o ri gi na l s en te nc e"
a ll ow se ac hp er so nt of ai lt ol ov ea di ff er en ta ni ma lo rt ob el ov ed by ad if fe re nt pe rs on .
"Th us ,w ew an tt he Sk ol em en ti ti es to de pe nd o nx an dz:"
"∀x [An im al(F(x))∧¬Lo ve s(x ,F(x))]∨Lo ve s(G(z),x)."
He re F a nd G a re Sk ol em f un ct io ns . Th e g en er al r ul e i s t ha t t he a rg um en ts o f t he
SKOLEMFUNCTION
Sk ol em f un ct io n a re a ll t he u ni ve rs al ly q ua nt if ie d v ar ia bl es i n w ho se s co pe t he e xi s-
"t en ti al qu an ti fi er ap pe ar s . As wi th Ex is te nt ia l In st an ti at io n , t he Sk ol em iz ed s en te nc e i s"
s at is fi ab le ex ac tl yw he nt he or ig in al s en te nc e i ss at is fi ab le .
Se ct io n 9.5. Re so lu ti on 347
"• Dr op un iv er sa l q ua nt if ie rs: At th is p oi nt , a ll r em ai ni ng v ar ia bl es m us tb e u ni ve rs al ly"
"q ua nt if ie d . Mo re ov er , t he se nt en ce i se qu iv al en t t oo ne in wh ic ha ll th eu ni ve rs al q ua n-"
t if ie rs ha ve be en mo ve dt ot he le ft . We ca nt he re fo re d ro pt he un iv er sa l q ua nt if ie rs:
"[An im al(F(x))∧¬Lo ve s(x ,F(x))]∨Lo ve s(G(z),x)."
• Di st ri bu te∨o ve r∧:
"[An im al(F(x))∨Lo ve s(G(z),x)]∧[¬Lo ve s(x ,F(x))∨Lo ve s(G(z),x)] ."
Th is st ep ma ya ls or eq ui re fl at te ni ng ou tn es te dc on ju nc ti on s a nd di sj un ct io ns .
Th e s en te nc e i s n ow i n CNF a nd c on si st s o f t wo c la us es . It i s q ui te u nr ea da bl e . (It m ay
"h el p t o e xp la in t ha t t he Sk ol em f un ct io n F(x)r ef er s t ot he a ni ma l p ot en ti al ly u nl ov ed b y x ,"
"w he re as G(z) r ef er s t o s om eo ne w ho m ig ht l ov e x .) Fo rt un at el y , h um an s s el do m n ee d l oo k"
a t CNFs en te nc es—t he t ra ns la ti on p ro ce ss is ea si ly au to ma te d .
9.5.2 Th e r es ol ut io ni nf er en ce r ul e
Th er es ol ut io n r ul e f or fi rs t-o rd er c la us es i ss im pl y a li ft ed ve rs io n o ft he pr op os it io na l r es o-
"l ut io n r ul e g iv en o n p ag e 253. Tw o c la us es , w hi ch a re a ss um ed t o b e s ta nd ar di ze d a pa rt s o"
"t ha t t he y s ha re n o v ar ia bl es , c an b e r es ol ve d i f t he y c on ta in c om pl em en ta ry l it er al s . Pr op o-"
s it io na l l it er al s a re c om pl em en ta ry i f o ne i s t he n eg at io n o f t he o th er ; f ir st-o rd er l it er al s a re
"c om pl em en ta ry i fo ne un if ie sw it ht he ne ga ti on of th eo th er . Th us ,w eh av e"
"(c id:3) ∨···∨(c id:3) , m ∨···∨m"
1 k 1 n
"SUBST(θ,(c id:3) 1∨···∨(c id:3) i−1∨(c id:3) i+1∨···∨(c id:3)"
k
∨m 1∨···∨m j−1∨m j+1∨···∨m n)
"w he re UNIFY((c id:3) i ,¬m j)=θ. Fo re xa mp le , w ec an re so lv et he tw oc la us es"
"[An im al(F(x))∨Lo ve s(G(x),x)] a nd [¬Lo ve s(u ,v)∨¬Ki ll s(u ,v)]"
"b y e li mi na ti ng t he c om pl em en ta ry l it er al s Lo ve s(G(x),x) a nd ¬Lo ve s(u ,v), w it h u ni fi er"
"θ={u/G(x),v/x}, t op ro du ce th er es ol ve nt c la us e"
"[An im al(F(x))∨¬Ki ll s(G(x),x)]."
Th is r ul e i s c al le d t he b in ar y r es ol ut io n r ul e b ec au se i t r es ol ve s e xa ct ly t wo l it er al s . Th e
BINARYRESOLUTION
b in ar y r es ol ut io n r ul eb yi ts el f d oe s n ot yi el d a co mp le te i nf er en ce p ro ce du re . Th ef ul lr es o-
l ut io nr ul er es ol ve ss ub se ts of li te ra ls in ea ch cl au se th at ar eu ni fi ab le . An al te rn at iv ea pp ro ac h
i s t o e xt en d f ac to ri ng—t he r em ov al o f r ed un da nt l it er al s—t o t he f ir st-o rd er c as e . Pr op os i-
t io na l f ac to ri ng r ed uc es t wo l it er al s t o o ne i f t he y a re i de nt ic al ; f ir st-o rd er f ac to ri ng r ed uc es
t wo li te ra ls t oo ne i ft he ya re u ni fi ab le . Th eu ni fi er mu st be ap pl ie d t ot he e nt ir e c la us e . Th e
c om bi na ti on o fb in ar yr es ol ut io n a nd fa ct or in g i sc om pl et e .
9.5.3 Ex am pl ep ro of s
"Re so lu ti on p ro ve s t ha t KB |= α b y p ro vi ng KB ∧¬α u ns at is fi ab le , t ha t i s , b y d er iv in g t he"
"e mp ty c la us e . Th e a lg or it hm ic a pp ro ac h i s i de nt ic al t o t he p ro po si ti on al c as e , d es cr ib ed i n"
348 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"¬Am er ic an(x) ^ ¬We ap on(y) ^ ¬Se ll s(x ,y ,z) ^ ¬Ho st il e(z) ^ Cr im in al(x) ¬Cr im in al(We st)"
"Am er ic an(We st) ¬Am er ic an(We st) ^ ¬We ap on(y) ^ ¬Se ll s(We st ,y ,z) ^ ¬Ho st il e(z)"
"¬Mi ss il e(x) ^ We ap on(x) ¬We ap on(y) ^ ¬Se ll s(We st ,y ,z) ^ ¬Ho st il e(z)"
"Mi ss il e(M 1) ¬Mi ss il e(y) ^ ¬Se ll s(We st ,y ,z) ^ ¬Ho st il e(z)"
"¬Mi ss il e(x) ^ ¬Ow ns(No no ,x) ^ Se ll s(We st ,x ,No no) ¬Se ll s(We st ,M 1,z) ^ ¬Ho st il e(z)"
"Mi ss il e(M 1) ¬Mi ss il e(M 1) ^ ¬Ow ns(No no ,M 1) ^ ¬Ho st il e(No no)"
"Ow ns(No no ,M 1) ¬Ow ns(No no ,M 1) ^ ¬Ho st il e(No no)"
"¬En em y(x ,Am er ic a) ^ Ho st il e(x) ¬Ho st il e(No no)"
"En em y(No no ,Am er ic a) ¬En em y(No no ,Am er ic a)"
"Fi gu re 9.11 Ar es ol ut io np ro of th at We st is ac ri mi na l .At ea ch st ep ,t he li te ra ls th at un if y"
a re in bo ld .
"Fi gu re 7.12, s ow en ee d n ot re pe at i th er e . In st ea d , w eg iv e t wo ex am pl e p ro of s . Th ef ir st is"
t he cr im ee xa mp le fr om Se ct io n 9.3. Th es en te nc es i n CNFa re
"¬Am er ic an(x)∨¬We ap on(y)∨¬Se ll s(x ,y ,z)∨¬Ho st il e(z)∨Cr im in al(x)"
"¬Mi ss il e(x)∨¬Ow ns(No no ,x)∨Se ll s(We st ,x ,No no)"
"¬En em y(x ,Am er ic a)∨Ho st il e(x)"
¬Mi ss il e(x)∨We ap on(x)
"Ow ns(No no ,M ) Mi ss il e(M )"
1 1
"Am er ic an(We st) En em y(No no ,Am er ic a)."
We al so i nc lu de t he n eg at ed g oa l ¬Cr im in al(We st). Th er es ol ut io n p ro of i s s ho wn i n Fi g-
"u re 9.11. No ti ce th es tr uc tu re: s in gl e“s pi ne”b eg in ni ng wi th th eg oa lc la us e ,r es ol vi ng ag ai ns t"
c la us es f ro m t he k no wl ed ge b as e u nt il t he e mp ty c la us e i s g en er at ed . Th is i s c ha ra ct er is ti c
"o f r es ol ut io n o n Ho rn c la us e k no wl ed ge b as es . In f ac t , t he c la us es a lo ng t he m ai n s pi ne"
c or re sp on d e xa ct ly t o t he c on se cu ti ve v al ue s o f t he g oa ls v ar ia bl e i n t he b ac kw ar d-c ha in in g
a lg or it hm o f Fi gu re 9.6. Th is i s b ec au se w e a lw ay s c ho os e t o r es ol ve w it h a c la us e w ho se
p os it iv e l it er al u ni fi ed w it h t he l ef tm os t l it er al o f t he “c ur re nt” c la us e o n t he s pi ne ; t hi s i s
"e xa ct ly w ha t h ap pe ns i n b ac kw ar d c ha in in g . Th us , b ac kw ar d c ha in in g i s j us t a s pe ci al c as e"
o fr es ol ut io n w it ha pa rt ic ul ar co nt ro l s tr at eg yt od ec id ew hi ch re so lu ti on t op er fo rm n ex t .
Ou rs ec on d e xa mp le ma ke su se of Sk ol em iz at io n a nd in vo lv es c la us es t ha ta re no td ef-
"i ni te c la us es . Th is r es ul ts i n a s om ew ha t m or e c om pl ex p ro of s tr uc tu re . In En gl is h , t he"
p ro bl em i sa sf ol lo ws:
Ev er yo ne wh ol ov es al la ni ma ls is lo ve db ys om eo ne .
An yo ne wh ok il ls an an im al is lo ve db yn oo ne .
Ja ck lo ve sa ll an im al s .
"Ei th er Ja ck or Cu ri os it yk il le dt he ca t ,w ho is na me d Tu na ."
Di d Cu ri os it yk il lt he ca t ?
Se ct io n 9.5. Re so lu ti on 349
"Fi rs t , w e e xp re ss t he o ri gi na l s en te nc es , s om e b ac kg ro un d k no wl ed ge , a nd t he n eg at ed g oa l"
Gi nf ir st-o rd er lo gi c:
"A . ∀x [∀y An im al(y) ⇒ Lo ve s(x ,y)] ⇒ [∃y Lo ve s(y ,x)]"
"B . ∀x [∃z An im al(z)∧Ki ll s(x ,z)] ⇒ [∀y ¬Lo ve s(y ,x)]"
"C . ∀x An im al(x) ⇒ Lo ve s(Ja ck ,x)"
"D . Ki ll s(Ja ck ,Tu na)∨Ki ll s(Cu ri os it y ,Tu na)"
E . Ca t(Tu na)
F . ∀x Ca t(x) ⇒ An im al(x)
"¬G . ¬Ki ll s(Cu ri os it y ,Tu na)"
No ww ea pp ly th ec on ve rs io n p ro ce du re t oc on ve rt ea ch se nt en ce t o CNF:
"A 1. An im al(F(x))∨Lo ve s(G(x),x)"
"A 2. ¬Lo ve s(x ,F(x))∨Lo ve s(G(x),x)"
"B . ¬Lo ve s(y ,x)∨¬An im al(z)∨¬Ki ll s(x ,z)"
"C . ¬An im al(x)∨Lo ve s(Ja ck ,x)"
"D . Ki ll s(Ja ck ,Tu na)∨Ki ll s(Cu ri os it y ,Tu na)"
E . Ca t(Tu na)
F . ¬Ca t(x)∨An im al(x)
"¬G . ¬Ki ll s(Cu ri os it y ,Tu na)"
"Th er es ol ut io np ro of th at Cu ri os it yk il le dt he ca ti sg iv en in Fi gu re 9.12. In En gl is h ,t he pr oo f"
c ou ld be pa ra ph ra se d a sf ol lo ws:
Su pp os e Cu ri os it y d id n ot k il l Tu na . We k no w t ha t e it he r Ja ck o r Cu ri os it y d id ; t hu s
"Ja ck mu st ha ve . No w ,Tu na is ac at an dc at sa re an im al s ,s o Tu na is an an im al . Be ca us e"
"a ny on ew ho ki ll sa na ni ma li sl ov ed by no on e ,w ek no wt ha tn oo ne lo ve s Ja ck . On th e"
"o th er h an d , Ja ck l ov es a ll a ni ma ls , s o s om eo ne l ov es h im ; s o w e h av e a c on tr ad ic ti on ."
"Th er ef or e ,Cu ri os it yk il le dt he ca t ."
"Ca t(Tu na) ¬Ca t(x) ^ An im al(x) Ki ll s(Ja ck , Tu na) ^ Ki ll s(Cu ri os it y , Tu na) ¬Ki ll s(Cu ri os it y , Tu na)"
"An im al(Tu na) ¬Lo ve s(y , x) ^ ¬An im al(z) ^ ¬Ki ll s(x , z) Ki ll s(Ja ck , Tu na) ¬Lo ve s(x ,F(x)) ^ Lo ve s(G(x), x) ¬An im al(x) ^ Lo ve s(Ja ck , x)"
^ ^ ^
"¬Lo ve s(y , x) ¬Ki ll s(x , Tu na) ¬An im al(F(Ja ck)) Lo ve s(G(Ja ck), Ja ck) An im al(F(x)) Lo ve s(G(x), x)"
"¬Lo ve s(y , Ja ck) Lo ve s(G(Ja ck),Ja ck)"
Fi gu re 9.12 A r es ol ut io np ro of th at Cu ri os it yk il le d t he c at . No ti ce t he u se o f f ac to ri ng
"i n t he d er iv at io n o f t he c la us e Lo ve s(G(Ja ck),Ja ck). No ti ce a ls o i n t he u pp er r ig ht , t he"
"u ni fi ca ti on of Lo ve s(x ,F(x))a nd Lo ve s(Ja ck ,x)c an on ly su cc ee da ft er th ev ar ia bl es ha ve"
b ee ns ta nd ar di ze da pa rt .
350 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
Th ep ro of an sw er st he qu es ti on “Di d Cu ri os it y k il lt he ca t ?” b ut of te nw ew an tt op os em or e
"g en er al q ue st io ns , s uc h a s “Wh o k il le d t he c at ?” Re so lu ti on c an d o t hi s , b ut i t t ak es a l it tl e"
"m or e w or k t o o bt ai n t he a ns we r . Th e g oa l i s ∃w Ki ll s(w ,Tu na), w hi ch , w he n n eg at ed ,"
"b ec om es¬Ki ll s(w ,Tu na)i n CNF .Re pe at in gt he pr oo fi n Fi gu re 9.12 w it ht he ne wn eg at ed"
"g oa l , w e o bt ai n a s im il ar p ro of t re e , b ut w it h t he s ub st it ut io n {w/Cu ri os it y} i n o ne o f t he"
"s te ps . So , i n t hi s c as e , f in di ng o ut w ho k il le d t he c at i s j us t a m at te r o f k ee pi ng t ra ck o f t he"
b in di ng s f or th eq ue ry va ri ab le s i nt he pr oo f .
"NONCONSTRUCTIVE Un fo rt un at el y , r es ol ut io n c an p ro du ce n on co ns tr uc ti ve p ro of s f or e xi st en ti al g oa ls ."
PROOF
"Fo re xa mp le , ¬Ki ll s(w ,Tu na)r es ol ve s w it h Ki ll s(Ja ck ,Tu na)∨Ki ll s(Cu ri os it y ,Tu na)"
"t o g iv e Ki ll s(Ja ck ,Tu na), w hi ch r es ol ve s a ga in w it h ¬Ki ll s(w ,Tu na) t o y ie ld t he e mp ty"
"c la us e . No ti ce t ha t w h as t wo d if fe re nt b in di ng s i n t hi s p ro of ; r es ol ut io n i s t el li ng u s t ha t ,"
"y es , s om eo ne k il le d Tu na—e it he r Ja ck o r Cu ri os it y . Th is i s n o g re at s ur pr is e ! On e s o-"
l ut io n i s t o r es tr ic t t he a ll ow ed r es ol ut io n s te ps s o t ha t t he q ue ry v ar ia bl es c an b e b ou nd
o nl y o nc e i n a g iv en p ro of ; t he n w e n ee d t o b e a bl e t o b ac kt ra ck o ve r t he p os si bl e b in d-
"i ng s . An ot he r s ol ut io n i s t o a dd a s pe ci al a ns we r l it er al t o t he n eg at ed g oa l , w hi ch b e-"
ANSWERLITERAL
"c om es ¬Ki ll s(w ,Tu na) ∨ An sw er(w). No w , t he r es ol ut io n p ro ce ss g en er at es a n a ns we r"
w he ne ve r a c la us e i s g en er at ed c on ta in in g j us t a s in gl e a ns we r l it er al . Fo rt he p ro of i n Fi g-
"u re 9.12, t hi s i s An sw er(Cu ri os it y). Th e n on co ns tr uc ti ve p ro of w ou ld g en er at e t he c la us e"
"An sw er(Cu ri os it y)∨An sw er(Ja ck),w hi ch do es no tc on st it ut e a na ns we r ."
9.5.4 Co mp le te ne ss o fr es ol ut io n
Th is se ct io n g iv es ac om pl et en es s p ro of o fr es ol ut io n . It ca nb es af el y s ki pp ed b yt ho se wh o
a re wi ll in gt ot ak ei to nf ai th .
"REFUTATION We sh ow th at re so lu ti on i sr ef ut at io n-c om pl et e , w hi ch me an st ha ti fa se to fs en te nc es"
COMPLETENESS
"i s u ns at is fi ab le , t he n r es ol ut io n w il l a lw ay s b e a bl e t o d er iv e a c on tr ad ic ti on . Re so lu ti on"
"c an no t b e u se d t o g en er at e a ll l og ic al c on se qu en ce s o f a s et o f s en te nc es , b ut i t c an b e u se d"
"t oe st ab li sh t ha t a gi ve ns en te nc e i se nt ai le d b yt he se to fs en te nc es . He nc e , i tc an be us ed to"
"f in da ll an sw er st oa gi ve nq ue st io n , Q(x),b yp ro vi ng th at KB ∧¬Q(x)i su ns at is fi ab le ."
We ta ke it as gi ve nt ha ta ny se nt en ce in fi rs t-o rd er lo gi c(w it ho ut eq ua li ty)c an be re wr it-
"t en a s a s et o f c la us es i n CNF .Th is c an b e p ro ve d b y i nd uc ti on o n t he f or m o f t he s en te nc e ,"
"u si ng a to mi c s en te nc es a s t he b as e c as e (Da vi s a nd Pu tn am , 1960). Ou r g oa l t he re fo re i s t o"
"p ro ve t he f ol lo wi ng: i f S i s a n u ns at is fi ab le s et o f c la us es , t he n t he a pp li ca ti on o f a f in it e"
n um be ro fr es ol ut io n s te ps to S w il ly ie ld ac on tr ad ic ti on .
Ou r p ro of s ke tc h f ol lo ws Ro bi ns on’s o ri gi na l p ro of w it h s om e s im pl if ic at io ns f ro m
Ge ne se re th a nd Ni ls so n(1987). Th eb as ic st ru ct ur e o ft he pr oo f(Fi gu re 9.13)i sa sf ol lo ws:
"1. Fi rs t , w e o bs er ve t ha t i f S i s u ns at is fi ab le , t he n t he re e xi st s a p ar ti cu la r s et o f g ro un d"
i ns ta nc es of th ec la us es of Ss uc ht ha tt hi ss et is al so un sa ti sf ia bl e(He rb ra nd’s th eo re m).
"2. We th en ap pe al to th eg ro un dr es ol ut io nt he or em gi ve ni n Ch ap te r 7,w hi ch st at es th at"
p ro po si ti on al r es ol ut io n i sc om pl et ef or gr ou nd se nt en ce s .
"3. We th en u se al if ti ng le mm at os ho wt ha t , f or an yp ro po si ti on al r es ol ut io n p ro of u si ng"
"t he s et o f g ro un d s en te nc es , t he re i s a c or re sp on di ng f ir st-o rd er r es ol ut io n p ro of u si ng"
t he fi rs t-o rd er se nt en ce s f ro mw hi ch th eg ro un ds en te nc es w er eo bt ai ne d .
Se ct io n 9.5. Re so lu ti on 351
An y s et o f s en te nc es S i s r ep re se nt ab le i n c la us al f or m
"As su me S i s u ns at is fi ab le , a nd i n c la us al f or m"
He rb ra nd’s t he or em
So me s et S' o f g ro un d i ns ta nc es i s u ns at is fi ab le
Gr ou nd r es ol ut io n
t he or em
Re so lu ti on c an f in d a c on tr ad ic ti on i n S'
Li ft in g l em ma
Th er e i s a r es ol ut io n p ro of f or t he c on tr ad ic ti on i n S'
Fi gu re 9.13 St ru ct ur eo fa co mp le te ne ss pr oo ff or re so lu ti on .
"To ca rr yo ut th ef ir st st ep ,w en ee dt hr ee ne wc on ce pt s:"
"HERBRAND • He rb ra nd u ni ve rs e: If S i s a s et o f c la us es , t he n H , t he He rb ra nd u ni ve rs e o f S , i s"
UNIVERSE S
t he se to fa ll gr ou nd te rm sc on st ru ct ab le f ro mt he fo ll ow in g:
"a . Th ef un ct io n s ym bo ls in S ,i fa ny ."
"b . Th ec on st an t s ym bo ls in S ,i fa ny ;i fn on e ,t he nt he co ns ta nt s ym bo l A ."
"Fo re xa mp le ,i f S c on ta in sj us tt he cl au se¬P(x ,F(x ,A))∨¬Q(x ,A)∨R(x ,B),t he n"
H i st he fo ll ow in gi nf in it es et of gr ou nd t er ms:
S
"{A ,B ,F(A ,A),F(A ,B),F(B ,A),F(B ,B),F(A ,F(A ,A)),...}."
"• Sa tu ra ti on: If S i s a s et o f c la us es a nd P i s a s et o f g ro un d t er ms , t he n P(S), t he"
SATURATION
"s at ur at io n o f S w it h r es pe ct t o P , i st he s et o f a ll gr ou nd c la us es o bt ai ne d b y a pp ly in g"
a ll po ss ib le c on si st en t s ub st it ut io ns o fg ro un dt er ms in P w it hv ar ia bl es in S .
• He rb ra nd b as e: Th e s at ur at io n o f a s et S o f c la us es w it h r es pe ct t o i ts He rb ra nd u ni-
HERBRANDBASE
"v er se i s c al le d t he He rb ra nd b as e o f S , w ri tt en a s H (S). Fo r e xa mp le , i f S c on ta in s"
S
"s ol el yt he cl au se ju st gi ve n ,t he n H (S)i st he in fi ni te se to fc la us es"
S
"{¬P(A ,F(A ,A))∨¬Q(A ,A)∨R(A ,B),"
"¬P(B ,F(B ,A))∨¬Q(B ,A)∨R(B ,B),"
"¬P(F(A ,A),F(F(A ,A),A)) ∨¬Q(F(A ,A),A)∨R(F(A ,A),B),"
"¬P(F(A ,B),F(F(A ,B),A))∨¬Q(F(A ,B),A)∨R(F(A ,B),B),...}"
"HERBRAND’S Th es ed ef in it io ns al lo wu st os ta te af or mo f He rb ra nd’s th eo re m(He rb ra nd , 1930):"
THEOREM
"If as et S o fc la us es is un sa ti sf ia bl e , t he nt he re ex is ts af in it es ub se to f H (S)t ha t"
S
i sa ls ou ns at is fi ab le .
(c id:2)
"Le t S b et hi sf in it es ub se to fg ro un ds en te nc es . No w ,w ec an ap pe al to th eg ro un dr es ol ut io n"
(c id:2)
t he or em (p ag e 255) t o s ho w t ha t t he r es ol ut io n c lo su re RC(S ) c on ta in s t he e mp ty c la us e .
(c id:2)
"Th at is ,r un ni ng p ro po si ti on al r es ol ut io n t oc om pl et io n o n S w il ld er iv ea co nt ra di ct io n ."
No w t ha t w e h av e e st ab li sh ed t ha t t he re i s a lw ay s a r es ol ut io n p ro of i nv ol vi ng s om e
"f in it e s ub se t o f t he He rb ra nd b as e o f S , t he n ex t s te p i s t o s ho w t ha t t he re i s a r es ol ut io n"
352 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
GO¨DEL’S INCOMPLETENESS THEOREM
By sl ig ht ly e xt en di ng t he la ng ua ge o ff ir st-o rd er lo gi c t oa ll ow f or th e m at he ma t-
"i ca l i nd uc ti on s ch em a i n a ri th me ti c , Ku rt Go¨d el w as a bl e t o s ho w , i n h is i nc om-"
"p le te ne ss th eo re m ,t ha tt he re ar et ru ea ri th me ti c s en te nc es t ha tc an no tb ep ro ve d ."
Th e p ro of o f t he i nc om pl et en es s t he or em i s s om ew ha t b ey on d t he s co pe o f
"t hi sb oo k , o cc up yi ng , a si td oe s , a tl ea st 30 p ag es , b ut we ca ng iv ea hi nt he re . We"
"b eg in wi th th el og ic al t he or y o fn um be rs . In th is t he or y , t he re i sa si ng le c on st an t ,"
"0, a nd a s in gl e f un ct io n , S (t he s uc ce ss or f un ct io n). In t he i nt en de d m od el , S(0)"
"d en ot es 1, S(S(0)) d en ot es 2, a nd s oo n ; t he l an gu ag e t he re fo re h as n am es f or al l"
"t he na tu ra ln um be rs . Th ev oc ab ul ar y a ls oi nc lu de st he fu nc ti on sy mb ol s+,×,a nd"
Ex pt (e xp on en ti at io n) a nd th eu su al se to fl og ic al co nn ec ti ve sa nd qu an ti fi er s . Th e
f ir st st ep is to no ti ce th at th es et of se nt en ce st ha tw ec an wr it ei nt hi sl an gu ag ec an
b e e nu me ra te d . (Im ag in e d ef in in g a n a lp ha be ti ca l o rd er o n t he s ym bo ls a nd t he n
"a rr an gi ng , i n a lp ha be ti ca l o rd er , e ac h o f t he s et s o f s en te nc es o f l en gt h 1, 2, a nd"
s o o n .) We c an t he n n um be r e ac h s en te nc e α w it h a u ni qu e n at ur al n um be r #α
(t he Go¨d el n um be r). Th is i s c ru ci al: n um be r t he or y c on ta in s a n am e f or e ac h o f
"i ts o wn s en te nc es . Si mi la rl y , w e c an n um be r e ac h p os si bl e p ro of P w it h a Go¨d el"
"n um be r G(P),b ec au se ap ro of is si mp ly af in it es eq ue nc e o fs en te nc es ."
No w s up po se w e h av e a r ec ur si ve ly e nu me ra bl e s et A o f s en te nc es t ha t a re
t ru e s ta te me nt s a bo ut t he n at ur al n um be rs . Re ca ll in g t ha t A c an b e n am ed b y a
"g iv en se to fi nt eg er s ,w ec an im ag in ew ri ti ng in ou rl an gu ag e a se nt en ceα(j ,A)o f"
t he fo ll ow in gs or t:
∀i i i s n ot t he Go¨d el n um be r o f a p ro of o f t he s en te nc e w ho se Go¨d el
"n um be ri sj ,w he re th ep ro of us es on ly pr em is es in A ."
"Th en le tσ b et he se nt en ceα(#σ,A),t ha ti s ,a se nt en ce th at st at es it so wn un pr ov-"
a bi li ty fr om A . (Th at th is se nt en ce a lw ay se xi st si st ru eb ut no te nt ir el y o bv io us .)
No w w e m ak e t he f ol lo wi ng i ng en io us a rg um en t: Su pp os e t ha t σ i s p ro va bl e
f ro m A ; t he n σ i s f al se (b ec au se σ s ay s i t c an no t b e p ro ve d). Bu t t he n w e h av e a
"f al se se nt en ce th at is pr ov ab le fr om A ,s o Ac an no tc on si st of on ly tr ue se nt en ce s—"
"a vi ol at io no fo ur pr em is e . Th er ef or e , σ i sn ot pr ov ab le fr om A . Bu tt hi si se xa ct ly"
w ha tσ i ts el fc la im s ;h en ceσ i sa tr ue se nt en ce .
"So , w e h av e s ho wn (b ar ri ng 291 p ag es) t ha t f or a ny s et o f t ru e s en te nc es o f"
2
"n um be r t he or y , a nd i n p ar ti cu la r a ny s et o f b as ic a xi om s , t he re a re o th er t ru e s en-"
"t en ce s t ha t c an no t b e p ro ve d f ro m t ho se a xi om s . Th is e st ab li sh es , a mo ng o th er"
"t hi ng s , t ha t w e c an n ev er p ro ve a ll t he t he or em s o f m at he ma ti cs w it hi n a ny g iv en"
"s ys te m o f a xi om s . Cl ea rl y , t hi s w as a n i mp or ta nt d is co ve ry f or m at he ma ti cs . It s"
"s ig ni fi ca nc ef or AIh as be en wi de ly de ba te d ,b eg in ni ng wi th sp ec ul at io ns by Go¨d el"
h im se lf . We ta ke up th ed eb at ei n Ch ap te r 26.
Se ct io n 9.5. Re so lu ti on 353
"p ro of u si ng t he c la us es o f S i ts el f , w hi ch a re n ot n ec es sa ri ly g ro un d c la us es . We s ta rt b y"
c on si de ri ng a si ng le ap pl ic at io n o ft he re so lu ti on r ul e . Ro bi ns on st at ed th is le mm a:
(c id:2) (c id:2)
"Le t C a nd C b e t wo c la us es w it h n o s ha re d v ar ia bl es , a nd l et C a nd C b e"
1 2 1 2
(c id:2) (c id:2) (c id:2)
"g ro un di ns ta nc es of C a nd C . If C i sa re so lv en to f C a nd C ,t he nt he re ex is ts"
1 2 1 2
(c id:2)
a c la us e C s uc h t ha t (1) C i s a r es ol ve nt o f C a nd C a nd (2) C i s a g ro un d
1 2
i ns ta nc eo f C .
"Th is is ca ll ed al if ti ng le mm a ,b ec au se it li ft sa pr oo fs te pf ro mg ro un dc la us es up to ge ne ra l"
LIFTINGLEMMA
"f ir st-o rd er c la us es . In o rd er t o p ro ve h is b as ic l if ti ng l em ma , Ro bi ns on h ad t o i nv en t u ni fi-"
c at io n a nd d er iv e a ll o f t he p ro pe rt ie s o f m os t g en er al u ni fi er s . Ra th er t ha n r ep ea t t he p ro of
"h er e ,w es im pl yi ll us tr at e t he le mm a:"
"C = ¬P(x ,F(x ,A))∨¬Q(x ,A)∨R(x ,B)"
1
"C = ¬N(G(y),z)∨P(H(y),z)"
2
"C(c id:2) = ¬P(H(B),F(H(B),A))∨¬Q(H(B),A)∨R(H(B),B)"
1
"C(c id:2) = ¬N(G(B),F(H(B),A))∨P(H(B),F(H(B),A))"
2
"C(c id:2) = ¬N(G(B),F(H(B),A))∨¬Q(H(B),A)∨R(H(B),B)"
"C = ¬N(G(y),F(H(y),A))∨¬Q(H(y),A)∨R(H(y),B)."
(c id:2) (c id:2) (c id:2)
"We s ee t ha t i nd ee d C i s a g ro un d i ns ta nc e o f C . In g en er al , f or C a nd C t o h av e a ny"
1 2
"r es ol ve nt s , t he y m us t b e c on st ru ct ed b y f ir st a pp ly in g t o C a nd C t he m os t g en er al u ni fi er"
1 2
"o fa pa ir of co mp le me nt ar y l it er al s i n C a nd C . Fr om th el if ti ng le mm a ,i ti se as yt od er iv e"
1 2
a si mi la rs ta te me nt a bo ut an ys eq ue nc e o fa pp li ca ti on s o ft he re so lu ti on r ul e:
(c id:2) (c id:2)
Fo ra ny cl au se C i nt he re so lu ti on c lo su re of S t he re is ac la us e C i nt he re so lu-
(c id:2)
t io nc lo su re of S s uc ht ha t C i sa gr ou nd in st an ce of C a nd th ed er iv at io no f C i s
(c id:2)
t he sa me le ng th as th ed er iv at io n o f C .
(c id:2)
"Fr om t hi s f ac t , i t f ol lo ws t ha t i f t he e mp ty c la us e a pp ea rs i n t he r es ol ut io n c lo su re o f S , i t"
m us ta ls oa pp ea ri nt he re so lu ti on c lo su re of S . Th is is be ca us et he em pt yc la us ec an no tb ea
"g ro un d i ns ta nc e o fa ny ot he rc la us e . To re ca p: w eh av es ho wn th at if S i su ns at is fi ab le , t he n"
t he re is af in it ed er iv at io no ft he em pt yc la us eu si ng th er es ol ut io n r ul e .
Th el if ti ng of th eo re mp ro vi ng fr om gr ou nd cl au se st of ir st-o rd er cl au se sp ro vi de sa va st
i nc re as ei np ow er . Th is in cr ea se co me sf ro mt he fa ct th at th ef ir st-o rd er pr oo fn ee di ns ta nt ia te
"v ar ia bl es o nl y a s f ar a s n ec es sa ry f or t he p ro of , w he re as t he g ro un d-c la us e m et ho ds w er e"
r eq ui re d t oe xa mi ne ah ug en um be ro fa rb it ra ry i ns ta nt ia ti on s .
9.5.5 Eq ua li ty
No ne of th ei nf er en ce me th od sd es cr ib ed so fa ri nt hi sc ha pt er ha nd le an as se rt io no ft he fo rm
x = y . Th re ed is ti nc ta pp ro ac he sc an be ta ke n . Th ef ir st ap pr oa ch is to ax io ma ti ze eq ua li ty—
t ow ri te do wn se nt en ce sa bo ut th ee qu al it yr el at io ni nt he kn ow le dg eb as e . We ne ed to sa yt ha t
"e qu al it yi sr ef le xi ve ,s ym me tr ic ,a nd tr an si ti ve ,a nd we al so ha ve to sa yt ha tw ec an su bs ti tu te"
"e qu al s f or e qu al s i n a ny p re di ca te o rf un ct io n . So w en ee d t hr ee b as ic a xi om s , a nd t he n o ne"
354 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
f or ea ch pr ed ic at e a nd fu nc ti on:
∀x x=x
"∀x ,y x=y ⇒ y=x"
"∀x ,y ,z x=y∧y=z ⇒ x=z"
"∀x ,y x=y ⇒ (P (x) ⇔ P (y))"
1 1
"∀x ,y x=y ⇒ (P (x) ⇔ P (y))"
2 2
.
.
.
"∀w ,x ,y ,z w=y∧x=z ⇒ (F (w ,x)=F (y ,z))"
1 1
"∀w ,x ,y ,z w=y∧x=z ⇒ (F (w ,x)=F (y ,z))"
2 2
.
.
.
"Gi ve n t he se s en te nc es , a s ta nd ar d i nf er en ce p ro ce du re s uc h a s r es ol ut io n c an p er fo rm t as ks"
"r eq ui ri ng eq ua li ty re as on in g ,s uc ha ss ol vi ng ma th em at ic al eq ua ti on s . Ho we ve r ,t he se ax io ms"
"w il l g en er at e a l ot o f c on cl us io ns , m os t o f t he m n ot h el pf ul t o a p ro of . So t he re h as b ee n a"
s ea rc h f or mo re ef fi ci en tw ay so fh an dl in g e qu al it y . On ea lt er na ti ve i st oa dd i nf er en ce r ul es
"r at he r t ha n a xi om s . Th e s im pl es t r ul e , d em od ul at io n , t ak es a u ni t c la us e x=y a nd s om e"
"c la us e α t ha t c on ta in s t he t er m x , a nd y ie ld s a n ew c la us e f or me d b y s ub st it ut in g y f or x"
w it hi n α. It w or ks i f t he t er m w it hi n α u ni fi es w it h x ; i t n ee d n ot b e e xa ct ly e qu al t o x .
"No te th at d em od ul at io n i sd ir ec ti on al ; g iv en x = y ,t he xa lw ay s g et sr ep la ce d w it hy ,n ev er"
v ic e v er sa . Th at m ea ns t ha t d em od ul at io n c an b e u se d f or s im pl if yi ng e xp re ss io ns u si ng
"d em od ul at or s s uc ha sx+0=x or x 1=x . As an ot he re xa mp le , g iv en"
Fa th er(Fa th er(x)) = Pa te rn al Gr an df at he r(x)
"Bi rt hd at e(Fa th er(Fa th er(Be ll a)),1926)"
w ec an co nc lu de b yd em od ul at io n
"Bi rt hd at e(Pa te rn al Gr an df at he r(Be ll a),1926)."
"Mo re fo rm al ly ,w eh av e"
"• De mo du la ti on: Fo r a ny t er ms x , y , a nd z , w he re z a pp ea rs s om ew he re i n l it er al m"
DEMODULATION i
"a nd wh er e UNIFY(x ,z) = θ,"
"x=y , m ∨···∨m"
1 n
.
"SUB(SUBST(θ,x),SUBST(θ,y),m 1∨···∨m n)"
"w he re SUBST i s t he u su al s ub st it ut io n o f a b in di ng l is t , a nd SUB(x ,y ,m) m ea ns t o"
r ep la ce x wi th y e ve ry wh er et ha t x oc cu rs wi th in m .
Th er ul ec an al so be ex te nd ed to ha nd le no n-u ni tc la us es in wh ic ha ne qu al it yl it er al ap pe ar s:
"• Pa ra mo du la ti on: Fo ra ny te rm s x ,y ,a nd z ,w he re z a pp ea rs so me wh er ei nl it er al m ,"
PARAMODULATION i
"a nd wh er e UNIFY(x ,z) = θ,"
"(c id:3) ∨···∨(c id:3) ∨x=y , m ∨···∨m"
1 k 1 n
.
"SUB(SUBST(θ,x),SUBST(θ,y),SUBST(θ,(c id:3) 1∨···∨(c id:3)"
k
∨m 1∨···∨m n)
"Fo re xa mp le ,f ro m"
"P(F(x ,B),x)∨Q(x) a nd F(A ,y)=y∨R(y)"
Se ct io n 9.5. Re so lu ti on 355
"w e h av e θ=UNIFY(F(A ,y),F(x ,B))={x/A ,y/B}, a nd w e c an c on cl ud e b y p ar am od u-"
l at io nt he se nt en ce
"P(B ,A)∨Q(A)∨R(B)."
Pa ra mo du la ti on y ie ld sa co mp le te in fe re nc e p ro ce du re f or fi rs t-o rd er lo gi cw it he qu al it y .
A t hi rd a pp ro ac h h an dl es e qu al it y r ea so ni ng e nt ir el y w it hi n a n e xt en de d u ni fi ca ti on
"a lg or it hm . Th at i s , t er ms a re u ni fi ab le i f t he y a re p ro va bl y e qu al u nd er s om e s ub st it ut io n ,"
"w he re “p ro va bl y” a ll ow s f or e qu al it y r ea so ni ng . Fo r e xa mp le , t he t er ms 1 + 2 a nd 2 + 1"
"n or ma ll y a re n ot u ni fi ab le , b ut a u ni fi ca ti on a lg or it hm t ha t k no ws t ha t x+y=y +x c ou ld"
EQUATIONAL u ni fy th em wi th th ee mp ty su bs ti tu ti on . Eq ua ti on al un if ic at io no ft hi sk in dc an be do ne wi th
UNIFICATION
"e ff ic ie nt al go ri th ms de si gn ed fo rt he pa rt ic ul ar ax io ms us ed(c om mu ta ti vi ty ,a ss oc ia ti vi ty ,a nd"
s o o n) r at he r t ha n t hr ou gh e xp li ci t i nf er en ce w it h t ho se a xi om s . Th eo re m p ro ve rs u si ng t hi s
t ec hn iq ue a re cl os el yr el at ed to th e CLPs ys te ms de sc ri be d i n Se ct io n 9.4.
9.5.6 Re so lu ti on st ra te gi es
We k no w t ha t r ep ea te d a pp li ca ti on s o f t he r es ol ut io n i nf er en ce r ul e w il l e ve nt ua ll y f in d a
"p ro of if on ee xi st s . In th is su bs ec ti on , w ee xa mi ne st ra te gi es t ha th el pf in dp ro of s e ff ic ie nt ly ."
Un it pr ef er en ce: Th is st ra te gy pr ef er st od or es ol ut io ns wh er eo ne of th es en te nc es is as in gl e
UNITPREFERENCE
l it er al (a ls o k no wn a s a u ni t c la us e). Th e i de a b eh in d t he s tr at eg y i s t ha t w e a re t ry in g t o
"p ro du ce a ne mp ty cl au se , s oi tm ig ht be ag oo di de at op re fe ri nf er en ce s t ha tp ro du ce sh or te r"
c la us es . Re so lv in ga un it se nt en ce(s uc ha s P)w it ha ny ot he rs en te nc e(s uc ha s¬P∨¬Q∨R)
"a lw ay s y ie ld s a c la us e (i n t hi s c as e , ¬Q ∨ R) t ha t i s s ho rt er t ha n t he o th er c la us e . Wh en"
"t he u ni t p re fe re nc e s tr at eg y w as f ir st t ri ed f or p ro po si ti on al i nf er en ce i n 1964, i t l ed t o a"
"d ra ma ti cs pe ed up ,m ak in gi tf ea si bl et op ro ve th eo re ms th at c ou ld no tb eh an dl ed wi th ou tt he"
p re fe re nc e . Un it re so lu ti on i s a re st ri ct ed f or m o f r es ol ut io n i n w hi ch e ve ry r es ol ut io n s te p
"m us t i nv ol ve a u ni t c la us e . Un it r es ol ut io n i s i nc om pl et e i n g en er al , b ut c om pl et e f or Ho rn"
c la us es . Un it re so lu ti on p ro of so n Ho rn cl au se s r es em bl ef or wa rd ch ai ni ng .
Th e OTTER t he or em pr ov er(Or ga ni ze d Te ch ni qu es fo r Th eo re m-p ro vi ng a nd Ef fe ct iv e
"Re se ar ch , Mc Cu ne , 1992), u se s a f or m o f b es t-f ir st s ea rc h . It s h eu ri st ic f un ct io n m ea su re s"
"t he“w ei gh t”o fe ac hc la us e ,w he re li gh te rc la us es ar ep re fe rr ed . Th ee xa ct ch oi ce of he ur is ti c"
"i s u p t o t he u se r , b ut g en er al ly , t he w ei gh t o f a c la us e s ho ul d b e c or re la te d w it h i ts s iz e o r"
d if fi cu lt y . Un it cl au se s a re tr ea te d a sl ig ht ; t he se ar ch c an t hu s b es ee na sa ge ne ra li za ti on o f
t he un it pr ef er en ce s tr at eg y .
"Se t o f s up po rt: Pr ef er en ce s t ha t t ry c er ta in r es ol ut io ns f ir st a re h el pf ul , b ut i n g en er al i t i s"
SETOFSUPPORT
"m or ee ff ec ti ve to tr yt oe li mi na te so me po te nt ia l r es ol ut io ns a lt og et he r . Fo re xa mp le ,w ec an"
i ns is t t ha t e ve ry r es ol ut io n s te p i nv ol ve a t l ea st o ne e le me nt o f a s pe ci al s et o f c la us es—t he
s et o f s up po rt . Th e r es ol ve nt i s t he n a dd ed i nt o t he s et o f s up po rt . If t he s et o f s up po rt i s
"s ma ll re la ti ve to th ew ho le kn ow le dg eb as e ,t he se ar ch sp ac e w il lb er ed uc ed d ra ma ti ca ll y ."
We h av e t o b e c ar ef ul w it h t hi s a pp ro ac h b ec au se a b ad c ho ic e f or t he s et o f s up po rt
"w il l m ak e t he a lg or it hm i nc om pl et e . Ho we ve r , i f w ec ho os e t he s et o f s up po rt S s o t ha t t he"
"r em ai nd er o f t he s en te nc es a re j oi nt ly s at is fi ab le , t he n s et-o f-s up po rt r es ol ut io n i s c om pl et e ."
"Fo re xa mp le , o ne ca n u se th en eg at ed q ue ry a st he s et of su pp or t , o nt he as su mp ti on t ha t t he"
356 Ch ap te r 9. In fe re nc e i n Fi rs t-Or de r Lo gi c
"o ri gi na l k no wl ed ge b as e i s c on si st en t . (Af te r a ll , i f i t i s n ot c on si st en t , t he n t he f ac t t ha t t he"
q ue ry fo ll ow sf ro mi ti sv ac uo us .) Th es et-o f-s up po rt s tr at eg yh as th ea dd it io na la dv an ta ge of
g en er at in g g oa l-d ir ec te d p ro of tr ee st ha ta re of te ne as yf or hu ma ns to un de rs ta nd .
"In pu tr es ol ut io n: In th is st ra te gy ,e ve ry re so lu ti on co mb in es on eo ft he in pu ts en te nc es(f ro m"
INPUTRESOLUTION
t he KB o r t he q ue ry) w it h s om e o th er s en te nc e . Th e p ro of i n Fi gu re 9.11 o n p ag e 348 u se s
o nl y i np ut r es ol ut io ns a nd h as t he c ha ra ct er is ti c s ha pe o f a s in gl e “s pi ne” w it h s in gl e s en-
"t en ce s c om bi ni ng o nt o t he s pi ne . Cl ea rl y , t he s pa ce o f p ro of t re es o f t hi s s ha pe i s s ma ll er"
"t ha n t he s pa ce o f a ll p ro of g ra ph s . In Ho rn k no wl ed ge b as es , Mo du s Po ne ns i s a k in d o f"
"i np ut re so lu ti on st ra te gy ,b ec au se it co mb in es an im pl ic at io nf ro mt he or ig in al KBw it hs om e"
"o th er se nt en ce s . Th us ,i ti sn os ur pr is e t ha ti np ut re so lu ti on i sc om pl et e f or kn ow le dg e b as es"
"t ha ta re in Ho rn fo rm ,b ut in co mp le te i nt he ge ne ra l c as e . Th e l in ea rr es ol ut io n s tr at eg yi sa"
LINEARRESOLUTION
s li gh tg en er al iz at io n t ha ta ll ow s P a nd Qt ob er es ol ve dt og et he re it he ri f P i si nt he or ig in al
KB o ri f P i sa na nc es to ro f Qi nt he pr oo ft re e . Li ne ar re so lu ti on i sc om pl et e .
Su bs um pt io n: Th es ub su mp ti on m et ho de li mi na te s a ll se nt en ce s t ha ta re su bs um ed b y(t ha t
SUBSUMPTION
"i s ,m or es pe ci fi ct ha n)a ne xi st in gs en te nc ei nt he KB .Fo re xa mp le ,i f P(x)i si nt he KB ,t he n"
t he re is no se ns ei na dd in g P(A)a nd ev en le ss se ns ei na dd in g P(A)∨Q(B). Su bs um pt io n
h el ps ke ep th e KBs ma ll an dt hu sh el ps ke ep th es ea rc hs pa ce sm al l .
Pr ac ti ca lu se so fr es ol ut io n t he or em pr ov er s
Th eo re m p ro ve rs c an b e a pp li ed t o t he p ro bl em s i nv ol ve d i n t he s yn th es is a nd v er if ic at io n
SYNTHESIS
"o fb ot hh ar dw ar ea nd so ft wa re . Th us ,t he or em-p ro vi ng r es ea rc h i sc ar ri ed ou ti nt he fi el ds of"
VERIFICATION
"h ar dw ar ed es ig n , p ro gr am mi ng la ng ua ge s , a nd so ft wa re en gi ne er in g—n ot j us ti n AI ."
"In t he c as e o f h ar dw ar e , t he a xi om s d es cr ib e t he i nt er ac ti on s b et we en s ig na ls a nd c ir-"
c ui t e le me nt s . (Se e Se ct io n 8.4.2 o n p ag e 309 f or a n e xa mp le .) Lo gi ca l r ea so ne rs d es ig ne d
"s pe ci al ly f or v er if ic at io n h av e b ee n a bl e t o v er if y e nt ir e CPUs , i nc lu di ng t he ir t im in g p ro p-"
"e rt ie s (Sr iv as a nd Bi ck fo rd , 1990). Th e AURA t he or em p ro ve r h as b ee n a pp li ed t o d es ig n"
"c ir cu it st ha ta re mo re co mp ac tt ha na ny pr ev io us d es ig n(Wo jc ie ch ow sk i a nd Wo jc ik ,1983)."
"In t he c as e o f s of tw ar e , r ea so ni ng a bo ut p ro gr am s i s q ui te s im il ar t o r ea so ni ng a bo ut"
"a ct io ns , a s i n Ch ap te r 7: a xi om s d es cr ib e t he p re co nd it io ns a nd e ff ec ts o f e ac h s ta te me nt ."
"Th e f or ma l s yn th es is o f a lg or it hm s w as o ne o f t he f ir st u se s o f t he or em p ro ve rs , a s o ut li ne d"
"b y Co rd el l Gr ee n (1969 a), w ho b ui lt o n e ar li er i de as b y He rb er t Si mo n (1963). Th e i de a"
i s t o c on st ru ct iv el y p ro ve a t he or em t o t he e ff ec t t ha t “t he re e xi st s a p ro gr am p s at is fy in g a
"DEDUCTIVE c er ta in s pe ci fi ca ti on .” Al th ou gh f ul ly a ut om at ed d ed uc ti ve sy nt he si s , a si ti sc al le d , h as n ot"
SYNTHESIS
"y et b ec om e f ea si bl e f or ge ne ra l-p ur po se p ro gr am mi ng , h an d-g ui de d d ed uc ti ve s yn th es is h as"
b ee ns uc ce ss fu li nd es ig ni ng se ve ra ln ov el an ds op hi st ic at ed al go ri th ms . Sy nt he si so fs pe ci al-
"p ur po se p ro gr am s ,s uc ha ss ci en ti fi cc om pu ti ng c od e ,i sa ls o a na ct iv ea re ao fr es ea rc h ."
Si mi la rt ec hn iq ue sa re no wb ei ng ap pl ie dt os of tw ar ev er if ic at io nb ys ys te ms su ch as th e
"SPIN m od el c he ck er (Ho lz ma nn , 1997). Fo re xa mp le , t he Re mo te Ag en t s pa ce cr af t c on tr ol"
"p ro gr am w as v er if ie d b ef or e a nd a ft er f li gh t (Ha ve lu nd e t a l ., 2000). Th e RSA p ub li c k ey"
e nc ry pt io na lg or it hm an dt he Bo ye r–Mo or es tr in g-m at ch in g a lg or it hm ha ve be en ve ri fi ed th is
"w ay(Bo ye ra nd Mo or e ,1984)."
10
CLASSICAL PLANNING
In wh ic hw es ee ho wa na ge nt ca nt ak ea dv an ta ge of th es tr uc tu re of ap ro bl em to
c on st ru ct c om pl ex pl an so fa ct io n .
"We h av e d ef in ed AI a s t he s tu dy o f r at io na l a ct io n , w hi ch m ea ns t ha t p la nn in g—d ev is in g a"
p la n o f a ct io n t o a ch ie ve o ne’s g oa ls—i s a c ri ti ca l p ar t o f AI . We h av e s ee n t wo e xa mp le s
o f p la nn in g a ge nt s s o f ar: t he s ea rc h-b as ed p ro bl em-s ol vi ng a ge nt o f Ch ap te r 3 a nd t he h y-
b ri d l og ic al a ge nt o f Ch ap te r 7. In t hi s c ha pt er w e i nt ro du ce a r ep re se nt at io n f or p la nn in g
p ro bl em st ha ts ca le su pt op ro bl em st ha tc ou ld no tb eh an dl ed b yt ho se ea rl ie ra pp ro ac he s .
Se ct io n 10.1 d ev el op sa ne xp re ss iv ey et ca re fu ll yc on st ra in ed la ng ua ge fo rr ep re se nt in g
p la nn in g p ro bl em s . Se ct io n 10.2 s ho ws h ow f or wa rd a nd b ac kw ar d s ea rc h a lg or it hm s c an
"t ak ea dv an ta ge of th is re pr es en ta ti on ,p ri ma ri ly th ro ug ha cc ur at eh eu ri st ic st ha tc an be de ri ve d"
a ut om at ic al ly fr om th es tr uc tu re of th er ep re se nt at io n . (Th is is an al og ou st ot he wa yi nw hi ch
e ff ec ti ve do ma in-i nd ep en de nt he ur is ti cs we re co ns tr uc te df or co ns tr ai nt sa ti sf ac ti on pr ob le ms
i n Ch ap te r 6.) Se ct io n 10.3 s ho ws ho wa da ta st ru ct ur ec al le dt he pl an ni ng gr ap hc an ma ke th e
"s ea rc hf or ap la nm or ee ff ic ie nt . We th en de sc ri be a fe wo ft he ot he ra pp ro ac he s t op la nn in g ,"
a nd co nc lu de b yc om pa ri ng th ev ar io us ap pr oa ch es .
"Th is c ha pt er c ov er s f ul ly o bs er va bl e , d et er mi ni st ic , s ta ti c e nv ir on me nt s w it h s in gl e"
"a ge nt s . Ch ap te rs 11 a nd 17 c ov er p ar ti al ly o bs er va bl e , s to ch as ti c , d yn am ic e nv ir on me nt s"
w it hm ul ti pl ea ge nt s .
10.1 DEFINITION OF CLASSICAL PLANNING
Th e p ro bl em-s ol vi ng a ge nt o f Ch ap te r 3 c an f in d s eq ue nc es o f a ct io ns t ha t r es ul t i n a g oa l
s ta te . Bu ti td ea ls wi th at om ic re pr es en ta ti on s o fs ta te s a nd th us n ee ds go od d om ai n-s pe ci fi c
h eu ri st ic st op er fo rm we ll . Th eh yb ri dp ro po si ti on al l og ic al ag en to f Ch ap te r 7 c an fi nd pl an s
w it ho ut d om ai n-s pe ci fi c h eu ri st ic s b ec au se i t u se s d om ai n-i nd ep en de nt h eu ri st ic s b as ed o n
t he l og ic al s tr uc tu re o f t he p ro bl em . Bu t i t r el ie s o n g ro un d (v ar ia bl e-f re e) p ro po si ti on al
"i nf er en ce , w hi ch me an st ha ti tm ay be sw am pe dw he nt he re ar em an ya ct io ns an ds ta te s . Fo r"
"e xa mp le ,i nt he wu mp us wo rl d ,t he si mp le ac ti on of mo vi ng as te pf or wa rd ha dt ob er ep ea te d"
"f or al lf ou ra ge nt or ie nt at io ns , T t im es te ps ,a nd n 2 c ur re nt lo ca ti on s ."
366
Se ct io n 10.1. De fi ni ti on of Cl as si ca l Pl an ni ng 367
"In r es po ns e t o t hi s , p la nn in g r es ea rc he rs h av e s et tl ed o n a f ac to re d r ep re se nt at io n—"
o ne in wh ic ha st at eo ft he wo rl di sr ep re se nt ed by ac ol le ct io no fv ar ia bl es . We us ea la ng ua ge
"c al le d PDDL ,t he Pl an ni ng Do ma in De fi ni ti on La ng ua ge , t ha ta ll ow su st oe xp re ss a ll 4 Tn 2"
PDDL
a ct io ns w it h o ne a ct io n s ch em a . Th er e h av e b ee n s ev er al v er si on s o f PDDL ; w e s el ec t a
s im pl e v er si on a nd al te r i ts sy nt ax t ob ec on si st en t w it h t he r es t o ft he b oo k .1 We no ws ho w
"h ow PDDLd es cr ib es th ef ou rt hi ng sw en ee dt od ef in ea se ar ch pr ob le m: t he in it ia ls ta te ,t he"
"a ct io ns th at ar ea va il ab le i na st at e , t he re su lt of ap pl yi ng a na ct io n , a nd th eg oa lt es t ."
"Ea ch st at ei sr ep re se nt ed as ac on ju nc ti on of fl ue nt st ha ta re gr ou nd ,f un ct io nl es sa to ms ."
"Fo r e xa mp le , Po or ∧ Un kn ow n m ig ht r ep re se nt t he s ta te o f a h ap le ss a ge nt , a nd a s ta te"
"i n a p ac ka ge d el iv er y p ro bl em m ig ht b e At(Tr uc k ,Me lb ou rn e) ∧ At(Tr uc k ,Sy dn ey)."
1 2
Da ta ba se se ma nt ic si su se d: t he cl os ed-w or ld as su mp ti on me an st ha ta ny fl ue nt st ha ta re no t
"m en ti on ed a re f al se , a nd t he u ni qu e n am es a ss um pt io n m ea ns t ha t Tr uc k a nd Tr uc k a re"
1 2
"d is ti nc t . Th ef ol lo wi ng fl ue nt sa re no ta ll ow ed in as ta te: At(x ,y)(b ec au se it is no n-g ro un d),"
"¬Po or (b ec au se it is an eg at io n),a nd At(Fa th er(Fr ed),Sy dn ey)(b ec au se it us es af un ct io n"
s ym bo l). Th e r ep re se nt at io n o f s ta te s i s c ar ef ul ly d es ig ne d s o t ha t a s ta te c an b e t re at ed
"e it he r a sa co nj un ct io n o f f lu en ts , w hi ch c an b e m an ip ul at ed b y l og ic al i nf er en ce , o ra s a s et"
"o f f lu en ts , w hi ch c an b e m an ip ul at ed w it h s et o pe ra ti on s . Th e s et s em an ti cs i s s om et im es"
SETSEMANTICS
e as ie rt od ea lw it h .
Ac ti on sa re de sc ri be db ya se to fa ct io ns ch em as th at im pl ic it ly de fi ne th e ACTIONS(s)
"a nd RESULT(s ,a)f un ct io ns ne ed ed to do ap ro bl em-s ol vi ng se ar ch . We sa wi n Ch ap te r 7 t ha t"
a ny sy st em fo ra ct io nd es cr ip ti on ne ed st os ol ve th ef ra me pr ob le m—t os ay wh at ch an ge sa nd
w ha t s ta ys t he s am e a s t he r es ul t o ft he a ct io n . Cl as si ca l p la nn in g c on ce nt ra te s o n p ro bl em s
w he re m os ta ct io ns l ea ve m os tt hi ng s u nc ha ng ed . Th in k o fa wo rl d c on si st in g o fa bu nc h o f
o bj ec ts o na fl at su rf ac e . Th ea ct io n o fn ud gi ng a no bj ec t c au se s t ha t o bj ec t t oc ha ng e i ts lo-
c at io nb ya ve ct orΔ. Ac on ci se de sc ri pt io no ft he ac ti on sh ou ld me nt io no nl yΔ;i ts ho ul dn’t
h av et om en ti on al lt he ob je ct st ha ts ta yi np la ce . PDDL d oe st ha tb ys pe ci fy in g t he re su lt of
a na ct io ni nt er ms of wh at ch an ge s ;e ve ry th in g t ha ts ta ys th e s am ei sl ef tu nm en ti on ed .
A s et o f g ro un d (v ar ia bl e-f re e) a ct io ns c an b e r ep re se nt ed b y a s in gl e a ct io n s ch em a .
ACTIONSCHEMA
Th es ch em ai sa li ft ed re pr es en ta ti on—i t l if ts th el ev el of re as on in g f ro mp ro po si ti on al l og ic
"t o a r es tr ic te d s ub se t o f f ir st-o rd er l og ic . Fo r e xa mp le , h er e i s a n a ct io n s ch em a f or f ly in g a"
p la ne fr om on el oc at io n t oa no th er:
"Ac ti on(Fl y(p ,f ro m ,t o),"
"PRECOND:At(p ,f ro m)∧Pl an e(p)∧Ai rp or t(f ro m)∧Ai rp or t(t o)"
"EFFECT:¬At(p ,f ro m)∧At(p ,t o))"
"Th e s ch em a c on si st s o f t he a ct io n n am e , a l is t o f a ll t he v ar ia bl es u se d i n t he s ch em a , a"
p re co nd it io n a nd a n e ff ec t . Al th ou gh w e h av en’t s ai d y et h ow t he a ct io n s ch em a c on ve rt s
PRECONDITION
"i nt o l og ic al s en te nc es , t hi nk o f t he v ar ia bl es a s b ei ng u ni ve rs al ly q ua nt if ie d . We a re f re e t o"
EFFECT
"c ho os ew ha te ve rv al ue sw ew an tt oi ns ta nt ia te th ev ar ia bl es . Fo re xa mp le ,h er ei so ne gr ou nd"
"1 PDDLw as de ri ve df ro mt he or ig in al STRIPSp la nn in gl an gu ag e(Fi ke sa nd Ni ls so n ,1971). w hi ch is sl ig ht ly"
m or er es tr ic te dt ha n PDDL:STRIPSp re co nd it io ns an dg oa ls ca nn ot co nt ai nn eg at iv el it er al s .
368 Ch ap te r 10. Cl as si ca l Pl an ni ng
a ct io nt ha tr es ul ts fr om su bs ti tu ti ng v al ue sf or al lt he va ri ab le s:
"Ac ti on(Fl y(P ,SFO ,JFK),"
1
"PRECOND:At(P 1,SFO)∧Pl an e(P 1)∧Ai rp or t(SFO)∧Ai rp or t(JFK)"
"EFFECT:¬At(P 1,SFO)∧At(P 1,JFK))"
Th ep re co nd it io n a nd ef fe ct of an ac ti on ar ee ac hc on ju nc ti on s o fl it er al s(p os it iv eo rn eg at ed
"a to mi c s en te nc es). Th e p re co nd it io n d ef in es t he s ta te s i n w hi ch t he a ct io n c an b e e xe cu te d ,"
a nd th ee ff ec t d ef in es th er es ul t o fe xe cu ti ng t he ac ti on . An ac ti on a ca n b ee xe cu te d i ns ta te
s if se nt ai ls t he pr ec on di ti on o f a . En ta il me nt c an a ls o b ee xp re ss ed w it ht he s et se ma nt ic s:
s |= q i ff e ve ry p os it iv e l it er al i n q i s i n s a nd e ve ry n eg at ed l it er al i n q i s n ot . In f or ma l
n ot at io n w es ay
"(a ∈ ACTIONS(s)) ⇔ s |= PRECOND(a),"
"w he re an yv ar ia bl es i n a ar eu ni ve rs al ly q ua nt if ie d . Fo re xa mp le ,"
"∀p ,f ro m ,t o (Fl y(p ,f ro m ,t o)∈ ACTIONS(s)) ⇔"
"s |= (At(p ,f ro m)∧Pl an e(p)∧Ai rp or t(f ro m)∧Ai rp or t(t o))"
We s ay t ha t a ct io n a i s a pp li ca bl e i n s ta te s i f t he p re co nd it io ns a re s at is fi ed b y s . Wh en
APPLICABLE
"a n a ct io n s ch em a a c on ta in s v ar ia bl es , i t m ay h av e m ul ti pl e a pp li ca bl e i ns ta nt ia ti on s . Fo r"
"e xa mp le , w it h t he i ni ti al s ta te d ef in ed i n Fi gu re 10.1, t he Fl y a ct io n c an b e i ns ta nt ia te d a s"
"Fl y(P ,SFO ,JFK) o r a s Fl y(P ,JFK ,SFO), b ot h o f w hi ch a re a pp li ca bl e i n t he i ni ti al"
1 2
"s ta te . If an ac ti on ah as vv ar ia bl es ,t he n ,i na do ma in wi th ku ni qu en am es of ob je ct s ,i tt ak es"
O(v k)t im ei nt he wo rs tc as et of in dt he ap pl ic ab le g ro un da ct io ns .
So me ti me sw ew an tt op ro po si ti on al iz ea PDDLp ro bl em—r ep la ce ea ch ac ti on sc he ma
PROPOSITIONALIZE
w it h a s et o f g ro un d a ct io ns a nd t he n u se a pr op os it io na l s ol ve r s uc h a s SATPLAN t o f in d a
"s ol ut io n . Ho we ve r ,t hi si si mp ra ct ic al w he nv a nd k a re la rg e ."
(c id:2)
Th e r es ul t o f e xe cu ti ng a ct io n a i n s ta te s i s d ef in ed a s a s ta te s w hi ch i s r ep re se nt ed
"b y t he s et o f f lu en ts f or me d b y s ta rt in g w it h s , r em ov in g t he f lu en ts t ha t a pp ea r a s n eg at iv e"
DELETELIST
"l it er al si nt he ac ti on’s e ff ec ts(w ha tw ec al lt he de le te li st or DEL(a)),a nd ad di ng th ef lu en ts"
ADDLIST
t ha ta re po si ti ve li te ra ls in th ea ct io n’s e ff ec ts(w ha tw ec al lt he ad dl is to r ADD(a)):
"RESULT(s ,a) = (s−DEL(a))∪ADD(a). (10.1)"
"Fo re xa mp le , w it ht he ac ti on Fl y(P ,SFO ,JFK),w ew ou ld re mo ve At(P ,SFO)a nd ad d"
1 1
"At(P ,JFK). It is ar eq ui re me nt o fa ct io n s ch em as t ha t a ny va ri ab le i nt he ef fe ct m us ta ls o"
1
"a pp ea r i n t he p re co nd it io n . Th at w ay , w he n t he p re co nd it io n i s m at ch ed a ga in st t he s ta te s ,"
"a ll th e v ar ia bl es w il lb eb ou nd , a nd RESULT(s ,a)w il lt he re fo re h av e o nl y g ro un d a to ms . In"
"o th er wo rd s ,g ro un d s ta te sa re cl os ed un de rt he RESULT o pe ra ti on ."
"Al so no te th at th ef lu en ts do no te xp li ci tl yr ef er to ti me ,a st he yd id in Ch ap te r 7. Th er e"
"w en ee de ds up er sc ri pt s f or ti me ,a nd su cc es so r-s ta te a xi om so ft he fo rm"
Ft+1 ⇔ Ac ti on Ca us es Ft∨(Ft∧¬Ac ti on Ca us es No t Ft).
In PDDL t he t im es a nd s ta te s a re i mp li ci t i n t he a ct io n s ch em as: t he p re co nd it io n a lw ay s
r ef er st ot im et an dt he ef fe ct to ti me t+1.
As et of ac ti on sc he ma ss er ve sa sa de fi ni ti on of ap la nn in gd om ai n . As pe ci fi cp ro bl em
w it hi n t he d om ai n i s d ef in ed w it h t he a dd it io n o f a n i ni ti al s ta te a nd a g oa l . Th e i ni ti al
Se ct io n 10.1. De fi ni ti on of Cl as si ca l Pl an ni ng 369
"In it(At(C , SFO) ∧ At(C , JFK) ∧ At(P , SFO) ∧ At(P , JFK)"
1 2 1 2
∧Ca rg o(C ) ∧ Ca rg o(C ) ∧ Pl an e(P ) ∧ Pl an e(P )
1 2 1 2
∧Ai rp or t(JFK) ∧ Ai rp or t(SFO))
"Go al(At(C , JFK) ∧ At(C , SFO))"
1 2
"Ac ti on(Lo ad(c , p , a),"
"PRECOND:At(c , a) ∧ At(p , a) ∧ Ca rg o(c) ∧ Pl an e(p) ∧ Ai rp or t(a)"
"EFFECT:¬At(c , a) ∧ In(c , p))"
"Ac ti on(Un lo ad(c , p , a),"
"PRECOND:In(c , p) ∧ At(p , a) ∧ Ca rg o(c) ∧ Pl an e(p) ∧ Ai rp or t(a)"
"EFFECT:At(c , a) ∧ ¬In(c , p))"
"Ac ti on(Fl y(p , f ro m , t o),"
"PRECOND:At(p , f ro m) ∧ Pl an e(p) ∧ Ai rp or t(f ro m) ∧ Ai rp or t(t o)"
"EFFECT:¬At(p , f ro m) ∧ At(p , t o))"
Fi gu re 10.1 APDDLd es cr ip ti on of an ai rc ar go tr an sp or ta ti on pl an ni ng pr ob le m .
"s ta te i s a c on ju nc ti on o f g ro un d a to ms . (As w it h a ll s ta te s , t he c lo se d-w or ld a ss um pt io n i s"
INITIALSTATE
"u se d , w hi ch m ea ns t ha t a ny a to ms t ha t a re n ot m en ti on ed a re f al se .) Th e g oa l i s j us t l ik e a"
GOAL
"p re co nd it io n: a co nj un ct io n o fl it er al s (p os it iv e o rn eg at iv e) t ha tm ay co nt ai n v ar ia bl es , s uc h"
"a s At(p ,SFO)∧Pl an e(p). An yv ar ia bl es a re tr ea te da se xi st en ti al ly q ua nt if ie d , s ot hi sg oa l"
i s t o h av e a ny p la ne a t SFO . Th e p ro bl em i s s ol ve d w he n w ec an f in d a s eq ue nc e o f a ct io ns
"t ha te nd in as ta te st ha te nt ai ls th eg oa l . Fo re xa mp le ,t he st at e Ri ch∧Fa mo us∧Mi se ra bl e"
"e nt ai ls t he g oa l Ri ch ∧Fa mo us , a nd t he s ta te Pl an e(Pl an e )∧At(Pl an e ,SFO) e nt ai ls"
1 1
"t he go al At(p ,SFO)∧Pl an e(p)."
"No ww eh av ed ef in ed pl an ni ng as as ea rc hp ro bl em: w eh av ea ni ni ti al st at e ,a n ACTIONS"
"f un ct io n , a RESULT f un ct io n , a nd a g oa l t es t . We’l l l oo k a t s om e e xa mp le p ro bl em s b ef or e"
i nv es ti ga ti ng e ff ic ie nt se ar ch al go ri th ms .
10.1.1 Ex am pl e: Ai rc ar go t ra ns po rt
Fi gu re 10.1 s ho ws an ai rc ar go tr an sp or t p ro bl em i nv ol vi ng l oa di ng a nd un lo ad in g c ar go an d
"f ly in gi tf ro m p la ce to pl ac e . Th ep ro bl em c an be de fi ne d w it ht hr ee a ct io ns: Lo ad ,Un lo ad ,"
"a nd Fl y . Th ea ct io ns a ff ec tt wo pr ed ic at es: In(c ,p)m ea ns th at ca rg o c is in si de pl an ep ,a nd"
"At(x ,a)m ea ns th at ob je ct x(e it he rp la ne or ca rg o)i sa ta ir po rt a . No te th at so me ca re mu st"
b e t ak en t o m ak e s ur e t he At p re di ca te s a re m ai nt ai ne d p ro pe rl y . Wh en a p la ne f li es f ro m
"o ne ai rp or tt oa no th er , a ll th ec ar go i ns id et he pl an e g oe sw it hi t . In fi rs t-o rd er lo gi ci tw ou ld"
b ee as yt oq ua nt if y o ve ra ll ob je ct s t ha ta re in si de t he pl an e . Bu tb as ic PDDL d oe sn ot ha ve
"a u ni ve rs al q ua nt if ie r , s o w e n ee d a d if fe re nt s ol ut io n . Th e a pp ro ac h w e u se i s t o s ay t ha t a"
p ie ce of ca rg oc ea se st ob e At an yw he re wh en it is In ap la ne ;t he ca rg oo nl yb ec om es At th e
n ew a ir po rt w he n i t i s u nl oa de d . So At r ea ll y m ea ns “a va il ab le f or u se a t a g iv en l oc at io n .”
Th ef ol lo wi ng pl an is as ol ut io n t ot he pr ob le m:
"[Lo ad(C ,P ,SFO),Fl y(P ,SFO ,JFK),Un lo ad(C ,P ,JFK),"
1 1 1 1 1
"Lo ad(C ,P ,JFK),Fl y(P ,JFK ,SFO),Un lo ad(C ,P ,SFO)]."
2 2 2 2 2
370 Ch ap te r 10. Cl as si ca l Pl an ni ng
"Fi na ll y , t he re i s t he p ro bl em o fs pu ri ou s a ct io ns s uc h a s Fl y(P ,JFK ,JFK), w hi ch s ho ul d"
1
"b ea no-o p , b ut wh ic h h as co nt ra di ct or y e ff ec ts (a cc or di ng t ot he de fi ni ti on , t he ef fe ct w ou ld"
"i nc lu de At(P ,JFK) ∧ ¬At(P ,JFK)). It i s c om mo n t o i gn or e s uc h p ro bl em s , b ec au se"
1 1
t he y s el do m c au se i nc or re ct p la ns t o b ep ro du ce d . Th ec or re ct a pp ro ac h i st o a dd i ne qu al it y
p re co nd it io ns s ay in g t ha tt he f ro m a nd to a ir po rt s m us tb ed if fe re nt ; s ee an ot he r e xa mp le of
t hi si n Fi gu re 10.3.
10.1.2 Ex am pl e: Th e s pa re t ir ep ro bl em
Co ns id er t he p ro bl em o f c ha ng in g a f la t t ir e (Fi gu re 10.2). Th e g oa l i s t o h av e a g oo d s pa re
"t ir ep ro pe rl ym ou nt ed on to th ec ar’s ax le ,w he re th ei ni ti al s ta te ha sa fl at ti re on th ea xl ea nd"
"a g oo d s pa re t ir e i n t he t ru nk . To k ee p i t s im pl e , o ur v er si on o f t he p ro bl em i s a n a bs tr ac t"
"o ne ,w it hn os ti ck yl ug nu ts or ot he rc om pl ic at io ns . Th er ea re ju st fo ur ac ti on s: r em ov in gt he"
"s pa re f ro m t he t ru nk , r em ov in g t he f la t t ir e f ro m t he a xl e , p ut ti ng t he s pa re o n t he a xl e , a nd"
l ea vi ng t he c ar u na tt en de d o ve rn ig ht . We a ss um e t ha t t he c ar i s p ar ke d i n a p ar ti cu la rl y b ad
"n ei gh bo rh oo d , s ot ha t t he e ff ec t o fl ea vi ng i to ve rn ig ht i st ha t t he t ir es d is ap pe ar . As ol ut io n"
"t ot he pr ob le m i s[Re mo ve(Fl at ,Ax le),Re mo ve(Sp ar e ,Tr un k),Pu t On(Sp ar e ,Ax le)]."
"In it(Ti re(Fl at) ∧ Ti re(Sp ar e) ∧ At(Fl at ,Ax le) ∧ At(Sp ar e ,Tr un k))"
"Go al(At(Sp ar e ,Ax le))"
"Ac ti on(Re mo ve(o bj ,l oc),"
"PRECOND:At(o bj ,l oc)"
"EFFECT:¬At(o bj ,l oc) ∧ At(o bj ,Gr ou nd))"
"Ac ti on(Pu t On(t , Ax le),"
"PRECOND:Ti re(t) ∧ At(t ,Gr ou nd) ∧ ¬At(Fl at ,Ax le)"
"EFFECT:¬At(t ,Gr ou nd) ∧ At(t ,Ax le))"
"Ac ti on(Le av e Ov er ni gh t ,"
PRECOND:
"EFFECT:¬At(Sp ar e ,Gr ou nd) ∧ ¬At(Sp ar e ,Ax le) ∧ ¬At(Sp ar e ,Tr un k)"
"∧¬At(Fl at ,Gr ou nd) ∧ ¬At(Fl at ,Ax le) ∧ ¬At(Fl at , Tr un k))"
Fi gu re 10.2 Th es im pl es pa re ti re pr ob le m .
10.1.3 Ex am pl e: Th e b lo ck s w or ld
On e o f t he m os t f am ou s p la nn in g d om ai ns i s k no wn a s t he b lo ck s w or ld . Th is d om ai n
BLOCKSWORLD
"c on si st s o f a s et o f c ub e-s ha pe d b lo ck s s it ti ng o n a t ab le .2 Th e b lo ck s c an b e s ta ck ed , b ut"
o nl y o ne b lo ck c an f it di re ct ly o nt op o fa no th er . Ar ob ot a rm c an pi ck u p a bl oc k a nd m ov e
"i t t o a no th er p os it io n , e it he r o n t he t ab le o r o n t op o f a no th er b lo ck . Th e a rm c an p ic k u p"
"o nl yo ne bl oc ka ta ti me ,s oi tc an no tp ic ku pa bl oc kt ha th as an ot he ro ne on it . Th eg oa lw il l"
"a lw ay sb et ob ui ld on eo rm or es ta ck so fb lo ck s , s pe ci fi ed i nt er ms of wh at bl oc ks ar eo nt op"
"2 Th eb lo ck sw or ld us ed in pl an ni ng re se ar ch is mu ch si mp le rt ha n SHRDLU’s ve rs io n ,s ho wn on pa ge 20."
Se ct io n 10.1. De fi ni ti on of Cl as si ca l Pl an ni ng 371
"In it(On(A ,Ta bl e) ∧ On(B ,Ta bl e) ∧ On(C ,A)"
∧ Bl oc k(A) ∧ Bl oc k(B) ∧ Bl oc k(C) ∧ Cl ea r(B) ∧ Cl ea r(C))
"Go al(On(A ,B) ∧ On(B ,C))"
"Ac ti on(Mo ve(b ,x ,y),"
"PRECOND:On(b ,x) ∧ Cl ea r(b) ∧ Cl ea r(y) ∧ Bl oc k(b) ∧ Bl oc k(y) ∧"
"(b(c id:7)=x) ∧ (b(c id:7)=y) ∧ (x(c id:7)=y),"
"EFFECT:On(b ,y) ∧ Cl ea r(x) ∧ ¬On(b ,x) ∧ ¬Cl ea r(y))"
"Ac ti on(Mo ve To Ta bl e(b ,x),"
"PRECOND:On(b ,x) ∧ Cl ea r(b) ∧ Bl oc k(b) ∧ (b(c id:7)=x),"
"EFFECT:On(b ,Ta bl e) ∧ Cl ea r(x) ∧ ¬On(b ,x))"
Fi gu re 10.3 Ap la nn in gp ro bl em in th eb lo ck sw or ld: b ui ld in ga th re e-b lo ck to we r . On e
"s ol ut io ni st he se qu en ce[Mo ve To Ta bl e(C ,A),Mo ve(B ,Ta bl e ,C),Mo ve(A ,Ta bl e ,B)]."
A
C B
B A C
St ar t St at e Go al St at e
Fi gu re 10.4 Di ag ra mo ft he bl oc ks-w or ld pr ob le mi n Fi gu re 10.3.
"o f w ha t o th er b lo ck s . Fo re xa mp le , a g oa l m ig ht b e t o g et b lo ck A o n B a nd b lo ck B o n C"
(s ee Fi gu re 10.4).
"We us e On(b ,x)t oi nd ic at e t ha tb lo ck b is on x ,w he re x is ei th er an ot he rb lo ck o rt he"
"t ab le . Th ea ct io n f or mo vi ng b lo ck b fr om t he to po f x to th e t op of y w il lb e Mo ve(b ,x ,y)."
"No w ,o ne of th ep re co nd it io ns o nm ov in gb is th at no ot he rb lo ck be on it . In fi rs t-o rd er lo gi c ,"
"t hi s w ou ld b e ¬∃x On(x ,b) o r , a lt er na ti ve ly , ∀x ¬On(x ,b). Ba si c PDDL d oe s n ot a ll ow"
"q ua nt if ie rs , s o i ns te ad w e i nt ro du ce a p re di ca te Cl ea r(x) t ha t i s t ru e w he n n ot hi ng i s o n x ."
(Th ec om pl et ep ro bl em d es cr ip ti on i si n Fi gu re 10.3.)
Th ea ct io n Mo ve m ov es ab lo ck bf ro m x to y i fb ot hb an dy a re cl ea r . Af te rt he mo ve
"i sm ad e ,b is st il lc le ar bu ty i sn ot . Af ir st at te mp ta tt he Mo ve s ch em ai s"
"Ac ti on(Mo ve(b ,x ,y),"
"PRECOND:On(b ,x)∧Cl ea r(b)∧Cl ea r(y),"
"EFFECT:On(b ,y)∧Cl ea r(x)∧¬On(b ,x)∧¬Cl ea r(y))."
"Un fo rt un at el y , t hi sd oe sn ot ma in ta in Cl ea r p ro pe rl y w he n x or y i st he ta bl e . Wh en xi st he"
"Ta bl e , t hi s a ct io n h as t he e ff ec t Cl ea r(Ta bl e), b ut t he t ab le s ho ul d n ot b ec om e c le ar ; a nd"
"w he ny=Ta bl e ,i th as th ep re co nd it io n Cl ea r(Ta bl e),b ut th et ab le do es no th av et ob ec le ar"
372 Ch ap te r 10. Cl as si ca l Pl an ni ng
"f or u s t o m ov e a b lo ck o nt o i t . To f ix t hi s , w e d o t wo t hi ng s . Fi rs t , w e i nt ro du ce a no th er"
a ct io nt om ov ea bl oc kb fr om xt ot he ta bl e:
"Ac ti on(Mo ve To Ta bl e(b ,x),"
"PRECOND:On(b ,x)∧Cl ea r(b),"
"EFFECT:On(b ,Ta bl e)∧Cl ea r(x)∧¬On(b ,x))."
"Se co nd , w e t ak e t he i nt er pr et at io n o f Cl ea r(x) t o b e “t he re i s a c le ar s pa ce o n x t o h ol d a"
"b lo ck .” Un de rt hi si nt er pr et at io n , Cl ea r(Ta bl e)w il la lw ay sb et ru e . Th eo nl yp ro bl em is th at"
"n ot hi ng p re ve nt s t he p la nn er f ro m u si ng Mo ve(b ,x ,Ta bl e) i ns te ad o f Mo ve To Ta bl e(b ,x)."
"We co ul dl iv ew it ht hi sp ro bl em—i tw il ll ea dt oa la rg er-t ha n-n ec es sa ry s ea rc hs pa ce ,b ut wi ll"
n ot le ad to in co rr ec ta ns we rs—o rw ec ou ld in tr od uc et he pr ed ic at e Bl oc k a nd ad d Bl oc k(b)∧
Bl oc k(y)t ot he pr ec on di ti on o f Mo ve .
10.1.4 Th e c om pl ex it yo fc la ss ic al pl an ni ng
In t hi s s ub se ct io n w e c on si de r t he t he or et ic al c om pl ex it y o f p la nn in g a nd d is ti ng ui sh t wo
d ec is io n p ro bl em s . Pl an SAT i s t he q ue st io n o f w he th er t he re e xi st s a ny p la n t ha t s ol ve s a
PLANSAT
p la nn in g p ro bl em . Bo un de d Pl an SAT a sk s w he th er t he re i s a s ol ut io n o f l en gt h k o r l es s ;
BOUNDEDPLANSAT
t hi sc an be us ed to fi nd an op ti ma lp la n .
Th ef ir st re su lt i st ha t b ot hd ec is io n p ro bl em s a re de ci da bl e f or cl as si ca l p la nn in g . Th e
p ro of fo ll ow sf ro mt he fa ct th at th en um be ro fs ta te si sf in it e . Bu ti fw ea dd fu nc ti on sy mb ol s
"t o t he l an gu ag e , t he n t he n um be r o f s ta te s b ec om es i nf in it e , a nd Pl an SAT b ec om es o nl y"
s em id ec id ab le: a na lg or it hm ex is ts th at wi ll te rm in at ew it ht he co rr ec ta ns we rf or an ys ol va bl e
"p ro bl em , b ut m ay n ot t er mi na te o n u ns ol va bl e p ro bl em s . Th e Bo un de d Pl an SAT p ro bl em"
r em ai ns d ec id ab le e ve n i n t he p re se nc e o f f un ct io n s ym bo ls . Fo r p ro of s o f t he a ss er ti on s i n
"t hi ss ec ti on , s ee Gh al la be ta l .(2004)."
"Bo th Pl an SATa nd Bo un de d Pl an SATa re in th ec om pl ex it y c la ss PSPACE ,a cl as st ha t"
i s l ar ge r (a nd h en ce m or e d if fi cu lt) t ha n NP a nd r ef er s t o p ro bl em s t ha t c an b e s ol ve d b y a
d et er mi ni st ic Tu ri ng m ac hi ne w it h a p ol yn om ia l a mo un t o f s pa ce . Ev en i f w e m ak e s om e
"r at he r s ev er e r es tr ic ti on s , t he p ro bl em s r em ai n q ui te d if fi cu lt . Fo r e xa mp le , i f w e d is al lo w"
"n eg at iv e e ff ec ts , b ot h p ro bl em s a re s ti ll NP-h ar d . Ho we ve r , i f w e a ls o d is al lo w n eg at iv e"
"p re co nd it io ns , Pl an SATr ed uc es t ot he cl as s P ."
Th es e w or st-c as e r es ul ts m ay s ee m d is co ur ag in g . We c an t ak e s ol ac e i n t he f ac t t ha t
"a ge nt s a re u su al ly n ot a sk ed t o f in d p la ns f or a rb it ra ry w or st-c as e p ro bl em i ns ta nc es , b ut"
"r at he ra re as ke df or pl an si ns pe ci fi cd om ai ns(s uc ha sb lo ck s-w or ld pr ob le ms wi th nb lo ck s),"
w hi ch c an b e m uc h e as ie r t ha n t he t he or et ic al w or st c as e . Fo r m an y d om ai ns (i nc lu di ng t he
"b lo ck s w or ld a nd t he a ir c ar go w or ld), Bo un de d Pl an SAT i s NP-c om pl et e w hi le Pl an SAT i s"
"i n P ;i no th er wo rd s ,o pt im al pl an ni ng is us ua ll yh ar d ,b ut su b-o pt im al pl an ni ng is so me ti me s"
"e as y . To d o w el l o n e as ie r-t ha n-w or st-c as e p ro bl em s , w e w il l n ee d g oo d s ea rc h h eu ri st ic s ."
Th at’s t he t ru e a dv an ta ge o f t he c la ss ic al p la nn in g f or ma li sm: i t h as f ac il it at ed t he d ev el op-
"m en t o f v er y a cc ur at e d om ai n-i nd ep en de nt h eu ri st ic s , w he re as s ys te ms b as ed o n s uc ce ss or-"
s ta te ax io ms in fi rs t-o rd er lo gi ch av eh ad le ss su cc es s i nc om in gu pw it hg oo dh eu ri st ic s .
Se ct io n 10.2. Al go ri th ms fo r Pl an ni ng as St at e-Sp ac e Se ar ch 373
10.2 ALGORITHMS FOR PLANNING AS STATE-SPACE SEARCH
No ww et ur no ur at te nt io nt op la nn in ga lg or it hm s . We sa wh ow th ed es cr ip ti on o fa pl an ni ng
p ro bl em d ef in es a s ea rc h p ro bl em: w e c an s ea rc h f ro m t he i ni ti al s ta te t hr ou gh t he s pa ce
"o f s ta te s , l oo ki ng f or a g oa l . On e o f t he n ic e a dv an ta ge s o f t he d ec la ra ti ve r ep re se nt at io n o f"
"a ct io ns ch em as is th at we ca na ls os ea rc hb ac kw ar df ro mt he go al ,l oo ki ng fo rt he in it ia ls ta te ."
Fi gu re 10.5 c om pa re sf or wa rd an db ac kw ar ds ea rc he s .
10.2.1 Fo rw ar d(p ro gr es si on) s ta te-s pa ce s ea rc h
"No wt ha tw eh av es ho wn ho wa pl an ni ng p ro bl em m ap si nt oa se ar ch p ro bl em , w ec an so lv e"
p la nn in g p ro bl em s w it h a ny o f t he h eu ri st ic s ea rc h a lg or it hm s f ro m Ch ap te r 3 o r a l oc al
s ea rc h a lg or it hm f ro m Ch ap te r 4 (p ro vi de d w e k ee p t ra ck o f t he a ct io ns u se d t o r ea ch t he
g oa l). Fr om t he e ar li es t d ay s o f p la nn in g r es ea rc h (a ro un d 1961) u nt il a ro un d 1998 i t w as
a ss um ed t ha t f or wa rd s ta te-s pa ce s ea rc h w as t oo i ne ff ic ie nt t o b e p ra ct ic al . It i s n ot h ar d t o
c om eu pw it hr ea so ns wh y .
"Fi rs t , f or wa rd s ea rc h i s p ro ne t o e xp lo ri ng i rr el ev an t a ct io ns . Co ns id er t he n ob le t as k"
o f b uy in g a co py o f AI:A Mo de rn Ap pr oa ch f ro m a n o nl in e b oo ks el le r . Su pp os e t he re i s a n
"At(P , B)"
1
"At(P , A)"
"Fl y(P 1, A , B) 2"
"At(P , A)"
1
(a)
"At(P , A)"
2
"Fl y(P , A , B) At(P , A)"
2 1
"At(P , B)"
2
"At(P , A)"
1
"At(P , B) Fl y(P , A , B)"
2 1
"At(P , B)"
(b) 1
"At(P , B)"
2
"At(P , B) Fl y(P , A , B)"
1 2
"At(P , A)"
2
Fi gu re 10.5 Tw o a pp ro ac he s t o s ea rc hi ng f or a p la n . (a) Fo rw ar d (p ro gr es si on) s ea rc h
"t hr ou gh t he s pa ce o f s ta te s , s ta rt in g i n t he i ni ti al s ta te a nd u si ng t he p ro bl em’s a ct io ns t o"
s ea rc h f or wa rd f or a m em be r o f t he s et o f g oa l s ta te s . (b) Ba ck wa rd (r eg re ss io n) s ea rc h
"t hr ou gh se ts of re le va nt st at es ,s ta rt in ga tt he se to fs ta te sr ep re se nt in gt he go al an du si ng th e"
i nv er se of th ea ct io ns to se ar ch ba ck wa rd fo rt he in it ia ls ta te .
374 Ch ap te r 10. Cl as si ca l Pl an ni ng
"a ct io ns ch em a Bu y(i sb n)w it he ff ec t Ow n(i sb n). ISBNs ar e 10 d ig it s ,s ot hi sa ct io ns ch em a"
r ep re se nt s 10 b il li on g ro un d a ct io ns . An u ni nf or me d f or wa rd-s ea rc h a lg or it hm w ou ld h av e
t os ta rt en um er at in g t he se 10 b il li on ac ti on s t of in do ne th at l ea ds to th eg oa l .
"Se co nd ,p la nn in gp ro bl em so ft en ha ve la rg es ta te sp ac es . Co ns id er an ai rc ar go pr ob le m"
"w it h 10 a ir po rt s , w he re ea ch ai rp or th as 5 p la ne sa nd 20 p ie ce so fc ar go . Th eg oa li st om ov e"
a ll th ec ar go a ta ir po rt At oa ir po rt B . Th er ei sa si mp le so lu ti on t ot he pr ob le m: l oa dt he 20
"p ie ce so fc ar go i nt oo ne of th ep la ne s a t A ,f ly th ep la ne to B ,a nd un lo ad t he ca rg o . Fi nd in g"
t he s ol ut io n c an b e d if fi cu lt b ec au se t he a ve ra ge b ra nc hi ng f ac to r i s h ug e: e ac h o f t he 50
"p la ne s c an f ly t o 9 o th er a ir po rt s , a nd e ac h o f t he 200 p ac ka ge s c an b e e it he r u nl oa de d (i f"
i t i s l oa de d) o r l oa de d i nt o a ny p la ne a t i ts a ir po rt (i f i t i s u nl oa de d). So i n a ny s ta te t he re
i s a m in im um o f 450 a ct io ns (w he n a ll t he p ac ka ge s a re a t a ir po rt s w it h n o p la ne s) a nd a
"m ax im um of 10,450(w he na ll pa ck ag es an dp la ne sa re at th es am ea ir po rt). On av er ag e ,l et’s"
"s ay th er ea re ab ou t 2000 p os si bl e a ct io ns pe rs ta te ,s ot he se ar ch gr ap hu pt ot he de pt ho ft he"
o bv io us so lu ti on h as ab ou t 200041 n od es .
"Cl ea rl y , e ve n t hi s r el at iv el y s ma ll p ro bl em i ns ta nc e i s h op el es s w it ho ut a n a cc ur at e"
h eu ri st ic . Al th ou gh ma ny re al-w or ld ap pl ic at io ns o fp la nn in gh av er el ie do nd om ai n-s pe ci fi c
"h eu ri st ic s ,i tt ur ns ou t(a sw es ee in Se ct io n 10.2.3)t ha ts tr on gd om ai n-i nd ep en de nt h eu ri st ic s"
c an be de ri ve da ut om at ic al ly ; t ha ti sw ha tm ak es fo rw ar ds ea rc hf ea si bl e .
10.2.2 Ba ck wa rd (r eg re ss io n) r el ev an t-s ta te s s ea rc h
In r eg re ss io n s ea rc h w e s ta rt a t t he g oa l a nd a pp ly t he a ct io ns b ac kw ar d u nt il w e f in d a
s eq ue nc e o fs te ps th at re ac he s t he in it ia ls ta te . It is ca ll ed r el ev an t-s ta te s s ea rc h b ec au se w e
RELEVANT-STATES
o nl y c on si de r a ct io ns t ha t a re re le va nt t ot he go al (o rc ur re nt s ta te). As in be li ef-s ta te s ea rc h
"(Se ct io n 4.4),t he re is as et of re le va nt st at es to co ns id er at ea ch st ep ,n ot ju st as in gl e s ta te ."
"We st ar tw it ht he go al ,w hi ch is ac on ju nc ti on of li te ra ls fo rm in ga de sc ri pt io no fa se to f"
"s ta te s—f or ex am pl e ,t he go al¬Po or∧Fa mo us d es cr ib es th os es ta te si nw hi ch Po or i sf al se ,"
"Fa mo us i s t ru e , a nd a ny o th er f lu en t c an h av e a ny v al ue . If t he re a re n g ro un d f lu en ts i n a"
"d om ai n ,t he nt he re ar e 2 n g ro un ds ta te s(e ac hf lu en tc an be tr ue or fa ls e), b ut 3 n d es cr ip ti on s"
"o fs et so fg oa ls ta te s(e ac hf lu en tc an be po si ti ve , n eg at iv e ,o rn ot me nt io ne d)."
"In g en er al , b ac kw ar d s ea rc h w or ks o nl y w he n w e k no w h ow t o r eg re ss f ro m a s ta te"
"d es cr ip ti on t o t he p re de ce ss or s ta te d es cr ip ti on . Fo re xa mp le , i t i s h ar d t o s ea rc h b ac kw ar ds"
f or as ol ut io nt ot he n-q ue en sp ro bl em be ca us et he re is no ea sy wa yt od es cr ib et he st at es th at
"a re on em ov ea wa yf ro mt he g oa l . Ha pp il y , t he PDDL r ep re se nt at io n w as de si gn ed t om ak e"
"i te as yt or eg re ss ac ti on s—i fa do ma in ca nb ee xp re ss ed in PDDL ,t he nw ec an do re gr es si on"
"s ea rc h o ni t . Gi ve na gr ou nd g oa l d es cr ip ti on g a nd a gr ou nd a ct io n a ,t he re gr es si on f ro m g"
(c id:2)
o ve ra gi ve su sa st at ed es cr ip ti on g d ef in ed by
g(c id:2) = (g−ADD(a))∪Pr ec on d(a).
"Th at i s , t he e ff ec ts t ha t w er e a dd ed b y t he a ct io n n ee d n ot h av e b ee n t ru e b ef or e , a nd a ls o"
"t he p re co nd it io ns m us t h av e h el d b ef or e , o r e ls e t he a ct io n c ou ld n ot h av e b ee n e xe cu te d ."
No te t ha t DEL(a) d oe s n ot a pp ea r i n t he f or mu la ; t ha t’s b ec au se w hi le w e k no w t he f lu en ts
"i n DEL(a) a re n o l on ge r t ru e a ft er t he a ct io n , w e d on’t k no w w he th er o r n ot t he y w er e t ru e"
"b ef or e , s ot he re’s no th in g t ob es ai da bo ut th em ."
Se ct io n 10.2. Al go ri th ms fo r Pl an ni ng as St at e-Sp ac e Se ar ch 375
"To ge tt he fu ll ad va nt ag e o fb ac kw ar ds ea rc h ,w en ee dt od ea lw it hp ar ti al ly un in st an ti-"
"a te da ct io ns an ds ta te s ,n ot ju st gr ou nd on es . Fo re xa mp le ,s up po se th eg oa li st od el iv er as pe-"
(c id:2)
"c if ic pi ec eo fc ar go to SFO:At(C ,SFO). Th at su gg es ts th ea ct io n Un lo ad(C ,p ,SFO):"
2 2
(c id:2)
"Ac ti on(Un lo ad(C ,p ,SFO),"
2
"PRECOND:In(C 2,p(c id:2) )∧At(p(c id:2) ,SFO)∧Ca rg o(C 2)∧Pl an e(p(c id:2) )∧Ai rp or t(SFO)"
"EFFECT:At(C 2,SFO)∧¬In(C 2,p(c id:2) )."
(c id:2)
(No te th at we ha ve s ta nd ar di ze d v ar ia bl e n am es(c ha ng in g p to p i nt hi sc as e) s ot ha tt he re
w il l b e n o c on fu si on b et we en v ar ia bl e n am es i f w e h ap pe n t o u se t he s am e a ct io n s ch em a
t wi ce i n a p la n . Th e s am e a pp ro ac h w as u se d i n Ch ap te r 9 f or f ir st-o rd er l og ic al i nf er en ce .)
"Th is r ep re se nt s u nl oa di ng t he p ac ka ge f ro m a n u ns pe ci fi ed p la ne a t SFO ;a ny p la ne w il l d o ,"
b ut w e n ee d n ot s ay w hi ch o ne n ow . We c an t ak e a dv an ta ge o f t he p ow er o f f ir st-o rd er
r ep re se nt at io ns: a si ng le de sc ri pt io n s um ma ri ze st he po ss ib il it y o fu si ng an yo ft he pl an es by
(c id:2)
i mp li ci tl yq ua nt if yi ng o ve rp . Th er eg re ss ed st at ed es cr ip ti on i s
"g(c id:2) = In(C ,p(c id:2) )∧At(p(c id:2) ,SFO)∧Ca rg o(C )∧Pl an e(p(c id:2) )∧Ai rp or t(SFO)."
2 2
Th ef in al is su ei sd ec id in gw hi ch ac ti on sa re ca nd id at es t or eg re ss ov er . In th ef or wa rd di re c-
t io n w ec ho se a ct io ns t ha t w er e a pp li ca bl e—t ho se a ct io ns t ha t c ou ld b e t he n ex t s te p i n t he
p la n . In ba ck wa rd s ea rc h w ew an ta ct io ns t ha t a re r el ev an t—t ho se a ct io ns t ha tc ou ld b et he
RELEVANCE
l as ts te pi na pl an le ad in gu pt ot he cu rr en t g oa ls ta te .
Fo ra n a ct io n t o b e r el ev an t t o a g oa l i t o bv io us ly m us t c on tr ib ut e t o t he g oa l: a t l ea st
o ne of th ea ct io n’s ef fe ct s(e it he rp os it iv eo rn eg at iv e)m us tu ni fy wi th an el em en to ft he go al .
Wh at i s l es s o bv io us i s t ha t t he a ct io n m us t n ot h av e a ny e ff ec t (p os it iv e o r n eg at iv e) t ha t
"n eg at es a n e le me nt o f t he g oa l . No w , i f t he g oa l i s A∧B ∧C a nd a n a ct io n h as t he e ff ec t"
A∧B∧¬Ct he nt he re is ac ol lo qu ia ls en se in wh ic ht ha ta ct io ni sv er yr el ev an tt ot he go al—i t
"g et s u st wo-t hi rd s o ft he w ay th er e . Bu ti ti sn ot r el ev an t i nt he t ec hn ic al s en se d ef in ed h er e ,"
b ec au se t hi s a ct io n c ou ld n ot b e t he f in al s te p o f a s ol ut io n—w e w ou ld a lw ay s n ee d a t l ea st
o ne mo re st ep to ac hi ev e C .
"Gi ve n t he g oa l At(C ,SFO), s ev er al i ns ta nt ia ti on s o f Un lo ad a re r el ev an t: w e c ou ld"
2
"c ho se a ny s pe ci fi c p la ne t o u nl oa d f ro m , o r w e c ou ld l ea ve t he p la ne u ns pe ci fi ed b y u si ng"
(c id:2)
"t he ac ti on Un lo ad(C ,p ,SFO). We ca n r ed uc e t he br an ch in g f ac to rw it ho ut r ul in g o ut an y"
2
s ol ut io ns b ya lw ay s u si ng t he ac ti on f or me d b ys ub st it ut in g t he m os tg en er al u ni fi er in to t he
(s ta nd ar di ze d) a ct io ns ch em a .
"As a no th er e xa mp le , c on si de r t he g oa l Ow n(0136042597), g iv en a n i ni ti al s ta te w it h"
"10 b il li on ISBNs ,a nd th es in gl ea ct io ns ch em a"
"A = Ac ti on(Bu y(i),PRECOND:ISBN(i),EFFECT:Ow n(i))."
"As w e m en ti on ed b ef or e , f or wa rd s ea rc h w it ho ut a h eu ri st ic w ou ld h av e t o s ta rt e nu me r-"
"a ti ng t he 10 b il li on g ro un d Bu y a ct io ns . Bu t w it h b ac kw ar d s ea rc h , w e w ou ld u ni fy t he"
(c id:2)
"g oa l Ow n(0136042597) w it h t he (s ta nd ar di ze d) e ff ec t Ow n(i), y ie ld in g t he s ub st it ut io n"
"θ = {i(c id:2) /0136042597}. Th en w e w ou ld r eg re ss o ve r t he a ct io n Su bs t(θ,A(c id:2) ) t o y ie ld t he"
"p re de ce ss or s ta te d es cr ip ti on ISBN(0136042597). Th is i s p ar t o f , a nd t hu s e nt ai le d b y , t he"
"i ni ti al st at e ,s ow ea re do ne ."
376 Ch ap te r 10. Cl as si ca l Pl an ni ng
We c an m ak e t hi s m or e f or ma l . As su me a g oa l d es cr ip ti on g w hi ch c on ta in s a g oa l
(c id:2) (c id:2)
l it er al g a nd an ac ti on sc he ma At ha ti ss ta nd ar di ze d t op ro du ce A . If A h as an ef fe ct li te ra l
i
(c id:2) (c id:2) (c id:2) (c id:2)
e
j
"w he re Un if y(g i ,e j)=θ a nd w he re we de fi ne a = SUBST(θ,A)a nd if t he re i sn oe ff ec t"
(c id:2) (c id:2)
"i na t ha ti st he ne ga ti on of al it er al in g ,t he na i sa re le va nt ac ti on to wa rd s g ."
"Ba ck wa rd se ar ch k ee ps th eb ra nc hi ng f ac to rl ow er th an f or wa rd se ar ch , f or mo st pr ob-"
"l em d om ai ns . Ho we ve r , t he f ac t t ha t b ac kw ar d s ea rc h u se s s ta te s et s r at he r t ha n i nd iv id ua l"
s ta te s m ak es i t h ar de r t o c om e u p w it h g oo d h eu ri st ic s . Th at i s t he m ai n r ea so n w hy t he
m aj or it yo fc ur re nt sy st em sf av or fo rw ar ds ea rc h .
10.2.3 He ur is ti cs fo rp la nn in g
Ne it he r f or wa rd n or b ac kw ar d s ea rc h i s e ff ic ie nt w it ho ut a g oo d h eu ri st ic f un ct io n . Re ca ll
f ro m Ch ap te r 3 t ha t a h eu ri st ic f un ct io n h(s) e st im at es t he d is ta nc e f ro m a s ta te s t o t he
g oa l a nd t ha t i f w e c an d er iv e a n a dm is si bl e h eu ri st ic f or t hi s d is ta nc e—o ne t ha t d oe s n ot
∗
o ve re st im at e—t he n w e c an u se A s ea rc h t o f in d o pt im al s ol ut io ns . An a dm is si bl e h eu ri st ic
c an b e d er iv ed b y d ef in in g a r el ax ed p ro bl em t ha t i s e as ie r t o s ol ve . Th e e xa ct c os t o f a
s ol ut io n t ot hi se as ie rp ro bl em t he nb ec om es th eh eu ri st ic fo rt he or ig in al p ro bl em .
"By d ef in it io n , t he re i s n o w ay t o a na ly ze a n a to mi c s ta te , a nd t hu s i t i t r eq ui re s s om e"
i ng en ui ty b y a h um an a na ly st t o d ef in e g oo d d om ai n-s pe ci fi c h eu ri st ic s f or s ea rc h p ro bl em s
w it h a to mi c s ta te s . Pl an ni ng u se s a f ac to re d r ep re se nt at io n f or s ta te s a nd a ct io n s ch em as .
Th at m ak es i t p os si bl e t o d ef in e g oo d d om ai n-i nd ep en de nt h eu ri st ic s a nd f or p ro gr am s t o
a ut om at ic al ly a pp ly ag oo dd om ai n-i nd ep en de nt h eu ri st ic f or ag iv en pr ob le m .
Th in k o f a s ea rc h p ro bl em a s a g ra ph w he re t he n od es a re s ta te s a nd t he e dg es a re
a ct io ns . Th e p ro bl em i s t o f in d a p at h c on ne ct in g t he i ni ti al s ta te t o a g oa l s ta te . Th er e a re
"t wo w ay s w e c an r el ax t hi s p ro bl em t o m ak e i t e as ie r: b y a dd in g m or e e dg es t o t he g ra ph ,"
"m ak in g i t s tr ic tl y e as ie r t o f in d a p at h , o r b y g ro up in g m ul ti pl e n od es t og et he r , f or mi ng a n"
"a bs tr ac ti on o ft he st at es pa ce th at ha sf ew er st at es , a nd th us is ea si er to se ar ch ."
"We l oo k f ir st a t h eu ri st ic s t ha t a dd e dg es t o t he g ra ph . Fo r e xa mp le , t he i gn or e p re-"
IGNORE
c on di ti on s h eu ri st ic dr op s a ll pr ec on di ti on s f ro m a ct io ns . Ev er ya ct io n b ec om es a pp li ca bl e
PRECONDITIONS
HEURISTIC
"i n e ve ry s ta te , a nd a ny s in gl e g oa l f lu en t c an b e a ch ie ve d i n o ne s te p (i f t he re i s a n a pp li ca-"
"b le a ct io n—i f n ot , t he p ro bl em i s i mp os si bl e). Th is a lm os t i mp li es t ha t t he n um be r o f s te ps"
r eq ui re d t o s ol ve t he r el ax ed p ro bl em i s t he n um be r o f u ns at is fi ed g oa ls—a lm os t b ut n ot
"q ui te , b ec au se (1) s om e a ct io n m ay a ch ie ve m ul ti pl e g oa ls a nd (2) s om e a ct io ns m ay u nd o"
t he ef fe ct s o fo th er s . Fo rm an yp ro bl em s a na cc ur at e h eu ri st ic i so bt ai ne d b yc on si de ri ng (1)
"a nd i gn or in g (2). Fi rs t , w e r el ax t he a ct io ns b y r em ov in g a ll p re co nd it io ns a nd a ll e ff ec ts"
"e xc ep t t ho se t ha t a re l it er al s i n t he g oa l . Th en , w e c ou nt t he m in im um n um be r o f a ct io ns"
r eq ui re d s uc h t ha t t he u ni on o f t ho se a ct io ns’ e ff ec ts s at is fi es t he g oa l . Th is i s a n i ns ta nc e
SET-COVER o f t he s et-c ov er p ro bl em . Th er e i s o ne m in or i rr it at io n: t he s et-c ov er p ro bl em i s NP-h ar d .
PROBLEM
Fo rt un at el y a s im pl e g re ed y a lg or it hm i s g ua ra nt ee d t o r et ur n a s et c ov er in g w ho se s iz e i s
"w it hi n a f ac to r o f l og n o f t he t ru e m in im um c ov er in g , w he re n i s t he n um be r o f l it er al s i n"
"t he go al . Un fo rt un at el y , t he gr ee dy al go ri th m l os es th eg ua ra nt ee o fa dm is si bi li ty ."
It is al so po ss ib le to ig no re on ly se le ct ed pr ec on di ti on so fa ct io ns . Co ns id er th es li di ng-
b lo ck p uz zl e (8-p uz zl e o r 15-p uz zl e) f ro m Se ct io n 3.2. We c ou ld e nc od e t hi s a s a p la nn in g
Se ct io n 10.2. Al go ri th ms fo r Pl an ni ng as St at e-Sp ac e Se ar ch 377
p ro bl em i nv ol vi ng t il es wi th as in gl es ch em a Sl id e:
"Ac ti on(Sl id e(t ,s ,s ),"
1 2
"PRECOND:On(t ,s 1)∧Ti le(t)∧Bl an k(s 2)∧Ad ja ce nt(s 1,s 2)"
"EFFECT:On(t ,s 2)∧Bl an k(s 1)∧¬On(t ,s 1)∧¬Bl an k(s 2))"
"As w e s aw i n Se ct io n 3.6, i f w e r em ov e t he p re co nd it io ns Bl an k(s ) ∧ Ad ja ce nt(s ,s )"
2 1 2
t he n a ny t il e c an m ov e i n o ne a ct io n t o a ny s pa ce a nd w e g et t he n um be r-o f-m is pl ac ed-t il es
h eu ri st ic . If we re mo ve Bl an k(s )t he nw eg et th e Ma nh at ta n-d is ta nc e h eu ri st ic . It is ea sy to
2
s ee h ow t he se h eu ri st ic s c ou ld b e d er iv ed a ut om at ic al ly f ro m t he a ct io n s ch em a d es cr ip ti on .
Th ee as eo fm an ip ul at in gt he sc he ma si st he gr ea ta dv an ta ge of th ef ac to re dr ep re se nt at io n o f
"p la nn in g p ro bl em s , a sc om pa re dw it ht he at om ic re pr es en ta ti on o fs ea rc hp ro bl em s ."
IGNOREDELETE An ot he r p os si bi li ty i s t he i gn or e d el et e l is ts h eu ri st ic . As su me f or a m om en t t ha t a ll
LISTS
g oa ls an dp re co nd it io ns c on ta in o nl yp os it iv el it er al s 3 We wa nt to cr ea te ar el ax ed ve rs io no f
"t he or ig in al pr ob le mt ha tw il lb ee as ie rt os ol ve ,a nd wh er et he le ng th of th es ol ut io nw il ls er ve"
"a sa go od he ur is ti c . We ca nd ot ha tb yr em ov in gt he de le te li st sf ro ma ll ac ti on s(i .e .,r em ov in g"
a ll ne ga ti ve li te ra ls fr om ef fe ct s). Th at ma ke si tp os si bl et om ak em on ot on ic pr og re ss to wa rd s
t he go al—n oa ct io nw il le ve ru nd op ro gr es sm ad eb ya no th er ac ti on . It tu rn so ut it is st il l NP-
"h ar dt of in dt he op ti ma ls ol ut io n t ot hi sr el ax ed p ro bl em , b ut a na pp ro xi ma te s ol ut io n c an be"
f ou nd i n p ol yn om ia l t im e b y h il l-c li mb in g . Fi gu re 10.6 d ia gr am s p ar t o f t he s ta te s pa ce f or
t wo p la nn in g p ro bl em s u si ng t he i gn or e-d el et e-l is ts h eu ri st ic . Th e d ot s r ep re se nt s ta te s a nd
"t he e dg es a ct io ns , a nd t he he ig ht o fe ac h d ot a bo ve th e b ot to m p la ne r ep re se nt s t he h eu ri st ic"
"v al ue . St at es o nt he b ot to m p la ne a re s ol ut io ns . In bo th t he se p ro bl em s , t he re i sa wi de pa th"
"t ot he go al . Th er ea re no de ad en ds ,s on on ee df or ba ck tr ac ki ng ; a si mp le hi ll cl im bi ng se ar ch"
w il le as il yf in da so lu ti on t ot he se pr ob le ms(a lt ho ug h i tm ay no tb ea no pt im al so lu ti on).
Th e r el ax ed p ro bl em s l ea ve u s w it h a s im pl if ie d—b ut s ti ll e xp en si ve—p la nn in g p ro b-
l em ju st to ca lc ul at e t he va lu eo ft he he ur is ti c f un ct io n . Ma ny pl an ni ng p ro bl em s h av e 10100
"s ta te s o rm or e , a nd r el ax in g t he a ct io ns d oe s n ot hi ng t o r ed uc e t he n um be r o f s ta te s . Th er e-"
"f or e , w e n ow l oo k a t r el ax at io ns t ha t d ec re as e t he n um be r o f s ta te s b y f or mi ng a s ta te a b-"
s tr ac ti on—a m an y-t o-o ne m ap pi ng f ro m s ta te s i n t he g ro un d r ep re se nt at io n o f t he p ro bl em
STATEABSTRACTION
t ot he ab st ra ct r ep re se nt at io n .
"Th e e as ie st f or m o f s ta te a bs tr ac ti on i s t o i gn or e s om e f lu en ts . Fo r e xa mp le , c on si de r"
"a n a ir c ar go p ro bl em w it h 10 a ir po rt s , 50 p la ne s , a nd 200 p ie ce s o f c ar go . Ea ch p la ne c an"
b e a t o ne o f 10 a ir po rt s a nd e ac h p ac ka ge c an b e e it he r i n o ne o f t he p la ne s o r u nl oa de d a t
o ne o f t he ai rp or ts . So th er e a re 5010 ×20050+10 ≈ 10155 s ta te s . No w c on si de r a p ar ti cu la r
"p ro bl em i nt ha t d om ai ni nw hi ch it ha pp en s t ha ta ll th ep ac ka ge s a re at ju st 5 o ft he ai rp or ts ,"
a nd al lp ac ka ge sa ta gi ve na ir po rt ha ve th es am ed es ti na ti on . Th en au se fu la bs tr ac ti on of th e
p ro bl em is to dr op al lt he At fl ue nt se xc ep tf or th eo ne si nv ol vi ng o ne pl an ea nd on ep ac ka ge
a t e ac h o f t he 5 a ir po rt s . No w t he re a re o nl y 510 ×55+10 ≈ 1017 s ta te s . A s ol ut io n i n t hi s
a bs tr ac t s ta te s pa ce w il l b e s ho rt er t ha n a s ol ut io n i n t he o ri gi na l s pa ce (a nd t hu s w il l b e a n
"a dm is si bl e h eu ri st ic), a nd t he a bs tr ac t s ol ut io n i s e as y t o e xt en d t o a s ol ut io n t o t he o ri gi na l"
p ro bl em (b ya dd in ga dd it io na l Lo ad a nd Un lo ad a ct io ns).
"3 Ma ny pr ob le ms ar ew ri tt en wi th th is co nv en ti on . Fo rp ro bl em st ha ta re n’t ,r ep la ce ev er yn eg at iv el it er al¬P"
"i na go al or pr ec on di ti on wi th an ew po si ti ve li te ra l ,P(c id:3)."
378 Ch ap te r 10. Cl as si ca l Pl an ni ng
Fi gu re 10.6 Tw os ta te sp ac es fr om pl an ni ng pr ob le ms wi th th ei gn or e-d el et e-l is ts he ur is-
t ic . Th eh ei gh ta bo ve th eb ot to mp la ne is th eh eu ri st ic sc or eo fa st at e ;s ta te so nt he bo tt om
"p la ne ar eg oa ls . Th er ea re no lo ca lm in im a ,s os ea rc hf or th eg oa li ss tr ai gh tf or wa rd . Fr om"
Ho ff ma nn(2005).
"Ak ey id ea in de fi ni ng he ur is ti cs is de co mp os it io n: d iv id in ga pr ob le mi nt op ar ts ,s ol v-"
DECOMPOSITION
"SUBGOAL i ng e ac h p ar t i nd ep en de nt ly , a nd t he n c om bi ni ng t he p ar ts . Th e s ub go al i nd ep en de nc e a s-"
INDEPENDENCE
s um pt io n i s t ha t t he c os t o f s ol vi ng a c on ju nc ti on o f s ub go al s i s a pp ro xi ma te d b y t he s um
o f t he c os ts o f s ol vi ng e ac h s ub go al i nd ep en de nt ly . Th e s ub go al i nd ep en de nc e a ss um pt io n
c an be op ti mi st ic or pe ss im is ti c . It is op ti mi st ic wh en th er ea re ne ga ti ve in te ra ct io ns b et we en
"t he s ub pl an s f or e ac h s ub go al—f or e xa mp le , w he n a n a ct io n i n o ne s ub pl an d el et es a g oa l"
"a ch ie ve d b y a no th er s ub pl an . It i s p es si mi st ic , a nd t he re fo re i na dm is si bl e , w he n s ub pl an s"
"c on ta in re du nd an ta ct io ns—f or in st an ce ,t wo ac ti on st ha tc ou ld be re pl ac ed by as in gl ea ct io n"
i nt he me rg ed pl an .
"Su pp os et he go al is as et of fl ue nt s G ,w hi ch we di vi de in to di sj oi nt su bs et s G ,...,G ."
1 n
"We th en f in dp la ns P ,...,P t ha t s ol ve t he re sp ec ti ve s ub go al s . Wh at is an es ti ma te o ft he"
1 n
"c os to ft he pl an fo ra ch ie vi ng al lo f G ? We ca nt hi nk of ea ch Co st(P )a sa he ur is ti ce st im at e ,"
i
"a nd we kn ow th at if we co mb in ee st im at es by ta ki ng th ei rm ax im um va lu e ,w ea lw ay sg et an"
"a dm is si bl e h eu ri st ic . So m ax i COST(P i) i s a dm is si bl e , a nd s om et im es i t i s e xa ct ly c or re ct:"
"i t c ou ld b e t ha t P s er en di pi to us ly a ch ie ve s a ll t he G . Bu t i n m os t c as es , i n p ra ct ic e t he"
1 i
e st im at ei st oo lo w . Co ul dw es um th ec os ts in st ea d ? Fo rm an yp ro bl em st ha ti sa re as on ab le
"e st im at e ,b ut it is no ta dm is si bl e . Th eb es tc as ei sw he nw ec an de te rm in et ha t G a nd G a re"
i j
"i nd ep en de nt . If th ee ff ec ts of P l ea ve al lt he pr ec on di ti on s a nd go al so f P u nc ha ng ed , t he n"
i j
"t he es ti ma te COST(P i)+COST(P j)i sa dm is si bl e , a nd mo re ac cu ra te th an th em ax es ti ma te ."
We sh ow in Se ct io n 10.3.1 t ha tp la nn in g g ra ph sc an he lp pr ov id eb et te rh eu ri st ic e st im at es .
It is cl ea rt ha t t he re is gr ea t p ot en ti al f or cu tt in g d ow nt he s ea rc h s pa ce b yf or mi ng a b-
s tr ac ti on s . Th e t ri ck i s c ho os in g t he r ig ht a bs tr ac ti on s a nd u si ng t he m i n a w ay t ha t m ak es
"t he to ta lc os t—d ef in in ga na bs tr ac ti on , d oi ng an ab st ra ct se ar ch ,a nd ma pp in gt he ab st ra ct io n"
b ac k t o t he o ri gi na l p ro bl em—l es s t ha n t he c os t o f s ol vi ng t he o ri gi na l p ro bl em . Th e t ec h-
Se ct io n 10.3. Pl an ni ng Gr ap hs 379
"n iq ue s o f p at te rn d at ab as es f ro m Se ct io n 3.6.3 c an b e u se fu l , b ec au se t he c os t o f c re at in g"
t he pa tt er nd at ab as e c an be am or ti ze do ve rm ul ti pl ep ro bl em i ns ta nc es .
"An ex am pl eo fa sy st em th at ma ke su se of ef fe ct iv eh eu ri st ic si s FF ,o r FASTFORWARD"
"(Ho ff ma nn , 2005), a f or wa rd s ta te-s pa ce s ea rc he r t ha t u se s t he i gn or e-d el et e-l is ts h eu ri st ic ,"
e st im at in g t he h eu ri st ic w it h t he h el p o f a p la nn in g g ra ph (s ee Se ct io n 10.3). FF t he n u se s
h il l-c li mb in g s ea rc h (m od if ie dt ok ee pt ra ck o ft he pl an)w it ht he he ur is ti c t of in da so lu ti on .
Wh en it hi ts ap la te au or lo ca lm ax im um—w he nn oa ct io nl ea ds to as ta te wi th be tt er he ur is ti c
"s co re—t he n FF u se s i te ra ti ve d ee pe ni ng s ea rc h u nt il i t f in ds a s ta te t ha t i s b et te r , o r i t g iv es"
u pa nd re st ar ts hi ll-c li mb in g .
10.3 PLANNING GRAPHS
Al l o f t he h eu ri st ic s w e h av e s ug ge st ed c an s uf fe r f ro m i na cc ur ac ie s . Th is s ec ti on s ho ws
h ow a s pe ci al d at a s tr uc tu re c al le d a p la nn in g g ra ph c an b e u se d t o g iv e b et te r h eu ri st ic
PLANNINGGRAPH
e st im at es . Th es e h eu ri st ic s c an b e a pp li ed t o a ny o f t he s ea rc h t ec hn iq ue s w e h av e s ee n s o
"f ar . Al te rn at iv el y , w ec an se ar ch f or as ol ut io n o ve rt he sp ac e f or me db yt he pl an ni ng g ra ph ,"
u si ng an al go ri th m c al le d GRAPHPLAN .
Ap la nn in gp ro bl em as ks if we ca nr ea ch ag oa ls ta te fr om th ei ni ti al st at e . Su pp os ew e
"a re gi ve na tr ee of al lp os si bl e a ct io ns f ro mt he in it ia l s ta te to su cc es so rs ta te s , a nd th ei rs uc-"
"c es so rs , a nd so on . If we in de xe dt hi st re ea pp ro pr ia te ly , w e c ou ld an sw er th ep la nn in g q ue s-"
"t io n “c an w er ea ch s ta te G f ro m s ta te S ” i mm ed ia te ly , j us t b y l oo ki ng i t u p . Of co ur se , t he"
0
"t re e i s o f e xp on en ti al s iz e , s o t hi s a pp ro ac h i s i mp ra ct ic al . A p la nn in g g ra ph i s p ol yn om ia l-"
s iz e a pp ro xi ma ti on t o t hi s t re e t ha t c an b e c on st ru ct ed q ui ck ly . Th e p la nn in g g ra ph c an’t
"a ns we r d ef in it iv el y w he th er G i s r ea ch ab le f ro m S , b ut i t c an e st im at e h ow m an y s te ps i t"
0
"t ak es to re ac h G . Th ee st im at ei sa lw ay sc or re ct wh en it re po rt st he go al is no tr ea ch ab le , a nd"
"i tn ev er ov er es ti ma te s t he nu mb er of st ep s ,s oi ti sa na dm is si bl e h eu ri st ic ."
Ap la nn in gg ra ph is ad ir ec te dg ra ph or ga ni ze di nt o l ev el s: f ir st al ev el S f or th ei ni ti al
LEVEL 0
"s ta te ,c on si st in g o fn od es re pr es en ti ng e ac hf lu en tt ha th ol ds in S ;t he na le ve l A c on si st in g"
0 0
o f n od es f or e ac h g ro un d a ct io n t ha t m ig ht b e a pp li ca bl e i n S ; t he n a lt er na ti ng l ev el s S
0 i
f ol lo we db y A ;u nt il we re ac ha te rm in at io n c on di ti on (t ob ed is cu ss ed l at er).
i
"Ro ug hl y s pe ak in g , S c on ta in s a ll t he l it er al s t ha t c ou ld h ol d a t t im e i , d ep en di ng o n"
i
"t he ac ti on s e xe cu te d a tp re ce di ng t im es te ps . If it is po ss ib le t ha te it he r P o r¬P c ou ld h ol d ,"
"t he n b ot h w il l b e r ep re se nt ed i n S . Al so r ou gh ly s pe ak in g , A c on ta in s a ll t he a ct io ns t ha t"
i i
c ou ld h av e t he ir p re co nd it io ns s at is fi ed a t t im e i . We s ay “r ou gh ly s pe ak in g” b ec au se t he
p la nn in g g ra ph r ec or ds o nl y a r es tr ic te d s ub se t o f t he p os si bl e n eg at iv e i nt er ac ti on s a mo ng
"a ct io ns ; t he re fo re , a li te ra l m ig ht sh ow u pa tl ev el S w he na ct ua ll y i tc ou ld n ot be tr ue un ti l"
j
"a l at er l ev el , i f a t a ll . (A l it er al w il l n ev er s ho w u p t oo l at e .) De sp it e t he p os si bl e e rr or , t he"
l ev el j a t w hi ch a l it er al f ir st a pp ea rs i s a g oo d e st im at e o f h ow d if fi cu lt i t i s t o a ch ie ve t he
l it er al fr om th ei ni ti al st at e .
Pl an ni ng g ra ph s w or k o nl y f or p ro po si ti on al p la nn in g p ro bl em s—o ne s w it h n o v ar i-
"a bl es . As w e m en ti on ed o n p ag e 368, i t i s s tr ai gh tf or wa rd t o p ro po si ti on al iz e a s et o f a c-"
380 Ch ap te r 10. Cl as si ca l Pl an ni ng
In it(Ha ve(Ca ke))
Go al(Ha ve(Ca ke) ∧ Ea te n(Ca ke))
Ac ti on(Ea t(Ca ke)
PRECOND:Ha ve(Ca ke)
EFFECT:¬Ha ve(Ca ke) ∧ Ea te n(Ca ke))
Ac ti on(Ba ke(Ca ke)
PRECOND:¬Ha ve(Ca ke)
EFFECT:Ha ve(Ca ke))
Fi gu re 10.7 Th e“h av ec ak ea nd ea tc ak et oo”p ro bl em .
S A S A S
0 0 1 1 2
Ba ke(Ca ke)
Ha ve(Ca ke) Ha ve(Ca ke) Ha ve(Ca ke)
¬Ha ve(Ca ke) ¬Ha ve(Ca ke)
Ea t(Ca ke) Ea t(Ca ke)
Ea te n(Ca ke) Ea te n(Ca ke)
¬Ea te n(Ca ke) ¬Ea te n(Ca ke) ¬Ea te n(Ca ke)
Fi gu re 10.8 Th ep la nn in gg ra ph fo rt he“h av ec ak ea nd ea tc ak et oo”p ro bl em up to le ve l
"S . Re ct an gl es i nd ic at e a ct io ns (s ma ll s qu ar es i nd ic at e p er si st en ce a ct io ns), a nd s tr ai gh t"
2
l in es in di ca te pr ec on di ti on sa nd ef fe ct s . Mu te xl in ks ar es ho wn as cu rv ed gr ay li ne s . No ta ll
"m ut ex li nk sa re sh ow n ,b ec au se th eg ra ph wo ul db et oo cl ut te re d . In ge ne ra l ,i ft wo li te ra ls"
"a re m ut ex a t Si , t he n t he p er si st en ce a ct io ns f or t ho se l it er al s w il l b e m ut ex a t Ai a nd w e"
n ee dn ot dr aw th at mu te xl in k .
"t io n s ch em as . De sp it e t he r es ul ti ng i nc re as e i nt he s iz e o ft he p ro bl em d es cr ip ti on , p la nn in g"
g ra ph sh av ep ro ve dt ob ee ff ec ti ve to ol sf or so lv in gh ar dp la nn in gp ro bl em s .
"Fi gu re 10.7 s ho ws a s im pl e p la nn in g p ro bl em , a nd Fi gu re 10.8 s ho ws i ts p la nn in g"
g ra ph . Ea ch a ct io n a t l ev el A i s c on ne ct ed t o i ts p re co nd it io ns a t S a nd i ts e ff ec ts a t S .
i i i+1
"So a l it er al a pp ea rs b ec au se a n a ct io n c au se d i t , b ut w e a ls o w an t t o s ay t ha t a l it er al c an"
PERSISTENCE p er si st i fn oa ct io n n eg at es i t . Th is is re pr es en te d b ya p er si st en ce a ct io n (s om et im es c al le d
ACTION
"a no-o p). Fo re ve ry li te ra l C ,w ea dd to th ep ro bl em ap er si st en ce a ct io nw it hp re co nd it io n C"
"a nd e ff ec t C . Le ve l A i n Fi gu re 10.8 s ho ws o ne “r ea l” a ct io n , Ea t(Ca ke), a lo ng w it h t wo"
0
p er si st en ce a ct io ns dr aw na ss ma ll sq ua re bo xe s .
"Le ve l A c on ta in s a ll t he a ct io ns t ha t c ou ld o cc ur i n s ta te S , b ut j us t a s i mp or ta nt i t"
0 0
r ec or ds co nf li ct sb et we en ac ti on st ha tw ou ld pr ev en tt he mf ro mo cc ur ri ng to ge th er . Th eg ra y
"l in es in Fi gu re 10.8 i nd ic at e m ut ua le xc lu si on(o rm ut ex)l in ks . Fo re xa mp le , Ea t(Ca ke)i s"
MUTUALEXCLUSION
m ut ua ll y e xc lu si ve w it h t he p er si st en ce o f e it he r Ha ve(Ca ke) o r ¬Ea te n(Ca ke). We s ha ll
MUTEX
s ee sh or tl yh ow mu te xl in ks ar ec om pu te d .
Le ve l S c on ta in sa ll th el it er al st ha tc ou ld re su lt fr om pi ck in ga ny su bs et of th ea ct io ns
1
"i n A , a s w el l a s m ut ex l in ks (g ra y l in es) i nd ic at in g l it er al s t ha t c ou ld n ot a pp ea r t og et he r ,"
0
"r eg ar dl es s o ft he ch oi ce of ac ti on s . Fo re xa mp le , Ha ve(Ca ke)a nd Ea te n(Ca ke)a re mu te x:"
Se ct io n 10.3. Pl an ni ng Gr ap hs 381
"d ep en di ng o n t he c ho ic e o f a ct io ns i n A , e it he r , b ut n ot b ot h , c ou ld b e t he r es ul t . In o th er"
0
"w or ds , S r ep re se nt s a b el ie f s ta te: a s et o f p os si bl e s ta te s . Th e m em be rs o f t hi s s et a re a ll"
1
s ub se ts of th el it er al ss uc ht ha tt he re is no mu te xl in kb et we en an ym em be rs of th es ub se t .
"We co nt in ue i nt hi sw ay ,a lt er na ti ng b et we en st at el ev el S a nd ac ti on l ev el A u nt il we"
i i
"r ea ch a po in t w he re tw oc on se cu ti ve l ev el s a re id en ti ca l . At t hi sp oi nt , w es ay th at th eg ra ph"
h as le ve le do ff . Th eg ra ph in Fi gu re 10.8 l ev el so ff at S .
LEVELEDOFF 2
Wh at we en du pw it hi sa st ru ct ur ew he re ev er y A l ev el co nt ai ns al lt he ac ti on st ha ta re
i
"a pp li ca bl ei n S ,a lo ng wi th co ns tr ai nt ss ay in gt ha tt wo ac ti on sc an no tb ot hb ee xe cu te da tt he"
i
s am el ev el . Ev er y S l ev el c on ta in s a ll th e l it er al s t ha t c ou ld r es ul t f ro m a ny po ss ib le c ho ic e
i
"o f a ct io ns i n A i−1, a lo ng w it h c on st ra in ts s ay in g w hi ch p ai rs o f l it er al s a re n ot p os si bl e ."
It i s i mp or ta nt t o n ot e t ha t t he p ro ce ss o f c on st ru ct in g t he p la nn in g g ra ph d oe s n ot r eq ui re
"c ho os in ga mo ng ac ti on s ,w hi ch wo ul de nt ai lc om bi na to ri al se ar ch . In st ea d ,i tj us tr ec or ds th e"
i mp os si bi li ty o fc er ta in ch oi ce s u si ng mu te xl in ks .
We no wd ef in em ut ex li nk sf or bo th ac ti on sa nd li te ra ls . Am ut ex re la ti on ho ld sb et we en
t wo ac ti on s a ta gi ve nl ev el if an yo ft he fo ll ow in gt hr ee co nd it io ns h ol ds:
"• In co ns is te nt e ff ec ts: o ne ac ti on ne ga te sa ne ff ec to ft he ot he r . Fo re xa mp le , Ea t(Ca ke)"
a nd t he p er si st en ce o f Ha ve(Ca ke) h av e i nc on si st en t e ff ec ts b ec au se t he y d is ag re e o n
t he ef fe ct Ha ve(Ca ke).
• In te rf er en ce: o ne o f t he e ff ec ts o f o ne a ct io n i s t he n eg at io n o f a p re co nd it io n o f t he
o th er . Fo re xa mp le Ea t(Ca ke)i nt er fe re sw it ht he pe rs is te nc eo f Ha ve(Ca ke)b yn eg at-
i ng it sp re co nd it io n .
• Co mp et in g n ee ds: o ne o f t he p re co nd it io ns o f o ne a ct io n i s m ut ua ll y e xc lu si ve w it h a
"p re co nd it io no ft he ot he r . Fo re xa mp le ,Ba ke(Ca ke)a nd Ea t(Ca ke)a re mu te xb ec au se"
t he yc om pe te on th ev al ue of th e Ha ve(Ca ke)p re co nd it io n .
Am ut ex re la ti on ho ld sb et we en tw ol it er al sa tt he sa me le ve li fo ne is th en eg at io no ft he ot he r
o r i f e ac h p os si bl e p ai r o f a ct io ns t ha t c ou ld a ch ie ve t he t wo l it er al s i s m ut ua ll y e xc lu si ve .
"Th is c on di ti on i s c al le d i nc on si st en t s up po rt . Fo re xa mp le , Ha ve(Ca ke) a nd Ea te n(Ca ke)"
"a re m ut ex i n S b ec au se t he o nl y w ay o f a ch ie vi ng Ha ve(Ca ke), t he p er si st en ce a ct io n , i s"
1
"m ut ex w it h t he o nl y w ay o f a ch ie vi ng Ea te n(Ca ke), n am el y Ea t(Ca ke). In S t he t wo"
2
"l it er al s a re n ot m ut ex , b ec au se t he re a re n ew w ay s o f a ch ie vi ng t he m , s uc h a s Ba ke(Ca ke)"
"a nd th ep er si st en ce o f Ea te n(Ca ke),t ha ta re no tm ut ex ."
A p la nn in g g ra ph i s p ol yn om ia l i n t he s iz e o f t he p la nn in g p ro bl em . Fo r a p la nn in g
"p ro bl em w it h l l it er al s a nd a a ct io ns , e ac h S h as n o m or e t ha n l n od es a nd l 2 m ut ex l in ks ,"
i
"a nd e ac h A h as n om or e t ha n a+l n od es (i nc lu di ng t he no-o ps), (a+l)2 m ut ex l in ks , a nd"
i
"2(a l + l) p re co nd it io n a nd e ff ec t l in ks . Th us , a n e nt ir e g ra ph w it h n l ev el s h as a s iz e o f"
O(n(a+l)2). Th et im et ob ui ld th eg ra ph ha st he sa me co mp le xi ty .
10.3.1 Pl an ni ng g ra ph s f or he ur is ti ce st im at io n
"Ap la nn in g g ra ph ,o nc ec on st ru ct ed , i sa ri ch so ur ce o fi nf or ma ti on a bo ut th ep ro bl em . Fi rs t ,"
"i fa ny go al li te ra lf ai ls to ap pe ar in th ef in al le ve lo ft he gr ap h ,t he nt he pr ob le mi su ns ol va bl e ."
"Se co nd , w e c an e st im at e t he c os t o f a ch ie vi ng a ny g oa l l it er al g f ro m s ta te s a s t he l ev el a t"
i
w hi ch g f ir st a pp ea rs i n t he p la nn in g g ra ph c on st ru ct ed f ro m i ni ti al s ta te s . We ca ll t hi s t he
i
382 Ch ap te r 10. Cl as si ca l Pl an ni ng
"l ev el co st of g . In Fi gu re 10.8,Ha ve(Ca ke)h as le ve lc os t 0 a nd Ea te n(Ca ke)h as le ve lc os t"
LEVELCOST i
1. It i s e as y t o s ho w (Ex er ci se 10.10) t ha t t he se e st im at es a re a dm is si bl e f or t he i nd iv id ua l
"g oa ls . Th e e st im at e m ig ht n ot a lw ay s b e a cc ur at e , h ow ev er , b ec au se p la nn in g g ra ph s a ll ow"
"s ev er al a ct io ns a t e ac h l ev el , w he re as t he h eu ri st ic c ou nt s j us t t he l ev el a nd n ot t he n um be r"
"SERIALPLANNING o f a ct io ns . Fo r t hi s r ea so n , i t i s c om mo n t o u se a s er ia l p la nn in g g ra ph f or c om pu ti ng"
GRAPH
h eu ri st ic s . A s er ia l g ra ph i ns is ts t ha t o nl y o ne a ct io n c an a ct ua ll y o cc ur a t a ny g iv en t im e
s te p ; t hi si sd on eb ya dd in g m ut ex li nk s b et we en e ve ry pa ir of n on pe rs is te nc e a ct io ns . Le ve l
c os ts ex tr ac te df ro ms er ia lg ra ph sa re of te nq ui te re as on ab le e st im at es of ac tu al co st s .
"To es ti ma te t he c os t o f a c on ju nc ti on o f g oa ls , t he re a re t hr ee s im pl e a pp ro ac he s . Th e"
m ax-l ev el he ur is ti c s im pl yt ak es th em ax im um le ve lc os to fa ny of th eg oa ls ;t hi si sa dm is si-
MAX-LEVEL
"b le ,b ut no tn ec es sa ri ly a cc ur at e ."
"Th e l ev el s um h eu ri st ic , f ol lo wi ng t he s ub go al i nd ep en de nc e a ss um pt io n , r et ur ns t he"
LEVELSUM
s um o f t he l ev el c os ts o f t he g oa ls ; t hi s c an b e i na dm is si bl e b ut w or ks w el l i n p ra ct ic e
f or p ro bl em s t ha t a re l ar ge ly d ec om po sa bl e . It i s m uc h m or e a cc ur at e t ha n t he n um be r-
"o f-u ns at is fi ed-g oa ls h eu ri st ic f ro m Se ct io n 10.2. Fo r o ur p ro bl em , t he l ev el-s um h eu ri st ic"
"e st im at e f or t he c on ju nc ti ve g oa l Ha ve(Ca ke)∧Ea te n(Ca ke) w il l b e 0+1 = 1, w he re as"
"t he c or re ct a ns we ri s 2, a ch ie ve d b y t he p la n [Ea t(Ca ke),Ba ke(Ca ke)]. Th at d oe sn’t s ee m"
"s o b ad . A m or e s er io us e rr or i s t ha t i f Ba ke(Ca ke) w er e n ot i n t he s et o f a ct io ns , t he n t he"
"e st im at ew ou ld st il lb e 1,w he ni nf ac tt he co nj un ct iv e g oa lw ou ld be im po ss ib le ."
"Fi na ll y , t he s et-l ev el h eu ri st ic f in ds th e l ev el a t w hi ch a ll t he l it er al s i nt he c on ju nc ti ve"
SET-LEVEL
g oa l a pp ea r i n t he p la nn in g g ra ph w it ho ut a ny p ai r o f t he m b ei ng m ut ua ll y e xc lu si ve . Th is
h eu ri st ic g iv es t he c or re ct v al ue s o f 2 f or o ur o ri gi na l p ro bl em a nd i nf in it y f or t he p ro bl em
"w it ho ut Ba ke(Ca ke). It i s a dm is si bl e , i t d om in at es t he m ax-l ev el h eu ri st ic , a nd i t w or ks"
e xt re me ly we ll on ta sk si nw hi ch th er ei sa go od de al of in te ra ct io n a mo ng su bp la ns . It is no t
"p er fe ct , o fc ou rs e ; f or ex am pl e ,i ti gn or es in te ra ct io ns a mo ng th re eo rm or el it er al s ."
"As at oo lf or ge ne ra ti ng ac cu ra te he ur is ti cs ,w ec an vi ew th ep la nn in gg ra ph as ar el ax ed"
"p ro bl em t ha t i s e ff ic ie nt ly s ol va bl e . To u nd er st an d t he n at ur e o f t he r el ax ed p ro bl em , w e"
n ee d t o u nd er st an d e xa ct ly w ha t i t m ea ns f or a l it er al g t o a pp ea r a t l ev el S i n t he p la nn in g
i
"g ra ph . Id ea ll y , w ew ou ld l ik e i tt o b ea gu ar an te e t ha t t he re e xi st s a pl an w it h i ac ti on l ev el s"
"t ha t a ch ie ve s g , a nd a ls o t ha t i f g d oe s n ot a pp ea r , t he re i s n o s uc h p la n . Un fo rt un at el y ,"
m ak in gt ha tg ua ra nt ee is as di ff ic ul ta ss ol vi ng th eo ri gi na lp la nn in gp ro bl em . So th ep la nn in g
"g ra ph m ak es t he s ec on d h al f o f t he g ua ra nt ee (i f g d oe s n ot a pp ea r , t he re i s n o p la n), b ut"
"i f g d oe s a pp ea r , t he n a ll t he p la nn in g g ra ph p ro mi se s i s t ha t t he re i s a p la n t ha t p os si bl y"
a ch ie ve s g a nd h as n o “o bv io us” f la ws . An o bv io us f la w i s d ef in ed a s a f la w t ha t c an b e
"d et ec te d b y c on si de ri ng t wo a ct io ns o r t wo l it er al s a t a t im e—i n o th er w or ds , b y l oo ki ng a t"
"t he mu te xr el at io ns . Th er ec ou ld b em or es ub tl e f la ws in vo lv in g t hr ee , f ou r , o rm or ea ct io ns ,"
b ut e xp er ie nc e h as s ho wn t ha t i t i s n ot w or th t he c om pu ta ti on al e ff or t t o k ee p t ra ck o f t he se
p os si bl ef la ws . Th is is si mi la rt oa le ss on le ar ne df ro mc on st ra in ts at is fa ct io np ro bl em s—t ha t
"i ti so ft en wo rt hw hi le to co mp ut e 2-c on si st en cy be fo re se ar ch in gf or as ol ut io n ,b ut le ss of te n"
w or th wh il et oc om pu te 3-c on si st en cy o rh ig he r . (Se ep ag e 211.)
On ee xa mp le of an un so lv ab le pr ob le mt ha tc an no tb er ec og ni ze da ss uc hb ya pl an ni ng
"g ra ph is th eb lo ck s-w or ld p ro bl em w he re th eg oa li st og et bl oc k Ao n B ,B o n C ,a nd C o n"
A . Th is is an im po ss ib le go al ;a to we rw it ht he bo tt om on to po ft he to p . Bu ta pl an ni ng gr ap h
Se ct io n 10.3. Pl an ni ng Gr ap hs 383
"c an no t d et ec t t he i mp os si bi li ty , b ec au se a ny t wo of t he t hr ee s ub go al s a re a ch ie va bl e . Th er e"
"a re no mu te xe sb et we en an yp ai ro fl it er al s ,o nl yb et we en th e t hr ee as aw ho le . To de te ct th at"
"t hi sp ro bl em i si mp os si bl e , w ew ou ld ha ve to se ar ch ov er th ep la nn in g g ra ph ."
10.3.2 Th e GRAPHPLAN a lg or it hm
"Th is su bs ec ti on sh ow sh ow to ex tr ac ta pl an di re ct ly fr om th ep la nn in gg ra ph ,r at he rt ha nj us t"
u si ng t he g ra ph t o p ro vi de a he ur is ti c . Th e GRAPHPLAN a lg or it hm (Fi gu re 10.9) r ep ea te dl y
a dd s a le ve l t o a pl an ni ng g ra ph w it h EXPAND-GRAPH . On ce a ll t he g oa ls s ho w u p a s n on-
"m ut ex in th eg ra ph , GRAPHPLAN c al ls EXTRACT-SOLUTION t os ea rc hf or ap la nt ha ts ol ve s"
"t he p ro bl em . If t ha t f ai ls , i t e xp an ds a no th er l ev el a nd t ri es a ga in , t er mi na ti ng w it h f ai lu re"
w he nt he re is no re as on to go on .
f un ct io n GRAPHPLAN(p ro bl em)r et ur ns so lu ti on or fa il ur e
g ra ph←INITIAL-PLANNING-GRAPH(p ro bl em)
g oa ls←CONJUNCTS(p ro bl em .GOAL)
n og oo ds←a ne mp ty ha sh ta bl e
f or tl =0 t o∞d o
i fg oa ls a ll no n-m ut ex in St of gr ap h t he n
"s ol ut io n←EXTRACT-SOLUTION(g ra ph ,g oa ls ,NUMLEVELS(g ra ph),n og oo ds)"
i fs ol ut io n (c id:7)=f ai lu re t he nr et ur ns ol ut io n
i fg ra ph a nd no go od s h av eb ot hl ev el ed of ft he nr et ur nf ai lu re
"g ra ph←EXPAND-GRAPH(g ra ph ,p ro bl em)"
Fi gu re 10.9 Th e GRAPHPLAN a lg or it hm . GRAPHPLAN c al ls EXPAND-GRAPH t oa dd a
"l ev el un ti le it he ra so lu ti on is fo un db y EXTRACT-SOLUTION ,o rn os ol ut io ni sp os si bl e ."
Le tu sn ow tr ac et he op er at io no f GRAPHPLANo nt he sp ar et ir ep ro bl em fr om pa ge 370.
Th e g ra ph i s s ho wn i n Fi gu re 10.10. Th e f ir st l in e o f GRAPHPLAN i ni ti al iz es t he p la nn in g
g ra ph t o a o ne-l ev el (S ) g ra ph r ep re se nt in g t he i ni ti al s ta te . Th e p os it iv e f lu en ts f ro m t he
0
"p ro bl em d es cr ip ti on’s i ni ti al s ta te a re sh ow n , a sa re th er el ev an t n eg at iv e f lu en ts . No ts ho wn"
a re th eu nc ha ng in g p os it iv el it er al s(s uc ha s Ti re(Sp ar e))a nd th ei rr el ev an tn eg at iv el it er al s .
"Th eg oa l At(Sp ar e ,Ax le)i sn ot pr es en t i n S 0,s ow en ee d n ot ca ll EXTRACT-SOLUTION—"
"w ea re ce rt ai n t ha t t he re is no so lu ti on y et . In st ea d , EXPAND-GRAPH a dd s i nt o A"
0
t he th re e
"a ct io ns wh os ep re co nd it io ns ex is ta tl ev el S (i .e .,a ll th ea ct io ns ex ce pt Pu t On(Sp ar e ,Ax le)),"
0
a lo ng wi th pe rs is te nc e a ct io ns fo ra ll th el it er al si n S . Th ee ff ec ts of th ea ct io ns ar ea dd ed at
0
l ev el S 1. EXPAND-GRAPH t he nl oo ks fo rm ut ex re la ti on s a nd ad ds th em to th eg ra ph .
"At(Sp ar e ,Ax le)i ss ti ll no tp re se nt in S 1,s oa ga in we do no tc al l EXTRACT-SOLUTION ."
"We ca ll EXPAND-GRAPH a ga in , a dd in g A"
1
a nd S
1
a nd g iv in g u s t he p la nn in g g ra ph s ho wn
"i n Fi gu re 10.10. No wt ha tw eh av et he fu ll co mp le me nt of ac ti on s , i ti sw or th wh il et ol oo ka t"
s om eo ft he ex am pl es of mu te xr el at io ns a nd th ei rc au se s:
"• In co ns is te nt e ff ec ts: Re mo ve(Sp ar e ,Tr un k) i s m ut ex w it h Le av e Ov er ni gh t b ec au se"
"o ne ha st he ef fe ct At(Sp ar e ,Gr ou nd)a nd th eo th er ha si ts ne ga ti on ."
384 Ch ap te r 10. Cl as si ca l Pl an ni ng
S A S A S
0 0 1 1 2
"At(Sp ar e ,Tr un k) At(Sp ar e ,Tr un k) At(Sp ar e ,Tr un k)"
"Re mo ve(Sp ar e ,Tr un k)"
"Re mo ve(Sp ar e ,Tr un k)"
"¬At(Sp ar e ,Tr un k) ¬At(Sp ar e ,Tr un k)"
"Re mo ve(Fl at ,Ax le) Re mo ve(Fl at ,Ax le)"
"At(Fl at ,Ax le) At(Fl at ,Ax le) At(Fl at ,Ax le)"
"Le av e Ov er ni gh t ¬At(Fl at ,Ax le) ¬At(Fl at ,Ax le)"
Le av e Ov er ni gh t
"¬At(Sp ar e ,Ax le) ¬At(Sp ar e ,Ax le) ¬At(Sp ar e ,Ax le)"
"Pu t On(Sp ar e ,Ax le) At(Sp ar e ,Ax le)"
"¬At(Fl at ,Gr ou nd) ¬At(Fl at ,Gr ou nd) ¬At(Fl at ,Gr ou nd)"
"At(Fl at ,Gr ou nd) At(Fl at ,Gr ou nd)"
"¬At(Sp ar e ,Gr ou nd) ¬At(Sp ar e ,Gr ou nd) ¬At(Sp ar e ,Gr ou nd)"
"At(Sp ar e ,Gr ou nd) At(Sp ar e ,Gr ou nd)"
Fi gu re 10.10 Th e p la nn in gg ra ph fo rt he s pa re t ir e p ro bl em af te re xp an si on to l ev el S .
2
"Mu te xl in ks ar es ho wn as gr ay li ne s . No ta ll li nk sa re sh ow n ,b ec au se th eg ra ph wo ul db et oo"
c lu tt er ed if we sh ow ed th em al l . Th es ol ut io ni si nd ic at ed by bo ld li ne sa nd ou tl in es .
"• In te rf er en ce: Re mo ve(Fl at ,Ax le)i sm ut ex wi th Le av e Ov er ni gh t b ec au se on eh as th e"
"p re co nd it io n At(Fl at ,Ax le)a nd th eo th er ha si ts ne ga ti on as an ef fe ct ."
"• Co mp et in g n ee ds: Pu t On(Sp ar e ,Ax le) i s m ut ex w it h Re mo ve(Fl at ,Ax le) b ec au se"
"o ne ha s At(Fl at ,Ax le)a sa pr ec on di ti on a nd th eo th er ha si ts ne ga ti on ."
"• In co ns is te nt su pp or t: At(Sp ar e ,Ax le)i sm ut ex wi th At(Fl at ,Ax le)i n S b ec au se th e"
2
"o nl y w ay o f a ch ie vi ng At(Sp ar e ,Ax le) i s b y Pu t On(Sp ar e ,Ax le), a nd t ha t i s m ut ex"
"w it ht he pe rs is te nc e a ct io nt ha ti st he on ly wa yo fa ch ie vi ng At(Fl at ,Ax le). Th us ,t he"
m ut ex re la ti on s d et ec t t he im me di at e c on fl ic t t ha t a ri se s f ro m t ry in g t op ut t wo ob je ct s
i nt he sa me pl ac ea tt he sa me ti me .
"Th is t im e , w he n w eg o b ac k t o t he s ta rt o f t he l oo p , a ll t he l it er al s f ro m t he g oa l a re p re se nt"
"i n S , a nd n on e o f t he m i s m ut ex w it h a ny o th er . Th at m ea ns t ha t a s ol ut io n m ig ht e xi st ,"
2
a nd EXTRACT-SOLUTION w il l t ry t o f in d i t . We c an f or mu la te EXTRACT-SOLUTION a s a
Bo ol ea n c on st ra in t s at is fa ct io n p ro bl em (CSP) w he re t he v ar ia bl es a re t he a ct io ns a t e ac h
"l ev el ,t he va lu es fo re ac hv ar ia bl ea re in or ou to ft he pl an ,a nd th ec on st ra in ts ar et he mu te xe s"
a nd th en ee dt os at is fy ea ch go al an dp re co nd it io n .
"Al te rn at iv el y ,w ec an de fi ne EXTRACT-SOLUTIONa sa ba ck wa rd se ar ch pr ob le m ,w he re"
e ac h s ta te in th es ea rc h c on ta in s a po in te rt oa le ve li nt he pl an ni ng g ra ph a nd a se to fu ns at-
i sf ie dg oa ls . We de fi ne th is se ar ch pr ob le m a sf ol lo ws:
"• Th e i ni ti al s ta te i s t he l as t l ev el o f t he p la nn in g g ra ph , S , a lo ng w it h t he s et o f g oa ls"
n
f ro mt he pl an ni ng p ro bl em .
• Th e a ct io ns a va il ab le i n a s ta te a t l ev el S a re t o s el ec t a ny c on fl ic t-f re e s ub se t o f t he
i
a ct io ns i n A i−1 w ho se e ff ec ts c ov er th e g oa ls i n t he st at e . Th er es ul ti ng s ta te h as l ev el
S i−1 a nd h as a s i ts s et o f g oa ls t he p re co nd it io ns f or t he s el ec te d s et o f a ct io ns . By
"“c on fl ic tf re e ,”w em ea na se to fa ct io ns su ch th at no tw oo ft he ma re mu te xa nd no tw o"
o ft he ir pr ec on di ti on s a re mu te x .
Se ct io n 10.3. Pl an ni ng Gr ap hs 385
• Th eg oa li st or ea ch as ta te at le ve l S s uc ht ha ta ll th eg oa ls ar es at is fi ed .
0
• Th ec os to fe ac ha ct io ni s 1.
"Fo rt hi sp ar ti cu la rp ro bl em ,w es ta rt at S w it ht he go al At(Sp ar e ,Ax le). Th eo nl yc ho ic ew e"
2
"h av ef or ac hi ev in gt he go al se ti s Pu t On(Sp ar e ,Ax le). Th at br in gs us to as ea rc hs ta te at S"
1
"w it h g oa ls At(Sp ar e ,Gr ou nd) a nd ¬At(Fl at ,Ax le). Th e f or me r c an b e a ch ie ve d o nl y b y"
"Re mo ve(Sp ar e ,Tr un k), a nd t he l at te r b y e it he r Re mo ve(Fl at ,Ax le) o r Le av e Ov er ni gh t ."
"Bu t Le av e Ov er ni gh t i sm ut ex wi th Re mo ve(Sp ar e ,Tr un k),s ot he on ly so lu ti on is to ch oo se"
"Re mo ve(Sp ar e ,Tr un k)a nd Re mo ve(Fl at ,Ax le). Th at br in gs us to as ea rc hs ta te at S w it h"
0
"t he g oa ls At(Sp ar e ,Tr un k) a nd At(Fl at ,Ax le). Bo th o f t he se a re p re se nt i n t he s ta te , s o"
"w e h av e a s ol ut io n: t he a ct io ns Re mo ve(Sp ar e , Tr un k) a nd Re mo ve(Fl at , Ax le) i n l ev el"
"A ,f ol lo we db y Pu t On(Sp ar e ,Ax le)i n A ."
0 1
In t he c as e w he re EXTRACT-SOLUTION f ai ls t o f in d a s ol ut io n f or a s et o f g oa ls a t
"a g iv en l ev el , w e r ec or d t he (l ev el ,g oa ls) p ai r a s a n o-g oo d , j us t a s w e d id i n c on st ra in t"
l ea rn in gf or CSPs(p ag e 220). Wh en ev er EXTRACT-SOLUTION i sc al le da ga in wi th th es am e
"l ev el an dg oa ls , w ec an fi nd th er ec or de d n o-g oo d a nd im me di at el y r et ur nf ai lu re r at he rt ha n"
s ea rc hi ng a ga in . We se es ho rt ly th at no-g oo ds a re al so us ed in th et er mi na ti on t es t .
We kn ow t ha t p la nn in g i s PSPACE-c om pl et e a nd t ha t c on st ru ct in g t he p la nn in g g ra ph
"t ak es po ly no mi al ti me ,s oi tm us tb et he ca se th at so lu ti on ex tr ac ti on is in tr ac ta bl ei nt he wo rs t"
"c as e . Th er ef or e ,w ew il ln ee ds om eh eu ri st ic gu id an ce fo rc ho os in ga mo ng ac ti on sd ur in gt he"
b ac kw ar d s ea rc h . On e a pp ro ac h t ha t w or ks w el l i n p ra ct ic e i s a g re ed y a lg or it hm b as ed o n
"t he le ve lc os to ft he li te ra ls . Fo ra ny se to fg oa ls ,w ep ro ce ed in th ef ol lo wi ng or de r:"
1. Pi ck fi rs tt he li te ra lw it ht he hi gh es tl ev el co st .
"2. To ac hi ev et ha tl it er al ,p re fe ra ct io ns wi th ea si er pr ec on di ti on s . Th at is ,c ho os ea na ct io n"
s uc ht ha tt he su m(o rm ax im um)o ft he le ve lc os ts of it sp re co nd it io ns i ss ma ll es t .
10.3.3 Te rm in at io no f GRAPHPLAN
"So fa r ,w eh av es ka te do ve rt he qu es ti on of te rm in at io n . He re we sh ow th at GRAPHPLANw il l"
i nf ac tt er mi na te an dr et ur nf ai lu re w he nt he re is no so lu ti on .
Th ef ir st th in gt ou nd er st an d i sw hy we ca n’t st op ex pa nd in g t he gr ap ha ss oo na si th as
l ev el ed o ff . Co ns id er a n a ir c ar go d om ai n w it h o ne p la ne a nd n p ie ce s o f c ar go a t a ir po rt
"A , a ll o f w hi ch h av e a ir po rt B a s t he ir d es ti na ti on . In t hi s v er si on o f t he p ro bl em , o nl y o ne"
"p ie ce o f c ar go c an f it in th e p la ne a t a ti me . Th eg ra ph w il ll ev el o ff at le ve l 4, r ef le ct in g t he"
"f ac tt ha tf or an ys in gl ep ie ce of ca rg o , w ec an lo ad it ,f ly it ,a nd un lo ad it at th ed es ti na ti on i n"
t hr ee st ep s . Bu tt ha td oe sn ot me an th at as ol ut io n c an be ex tr ac te df ro mt he gr ap ha tl ev el 4;
"i nf ac t a so lu ti on w il lr eq ui re 4 n−1 s te ps: f or ea ch pi ec e o fc ar go w el oa d , f ly ,a nd u nl oa d ,"
a nd fo ra ll bu tt he la st pi ec ew en ee dt of ly ba ck to ai rp or t At og et th en ex tp ie ce .
Ho wl on gd ow eh av et ok ee pe xp an di ng af te rt he gr ap hh as le ve le do ff ? If th ef un ct io n
"EXTRACT-SOLUTION f ai ls t o f in d a s ol ut io n , t he n t he re m us t h av e b ee n a t l ea st o ne s et o f"
g oa ls t ha t w er e n ot a ch ie va bl e a nd w er e m ar ke d a s a n o-g oo d . So i f i t i s p os si bl e t ha t t he re
"m ig ht b e f ew er n o-g oo ds i n t he n ex t l ev el , t he n w e s ho ul d c on ti nu e . As s oo n a s t he g ra ph"
"i ts el f a nd t he n o-g oo ds h av e b ot h l ev el ed o ff , w it hn os ol ut io n f ou nd , w ec an t er mi na te w it h"
f ai lu re be ca us e t he re is no po ss ib il it y o fa su bs eq ue nt c ha ng et ha tc ou ld ad da so lu ti on .
386 Ch ap te r 10. Cl as si ca l Pl an ni ng
No wa ll we ha ve to do is pr ov et ha tt he gr ap ha nd th en o-g oo ds wi ll al wa ys le ve lo ff . Th e
k ey to th is pr oo fi st ha tc er ta in pr op er ti es o fp la nn in gg ra ph sa re mo no to ni ca ll y i nc re as in go r
d ec re as in g . “Xi nc re as es m on ot on ic al ly” m ea ns th at t he se t o f Xs at le ve li+1 i sa su pe rs et
(n ot ne ce ss ar il y p ro pe r)o ft he se ta tl ev el i . Th ep ro pe rt ie s a re as fo ll ow s:
"• Li te ra ls i nc re as e m on ot on ic al ly: On ce a l it er al a pp ea rs a t a g iv en l ev el , i t w il l a pp ea r"
a ta ll su bs eq ue nt l ev el s . Th is is be ca us e o ft he pe rs is te nc e a ct io ns ; o nc ea li te ra l s ho ws
"u p ,p er si st en ce a ct io ns ca us ei tt os ta yf or ev er ."
"• Ac ti on si nc re as e m on ot on ic al ly: On ce an ac ti on a pp ea rs a ta gi ve n l ev el , i tw il la pp ea r"
a ta ll s ub se qu en t l ev el s . Th is is a co ns eq ue nc e o f t he m on ot on ic i nc re as e o fl it er al s ; i f
"t he pr ec on di ti on so fa na ct io na pp ea ra to ne le ve l ,t he yw il la pp ea ra ts ub se qu en tl ev el s ,"
a nd th us so wi ll th ea ct io n .
"• Mu te xe sd ec re as em on ot on ic al ly: If tw oa ct io ns ar em ut ex at ag iv en le ve l A ,t he nt he y"
i
w il la ls ob em ut ex fo ra ll pr ev io us le ve ls at wh ic ht he yb ot ha pp ea r . Th es am eh ol ds fo r
"m ut ex es b et we en l it er al s . It m ig ht n ot a lw ay s a pp ea r t ha t w ay i n t he f ig ur es , b ec au se"
t he f ig ur es h av e a s im pl if ic at io n: t he y d is pl ay n ei th er l it er al s t ha t c an no t h ol d a t l ev el
S n or a ct io ns t ha t c an no t b e e xe cu te d a t l ev el A . We c an s ee t ha t “m ut ex es d ec re as e
i i
m on ot on ic al ly” i st ru ei fy ou co ns id er th at th es ei nv is ib le l it er al sa nd ac ti on sa re mu te x
w it he ve ry th in g .
"Th e p ro of c an b e h an dl ed b y c as es: i f a ct io ns A a nd B a re m ut ex a t l ev el A , i t"
i
"m us t b e b ec au se o f o ne o f t he t hr ee t yp es o f m ut ex . Th e f ir st t wo , i nc on si st en t e ff ec ts"
"a nd i nt er fe re nc e , a re p ro pe rt ie s o f t he a ct io ns t he ms el ve s , s o i f t he a ct io ns a re m ut ex"
"a t A , t he y w il l b e m ut ex a t e ve ry l ev el . Th e t hi rd c as e , c om pe ti ng n ee ds , d ep en ds o n"
i
c on di ti on s a t l ev el S : t ha t l ev el m us t c on ta in a p re co nd it io n o f A t ha t i s m ut ex w it h
i
"a p re co nd it io n o f B . No w , t he se t wo p re co nd it io ns c an b e m ut ex i f t he y a re n eg at io ns"
o f e ac h o th er (i n w hi ch c as e t he y w ou ld b e m ut ex i n e ve ry l ev el) o r i f a ll a ct io ns f or
a ch ie vi ng o ne a re mu te x w it ha ll ac ti on s f or ac hi ev in g t he o th er . Bu tw ea lr ea dy k no w
"t ha t t he a va il ab le a ct io ns a re i nc re as in g m on ot on ic al ly , s o , b y i nd uc ti on , t he m ut ex es"
m us tb ed ec re as in g .
"• No-g oo ds d ec re as e m on ot on ic al ly: If a s et o f g oa ls i s n ot a ch ie va bl e a t a g iv en l ev el ,"
t he nt he ya re no ta ch ie va bl ei na ny pr ev io us le ve l . Th ep ro of is by co nt ra di ct io n: i ft he y
"w er e a ch ie va bl e a t s om e p re vi ou s l ev el , t he n w e c ou ld j us t a dd p er si st en ce a ct io ns t o"
m ak et he ma ch ie va bl e a ta su bs eq ue nt l ev el .
Be ca us e t he a ct io ns a nd l it er al s i nc re as e m on ot on ic al ly a nd b ec au se t he re a re o nl y a f in it e
"n um be r o f a ct io ns a nd l it er al s , t he re m us t c om e a l ev el t ha t h as t he s am e n um be r o f a ct io ns"
"a nd li te ra ls as th ep re vi ou sl ev el . Be ca us em ut ex es an dn o-g oo ds de cr ea se ,a nd be ca us et he re"
"c an n ev er b e f ew er t ha n z er o m ut ex es o r n o-g oo ds , t he re m us t c om e a l ev el t ha t h as t he"
s am e n um be r o f m ut ex es a nd n o-g oo ds a s t he p re vi ou s l ev el . On ce a gr ap h h as r ea ch ed t hi s
"s ta te , t he n i f o ne o f t he g oa ls i s m is si ng o ri s m ut ex w it h a no th er g oa l , t he n w ec an s to p t he"
GRAPHPLAN a lg or it hm a nd r et ur n f ai lu re . Th at c on cl ud es a s ke tc h o f t he p ro of ; f or m or e
d et ai ls se e Gh al la be ta l .(2004).
Se ct io n 10.4. Ot he r Cl as si ca l Pl an ni ng Ap pr oa ch es 387
Ye ar Tr ac k Wi nn in g Sy st em s(a pp ro ac he s)
"2008 Op ti ma l GAMER(m od el ch ec ki ng ,b id ir ec ti on al se ar ch)"
2008 Sa ti sf ic in g LAMA(f as td ow nw ar ds ea rc hw it h FFh eu ri st ic)
"2006 Op ti ma l SATPLAN ,MAXPLAN(Bo ol ea ns at is fi ab il it y)"
2006 Sa ti sf ic in g SGPLAN(f or wa rd se ar ch ;p ar ti ti on si nt oi nd ep en de nt su bp ro bl em s)
2004 Op ti ma l SATPLAN(Bo ol ea ns at is fi ab il it y)
2004 Sa ti sf ic in g FASTDIAGONALLYDOWNWARD(f or wa rd se ar ch wi th ca us al gr ap h)
"2002 Au to ma te d LPG(l oc al se ar ch ,p la nn in gg ra ph sc on ve rt ed to CSPs)"
2002 Ha nd-c od ed TLPLAN(t em po ra la ct io nl og ic wi th co nt ro lr ul es fo rf or wa rd se ar ch)
2000 Au to ma te d FF(f or wa rd se ar ch)
2000 Ha nd-c od ed TALPLANNER(t em po ra la ct io nl og ic wi th co nt ro lr ul es fo rf or wa rd se ar ch)
1998 Au to ma te d IPP(p la nn in gg ra ph s);HSP(f or wa rd se ar ch)
Fi gu re 10.11 So me of th et op-p er fo rm in gs ys te ms in th e In te rn at io na l Pl an ni ng Co mp e-
t it io n . Ea ch ye ar th er e a re v ar io us tr ac ks: “Op ti ma l”m ea ns t he p la nn er sm us tp ro du ce th e
"s ho rt es tp os si bl ep la n ,w hi le“Sa ti sf ic in g”m ea ns no no pt im al so lu ti on sa re ac ce pt ed . “Ha nd-"
c od ed”m ea ns do ma in-s pe ci fi ch eu ri st ic sa re al lo we d ;“Au to ma te d”m ea ns th ey ar en ot .
10.4 OTHER CLASSICAL PLANNING APPROACHES
Cu rr en tl yt he mo st po pu la ra nd ef fe ct iv ea pp ro ac he s t of ul ly au to ma te d p la nn in g a re:
• Tr an sl at in gt oa Bo ol ea ns at is fi ab il it y (SAT)p ro bl em
• Fo rw ar ds ta te-s pa ce s ea rc hw it hc ar ef ul ly c ra ft ed he ur is ti cs (Se ct io n 10.2)
• Se ar ch us in ga pl an ni ng g ra ph(Se ct io n 10.3)
Th es e t hr ee a pp ro ac he s a re n ot t he o nl y o ne s t ri ed i nt he 40-y ea r h is to ry o f a ut om at ed p la n-
"n in g . Fi gu re 10.11 s ho ws so me of th et op sy st em si nt he In te rn at io na l Pl an ni ng Co mp et it io ns ,"
w hi ch ha ve be en he ld ev er ye ve ny ea rs in ce 1998. In th is se ct io nw ef ir st de sc ri be th et ra ns la-
t io nt oa sa ti sf ia bi li ty p ro bl em a nd th en de sc ri be t hr ee ot he ri nf lu en ti al a pp ro ac he s: p la nn in g
a sf ir st-o rd er lo gi ca ld ed uc ti on ; a sc on st ra in t s at is fa ct io n ; a nd as pl an re fi ne me nt .
10.4.1 Cl as si ca lp la nn in g a s Bo ol ea ns at is fi ab il it y
In Se ct io n 7.7.4 w es aw ho w SATPLANs ol ve sp la nn in gp ro bl em st ha ta re ex pr es se di np ro po-
s it io na l l og ic . He re w e s ho w h ow t o t ra ns la te a PDDL d es cr ip ti on i nt o a f or m t ha t c an b e
p ro ce ss ed b y SATPLAN . Th et ra ns la ti on i sa se ri es of st ra ig ht fo rw ar d s te ps:
• Pr op os it io na li ze t he a ct io ns: r ep la ce e ac h a ct io n s ch em a w it h a s et o f g ro un d a ct io ns
f or me db ys ub st it ut in gc on st an ts fo re ac ho ft he va ri ab le s . Th es eg ro un da ct io ns ar en ot
"p ar to ft he tr an sl at io n , b ut wi ll be us ed in su bs eq ue nt s te ps ."
"• De fi ne t he i ni ti al s ta te: a ss er t F 0 f or e ve ry f lu en t F i n t he p ro bl em’s i ni ti al s ta te , a nd"
¬F f or ev er yf lu en tn ot me nt io ne d i nt he in it ia ls ta te .
"• Pr op os it io na li ze t he go al: f or ev er yv ar ia bl ei nt he go al ,r ep la ce th el it er al st ha tc on ta in"
"t he va ri ab le wi th ad is ju nc ti on o ve rc on st an ts . Fo re xa mp le ,t he go al of ha vi ng bl oc k A"
388 Ch ap te r 10. Cl as si ca l Pl an ni ng
"o na no th er bl oc k , On(A ,x)∧Bl oc k(x)i na wo rl dw it ho bj ec ts A ,B a nd C ,w ou ld be"
r ep la ce db yt he go al
"(On(A ,A)∧Bl oc k(A))∨(On(A ,B)∧Bl oc k(B))∨(On(A ,C)∧Bl oc k(C))."
"• Ad ds uc ce ss or-s ta te a xi om s: Fo re ac hf lu en t F ,a dd an ax io mo ft he fo rm"
"Ft+1 ⇔ Ac ti on Ca us es Ft∨(Ft∧¬Ac ti on Ca us es No t Ft),"
w he re Ac ti on Ca us es F i s a d is ju nc ti on o f a ll t he g ro un d a ct io ns t ha t h av e F i n t he ir
"a dd li st , a nd Ac ti on Ca us es No t F i sa di sj un ct io n o fa ll th eg ro un d a ct io ns t ha th av e F"
i nt he ir de le te li st .
"• Ad dp re co nd it io n a xi om s: Fo re ac h g ro un d a ct io n A , a dd t he a xi om At ⇒ PRE(A)t ,"
"t ha ti s ,i fa na ct io ni st ak en at ti me t ,t he nt he pr ec on di ti on s m us th av eb ee nt ru e ."
• Ad da ct io ne xc lu si on a xi om s: s ay th at ev er ya ct io ni sd is ti nc tf ro me ve ry ot he ra ct io n .
Th er es ul ti ng t ra ns la ti on i si nt he fo rm th at we ca nh an dt o SATPLAN t of in da so lu ti on .
10.4.2 Pl an ni ng a sf ir st-o rd er l og ic al de du ct io n: Si tu at io n c al cu lu s
PDDLi sa la ng ua ge th at ca re fu ll yb al an ce st he ex pr es si ve ne ss o ft he la ng ua ge wi th th ec om-
p le xi ty o ft he al go ri th ms t ha to pe ra te o ni t . Bu ts om ep ro bl em sr em ai nd if fi cu lt to ex pr es s i n
"PDDL . Fo re xa mp le , w e c an’t e xp re ss t he g oa l “m ov e a ll t he c ar go f ro m A t o B r eg ar dl es s"
"o fh ow ma ny pi ec es of ca rg ot he re ar e”i n PDDL ,b ut we ca nd oi ti nf ir st-o rd er lo gi c ,u si ng a"
"u ni ve rs al q ua nt if ie r . Li ke wi se , f ir st-o rd er lo gi cc an co nc is el y e xp re ss g lo ba l c on st ra in ts s uc h"
a s“n om or et ha nf ou rr ob ot sc an be in th es am ep la ce at th es am e t im e .” PDDLc an on ly sa y
t hi sw it hr ep et it io us p re co nd it io ns o ne ve ry po ss ib le a ct io nt ha ti nv ol ve s a mo ve .
"Th e p ro po si ti on al l og ic r ep re se nt at io n o f p la nn in g p ro bl em s a ls o h as l im it at io ns , s uc h"
"a s t he f ac t t ha t t he n ot io n o f t im e i s t ie d d ir ec tl y t o f lu en ts . Fo r e xa mp le , So ut h 2 m ea ns"
"“t he a ge nt i s f ac in g s ou th a t t im e 2.” Wi th t ha t r ep re se nt at io n , t he re i s n o w ay t o s ay “t he"
a ge nt wo ul db ef ac in gs ou th a tt im e 2 i fi te xe cu te d a ri gh t t ur na tt im e 1;o th er wi se it wo ul d
b e f ac in g e as t .” Fi rs t-o rd er l og ic l et s u s g et a ro un d t hi s l im it at io n b y r ep la ci ng t he n ot io n
"o f l in ea r t im e w it h a n ot io n o f b ra nc hi ng s it ua ti on s , u si ng a r ep re se nt at io n c al le d s it ua ti on"
SITUATION c al cu lu st ha tw or ks li ke th is:
CALCULUS
"• Th e i ni ti al s ta te i s c al le d a s it ua ti on . If s i s a s it ua ti on a nd a i s a n a ct io n , t he n"
SITUATION
"RESULT(s ,a) i s a ls o a s it ua ti on . Th er e a re n o o th er s it ua ti on s . Th us , a s it ua ti on c or-"
"r es po nd s t o a s eq ue nc e , o r h is to ry , o f a ct io ns . Yo u c an a ls o t hi nk o f a s it ua ti on a s t he"
"r es ul to fa pp ly in gt he ac ti on s ,b ut no te th at tw os it ua ti on sa re th es am eo nl yi ft he ir st ar t"
"a nd a ct io ns a re t he s am e: (RESULT(s ,a) = RESULT(s(c id:2) ,a(c id:2) )) ⇔ (s = s(c id:2) ∧a = a(c id:2) )."
So me ex am pl es of ac ti on sa nd si tu at io ns a re sh ow ni n Fi gu re 10.12.
• Af un ct io no rr el at io nt ha tc an va ry fr om on es it ua ti on to th en ex ti sa fl ue nt . By co nv en-
"t io n ,t he si tu at io ns is al wa ys th el as ta rg um en tt ot he fl ue nt ,f or ex am pl e At(x ,l ,s)i sa"
"r el at io na lf lu en tt ha ti st ru ew he no bj ec tx is at lo ca ti on li ns it ua ti on s ,a nd Lo ca ti on i sa"
"f un ct io na lf lu en ts uc ht ha t Lo ca ti on(x ,s) = l ho ld si nt he sa me si tu at io ns as At(x ,l ,s)."
• Ea ch a ct io n’s p re co nd it io ns a re d es cr ib ed w it h a p os si bi li ty a xi om t ha t s ay s w he n t he
POSSIBILITYAXIOM
"a ct io n c an b e t ak en . It ha s t he f or m Φ(s) ⇒ Po ss(a ,s)w he re Φ(s)i ss om e f or mu la"
Se ct io n 10.4. Ot he r Cl as si ca l Pl an ni ng Ap pr oa ch es 389
Go ld PIT
PIT
PIT
Go ld PIT
PIT
PIT
Go ld PIT
PIT
PIT
"Re su lt(Re su lt(S , Fo rw ar d),"
0
Tu rn(Ri gh t))
Tu rn(Ri gh t)
"Re su lt(S , Fo rw ar d)"
0
Fo rw ar d
S
0
Fi gu re 10.12 Si tu at io ns as th er es ul ts of ac ti on si nt he wu mp us wo rl d .
i nv ol vi ng s th at de sc ri be s t he pr ec on di ti on s . An ex am pl ef ro mt he wu mp us wo rl ds ay s
t ha ti ti sp os si bl e t os ho ot if th ea ge nt is al iv ea nd ha sa na rr ow:
"Al iv e(Ag en t ,s)∧Ha ve(Ag en t ,Ar ro w ,s) ⇒ Po ss(Sh oo t ,s)"
• Ea ch f lu en t i s d es cr ib ed w it h a s uc ce ss or-s ta te a xi om t ha t s ay s w ha t h ap pe ns t o t he
"f lu en t , d ep en di ng o n w ha t a ct io n i s t ak en . Th is i s s im il ar t o t he a pp ro ac h w e t oo k f or"
p ro po si ti on al l og ic . Th ea xi om ha st he fo rm
Ac ti on is po ss ib le ⇒
(Fl ue nt is tr ue in re su lt st at e ⇔ Ac ti on’s ef fe ct ma de it tr ue
∨It wa st ru eb ef or ea nd ac ti on le ft it al on e).
"Fo re xa mp le , t he ax io m f or th e r el at io na l f lu en t Ho ld in g s ay s t ha t t he a ge nt i sh ol di ng"
s om eg ol d g a ft er ex ec ut in g a po ss ib le a ct io n i fa nd o nl y i ft he a ct io n w as a Gr ab o fg
o ri ft he ag en tw as al re ad yh ol di ng g a nd th ea ct io nw as no tr el ea si ng i t:
"Po ss(a ,s) ⇒"
"(Ho ld in g(Ag en t ,g ,Re su lt(a ,s)) ⇔"
"a=Gr ab(g)∨(Ho ld in g(Ag en t ,g ,s)∧a(c id:7)= Re le as e(g)))."
"UNIQUEACTION • We n ee d u ni qu e a ct io n a xi om s s o t ha t t he a ge nt c an d ed uc e t ha t , f or e xa mp le , a (c id:7)="
AXIOMS
Re le as e(g). Fo r e ac h d is ti nc t p ai r o f a ct io n n am es A a nd A w e h av e a n a xi om t ha t
i j
s ay st he ac ti on sa re di ff er en t:
"A (x ,...) (c id:7)= A (y ,...)"
i j
390 Ch ap te r 10. Cl as si ca l Pl an ni ng
a nd f or e ac h a ct io n n am e A w eh av e a n a xi om t ha t s ay s t wo u se s o f t ha t a ct io n n am e
i
a re eq ua li fa nd on ly if al lt he ir ar gu me nt s a re eq ua l:
"A (x ,...,x )=A (y ,...,y ) ⇔ x =y ∧...∧x =y ."
i 1 n i 1 n 1 1 n n
• As ol ut io n i sa si tu at io n (a nd he nc ea se qu en ce o fa ct io ns) t ha ts at is fi es th eg oa l .
Wo rk i n s it ua ti on c al cu lu s h as d on e a l ot t o d ef in e t he f or ma l s em an ti cs o f p la nn in g a nd t o
o pe n u p n ew a re as o f i nv es ti ga ti on . Bu t s o f ar t he re h av e n ot b ee n a ny p ra ct ic al l ar ge-s ca le
p la nn in g p ro gr am s b as ed o n l og ic al d ed uc ti on o ve r t he s it ua ti on c al cu lu s . Th is i s i n p ar t
"b ec au se o f t he d if fi cu lt y o f d oi ng e ff ic ie nt i nf er en ce i n FOL , b ut i s m ai nl y b ec au se t he f ie ld"
h as no ty et de ve lo pe de ff ec ti ve he ur is ti cs f or pl an ni ng w it hs it ua ti on c al cu lu s .
10.4.3 Pl an ni ng a sc on st ra in t s at is fa ct io n
"We ha ve se en th at co ns tr ai nt s at is fa ct io n h as al ot in co mm on wi th Bo ol ea ns at is fi ab il it y , a nd"
"w eh av es ee nt ha t CSPt ec hn iq ue sa re ef fe ct iv ef or sc he du li ng pr ob le ms ,s oi ti sn ot su rp ri si ng"
"t ha ti ti sp os si bl et oe nc od ea bo un de dp la nn in gp ro bl em(i .e .,t he pr ob le mo ff in di ng ap la no f"
l en gt hk)a sa co ns tr ai nt s at is fa ct io n p ro bl em (CSP).Th ee nc od in g i ss im il ar to th ee nc od in g
"t o a SAT p ro bl em (Se ct io n 10.4.1), w it h o ne i mp or ta nt s im pl if ic at io n: a t e ac h t im e s te p w e"
"n ee d o nl y a s in gl e v ar ia bl e , Ac ti on t , w ho se d om ai n i s t he s et o f p os si bl e a ct io ns . We n o"
"l on ge rn ee d o ne v ar ia bl e f or ev er y a ct io n , a nd w ed on’t n ee d t he ac ti on e xc lu si on a xi om s . It"
i sa ls op os si bl et oe nc od ea pl an ni ng gr ap hi nt oa CSP .Th is is th ea pp ro ac ht ak en by GP-CSP
"(Do an d Ka mb ha mp at i , 2003)."
10.4.4 Pl an ni ng a sr ef in em en t o fp ar ti al ly o rd er ed p la ns
Al lt he ap pr oa ch es w eh av es ee ns of ar co ns tr uc t t ot al ly or de re dp la ns co ns is ti ng o fa st ri ct ly
l in ea r s eq ue nc es o f a ct io ns . Th is r ep re se nt at io n i gn or es t he f ac t t ha t m an y s ub pr ob le ms a re
i nd ep en de nt . A s ol ut io n t o a n a ir c ar go p ro bl em c on si st s o f a t ot al ly o rd er ed s eq ue nc e o f
"a ct io ns ,y et if 30 p ac ka ge sa re be in gl oa de do nt oo ne pl an ei no ne ai rp or ta nd 50 p ac ka ge sa re"
"b ei ng lo ad ed on to an ot he ra ta no th er ai rp or t ,i ts ee ms po in tl es st oc om eu pw it ha st ri ct li ne ar"
o rd er in g o f 80 l oa da ct io ns ; t he tw os ub se ts of ac ti on s s ho ul db et ho ug ht o fi nd ep en de nt ly .
An a lt er na ti ve i s t o r ep re se nt p la ns a s p ar ti al ly o rd er ed s tr uc tu re s: a p la n i s a s et o f
"a ct io ns a nd a s et o f c on st ra in ts o f t he f or m Be fo re(a ,a ) s ay in g t ha t o ne a ct io n o cc ur s"
i j
"b ef or ea no th er . In th eb ot to mo f Fi gu re 10.13,w es ee ap ar ti al ly or de re dp la nt ha ti sa so lu ti on"
t o t he s pa re t ir e p ro bl em . Ac ti on s a re b ox es a nd o rd er in g c on st ra in ts a re a rr ow s . No te t ha t
"Re mo ve(Sp ar e ,Tr un k)a nd Re mo ve(Fl at ,Ax le)c an be do ne in ei th er or de ra sl on ga st he y"
"a re bo th co mp le te d b ef or et he Pu t On(Sp ar e ,Ax le)a ct io n ."
Pa rt ia ll y o rd er ed p la ns a re c re at ed b y a s ea rc h t hr ou gh t he s pa ce o f p la ns r at he r t ha n
t hr ou gh t he s ta te s pa ce . We s ta rt w it h t he e mp ty p la n c on si st in g o f j us t t he i ni ti al s ta te a nd
"t he go al ,w it hn oa ct io ns in be tw ee n ,a si nt he to po f Fi gu re 10.13. Th es ea rc hp ro ce du re th en"
"l oo ks f or a f la w i n t he p la n , a nd m ak es a n a dd it io n t o t he p la n t o c or re ct t he f la w (o r i f n o"
FLAW
"c or re ct io n c an b e m ad e , t he s ea rc h b ac kt ra ck s a nd t ri es s om et hi ng e ls e). A f la w i s a ny th in g"
"t ha t k ee ps t he pa rt ia l p la n f ro m b ei ng a so lu ti on . Fo re xa mp le , o ne fl aw in th ee mp ty pl an i s"
"t ha tn oa ct io na ch ie ve s At(Sp ar e ,Ax le). On ew ay to co rr ec tt he fl aw is to in se rt in to th ep la n"
Se ct io n 10.4. Ot he r Cl as si ca l Pl an ni ng Ap pr oa ch es 391
"At(Sp ar e ,Tr un k)"
"St ar t At(Sp ar e ,Ax le) Fi ni sh"
"At(Fl at ,Ax le)"
(a)
"At(Sp ar e ,Tr un k) Re mo ve(Sp ar e ,Tr un k)"
"At(Sp ar e ,Tr un k) At(Sp ar e ,Gr ou nd)"
"St ar t Pu t On(Sp ar e ,Ax le) At(Sp ar e ,Ax le) Fi ni sh"
"At(Fl at ,Ax le) ¬At(Fl at ,Ax le)"
(b)
"At(Sp ar e ,Tr un k) Re mo ve(Sp ar e ,Tr un k)"
"At(Sp ar e ,Tr un k) At(Sp ar e ,Gr ou nd)"
"St ar t Pu t On(Sp ar e ,Ax le) At(Sp ar e ,Ax le) Fi ni sh"
"At(Fl at ,Ax le) ¬At(Fl at ,Ax le)"
"At(Fl at ,Ax le) Re mo ve(Fl at ,Ax le)"
(c)
Fi gu re 10.13 (a)t he ti re pr ob le me xp re ss ed as an em pt yp la n . (b)a ni nc om pl et ep ar ti al ly
o rd er ed pl an fo rt he ti re pr ob le m .Bo xe sr ep re se nt ac ti on sa nd ar ro ws in di ca te th at on ea ct io n
m us to cc ur be fo re an ot he r .(c)a co mp le te pa rt ia ll y-o rd er ed so lu ti on .
"t he ac ti on Pu t On(Sp ar e ,Ax le). Of co ur se th at in tr od uc es so me ne wf la ws: t he pr ec on di ti on s"
o f t he n ew a ct io n a re n ot a ch ie ve d . Th e s ea rc h k ee ps a dd in g t o t he p la n (b ac kt ra ck in g i f
"n ec es sa ry) u nt il a ll f la ws a re r es ol ve d , a s i n t he b ot to m o f Fi gu re 10.13. At e ve ry s te p , w e"
"m ak e t he l ea st c om mi tm en t p os si bl e t o f ix t he f la w . Fo r e xa mp le , i n a dd in g t he a ct io n"
LEASTCOMMITMENT
"Re mo ve(Sp ar e ,Tr un k)w en ee dt oc om mi tt oh av in g i to cc ur be fo re Pu t On(Sp ar e ,Ax le),"
b ut we ma ke no ot he rc om mi tm en tt ha tp la ce si tb ef or eo ra ft er o th er ac ti on s . If th er ew er ea
"v ar ia bl ei nt he ac ti on sc he ma th at co ul db el ef tu nb ou nd , w ew ou ld do so ."
"In t he 1980 s a nd 90 s , p ar ti al-o rd er p la nn in g w as s ee n a s t he b es t w ay t o h an dl e p la n-"
"n in g p ro bl em s w it h i nd ep en de nt s ub pr ob le ms—a ft er a ll , i t w as t he o nl y a pp ro ac h t ha t e x-"
"p li ci tl yr ep re se nt si nd ep en de nt b ra nc he so fa pl an . On th eo th er ha nd ,i th as th ed is ad va nt ag e"
o f n ot h av in g a n e xp li ci t r ep re se nt at io n o f s ta te s i n t he s ta te-t ra ns it io n m od el . Th at m ak es
"s om ec om pu ta ti on sc um be rs om e . By 2000,f or wa rd-s ea rc h p la nn er sh ad de ve lo pe de xc el le nt"
h eu ri st ic s t ha ta ll ow ed th em to ef fi ci en tl yd is co ve rt he in de pe nd en t s ub pr ob le ms t ha tp ar ti al-
"o rd er p la nn in g w as d es ig ne d f or . As a r es ul t , p ar ti al-o rd er p la nn er s a re n ot c om pe ti ti ve o n"
f ul ly au to ma te d c la ss ic al p la nn in g p ro bl em s .
"Ho we ve r , p ar ti al-o rd er p la nn in g r em ai ns a n i mp or ta nt p ar t o f t he f ie ld . Fo rs om e s pe-"
"c if ic ta sk s ,s uc ha so pe ra ti on ss ch ed ul in g , p ar ti al-o rd er pl an ni ng wi th do ma in sp ec if ic he ur is-"
"t ic s i s t he t ec hn ol og y o f c ho ic e . Ma ny o f t he se s ys te ms u se l ib ra ri es o f h ig h-l ev el p la ns , a s"
d es cr ib ed in Se ct io n 11.2. Pa rt ia l-o rd er pl an ni ng is al so of te nu se di nd om ai ns wh er ei ti si m-
p or ta nt fo rh um an st ou nd er st an d t he pl an s . Op er at io na lp la ns fo rs pa ce cr af ta nd Ma rs ro ve rs
a re ge ne ra te db yp ar ti al-o rd er pl an ne rs an da re th en ch ec ke db yh um an op er at or sb ef or eb ei ng
u pl oa de d t ot he ve hi cl es f or ex ec ut io n . Th ep la n r ef in em en t a pp ro ac h m ak es it ea si er fo rt he
h um an st ou nd er st an dw ha tt he pl an ni ng al go ri th ms ar ed oi ng an dv er if yt ha tt he ya re co rr ec t .
392 Ch ap te r 10. Cl as si ca l Pl an ni ng
10.5 ANALYSIS OF PLANNING APPROACHES
Pl an ni ng c om bi ne s t he t wo m aj or a re as o f AI w e h av e c ov er ed s o f ar: s ea rc h a nd l og ic . A
p la nn er c an b es ee n e it he r a sa pr og ra m t ha t s ea rc he s f or as ol ut io n o ra s o ne th at (c on st ru c-
t iv el y) p ro ve s t he e xi st en ce o fa s ol ut io n . Th ec ro ss-f er ti li za ti on o f i de as f ro m t he t wo ar ea s
h as l ed b ot h t o i mp ro ve me nt s i n p er fo rm an ce a mo un ti ng t o s ev er al o rd er s o f m ag ni tu de i n
"t he l as t d ec ad e a nd t oa n i nc re as ed u se o f p la nn er s i n i nd us tr ia l a pp li ca ti on s . Un fo rt un at el y ,"
w e d o n ot y et h av e a c le ar u nd er st an di ng o f w hi ch t ec hn iq ue s w or k b es t o n w hi ch k in ds o f
"p ro bl em s . Qu it ep os si bl y , n ew te ch ni qu es w il le me rg et ha td om in at ee xi st in gm et ho ds ."
Pl an ni ng i s f or em os t a n e xe rc is e i n c on tr ol li ng c om bi na to ri al e xp lo si on . If t he re a re n
"p ro po si ti on s i n a d om ai n , t he n t he re a re 2 n s ta te s . As w e h av e s ee n , p la nn in g i s PSPACE-"
"h ar d . Ag ai ns t s uc h p es si mi sm , t he i de nt if ic at io n o f i nd ep en de nt s ub pr ob le ms c an b e a po w-"
e rf ul we ap on . In th eb es tc as e—f ul ld ec om po sa bi li ty o ft he pr ob le m—w eg et an ex po ne nt ia l
"s pe ed up . De co mp os ab il it y i s d es tr oy ed , h ow ev er , b y n eg at iv e i nt er ac ti on s b et we en a ct io ns ."
GRAPHPLANr ec or ds mu te xe st op oi nt ou tw he re th ed if fi cu lt in te ra ct io ns ar e . SATPLANr ep-
"r es en ts a si mi la rr an ge o fm ut ex re la ti on s , b ut d oe s s ob yu si ng t he ge ne ra l CNFf or m r at he r"
t ha n a s pe ci fi c d at a s tr uc tu re . Fo rw ar d s ea rc h a dd re ss es t he p ro bl em h eu ri st ic al ly b y t ry in g
t of in d p at te rn s (s ub se ts o fp ro po si ti on s) t ha t c ov er th ei nd ep en de nt s ub pr ob le ms . Si nc e t hi s
"a pp ro ac hi sh eu ri st ic ,i tc an wo rk ev en wh en th es ub pr ob le ms a re no tc om pl et el yi nd ep en de nt ."
So me ti me s i t i s p os si bl e t o s ol ve a p ro bl em e ff ic ie nt ly b y r ec og ni zi ng t ha t n eg at iv e
SERIALIZABLE i nt er ac ti on s c an be ru le do ut . We sa yt ha ta pr ob le m h as s er ia li za bl e s ub go al si ft he re ex is ts
SUBGOAL
a n o rd er o f s ub go al s s uc h t ha t t he p la nn er c an a ch ie ve t he m i n t ha t o rd er w it ho ut h av in g t o
"u nd o a ny o f t he p re vi ou sl y a ch ie ve d s ub go al s . Fo re xa mp le , i n t he b lo ck s w or ld , i f t he g oa l"
"i s t o b ui ld a t ow er(e .g ., Ao n B , w hi ch i n t ur n i s o n C , w hi ch i n t ur n i s o n t he Ta bl e , a s i n"
"Fi gu re 10.4 o np ag e 371),t he nt he su bg oa ls ar es er ia li za bl e b ot to mt ot op: i fw ef ir st ac hi ev e"
"C o n Ta bl e , w e w il l n ev er h av e t o u nd o i t w hi le w e a re a ch ie vi ng t he o th er s ub go al s . A"
p la nn er t ha t u se s t he b ot to m-t o-t op t ri ck c an s ol ve a ny p ro bl em i n t he b lo ck s w or ld w it ho ut
b ac kt ra ck in g (a lt ho ug h i tm ig ht no ta lw ay sf in dt he sh or te st p la n).
"As a m or e c om pl ex e xa mp le , f or t he Re mo te Ag en t p la nn er t ha t c om ma nd ed NASA’s"
"De ep Sp ac e On e s pa ce cr af t , i t w as d et er mi ne d t ha t t he p ro po si ti on s i nv ol ve d i n c om ma nd-"
"i ng a s pa ce cr af t a re s er ia li za bl e . Th is i s p er ha ps n ot t oo s ur pr is in g , b ec au se a s pa ce cr af t i s"
d es ig ne d b y i ts e ng in ee rs t o b e a s e as y a s p os si bl e t o c on tr ol (s ub je ct t o o th er c on st ra in ts).
"Ta ki ng a dv an ta ge o f t he s er ia li ze d o rd er in g o f g oa ls , t he Re mo te Ag en t p la nn er w as a bl e t o"
e li mi na te m os t o f t he s ea rc h . Th is m ea nt t ha t i t w as f as t e no ug h t o c on tr ol t he s pa ce cr af t i n
"r ea lt im e ,s om et hi ng p re vi ou sl y c on si de re d i mp os si bl e ."
"Pl an ne rs s uc h a s GRAPHPLAN , SATPLAN , a nd FF h av e m ov ed t he f ie ld o f p la nn in g"
"f or wa rd , b y r ai si ng t he l ev el o f p er fo rm an ce o f p la nn in g s ys te ms , b y c la ri fy in g t he r ep re-"
"s en ta ti on al a nd c om bi na to ri al i ss ue s i nv ol ve d , a nd b y t he d ev el op me nt o f u se fu l h eu ri st ic s ."
"Ho we ve r ,t he re is aq ue st io no fh ow fa rt he se te ch ni qu es wi ll sc al e . It se em sl ik el yt ha tf ur th er"
"p ro gr es s o n l ar ge r p ro bl em s c an no t r el y o nl y o n f ac to re d a nd p ro po si ti on al r ep re se nt at io ns ,"
a nd w il l r eq ui re s om e k in d o f s yn th es is o f f ir st-o rd er a nd h ie ra rc hi ca l r ep re se nt at io ns w it h
t he ef fi ci en th eu ri st ic s c ur re nt ly i nu se .
11
PLANNING AND ACTING
IN THE REAL WORLD
In wh ic hw es ee ho w m or ee xp re ss iv e r ep re se nt at io ns a nd m or ei nt er ac ti ve a ge nt
a rc hi te ct ur es l ea dt op la nn er s t ha ta re us ef ul in th er ea lw or ld .
"Th ep re vi ou sc ha pt er in tr od uc ed t he mo st ba si cc on ce pt s , r ep re se nt at io ns , a nd al go ri th ms fo r"
p la nn in g . Pl an ne rs t ha t a re a re u se d i n t he r ea l w or ld f or p la nn in g a nd s ch ed ul in g t he o pe r-
"a ti on s o f s pa ce cr af t , f ac to ri es , a nd m il it ar y c am pa ig ns a re m or e c om pl ex ; t he y e xt en d b ot h"
t he r ep re se nt at io n l an gu ag e a nd t he w ay t he p la nn er i nt er ac ts w it h t he e nv ir on me nt . Th is
c ha pt er s ho ws h ow . Se ct io n 11.1 e xt en ds t he c la ss ic al l an gu ag e f or p la nn in g t o t al k a bo ut
a ct io ns w it h d ur at io ns a nd r es ou rc e c on st ra in ts . Se ct io n 11.2 d es cr ib es m et ho ds f or c on-
s tr uc ti ng p la ns t ha ta re or ga ni ze d h ie ra rc hi ca ll y . Th is al lo ws hu ma n e xp er ts t oc om mu ni ca te
t ot he pl an ne rw ha tt he yk no wa bo ut ho wt os ol ve th ep ro bl em . Hi er ar ch ya ls ol en ds it se lf to
e ff ic ie nt pl an co ns tr uc ti on be ca us et he pl an ne rc an so lv ea pr ob le ma ta na bs tr ac tl ev el be fo re
d el vi ng in to de ta il s . Se ct io n 11.3 p re se nt sa ge nt ar ch it ec tu re s t ha tc an ha nd le un ce rt ai n e nv i-
"r on me nt s a nd i nt er le av e d el ib er at io n w it he xe cu ti on , a nd gi ve ss om ee xa mp le s o fr ea l-w or ld"
s ys te ms . Se ct io n 11.4 s ho ws ho wt op la nw he nt he en vi ro nm en t c on ta in so th er ag en ts .
"11.1 TIME , SCHEDULES , AND RESOURCES"
"Th ec la ss ic al pl an ni ng re pr es en ta ti on ta lk sa bo ut wh at to do ,a nd in wh at or de r ,b ut th er ep re-"
"s en ta ti on c an no t t al ka bo ut t im e: h ow lo ng a na ct io n t ak es a nd wh en it oc cu rs . Fo re xa mp le ,"
t he pl an ne rs o f Ch ap te r 10 c ou ld pr od uc ea sc he du le fo ra na ir li ne th at sa ys wh ic hp la ne sa re
"a ss ig ne dt ow hi ch fl ig ht s ,b ut we re al ly ne ed to kn ow de pa rt ur ea nd ar ri va lt im es as we ll . Th is"
i st he su bj ec tm at te ro fs ch ed ul in g . Th er ea lw or ld al so im po se sm an yr es ou rc ec on st ra in ts ;
"f or ex am pl e , a na ir li ne ha sa li mi te dn um be ro fs ta ff—a nd s ta ff wh oa re on on ef li gh tc an no t"
b e o n a no th er a t t he s am e t im e . Th is s ec ti on c ov er s m et ho ds f or r ep re se nt in g a nd s ol vi ng
p la nn in g p ro bl em st ha ti nc lu de te mp or al an dr es ou rc e c on st ra in ts .
"Th e a pp ro ac h w e t ak e i n t hi s s ec ti on i s “p la n f ir st , s ch ed ul e l at er”: t ha t i s , w e d iv id e"
"t he o ve ra ll p ro bl em i nt o a p la nn in g p ha se i n w hi ch a ct io ns a re s el ec te d , w it h s om e o rd er in g"
"c on st ra in ts , t o m ee t t he g oa ls o f t he p ro bl em , a nd a l at er s ch ed ul in g p ha se , i n w hi ch t em po-"
r al in fo rm at io n i sa dd ed to th ep la nt oe ns ur e t ha ti tm ee ts re so ur ce a nd de ad li ne c on st ra in ts .
401
402 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"Jo bs({Ad d En gi ne 1 ≺Ad d Wh ee ls 1 ≺In sp ec t 1},"
{Ad d En gi ne 2 ≺Ad d Wh ee ls 2 ≺In sp ec t 2})
"Re so ur ce s(En gi ne Ho is ts(1),Wh ee l St at io ns(1),In sp ec to rs(2),Lu g Nu ts(500))"
"Ac ti on(Ad d En gi ne 1,DURATION:30,"
USE:En gi ne Ho is ts(1))
"Ac ti on(Ad d En gi ne 2,DURATION:60,"
USE:En gi ne Ho is ts(1))
"Ac ti on(Ad d Wh ee ls 1,DURATION:30,"
"CONSUME:Lu g Nu ts(20),USE:Wh ee l St at io ns(1))"
"Ac ti on(Ad d Wh ee ls 2,DURATION:15,"
"CONSUME:Lu g Nu ts(20),USE:Wh ee l St at io ns(1))"
"Ac ti on(In sp ec t i ,DURATION:10,"
USE:In sp ec to rs(1))
"Fi gu re 11.1 Aj ob-s ho ps ch ed ul in gp ro bl em fo ra ss em bl in gt wo ca rs ,w it h r es ou rc ec on-"
s tr ai nt s . Th en ot at io n A≺Bm ea ns th at ac ti on Am us tp re ce de ac ti on B .
"Th is ap pr oa ch is co mm on in re al-w or ld ma nu fa ct ur in ga nd lo gi st ic al se tt in gs ,w he re th ep la n-"
n in gp ha se i so ft en pe rf or me d b yh um an ex pe rt s . Th ea ut om at ed m et ho ds o f Ch ap te r 10 c an
"a ls o b e u se d f or t he p la nn in g p ha se , p ro vi de d t ha t t he y p ro du ce p la ns w it h j us t t he m in im al"
"o rd er in g c on st ra in ts r eq ui re d f or co rr ec tn es s . GRAPHPLAN (Se ct io n 10.3), SATPLAN (Se c-"
"t io n 10.4.1), a nd p ar ti al-o rd er p la nn er s (Se ct io n 10.4.4) c an d o t hi s ; s ea rc h-b as ed m et ho ds"
"(Se ct io n 10.2) p ro du ce t ot al ly o rd er ed p la ns , b ut t he se c an e as il y b e c on ve rt ed t o p la ns w it h"
m in im al or de ri ng c on st ra in ts .
11.1.1 Re pr es en ti ng t em po ra l a nd re so ur ce c on st ra in ts
"A t yp ic al j ob-s ho p s ch ed ul in g p ro bl em , a s f ir st i nt ro du ce d i n Se ct io n 6.1.2, c on si st s o f a"
"s et o f j ob s , e ac h o f w hi ch c on si st s a c ol le ct io n o f a ct io ns w it h o rd er in g c on st ra in ts a mo ng"
JOB
t he m . Ea ch a ct io n h as a d ur at io n a nd a s et o f r es ou rc e c on st ra in ts r eq ui re d b y t he a ct io n .
DURATION
"Ea ch c on st ra in t s pe ci fi es a t yp e o f r es ou rc e (e .g ., b ol ts , w re nc he s , o r p il ot s), t he n um be r"
"o f t ha t r es ou rc e r eq ui re d , a nd w he th er t ha t r es ou rc e i s c on su ma bl e (e .g ., t he b ol ts a re n o"
CONSUMABLE
"l on ge r a va il ab le f or us e) o r r eu sa bl e (e .g ., a pi lo t i s o cc up ie d d ur in g a f li gh t b ut i s a va il ab le"
REUSABLE
a ga in wh en th ef li gh ti so ve r). Re so ur ce s c an al so be p ro du ce d b ya ct io ns wi th ne ga ti ve co n-
"s um pt io n , i nc lu di ng m an uf ac tu ri ng , g ro wi ng , a nd re su pp ly a ct io ns . As ol ut io n t oa jo b-s ho p"
s ch ed ul in g p ro bl em m us ts pe ci fy t he st ar tt im es fo re ac ha ct io n a nd mu st sa ti sf y a ll th et em-
"p or al o rd er in g c on st ra in ts a nd r es ou rc e c on st ra in ts . As w it h s ea rc h a nd p la nn in g p ro bl em s ,"
"s ol ut io ns c an b e e va lu at ed a cc or di ng t o a c os t f un ct io n ; t hi s c an b e q ui te c om pl ic at ed , w it h"
"n on li ne ar r es ou rc e c os ts , t im e-d ep en de nt d el ay c os ts , a nd s o o n . Fo r s im pl ic it y , w e a ss um e"
"t ha tt he co st fu nc ti on i sj us tt he to ta ld ur at io n o ft he pl an , w hi ch is ca ll ed th em ak es pa n ."
MAKESPAN
Fi gu re 11.1 s ho ws as im pl ee xa mp le: a pr ob le mi nv ol vi ng th ea ss em bl yo ft wo ca rs . Th e
"p ro bl em co ns is ts of tw oj ob s ,e ac ho ft he fo rm[Ad d En gi ne ,Ad d Wh ee ls ,In sp ec t]. Th en th e"
"Se ct io n 11.1. Ti me ,Sc he du le s , a nd Re so ur ce s 403"
"Re so ur ce s s ta te me nt d ec la re s t ha t t he re a re f ou r t yp es o f r es ou rc es , a nd g iv es t he n um be r"
"o f e ac h t yp e a va il ab le a t t he s ta rt: 1 e ng in e h oi st , 1 w he el s ta ti on , 2 i ns pe ct or s , a nd 500 l ug"
n ut s . Th e a ct io n s ch em as g iv e t he d ur at io n a nd r es ou rc e n ee ds o f e ac h a ct io n . Th e l ug n ut s
"a re c on su me d a s w he el s a re a dd ed t o t he c ar , w he re as t he o th er r es ou rc es a re “b or ro we d” a t"
t he st ar to fa na ct io na nd re le as ed a tt he ac ti on’s en d .
"Th e r ep re se nt at io n o f r es ou rc es a s n um er ic al q ua nt it ie s , s uc h a s In sp ec to rs(2), r at he r"
"t ha n a s n am ed e nt it ie s , s uc h a s In sp ec to r(I ) a nd In sp ec to r(I ), i s a n e xa mp le o f a v er y"
1 2
g en er al t ec hn iq ue c al le d a gg re ga ti on . Th ec en tr al i de a o fa gg re ga ti on i st og ro up in di vi du al
AGGREGATION
o bj ec ts i nt o q ua nt it ie s w he n t he o bj ec ts a re a ll i nd is ti ng ui sh ab le w it h r es pe ct t o t he p ur po se
"a th an d . In ou ra ss em bl yp ro bl em ,i td oe sn ot ma tt er wh ic hi ns pe ct or in sp ec ts th ec ar ,s ot he re"
i s n o n ee d t o m ak e t he d is ti nc ti on . (Th e s am e i de a w or ks i n t he m is si on ar ie s-a nd-c an ni ba ls
p ro bl em i n Ex er ci se 3.9.) Ag gr eg at io n i s e ss en ti al f or r ed uc in g c om pl ex it y . Co ns id er w ha t
h ap pe ns w he n a p ro po se d s ch ed ul e h as 10 c on cu rr en t In sp ec t a ct io ns b ut o nl y 9 i ns pe ct or s
"a re av ai la bl e . Wi th in sp ec to rs re pr es en te da sq ua nt it ie s , a fa il ur ei sd et ec te di mm ed ia te ly an d"
"t he al go ri th m b ac kt ra ck s t ot ry an ot he rs ch ed ul e . Wi th in sp ec to rs r ep re se nt ed a si nd iv id ua ls ,"
t he al go ri th m b ac kt ra ck s t ot ry al l 10!w ay so fa ss ig ni ng i ns pe ct or s t oa ct io ns .
11.1.2 So lv in gs ch ed ul in g p ro bl em s
"We be gi nb yc on si de ri ng ju st th et em po ra ls ch ed ul in gp ro bl em ,i gn or in gr es ou rc ec on st ra in ts ."
"To mi ni mi ze ma ke sp an(p la nd ur at io n),w em us tf in dt he ea rl ie st st ar tt im es fo ra ll th ea ct io ns"
c on si st en t w it ht he or de ri ng co ns tr ai nt s s up pl ie dw it ht he p ro bl em . It is he lp fu lt ov ie wt he se
"o rd er in gc on st ra in ts as ad ir ec te dg ra ph re la ti ng th ea ct io ns ,a ss ho wn in Fi gu re 11.2. We ca n"
CRITICALPATH a pp ly t he c ri ti ca l p at h m et ho d (CPM) t o t hi s g ra ph t o d et er mi ne t he p os si bl e s ta rt a nd e nd
METHOD
t im es o f e ac h a ct io n . A p at h t hr ou gh a g ra ph r ep re se nt in g a p ar ti al-o rd er p la n i s a l in ea rl y
"o rd er ed s eq ue nc e o f a ct io ns b eg in ni ng w it h St ar t a nd e nd in g w it h Fi ni sh . (Fo r e xa mp le ,"
t he re ar et wo pa th si nt he pa rt ia l-o rd er p la ni n Fi gu re 11.2.)
Th e c ri ti ca l p at h i s t ha t p at h w ho se t ot al d ur at io n i s l on ge st ; t he p at h i s “c ri ti ca l”
CRITICALPATH
b ec au se i td et er mi ne s t he du ra ti on o ft he en ti re pl an—s ho rt en in g o th er pa th sd oe sn’t s ho rt en
"t he p la n a s a w ho le , b ut d el ay in g t he s ta rt o f a ny a ct io n o n t he c ri ti ca l p at h s lo ws d ow n t he"
w ho le pl an . Ac ti on st ha ta re of ft he cr it ic al pa th ha ve aw in do wo ft im ei nw hi ch th ey ca nb e
"e xe cu te d . Th ew in do wi ss pe ci fi ed in te rm so fa ne ar li es tp os si bl es ta rt ti me ,ES ,a nd al at es t"
"p os si bl e s ta rt t im e , LS . Th e q ua nt it y LS – ES i s k no wn a s t he s la ck o f a n a ct io n . We c an"
SLACK
"s ee i n Fi gu re 11.2 t ha t t he w ho le p la n w il l t ak e 85 m in ut es , t ha t e ac h a ct io n i n t he t op j ob"
"h as 15 m in ut es of sl ac k , a nd th at ea ch ac ti on on th ec ri ti ca l p at hh as no sl ac k(b yd ef in it io n)."
To ge th er th e ES a nd LS t im es fo ra ll th ea ct io ns c on st it ut e a sc he du le fo rt he pr ob le m .
SCHEDULE
Th ef ol lo wi ng fo rm ul as se rv ea sa de fi ni ti on fo r ES a nd LS a nd al so as th eo ut li ne of a
"d yn am ic-p ro gr am mi ng a lg or it hm t o c om pu te t he m . A a nd B a re a ct io ns , a nd A≺B m ea ns"
t ha t Ac om es be fo re B:
ES(St ar t) = 0
ES(B)= m ax A≺BES(A)+Du ra ti on(A)
LS(Fi ni sh) = ES(Fi ni sh)
LS(A) = m in B(c id:9)ALS(B)−Du ra ti on(A).
404 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"[0,15] [30,45] [60,75]"
Ad d En gi ne 1 Ad d Wh ee ls 1 In sp ec t 1
30 30 10
"[0,0] [85,85]"
St ar t Fi ni sh
"[0,0] [60,60] [75,75]"
Ad d En gi ne 2 Ad d Wh ee ls 2 In sp ec t 2
60 15 10
Ad d Wh ee ls 1
Ad d En gi ne 1 In sp ec t 1
Ad d En gi ne 2 In sp ec t 2
Ad d Wh ee ls 2
0 10 20 30 40 50 60 70 80 90
Fi gu re 11.2 To p:a re pr es en ta ti on of th et em po ra lc on st ra in ts fo rt he jo b-s ho ps ch ed ul in g
p ro bl em of Fi gu re 11.1.Th ed ur at io no fe ac ha ct io ni sg iv en at th eb ot to mo fe ac hr ec ta ng le .
"In s ol vi ng th e p ro bl em ,w e c om pu te th e e ar li es t a nd la te st s ta rt t im es a st he p ai r [ES ,LS],"
d is pl ay ed i n t he u pp er l ef t . Th e d if fe re nc e b et we en t he se t wo n um be rs i s t he s la ck o f a n
"a ct io n ;a ct io ns wi th ze ro sl ac ka re on th ec ri ti ca lp at h ,s ho wn wi th bo ld ar ro ws . Bo tt om: t he"
s am es ol ut io ns ho wn as at im el in e . Gr ey re ct an gl es re pr es en tt im ei nt er va ls du ri ng wh ic ha n
"a ct io nm ay be ex ec ut ed ,p ro vi de dt ha tt he or de ri ng co ns tr ai nt sa re re sp ec te d .Th eu no cc up ie d"
p or ti on of ag ra yr ec ta ng le in di ca te st he sl ac k .
"Th e i de a i s t ha t w e s ta rt b y a ss ig ni ng ES(St ar t) t o b e 0. Th en , a s s oo n a s w e g et a n a ct io n"
"B s uc h t ha t a ll t he a ct io ns t ha t c om e i mm ed ia te ly b ef or e B h av e ES v al ue s a ss ig ne d , w e"
s et ES(B) t o b e t he m ax im um o f t he e ar li es t f in is h t im es o f t ho se i mm ed ia te ly p re ce di ng
"a ct io ns , w he re th ee ar li es tf in is ht im eo fa na ct io ni sd ef in ed a st he ea rl ie st st ar tt im ep lu st he"
d ur at io n . Th is p ro ce ss r ep ea ts u nt il e ve ry a ct io n h as b ee n a ss ig ne d a n ES v al ue . Th e LS
"v al ue sa re co mp ut ed i na si mi la rm an ne r ,w or ki ng ba ck wa rd fr om th e Fi ni sh a ct io n ."
"Th ec om pl ex it y o ft he cr it ic al p at ha lg or it hm i sj us t O(Nb),w he re N i st he nu mb er of"
"a ct io ns an db is th em ax im um br an ch in gf ac to ri nt oo ro ut of an ac ti on . (To se et hi s ,n ot et ha t"
"t he LS a nd ES c om pu ta ti on s a re d on e o nc e f or e ac h a ct io n , a nd e ac h c om pu ta ti on i te ra te s"
"o ve ra tm os tb ot he ra ct io ns .) Th er ef or e ,f in di ng am in im um-d ur at io ns ch ed ul e ,g iv en ap ar ti al"
"o rd er in g o nt he ac ti on sa nd no re so ur ce c on st ra in ts , i sq ui te ea sy ."
"Ma th em at ic al ly s pe ak in g , c ri ti ca l-p at h p ro bl em s a re ea sy t os ol ve be ca us e t he ya re de-"
f in ed a s a c on ju nc ti on o f l in ea r i ne qu al it ie s o n t he s ta rt a nd e nd t im es . Wh en w e i nt ro du ce
"r es ou rc e c on st ra in ts , t he r es ul ti ng c on st ra in ts o n s ta rt a nd e nd t im es b ec om e m or e c om pl i-"
"c at ed . Fo r e xa mp le , t he Ad d En gi ne a ct io ns , w hi ch b eg in a t t he s am e t im e i n Fi gu re 11.2,"
"Se ct io n 11.1. Ti me ,Sc he du le s , a nd Re so ur ce s 405"
En gi ne Ho is ts(1) Ad d En gi ne 1 Ad d En gi ne 2
Wh ee l St at io ns(1) Ad d Wh ee ls 1 Ad d Wh ee ls 2
In sp ec t 1
In sp ec to rs(2)
In sp ec t 2
0 10 20 30 40 50 60 70 80 90 100 110 120
"Fi gu re 11.3 As ol ut io nt ot he jo b-s ho ps ch ed ul in gp ro bl em fr om Fi gu re 11.1,t ak in gi nt o"
"a cc ou nt r es ou rc e c on st ra in ts . Th e l ef t-h an d m ar gi n l is ts t he t hr ee r eu sa bl e r es ou rc es , a nd"
a ct io ns a re s ho wn a li gn ed h or iz on ta ll y w it h t he r es ou rc es t he y u se . Th er e a re t wo p os si-
"b le s ch ed ul es , d ep en di ng o n w hi ch a ss em bl y u se s t he e ng in e h oi st f ir st ; w e’v e s ho wn t he"
"s ho rt es t-d ur at io ns ol ut io n ,w hi ch ta ke s 115 m in ut es ."
r eq ui re t he s am e En gi ne Ho is t a nd s o c an no t o ve rl ap . Th e “c an no t o ve rl ap” c on st ra in t i s a
"d is ju nc ti on o f t wo l in ea r i ne qu al it ie s , o ne f or e ac h p os si bl e o rd er in g . Th e i nt ro du ct io n o f"
d is ju nc ti on s t ur ns ou tt om ak es ch ed ul in g w it hr es ou rc ec on st ra in ts NP-h ar d .
"Fi gu re 11.3 s ho ws t he s ol ut io n w it h t he f as te st c om pl et io n t im e , 115 m in ut es . Th is i s"
30 m in ut es l on ge r t ha n t he 85 m in ut es r eq ui re d f or a s ch ed ul e w it ho ut r es ou rc e c on st ra in ts .
"No ti ce t ha t t he re i s n o t im e a t w hi ch b ot h i ns pe ct or s a re r eq ui re d , s o w e c an i mm ed ia te ly"
m ov eo ne of ou rt wo in sp ec to rs t oa mo re pr od uc ti ve p os it io n .
Th e c om pl ex it y o f s ch ed ul in g w it h r es ou rc e c on st ra in ts i s o ft en s ee n i n p ra ct ic e a s
w el l a s i n t he or y . A c ha ll en ge p ro bl em p os ed i n 1963—t o f in d t he o pt im al s ch ed ul e f or a
p ro bl em i nv ol vi ng j us t 10 m ac hi ne s a nd 10 j ob s o f 100 a ct io ns e ac h—w en t u ns ol ve d f or
"23 y ea rs (La wl er e t a l ., 1993). Ma ny a pp ro ac he s h av e b ee n t ri ed , i nc lu di ng b ra nc h-a nd-"
"b ou nd , s im ul at ed a nn ea li ng , t ab u s ea rc h , c on st ra in t s at is fa ct io n , a nd o th er t ec hn iq ue s f ro m"
Ch ap te rs 3 a nd 4. On e s im pl e b ut p op ul ar h eu ri st ic i s t he m in im um s la ck a lg or it hm: o n
MINIMUMSLACK
"e ac h i te ra ti on , s ch ed ul e f or t he e ar li es t p os si bl e s ta rt w hi ch ev er u ns ch ed ul ed a ct io n h as a ll"
i ts pr ed ec es so rs s ch ed ul ed a nd ha st he le as ts la ck ;t he nu pd at et he ES a nd LS t im es fo re ac h
a ff ec te d a ct io n a nd r ep ea t . Th e h eu ri st ic r es em bl es t he m in im um-r em ai ni ng-v al ue s (MRV)
"h eu ri st ic i n c on st ra in t s at is fa ct io n . It o ft en w or ks w el l i n p ra ct ic e , b ut f or o ur a ss em bl y"
"p ro bl em i ty ie ld sa 130–m in ut e s ol ut io n , n ot th e 115–m in ut e s ol ut io n o f Fi gu re 11.3."
"Up t o t hi s p oi nt , w e h av e a ss um ed t ha t t he s et o f a ct io ns a nd o rd er in g c on st ra in ts i s"
"f ix ed . Un de rt he se as su mp ti on s ,e ve ry sc he du li ng pr ob le mc an be so lv ed by an on ov er la pp in g"
"s eq ue nc e t ha t a vo id s a ll r es ou rc e c on fl ic ts , p ro vi de d t ha t e ac h a ct io n i s f ea si bl e b y i ts el f . If"
"a s ch ed ul in g p ro bl em i s p ro vi ng v er y d if fi cu lt , h ow ev er , i t m ay n ot b e a g oo d i de a t o s ol ve"
"i tt hi s w ay—i tm ay be be tt er t or ec on si de r t he ac ti on s a nd c on st ra in ts , i n c as et ha t l ea ds t o a"
"m uc h e as ie r s ch ed ul in g p ro bl em . Th us , i t m ak es s en se t o i nt eg ra te p la nn in g a nd s ch ed ul in g"
b yt ak in gi nt oa cc ou nt d ur at io ns a nd ov er la ps du ri ng t he co ns tr uc ti on o fa pa rt ia l-o rd er p la n .
Se ve ra lo ft he pl an ni ng al go ri th ms in Ch ap te r 10 c an be au gm en te dt oh an dl et hi si nf or ma ti on .
"Fo r e xa mp le , p ar ti al-o rd er p la nn er s c an d et ec t r es ou rc e c on st ra in t v io la ti on s i n m uc h t he"
s am e w ay t he y d et ec t c on fl ic ts w it h c au sa l l in ks . He ur is ti cs c an b e d ev is ed t o e st im at e t he
t ot al co mp le ti on t im eo fa pl an . Th is is cu rr en tl y a na ct iv ea re ao fr es ea rc h .
406 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
11.2 HIERARCHICAL PLANNING
Th ep ro bl em-s ol vi ng a nd pl an ni ng me th od so ft he pr ec ed in gc ha pt er sa ll op er at ew it ha fi xe d
s et o f a to mi c a ct io ns . Ac ti on s c an b e s tr un g t og et he r i nt o s eq ue nc es o rb ra nc hi ng n et wo rk s ;
s ta te-o f-t he-a rt a lg or it hm s c an ge ne ra te s ol ut io ns c on ta in in g t ho us an ds o fa ct io ns .
"Fo rp la ns e xe cu te d b y t he h um an b ra in , a to mi c a ct io ns a re m us cl e a ct iv at io ns . In v er y"
"r ou nd n um be rs , w e h av e a bo ut 103 m us cl es t o a ct iv at e (639, b y s om e c ou nt s , b ut m an y o f"
t he mh av em ul ti pl e s ub un it s); w ec an mo du la te th ei ra ct iv at io n p er ha ps 10 t im es pe rs ec on d ;
"a nd w e a re a li ve a nd a wa ke f or a bo ut 109 s ec on ds i n a ll . Th us , a h um an l if e c on ta in s a bo ut"
"1013 a ct io ns , g iv e o r t ak e o ne o r t wo o rd er s o f m ag ni tu de . Ev en i f w e r es tr ic t o ur se lv es t o"
"p la nn in g o ve rm uc hs ho rt er t im eh or iz on s—f or e xa mp le , a tw o-w ee kv ac at io n i n Ha wa ii—a"
d et ai le d m ot or pl an wo ul dc on ta in ar ou nd 1010 a ct io ns . Th is is al ot mo re th an 1000.
"To br id ge th is ga p ,AIs ys te ms wi ll pr ob ab ly ha ve to do wh at hu ma ns ap pe ar to do: p la n"
a t h ig he r l ev el s o f a bs tr ac ti on . A r ea so na bl e p la n f or t he Ha wa ii v ac at io n m ig ht b e “Go t o
Sa n Fr an ci sc oa ir po rt ;t ak e Ha wa ii an Ai rl in es fl ig ht 11 t o Ho no lu lu ;d ov ac at io ns tu ff fo rt wo
"w ee ks ;t ak e Ha wa ii an Ai rl in es fl ig ht 12 b ac kt o Sa n Fr an ci sc o ;g oh om e .” Gi ve ns uc ha pl an ,"
"t he a ct io n “Go t o Sa n Fr an ci sc o a ir po rt” c an b e v ie we d a s a p la nn in g t as k i n i ts el f , w it h a"
s ol ut io n s uc h a s “Dr iv e t o t he l on g-t er m p ar ki ng l ot ; p ar k ; t ak e t he s hu tt le t o t he t er mi na l .”
"Ea ch of th es e a ct io ns , i nt ur n , c an be de co mp os ed f ur th er , u nt il w er ea ch t he le ve lo fa ct io ns"
t ha tc an be ex ec ut ed wi th ou td el ib er at io n t og en er at et he re qu ir ed m ot or co nt ro ls eq ue nc es .
"In t hi s e xa mp le , w e s ee t ha t p la nn in g c an o cc ur b ot h b ef or e a nd d ur in g t he e xe cu ti on"
"o f t he p la n ; f or e xa mp le , o ne w ou ld p ro ba bl y d ef er t he p ro bl em o f p la nn in g a r ou te f ro m a"
p ar ki ng s po t i n l on g-t er m p ar ki ng t o t he s hu tt le b us s to p u nt il a p ar ti cu la r p ar ki ng s po t h as
"b ee n f ou nd d ur in g e xe cu ti on . Th us , t ha t p ar ti cu la r a ct io n w il l r em ai n a t a n a bs tr ac t l ev el"
"p ri or t o t he e xe cu ti on p ha se . We d ef er d is cu ss io n o f t hi s t op ic u nt il Se ct io n 11.3. He re , w e"
"HIERARCHICAL c on ce nt ra te o n t he a sp ec t o f h ie ra rc hi ca l d ec om po si ti on , a n i de a t ha t p er va de s a lm os t a ll"
DECOMPOSITION
"a tt em pt s t o m an ag e c om pl ex it y . Fo re xa mp le , c om pl ex s of tw ar e i s c re at ed f ro m a h ie ra rc hy"
o fs ub ro ut in es o ro bj ec tc la ss es ;a rm ie so pe ra te as ah ie ra rc hy of un it s ;g ov er nm en ts an dc or-
"p or at io ns h av e h ie ra rc hi es o f d ep ar tm en ts , s ub si di ar ie s , a nd b ra nc h o ff ic es . Th e k ey b en ef it"
"o f h ie ra rc hi ca l s tr uc tu re i s t ha t , a t e ac h l ev el o f t he h ie ra rc hy , a c om pu ta ti on al t as k , m il it ar y"
"m is si on ,o ra dm in is tr at iv ef un ct io ni sr ed uc ed to as ma ll nu mb er of ac ti vi ti es at th en ex tl ow er"
"l ev el , s o t he c om pu ta ti on al c os t o f f in di ng t he c or re ct w ay t o a rr an ge t ho se a ct iv it ie s f or t he"
"c ur re nt p ro bl em i s s ma ll . No nh ie ra rc hi ca l m et ho ds , o n t he o th er h an d , r ed uc e a t as k t o a"
"l ar ge nu mb er of in di vi du al a ct io ns ; f or la rg e-s ca le p ro bl em s ,t hi si sc om pl et el y i mp ra ct ic al ."
11.2.1 Hi gh-l ev el ac ti on s
Th eb as ic fo rm al is mw ea do pt to un de rs ta nd hi er ar ch ic al de co mp os it io nc om es fr om th ea re a
"HIERARCHICALTASK o f h ie ra rc hi ca l t as k n et wo rk so r HTNp la nn in g . As in c la ss ic al p la nn in g (Ch ap te r 10), w e"
NETWORK
"a ss um ef ul lo bs er va bi li ty a nd de te rm in is m a nd th ea va il ab il it y o fa se to fa ct io ns , n ow ca ll ed"
"p ri mi ti ve ac ti on s ,w it hs ta nd ar dp re co nd it io n–e ff ec t s ch em as . Th ek ey ad di ti on al c on ce pt is"
PRIMITIVEACTION
"t he h ig h-l ev el ac ti on o r HLA—f or ex am pl e , t he ac ti on “Go to Sa n Fr an ci sc o a ir po rt” i nt he"
HIGH-LEVELACTION
Se ct io n 11.2. Hi er ar ch ic al Pl an ni ng 407
"Re fi ne me nt(Go(Ho me ,SFO),"
"STEPS:[Dr iv e(Ho me ,SFOLo ng Te rm Pa rk in g),"
"Sh ut tl e(SFOLo ng Te rm Pa rk in g ,SFO)])"
"Re fi ne me nt(Go(Ho me ,SFO),"
"STEPS:[Ta xi(Ho me ,SFO)])"
"Re fi ne me nt(Na vi ga te([a ,b],[x ,y]),"
PRECOND:a=x ∧ b=y
STEPS:[])
"Re fi ne me nt(Na vi ga te([a ,b],[x ,y]),"
"PRECOND:Co nn ec te d([a ,b],[a−1,b])"
"STEPS:[Le ft ,Na vi ga te([a−1,b],[x ,y])])"
"Re fi ne me nt(Na vi ga te([a ,b],[x ,y]),"
"PRECOND:Co nn ec te d([a ,b],[a+1,b])"
"STEPS:[Ri gh t ,Na vi ga te([a+1,b],[x ,y])])"
...
Fi gu re 11.4 De fi ni ti on so fp os si bl er ef in em en ts fo rt wo hi gh-l ev el ac ti on s: g oi ng to Sa n
"Fr an ci sc oa ir po rt an dn av ig at in gi nt he v ac uu mw or ld . In th e l at te rc as e , n ot et he r ec ur si ve"
n at ur eo ft he re fi ne me nt sa nd th eu se of pr ec on di ti on s .
"e xa mp le g iv en e ar li er . Ea ch HLA h as o ne o r m or e p os si bl e r ef in em en ts , i nt o a s eq ue nc e 1"
REFINEMENT
"o f a ct io ns , e ac h o f w hi ch m ay b e a n HLA o r a p ri mi ti ve a ct io n (w hi ch h as n o r ef in em en ts"
"b y d ef in it io n). Fo r e xa mp le , t he a ct io n “Go t o Sa n Fr an ci sc o a ir po rt ,” r ep re se nt ed f or ma ll y"
"a s Go(Ho me ,SFO), m ig ht h av e t wo p os si bl e r ef in em en ts , a s s ho wn i n Fi gu re 11.4. Th e"
s am e f ig ur e s ho ws a r ec ur si ve r ef in em en t f or n av ig at io n i n t he v ac uu m w or ld: t o g et t o a
"d es ti na ti on , t ak ea st ep ,a nd th en go to th ed es ti na ti on ."
Th es ee xa mp le ss ho w t ha th ig h-l ev el a ct io ns a nd th ei rr ef in em en ts e mb od y k no wl ed ge
"a bo ut ho wt od ot hi ng s . Fo ri ns ta nc e , t he re fi ne me nt s f or Go(Ho me ,SFO)s ay th at to ge tt o"
"t he a ir po rt y ou c an d ri ve o rt ak e a ta xi ; b uy in g m il k , s it ti ng d ow n , a nd m ov in g t he k ni gh t t o"
e 4 a re no tt ob ec on si de re d .
An HLA r ef in em en t t ha t c on ta in s o nl y p ri mi ti ve a ct io ns i s c al le d a n i mp le me nt at io n
IMPLEMENTATION
"o f t he HLA . Fo r e xa mp le , i n t he v ac uu m w or ld , t he s eq ue nc es [Ri gh t ,Ri gh t ,Do wn] a nd"
"[Do wn ,Ri gh t ,Ri gh t]b ot h i mp le me nt t he HLANa vi ga te([1,3],[3,2]). An im pl em en ta ti on"
o f a h ig h-l ev el p la n (a s eq ue nc e o f HLAs) i s t he c on ca te na ti on o f i mp le me nt at io ns o f e ac h
"HLAi nt he se qu en ce . Gi ve nt he pr ec on di ti on–e ff ec t d ef in it io ns of ea ch pr im it iv ea ct io n ,i ti s"
s tr ai gh tf or wa rd t od et er mi ne wh et he ra ny gi ve ni mp le me nt at io no fa hi gh-l ev el pl an ac hi ev es
"t he g oa l . We c an s ay , t he n , t ha t a h ig h-l ev el p la n a ch ie ve s t he g oa l f ro m a g iv en s ta te i f a t"
l ea st o ne o fi ts im pl em en ta ti on s a ch ie ve s t he g oa l f ro m t ha t s ta te . Th e“a tl ea st o ne” i n t hi s
"d ef in it io ni sc ru ci al—n ot al li mp le me nt at io ns ne ed to ac hi ev et he go al ,b ec au se th ea ge nt ge ts"
"1 HTN p la nn er s o ft en a ll ow r ef in em en t i nt o p ar ti al ly o rd er ed p la ns , a nd t he y a ll ow t he r ef in em en ts o f t wo"
d if fe re nt HLAs in ap la nt os ha re ac ti on s .We om it th es ei mp or ta nt co mp li ca ti on si nt he in te re st of un de rs ta nd in g
t he ba si cc on ce pt so fh ie ra rc hi ca lp la nn in g .
408 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"t od ec id ew hi ch im pl em en ta ti on i tw il le xe cu te . Th us ,t he se to fp os si bl e i mp le me nt at io ns i n"
HTN p la nn in g—e ac h o f w hi ch m ay h av e a d if fe re nt o ut co me—i s n ot t he s am e a s t he s et o f
"p os si bl e o ut co me s i nn on de te rm in is ti c p la nn in g . Th er e , w e r eq ui re d t ha t a pl an w or k f or a ll"
o ut co me sb ec au se t he ag en td oe sn’t g et to ch oo se th eo ut co me ;n at ur ed oe s .
"Th e s im pl es t c as e i s a n HLA t ha t h as e xa ct ly o ne i mp le me nt at io n . In t ha t c as e , w e"
c an c om pu te t he p re co nd it io ns a nd e ff ec ts o f t he HLA f ro m t ho se o f t he i mp le me nt at io n
(s ee Ex er ci se 11.3) a nd t he n t re at t he HLA e xa ct ly a s i f i t w er e a p ri mi ti ve a ct io n i ts el f . It
c an b e s ho wn t ha t t he r ig ht c ol le ct io n o f HLAs c an r es ul t i n t he t im e c om pl ex it y o f b li nd
"s ea rc h d ro pp in g f ro m e xp on en ti al i n t he s ol ut io n d ep th t o l in ea r i n t he s ol ut io n d ep th , a l-"
t ho ug h d ev is in g s uc h a c ol le ct io n o f HLAs m ay b e a n on tr iv ia l t as k i n i ts el f . Wh en HLAs
"h av e m ul ti pl e p os si bl e i mp le me nt at io ns , t he re a re t wo o pt io ns: o ne i s t o s ea rc h a mo ng t he"
"i mp le me nt at io ns f or on et ha tw or ks ,a si n Se ct io n 11.2.2;t he ot he ri st or ea so nd ir ec tl ya bo ut"
t he HLAs—d es pi te th em ul ti pl ic it yo fi mp le me nt at io ns—a s e xp la in ed in Se ct io n 11.2.3. Th e
"l at te r m et ho d e na bl es t he d er iv at io n o f p ro va bl y c or re ct a bs tr ac t p la ns , w it ho ut t he n ee d t o"
c on si de rt he ir im pl em en ta ti on s .
11.2.2 Se ar ch in g f or pr im it iv es ol ut io ns
"HTNp la nn in gi so ft en fo rm ul at ed wi th as in gl e“t op le ve l”a ct io nc al le d Ac t ,w he re th ea im is"
t of in da ni mp le me nt at io no f Ac tt ha ta ch ie ve st he go al . Th is ap pr oa ch is en ti re ly ge ne ra l . Fo r
"e xa mp le ,c la ss ic al pl an ni ng p ro bl em sc an be de fi ne da sf ol lo ws: f or ea ch pr im it iv ea ct io n a ,"
i
"p ro vi de o ne r ef in em en t o f Ac t w it h s te ps [a ,Ac t]. Th at c re at es a r ec ur si ve d ef in it io n o f Ac t"
i
t ha tl et su sa dd ac ti on s . Bu tw en ee ds om ew ay to st op th er ec ur si on ;w ed ot ha tb yp ro vi di ng
"o ne m or e r ef in em en t f or Ac t , o ne w it h a n e mp ty l is t o f s te ps a nd w it h a p re co nd it io n e qu al"
"t o t he g oa l o f t he p ro bl em . Th is s ay s t ha t i f t he g oa l i s a lr ea dy a ch ie ve d , t he n t he r ig ht"
i mp le me nt at io n i st od on ot hi ng .
Th e a pp ro ac h l ea ds t o a s im pl e a lg or it hm: r ep ea te dl y c ho os e a n HLA i n t he c ur re nt
"p la na nd re pl ac e i tw it ho ne of it sr ef in em en ts , u nt il th ep la n a ch ie ve st he go al . On ep os si bl e"
i mp le me nt at io n b as ed o nb re ad th-f ir st t re es ea rc h i ss ho wn in Fi gu re 11.5. Pl an sa re co ns id-
"e re di no rd er of de pt h o fn es ti ng o ft he re fi ne me nt s , r at he rt ha nn um be ro fp ri mi ti ve st ep s . It"
i ss tr ai gh tf or wa rd t od es ig na gr ap h-s ea rc h v er si on of th ea lg or it hm a sw el la sd ep th-f ir st an d
i te ra ti ve de ep en in g v er si on s .
"In es se nc e ,t hi sf or mo fh ie ra rc hi ca ls ea rc he xp lo re st he sp ac eo fs eq ue nc es th at co nf or m"
t ot he kn ow le dg ec on ta in ed i nt he HLAl ib ra ry ab ou th ow th in gs ar et ob ed on e . Ag re at de al
"o fk no wl ed ge ca nb ee nc od ed ,n ot ju st in th ea ct io ns eq ue nc es sp ec if ie di ne ac hr ef in em en tb ut"
"a ls o i n t he p re co nd it io ns f or t he r ef in em en ts . Fo r s om e d om ai ns , HTN p la nn er s h av e b ee n"
"a bl e t o g en er at e h ug e p la ns w it h v er y l it tl e s ea rc h . Fo r e xa mp le , O-PLAN (Be ll a nd Ta te ,"
"1985),w hi ch co mb in es HTNp la nn in g w it hs ch ed ul in g , h as be en us ed to de ve lo pp ro du ct io n"
"p la ns f or Hi ta ch i . A t yp ic al p ro bl em i nv ol ve s a p ro du ct l in e o f 350 d if fe re nt p ro du ct s , 35"
"a ss em bl y m ac hi ne s , a nd o ve r 2000 d if fe re nt o pe ra ti on s . Th e p la nn er g en er at es a 30-d ay"
"s ch ed ul ew it ht hr ee 8-h ou rs hi ft sa da y ,i nv ol vi ng te ns of mi ll io ns of st ep s . An ot he ri mp or ta nt"
"a sp ec t o f HTN p la ns i s t ha t t he y a re , b y d ef in it io n , h ie ra rc hi ca ll y s tr uc tu re d ; u su al ly t hi s"
m ak es th em ea sy fo rh um an st ou nd er st an d .
Se ct io n 11.2. Hi er ar ch ic al Pl an ni ng 409
"f un ct io n HIERARCHICAL-SEARCH(p ro bl em ,h ie ra rc hy)r et ur ns as ol ut io n ,o rf ai lu re"
f ro nt ie r←a FIFOq ue ue wi th[Ac t]a st he on ly el em en t
l oo pd o
i f EMPTY ?(f ro nt ie r)t he nr et ur nf ai lu re
p la n←POP(f ro nt ie r) /*c ho os es th es ha ll ow es tp la ni nf ro nt ie r */
"h la←t he fi rs t HLAi np la n ,o rn ul l i fn on e"
"p re fi x ,s uf fi x←t he ac ti on su bs eq ue nc es be fo re an da ft er hl a i np la n"
"o ut co me←RESULT(p ro bl em .INITIAL-STATE ,p re fi x)"
i fh la i sn ul lt he n /*s op la n i sp ri mi ti ve an do ut co me i si ts re su lt*/
i fo ut co me s at is fi es pr ob le m .GOAL t he nr et ur np la n
"e ls ef or ea ch se qu en ce i n REFINEMENTS(h la ,o ut co me ,h ie ra rc hy)d o"
"f ro nt ie r←INSERT(APPEND(p re fi x ,s eq ue nc e ,s uf fi x),f ro nt ie r)"
Fi gu re 11.5 Ab re ad th-f ir st im pl em en ta ti on of hi er ar ch ic al fo rw ar dp la nn in gs ea rc h . Th e
i ni ti al p la n s up pl ie dt o t he a lg or it hm is [Ac t]. Th e REFINEMENTS f un ct io nr et ur ns a s et o f
"a ct io ns eq ue nc es ,o ne fo re ac hr ef in em en to ft he HLAw ho se pr ec on di ti on sa re sa ti sf ie d b y"
"t he sp ec if ie ds ta te ,o ut co me ."
Th e c om pu ta ti on al b en ef it s o f h ie ra rc hi ca l s ea rc h c an b e s ee n b y e xa mi ni ng a n i de-
a li ze d c as e . Su pp os e t ha t a p la nn in g p ro bl em h as a s ol ut io n w it h d p ri mi ti ve a ct io ns . Fo r
"a n on hi er ar ch ic al , f or wa rd s ta te-s pa ce p la nn er w it h b a ll ow ab le a ct io ns a t e ac h s ta te , t he"
"c os t i s O(b d), a s e xp la in ed i n Ch ap te r 3. Fo r a n HTN p la nn er , l et u s s up po se a v er y r eg-"
"u la r r ef in em en t s tr uc tu re: e ac h n on pr im it iv e a ct io n h as r p os si bl e r ef in em en ts , e ac h i nt o"
k a ct io ns a t t he n ex t l ow er l ev el . We w an t t o k no w h ow m an y d if fe re nt r ef in em en t t re es
"t he re a re w it h t hi s s tr uc tu re . No w , i f t he re a re d a ct io ns a t t he p ri mi ti ve l ev el , t he n t he"
"n um be r o f l ev el s b el ow t he r oo t i s l og d , s o t he n um be r o f i nt er na l r ef in em en t n od es i s"
k
1+k +k 2 +···+k lo gk d−1 = (d−1)/(k −1). Ea ch i nt er na l n od e h as r p os si bl e r ef in e-
"m en ts ,s or(d−1)/(k−1)"
p os si bl er eg ul ar de co mp os it io nt re es co ul db ec on st ru ct ed . Ex am in in g
"t hi s f or mu la , w e s ee t ha t k ee pi ng r s ma ll a nd k l ar ge c an r es ul t i n h ug e s av in gs: e ss en ti al ly"
"w ea re ta ki ng th ek th ro ot of th en on hi er ar ch ic al c os t ,i f b an dr a re co mp ar ab le . Sm al lr an d"
l ar ge k m ea ns a l ib ra ry o f HLAs w it h a s ma ll n um be r o f r ef in em en ts e ac h y ie ld in g a l on g
a ct io n s eq ue nc e (t ha t n on et he le ss a ll ow s u s t o s ol ve a ny p ro bl em). Th is i s n ot a lw ay s p os-
s ib le: l on g a ct io n s eq ue nc es t ha t a re u sa bl e a cr os s a w id e r an ge o f p ro bl em s a re e xt re me ly
p re ci ou s .
"Th ek ey to HTNp la nn in g , t he n , i st he c on st ru ct io n o fa pl an l ib ra ry c on ta in in g k no wn"
"m et ho ds f or i mp le me nt in g c om pl ex , h ig h-l ev el a ct io ns . On e m et ho d o f c on st ru ct in g t he l i-"
b ra ry i s t o l ea rn t he m et ho ds f ro m p ro bl em-s ol vi ng e xp er ie nc e . Af te r t he e xc ru ci at in g e x-
"p er ie nc e o f c on st ru ct in g a p la n f ro m s cr at ch , t he a ge nt c an s av e t he p la n i n t he l ib ra ry a s a"
"m et ho df or im pl em en ti ng th eh ig h-l ev el ac ti on de fi ne db yt he ta sk . In th is wa y ,t he ag en tc an"
b ec om em or ea nd mo re co mp et en to ve rt im ea sn ew me th od sa re bu il to nt op of ol dm et ho ds .
On e i mp or ta nt a sp ec t o f t hi s l ea rn in g p ro ce ss i s t he a bi li ty t o g en er al iz e t he m et ho ds t ha t
"a re c on st ru ct ed , e li mi na ti ng d et ai l t ha t i s s pe ci fi c t o t he p ro bl em i ns ta nc e (e .g ., t he n am e o f"
410 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
t he b ui ld er o r t he a dd re ss o f t he p lo t o f l an d) a nd k ee pi ng j us t t he k ey e le me nt s o f t he p la n .
Me th od sf or ac hi ev in gt hi sk in do fg en er al iz at io n a re de sc ri be d i n Ch ap te r 19. It se em st ou s
i nc on ce iv ab le t ha th um an sc ou ld be as co mp et en ta st he ya re wi th ou ts om es uc hm ec ha ni sm .
11.2.3 Se ar ch in g f or ab st ra ct so lu ti on s
Th eh ie ra rc hi ca ls ea rc ha lg or it hm in th ep re ce di ng se ct io n r ef in es HLAs al lt he wa yt op ri mi-
t iv ea ct io ns eq ue nc es to de te rm in ei fa pl an is wo rk ab le . Th is co nt ra di ct sc om mo ns en se: o ne
s ho ul db ea bl et od et er mi ne t ha tt he tw o-HLAh ig h-l ev el p la n
"[Dr iv e(Ho me ,SFOLo ng Te rm Pa rk in g),Sh ut tl e(SFOLo ng Te rm Pa rk in g ,SFO)]"
"g et s o ne t o t he a ir po rt w it ho ut h av in g t o d et er mi ne a p re ci se r ou te , c ho ic e o f p ar ki ng s po t ,"
"a nd so on . Th es ol ut io n s ee ms ob vi ou s: w ri te pr ec on di ti on–e ff ec t d es cr ip ti on s o ft he HLAs ,"
"j us t a s w e w ri te d ow n w ha t t he p ri mi ti ve a ct io ns d o . Fr om t he d es cr ip ti on s , i t o ug ht t o b e"
"e as yt op ro ve th at th eh ig h-l ev el p la na ch ie ve s t he go al . Th is is th eh ol yg ra il ,s ot os pe ak , o f"
"h ie ra rc hi ca l p la nn in g b ec au se i f w ed er iv e a hi gh-l ev el p la n t ha t p ro va bl y a ch ie ve s t he g oa l ,"
"w or ki ng i n a s ma ll s ea rc h s pa ce o f h ig h-l ev el a ct io ns , t he n w e c an c om mi t t o t ha t p la n a nd"
w or ko nt he pr ob le mo fr ef in in ge ac hs te po ft he pl an . Th is gi ve su st he ex po ne nt ia lr ed uc ti on
"w e s ee k . Fo r t hi s t o w or k , i t h as t o b e t he c as e t ha t e ve ry h ig h-l ev el p la n t ha t “c la im s” t o"
a ch ie ve t he g oa l (b y v ir tu e o f t he d es cr ip ti on s o f i ts s te ps) d oe s i n f ac t a ch ie ve t he g oa l i n
t he se ns ed ef in ed ea rl ie r: i tm us th av ea tl ea st on ei mp le me nt at io n t ha td oe sa ch ie ve th eg oa l .
DOWNWARD
Th is pr op er ty h as be en ca ll ed th e d ow nw ar dr ef in em en tp ro pe rt yf or HLAd es cr ip ti on s .
REFINEMENT
PROPERTY
"Wr it in g HLA d es cr ip ti on s t ha t s at is fy t he d ow nw ar d r ef in em en t p ro pe rt y i s , i n p ri nc i-"
"p le ,e as y: a sl on ga st he de sc ri pt io ns a re t ru e ,t he na ny hi gh-l ev el p la nt ha tc la im st oa ch ie ve"
"t he g oa l m us t i n f ac t d o s o—o th er wi se , t he d es cr ip ti on s a re m ak in g s om e f al se c la im a bo ut"
w ha tt he HLAs do . We ha ve a lr ea dy s ee n h ow to w ri te tr ue d es cr ip ti on s f or HLAs th at ha ve
e xa ct ly o ne i mp le me nt at io n (Ex er ci se 11.3); a p ro bl em a ri se s w he n t he HLA h as m ul ti pl e
i mp le me nt at io ns . Ho w c an w e d es cr ib e t he e ff ec ts o f a n a ct io n t ha t c an b e i mp le me nt ed i n
m an yd if fe re nt w ay s ?
On es af ea ns we r(a tl ea st fo rp ro bl em sw he re al lp re co nd it io ns an dg oa ls ar ep os it iv e)i s
t oi nc lu de on ly th ep os it iv ee ff ec ts th at ar ea ch ie ve db ye ve ry im pl em en ta ti on of th e HLAa nd
t he n eg at iv e e ff ec ts o f a ny i mp le me nt at io n . Th en t he d ow nw ar d r ef in em en t p ro pe rt y w ou ld
"b es at is fi ed . Un fo rt un at el y ,t hi ss em an ti cs fo r HLAs is mu ch to oc on se rv at iv e . Co ns id er ag ai n"
"t he HLA Go(Ho me ,SFO), w hi ch h as t wo r ef in em en ts , a nd s up po se , f or t he s ak e o f a rg u-"
"m en t ,a si mp le wo rl di nw hi ch on ec an al wa ys dr iv et ot he ai rp or t a nd pa rk , b ut ta ki ng a ta xi"
"r eq ui re s Ca sh a s a p re co nd it io n . In t ha t c as e , Go(Ho me ,SFO) d oe sn’t a lw ay s g et y ou t o"
"t he ai rp or t . In pa rt ic ul ar , i tf ai ls if Ca sh i sf al se ,a nd so we ca nn ot as se rt At(Ag en t ,SFO)a s"
"a ne ff ec to ft he HLA .Th is ma ke sn os en se , h ow ev er ;i ft he ag en td id n’t h av e Ca sh ,i tw ou ld"
d ri ve it se lf . Re qu ir in gt ha ta ne ff ec th ol df or e ve ry im pl em en ta ti on i se qu iv al en t t oa ss um in g
t ha t s om eo ne e ls e—a n a dv er sa ry—w il l c ho os e t he i mp le me nt at io n . It tr ea ts t he HLA’s mu l-
"t ip le o ut co me s e xa ct ly a si ft he HLAw er ea no nd et er mi ni st ic ac ti on , a si n Se ct io n 4.3. Fo r"
"o ur ca se ,t he ag en ti ts el fw il lc ho os et he im pl em en ta ti on ."
Th e p ro gr am mi ng l an gu ag es c om mu ni ty h as c oi ne d t he t er m d em on ic n on de te rm in-
"DEMONIC i sm fo rt he ca se wh er ea na dv er sa ry m ak es th ec ho ic es , c on tr as ti ng t hi sw it ha ng el ic no nd e-"
NONDETERMINISM
Se ct io n 11.2. Hi er ar ch ic al Pl an ni ng 411
(a) (b)
Fi gu re 11.6 Sc he ma ti ce xa mp le so fr ea ch ab le se ts . Th es et of go al st at es is sh ad ed .Bl ac k
"a nd gr ay ar ro ws in di ca te po ss ib le im pl em en ta ti on so fh a nd h ,r es pe ct iv el y .(a)Th er ea ch-"
1 2
"a bl es et of an HLAh i na st at es . (b)Th er ea ch ab le se tf or th es eq ue nc e[h ,h ]. Be ca us e"
1 1 2
"t hi si nt er se ct st he go al se t ,t he se qu en ce ac hi ev es th eg oa l ."
"ANGELIC t er mi ni sm , w he re th e a ge nt i ts el f m ak es t he c ho ic es . We bo rr ow t hi s t er m t o d ef in ea ng el ic"
NONDETERMINISM
s em an ti cs f or HLA d es cr ip ti on s . Th e b as ic c on ce pt r eq ui re d f or u nd er st an di ng a ng el ic s e-
ANGELICSEMANTICS
"m an ti cs i s t he r ea ch ab le s et o f a n HLA: g iv en a s ta te s , t he r ea ch ab le s et f or a n HLA h ,"
REACHABLESET
"w ri tt en a s REACH(s ,h), i s t he s et o f s ta te s r ea ch ab le b y a ny o f t he HLA’s im pl em en ta ti on s ."
Th e k ey i de a i s t ha t t he a ge nt c an c ho os e w hi ch e le me nt o f t he r ea ch ab le s et i t e nd s u p i n
"w he ni te xe cu te s t he HLA ;t hu s , a n HLAw it hm ul ti pl e r ef in em en ts i sm or e“p ow er fu l” t ha n"
t he sa me HLAw it hf ew er re fi ne me nt s . We ca na ls od ef in et he re ac ha bl es et of as eq ue nc es of
"HLAs . Fo re xa mp le ,t he re ac ha bl e s et of as eq ue nc e [h ,h ]i st he un io no fa ll th er ea ch ab le"
1 2
s et so bt ai ne d b ya pp ly in gh i ne ac hs ta te in th er ea ch ab le s et of h :
2 (c id:15) 1
(c id:2)
"REACH(s ,[h 1,h 2])= REACH(s ,h 2)."
"s(c id:3)∈REACH(s ,h 1)"
"Gi ve n t he se d ef in it io ns , a h ig h-l ev el p la n—a s eq ue nc e o f HLAs—a ch ie ve s t he g oa l i f i ts"
r ea ch ab le s et i nt er se ct s t he s et o f g oa l s ta te s . (Co mp ar e t hi s t o t he m uc h s tr on ge r c on di ti on
"f or d em on ic s em an ti cs , w he re e ve ry m em be r o f t he r ea ch ab le s et h as t o b e a g oa l s ta te .)"
"Co nv er se ly , i f t he r ea ch ab le s et d oe sn’t i nt er se ct t he g oa l , t he n t he p la n d ef in it el y d oe sn’t"
w or k . Fi gu re 11.6 i ll us tr at es t he se id ea s .
Th e n ot io n o f r ea ch ab le s et s y ie ld s a s tr ai gh tf or wa rd a lg or it hm: s ea rc h a mo ng h ig h-
"l ev el p la ns , l oo ki ng f or o ne w ho se r ea ch ab le s et i nt er se ct s t he g oa l ; o nc e t ha t h ap pe ns , t he"
"a lg or it hm c an c om mi t t o t ha t a bs tr ac t p la n , k no wi ng t ha t i t w or ks , a nd f oc us o n r ef in in g"
"t he p la n f ur th er . We w il l c om e b ac k t o t he a lg or it hm ic i ss ue s l at er ; f ir st , w e c on si de r t he"
q ue st io n o fh ow th ee ff ec ts o fa n HLA—t he re ac ha bl e s et fo re ac hp os si bl e i ni ti al st at e—a re
"r ep re se nt ed . As w it h t he c la ss ic al a ct io n s ch em as o f Ch ap te r 10, w e r ep re se nt t he c ha ng es"
412 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
m ad et oe ac hf lu en t . Th in ko fa fl ue nt as as ta te va ri ab le . Ap ri mi ti ve ac ti on ca na dd or de le te
a v ar ia bl e o r l ea ve i t u nc ha ng ed . (Wi th c on di ti on al e ff ec ts (s ee Se ct io n 11.3.1) t he re i s a
f ou rt hp os si bi li ty: f li pp in ga va ri ab le to it so pp os it e .)
"An HLA u nd er a ng el ic s em an ti cs c an d o m or e: i t c an c on tr ol t he v al ue o f a v ar ia bl e ,"
"s et ti ng i tt ot ru eo rf al se d ep en di ng o nw hi ch im pl em en ta ti on i sc ho se n . In fa ct , a n HLAc an"
"h av e n in e d if fe re nt e ff ec ts o n a v ar ia bl e: i f t he v ar ia bl e s ta rt s o ut t ru e , i t c an a lw ay s k ee p"
"i t t ru e , a lw ay s m ak e i t f al se , o r h av e a c ho ic e ; i f t he v ar ia bl e s ta rt s o ut f al se , i t c an a lw ay s"
"k ee p i t f al se , a lw ay s m ak e i t t ru e , o r h av e a c ho ic e ; a nd t he t hr ee c ho ic es f or e ac h c as e c an"
"b ec om bi ne d a rb it ra ri ly , m ak in g n in e . No ta ti on al ly , t hi s i sa bi tc ha ll en gi ng . We’l lu se th e (c id:23)"
(c id:23)
"s ym bo lt om ea n“p os si bl y , i ft he ag en ts oc ho os es .” Th us ,a ne ff ec t+Am ea ns“p os si bl y a dd"
"A ,” t ha t i s , e it he r l ea ve Au nc ha ng ed o rm ak e i t t ru e . Si mi la rl y ,"
−(c id:23)
A m ea ns “p os si bl y d el et e
A” a nd
±(c id:23)
"A m ea ns “p os si bl y a dd o r d el et e A .” Fo r e xa mp le , t he HLA Go(Ho me ,SFO),"
"w it ht he tw or ef in em en ts sh ow ni n Fi gu re 11.4,p os si bl yd el et es Ca sh (i ft he ag en td ec id es to"
"t ak e a ta xi), s oi ts ho ul d h av et he e ff ec t"
−(c id:23)
"Ca sh . Th us , w es ee th at t he de sc ri pt io ns o f HLAs"
"a re de ri va bl e ,i np ri nc ip le ,f ro mt he de sc ri pt io ns of th ei rr ef in em en ts—i nf ac t ,t hi si sr eq ui re d"
"i f w ew an tt ru e HLAd es cr ip ti on s , s uc h t ha t t he d ow nw ar d r ef in em en t p ro pe rt y h ol ds . No w ,"
s up po se w eh av et he fo ll ow in gs ch em as fo rt he HLAs h a nd h :
1 2
Ac ti on(h
"1,PRECOND:¬A ,EFFECT:A∧−(c id:23)"
"B),"
Ac ti on(h
"2,PRECOND:¬B ,EFFECT:+(c id:23) A∧±(c id:23)"
C).
"Th at is ,h a dd s Aa nd po ss ib le de le te s B ,w hi le h p os si bl ya dd s Aa nd ha sf ul lc on tr ol ov er"
1 2
"C . No w ,i fo nl y B i st ru ei nt he in it ia l s ta te an dt he go al is A∧C t he nt he se qu en ce [h ,h ]"
1 2
"a ch ie ve s t he g oa l: w e c ho os e a n i mp le me nt at io n o f h t ha t m ak es B f al se , t he n c ho os e a n"
1
i mp le me nt at io n o fh t ha tl ea ve s At ru ea nd ma ke s C t ru e .
2
Th e p re ce di ng d is cu ss io n a ss um es t ha t t he e ff ec ts o f a n HLA—t he r ea ch ab le s et f or
a ny gi ve ni ni ti al s ta te—c an b ed es cr ib ed e xa ct ly by de sc ri bi ng t he ef fe ct o ne ac hv ar ia bl e . It
"w ou ld b e n ic e i f t hi s w er e a lw ay s t ru e , b ut i n m an y c as es w e c an o nl y a pp ro xi ma te t he e f-"
f ec ts be ca us ea n HLAm ay ha ve in fi ni te ly ma ny im pl em en ta ti on sa nd ma yp ro du ce ar bi tr ar il y
w ig gl y r ea ch ab le s et s—r at he r l ik e t he w ig gl y-b el ie f-s ta te p ro bl em i ll us tr at ed i n Fi gu re 7.21
"o n p ag e 271. Fo r e xa mp le , w e s ai d t ha t Go(Ho me ,SFO) p os si bl y d el et es Ca sh ; i t a ls o"
"p os si bl y a dd s At(Ca r ,SFOLo ng Te rm Pa rk in g); b ut i t c an no t d o b ot h—i n f ac t , i t m us t d o"
"e xa ct ly o ne . As w it h b el ie f s ta te s , w e m ay n ee d t o w ri te a pp ro xi ma te d es cr ip ti on s . We wi ll"
"OPTIMISTIC u se tw ok in ds of ap pr ox im at io n: a no pt im is ti cd es cr ip ti on REACH+(s ,h)o fa n HLAh ma y"
DESCRIPTION
−
"PESSIMISTIC o ve rs ta te t he r ea ch ab le s et , w hi le a p es si mi st ic d es cr ip ti on REACH (s ,h) m ay u nd er st at e"
DESCRIPTION
"t he re ac ha bl e s et . Th us ,w eh av e"
"REACH− (s ,h) ⊆ REACH(s ,h) ⊆ REACH+(s ,h)."
"Fo re xa mp le ,a no pt im is ti cd es cr ip ti on of Go(Ho me ,SFO)s ay st ha ti tp os si bl ed el et es Ca sh"
"a nd p os si bl y a dd s At(Ca r ,SFOLo ng Te rm Pa rk in g). An ot he r g oo d e xa mp le a ri se s i n t he"
"8-p uz zl e , h al f o f w ho se s ta te s a re u nr ea ch ab le f ro m a ny g iv en s ta te (s ee Ex er ci se 3.4 o n"
"p ag e 113): t he o pt im is ti c d es cr ip ti on o f Ac t m ig ht w el l i nc lu de t he w ho le s ta te s pa ce , s in ce"
t he ex ac tr ea ch ab le s et is qu it ew ig gl y .
"Wi th a pp ro xi ma te d es cr ip ti on s , t he t es t f or w he th er a p la n a ch ie ve s t he g oa l n ee ds t o"
"b e m od if ie d s li gh tl y . If t he o pt im is ti c r ea ch ab le s et f or t he p la n d oe sn’t i nt er se ct t he g oa l ,"
Se ct io n 11.2. Hi er ar ch ic al Pl an ni ng 413
(a) (b)
Fi gu re 11.7 Go al a ch ie ve me nt fo r h ig h-l ev el pl an s w it h a pp ro xi ma te d es cr ip ti on s . Th e
"s et of go al st at es is sh ad ed .Fo re ac hp la n ,t he pe ss im is ti c(s ol id li ne s)a nd op ti mi st ic(d as he d"
l in es)r ea ch ab le se ts ar es ho wn .(a)Th ep la ni nd ic at ed by th eb la ck ar ro wd ef in it el ya ch ie ve s
"t he go al ,w hi le th ep la ni nd ic at ed by th eg ra ya rr ow de fi ni te ly do es n’t .(b)Ap la nt ha tw ou ld"
n ee dt ob er ef in ed fu rt he rt od et er mi ne if it re al ly do es ac hi ev et he go al .
"t he n t he p la n d oe sn’t w or k ; i f t he p es si mi st ic r ea ch ab le s et i nt er se ct s t he g oa l , t he n t he p la n"
"d oe s w or k (Fi gu re 11.7(a)). Wi th e xa ct d es cr ip ti on s , a p la n e it he r w or ks o r i t d oe sn’t , b ut"
"w it h a pp ro xi ma te d es cr ip ti on s , t he re i s a m id dl e g ro un d: i f t he o pt im is ti c s et i nt er se ct s t he"
"g oa l b ut t he p es si mi st ic s et d oe sn’t , t he n w e c an no t t el l i f t he p la n w or ks (Fi gu re 11.7(b))."
"Wh en t hi s c ir cu ms ta nc e a ri se s , t he u nc er ta in ty c an b e r es ol ve d b y r ef in in g t he p la n . Th is i s"
"a v er y c om mo n s it ua ti on i n h um an r ea so ni ng . Fo re xa mp le , i n p la nn in g t he a fo re me nt io ne d"
"t wo-w ee k Ha wa ii v ac at io n , o ne m ig ht p ro po se t o s pe nd t wo d ay s o n e ac h o f s ev en i sl an ds ."
Pr ud en ce w ou ld i nd ic at e t ha t t hi s a mb it io us p la n n ee ds t o b e r ef in ed b y a dd in g d et ai ls o f
i nt er-i sl an d t ra ns po rt at io n .
An al go ri th m f or hi er ar ch ic al p la nn in g w it ha pp ro xi ma te a ng el ic de sc ri pt io ns i ss ho wn
"i n Fi gu re 11.8. Fo r s im pl ic it y , w e h av e k ep t t o t he s am e o ve ra ll s ch em e u se d p re vi ou sl y i n"
"Fi gu re 11.5, t ha t i s , a br ea dt h-f ir st s ea rc h i n t he s pa ce o f r ef in em en ts . As ju st e xp la in ed , t he"
a lg or it hm ca nd et ec tp la ns th at wi ll an dw on’t wo rk by ch ec ki ng th ei nt er se ct io ns o ft he op ti-
m is ti ca nd pe ss im is ti cr ea ch ab le se ts wi th th eg oa l . (Th ed et ai ls of ho wt oc om pu te th er ea ch-
"a bl es et so fa pl an ,g iv en ap pr ox im at ed es cr ip ti on so fe ac hs te p ,a re co ve re di n Ex er ci se 11.5.)"
"Wh en aw or ka bl ea bs tr ac tp la ni sf ou nd , t he al go ri th m d ec om po se s t he or ig in al p ro bl em in to"
"s ub pr ob le ms , o ne f or e ac h s te p o f t he p la n . Th e i ni ti al s ta te a nd g oa l f or e ac h s ub pr ob le m"
a re o bt ai ne d b y r eg re ss in g a g ua ra nt ee d-r ea ch ab le g oa l s ta te t hr ou gh t he a ct io n s ch em as f or
e ac h s te p o f t he p la n . (Se e Se ct io n 10.2.2 f or a d is cu ss io n o f h ow r eg re ss io n w or ks .) Fi g-
u re 11.6(b) i ll us tr at es t he b as ic i de a: t he r ig ht-h an d c ir cl ed s ta te i s t he g ua ra nt ee d-r ea ch ab le
"g oa l s ta te , a nd t he l ef t-h an d c ir cl ed s ta te i s t he i nt er me di at e g oa l o bt ai ne d b y r eg re ss in g t he"
414 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"f un ct io n ANGELIC-SEARCH(p ro bl em ,h ie ra rc hy ,i ni ti al Pl an)r et ur ns so lu ti on or fa il"
f ro nt ie r←a FIFOq ue ue wi th in it ia l Pl an a st he on ly el em en t
l oo pd o
i f EMPTY ?(f ro nt ie r)t he nr et ur nf ai l
p la n←POP(f ro nt ie r) /*c ho os es th es ha ll ow es tn od ei nf ro nt ie r */
"i f REACH+(p ro bl em .INITIAL-STATE ,p la n)i nt er se ct sp ro bl em .GOALt he n"
i fp la n i sp ri mi ti ve th en re tu rn pl an /*REACH+ i se xa ct fo rp ri mi ti ve pl an s*/
"g ua ra nt ee d←REACH− (p ro bl em .INITIAL-STATE ,p la n) ∩ p ro bl em .GOAL"
"i fg ua ra nt ee d(c id:7)={}a nd MAKING-PROGRESS(p la n ,i ni ti al Pl an)t he n"
f in al St at e←a ny el em en to fg ua ra nt ee d
"r et ur n DECOMPOSE(h ie ra rc hy ,p ro bl em .INITIAL-STATE ,p la n ,f in al St at e)"
h la←s om e HLAi np la n
"p re fi x ,s uf fi x←t he ac ti on su bs eq ue nc es be fo re an da ft er hl a i np la n"
"f or ea ch se qu en ce i n REFINEMENTS(h la ,o ut co me ,h ie ra rc hy)d o"
"f ro nt ie r←INSERT(APPEND(p re fi x ,s eq ue nc e ,s uf fi x),f ro nt ie r)"
"f un ct io n DECOMPOSE(h ie ra rc hy ,s 0,p la n ,s f)r et ur ns as ol ut io n"
s ol ut io n←a ne mp ty pl an
w hi le pl an i sn ot em pt yd o
a ct io n←REMOVE-LAST(p la n)
"s i←a st at ei n REACH− (s 0,p la n)s uc ht ha ts f∈REACH−"
"(s i ,a ct io n)"
p ro bl em←a pr ob le mw it h INITIAL-STATE=s i a nd GOAL=s f
"s ol ut io n←APPEND(ANGELIC-SEARCH(p ro bl em ,h ie ra rc hy ,a ct io n),s ol ut io n)"
s f ←s i
r et ur ns ol ut io n
Fi gu re 11.8 Ah ie ra rc hi ca lp la nn in ga lg or it hm th at us es an ge li cs em an ti cs to id en ti fy an d
c om mi tt oh ig h-l ev el pl an st ha tw or kw hi le av oi di ng hi gh-l ev el pl an st ha td on’t . Th ep re di-
c at e MAKING-PROGRESS c he ck st om ak es ur et ha tw ea re n’t st uc ki na ni nf in it er eg re ss io n
"o fr ef in em en ts .At to pl ev el ,c al l ANGELIC-SEARCHw it h[Ac t]a st he in it ia l Pl an ."
g oa lt hr ou gh t he fi na la ct io n .
Th e a bi li ty t o c om mi t t o o r r ej ec t h ig h-l ev el p la ns c an g iv e ANGELIC-SEARCH a s ig-
"n if ic an t c om pu ta ti on al a dv an ta ge o ve r HIERARCHICAL-SEARCH , w hi ch i n t ur n m ay h av e"
"a l ar ge a dv an ta ge o ve r p la in o ld BREADTH-FIRST-SEARCH . Co ns id er , f or e xa mp le , c le an-"
i ng u p a l ar ge v ac uu m w or ld c on si st in g o f r ec ta ng ul ar r oo ms c on ne ct ed b y n ar ro w c or ri-
d or s . It m ak es s en se t o h av e a n HLA f or Na vi ga te (a s s ho wn i n Fi gu re 11.4) a nd o ne f or
Cl ea n Wh ol e Ro om . (Cl ea ni ng t he r oo m c ou ld b e i mp le me nt ed w it h t he r ep ea te d a pp li ca ti on
"o f a no th er HLA t o c le an e ac h r ow .) Si nc e t he re a re f iv e a ct io ns i n t hi s d om ai n , t he c os t"
"f or BREADTH-FIRST-SEARCH g ro ws a s 5 d , w he re d i s t he l en gt h o f t he s ho rt es t s ol ut io n"
(r ou gh ly t wi ce t he t ot al n um be r o f s qu ar es); t he a lg or it hm c an no t m an ag e e ve n t wo 2×2
"r oo ms . HIERARCHICAL-SEARCH i sm or ee ff ic ie nt ,b ut st il ls uf fe rs fr om ex po ne nt ia l g ro wt h"
b ec au se it tr ie sa ll wa ys of cl ea ni ng th at ar ec on si st en tw it ht he hi er ar ch y . ANGELIC-SEARCH
s ca le s a pp ro xi ma te ly l in ea rl y i nt he n um be ro fs qu ar es—i t c om mi ts t oa go od h ig h-l ev el s e-
Se ct io n 11.3. Pl an ni ng an d Ac ti ng in No nd et er mi ni st ic Do ma in s 415
q ue nc e a nd p ru ne s a wa y t he o th er o pt io ns . No ti ce t ha t c le an in g a s et o f r oo ms b y c le an in g
e ac h r oo m i n t ur n i s h ar dl y r oc ke t s ci en ce: i t i s e as y f or h um an s p re ci se ly b ec au se o f t he
h ie ra rc hi ca l s tr uc tu re o f t he t as k . Wh en w e c on si de r h ow d if fi cu lt h um an s f in d i t t o s ol ve
"s ma ll p uz zl es s uc h a st he 8-p uz zl e , i ts ee ms l ik el y t ha t t he h um an c ap ac it y f or so lv in g c om-"
p le x p ro bl em s d er iv es t o a g re at e xt en t f ro m t he ir s ki ll i n a bs tr ac ti ng a nd d ec om po si ng t he
p ro bl em t oe li mi na te co mb in at or ic s .
Th e a ng el ic a pp ro ac h c an b e e xt en de d t o f in d l ea st-c os t s ol ut io ns b y g en er al iz in g t he
"n ot io n o f r ea ch ab le s et . In st ea d o f a s ta te b ei ng r ea ch ab le o r n ot , i t h as a c os t f or t he m os t"
e ff ic ie nt w ay t o g et t he re . (Th e c os t i s ∞ f or u nr ea ch ab le s ta te s .) Th e o pt im is ti c a nd p es-
"s im is ti cd es cr ip ti on s b ou nd th es ec os ts . In th is wa y ,a ng el ic se ar ch ca nf in dp ro va bl yo pt im al"
a bs tr ac t p la ns wi th ou tc on si de ri ng t he ir im pl em en ta ti on s . Th es am ea pp ro ac h c an be us ed to
∗
"HIERARCHICAL o bt ai n e ff ec ti ve h ie ra rc hi ca l l oo ka he ad a lg or it hm s f or o nl in e s ea rc h , i n t he s ty le o f LRTA"
LOOKAHEAD
"(p ag e 152). In so me wa ys ,s uc ha lg or it hm sm ir ro ra sp ec ts of hu ma nd el ib er at io ni nt as ks su ch"
a sp la nn in ga va ca ti on to Ha wa ii—c on si de ra ti on o fa lt er na ti ve si sd on ei ni ti al ly at an ab st ra ct
"l ev el ov er lo ng ti me sc al es ;s om ep ar ts of th ep la na re le ft qu it ea bs tr ac tu nt il ex ec ut io n t im e ,"
"s uc ha sh ow to sp en dt wo la zy da ys on Mo lo ka i ,w hi le ot he rs pa rt sa re pl an ne di nd et ai l ,s uc h"
"a s t he f li gh ts t o b e t ak en a nd l od gi ng t o b e r es er ve d—w it ho ut t he se r ef in em en ts , t he re i s n o"
g ua ra nt ee t ha tt he pl an wo ul db ef ea si bl e .
11.3 PLANNING AND ACTING IN NONDETERMINISTIC DOMAINS
"In t hi s s ec ti on w e e xt en d p la nn in g t o h an dl e p ar ti al ly o bs er va bl e , n on de te rm in is ti c , a nd u n-"
"k no wn e nv ir on me nt s . Ch ap te r 4 e xt en de d s ea rc h i n s im il ar w ay s , a nd t he m et ho ds h er e a re"
a ls o s im il ar: s en so rl es s p la nn in g (a ls o k no wn a s c on fo rm an t p la nn in g) f or e nv ir on me nt s
w it h n o o bs er va ti on s ; c on ti ng en cy p la nn in g f or p ar ti al ly o bs er va bl e a nd n on de te rm in is ti c
e nv ir on me nt s ; a nd on li ne pl an ni ng an dr ep la nn in gf or un kn ow ne nv ir on me nt s .
"Wh il e t he b as ic c on ce pt s a re t he s am e a s i n Ch ap te r 4, t he re a re a ls o s ig ni fi ca nt d if-"
f er en ce s . Th es e a ri se b ec au se p la nn er s d ea l w it hf ac to re d r ep re se nt at io ns r at he rt ha n a to mi c
r ep re se nt at io ns . Th is af fe ct st he wa yw er ep re se nt th ea ge nt’s ca pa bi li ty fo ra ct io na nd ob se r-
v at io n a nd t he w ay w e r ep re se nt b el ie f s ta te s—t he s et s o f p os si bl e p hy si ca l s ta te s t he a ge nt
m ig ht b e i n—f or u no bs er va bl e a nd p ar ti al ly o bs er va bl e e nv ir on me nt s . We c an a ls o t ak e a d-
v an ta ge o f m an y o f t he d om ai n-i nd ep en de nt m et ho ds g iv en i n Ch ap te r 10 f or c al cu la ti ng
s ea rc hh eu ri st ic s .
"Co ns id er th is pr ob le m: g iv en ac ha ir an da ta bl e ,t he go al is to ha ve th em ma tc h—h av e"
"t he s am e c ol or . In t he i ni ti al s ta te w eh av e t wo c an s o f p ai nt , b ut t he c ol or s o f t he p ai nt a nd"
t he fu rn it ur e a re un kn ow n . On ly th et ab le is in it ia ll yi nt he a ge nt’s f ie ld of vi ew:
In it(Ob je ct(Ta bl e)∧Ob je ct(Ch ai r)∧Ca n(C )∧Ca n(C )∧In Vi ew(Ta bl e))
1 2
"Go al(Co lo r(Ch ai r ,c)∧Co lo r(Ta bl e ,c))"
Th er e a re t wo a ct io ns: r em ov in g t he l id f ro m a p ai nt c an a nd p ai nt in g a n o bj ec t u si ng t he
"p ai nt fr om an op en ca n . Th ea ct io ns ch em as ar es tr ai gh tf or wa rd , w it ho ne ex ce pt io n: w en ow"
a ll ow p re co nd it io ns a nd e ff ec ts t o c on ta in v ar ia bl es t ha t a re n ot p ar t o f t he a ct io n’s v ar ia bl e
416 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"l is t . Th at i s , Pa in t(x ,c an) d oe s n ot m en ti on t he v ar ia bl e c , r ep re se nt in g t he c ol or o f t he"
"p ai nt i n t he c an . In t he f ul ly o bs er va bl e c as e , t hi s i s n ot a ll ow ed—w e w ou ld h av e t o n am e"
"t he a ct io n Pa in t(x ,c an ,c). Bu t i n t he p ar ti al ly o bs er va bl e c as e , w e m ig ht o r m ig ht n ot"
"k no ww ha tc ol or is in th ec an . (Th ev ar ia bl e c is un iv er sa ll y q ua nt if ie d , j us tl ik ea ll th eo th er"
v ar ia bl es i na na ct io ns ch em a .)
"Ac ti on(Re mo ve Li d(c an),"
PRECOND:Ca n(c an)
EFFECT:Op en(c an))
"Ac ti on(Pa in t(x ,c an),"
"PRECOND:Ob je ct(x)∧Ca n(c an)∧Co lo r(c an ,c)∧Op en(c an)"
"EFFECT:Co lo r(x ,c))"
"To so lv ea pa rt ia ll yo bs er va bl ep ro bl em ,t he ag en tw il lh av et or ea so na bo ut th ep er ce pt si tw il l"
o bt ai nw he ni ti se xe cu ti ng th ep la n . Th ep er ce pt wi ll be su pp li ed by th ea ge nt’s se ns or sw he n
"i ti sa ct ua ll y a ct in g , b ut wh en it is pl an ni ng i tw il ln ee d a mo de l o fi ts se ns or s . In Ch ap te r 4,"
"t hi s m od el w as g iv en b y a f un ct io n , PERCEPT(s). Fo r p la nn in g , w e a ug me nt PDDL w it h a"
"n ew ty pe of sc he ma ,t he pe rc ep ts ch em a:"
PERCEPTSCHEMA
"Pe rc ep t(Co lo r(x ,c),"
PRECOND:Ob je ct(x)∧In Vi ew(x)
"Pe rc ep t(Co lo r(c an ,c),"
PRECOND:Ca n(c an)∧In Vi ew(c an)∧Op en(c an)
"Th e f ir st s ch em a s ay s t ha t w he ne ve r a n o bj ec t i s i n v ie w , t he a ge nt w il l p er ce iv e t he c ol or"
"o f t he o bj ec t (t ha t i s , f or t he o bj ec t x , t he a ge nt w il l l ea rn t he t ru th v al ue o f Co lo r(x ,c) f or"
"a ll c). Th e s ec on d s ch em a s ay s t ha t i f a n o pe n c an i s i n v ie w , t he n t he a ge nt p er ce iv es t he"
"c ol or o f t he p ai nt i n t he c an . Be ca us e t he re a re n o e xo ge no us e ve nt s i n t hi s w or ld , t he c ol or"
"o f a n o bj ec t w il l r em ai n t he s am e , e ve n i f i t i s n ot b ei ng p er ce iv ed , u nt il t he a ge nt p er fo rm s"
"a n a ct io n t o c ha ng e t he o bj ec t’s c ol or . Of c ou rs e , t he a ge nt w il l n ee d a n a ct io n t ha t c au se s"
o bj ec ts(o ne at at im e)t oc om ei nt ov ie w:
"Ac ti on(Lo ok At(x),"
PRECOND:In Vi ew(y)∧(x(c id:7)= y)
EFFECT:In Vi ew(x)∧¬In Vi ew(y))
"Fo ra f ul ly o bs er va bl e e nv ir on me nt , w e w ou ld h av e a Pe rc ep t a xi om w it h n o p re co nd it io ns"
"f or e ac h f lu en t . A s en so rl es s a ge nt , o n t he o th er h an d , h as n o Pe rc ep t a xi om s a t a ll . No te"
t ha t e ve na se ns or le ss a ge nt c an s ol ve th e p ai nt in g p ro bl em . On es ol ut io n i st oo pe n a ny ca n
"o f p ai nt a nd a pp ly i t t o b ot h c ha ir a nd t ab le , t hu s c oe rc in g t he m t o b e t he s am e c ol or (e ve n"
t ho ug ht he ag en td oe sn’t kn ow wh at th ec ol or is).
"A c on ti ng en t p la nn in g a ge nt w it h s en so rs c an g en er at e a b et te r p la n . Fi rs t , l oo k a t t he"
t ab le a nd c ha ir t o o bt ai n t he ir c ol or s ; i f t he y a re a lr ea dy t he s am e t he n t he p la n i s d on e . If
"n ot , l oo k a t t he p ai nt c an s ; i f t he p ai nt i n a c an i s t he s am e c ol or a s o ne p ie ce o f f ur ni tu re ,"
"t he na pp ly th at pa in tt ot he ot he rp ie ce . Ot he rw is e ,p ai nt bo th pi ec es wi th an yc ol or ."
"Fi na ll y ,a no nl in ep la nn in ga ge nt mi gh tg en er at ea co nt in ge nt p la nw it hf ew er br an ch es"
a t f ir st—p er ha ps i gn or in g t he p os si bi li ty t ha t n o c an s m at ch a ny o f t he f ur ni tu re—a nd d ea l
Se ct io n 11.3. Pl an ni ng an d Ac ti ng in No nd et er mi ni st ic Do ma in s 417
w it h p ro bl em s w he n t he y a ri se b y r ep la nn in g . It c ou ld a ls o d ea l w it h i nc or re ct ne ss o f i ts
a ct io n s ch em as . Wh er ea s a c on ti ng en t p la nn er s im pl y a ss um es t ha t t he e ff ec ts o f a n a ct io n
a lw ay s s uc ce ed—t ha t p ai nt in g t he c ha ir d oe s t he j ob—a r ep la nn in g a ge nt w ou ld c he ck t he
"r es ul ta nd ma ke an ad di ti on al p la nt of ix an yu ne xp ec te df ai lu re ,s uc ha sa nu np ai nt ed ar ea or"
t he or ig in al co lo rs ho wi ng th ro ug h .
"In th er ea lw or ld ,a ge nt su se ac om bi na ti on of ap pr oa ch es . Ca rm an uf ac tu re rs se ll sp ar e"
"t ir es a nd a ir b ag s , w hi ch a re p hy si ca l e mb od im en ts o f c on ti ng en t p la n b ra nc he s d es ig ne d"
"t o h an dl e p un ct ur es o r c ra sh es . On t he o th er h an d , m os t c ar d ri ve rs n ev er c on si de r t he se"
"p os si bi li ti es ; w he n a p ro bl em a ri se s t he y r es po nd a s r ep la nn in g a ge nt s . In g en er al , a ge nt s"
p la n o nl y f or c on ti ng en ci es t ha t h av e i mp or ta nt c on se qu en ce s a nd a n on ne gl ig ib le c ha nc e
"o f h ap pe ni ng . Th us , a c ar d ri ve r c on te mp la ti ng a t ri p a cr os s t he Sa ha ra d es er t s ho ul d m ak e"
"e xp li ci t c on ti ng en cy p la ns f or b re ak do wn s , w he re as a t ri p t o t he s up er ma rk et r eq ui re s l es s"
a dv an ce pl an ni ng . We ne xt lo ok at ea ch of th et hr ee ap pr oa ch es i nm or ed et ai l .
11.3.1 Se ns or le ss p la nn in g
Se ct io n 4.4.1 (p ag e 138) i nt ro du ce d t he b as ic i de a o f s ea rc hi ng i n b el ie f-s ta te s pa ce t o f in d
a so lu ti on f or se ns or le ss p ro bl em s . Co nv er si on o fa se ns or le ss p la nn in g p ro bl em t o a be li ef-
s ta te p la nn in g p ro bl em w or ks m uc ht he s am ew ay as it d id in Se ct io n 4.4.1; t he m ai nd if fe r-
e nc es ar et ha tt he un de rl yi ng ph ys ic al tr an si ti on mo de li sr ep re se nt ed by ac ol le ct io no fa ct io n
s ch em as a nd t he b el ie f s ta te c an b e r ep re se nt ed b y a l og ic al f or mu la i ns te ad o f a n e xp li ci tl y
"e nu me ra te d s et o f s ta te s . Fo rs im pl ic it y , w ea ss um e t ha t t he u nd er ly in g p la nn in g p ro bl em i s"
d et er mi ni st ic .
Th e i ni ti al b el ie f s ta te f or t he s en so rl es s p ai nt in g p ro bl em c an i gn or e In Vi ew f lu en ts
"b ec au se t he a ge nt h as n o s en so rs . Fu rt he rm or e , w e t ak e a s g iv en t he u nc ha ng in g f ac ts"
Ob je ct(Ta bl e) ∧ Ob je ct(Ch ai r) ∧ Ca n(C ) ∧ Ca n(C ) b ec au se t he se h ol d i n e ve ry b e-
1 2
"l ie f s ta te . Th e a ge nt d oe sn’t k no w t he c ol or s o f t he c an s o r t he o bj ec ts , o r w he th er t he c an s"
"a re op en or cl os ed , b ut it do es kn ow th at ob je ct s a nd ca ns ha ve c ol or s: ∀x ∃c Co lo r(x ,c)."
"Af te r Sk ol em iz in g , (s ee Se ct io n 9.5),w eo bt ai nt he in it ia l b el ie fs ta te:"
"b = Co lo r(x ,C(x))."
0
"In c la ss ic al p la nn in g , w he re t he c lo se d-w or ld a ss um pt io n i s m ad e , w e w ou ld a ss um e t ha t"
"a ny f lu en tn ot m en ti on ed i na st at e i s f al se , b ut i n s en so rl es s (a nd p ar ti al ly o bs er va bl e) p la n-"
n in g w e h av e t o s wi tc h t o a n o pe n-w or ld a ss um pt io n i n w hi ch s ta te s c on ta in b ot h p os it iv e
"a nd n eg at iv e f lu en ts , a nd i f a f lu en t d oe s n ot a pp ea r , i ts v al ue i s u nk no wn . Th us , t he b el ie f"
s ta te c or re sp on ds e xa ct ly t o t he s et o f p os si bl e w or ld s t ha t s at is fy t he f or mu la . Gi ve n t hi s
"i ni ti al be li ef st at e ,t he fo ll ow in ga ct io ns eq ue nc e i sa so lu ti on:"
"[Re mo ve Li d(Ca n ),Pa in t(Ch ai r ,Ca n ),Pa in t(Ta bl e ,Ca n )]."
1 1 1
We n ow s ho w h ow t o p ro gr es s t he b el ie f s ta te t hr ou gh t he a ct io n s eq ue nc e t o s ho w t ha t t he
f in al be li ef st at es at is fi es th eg oa l .
"Fi rs t , n ot e t ha t i n a g iv en b el ie f s ta te b , t he a ge nt c an c on si de r a ny a ct io n w ho se p re-"
c on di ti on s a re sa ti sf ie d b y b . (Th eo th er ac ti on s c an no t b eu se d b ec au se t he tr an si ti on m od el
d oe sn’t d ef in e t he e ff ec ts o f a ct io ns w ho se p re co nd it io ns m ig ht b e u ns at is fi ed .) Ac co rd in g
418 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"t o Eq ua ti on (4.4) (p ag e 139), t he g en er al f or mu la f or u pd at in g t he b el ie f s ta te b g iv en a n"
a pp li ca bl e a ct io na in ad et er mi ni st ic w or ld is as fo ll ow s:
"b(c id:2) = RESULT(b ,a) = {s(c id:2) : s(c id:2) =RESULTP(s ,a)a nd s ∈ b}"
"w he re RESULTP d ef in es th ep hy si ca lt ra ns it io nm od el . Fo rt he ti me be in g ,w ea ss um et ha tt he"
"i ni ti al b el ie f s ta te i s a lw ay s a c on ju nc ti on o f l it er al s , t ha t i s , a 1-CNF f or mu la . To c on st ru ct"
(c id:2)
"t he ne wb el ie fs ta te b ,w em us tc on si de rw ha th ap pe ns t oe ac hl it er al (c id:3)i ne ac hp hy si ca ls ta te"
"s in bw he na ct io na is ap pl ie d . Fo rl it er al sw ho se tr ut hv al ue is al re ad yk no wn in b ,t he tr ut h"
(c id:2)
v al ue i n b i s c om pu te d f ro m t he c ur re nt v al ue a nd t he a dd l is t a nd d el et e l is t o f t he a ct io n .
"(Fo r e xa mp le , i f (c id:3) i s i n t he d el et e l is t o f t he a ct io n , t he n ¬(c id:3) i s a dd ed t o b(c id:2) .) Wh at a bo ut a"
l it er al wh os et ru th va lu ei su nk no wn in b ? Th er ea re th re ec as es:
(c id:2)
"1. If th ea ct io na dd s(c id:3),t he n(c id:3)w il lb et ru ei nb r eg ar dl es s o fi ts in it ia lv al ue ."
(c id:2)
"2. If th ea ct io nd el et es(c id:3),t he n(c id:3)w il lb ef al se in b r eg ar dl es so fi ts in it ia lv al ue ."
"3. If th ea ct io nd oe sn ot af fe ct(c id:3),t he n(c id:3)w il lr et ai ni ts in it ia lv al ue(w hi ch is un kn ow n)a nd"
(c id:2)
w il ln ot ap pe ar in b .
(c id:2)
"He nc e ,w es ee th at th ec al cu la ti on o fb i sa lm os ti de nt ic al t ot he ob se rv ab le c as e , w hi ch wa s"
s pe ci fi ed by Eq ua ti on(10.1)o np ag e 368:
"b(c id:2) = RESULT(b ,a) = (b−DEL(a))∪ADD(a)."
(c id:2)
We c an no t q ui te u se t he s et s em an ti cs b ec au se (1) w e m us t m ak e s ur e t ha t b d oe s n ot c on-
"t ai n b ot h (c id:3) a nd ¬(c id:3), a nd (2) a to ms m ay c on ta in u nb ou nd v ar ia bl es . Bu t i t i s s ti ll t he c as e"
"t ha t RESULT(b ,a) i s c om pu te d b y s ta rt in g w it h b , s et ti ng a ny a to m t ha t a pp ea rs i n DEL(a)"
"t o f al se , a nd s et ti ng a ny a to m t ha t a pp ea rs i n ADD(a) t o t ru e . Fo r e xa mp le , i f w e a pp ly"
"Re mo ve Li d(Ca n )t ot he in it ia lb el ie fs ta te b ,w eg et"
1 0
"b = Co lo r(x ,C(x))∧Op en(Ca n )."
1 1
"Wh en we ap pl yt he ac ti on Pa in t(Ch ai r ,Ca n ),t he pr ec on di ti on Co lo r(Ca n ,c)i ss at is fi ed"
1 1
"b yt he kn ow nl it er al Co lo r(x ,C(x))w it hb in di ng{x/Ca n ,c/C(Ca n )}a nd th en ew be li ef"
1 1
s ta te is
"b = Co lo r(x ,C(x))∧Op en(Ca n )∧Co lo r(Ch ai r ,C(Ca n ))."
2 1 1
"Fi na ll y ,w ea pp ly th ea ct io n Pa in t(Ta bl e ,Ca n )t oo bt ai n"
1
"b = Co lo r(x ,C(x))∧Op en(Ca n )∧Co lo r(Ch ai r ,C(Ca n ))"
3 1 1
"∧Co lo r(Ta bl e ,C(Ca n ))."
1
"Th ef in al be li ef st at es at is fi es th eg oa l ,Co lo r(Ta bl e ,c)∧Co lo r(Ch ai r ,c),w it ht he va ri ab le"
c bo un dt o C(Ca n ).
1
Th e p re ce di ng a na ly si s o f t he u pd at e r ul e h as s ho wn a v er y i mp or ta nt f ac t: t he f am il y
o f b el ie f s ta te s d ef in ed a s c on ju nc ti on s o f l it er al s i s c lo se d u nd er u pd at es d ef in ed b y PDDL
"a ct io ns ch em as . Th at is ,i ft he be li ef s ta te st ar ts as ac on ju nc ti on o fl it er al s , t he na ny up da te"
"w il l y ie ld a c on ju nc ti on o f l it er al s . Th at m ea ns t ha t i n a w or ld w it h n f lu en ts , a ny b el ie f"
"s ta te c an b e r ep re se nt ed b y a c on ju nc ti on o f s iz e O(n). Th is i s a v er y c om fo rt in g r es ul t ,"
c on si de ri ng t ha t t he re a re 2 n s ta te s i n t he w or ld . It s ay s w e c an c om pa ct ly r ep re se nt a ll t he
"s ub se ts of th os e 2 n s ta te st ha tw ew il le ve rn ee d . Mo re ov er ,t he pr oc es so fc he ck in gf or be li ef"
Se ct io n 11.3. Pl an ni ng an d Ac ti ng in No nd et er mi ni st ic Do ma in s 419
"s ta te s t ha t a re s ub se ts o r s up er se ts o f p re vi ou sl y v is it ed b el ie f s ta te s i s a ls o e as y , a t l ea st i n"
t he pr op os it io na l c as e .
Th ef ly in th e o in tm en t o f t hi s p le as an t p ic tu re i st ha t i to nl y w or ks f or ac ti on s ch em as
t ha t h av e t he s am e e ff ec ts f or a ll s ta te s i n w hi ch t he ir p re co nd it io ns a re s at is fi ed . It i s t hi s
p ro pe rt yt ha te na bl es th ep re se rv at io no ft he 1-CNFb el ie f-s ta te re pr es en ta ti on . As so on as th e
"e ff ec t c an d ep en d o n t he s ta te , d ep en de nc ie s a re i nt ro du ce d b et we en f lu en ts a nd t he 1-CNF"
"p ro pe rt y i s l os t . Co ns id er , f or e xa mp le , t he s im pl e v ac uu m w or ld d ef in ed i n Se ct io n 3.2.1."
Le t t he f lu en ts b e At L a nd At R f or t he l oc at io n o f t he r ob ot a nd Cl ea n L a nd Cl ea n R f or
"t he s ta te o f t he s qu ar es . Ac co rd in g t o t he d ef in it io n o f t he p ro bl em , t he Su ck a ct io n h as n o"
p re co nd it io n—i tc an al wa ys be do ne . Th ed if fi cu lt yi st ha ti ts ef fe ct de pe nd so nt he ro bo t’s lo-
"c at io n: w he nt he ro bo ti s At L ,t he re su lt is Cl ea n L ,b ut wh en it is At R ,t he re su lt is Cl ea n R ."
"CONDITIONAL Fo rs uc h a ct io ns , o ur ac ti on s ch em as w il l n ee d s om et hi ng n ew: a c on di ti on al e ff ec t . Th es e"
EFFECT
"h av e t he s yn ta x “w he n c on di ti on: e ff ec t ,” w he re c on di ti on i s a l og ic al f or mu la t o b e c om-"
"p ar ed a ga in st t he c ur re nt s ta te , a nd e ff ec t i s a f or mu la d es cr ib in g t he r es ul ti ng s ta te . Fo rt he"
"v ac uu mw or ld ,w eh av e"
"Ac ti on(Su ck ,"
EFFECT:w he n At L:Cl ea n L∧w he n At R:Cl ea n R).
"Wh en a pp li ed t o t he i ni ti al b el ie f s ta te Tr ue , t he r es ul ti ng b el ie f s ta te i s (At L∧Cl ea n L)∨"
"(At R ∧Cl ea n R), w hi ch i s n o l on ge r i n 1-CNF . (Th is t ra ns it io n c an b e s ee n i n Fi gu re 4.14"
"o n p ag e 141.) In g en er al , c on di ti on al e ff ec ts c an i nd uc e a rb it ra ry d ep en de nc ie s a mo ng t he"
"f lu en ts in ab el ie fs ta te , l ea di ng to be li ef st at es of ex po ne nt ia l s iz ei nt he wo rs tc as e ."
It i s i mp or ta nt t o u nd er st an d t he d if fe re nc e b et we en p re co nd it io ns a nd c on di ti on al e f-
f ec ts . Al lc on di ti on al ef fe ct sw ho se co nd it io ns ar es at is fi ed ha ve th ei re ff ec ts ap pl ie dt og en er-
"a te th er es ul ti ng st at e ;i fn on ea re sa ti sf ie d ,t he nt he re su lt in gs ta te is un ch an ge d . On th eo th er"
"h an d , i f a p re co nd it io n i s u ns at is fi ed , t he n t he a ct io n i s i na pp li ca bl e a nd t he r es ul ti ng s ta te"
"i s u nd ef in ed . Fr om t he p oi nt o f v ie w o f s en so rl es s p la nn in g , i t i s b et te r t o h av e c on di ti on al"
"e ff ec ts t ha n a n i na pp li ca bl e a ct io n . Fo re xa mp le , w e c ou ld s pl it Su ck i nt o t wo a ct io ns w it h"
u nc on di ti on al e ff ec ts as fo ll ow s:
"Ac ti on(Su ck L ,"
PRECOND:At L ; EFFECT:Cl ea n L)
"Ac ti on(Su ck R ,"
PRECOND:At R ; EFFECT:Cl ea n R).
"No ww eh av eo nl y u nc on di ti on al s ch em as , s ot he be li ef s ta te s a ll re ma in in 1-CNF ;u nf or tu-"
"n at el y , w ec an no t d et er mi ne th ea pp li ca bi li ty o f Su ck La nd Su ck R i nt he in it ia lb el ie fs ta te ."
"It se em si ne vi ta bl e , t he n ,t ha tn on tr iv ia l p ro bl em sw il li nv ol ve w ig gl yb el ie fs ta te s , j us t"
l ik e t ho se e nc ou nt er ed w he n w e c on si de re d t he p ro bl em o f s ta te e st im at io n f or t he w um pu s
w or ld(s ee Fi gu re 7.21 o np ag e 271). Th es ol ut io n s ug ge st ed t he nw as to us ea co ns er va ti ve
"a pp ro xi ma ti on t o t he e xa ct b el ie f s ta te ; f or e xa mp le , t he b el ie f s ta te c an r em ai n i n 1-CNF"
i f i t c on ta in s a ll l it er al s w ho se t ru th v al ue s c an b e d et er mi ne d a nd t re at s a ll o th er l it er al s a s
"u nk no wn . Wh il e t hi s a pp ro ac h i s s ou nd , i n t ha t i t n ev er g en er at es a n i nc or re ct p la n , i t i s"
i nc om pl et e b ec au se i t m ay b e u na bl e t o f in d s ol ut io ns t o p ro bl em s t ha t n ec es sa ri ly i nv ol ve
"i nt er ac ti on s a mo ng l it er al s . To g iv e a t ri vi al e xa mp le , i f t he g oa l i s f or t he r ob ot t o b e o n"
420 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"a c le an s qu ar e , t he n [Su ck] i s a s ol ut io n b ut a s en so rl es s a ge nt t ha t i ns is ts o n 1-CNF b el ie f"
s ta te sw il ln ot fi nd it .
Pe rh ap s a b et te r s ol ut io n i s t o l oo k f or a ct io n s eq ue nc es t ha t k ee p t he b el ie f s ta te
"a s s im pl e a s p os si bl e . Fo r e xa mp le , i n t he s en so rl es s v ac uu m w or ld , t he a ct io n s eq ue nc e"
"[Ri gh t ,Su ck ,Le ft ,Su ck]g en er at es t he fo ll ow in gs eq ue nc e o fb el ie fs ta te s:"
b = Tr ue
0
b = At R
1
b = At R∧Cl ea n R
2
b = At L∧Cl ea n R
3
b = At L∧Cl ea n R∧Cl ea n L
4
"Th at i s , t he a ge nt c an s ol ve t he p ro bl em w hi le r et ai ni ng a 1-CNF b el ie f s ta te , e ve n t ho ug h"
"s om e s eq ue nc es (e .g ., t ho se b eg in ni ng w it h Su ck) g o o ut si de 1-CNF . Th e g en er al l es so n i s"
"n ot l os t o n h um an s: w e a re a lw ay s p er fo rm in g l it tl e a ct io ns (c he ck in g t he t im e , p at ti ng o ur"
"p oc ke ts to ma ke su re we ha ve th ec ar ke ys ,r ea di ng st re et si gn sa sw en av ig at et hr ou gh ac it y)"
t oe li mi na te u nc er ta in ty a nd ke ep ou rb el ie fs ta te ma na ge ab le .
"Th er e i s a no th er , q ui te d if fe re nt a pp ro ac h t o t he p ro bl em o f u nm an ag ea bl y w ig gl y b e-"
l ie f s ta te s: d on’t b ot he r c om pu ti ng t he m a t a ll . Su pp os e t he i ni ti al b el ie f s ta te i s b a nd w e
0
"w ou ld l ik e t o k no w t he b el ie f s ta te r es ul ti ng f ro m t he a ct io n s eq ue nc e [a ,...,a ]. In st ea d"
1 m
"o f c om pu ti ng i t e xp li ci tl y , j us t r ep re se nt i t a s “b t he n [a ,...,a ].” Th is i s a l az y b ut u n-"
0 1 m
"a mb ig uo us r ep re se nt at io n o f t he b el ie f s ta te , a nd i t’s q ui te c on ci se—O(n +m) w he re n i s"
t he s iz e o f t he i ni ti al b el ie f s ta te (a ss um ed t o b e i n 1-CNF) a nd m i s t he m ax im um l en gt h
"o f a n a ct io n s eq ue nc e . As a b el ie f-s ta te r ep re se nt at io n , i t s uf fe rs f ro m o ne d ra wb ac k , h ow-"
"e ve r: d et er mi ni ng w he th er t he g oa l i s s at is fi ed , o r a n a ct io n i s a pp li ca bl e , m ay r eq ui re a l ot"
o fc om pu ta ti on .
Th ec om pu ta ti on ca nb ei mp le me nt ed as an en ta il me nt te st: i f A r ep re se nt st he co ll ec-
m
"t io n o f s uc ce ss or-s ta te a xi om s r eq ui re d t o d ef in e o cc ur re nc es o f t he a ct io ns a ,...,a —a s"
1 m
"e xp la in ed fo r SATPLANi n Se ct io n 10.4.1—a nd G m as se rt st ha tt he go al is tr ue af te rm st ep s ,"
"t he nt he pl an ac hi ev es th eg oa li fb ∧A |= G ,t ha ti s ,i fb ∧A ∧¬G i su ns at is fi ab le ."
0 m m 0 m m
"Gi ve na mo de rn SATs ol ve r ,i tm ay be po ss ib le to do th is mu ch mo re qu ic kl yt ha nc om pu ti ng"
"t he fu ll b el ie f s ta te . Fo re xa mp le , i fn on eo ft he a ct io ns i nt he s eq ue nc e h as ap ar ti cu la r g oa l"
"f lu en t i n i ts a dd l is t , t he s ol ve r w il l d et ec t t hi s i mm ed ia te ly . It a ls o h el ps i f p ar ti al r es ul ts"
"a bo ut th eb el ie fs ta te—f or ex am pl e ,f lu en ts kn ow nt ob et ru eo rf al se—a re ca ch ed to si mp li fy"
s ub se qu en t c om pu ta ti on s .
Th e f in al p ie ce o f t he s en so rl es s p la nn in g p uz zl e i s a h eu ri st ic f un ct io n t o g ui de t he
s ea rc h . Th e m ea ni ng o f t he h eu ri st ic f un ct io n i s t he s am e a s f or c la ss ic al p la nn in g: a n e st i-
m at e(p er ha ps a dm is si bl e) o ft he co st of ac hi ev in g t he go al f ro m t he gi ve nb el ie f s ta te . Wi th
"b el ie f s ta te s , w e h av e o ne a dd it io na l f ac t: s ol vi ng a ny s ub se t o f a b el ie f s ta te i s n ec es sa ri ly"
e as ie rt ha ns ol vi ng th eb el ie fs ta te:
i fb ⊆ b t he nh∗ (b ) ≤ h∗ (b ).
1 2 1 2
"He nc e ,a ny ad mi ss ib le he ur is ti cc om pu te df or as ub se ti sa dm is si bl ef or th eb el ie fs ta te it se lf ."
"Th em os to bv io us c an di da te s a re th es in gl et on s ub se ts , t ha ti s ,i nd iv id ua l p hy si ca ls ta te s . We"
Se ct io n 11.3. Pl an ni ng an d Ac ti ng in No nd et er mi ni st ic Do ma in s 421
"c an t ak e a ny r an do m c ol le ct io n o f s ta te s s ,...,s t ha t a re i n t he b el ie f s ta te b , a pp ly a ny"
1 N
"a dm is si bl e h eu ri st ic h fr om Ch ap te r 10,a nd re tu rn"
"H(b) = m ax{h(s ),...,h(s )}"
1 N
a st he he ur is ti ce st im at ef or so lv in g b . We co ul da ls ou se ap la nn in gg ra ph di re ct ly on bi ts el f:
"i f i t i s a c on ju nc ti on o f l it er al s (1-CNF), s im pl y s et t ho se l it er al s t o b e t he i ni ti al s ta te l ay er"
"o ft he gr ap h . If bi sn ot in 1-CNF ,i tm ay be po ss ib le to fi nd se ts of li te ra ls th at to ge th er en ta il"
"b . Fo r e xa mp le , i f b i s i n d is ju nc ti ve n or ma l f or m (DNF), e ac h t er m o f t he DNF f or mu la i s"
a c on ju nc ti on o f l it er al s t ha t e nt ai ls b a nd c an f or m t he i ni ti al l ay er o f a p la nn in g g ra ph . As
"b ef or e ,w ec an ta ke th em ax im um of th eh eu ri st ic s o bt ai ne df ro me ac hs et of li te ra ls . We ca n"
"a ls o u se i na dm is si bl e h eu ri st ic s s uc h a s t he i gn or e-d el et e-l is ts h eu ri st ic (p ag e 377), w hi ch"
s ee ms to wo rk qu it ew el li np ra ct ic e .
11.3.2 Co nt in ge nt p la nn in g
We s aw i n Ch ap te r 4 t ha t c on ti ng en t p la nn in g—t he g en er at io n o f p la ns w it h c on di ti on al
"b ra nc hi ng ba se do np er ce pt s—i sa pp ro pr ia te fo re nv ir on me nt sw it hp ar ti al ob se rv ab il it y ,n on-"
"d et er mi ni sm , o rb ot h . Fo rt he pa rt ia ll y o bs er va bl e p ai nt in g p ro bl em w it ht he pe rc ep t a xi om s"
"g iv en ea rl ie r , o ne po ss ib le c on ti ng en t s ol ut io n i sa sf ol lo ws:"
"[Lo ok At(Ta bl e),Lo ok At(Ch ai r),"
"i f Co lo r(Ta bl e ,c)∧Co lo r(Ch ai r ,c)t he n No Op"
"e ls e[Re mo ve Li d(Ca n ),Lo ok At(Ca n ),Re mo ve Li d(Ca n ),Lo ok At(Ca n ),"
1 1 2 2
"i f Co lo r(Ta bl e ,c)∧Co lo r(c an ,c)t he n Pa in t(Ch ai r ,c an)"
"e ls ei f Co lo r(Ch ai r ,c)∧Co lo r(c an ,c)t he n Pa in t(Ta bl e ,c an)"
"e ls e[Pa in t(Ch ai r ,Ca n ),Pa in t(Ta bl e ,Ca n )]]]"
1 1
Va ri ab le s i n t hi s p la n s ho ul d b e c on si de re d e xi st en ti al ly q ua nt if ie d ; t he s ec on d l in e s ay s
"t ha t i f t he re e xi st s s om e c ol or c t ha t i s t he c ol or o f t he t ab le a nd t he c ha ir , t he n t he a ge nt"
"n ee d n ot d o a ny th in g t o a ch ie ve t he g oa l . Wh en e xe cu ti ng t hi s p la n , a c on ti ng en t-p la nn in g"
a ge nt c an m ai nt ai n i ts b el ie f s ta te a s a l og ic al f or mu la a nd e va lu at e e ac h b ra nc h c on di ti on
b y d et er mi ni ng i f t he b el ie f s ta te e nt ai ls t he c on di ti on f or mu la o r i ts n eg at io n . (It i s u p t o
t he c on ti ng en t-p la nn in g a lg or it hm t o m ak e s ur e t ha t t he a ge nt w il l n ev er e nd u p i n a b e-
l ie f s ta te w he re t he c on di ti on f or mu la’s t ru th v al ue i s u nk no wn .) No te t ha t w it h f ir st-o rd er
"c on di ti on s , t he f or mu la m ay b e s at is fi ed i n m or e t ha n o ne w ay ; f or e xa mp le , t he c on di ti on"
"Co lo r(Ta bl e ,c)∧Co lo r(c an ,c)m ig ht be sa ti sf ie db y{c an/Ca n }a nd by{c an/Ca n }i f"
1 2
"b ot h c an s a re t he s am e c ol or a s t he t ab le . In t ha t c as e , t he a ge nt c an c ho os e a ny s at is fy in g"
s ub st it ut io n t oa pp ly to th er es to ft he pl an .
"As s ho wn i n Se ct io n 4.4.2, c al cu la ti ng t he n ew b el ie f s ta te a ft er a n a ct io n a nd s ub se-"
"q ue nt pe rc ep ti sd on ei nt wo st ag es . Th ef ir st st ag ec al cu la te s t he be li ef st at ea ft er th ea ct io n ,"
j us ta sf or th es en so rl es s a ge nt:
ˆb =(b−DEL(a))∪ADD(a)
"w he re ,a sb ef or e ,w eh av ea ss um ed ab el ie fs ta te re pr es en te d a sa co nj un ct io n o fl it er al s . Th e"
"s ec on d s ta ge i s a l it tl e t ri ck ie r . Su pp os e t ha t p er ce pt l it er al s p ,...,p a re r ec ei ve d . On e"
1 k
"m ig ht t hi nk t ha t w e s im pl y n ee d t o a dd t he se i nt o t he b el ie f s ta te ; i n f ac t , w e c an a ls o i nf er"
422 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"t ha t t he p re co nd it io ns f or s en si ng a re s at is fi ed . No w , i f a p er ce pt p h as e xa ct ly o ne p er ce pt"
"a xi om , Pe rc ep t(p ,PRECOND:c), w he re c i s a c on ju nc ti on o f l it er al s , t he n t ho se l it er al s c an"
"b et hr ow ni nt ot he be li ef st at ea lo ng wi th p . On th eo th er ha nd ,i fp ha sm or et ha no ne pe rc ep t"
a xi om wh os ep re co nd it io ns
"m ig ht ho ld ac co rd in gt ot he pr ed ic te db el ie fs ta teˆb ,t he nw eh av e"
"t o a dd i n t he d is ju nc ti on o f t he p re co nd it io ns . Ob vi ou sl y , t hi s t ak es t he b el ie f s ta te o ut si de"
"1-CNF a nd b ri ng s u p t he s am e c om pl ic at io ns a s c on di ti on al e ff ec ts , w it h m uc h t he s am e"
c la ss es of so lu ti on s .
"Gi ve na me ch an is m f or co mp ut in g e xa ct o ra pp ro xi ma te b el ie f s ta te s , w ec an g en er at e"
c on ti ng en t p la ns w it h a n e xt en si on o f t he AND–OR f or wa rd s ea rc h o ve r b el ie f s ta te s u se d
i n Se ct io n 4.4. Ac ti on s w it h n on de te rm in is ti c e ff ec ts—w hi ch a re d ef in ed s im pl y b y u si ng a
d is ju nc ti on i nt he EFFECT o ft he ac ti on sc he ma—c an b ea cc om mo da te d w it hm in or ch an ge s
t ot he be li ef-s ta te up da te ca lc ul at io na nd no ch an ge to th es ea rc ha lg or it hm .2 Fo rt he he ur is ti c
"f un ct io n , m an y o f t he m et ho ds s ug ge st ed f or s en so rl es s p la nn in g a re a ls o a pp li ca bl e i n t he"
"p ar ti al ly o bs er va bl e , n on de te rm in is ti c c as e ."
11.3.3 On li ne re pl an ni ng
"Im ag in e w at ch in g a sp ot-w el di ng r ob ot i na ca rp la nt . Th er ob ot’s f as t , a cc ur at e m ot io ns a re"
r ep ea te d o ve r a nd o ve r a ga in a s e ac h c ar p as se s d ow n t he l in e . Al th ou gh t ec hn ic al ly i m-
"p re ss iv e , t he r ob ot p ro ba bl y d oe s n ot s ee m a t a ll i nt el li ge nt b ec au se t he m ot io n i s a f ix ed ,"
p re pr og ra mm ed s eq ue nc e ; t he r ob ot o bv io us ly d oe sn’t “k no w w ha t i t’s d oi ng” i na ny m ea n-
i ng fu l s en se . No w s up po se t ha t a p oo rl y a tt ac he d d oo r f al ls o ff t he c ar j us t a s t he r ob ot i s
"a bo ut t o a pp ly a s po t-w el d . Th e r ob ot q ui ck ly r ep la ce s i ts w el di ng a ct ua to r w it h a g ri pp er ,"
"p ic ks u p t he d oo r , c he ck s i t f or sc ra tc he s , r ea tt ac he s i t t o t he c ar , s en ds a n e ma il t o t he f lo or"
"s up er vi so r , s wi tc he s b ac k t o t he w el di ng a ct ua to r , a nd r es um es i ts w or k . Al l o f a s ud de n ,"
"t he r ob ot’s b eh av io r s ee ms p ur po si ve r at he r t ha n r ot e ; w e a ss um e i t r es ul ts n ot f ro m a v as t ,"
p re co mp ut ed c on ti ng en t p la n b ut f ro m a n o nl in e r ep la nn in g p ro ce ss—w hi ch m ea ns t ha t t he
r ob ot d oe sn ee dt ok no ww ha ti t’s tr yi ng to do .
EXECUTION Re pl an ni ng pr es up po se ss om ef or mo fe xe cu ti on mo ni to ri ng to de te rm in et he ne ed fo r
MONITORING
a n ew p la n . On e s uc h n ee d a ri se s w he n a c on ti ng en t p la nn in g a ge nt g et s t ir ed o f p la nn in g
"f or ev er y l it tl e c on ti ng en cy , s uc h a s w he th er t he s ky m ig ht f al l o n i ts h ea d .3 So me b ra nc he s"
o fa pa rt ia ll yc on st ru ct ed c on ti ng en t p la nc an si mp ly sa y Re pl an ;i fs uc ha br an ch is re ac he d
"d ur in g e xe cu ti on , t he a ge nt r ev er ts t o p la nn in g m od e . As we me nt io ne d e ar li er , t he d ec is io n"
a s t o h ow m uc h o f t he p ro bl em t o s ol ve i n a dv an ce a nd h ow m uc h t o l ea ve t o r ep la nn in g
i s o ne t ha t i nv ol ve s t ra de of fs a mo ng p os si bl e e ve nt s w it h d if fe re nt c os ts a nd p ro ba bi li ti es o f
o cc ur ri ng . No bo dy wa nt st oh av et he ir ca rb re ak do wn in th em id dl eo ft he Sa ha ra de se rt an d
o nl yt he nt hi nk ab ou th av in ge no ug h w at er .
"2 If cy cl ic so lu ti on sa re re qu ir ed fo ra no nd et er mi ni st ic pr ob le m ,AND–ORs ea rc hm us tb eg en er al iz ed to al oo py"
"v er si on su ch as LAO∗(Ha ns en an d Zi lb er st ei n ,2001)."
"3 In 1954,a Mr s .Ho dg es of Al ab am aw as hi tb ym et eo ri te th at cr as he dt hr ou gh he rr oo f . In 1992, a pi ec eo f"
"t he Mb al em et eo ri te hi ta sm al lb oy on th eh ea d ;f or tu na te ly ,i ts de sc en tw as sl ow ed by ba na na le av es(Je nn is ke ns"
"e ta l .,1994).An di n 2009,a Ge rm an bo yc la im ed to ha ve be en hi ti nt he ha nd by ap ea-s iz ed me te or it e .No se ri ou s"
"i nj ur ie sr es ul te df ro ma ny of th es ei nc id en ts ,s ug ge st in gt ha tt he ne ed fo rp re pl an ni ng ag ai ns ts uc hc on ti ng en ci es"
i ss om et im es ov er st at ed .
Se ct io n 11.3. Pl an ni ng an d Ac ti ng in No nd et er mi ni st ic Do ma in s 423
w ho le p la n
p la n
S P E G
c on ti nu at io n
r ep ai r
O
"Fi gu re 11.9 Be fo re ex ec ut io n ,t he pl an ne rc om es up wi th ap la n ,h er ec al le dw ho le p la n ,"
"t og et fr om S t o G . Th ea ge nt ex ec ut es st ep so ft he pl an un ti li te xp ec ts to be in st at e E ,b ut"
o bs er ve si ti sa ct ua ll yi n O . Th ea ge nt th en re pl an sf or th em in im al re pa ir pl us co nt in ua ti on
t or ea ch G .
Re pl an ni ng ma ya ls ob en ee de di ft he ag en t’s mo de lo ft he wo rl di si nc or re ct . Th em od el
"MISSING f or an a ct io n m ay h av e a m is si ng p re co nd it io n—f or e xa mp le , t he a ge nt m ay n ot k no w t ha t"
PRECONDITION
r em ov in g t he l id o f a p ai nt c an o ft en r eq ui re s a s cr ew dr iv er ; t he m od el m ay h av e a m is si ng
"e ff ec t—f or ex am pl e , p ai nt in g a no bj ec tm ay ge tp ai nt on th ef lo or as we ll ;o rt he mo de lm ay"
MISSINGEFFECT
"MISSINGSTATE h av e a m is si ng s ta te v ar ia bl e—f or e xa mp le , t he m od el g iv en e ar li er h as n o n ot io n o f t he"
VARIABLE
"a mo un to fp ai nt i na ca n ,o fh ow it sa ct io ns a ff ec tt hi sa mo un t , o ro ft he ne ed fo rt he am ou nt"
t o b e n on ze ro . Th e m od el m ay a ls o l ac k p ro vi si on f or e xo ge no us e ve nt s s uc h a s s om eo ne
EXOGENOUSEVENT
"k no ck in g o ve r t he p ai nt c an . Ex og en ou s e ve nt s c an a ls o i nc lu de c ha ng es i n t he g oa l , s uc h"
a s t he a dd it io n o f t he r eq ui re me nt t ha t t he t ab le a nd c ha ir n ot b e p ai nt ed b la ck . Wi th ou t t he
"a bi li ty t o m on it or a nd r ep la n , a n a ge nt’s b eh av io r i s l ik el y t o b e e xt re me ly f ra gi le i f i t r el ie s"
o na bs ol ut ec or re ct ne ss o fi ts mo de l .
Th eo nl in e a ge nt h as ac ho ic e o fh ow c ar ef ul ly t om on it or th ee nv ir on me nt . We di st in-
g ui sh th re el ev el s:
"• Ac ti on mo ni to ri ng: b ef or ee xe cu ti ng an ac ti on ,t he ag en tv er if ie st ha ta ll th ep re co nd i-"
ACTIONMONITORING
t io ns st il lh ol d .
"• Pl an mo ni to ri ng: b ef or ee xe cu ti ng an ac ti on ,t he ag en tv er if ie st ha tt he re ma in in gp la n"
PLANMONITORING
w il ls ti ll su cc ee d .
"• Go al mo ni to ri ng: b ef or ee xe cu ti ng an ac ti on ,t he ag en tc he ck st os ee if th er ei sa be tt er"
GOALMONITORING
s et of go al si tc ou ld be tr yi ng to ac hi ev e .
In Fi gu re 11.9 w e s ee a s ch em at ic o f a ct io n m on it or in g . Th e a ge nt k ee ps t ra ck o f b ot h i ts
"o ri gi na l p la n , w ho le pl an , a nd t he p ar t o f t he p la n t ha t h as n ot b ee n e xe cu te d y et , w hi ch i s"
"d en ot ed b y p la n . Af te r e xe cu ti ng t he f ir st f ew s te ps o f t he p la n , t he a ge nt e xp ec ts t o b e i n"
s ta te E . Bu t t he a ge nt o bs er ve s i t i s a ct ua ll y i n s ta te O . It t he n n ee ds t o r ep ai r t he p la n b y
f in di ng so me po in t P o nt he or ig in al pl an th at it ca ng et ba ck to . (It ma yb et ha t P i st he go al
"s ta te ,G .) Th ea ge nt tr ie st om in im iz et he to ta lc os to ft he pl an: t he re pa ir pa rt(f ro m Ot o P)"
p lu st he co nt in ua ti on (f ro m P t o G).
424 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
No w l et’s r et ur n t o t he e xa mp le p ro bl em o f a ch ie vi ng a c ha ir a nd t ab le o f m at ch in g
c ol or . Su pp os et he ag en tc om es up wi th th is pl an:
"[Lo ok At(Ta bl e),Lo ok At(Ch ai r),"
"i f Co lo r(Ta bl e ,c)∧Co lo r(Ch ai r ,c)t he n No Op"
"e ls e[Re mo ve Li d(Ca n ),Lo ok At(Ca n ),"
1 1
"i f Co lo r(Ta bl e ,c)∧Co lo r(Ca n ,c)t he n Pa in t(Ch ai r ,Ca n )"
1 1
e ls e REPLAN]].
No w t he a ge nt i s r ea dy t o e xe cu te t he p la n . Su pp os e t he a ge nt o bs er ve s t ha t t he t ab le a nd
"c an o f p ai nt a re w hi te a nd t he c ha ir i s b la ck . It t he n e xe cu te s Pa in t(Ch ai r ,Ca n ). At t hi s"
1
p oi nt a c la ss ic al p la nn er w ou ld d ec la re v ic to ry ; t he p la n h as b ee n e xe cu te d . Bu t a n o nl in e
e xe cu ti on m on it or in g a ge nt n ee ds t oc he ck t he pr ec on di ti on s o ft he r em ai ni ng e mp ty pl an—
t ha t t he t ab le a nd c ha ir a re t he s am e c ol or . Su pp os e t he a ge nt p er ce iv es t ha t t he y d o n ot
"h av e t he s am e c ol or—i n f ac t , t he c ha ir i s n ow a m ot tl ed g ra y b ec au se t he b la ck p ai nt i s"
s ho wi ng t hr ou gh . Th e a ge nt t he n n ee ds t o f ig ur e o ut a p os it io n i n w ho le p la n t o a im f or
a nd a re pa ir a ct io n s eq ue nc e t og et t he re . Th ea ge nt n ot ic es t ha tt he c ur re nt s ta te i si de nt ic al
"t o t he p re co nd it io n b ef or e t he Pa in t(Ch ai r ,Ca n ) a ct io n , s o t he a ge nt c ho os es t he e mp ty"
1
s eq ue nc e f or r ep ai r a nd m ak es i ts p la n b e t he sa me [Pa in t]s eq ue nc e t ha t i t j us t a tt em pt ed .
"Wi th t hi s n ew p la n i n p la ce , e xe cu ti on m on it or in g r es um es , a nd t he Pa in t a ct io n i s r et ri ed ."
Th is be ha vi or w il ll oo p u nt il t he ch ai ri sp er ce iv ed t ob ec om pl et el y p ai nt ed . Bu tn ot ic e t ha t
"t he l oo p i s c re at ed b y a p ro ce ss o f p la n–e xe cu te–r ep la n , r at he r t ha n b y a n e xp li ci t l oo p i n a"
p la n . No te al so t ha t t he o ri gi na l p la n n ee d n ot co ve re ve ry c on ti ng en cy . If th e a ge nt r ea ch es
"t he st ep ma rk ed REPLAN ,i tc an th en ge ne ra te a ne wp la n(p er ha ps i nv ol vi ng Ca n 2)."
"Ac ti on m on it or in g i s a s im pl e m et ho d o f e xe cu ti on m on it or in g , b ut i t c an s om et im es"
"l ea d t o l es s t ha n i nt el li ge nt b eh av io r . Fo re xa mp le , s up po se t he re i s n o b la ck o rw hi te p ai nt ,"
a nd t he a ge nt c on st ru ct s a p la n t o s ol ve t he p ai nt in g p ro bl em b y p ai nt in g b ot h t he c ha ir a nd
"t ab le r ed . Su pp os e t ha t t he re i so nl y e no ug h r ed p ai nt f or th e c ha ir . Wi th a ct io n m on it or in g ,"
"t he ag en tw ou ld go ah ea da nd pa in tt he ch ai rr ed ,t he nn ot ic et ha ti ti so ut of pa in ta nd ca nn ot"
"p ai nt th et ab le ,a tw hi ch po in ti tw ou ld re pl an ar ep ai r—p er ha ps p ai nt in gb ot hc ha ir an dt ab le"
g re en . Ap la n-m on it or in g a ge nt c an de te ct f ai lu re w he ne ve r t he c ur re nt s ta te i ss uc h t ha t t he
"r em ai ni ng p la n n o l on ge r w or ks . Th us , i t w ou ld n ot w as te t im e p ai nt in g t he c ha ir r ed . Pl an"
m on it or in g a ch ie ve s t hi s b y c he ck in g t he p re co nd it io ns f or s uc ce ss o f t he e nt ir e r em ai ni ng
"p la n—t ha t i s , t he p re co nd it io ns o f e ac h s te p i n t he p la n , e xc ep t t ho se p re co nd it io ns t ha t a re"
a ch ie ve d b y a no th er s te p i n t he r em ai ni ng p la n . Pl an m on it or in g c ut s o ff e xe cu ti on o f a
"d oo me d p la n a s s oo n a s p os si bl e , r at he r t ha n c on ti nu in g u nt il t he f ai lu re a ct ua ll y o cc ur s .4"
Pl an m on it or in g a ls o a ll ow s f or s er en di pi ty—a cc id en ta l s uc ce ss . If s om eo ne c om es a lo ng
"a nd pa in ts th et ab le re da tt he sa me ti me th at th ea ge nt is pa in ti ng th ec ha ir re d ,t he nt he fi na l"
"p la np re co nd it io ns ar es at is fi ed(t he go al ha sb ee na ch ie ve d),a nd th ea ge nt ca ng oh om ee ar ly ."
It i s s tr ai gh tf or wa rd t o m od if y a p la nn in g a lg or it hm s o t ha t e ac h a ct io n i n t he p la n
"i s a nn ot at ed w it h t he a ct io n’s p re co nd it io ns , t hu s e na bl in g a ct io n m on it or in g . It i s s li gh tl y"
"4 Pl an mo ni to ri ng me an st ha tf in al ly ,a ft er 424 p ag es ,w eh av ea na ge nt th at is sm ar te rt ha na du ng be et le(s ee"
p ag e 39). Ap la n-m on it or in ga ge nt wo ul dn ot ic et ha tt he du ng ba ll wa sm is si ng fr om it sg ra sp an dw ou ld re pl an
t og et an ot he rb al la nd pl ug it sh ol e .
Se ct io n 11.4. Mu lt ia ge nt Pl an ni ng 425
m or e c om pl ex t o e na bl e p la n m on it or in g . Pa rt ia l-o rd er a nd p la nn in g-g ra ph p la nn er s h av e
t he a dv an ta ge t ha t t he y h av e a lr ea dy b ui lt u p s tr uc tu re s t ha t c on ta in t he r el at io ns n ec es sa ry
f or pl an mo ni to ri ng . Au gm en ti ng st at e-s pa ce p la nn er s w it h t he ne ce ss ar y a nn ot at io ns c an be
d on eb yc ar ef ul bo ok ke ep in g a st he go al fl ue nt sa re re gr es se d t hr ou gh th ep la n .
"No w t ha t w e h av e d es cr ib ed a m et ho d f or m on it or in g a nd r ep la nn in g , w e n ee d t o a sk ,"
"“Do es i t w or k ?” Th is i s a s ur pr is in gl y t ri ck y q ue st io n . If w e m ea n , “Ca n w e g ua ra nt ee t ha t"
"t he a ge nt w il l a lw ay s a ch ie ve t he g oa l ?” t he n t he a ns we r i s n o , b ec au se t he a ge nt c ou ld"
"i na dv er te nt ly a rr iv e a t a d ea d e nd f ro m w hi ch t he re i s n o r ep ai r . Fo r e xa mp le , t he v ac uu m"
a ge nt m ig ht h av e a f au lt y m od el o f i ts el f a nd n ot k no w t ha t i ts b at te ri es c an r un o ut . On ce
"t he yd o ,i tc an no t r ep ai ra ny pl an s . If we ru le ou td ea de nd s—a ss um e t ha tt he re ex is ts a pl an"
t o r ea ch t he g oa l f ro m a ny s ta te i n t he e nv ir on me nt—a nd a ss um e t ha t t he e nv ir on me nt i s
"r ea ll y n on de te rm in is ti c , i n t he s en se t ha t s uc h a p la n a lw ay s h as s om e c ha nc e o f s uc ce ss o n"
"a ny gi ve ne xe cu ti on at te mp t ,t he nt he ag en tw il le ve nt ua ll y r ea ch th eg oa l ."
"Tr ou bl e o cc ur s w he n a n a ct io n i s a ct ua ll y n ot n on de te rm in is ti c , b ut r at he r d ep en ds o n"
"s om e p re co nd it io n t ha t t he a ge nt d oe s n ot k no w a bo ut . Fo r e xa mp le , s om et im es a p ai nt"
"c an ma yb ee mp ty ,s op ai nt in gf ro mt ha tc an ha sn oe ff ec t . No am ou nt of re tr yi ng i sg oi ng to"
"c ha ng et hi s .5 On es ol ut io ni st oc ho os er an do ml yf ro ma mo ng th es et of po ss ib le re pa ir pl an s ,"
"r at he rt ha nt ot ry th es am eo ne ea ch ti me . In th is ca se ,t he re pa ir pl an of op en in g a no th er ca n"
m ig ht w or k . A b et te r a pp ro ac h i s t o l ea rn a b et te r m od el . Ev er y p re di ct io n f ai lu re i s a n
o pp or tu ni ty f or le ar ni ng ; a na ge nt s ho ul d b e a bl e t om od if y i ts mo de l o ft he w or ld to a cc or d
"w it hi ts pe rc ep ts . Fr om th en o n ,t he re pl an ne r w il lb ea bl e t o c om eu pw it ha re pa ir th at ge ts"
"a tt he ro ot pr ob le m ,r at he rt ha nr el yi ng on lu ck to ch oo se ag oo dr ep ai r . Th is ki nd of le ar ni ng"
i sd es cr ib ed i n Ch ap te rs 18 a nd 19.
11.4 MULTIAGENT PLANNING
"So f ar , w e h av e a ss um ed t ha t o nl y o ne a ge nt i s d oi ng t he s en si ng , p la nn in g , a nd a ct in g ."
"Wh en th er ea re mu lt ip le a ge nt si nt he en vi ro nm en t , e ac ha ge nt f ac es am ul ti ag en tp la nn in g"
MULTIAGENT p ro bl em in wh ic hi tt ri es to ac hi ev ei ts ow ng oa ls wi th th eh el po rh in dr an ce o fo th er s .
PLANNINGPROBLEM
Be tw ee nt he pu re ly si ng le-a ge nt a nd tr ul ym ul ti ag en tc as es i sa wi de sp ec tr um of pr ob-
l em s t ha t e xh ib it v ar io us d eg re es o f d ec om po si ti on o f t he m on ol it hi c a ge nt . An a ge nt w it h
"m ul ti pl e e ff ec to rs t ha t c an o pe ra te c on cu rr en tl y—f or e xa mp le , a h um an w ho c an t yp e a nd"
MULTIEFFECTOR s pe ak a tt he s am e t im e—n ee ds t o d o m ul ti ef fe ct or p la nn in gt o m an ag e e ac h e ff ec to r w hi le
PLANNING
h an dl in g p os it iv e a nd n eg at iv e i nt er ac ti on s a mo ng t he e ff ec to rs . Wh en t he e ff ec to rs a re
p hy si ca ll y d ec ou pl ed i nt o d et ac he d u ni ts—a s i n a f le et o f d el iv er y r ob ot s i n a f ac to ry—
MULTIBODY m ul ti ef fe ct or p la nn in g b ec om es m ul ti bo dy p la nn in g . A m ul ti bo dy p ro bl em i s s ti ll a “s ta n-
PLANNING
d ar d”s in gl e-a ge nt p ro bl em as lo ng as th er el ev an ts en so ri nf or ma ti on co ll ec te db ye ac hb od y
c an b e p oo le d—e it he r c en tr al ly o r w it hi n e ac h b od y—t o f or m a c om mo n e st im at e o f t he
"w or ld st at et ha tt he ni nf or ms th ee xe cu ti on o ft he ov er al lp la n ;i nt hi sc as e , t he mu lt ip le bo d-"
"i es a ct a s a s in gl e b od y . Wh en c om mu ni ca ti on c on st ra in ts m ak e t hi s i mp os si bl e , w e h av e"
5 Fu ti le re pe ti ti on of ap la nr ep ai ri se xa ct ly th eb eh av io re xh ib it ed by th es ph ex wa sp(p ag e 39).
426 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"DECENTRALIZED w ha ti ss om et im es ca ll ed ad ec en tr al iz ed pl an ni ng pr ob le m ;t hi si sp er ha ps am is no me r ,b e-"
PLANNING
c au se th ep la nn in gp ha se is ce nt ra li ze db ut th ee xe cu ti on ph as ei sa tl ea st pa rt ia ll yd ec ou pl ed .
"In th is ca se ,t he su bp la nc on st ru ct ed f or ea ch bo dy ma yn ee dt oi nc lu de ex pl ic it co mm un ic a-"
"t iv ea ct io ns w it ho th er bo di es . Fo re xa mp le , m ul ti pl e r ec on na is sa nc e r ob ot s c ov er in g a wi de"
a re am ay of te nb eo ut of ra di oc on ta ct wi th ea ch ot he ra nd sh ou ld sh ar et he ir fi nd in gs du ri ng
t im es wh en co mm un ic at io n i sf ea si bl e .
"Wh en a s in gl e e nt it y i s d oi ng t he p la nn in g , t he re i s r ea ll y o nl y o ne g oa l , w hi ch a ll t he"
"b od ie sn ec es sa ri ly sh ar e . Wh en th eb od ie sa re di st in ct ag en ts th at do th ei ro wn pl an ni ng ,t he y"
"m ay s ti ll s ha re i de nt ic al g oa ls ; f or e xa mp le , t wo h um an t en ni s p la ye rs w ho f or m a d ou bl es"
"t ea m s ha re t he g oa l o f w in ni ng t he m at ch . Ev en w it h s ha re d g oa ls , h ow ev er , t he m ul ti bo dy"
"a nd m ul ti ag en t c as es a re q ui te d if fe re nt . In a m ul ti bo dy r ob ot ic d ou bl es t ea m , a s in gl e p la n"
d ic ta te s w hi ch b od y w il lg o w he re o n t he c ou rt a nd w hi ch b od y w il lh it t he b al l . In a m ul ti-
"a ge nt d ou bl es t ea m ,o nt he ot he rh an d , e ac ha ge nt d ec id es w ha tt od o ;w it ho ut s om em et ho d"
"f or c oo rd in at io n , b ot h a ge nt s m ay d ec id e t o c ov er t he s am e p ar t o f t he c ou rt a nd e ac h m ay"
COORDINATION
l ea ve th eb al lf or th eo th er to hi t .
"Th ec le ar es t c as eo fa mu lt ia ge nt p ro bl em , o fc ou rs e , i sw he n t he a ge nt s h av ed if fe re nt"
"g oa ls . In t en ni s , t he g oa ls o f t wo o pp os in g t ea ms a re i n d ir ec t c on fl ic t , l ea di ng t o t he z er o-"
s um s it ua ti on o f Ch ap te r 5. Sp ec ta to rs c ou ld b e v ie we d a s a ge nt s i f t he ir s up po rt o rd is da in
"i s a s ig ni fi ca nt f ac to r a nd c an b e i nf lu en ce d b y t he p la ye rs’ c on du ct ; o th er wi se , t he y c an b e"
t re at ed a sa na sp ec t o fn at ur e—j us t l ik et he we at he r—t ha t i s a ss um ed to be in di ff er en t t ot he
p la ye rs’ i nt en ti on s .6
"Fi na ll y , s om e s ys te ms a re a m ix tu re o f c en tr al iz ed a nd m ul ti ag en t p la nn in g . Fo r e x-"
"a mp le , a d el iv er y c om pa ny m ay d o c en tr al iz ed , o ff li ne p la nn in g f or t he r ou te s o f i ts t ru ck s"
"a nd p la ne s e ac h d ay , b ut l ea ve s om e a sp ec ts o pe n f or a ut on om ou s d ec is io ns b y d ri ve rs a nd"
"p il ot s w ho c an r es po nd i nd iv id ua ll y t o t ra ff ic a nd w ea th er s it ua ti on s . Al so , t he g oa ls o f t he"
"c om pa ny a nd i ts e mp lo ye es a re b ro ug ht i nt o a li gn me nt , t o s om e e xt en t , b y t he p ay me nt o f"
i nc en ti ve s(s al ar ie sa nd bo nu se s)—a s ur es ig nt ha tt hi si sa tr ue mu lt ia ge nt sy st em .
INCENTIVE
Th e i ss ue s i nv ol ve d i n m ul ti ag en t p la nn in g c an b e d iv id ed r ou gh ly i nt o t wo s et s . Th e
"f ir st , c ov er ed i n Se ct io n 11.4.1, i nv ol ve s i ss ue s o f r ep re se nt in g a nd p la nn in g f or m ul ti pl e"
s im ul ta ne ou s a ct io ns ;t he se is su es oc cu ri na ll se tt in gs fr om mu lt ie ff ec to rt om ul ti ag en tp la n-
"n in g . Th e s ec on d , c ov er ed i n Se ct io n 11.4.2, i nv ol ve s i ss ue s o f c oo pe ra ti on , c oo rd in at io n ,"
a nd co mp et it io n a ri si ng in tr ue mu lt ia ge nt se tt in gs .
11.4.1 Pl an ni ng w it hm ul ti pl es im ul ta ne ou s a ct io ns
"Fo rt he t im e b ei ng , w ew il l t re at t he m ul ti ef fe ct or , m ul ti bo dy , a nd m ul ti ag en t s et ti ng s i n t he"
"s am e w ay , l ab el in g t he m g en er ic al ly a s m ul ti ac to r s et ti ng s , u si ng t he g en er ic t er m a ct or t o"
MULTIACTOR
"c ov er e ff ec to rs , b od ie s , a nd a ge nt s . Th e g oa l o f t hi s s ec ti on i s t o w or k o ut h ow t o d ef in e"
ACTOR
"t ra ns it io n m od el s , c or re ct p la ns , a nd e ff ic ie nt p la nn in g a lg or it hm s f or th e m ul ti ac to r s et ti ng ."
"Ac or re ct pl an is on et ha t ,i fe xe cu te db yt he ac to rs ,a ch ie ve st he go al . (In th et ru em ul ti ag en t"
"s et ti ng , o f c ou rs e , t he a ge nt s m ay n ot a gr ee t o e xe cu te a ny p ar ti cu la r p la n , b ut a t l ea st t he y"
"6 We a po lo gi ze t o r es id en ts o f t he Un it ed Ki ng do m , w he re t he m er e a ct o f c on te mp la ti ng a g am e o f t en ni s"
g ua ra nt ee sr ai n .
Se ct io n 11.4. Mu lt ia ge nt Pl an ni ng 427
"Ac to rs(A ,B)"
"In it(At(A ,Le ft Ba se li ne) ∧ At(B ,Ri gh t Ne t) ∧"
"Ap pr oa ch in g(Ba ll ,Ri gh t Ba se li ne)) ∧ Pa rt ne r(A ,B) ∧ Pa rt ne r(B ,A)"
"Go al(Re tu rn ed(Ba ll) ∧ (At(a ,Ri gh t Ne t) ∨ At(a ,Le ft Ne t))"
"Ac ti on(Hi t(a ct or ,Ba ll),"
"PRECOND:Ap pr oa ch in g(Ba ll ,l oc) ∧ At(a ct or ,l oc)"
EFFECT:Re tu rn ed(Ba ll))
"Ac ti on(Go(a ct or ,t o),"
"PRECOND:At(a ct or ,l oc) ∧ t o (c id:7)= l oc ,"
"EFFECT:At(a ct or ,t o) ∧ ¬At(a ct or ,l oc))"
Fi gu re 11.10 Th ed ou bl es te nn is pr ob le m . Tw oa ct or s Aa nd B a re pl ay in gt og et he ra nd
"c an be in on eo ff ou rl oc at io ns: Le ft Ba se li ne ,Ri gh t Ba se li ne ,Le ft Ne t ,a nd Ri gh t Ne t . Th e"
b al lc an be re tu rn ed on ly if ap la ye ri si nt he ri gh tp la ce . No te th at ea ch ac ti on mu st in cl ud e
t he ac to ra sa na rg um en t .
"w il l k no w w ha t p la ns w ou ld w or k i f t he y d id a gr ee t o e xe cu te t he m .) Fo r s im pl ic it y , w e"
a ss um e p er fe ct s yn ch ro ni za ti on: e ac h a ct io n t ak es t he s am e a mo un t o f t im e a nd a ct io ns a t
SYNCHRONIZATION
e ac hp oi nt in th ej oi nt pl an ar es im ul ta ne ou s .
"We b eg in w it h t he t ra ns it io n m od el ; f or t he d et er mi ni st ic c as e , t hi s i s t he f un ct io n"
"RESULT(s ,a). In t he s in gl e-a ge nt s et ti ng , t he re m ig ht b e b d if fe re nt c ho ic es f or t he a ct io n ;"
"b c an b e q ui te l ar ge , e sp ec ia ll y f or f ir st-o rd er r ep re se nt at io ns w it h m an y o bj ec ts t o a ct o n ,"
b ut a ct io n s ch em as p ro vi de a c on ci se r ep re se nt at io n n on et he le ss . In t he m ul ti ac to r s et ti ng
"w it h n a ct or s , t he s in gl e a ct io n a i s r ep la ce d b y a j oi nt a ct io n (c id:16)a ,...,a (c id:17), w he re a i s t he"
JOINTACTION 1 n i
"a ct io n t ak en b y t he i th a ct or . Im me di at el y , w e s ee t wo p ro bl em s: f ir st , w e h av e t o d es cr ib e"
"t he t ra ns it io n m od el f or b n d if fe re nt j oi nt a ct io ns ; s ec on d , w e h av e a j oi nt p la nn in g p ro bl em"
w it ha br an ch in g f ac to ro fb n .
"Ha vi ng p ut t he a ct or s t og et he r i nt o a m ul ti ac to r s ys te m w it h a h ug e b ra nc hi ng f ac to r ,"
t he p ri nc ip al f oc us o f r es ea rc h o n m ul ti ac to r p la nn in g h as b ee n t o d ec ou pl e t he a ct or s t o
"t he e xt en t p os si bl e , s o t ha t t he c om pl ex it y o f t he p ro bl em g ro ws l in ea rl y w it h n r at he r t ha n"
"e xp on en ti al ly . If th ea ct or sh av en oi nt er ac ti on wi th on ea no th er—f or ex am pl e ,n ac to rs ea ch"
p la yi ng a ga me of so li ta ir e—t he n w ec an si mp ly so lv e n se pa ra te p ro bl em s . If th ea ct or s a re
"l oo se ly c ou pl ed ,c an we at ta in so me th in g c lo se to th is ex po ne nt ia l i mp ro ve me nt ? Th is is ,o f"
LOOSELYCOUPLED
"c ou rs e , a c en tr al q ue st io n i n m an y a re as o f AI . We h av e s ee n i t e xp li ci tl y i n t he c on te xt o f"
"CSPs ,w he re “t re e l ik e” c on st ra in t g ra ph s y ie ld ed e ff ic ie nt s ol ut io n m et ho ds (s ee p ag e 225),"
a s w el l a s i n t he c on te xt o f d is jo in t p at te rn d at ab as es (p ag e 106) a nd a dd it iv e h eu ri st ic s f or
p la nn in g (p ag e 378).
Th es ta nd ar da pp ro ac ht ol oo se ly co up le dp ro bl em si st op re te nd th ep ro bl em sa re co m-
"p le te ly de co up le da nd th en fi xu pt he in te ra ct io ns . Fo rt he tr an si ti on mo de l ,t hi sm ea ns wr it in g"
a ct io ns ch em as as if th ea ct or sa ct ed in de pe nd en tl y . Le t’s se eh ow th is wo rk sf or th ed ou bl es
"t en ni sp ro bl em . Le t’s su pp os et ha ta to ne po in ti nt he ga me ,t he te am ha st he go al of re tu rn in g"
t he b al l t ha t h as b ee n h it t o t he m a nd e ns ur in g t ha t a t l ea st o ne o f t he m i s c ov er in g t he n et .
428 Ch ap te r 11. Pl an ni ng an d Ac ti ng in th e Re al Wo rl d
"A f ir st pa ss a t a mu lt ia ct or d ef in it io n m ig ht l oo k l ik e Fi gu re 11.10. Wi th t hi s d ef in it io n , i ti s"
e as yt os ee th at th ef ol lo wi ng jo in tp la np la nw or ks:
JOINTPLAN
PLAN 1:
"A: [Go(A ,Ri gh t Ba se li ne),Hi t(A ,Ba ll)]"
"B : [No Op(B),No Op(B)]."
"Pr ob le ms ar is e ,h ow ev er ,w he na pl an ha sb ot ha ge nt sh it ti ng t he ba ll at th es am et im e . In th e"
"r ea l w or ld , t hi s w on’t w or k , b ut t he a ct io n s ch em a f or Hi t s ay s t ha t t he b al l w il l b e r et ur ne d"
"s uc ce ss fu ll y . Te ch ni ca ll y , t he d if fi cu lt y i s t ha t p re co nd it io ns c on st ra in t he s ta te i n w hi ch a n"
"a ct io n c an be ex ec ut ed s uc ce ss fu ll y , b ut do no tc on st ra in o th er ac ti on s t ha tm ig ht me ss it up ."
CONCURRENT We so lv et hi sb ya ug me nt in g a ct io n s ch em as wi th on en ew fe at ur e: a c on cu rr en ta ct io n l is t
ACTIONLIST
"s ta ti ng wh ic ha ct io ns mu st or mu st no tb ee xe cu te dc on cu rr en tl y . Fo re xa mp le ,t he Hi t a ct io n"
c ou ld be de sc ri be d a sf ol lo ws:
"Ac ti on(Hi t(a ,Ba ll),"
"CONCURRENT:b(c id:7)= a ⇒ ¬Hi t(b ,Ba ll)"
"PRECOND:Ap pr oa ch in g(Ba ll ,l oc)∧At(a ,l oc)"
EFFECT:Re tu rn ed(Ba ll)).
"In o th er w or ds , t he Hi t a ct io n h as i ts s ta te d e ff ec t o nl y i f n o o th er Hi t a ct io n b y a no th er"
"a ge nt o cc ur s a t t he s am e t im e . (In t he SATPLAN a pp ro ac h , t hi s w ou ld b e h an dl ed b y a"
"p ar ti al a ct io n e xc lu si on a xi om .) Fo rs om e a ct io ns , t he d es ir ed e ff ec t i s a ch ie ve d o nl y w he n"
"a no th er ac ti on oc cu rs co nc ur re nt ly . Fo re xa mp le ,t wo ag en ts ar en ee de dt oc ar ry ac oo le rf ul l"
o fb ev er ag es t ot he te nn is co ur t:
"Ac ti on(Ca rr y(a ,c oo le r ,h er e ,t he re),"
"CONCURRENT:b (c id:7)= a∧Ca rr y(b ,c oo le r ,h er e ,t he re)"
"PRECOND:At(a ,h er e)∧At(c oo le r ,h er e)∧Co ol er(c oo le r)"
"EFFECT:At(a ,t he re)∧At(c oo le r ,t he re)∧¬At(a ,h er e)∧¬At(c oo le r ,h er e))."
"Wi th t he se k in ds o f a ct io n s ch em as , a ny o f t he p la nn in g a lg or it hm s d es cr ib ed i n Ch ap te r 10"
c an be ad ap te dw it ho nl ym in or mo di fi ca ti on st og en er at em ul ti ac to rp la ns . To th ee xt en tt ha t
t he co up li ng am on gs ub pl an si sl oo se—m ea ni ng t ha tc on cu rr en cy c on st ra in ts c om ei nt op la y
o nl y r ar el y d ur in g p la n s ea rc h—o ne w ou ld e xp ec t t he v ar io us h eu ri st ic s d er iv ed f or s in gl e-
a ge nt p la nn in g t o a ls o b e e ff ec ti ve i n t he m ul ti ac to r c on te xt . We co ul d e xt en d t hi s a pp ro ac h
"w it ht he re fi ne me nt so ft he la st tw oc ha pt er s—HTNs ,p ar ti al ob se rv ab il it y , c on di ti on al s , e xe-"
"c ut io nm on it or in g , a nd re pl an ni ng—b ut t ha ti sb ey on dt he sc op eo ft hi sb oo k ."
11.4.2 Pl an ni ng w it hm ul ti pl ea ge nt s: Co op er at io na nd c oo rd in at io n
No w l et u s c on si de r t he t ru e m ul ti ag en t s et ti ng i n w hi ch e ac h a ge nt m ak es i ts o wn p la n . To
"s ta rt w it h , l et u s a ss um e t ha t t he g oa ls a nd k no wl ed ge b as e a re s ha re d . On e m ig ht t hi nk"
t ha t t hi s r ed uc es t o t he m ul ti bo dy c as e—e ac h a ge nt s im pl y c om pu te s t he j oi nt s ol ut io n a nd
"e xe cu te s i ts o wn p ar t o f t ha t s ol ut io n . Al as , t he “t he” i n “t he j oi nt s ol ut io n” i s m is le ad in g ."
"Fo ro ur do ub le st ea m ,m or et ha no ne jo in ts ol ut io ne xi st s:"
PLAN 2:
"A: [Go(A ,Le ft Ne t),No Op(A)]"
"B : [Go(B ,Ri gh t Ba se li ne),Hi t(B ,Ba ll)]."
Se ct io n 11.4. Mu lt ia ge nt Pl an ni ng 429
"If bo th ag en ts ca na gr ee on ei th er pl an 1 o rp la n 2,t he go al wi ll be ac hi ev ed . Bu ti f Ac ho os es"
"p la n 2 a nd Bc ho os es pl an 1,t he nn ob od yw il lr et ur nt he ba ll . Co nv er se ly ,i f Ac ho os es 1 a nd"
"B c ho os es 2,t he n t he yw il lb ot h t ry to hi tt he ba ll . Th ea ge nt s m ay re al iz e t hi s , b ut h ow ca n"
t he yc oo rd in at e t om ak es ur et he ya gr ee on th ep la n ?
On eo pt io n i s t o a do pt a co nv en ti on b ef or e e ng ag in g i n j oi nt a ct iv it y . A c on ve nt io n i s
CONVENTION
"a ny co ns tr ai nt on th es el ec ti on of jo in tp la ns . Fo re xa mp le , t he co nv en ti on “s ti ck to yo ur si de"
"o ft he co ur t” w ou ld ru le o ut pl an 1,c au si ng t he do ub le s p ar tn er s t os el ec t p la n 2. Dr iv er so n"
a ro ad fa ce th ep ro bl em of no tc ol li di ng wi th ea ch ot he r ;t hi s i s(p ar ti al ly)s ol ve db ya do pt in g
"t he c on ve nt io n “s ta y o n t he r ig ht s id e o f t he r oa d” i n m os t c ou nt ri es ; t he a lt er na ti ve , “s ta y"
"o n t he l ef t s id e ,” w or ks e qu al ly w el l a s l on g a s a ll a ge nt s i n a n e nv ir on me nt a gr ee . Si mi la r"
"c on si de ra ti on s a pp ly to th ed ev el op me nt of hu ma nl an gu ag e , w he re th ei mp or ta nt th in gi sn ot"
"w hi ch l an gu ag e e ac h i nd iv id ua l s ho ul d s pe ak , b ut t he f ac t t ha t a c om mu ni ty a ll s pe ak s t he"
"s am el an gu ag e . Wh en co nv en ti on s a re wi de sp re ad , t he ya re ca ll ed s oc ia ll aw s ."
SOCIALLAWS
"In t he a bs en ce o f a c on ve nt io n , a ge nt s c an u se c om mu ni ca ti on t o a ch ie ve c om mo n"
"k no wl ed ge o f a f ea si bl e j oi nt p la n . Fo r e xa mp le , a t en ni s p la ye r c ou ld s ho ut “Mi ne !” o r"
“Yo ur s !” t oi nd ic at ea pr ef er re dj oi nt pl an . We co ve rm ec ha ni sm sf or co mm un ic at io ni nm or e
"d ep th i n Ch ap te r 22, w he re w e o bs er ve t ha t c om mu ni ca ti on d oe s n ot n ec es sa ri ly i nv ol ve a"
"v er ba le xc ha ng e . Fo re xa mp le ,o ne pl ay er ca nc om mu ni ca te ap re fe rr ed jo in tp la nt ot he ot he r"
"s im pl y b y e xe cu ti ng t he f ir st p ar t o f i t . If a ge nt Ah ea ds f or th e n et , t he n a ge nt B i s o bl ig ed"
"t og ob ac kt ot he ba se li ne to hi tt he ba ll ,b ec au se pl an 2 i st he on ly jo in tp la nt ha tb eg in sw it h"
"A’s h ea di ng f or th e n et . Th is a pp ro ac h t o c oo rd in at io n , s om et im es c al le d p la nr ec og ni ti on ,"
PLANRECOGNITION
w or ks wh en as in gl ea ct io n(o rs ho rt se qu en ce o fa ct io ns)i se no ug ht od et er mi ne aj oi nt pl an
u na mb ig uo us ly . No te t ha t c om mu ni ca ti on c an w or ka s w el lw it h c om pe ti ti ve a ge nt s a sw it h
c oo pe ra ti ve o ne s .
"Co nv en ti on s c an a ls o a ri se t hr ou gh e vo lu ti on ar y p ro ce ss es . Fo r e xa mp le , s ee d-e at in g"
h ar ve st er a nt s a re s oc ia l c re at ur es t ha t e vo lv ed f ro m t he l es s s oc ia l w as ps . Co lo ni es o f a nt s
e xe cu te v er y e la bo ra te j oi nt p la ns w it ho ut a ny c en tr al iz ed c on tr ol—t he q ue en’s j ob i s t o r e-
"p ro du ce , n ot t o d o c en tr al iz ed p la nn in g—a nd w it h v er y l im it ed c om pu ta ti on , c om mu ni ca-"
"t io n ,a nd me mo ry ca pa bi li ti es i ne ac ha nt(Go rd on , 2000,2007). Th ec ol on yh as ma ny ro le s ,"
"i nc lu di ng i nt er io r w or ke rs , p at ro ll er s , a nd f or ag er s . Ea ch a nt c ho os es t o p er fo rm a r ol e a c-"
"c or di ng t ot he l oc al c on di ti on s i t o bs er ve s . Fo re xa mp le , f or ag er s t ra ve l a wa yf ro m t he n es t ,"
"s ea rc hf or as ee d ,a nd wh en th ey fi nd on e , b ri ng it ba ck im me di at el y . Th us ,t he ra te at wh ic h"
f or ag er s r et ur n t o t he n es t i s a n a pp ro xi ma ti on o f t he a va il ab il it y o f f oo d t od ay . Wh en t he
"r at ei sh ig h , o th er an ts ab an do n t he ir cu rr en t r ol ea nd ta ke on th er ol eo fs ca ve ng er . Th ea nt s"
a pp ea rt oh av ea co nv en ti on on th ei mp or ta nc eo fr ol es—f or ag in gi st he mo st im po rt an t—a nd
"a nt sw il le as il ys wi tc hi nt ot he mo re im po rt an tr ol es , b ut no ti nt ot he le ss im po rt an t . Th er ei s"
s om el ea rn in gm ec ha ni sm: a co lo ny le ar ns to ma ke mo re su cc es sf ul an dp ru de nt ac ti on so ve r
"t he co ur se of it sd ec ad es-l on g l if e ,e ve nt ho ug hi nd iv id ua l a nt sl iv eo nl ya bo ut ay ea r ."
On ef in al ex am pl eo fc oo pe ra ti ve m ul ti ag en t b eh av io r a pp ea rs i nt he fl oc ki ng b eh av io r
o f b ir ds . We c an o bt ai n a r ea so na bl e s im ul at io n o f a f lo ck i f e ac h b ir d a ge nt (s om et im es
BOID c al le d a b oi d) o bs er ve s t he p os it io ns o f i ts n ea re st n ei gh bo rs a nd t he n c ho os es t he h ea di ng
a nd ac ce le ra ti on t ha tm ax im iz es th ew ei gh te ds um of th es et hr ee co mp on en ts:
12
KNOWLEDGE
REPRESENTATION
In w hi ch w e s ho w h ow t o u se f ir st-o rd er l og ic t o r ep re se nt t he m os t i mp or ta nt
"a sp ec ts of th er ea lw or ld ,s uc ha sa ct io n , s pa ce ,t im e ,t ho ug ht s , a nd sh op pi ng ."
"Th e p re vi ou s c ha pt er s d es cr ib ed t he t ec hn ol og y f or k no wl ed ge-b as ed a ge nt s: t he s yn ta x ,"
"s em an ti cs , a nd pr oo f t he or yo fp ro po si ti on al a nd fi rs t-o rd er lo gi c , a nd th ei mp le me nt at io n o f"
a ge nt s t ha t u se t he se l og ic s . In t hi s c ha pt er w e a dd re ss t he q ue st io n o f w ha t c on te nt t o p ut
i nt os uc ha na ge nt’s kn ow le dg e b as e—h ow to re pr es en t f ac ts ab ou tt he wo rl d .
"Se ct io n 12.1 i nt ro du ce s t he i de a o f a g en er al o nt ol og y , w hi ch o rg an iz es e ve ry th in g i n"
"t he w or ld i nt o a h ie ra rc hy o f c at eg or ie s . Se ct io n 12.2 c ov er s t he b as ic c at eg or ie s o f o bj ec ts ,"
"s ub st an ce s , a nd me as ur es ;Se ct io n 12.3 c ov er se ve nt s ,a nd Se ct io n 12.4 d is cu ss es kn ow le dg e"
a bo ut b el ie fs . We t he n r et ur n t o c on si de r t he t ec hn ol og y f or r ea so ni ng w it h t hi s c on te nt:
"Se ct io n 12.5 d is cu ss es r ea so ni ng s ys te ms d es ig ne d f or e ff ic ie nt i nf er en ce w it h c at eg or ie s ,"
a nd Se ct io n 12.6 d is cu ss es r ea so ni ng w it h d ef au lt i nf or ma ti on . Se ct io n 12.7 b ri ng s a ll t he
k no wl ed ge to ge th er in th ec on te xt of an In te rn et s ho pp in g e nv ir on me nt .
12.1 ONTOLOGICAL ENGINEERING
"In“t oy”d om ai ns ,t he ch oi ce of re pr es en ta ti on i sn ot th at im po rt an t ;m an yc ho ic es wi ll wo rk ."
Co mp le x d om ai ns s uc h a s s ho pp in g o n t he In te rn et o r d ri vi ng a c ar i n t ra ff ic r eq ui re m or e
"g en er al a nd fl ex ib le re pr es en ta ti on s . Th is ch ap te rs ho ws ho wt oc re at et he se r ep re se nt at io ns ,"
"c on ce nt ra ti ng o n g en er al c on ce pt s—s uc h a s Ev en ts , Ti me , Ph ys ic al Ob je ct s , a nd Be li ef s—"
t ha t o cc ur i n m an y d if fe re nt d om ai ns . Re pr es en ti ng t he se a bs tr ac t c on ce pt s i s s om et im es
ONTOLOGICAL c al le do nt ol og ic al e ng in ee ri ng .
ENGINEERING
"Th ep ro sp ec t o f r ep re se nt in g e ve ry th in g i n t he w or ld i s d au nt in g . Of co ur se , w ew on’t"
a ct ua ll y w ri te a c om pl et e d es cr ip ti on o f e ve ry th in g—t ha t w ou ld b e f ar t oo m uc h f or e ve n a
1000-p ag e t ex tb oo k—b ut w e w il l l ea ve p la ce ho ld er s w he re n ew k no wl ed ge f or a ny d om ai n
"c an fi ti n . Fo re xa mp le ,w ew il ld ef in ew ha ti tm ea ns to be ap hy si ca lo bj ec t ,a nd th ed et ai ls of"
"d if fe re nt ty pe so fo bj ec ts—r ob ot s ,t el ev is io ns ,b oo ks ,o rw ha te ve r—c an be fi ll ed in la te r . Th is"
i sa na lo go us to th ew ay th at de si gn er so fa no bj ec t-o ri en te d p ro gr am mi ng fr am ew or k(s uc ha s
"t he Ja va Sw in gg ra ph ic al fr am ew or k)d ef in eg en er al co nc ep ts l ik e Wi nd ow ,e xp ec ti ng us er st o"
437
438 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
An yt hi ng
Ab st ra ct Ob je ct s Ge ne ra li ze d Ev en ts
Se ts Nu mb er s Re pr es en ta ti on al Ob je ct s In te rv al Pl ac es Ph ys ic al Ob je ct s Pr oc es se s
Ca te go ri es Se nt en ce s Me as ur em en ts Mo me nt s Th in gs St uf f
Ti me s We ig ht s An im al s Ag en ts So li d Li qu id Ga s
Hu ma ns
"Fi gu re 12.1 Th e u pp er on to lo gy of t he w or ld , s ho wi ng th e t op ic s t o b e c ov er ed la te r i n"
t he ch ap te r . Ea ch l in ki nd ic at es th at th e l ow er co nc ep ti sa s pe ci al iz at io no f t he u pp er on e .
"Sp ec ia li za ti on s a re n ot n ec es sa ri ly d is jo in t ; a h um an i s b ot h a n a ni ma l a nd a n a ge nt , f or"
e xa mp le .We wi ll se ei n Se ct io n 12.3.3 w hy ph ys ic al ob je ct sc om eu nd er ge ne ra li ze de ve nt s .
u se t he se t o d ef in e m or e s pe ci fi c c on ce pt s l ik e Sp re ad sh ee t Wi nd ow . Th e g en er al f ra me wo rk
o f c on ce pt s i s c al le d a n u pp er o nt ol og y b ec au se o f t he c on ve nt io n o f d ra wi ng g ra ph s w it h
UPPERONTOLOGY
"t he ge ne ra lc on ce pt sa tt he to pa nd th em or es pe ci fi cc on ce pt s b el ow th em ,a si n Fi gu re 12.1."
"Be fo re c on si de ri ng t he o nt ol og y f ur th er , w e s ho ul d s ta te o ne i mp or ta nt c av ea t . We"
"h av e e le ct ed t o u se f ir st-o rd er l og ic t o d is cu ss t he c on te nt a nd o rg an iz at io n o f k no wl ed ge ,"
a lt ho ug hc er ta in as pe ct so ft he re al wo rl da re ha rd to ca pt ur ei n FOL .Th ep ri nc ip al di ff ic ul ty
"i st ha tm os tg en er al iz at io ns h av ee xc ep ti on s o rh ol do nl y t o a de gr ee . Fo re xa mp le , a lt ho ug h"
"“t om at oe s a re r ed” i s a u se fu l r ul e , s om e t om at oe s a re g re en , y el lo w , o r o ra ng e . Si mi la r"
e xc ep ti on sc an be fo un dt oa lm os ta ll th er ul es in th is ch ap te r . Th ea bi li ty to ha nd le ex ce pt io ns
"a nd u nc er ta in ty i s e xt re me ly i mp or ta nt , b ut i s o rt ho go na l t o t he t as k o f u nd er st an di ng t he"
"g en er al on to lo gy . Fo rt hi sr ea so n ,w ed el ay th ed is cu ss io no fe xc ep ti on su nt il Se ct io n 12.5 o f"
"t hi sc ha pt er , a nd th em or eg en er al to pi co fr ea so ni ng w it hu nc er ta in ty u nt il Ch ap te r 13."
Of wh at u se i s a n u pp er o nt ol og y ? Co ns id er t he o nt ol og y f or c ir cu it s i n Se ct io n 8.4.2.
It ma ke sm an ys im pl if yi ng as su mp ti on s: t im ei so mi tt ed co mp le te ly ; s ig na ls ar ef ix ed an dd o
n ot p ro pa ga te ; t he s tr uc tu re o f t he c ir cu it r em ai ns c on st an t . Am or e g en er al o nt ol og y w ou ld
"c on si de r s ig na ls a t p ar ti cu la r t im es , a nd w ou ld i nc lu de t he w ir e l en gt hs a nd p ro pa ga ti on d e-"
"l ay s . Th is w ou ld a ll ow u s t o s im ul at e t he t im in g p ro pe rt ie s o f t he c ir cu it , a nd i nd ee d s uc h"
s im ul at io ns a re o ft en c ar ri ed o ut b y c ir cu it d es ig ne rs . We c ou ld a ls o i nt ro du ce m or e i nt er-
"e st in g c la ss es o f g at es , f or e xa mp le , b y d es cr ib in g t he t ec hn ol og y (TTL ,CMOS ,a nd s o o n)"
"a sw el la st he in pu t–o ut pu t s pe ci fi ca ti on . If we wa nt ed to di sc us s r el ia bi li ty o rd ia gn os is , w e"
w ou ld i nc lu de t he p os si bi li ty t ha t t he s tr uc tu re o f t he c ir cu it o r t he p ro pe rt ie s o f t he g at es
"m ig ht c ha ng e s po nt an eo us ly . To ac co un t f or st ra y c ap ac it an ce s , w ew ou ld n ee d t o r ep re se nt"
w he re th ew ir es ar eo nt he bo ar d .
Se ct io n 12.1. On to lo gi ca l En gi ne er in g 439
"If we lo ok at th ew um pu sw or ld ,s im il ar co ns id er at io ns ap pl y . Al th ou gh we do re pr es en t"
"t im e , i th as as im pl es tr uc tu re: No th in g h ap pe ns e xc ep t w he n t he ag en t a ct s , a nd al lc ha ng es"
"a re in st an ta ne ou s . Am or eg en er al o nt ol og y , b et te rs ui te df or th er ea lw or ld ,w ou ld al lo wf or"
s im ul ta ne ou sc ha ng es ex te nd ed ov er ti me . We al so us ed a Pi t p re di ca te to sa yw hi ch sq ua re s
h av e p it s . We c ou ld h av e a ll ow ed f or d if fe re nt k in ds o f p it s b y h av in g s ev er al i nd iv id ua ls
"b el on gi ng t o t he c la ss o f p it s , e ac h h av in g d if fe re nt p ro pe rt ie s . Si mi la rl y , w e m ig ht w an t t o"
a ll ow f or o th er a ni ma ls b es id es w um pu se s . It m ig ht n ot b e p os si bl e t o p in d ow n t he e xa ct
"s pe ci es f ro m t he a va il ab le p er ce pt s , s o w e w ou ld n ee d t o b ui ld u p a b io lo gi ca l t ax on om y t o"
h el pt he ag en tp re di ct th eb eh av io ro fc av e-d we ll er s f ro ms ca nt yc lu es .
"Fo r a ny s pe ci al-p ur po se o nt ol og y , i t i s p os si bl e t o m ak e c ha ng es l ik e t he se t o m ov e"
t ow ar d g re at er g en er al it y . An ob vi ou s q ue st io n t he n a ri se s: d oa ll t he se o nt ol og ie s c on ve rg e
o n a g en er al-p ur po se o nt ol og y ? Af te r c en tu ri es o f p hi lo so ph ic al a nd c om pu ta ti on al i nv es-
"t ig at io n , t he a ns we r i s “Ma yb e .” In t hi s s ec ti on , w e p re se nt o ne g en er al-p ur po se o nt ol og y"
t ha t s yn th es iz es i de as f ro m t ho se c en tu ri es . Tw o m aj or c ha ra ct er is ti cs o f g en er al-p ur po se
o nt ol og ie s d is ti ng ui sh t he mf ro mc ol le ct io ns o fs pe ci al-p ur po se o nt ol og ie s:
• A g en er al-p ur po se o nt ol og y s ho ul d b e a pp li ca bl e i n m or e o r l es s a ny s pe ci al-p ur po se
d om ai n (w it h t he a dd it io n o f d om ai n-s pe ci fi c a xi om s). Th is m ea ns t ha t n o r ep re se nt a-
t io na li ss ue ca nb ef in es se do rb ru sh ed u nd er th ec ar pe t .
"• In a ny s uf fi ci en tl y d em an di ng d om ai n , d if fe re nt a re as o f k no wl ed ge m us t b e u ni fi ed ,"
b ec au se r ea so ni ng a nd p ro bl em s ol vi ng c ou ld i nv ol ve s ev er al a re as s im ul ta ne ou sl y . A
"r ob ot ci rc ui t-r ep ai rs ys te m ,f or in st an ce ,n ee ds to re as on a bo ut ci rc ui ts in te rm so fe le c-"
"t ri ca l c on ne ct iv it y a nd p hy si ca l l ay ou t , a nd a bo ut t im e , b ot h f or ci rc ui t t im in g a na ly si s"
a nd e st im at in g l ab or c os ts . Th e s en te nc es d es cr ib in g t im e t he re fo re m us t b e c ap ab le
o fb ei ng c om bi ne dw it ht ho se de sc ri bi ng s pa ti al l ay ou ta nd mu st wo rk eq ua ll y w el lf or
n an os ec on ds a nd mi nu te sa nd fo ra ng st ro ms a nd me te rs .
We s ho ul d s ay u p f ro nt t ha t t he e nt er pr is e o f g en er al o nt ol og ic al e ng in ee ri ng h as s o f ar h ad
o nl y l im it ed s uc ce ss . No ne o f t he t op AI a pp li ca ti on s (a s l is te d i n Ch ap te r 1) m ak e u se
o f a s ha re d o nt ol og y—t he y a ll u se s pe ci al-p ur po se k no wl ed ge e ng in ee ri ng . So ci al/p ol it ic al
c on si de ra ti on s c an m ak e i t d if fi cu lt f or c om pe ti ng p ar ti es t o a gr ee o n a n o nt ol og y . As To m
"Gr ub er (2004) s ay s , “Ev er y o nt ol og y i s a t re at y—a s oc ia l a gr ee me nt—a mo ng p eo pl e w it h"
s om e c om mo n m ot iv e i n s ha ri ng .” Wh en c om pe ti ng c on ce rn s o ut we ig h t he m ot iv at io n f or
"s ha ri ng , t he re ca nb en oc om mo no nt ol og y . Th os eo nt ol og ie s t ha td oe xi st ha ve be en cr ea te d"
a lo ng fo ur ro ut es:
"1. By at ea mo ft ra in ed on to lo gi st/l og ic ia ns , w ho ar ch it ec t t he on to lo gy an dw ri te ax io ms ."
"Th e CYC s ys te mw as mo st ly bu il tt hi sw ay(Le na ta nd Gu ha ,1990)."
"2. By im po rt in g c at eg or ie s , a tt ri bu te s , a nd v al ue s f ro m a n e xi st in g d at ab as e o rd at ab as es ."
"DBPEDIA w as bu il tb yi mp or ti ng st ru ct ur ed f ac ts fr om Wi ki pe di a (Bi ze re ta l .,2007)."
3. By pa rs in g t ex t d oc um en ts a nd e xt ra ct in g i nf or ma ti on f ro m t he m . TEXTRUNNER w as
"b ui lt by re ad in ga la rg ec or pu so f We bp ag es(Ba nk oa nd Et zi on i ,2008)."
4. By e nt ic in g u ns ki ll ed a ma te ur s t o e nt er c om mo ns en se k no wl ed ge . Th e OPENMIND
"s ys te m w as b ui lt b y v ol un te er s w ho p ro po se d f ac ts i n En gl is h (Si ng h e t a l ., 2002;"
"Ch kl ov sk ia nd Gi l ,2005)."
440 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
12.2 CATEGORIES AND OBJECTS
Th e o rg an iz at io n o f o bj ec ts i nt o c at eg or ie s i s a v it al p ar t o f k no wl ed ge r ep re se nt at io n . Al-
CATEGORY
"t ho ug hi nt er ac ti on w it ht he wo rl dt ak es pl ac ea tt he le ve lo f i nd iv id ua l o bj ec ts , m uc hr ea so n-"
"i ng t ak es p la ce a t t he l ev el o f c at eg or ie s . Fo r e xa mp le , a s ho pp er w ou ld n or ma ll y h av e t he"
"g oa lo fb uy in g a ba sk et ba ll , r at he rt ha na pa rt ic ul ar b as ke tb al l s uc ha s BB . Ca te go ri es al so"
9
s er ve t o m ak e p re di ct io ns a bo ut o bj ec ts o nc e t he y a re c la ss if ie d . On e i nf er s t he p re se nc e o f
"c er ta in ob je ct sf ro mp er ce pt ua li np ut ,i nf er sc at eg or ym em be rs hi pf ro mt he pe rc ei ve dp ro pe r-"
"t ie so ft he ob je ct s , a nd th en us es ca te go ry i nf or ma ti on t om ak ep re di ct io ns a bo ut th eo bj ec ts ."
"Fo r e xa mp le , f ro m i ts g re en a nd y el lo w m ot tl ed s ki n , o ne-f oo t d ia me te r , o vo id s ha pe , r ed"
"f le sh ,b la ck se ed s ,a nd pr es en ce in th ef ru it ai sl e ,o ne ca ni nf er th at an ob je ct is aw at er me lo n ;"
"f ro mt hi s ,o ne in fe rs th at it wo ul db eu se fu lf or fr ui ts al ad ."
Th er e a re t wo c ho ic es f or r ep re se nt in g c at eg or ie s i n f ir st-o rd er l og ic: p re di ca te s a nd
"o bj ec ts . Th at i s , w e c an u se t he p re di ca te Ba sk et ba ll(b), o r w e c an r ei fy 1 t he c at eg or y a s"
REIFICATION
"a n o bj ec t , Ba sk et ba ll s . We c ou ld t he n s ay Me mb er(b ,Ba sk et ba ll s), w hi ch w e w il l a bb re-"
"v ia te a s b∈Ba sk et ba ll s , t o s ay t ha t b i s a m em be r o f t he c at eg or y o f b as ke tb al ls . We s ay"
"Su bs et(Ba sk et ba ll s ,Ba ll s), a bb re vi at ed a s Ba sk et ba ll s ⊂ Ba ll s , t os ay t ha t Ba sk et ba ll s i s"
"a su bc at eg or yo f Ba ll s . We wi ll us es ub ca te go ry , s ub cl as s , a nd su bs et in te rc ha ng ea bl y ."
SUBCATEGORY
Ca te go ri es s er ve t o o rg an iz e a nd s im pl if y t he k no wl ed ge b as e t hr ou gh i nh er it an ce . If
INHERITANCE
"w e s ay t ha t a ll i ns ta nc es o f t he c at eg or y Fo od a re e di bl e , a nd i f w e a ss er t t ha t Fr ui t i s a"
"s ub cl as s o f Fo od a nd Ap pl es i s a s ub cl as s o f Fr ui t , t he n w e c an i nf er t ha t e ve ry a pp le i s"
"e di bl e . We s ay t ha t t he i nd iv id ua l a pp le s i nh er it t he p ro pe rt y o f e di bi li ty , i n t hi s c as e f ro m"
t he ir me mb er sh ip i nt he Fo od c at eg or y .
"Su bc la ss re la ti on so rg an iz ec at eg or ie si nt oa ta xo no my ,o rt ax on om ic hi er ar ch y . Ta x-"
TAXONOMY
o no mi es ha ve be en us ed ex pl ic it ly fo rc en tu ri es in te ch ni ca lf ie ld s . Th el ar ge st su ch ta xo no my
"o rg an iz es ab ou t 10 m il li on li vi ng an de xt in ct sp ec ie s ,m an yo ft he mb ee tl es ,2 i nt oa si ng le hi-"
"e ra rc hy ;l ib ra ry sc ie nc eh as de ve lo pe d a ta xo no my of al lf ie ld so fk no wl ed ge , e nc od ed a st he"
De we y De ci ma l s ys te m ; a nd t ax a ut ho ri ti es a nd o th er g ov er nm en t d ep ar tm en ts h av e d ev el-
o pe de xt en si ve ta xo no mi es of oc cu pa ti on sa nd co mm er ci al pr od uc ts . Ta xo no mi es ar ea ls oa n
i mp or ta nt as pe ct of ge ne ra lc om mo ns en se k no wl ed ge .
"Fi rs t-o rd er l og ic m ak es i t e as y t o s ta te f ac ts a bo ut c at eg or ie s , e it he r b y r el at in g o b-"
"j ec ts t o c at eg or ie s o rb y q ua nt if yi ng o ve rt he ir m em be rs . He re a re s om e t yp es o f f ac ts , w it h"
e xa mp le so fe ac h:
• An ob je ct is am em be ro fa ca te go ry .
BB ∈Ba sk et ba ll s
9
• Ac at eg or yi sa su bc la ss of an ot he rc at eg or y .
Ba sk et ba ll s ⊂ Ba ll s
• Al lm em be rs of ac at eg or yh av es om ep ro pe rt ie s .
(x∈Ba sk et ba ll s) ⇒ Sp he ri ca l(x)
"1 Tu rn in ga pr op os it io ni nt oa no bj ec ti sc al le dr ei fi ca ti on ,f ro mt he La ti nw or dr es ,o rt hi ng . Jo hn Mc Ca rt hy"
"p ro po se dt he te rm“t hi ng if ic at io n ,”b ut it ne ve rc au gh to n ."
2 Th ef am ou sb io lo gi st J .B .S .Ha ld an ed ed uc ed“An in or di na te fo nd ne ss fo rb ee tl es”o nt he pa rt of th e Cr ea to r .
Se ct io n 12.2. Ca te go ri es an d Ob je ct s 441
• Me mb er so fa ca te go ry c an be re co gn iz ed b ys om ep ro pe rt ie s .
Or an ge(x)∧Ro un d(x)∧Di am et er(x)=9.5(c id:2)(c id:2)∧x∈Ba ll s ⇒ x∈Ba sk et ba ll s
• Ac at eg or ya sa wh ol eh as so me pr op er ti es .
Do gs∈Do me st ic at ed Sp ec ie s
"No ti ce t ha t b ec au se Do gs i s a ca te go ry a nd i s a me mb er of Do me st ic at ed Sp ec ie s , t he l at te r"
m us t b e a c at eg or y o f c at eg or ie s . Of c ou rs e t he re a re e xc ep ti on s t o m an y o f t he a bo ve r ul es
(p un ct ur ed b as ke tb al ls a re no ts ph er ic al); w ed ea lw it ht he se ex ce pt io ns l at er .
"Al th ou gh s ub cl as s a nd m em be r r el at io ns a re t he m os t i mp or ta nt o ne s f or c at eg or ie s ,"
w e a ls o w an t t o b e a bl e t o s ta te r el at io ns b et we en c at eg or ie s t ha t a re n ot s ub cl as se s o f e ac h
"o th er . Fo re xa mp le , i f w ej us t s ay t ha t Ma le s a nd Fe ma le s a re s ub cl as se s o f An im al s , t he n"
w e h av e n ot s ai d t ha t a m al e c an no t b e a f em al e . We s ay t ha t t wo o r m or e c at eg or ie s a re
d is jo in t i f t he y h av e n o m em be rs i n c om mo n . An de ve n i f w ek no w t ha t m al es a nd f em al es
DISJOINT
"a re d is jo in t , w e w il l n ot k no w t ha t a n a ni ma l t ha t i s n ot a m al e m us t b e a f em al e , u nl es s"
EXHAUSTIVE w e s ay t ha t m al es a nd f em al es c on st it ut e a n e xh au st iv e d ec om po si ti on o f t he a ni ma ls . A
DECOMPOSITION
d is jo in te xh au st iv ed ec om po si ti on is kn ow na sa pa rt it io n . Th ef ol lo wi ng ex am pl es il lu st ra te
PARTITION
t he se th re ec on ce pt s:
"Di sj oi nt({An im al s ,Ve ge ta bl es})"
"Ex ha us ti ve De co mp os it io n({Am er ic an s ,Ca na di an s ,Me xi ca ns},"
No rt h Am er ic an s)
"Pa rt it io n({Ma le s ,Fe ma le s},An im al s)."
"(No te t ha t t he Ex ha us ti ve De co mp os it io n o f No rt h Am er ic an s i s n ot a Pa rt it io n , b ec au se"
s om ep eo pl eh av ed ua lc it iz en sh ip .) Th et hr ee pr ed ic at es a re de fi ne da sf ol lo ws:
"Di sj oi nt(s) ⇔ (∀c ,c c ∈s∧c ∈s∧c (c id:7)= c ⇒ In te rs ec ti on(c ,c )={ })"
1 2 1 2 1 2 1 2
"Ex ha us ti ve De co mp os it io n(s ,c) ⇔ (∀i i∈c ⇔ ∃c c ∈s∧i∈c )"
2 2 2
"Pa rt it io n(s ,c) ⇔ Di sj oi nt(s)∧Ex ha us ti ve De co mp os it io n(s ,c)."
Ca te go ri es c an a ls o b e d ef in ed b y p ro vi di ng n ec es sa ry a nd s uf fi ci en t c on di ti on s f or
"m em be rs hi p . Fo re xa mp le ,a ba ch el or is an un ma rr ie da du lt ma le:"
x∈Ba ch el or s ⇔ Un ma rr ie d(x)∧x∈Ad ul ts ∧x∈Ma le s .
"As we di sc us s i n t he si de ba r o nn at ur al k in ds o np ag e 443, s tr ic t l og ic al d ef in it io ns f or ca te-"
g or ie sa re ne it he ra lw ay sp os si bl e n or al wa ys ne ce ss ar y .
12.2.1 Ph ys ic al co mp os it io n
Th e i de a t ha t o ne o bj ec t c an b e p ar t o f a no th er i s a f am il ia r o ne . On e’s n os e i s p ar t o f o ne’s
"h ea d , Ro ma ni a i s p ar t o f Eu ro pe , a nd t hi s c ha pt er i s p ar t o f t hi s b oo k . We u se t he g en er al"
Pa rt Of r el at io nt os ay th at on et hi ng is pa rt of an ot he r . Ob je ct sc an b eg ro up ed in to Pa rt Of
"h ie ra rc hi es , r em in is ce nt o ft he Su bs et h ie ra rc hy:"
"Pa rt Of(Bu ch ar es t ,Ro ma ni a)"
"Pa rt Of(Ro ma ni a ,Ea st er n Eu ro pe)"
"Pa rt Of(Ea st er n Eu ro pe ,Eu ro pe)"
"Pa rt Of(Eu ro pe ,Ea rt h)."
442 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
"Th e Pa rt Of r el at io n i st ra ns it iv e a nd re fl ex iv e ;t ha ti s ,"
"Pa rt Of(x ,y)∧Pa rt Of(y ,z) ⇒ Pa rt Of(x ,z)."
"Pa rt Of(x ,x)."
"Th er ef or e , w ec an co nc lu de Pa rt Of(Bu ch ar es t ,Ea rt h)."
Ca te go ri es o f c om po si te o bj ec ts a re o ft en c ha ra ct er iz ed b y s tr uc tu ra l r el at io ns a mo ng
COMPOSITEOBJECT
"p ar ts . Fo re xa mp le ,a bi pe dh as tw ol eg sa tt ac he d t oa bo dy:"
"Bi pe d(a) ⇒ ∃l ,l ,b Le g(l )∧Le g(l )∧Bo dy(b) ∧"
1 2 1 2
"Pa rt Of(l ,a)∧Pa rt Of(l ,a)∧Pa rt Of(b ,a) ∧"
1 2
"At ta ch ed(l ,b)∧At ta ch ed(l ,b) ∧"
1 2
"l (c id:7)=l ∧[∀l Le g(l )∧Pa rt Of(l ,a) ⇒ (l =l ∨l =l )]."
1 2 3 3 3 3 1 3 2
Th e n ot at io n f or “e xa ct ly t wo” i s a l it tl e a wk wa rd ; w e a re f or ce d t o s ay t ha t t he re a re t wo
"l eg s , t ha t t he y a re n ot t he s am e , a nd t ha t i f a ny on e p ro po se s a t hi rd l eg , i t m us t b e t he s am e"
"a s o ne o f t he o th er t wo . In Se ct io n 12.5.2, w e d es cr ib e a f or ma li sm c al le d d es cr ip ti on l og ic"
m ak es it ea si er to re pr es en tc on st ra in ts l ik e“e xa ct ly t wo .”
We c an d ef in e a Pa rt Pa rt it io n r el at io n a na lo go us t o t he Pa rt it io n r el at io n f or c at e-
g or ie s . (Se e Ex er ci se 12.8.) An ob je ct is co mp os ed of th ep ar ts in it s Pa rt Pa rt it io n a nd ca n
"b ev ie we da sd er iv in g s om ep ro pe rt ie s f ro mt ho se pa rt s . Fo re xa mp le ,t he ma ss of ac om po s-"
"i te ob je ct is th es um of th em as se so ft he pa rt s . No ti ce th at th is is no tt he ca se wi th ca te go ri es ,"
"w hi ch ha ve no ma ss ,e ve nt ho ug ht he ir el em en ts mi gh t ."
It i s a ls o u se fu l t o d ef in e c om po si te o bj ec ts w it h d ef in it e p ar ts b ut n o p ar ti cu la r s tr uc-
"t ur e . Fo r e xa mp le , w e m ig ht w an t t o s ay “Th e a pp le s i n t hi s b ag w ei gh t wo p ou nd s .” Th e"
"t em pt at io n w ou ld b e t o a sc ri be t hi s w ei gh t t o t he s et o f a pp le s i n t he b ag , b ut t hi s w ou ld b e"
a mi st ak e b ec au se t he se ti sa n a bs tr ac t m at he ma ti ca l c on ce pt t ha th as e le me nt s b ut d oe s n ot
"h av e w ei gh t . In st ea d , w e n ee d a n ew c on ce pt , w hi ch w e w il l c al l a b un ch . Fo re xa mp le , i f"
BUNCH
"t he ap pl es ar e Ap pl e ,Ap pl e ,a nd Ap pl e ,t he n"
1 2 3
"Bu nc h Of({Ap pl e ,Ap pl e ,Ap pl e })"
1 2 3
d en ot es th ec om po si te ob je ct wi th th et hr ee ap pl es as pa rt s(n ot el em en ts). We ca nt he nu se th e
"b un ch as an or ma l ,a lb ei tu ns tr uc tu re d ,o bj ec t . No ti ce th at Bu nc h Of({x})=x . Fu rt he rm or e ,"
Bu nc h Of(Ap pl es)i st he co mp os it eo bj ec tc on si st in g o fa ll ap pl es—n ot t ob ec on fu se dw it h
"Ap pl es ,t he ca te go ry o rs et of al la pp le s ."
"We ca n d ef in e Bu nc h Of i n t er ms o f t he Pa rt Of r el at io n . Ob vi ou sl y , e ac h e le me nt o f"
s is pa rt of Bu nc h Of(s):
"∀x x∈s ⇒ Pa rt Of(x ,Bu nc h Of(s))."
"Fu rt he rm or e , Bu nc h Of(s) i s t he s ma ll es t o bj ec t s at is fy in g t hi s c on di ti on . In o th er w or ds ,"
Bu nc h Of(s)m us tb ep ar to fa ny ob je ct th at ha sa ll th ee le me nt so fs as pa rt s:
"∀y [∀x x∈s ⇒ Pa rt Of(x ,y)] ⇒ Pa rt Of(Bu nc h Of(s),y)."
"LOGICAL Th es e a xi om s a re a n e xa mp le o f a g en er al t ec hn iq ue c al le d l og ic al m in im iz at io n , w hi ch"
MINIMIZATION
m ea ns de fi ni ng an ob je ct as th es ma ll es to ne sa ti sf yi ng c er ta in c on di ti on s .
Se ct io n 12.2. Ca te go ri es an d Ob je ct s 443
NATURAL KINDS
So me c at eg or ie s h av e s tr ic t d ef in it io ns: a n o bj ec t i s a t ri an gl e i f a nd o nl y i f i t i s
"a p ol yg on w it h t hr ee s id es . On t he o th er h an d , m os t c at eg or ie s i n t he r ea l w or ld"
"h av en oc le ar-c ut de fi ni ti on ;t he se ar ec al le dn at ur al ki nd ca te go ri es . Fo re xa mp le ,"
t om at oe st en dt ob ea du ll sc ar le t ; r ou gh ly s ph er ic al ; w it ha ni nd en ta ti on a tt he to p
w he re t he s te m w as ; a bo ut t wo t o f ou r i nc he s i n d ia me te r ; w it h a t hi n b ut t ou gh
"s ki n ; a nd w it h f le sh , s ee ds , a nd j ui ce i ns id e . Th er e i s , h ow ev er , v ar ia ti on: s om e"
"t om at oe s a re y el lo w o r o ra ng e , u nr ip e t om at oe s a re g re en , s om e a re s ma ll er o r"
"l ar ge r t ha n a ve ra ge , a nd c he rr y t om at oe s a re u ni fo rm ly s ma ll . Ra th er t ha n h av in g"
"a co mp le te d ef in it io n o f t om at oe s , w eh av e a se t o ff ea tu re s t ha t s er ve s t oi de nt if y"
"o bj ec ts t ha t a re c le ar ly t yp ic al t om at oe s , b ut m ig ht n ot b e a bl e t o d ec id e f or ot he r"
o bj ec ts . (Co ul dt he re be at om at ot ha ti sf uz zy li ke ap ea ch ?)
Th is p os es a p ro bl em f or a l og ic al a ge nt . Th e a ge nt c an no t b e s ur e t ha t a n
"o bj ec t i t h as p er ce iv ed i s a t om at o , a nd e ve n i f i t w er e s ur e , i t c ou ld n ot b e c er-"
t ai n w hi ch o f t he p ro pe rt ie s o f t yp ic al t om at oe s t hi s o ne h as . Th is p ro bl em i s a n
i ne vi ta bl e c on se qu en ce o fo pe ra ti ng i np ar ti al ly o bs er va bl e e nv ir on me nt s .
On e u se fu l a pp ro ac h i s t o s ep ar at e w ha t i s t ru e o f a ll i ns ta nc es o f a c at e-
g or y f ro m w ha t i s t ru e o nl y o f t yp ic al i ns ta nc es . So i n a dd it io n t o t he c at eg or y
"To ma to es ,w ew il la ls oh av et he ca te go ry Ty pi ca l(To ma to es). He re ,t he Ty pi ca l"
f un ct io nm ap sa ca te go ry t ot he su bc la ss t ha tc on ta in so nl yt yp ic al in st an ce s:
Ty pi ca l(c) ⊆ c .
Mo st kn ow le dg e a bo ut na tu ra l k in ds wi ll ac tu al ly be ab ou tt he ir ty pi ca li ns ta nc es:
x∈Ty pi ca l(To ma to es) ⇒ Re d(x)∧Ro un d(x).
"Th us , w e c an w ri te d ow n u se fu l f ac ts a bo ut c at eg or ie s w it ho ut e xa ct d ef in i-"
t io ns . Th ed if fi cu lt y o fp ro vi di ng e xa ct d ef in it io ns f or mo st n at ur al c at eg or ie s w as
e xp la in ed in de pt hb y Wi tt ge ns te in (1953). He us ed th ee xa mp le of ga me st os ho w
t ha t m em be rs o f a c at eg or y s ha re d “f am il y r es em bl an ce s” r at he r t ha n n ec es sa ry
"a nd s uf fi ci en t c ha ra ct er is ti cs: w ha t s tr ic t d ef in it io n e nc om pa ss es c he ss , t ag , s ol i-"
"t ai re ,a nd do dg eb al l ?"
Th e u ti li ty o f t he n ot io n o f s tr ic t d ef in it io n w as a ls o c ha ll en ge d b y
Qu in e (1953). He p oi nt ed o ut t ha t e ve n t he d ef in it io n o f “b ac he lo r” a s a n u n-
"m ar ri ed a du lt m al e i s s us pe ct ; o ne m ig ht , f or e xa mp le , q ue st io n a s ta te me nt s uc h"
"a s “t he Po pe i s a b ac he lo r .” Wh il e n ot s tr ic tl y f al se , t hi s u sa ge i s c er ta in ly i nf e-"
l ic it ou s b ec au se i t i nd uc es u ni nt en de d i nf er en ce s o n t he p ar t o f t he l is te ne r . Th e
t en si on c ou ld p er ha ps b e r es ol ve d b y d is ti ng ui sh in g b et we en l og ic al d ef in it io ns
s ui ta bl e f or i nt er na l k no wl ed ge r ep re se nt at io n a nd t he m or e n ua nc ed c ri te ri a f or
f el ic it ou s l in gu is ti c u sa ge . Th el at te rm ay be ac hi ev ed b y“f il te ri ng” t he as se rt io ns
d er iv ed fr om th ef or me r . It is al so po ss ib le th at fa il ur es of l in gu is ti c u sa ge se rv ea s
"f ee db ac kf or mo di fy in gi nt er na ld ef in it io ns ,s ot ha tf il te ri ng be co me su nn ec es sa ry ."
444 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
12.2.2 Me as ur em en ts
"In b ot h s ci en ti fi c a nd c om mo ns en se t he or ie s o f t he w or ld , o bj ec ts h av e h ei gh t , m as s , c os t ,"
a nd s o o n . Th e v al ue s t ha t w e a ss ig n f or t he se p ro pe rt ie s a re c al le d m ea su re s . Or di-
MEASURE
n ar y q ua nt it at iv e m ea su re s a re q ui te e as y t o r ep re se nt . We i ma gi ne t ha t t he u ni ve rs e i n-
"c lu de s a bs tr ac t “m ea su re o bj ec ts ,” s uc h a s t he l en gt h t ha t i s t he l en gt h o f t hi s l in e s eg-"
"m en t: . We ca nc al lt hi sl en gt h 1.5 i nc he so r 3.81 c en ti me te rs . Th us ,"
t he s am e l en gt h h as d if fe re nt n am es i n o ur l an gu ag e .We r ep re se nt t he l en gt h w it h a u ni ts
f un ct io n t ha t t ak es a n um be r a s a rg um en t . (An a lt er na ti ve s ch em e i s e xp lo re d i n Ex er-
UNITSFUNCTION
"c is e 12.9.) If th el in es eg me nt is ca ll ed L ,w ec an wr it e"
1
Le ng th(L )=In ch es(1.5)=Ce nt im et er s(3.81).
1
Co nv er si on b et we en un it si sd on eb ye qu at in gm ul ti pl es o fo ne un it to an ot he r:
Ce nt im et er s(2.54×d)=In ch es(d).
"Si mi la ra xi om s c an b e w ri tt en f or p ou nd s a nd k il og ra ms , s ec on ds a nd d ay s , a nd d ol la rs a nd"
c en ts . Me as ur es ca nb eu se dt od es cr ib e o bj ec ts as fo ll ow s:
Di am et er(Ba sk et ba ll )=In ch es(9.5).
12
Li st Pr ic e(Ba sk et ba ll )=$(19).
12
d∈Da ys ⇒ Du ra ti on(d)=Ho ur s(24).
"No te th at$(1) i sn ot ad ol la rb il l ! On ec an ha ve tw od ol la rb il ls , b ut th er e i so nl y o ne o bj ec t"
"n am ed $(1). No te a ls o t ha t , w hi le In ch es(0) a nd Ce nt im et er s(0) r ef er t o t he s am e z er o"
"l en gt h , t he ya re no ti de nt ic al t oo th er ze ro me as ur es , s uc ha s Se co nd s(0)."
"Si mp le , q ua nt it at iv e m ea su re s a re ea sy t or ep re se nt . Ot he r m ea su re s p re se nt m or eo f a"
"p ro bl em ,b ec au se th ey ha ve no ag re ed sc al eo fv al ue s . Ex er ci se sh av ed if fi cu lt y ,d es se rt sh av e"
"d el ic io us ne ss ,a nd po em sh av eb ea ut y ,y et nu mb er sc an no tb ea ss ig ne dt ot he se qu al it ie s . On e"
"m ig ht ,i na mo me nt of pu re ac co un ta nc y ,d is mi ss su ch pr op er ti es as us el es sf or th ep ur po se of"
"l og ic al r ea so ni ng ; o r , s ti ll wo rs e , a tt em pt to im po se a nu me ri ca l s ca le on be au ty . Th is wo ul d"
"b e a gr av e m is ta ke , b ec au se i t i su nn ec es sa ry . Th em os t i mp or ta nt a sp ec t o f m ea su re s i s n ot"
"t he pa rt ic ul ar nu me ri ca lv al ue s , b ut th ef ac tt ha tm ea su re s c an be or de re d ."
"Al th ou gh m ea su re s a re n ot n um be rs , w e c an s ti ll c om pa re t he m , u si ng a n o rd er in g"
"s ym bo l s uc h a s >. Fo r e xa mp le , w e m ig ht w el l b el ie ve t ha t No rv ig’s e xe rc is es a re t ou gh er"
"t ha n Ru ss el l’s , a nd th at on es co re sl es so nt ou gh er ex er ci se s:"
"e ∈Ex er ci se s ∧e ∈Ex er ci se s ∧Wr ot e(No rv ig ,e )∧Wr ot e(Ru ss el l ,e ) ⇒"
1 2 1 2
Di ff ic ul ty(e )> Di ff ic ul ty(e ).
1 2
e ∈Ex er ci se s ∧e ∈Ex er ci se s ∧Di ff ic ul ty(e ) > Di ff ic ul ty(e ) ⇒
1 2 1 2
Ex pe ct ed Sc or e(e )< Ex pe ct ed Sc or e(e ).
1 2
"Th is is en ou gh to al lo wo ne to de ci de wh ic he xe rc is es to do ,e ve nt ho ug hn on um er ic al va lu es"
"f or d if fi cu lt y w er e e ve r u se d . (On e d oe s , h ow ev er , h av e t o d is co ve r w ho w ro te w hi ch e xe r-"
c is es .) Th es es or ts of mo no to ni cr el at io ns hi ps a mo ng me as ur es fo rm th eb as is fo rt he fi el do f
"q ua li ta ti ve p hy si cs , a s ub fi el d o f AI t ha t i nv es ti ga te s h ow t o r ea so n a bo ut p hy si ca l s ys te ms"
w it ho ut p lu ng in g i nt o d et ai le d e qu at io ns a nd n um er ic al s im ul at io ns . Qu al it at iv e p hy si cs i s
d is cu ss ed i nt he hi st or ic al n ot es se ct io n .
Se ct io n 12.2. Ca te go ri es an d Ob je ct s 445
12.2.3 Ob je ct s: Th in gs a nd st uf f
"Th e r ea l w or ld c an b e s ee n a s c on si st in g o f p ri mi ti ve o bj ec ts (e .g ., a to mi c p ar ti cl es) a nd"
c om po si te o bj ec ts b ui lt f ro m t he m . By re as on in g a t t he l ev el o f l ar ge o bj ec ts s uc h a s a pp le s
"a nd ca rs ,w ec an ov er co me th ec om pl ex it yi nv ol ve di nd ea li ng wi th va st nu mb er so fp ri mi ti ve"
"o bj ec ts in di vi du al ly . Th er ei s ,h ow ev er ,a si gn if ic an tp or ti on of re al it yt ha ts ee ms to de fy an y"
o bv io us in di vi du at io n—d iv is io n i nt od is ti nc to bj ec ts . We gi ve th is po rt io nt he ge ne ri cn am e
INDIVIDUATION
"s tu ff . Fo r e xa mp le , s up po se I h av e s om e b ut te r a nd a n a ar dv ar k i n f ro nt o f m e . I c an s ay"
STUFF
"t he re is on ea ar dv ar k , b ut th er ei sn oo bv io us nu mb er of“b ut te r-o bj ec ts ,” b ec au se an yp ar to f"
"a bu tt er-o bj ec t i sa ls o a bu tt er-o bj ec t , a tl ea st u nt il w eg et to ve ry s ma ll pa rt s i nd ee d . Th is is"
"t he m aj or d is ti nc ti on b et we en s tu ff a nd t hi ng s . If w e c ut a n a ar dv ar k i n h al f , w e d o n ot g et"
t wo aa rd va rk s (u nf or tu na te ly).
Th e En gl is h l an gu ag e d is ti ng ui sh es c le ar ly b et we en s tu ff a nd th in gs . We sa y “a na ar d-
"v ar k ,” b ut , e xc ep t i n p re te nt io us Ca li fo rn ia r es ta ur an ts , o ne c an no t s ay “a b ut te r .” Li ng ui st s"
"d is ti ng ui sh b et we en c ou nt no un s ,s uc h a sa ar dv ar ks , h ol es , a nd t he or em s , a nd m as s n ou ns ,"
COUNTNOUNS
"s uc h a s b ut te r , w at er , a nd e ne rg y . Se ve ra l c om pe ti ng o nt ol og ie s c la im t oh an dl e t hi s d is ti nc-"
MASSNOUN
t io n . He re we de sc ri be j us to ne ;t he ot he rs ar ec ov er ed in th e h is to ri ca l n ot es se ct io n .
"To r ep re se nt s tu ff p ro pe rl y , w e b eg in w it h t he o bv io us . We n ee d t o h av e a s o bj ec ts i n"
"o ur o nt ol og y a t l ea st t he g ro ss “l um ps” o f s tu ff w e i nt er ac t w it h . Fo r e xa mp le , w e m ig ht"
"r ec og ni ze a l um p o f b ut te r a s t he o ne l ef t o n t he t ab le t he n ig ht b ef or e ; w em ig ht p ic k i t u p ,"
"w ei gh i t , s el l i t , o r w ha te ve r . In t he se s en se s , i t i s a n o bj ec t j us t l ik e t he a ar dv ar k . Le t u s"
"c al li t Bu tt er . We al so de fi ne th ec at eg or y Bu tt er . In fo rm al ly ,i ts el em en ts wi ll be al lt ho se"
3
"t hi ng so fw hi ch on em ig ht sa y“It’s bu tt er ,”i nc lu di ng Bu tt er . Wi th so me ca ve at sa bo ut ve ry"
3
"s ma ll pa rt st ha tw ew om it fo rn ow ,a ny pa rt of ab ut te r-o bj ec t i sa ls oa bu tt er-o bj ec t:"
"b∈Bu tt er ∧Pa rt Of(p ,b) ⇒ p∈Bu tt er ."
We ca nn ow sa yt ha tb ut te rm el ts at ar ou nd 30 d eg re es ce nt ig ra de:
"b∈Bu tt er ⇒ Me lt in g Po in t(b ,Ce nt ig ra de(30))."
"We co ul d g oo nt os ay th at bu tt er is ye ll ow ,i sl es sd en se th an wa te r , i ss of ta tr oo mt em pe ra-"
"t ur e ,h as ah ig hf at co nt en t ,a nd so on . On th eo th er ha nd ,b ut te rh as no pa rt ic ul ar si ze ,s ha pe ,"
"o r w ei gh t . We c an d ef in e m or e s pe ci al iz ed c at eg or ie s o f b ut te r s uc h a s Un sa lt ed Bu tt er ,"
"w hi ch i s a ls o a k in d o f s tu ff . No te t ha t t he c at eg or y Po un d Of Bu tt er , w hi ch i nc lu de s a s"
"m em be rs a ll b ut te r-o bj ec ts w ei gh in g o ne p ou nd , i s n ot a k in d o f s tu ff . If w e c ut a p ou nd o f"
"b ut te ri nh al f ,w ed on ot ,a la s ,g et tw op ou nd so fb ut te r ."
Wh at is ac tu al ly go in go ni st hi s: s om ep ro pe rt ie sa re i nt ri ns ic: t he yb el on gt ot he ve ry
INTRINSIC
"s ub st an ce o f t he o bj ec t , r at he r t ha n t o t he o bj ec t a s a w ho le . Wh en y ou c ut a n i ns ta nc e o f"
"s tu ff i n h al f , t he t wo pi ec es r et ai n t he i nt ri ns ic p ro pe rt ie s—t hi ng s l ik e d en si ty , b oi li ng p oi nt ,"
"f la vo r , c ol or , o wn er sh ip , a nd s o o n . On t he o th er h an d , t he ir e xt ri ns ic p ro pe rt ie s—w ei gh t ,"
EXTRINSIC
"l en gt h , s ha pe , a nd s o o n—a re n ot r et ai ne d u nd er s ub di vi si on . A c at eg or y o f o bj ec ts t ha t"
"i nc lu de s i n i ts d ef in it io n o nl y i nt ri ns ic p ro pe rt ie s i s t he n a s ub st an ce , o r m as s n ou n ; a c la ss"
t ha t i nc lu de s a ny e xt ri ns ic p ro pe rt ie s i n i ts d ef in it io n i s a co un t n ou n . Th ec at eg or y St uf f i s
"t he m os tg en er al s ub st an ce c at eg or y , s pe ci fy in g n oi nt ri ns ic p ro pe rt ie s . Th ec at eg or y Th in g"
"i st he mo st ge ne ra ld is cr et eo bj ec tc at eg or y , s pe ci fy in g n o e xt ri ns ic pr op er ti es ."
446 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
12.3 EVENTS
"In Se ct io n 10.4.2, w e s ho we d h ow s it ua ti on c al cu lu s r ep re se nt s a ct io ns a nd t he ir e ff ec ts ."
Si tu at io nc al cu lu s i sl im it ed in it sa pp li ca bi li ty: i tw as de si gn ed t od es cr ib e a wo rl di nw hi ch
"a ct io ns a re d is cr et e , i ns ta nt an eo us , a nd h ap pe n o ne a t a t im e . Co ns id er a c on ti nu ou s a ct io n ,"
s uc ha sf il li ng ab at ht ub . Si tu at io nc al cu lu sc an sa yt ha tt he tu bi se mp ty be fo re th ea ct io na nd
"f ul l w he n t he a ct io n i s d on e , b ut i t c an’t t al k a bo ut w ha t h ap pe ns d ur in g t he a ct io n . It a ls o"
c an’t d es cr ib e t wo a ct io ns h ap pe ni ng a t t he s am e t im e—s uc h a s b ru sh in g o ne’s t ee th w hi le
w ai ti ng fo rt he tu bt of il l . To ha nd le su ch ca se sw ei nt ro du ce a na lt er na ti ve fo rm al is mk no wn
"a se ve nt ca lc ul us ,w hi ch is ba se do np oi nt so ft im er at he rt ha no ns it ua ti on s .3"
EVENTCALCULUS
"Ev en t c al cu lu s r ei fi es f lu en ts a nd e ve nt s . Th e f lu en t At(Sh an ka r ,Be rk el ey) i s a n o b-"
"j ec t t ha t r ef er s t o t he f ac t o f Sh an ka r b ei ng i n Be rk el ey , b ut d oe s n ot b y i ts el f s ay a ny th in g"
a bo ut w he th er i t i s t ru e . To a ss er t t ha t a f lu en t i s a ct ua ll y t ru e a t s om e p oi nt i n t im e w e u se
"t he pr ed ic at e T ,a si n T(At(Sh an ka r ,Be rk el ey),t)."
Ev en ts ar ed es cr ib ed a si ns ta nc es o fe ve nt ca te go ri es .4 Th ee ve nt E o f Sh an ka rf ly in g
1
"f ro m Sa n Fr an ci sc ot o Wa sh in gt on , D .C .i sd es cr ib ed a s"
"E ∈ Fl yi ng s∧Fl ye r(E ,Sh an ka r)∧Or ig in(E ,SF)∧De st in at io n(E ,DC)."
1 1 1 1
"If t hi s i s t oo v er bo se , w e c an d ef in e a n a lt er na ti ve t hr ee-a rg um en t v er si on o f t he c at eg or y o f"
f ly in ge ve nt sa nd sa y
"E ∈ Fl yi ng s(Sh an ka r ,SF ,DC)."
1
"We th en us e Ha pp en s(E ,i)t os ay th at th ee ve nt E t oo kp la ce ov er th et im ei nt er va l i ,a nd"
1 1
w e s ay t he s am e t hi ng i n f un ct io na l f or m w it h Ex te nt(E )=i . We r ep re se nt t im e i nt er va ls
1
"b ya(s ta rt ,e nd)p ai ro ft im es ;t ha ti s , i = (t ,t )i st he ti me in te rv al th at st ar ts at t a nd en ds"
1 2 1
a tt . Th ec om pl et es et of pr ed ic at es f or on ev er si on of th ee ve nt ca lc ul us i s
2
"T(f ,t) Fl ue nt f i st ru ea tt im et"
"Ha pp en s(e ,i) Ev en te ha pp en s o ve rt he ti me in te rv al i"
"In it ia te s(e ,f ,t) Ev en te ca us es fl ue nt f t os ta rt to ho ld at ti me t"
"Te rm in at es(e ,f ,t) Ev en te ca us es fl ue nt f t oc ea se to ho ld at ti me t"
"Cl ip pe d(f ,i) Fl ue nt f c ea se st ob et ru ea ts om ep oi nt du ri ng ti me in te rv al i"
"Re st or ed(f ,i) Fl ue nt f b ec om es tr ue so me ti me du ri ng ti me in te rv al i"
"We as su me ad is ti ng ui sh ed ev en t ,St ar t ,t ha td es cr ib es th ei ni ti al st at eb ys ay in gw hi ch fl ue nt s"
a re in it ia te do rt er mi na te da tt he st ar tt im e . We de fi ne T b ys ay in gt ha ta fl ue nt ho ld sa ta po in t
i nt im ei ft he fl ue nt wa si ni ti at ed by an ev en ta ts om et im ei nt he pa st an dw as no tm ad ef al se
(c li pp ed)b ya ni nt er ve ni ng ev en t . Af lu en td oe sn ot ho ld if it wa st er mi na te db ya ne ve nt an d
"3 Th et er ms“e ve nt”a nd“a ct io n”m ay be us ed in te rc ha ng ea bl y . In fo rm al ly ,“a ct io n”c on no te sa na ge nt wh il e"
“e ve nt”c on no te st he po ss ib il it yo fa ge nt le ss ac ti on s .
4 So me ve rs io ns of ev en tc al cu lu sd on ot di st in gu is he ve nt ca te go ri es fr om in st an ce so ft he ca te go ri es .
Se ct io n 12.3. Ev en ts 447
"n ot ma de tr ue(r es to re d) b ya no th er ev en t . Fo rm al ly ,t he ax io ms ar e:"
"Ha pp en s(e ,(t ,t ))∧In it ia te s(e ,f ,t )∧¬Cl ip pe d(f ,(t ,t))∧t < t ⇒"
1 2 1 1 1
"T(f ,t)"
"Ha pp en s(e ,(t ,t ))∧Te rm in at es(e ,f ,t )∧¬Re st or ed(f ,(t ,t))∧t < t ⇒"
1 2 1 1 1
"¬T(f ,t)"
w he re Cl ip pe d a nd Re st or ed a re de fi ne db y
"Cl ip pe d(f ,(t ,t )) ⇔"
1 2
"∃e ,t ,t Ha pp en s(e ,(t ,t ))∧t ≤t < t ∧Te rm in at es(e ,f ,t)"
3 3 1 2
"Re st or ed(f ,(t ,t )) ⇔"
1 2
"∃e ,t ,t Ha pp en s(e ,(t ,t ))∧t ≤t < t ∧In it ia te s(e ,f ,t)"
3 3 1 2
It is co nv en ie nt t oe xt en d T t ow or ko ve ri nt er va ls a sw el la st im ep oi nt s ; a fl ue nt ho ld s o ve r
a ni nt er va li fi th ol ds on ev er yp oi nt wi th in th ei nt er va l:
"T(f ,(t ,t )) ⇔ [∀t (t ≤ t < t ) ⇒ T(f ,t)]"
1 2 1 2
Fl ue nt s a nd a ct io ns a re d ef in ed w it h d om ai n-s pe ci fi c a xi om s t ha t a re s im il ar t o s uc ce ss or-
"s ta te a xi om s . Fo r e xa mp le , w e c an s ay t ha t t he o nl y w ay a w um pu s-w or ld a ge nt g et s a n"
"a rr ow is at th es ta rt ,a nd th eo nl yw ay to us eu pa na rr ow is to sh oo ti t:"
"In it ia te s(e ,Ha ve Ar ro w(a),t) ⇔ e= St ar t"
"Te rm in at es(e ,Ha ve Ar ro w(a),t) ⇔ e ∈ Sh oo ti ng s(a)"
By r ei fy in g e ve nt s w e m ak e i t p os si bl e t o a dd a ny a mo un t o f a rb it ra ry i nf or ma ti on a bo ut
"t he m . Fo r e xa mp le , w e c an s ay t ha t Sh an ka r’s f li gh t w as b um py w it h Bu mp y(E ). In a n"
1
"o nt ol og y w he re ev en ts a re n-a ry pr ed ic at es , t he re w ou ld b en ow ay to ad d e xt ra i nf or ma ti on"
l ik et hi s ;m ov in gt oa nn+1-a ry pr ed ic at e i sn’t as ca la bl es ol ut io n .
We ca ne xt en de ve nt ca lc ul us to ma ke it po ss ib le to re pr es en ts im ul ta ne ou se ve nt s(s uc h
"a st wo pe op le be in gn ec es sa ry to ri de as ee sa w),e xo ge no us ev en ts(s uc ha st he wi nd bl ow in g"
"a nd c ha ng in g t he l oc at io n o f a n o bj ec t), c on ti nu ou s e ve nt s (s uc h a s t he l ev el o f w at er i n t he"
b at ht ub co nt in uo us ly r is in g)a nd ot he rc om pl ic at io ns .
12.3.1 Pr oc es se s
Th ee ve nt sw eh av es ee ns of ar ar ew ha tw ec al l d is cr et e e ve nt s—t he yh av e a de fi ni te st ru c-
DISCRETEEVENTS
"t ur e . Sh an ka r’s tr ip ha sa be gi nn in g , m id dl e ,a nd en d . If in te rr up te dh al fw ay ,t he ev en tw ou ld"
"b es om et hi ng di ff er en t—i tw ou ld no tb ea tr ip fr om Sa n Fr an ci sc ot o Wa sh in gt on ,b ut in st ea d"
"a t ri p f ro m Sa n Fr an ci sc o t o s om ew he re o ve r Ka ns as . On t he o th er h an d , t he c at eg or y o f"
e ve nt s d en ot ed b y Fl yi ng s h as a d if fe re nt q ua li ty . If w e t ak e a s ma ll i nt er va l o f Sh an ka r’s
"f li gh t , s ay , t he t hi rd 20-m in ut e s eg me nt (w hi le h e w ai ts an xi ou sl y f or ab ag o f p ea nu ts), t ha t"
"e ve nt is st il la me mb er of Fl yi ng s . In fa ct ,t hi si st ru ef or an ys ub in te rv al ."
Ca te go ri es o f e ve nt s w it h t hi s p ro pe rt y a re c al le d p ro ce ss c at eg or ie s o r l iq ui d e ve nt
PROCESS
c at eg or ie s . An yp ro ce ss e th at ha pp en s o ve ra ni nt er va la ls oh ap pe ns ov er an ys ub in te rv al:
LIQUIDEVENT
"(e∈Pr oc es se s)∧Ha pp en s(e ,(t ,t ))∧(t <t <t <t ) ⇒ Ha pp en s(e ,(t ,t ))."
1 4 1 2 3 4 2 3
Th e d is ti nc ti on b et we en l iq ui d a nd n on li qu id e ve nt s i s e xa ct ly a na lo go us t o t he d if fe re nc e
"b et we en s ub st an ce s , o r s tu ff , a nd i nd iv id ua l o bj ec ts , o r t hi ng s . In f ac t , s om e h av e c al le d"
"TEMPORAL l iq ui de ve nt st em po ra ls ub st an ce s ,w he re as su bs ta nc es l ik eb ut te ra re s pa ti al su bs ta nc es ."
SUBSTANCE
SPATIALSUBSTANCE
448 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
12.3.2 Ti me in te rv al s
"Ev en t c al cu lu s o pe ns u s u p t o t he p os si bi li ty o f t al ki ng a bo ut t im e , a nd t im e i nt er va ls . We"
w il lc on si de rt wo ki nd so ft im ei nt er va ls: m om en ts an de xt en de di nt er va ls . Th ed is ti nc ti on i s
t ha to nl ym om en ts ha ve ze ro du ra ti on:
"Pa rt it io n({Mo me nt s ,Ex te nd ed In te rv al s},In te rv al s)"
i∈Mo me nt s ⇔ Du ra ti on(i)=Se co nd s(0).
"Ne xt w e i nv en t a t im e s ca le a nd a ss oc ia te p oi nt s o n t ha t s ca le w it h m om en ts , g iv in g u s a b-"
s ol ut e t im es . Th e t im e s ca le i s a rb it ra ry ; w e m ea su re i t i n s ec on ds a nd s ay t ha t t he m om en t
"a t m id ni gh t (GMT) o n Ja nu ar y 1, 1900, h as t im e 0. Th e f un ct io ns Be gi n a nd En d p ic k o ut"
"t he ea rl ie st an dl at es tm om en ts in an in te rv al ,a nd th ef un ct io n Ti me d el iv er st he po in to nt he"
t im e s ca le f or a m om en t . Th e f un ct io n Du ra ti on g iv es t he d if fe re nc e b et we en t he e nd t im e
a nd th es ta rt ti me .
In te rv al(i) ⇒ Du ra ti on(i)=(Ti me(En d(i))−Ti me(Be gi n(i))).
Ti me(Be gi n(AD 1900))=Se co nd s(0).
Ti me(Be gi n(AD 2001))=Se co nd s(3187324800).
Ti me(En d(AD 2001))=Se co nd s(3218860800).
Du ra ti on(AD 2001)=Se co nd s(31536000).
"To m ak e t he se n um be rs e as ie r t o r ea d , w e a ls o i nt ro du ce a f un ct io n Da te , w hi ch t ak es s ix"
"a rg um en ts (h ou rs , m in ut es ,s ec on ds , d ay ,m on th ,a nd ye ar)a nd re tu rn sa ti me po in t:"
"Ti me(Be gi n(AD 2001))=Da te(0,0,0,1,Ja n ,2001)"
"Da te(0,20,21,24,1,1995)=Se co nd s(3000000000)."
Tw oi nt er va ls Me et i f t he e nd t im eo f t he f ir st eq ua ls t he s ta rt t im eo f t he s ec on d . Th ec om-
"p le te se to fi nt er va lr el at io ns ,a sp ro po se db y Al le n(1983),i ss ho wn gr ap hi ca ll yi n Fi gu re 12.2"
a nd lo gi ca ll y b el ow:
"Me et(i ,j) ⇔ En d(i)=Be gi n(j)"
"Be fo re(i ,j) ⇔ En d(i) < Be gi n(j)"
"Af te r(j ,i) ⇔ Be fo re(i ,j)"
"Du ri ng(i ,j) ⇔ Be gi n(j) < Be gi n(i) < En d(i) < En d(j)"
"Ov er la p(i ,j) ⇔ Be gi n(i) < Be gi n(j) < En d(i) < En d(j)"
"Be gi ns(i ,j) ⇔ Be gi n(i) = Be gi n(j)"
"Fi ni sh es(i ,j) ⇔ En d(i) = En d(j)"
"Eq ua ls(i ,j) ⇔ Be gi n(i) = Be gi n(j)∧En d(i) = En d(j)"
"Th es e a ll h av e t he ir i nt ui ti ve m ea ni ng , w it h t he e xc ep ti on o f Ov er la p: w e t en d t o t hi nk o f"
"o ve rl ap a s s ym me tr ic (i f i o ve rl ap s j t he n j o ve rl ap s i), b ut i n t hi s d ef in it io n , Ov er la p(i ,j)"
o nl yh ol ds if ib eg in sb ef or ej . To sa yt ha tt he re ig no f El iz ab et h IIi mm ed ia te ly fo ll ow ed th at
"o f Ge or ge VI ,a nd th er ei gn of El vi so ve rl ap pe d w it ht he 1950 s , w ec an wr it et he fo ll ow in g:"
"Me et s(Re ig n Of(Ge or ge VI),Re ig n Of(El iz ab et h II))."
"Ov er la p(Fi ft ie s ,Re ig n Of(El vi s))."
Be gi n(Fi ft ie s)=Be gi n(AD 1950).
En d(Fi ft ie s)=En d(AD 1959).
Se ct io n 12.3. Ev en ts 449
Fi gu re 12.2 Pr ed ic at es on ti me in te rv al s .
1801
1797 t im e
1789
W a s h i n g t o n
A d a m s
Je f fe
r so n
Fi gu re 12.3 As ch em at ic vi ew of th eo bj ec t Pr es id en t(USA)f or th ef ir st 15 y ea rs of it s
e xi st en ce .
12.3.3 Fl ue nt s a nd o bj ec ts
"Ph ys ic al o bj ec ts c an b e v ie we d a s g en er al iz ed e ve nt s , i n t he s en se t ha t a p hy si ca l o bj ec t i s"
"a c hu nk o f s pa ce–t im e . Fo r e xa mp le , USA c an b e t ho ug ht o f a s a n e ve nt t ha t b eg an i n ,"
"s ay , 1776 a s a u ni on o f 13 s ta te s a nd i s s ti ll i n p ro gr es s t od ay a s a u ni on o f 50. We c an"
"d es cr ib e t he c ha ng in g p ro pe rt ie s o f USA u si ng s ta te f lu en ts , s uc h a s Po pu la ti on(USA). A"
"p ro pe rt y o ft he USAt ha tc ha ng es e ve ry fo ur or ei gh ty ea rs , b ar ri ng m is ha ps , i si ts pr es id en t ."
On e m ig ht p ro po se t ha t Pr es id en t(USA) i s a l og ic al t er m t ha t d en ot es a d if fe re nt o bj ec t
"a t d if fe re nt t im es . Un fo rt un at el y , t hi s i s n ot p os si bl e , b ec au se a t er m d en ot es e xa ct ly o ne"
"o bj ec ti na gi ve nm od el st ru ct ur e . (Th et er m Pr es id en t(USA ,t)c an de no te di ff er en to bj ec ts ,"
"d ep en di ng o nt he va lu eo ft ,b ut ou ro nt ol og y k ee ps t im ei nd ic es s ep ar at e f ro m f lu en ts .) Th e"
450 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
o nl y p os si bi li ty i s t ha t Pr es id en t(USA) d en ot es a s in gl e o bj ec t t ha t c on si st s o f d if fe re nt
"p eo pl e a td if fe re nt t im es . It is th eo bj ec t t ha ti s Ge or ge Wa sh in gt on f ro m 1789 t o 1797, Jo hn"
"Ad am sf ro m 1797 t o 1801,a nd so on ,a si n Fi gu re 12.3. To sa yt ha t Ge or ge Wa sh in gt on wa s"
"p re si de nt t hr ou gh ou t 1790,w ec an wr it e"
"T(Eq ua ls(Pr es id en t(USA),Ge or ge Wa sh in gt on),AD 1790)."
"We u se t he f un ct io n s ym bo l Eq ua ls r at he r t ha n t he s ta nd ar d l og ic al p re di ca te =, b ec au se"
"w e c an no t h av e a p re di ca te a s a n a rg um en t t o T , a nd b ec au se t he i nt er pr et at io n i s n ot t ha t"
Ge or ge Wa sh in gt on a nd Pr es id en t(USA)a re l og ic al ly i de nt ic al i n 1790; l og ic al i de nt it y i s
n ot so me th in gt ha tc an ch an ge ov er ti me . Th ei de nt it yi sb et we en th es ub ev en ts of ea ch ob je ct
t ha ta re de fi ne db yt he pe ri od 1790.
12.4 MENTAL EVENTS AND MENTAL OBJECTS
Th e a ge nt s w e h av e c on st ru ct ed s o f ar h av e b el ie fs a nd c an d ed uc e n ew b el ie fs . Ye t n on e
o f t he m h as a ny k no wl ed ge a bo ut b el ie fs o r a bo ut d ed uc ti on . Kn ow le dg e a bo ut o ne’s o wn
"k no wl ed ge an dr ea so ni ng pr oc es se si su se fu lf or co nt ro ll in gi nf er en ce . Fo re xa mp le ,s up po se"
Al ic ea sk s “w ha ti st he sq ua re r oo t o f 1764” a nd Bo br ep li es “I d on’t k no w .” If Al ic e i ns is ts
"“t hi nk h ar de r ,” Bo b s ho ul d r ea li ze t ha t w it h s om e m or e t ho ug ht , t hi s q ue st io n c an i n f ac t"
"b e a ns we re d . On t he o th er h an d , i f t he q ue st io n w er e “Is y ou r m ot he r s it ti ng d ow n r ig ht"
n ow ?” t he n Bo b s ho ul d r ea li ze t ha t t hi nk in g h ar de r i s u nl ik el y t o h el p . Kn ow le dg e a bo ut
t he k no wl ed ge o f o th er a ge nt s i s a ls o i mp or ta nt ; Bo b s ho ul d r ea li ze t ha t h is m ot he r k no ws
"w he th er sh ei ss it ti ng or no t ,a nd th at as ki ng he rw ou ld be aw ay to fi nd ou t ."
Wh at w e n ee d i s a m od el o f t he m en ta l o bj ec ts t ha t a re i n s om eo ne’s h ea d (o r s om e-
t hi ng’s k no wl ed ge b as e) a nd o f t he m en ta l p ro ce ss es t ha t m an ip ul at e t ho se m en ta l o bj ec ts .
Th e m od el d oe s n ot h av e t o b e d et ai le d . We d o n ot h av e t o b e a bl e t o p re di ct h ow m an y
m il li se co nd s i tw il lt ak e f or ap ar ti cu la r a ge nt t om ak ea de du ct io n . We wi ll be ha pp y j us tt o
b ea bl et oc on cl ud e t ha tm ot he rk no ws wh et he ro rn ot sh ei ss it ti ng .
PROPOSITIONAL We b eg in w it h t he p ro po si ti on al a tt it ud es t ha t a n a ge nt c an h av e t ow ar d m en ta l o b-
ATTITUDE
"j ec ts: a tt it ud es s uc h a s Be li ev es , Kn ow s , Wa nt s , In te nd s , a nd In fo rm s . Th e d if fi cu lt y i s"
"t ha t t he se a tt it ud es d o n ot b eh av e l ik e “n or ma l” p re di ca te s . Fo re xa mp le , s up po se w e t ry t o"
a ss er tt ha t Lo is kn ow st ha t Su pe rm an ca nf ly:
"Kn ow s(Lo is ,Ca n Fl y(Su pe rm an))."
"On em in or is su ew it ht hi si st ha tw en or ma ll yt hi nk of Ca n Fl y(Su pe rm an)a sa se nt en ce ,b ut"
h er ei ta pp ea rs as at er m . Th at is su ec an be pa tc he du pj us tb er ei fy in g Ca n Fl y(Su pe rm an);
"m ak in g i t a f lu en t . A m or e s er io us p ro bl em i st ha t , i fi t i s t ru e t ha t Su pe rm an i s Cl ar k Ke nt ,"
t he nw em us tc on cl ud et ha t Lo is kn ow st ha t Cl ar kc an fl y:
"(Su pe rm an = Cl ar k)∧Kn ow s(Lo is ,Ca n Fl y(Su pe rm an))"
"|= Kn ow s(Lo is ,Ca n Fl y(Cl ar k))."
Th is i s a c on se qu en ce o f t he f ac t t ha t e qu al it y r ea so ni ng i s b ui lt i nt o l og ic . No rm al ly t ha t i s
"a go od t hi ng ; i fo ur ag en t k no ws th at 2+2 = 4 a nd 4 < 5, t he n w ew an to ur ag en t t ok no w"
Se ct io n 12.4. Me nt al Ev en ts an d Me nt al Ob je ct s 451
REFERENTIAL t ha t 2 + 2 < 5. Th is p ro pe rt y i s c al le d r ef er en ti al t ra ns pa re nc y—i t d oe sn’t m at te r w ha t
TRANSPARENCY
"t er ma lo gi cu se st or ef er to an ob je ct ,w ha tm at te rs is th eo bj ec tt ha tt he te rm na me s . Bu tf or"
"p ro po si ti on al at ti tu de sl ik eb el ie ve sa nd kn ow s ,w ew ou ld li ke to ha ve re fe re nt ia lo pa ci ty—t he"
"t er ms us ed do ma tt er ,b ec au se no ta ll ag en ts kn ow wh ic ht er ms ar ec o-r ef er en ti al ."
Mo da ll og ic is de si gn ed to ad dr es st hi sp ro bl em . Re gu la rl og ic is co nc er ne dw it ha si n-
MODALLOGIC
"g le m od al it y , t he m od al it y o f t ru th , a ll ow in g u s t o e xp re ss “P i s t ru e .” Mo da l l og ic i nc lu de s"
"s pe ci al m od al o pe ra to rs t ha t t ak e s en te nc es (r at he r t ha n t er ms) a s a rg um en ts . Fo r e xa mp le ,"
"“Ak no ws P”i sr ep re se nt ed wi th th en ot at io n K P ,w he re Ki st he mo da lo pe ra to rf or kn ow l-"
A
"e dg e . It ta ke s t wo ar gu me nt s , a na ge nt (w ri tt en a st he s ub sc ri pt) a nd a se nt en ce . Th e s yn ta x"
"o fm od al lo gi ci st he sa me as fi rs t-o rd er lo gi c , e xc ep t t ha ts en te nc es c an al so be fo rm ed wi th"
m od al op er at or s .
Th e s em an ti cs o f m od al l og ic i s m or e c om pl ic at ed . In f ir st-o rd er l og ic a m od el c on-
"t ai ns a s et o f o bj ec ts a nd a n i nt er pr et at io n t ha t m ap s e ac h n am e t o t he a pp ro pr ia te o bj ec t ,"
"r el at io n , o rf un ct io n . In m od al l og ic w ew an t t o b e a bl e t o c on si de r b ot h t he p os si bi li ty t ha t"
"Su pe rm an’s s ec re t i de nt it y i s Cl ar k a nd t ha t i t i sn’t . Th er ef or e , w e w il l n ee d a m or e c om-"
"p li ca te d m od el , o ne t ha t c on si st s o f a c ol le ct io n o f p os si bl e w or ld s r at he r t ha n j us t o ne t ru e"
POSSIBLEWORLD
"ACCESSIBILITY w or ld . Th ew or ld s a re co nn ec te d i na gr ap h b y a cc es si bi li ty r el at io ns , o ne r el at io n f or ea ch"
RELATIONS
m od al op er at or . We sa yt ha tw or ld w i sa cc es si bl e f ro mw or ld w w it hr es pe ct t ot he mo da l
1 0
"o pe ra to r K i f e ve ry th in g i n w i s c on si st en t w it h w ha t A k no ws i n w , a nd w e w ri te t hi s"
A 1 0
"a s Ac c(K ,w ,w ). In di ag ra ms s uc h a s Fi gu re 12.4 w es ho w a cc es si bi li ty a sa n a rr ow b e-"
A 0 1
"t we en po ss ib le wo rl ds . As an ex am pl e ,i nt he re al wo rl d ,Bu ch ar es ti st he ca pi ta lo f Ro ma ni a ,"
"b ut f or a n a ge nt t ha t d id n ot k no w t ha t , o th er p os si bl e w or ld s a re a cc es si bl e , i nc lu di ng o ne s"
w he re th ec ap it al o f Ro ma ni ai s Si bi uo r So fi a . Pr es um ab ly a wo rl dw he re 2+2 = 5 w ou ld
n ot be ac ce ss ib le t oa ny ag en t .
"In ge ne ra l , a k no wl ed ge a to m K P i s t ru e i n w or ld w i f a nd o nl y i f P i st ru e i n e ve ry"
A
w or ld ac ce ss ib le f ro m w . Th et ru th of mo re co mp le xs en te nc es i sd er iv ed by re cu rs iv e a pp li-
c at io n o ft hi s r ul e a nd t he n or ma l r ul es o ff ir st-o rd er l og ic . Th at me an s t ha t m od al l og ic c an
b e u se d t o r ea so n a bo ut n es te d k no wl ed ge s en te nc es: w ha t o ne a ge nt k no ws a bo ut a no th er
"a ge nt’s k no wl ed ge . Fo r e xa mp le , w e c an s ay t ha t , e ve n t ho ug h Lo is d oe sn’t k no w w he th er"
"Su pe rm an’s se cr et id en ti ty is Cl ar k Ke nt ,s he do es kn ow th at Cl ar kk no ws:"
"K [K Id en ti ty(Su pe rm an ,Cl ar k)∨K ¬Id en ti ty(Su pe rm an ,Cl ar k)]"
Lo is Cl ar k Cl ar k
"Fi gu re 12.4 s ho ws so me po ss ib le wo rl ds fo rt hi sd om ai n ,w it ha cc es si bi li ty r el at io ns fo r Lo is"
a nd Su pe rm an .
"In th e TOP-LEFT d ia gr am ,i ti sc om mo nk no wl ed ge th at Su pe rm an kn ow sh is ow ni de n-"
"t it y , a nd n ei th er h en or Lo is ha ss ee n t he w ea th er re po rt . So in w t he wo rl ds w a nd w a re"
0 0 2
"a cc es si bl e t o Su pe rm an ;m ay be ra in is pr ed ic te d , m ay be no t . Fo r Lo is al lf ou rw or ld sa re ac-"
c es si bl ef ro me ac ho th er ;s he do es n’t kn ow an yt hi ng ab ou tt he re po rt or if Cl ar ki s Su pe rm an .
"Bu ts he do es kn ow th at Su pe rm an k no ws wh et he rh ei s Cl ar k , b ec au se i ne ve ry wo rl dt ha ti s"
"a cc es si bl e t o Lo is , e it he r Su pe rm an k no ws I , o rh e k no ws ¬I . Lo is do es n ot k no w w hi ch i s"
"t he ca se ,b ut ei th er wa ys he kn ow s Su pe rm an kn ow s ."
In t he TOP-RIGHT d ia gr am i t i s c om mo n k no wl ed ge t ha t Lo is h as s ee n t he w ea th er
r ep or t . So i n w s he k no ws r ai n i s p re di ct ed a nd i n w s he k no ws r ai n i s n ot p re di ct ed .
4 6
452 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
"w: I ,R w: ¬I ,R w: I ,R w: ¬I ,R"
0 1 4 5
"w: I ,¬R w: ¬I ,¬R w: I ,¬R w: ¬I ,¬R"
2 3 6 7
(a) (b)
"w: I ,R w: ¬I ,R"
4 5
"w: I ,R w: ¬I ,R"
0 1
"w: I ,¬R w: ¬I ,¬R"
2 3
"w: I ,¬R w: ¬I ,¬R"
6 7
(c)
Fi gu re 12.4 Po ss ib le w or ld s w it h a cc es si bi li ty r el at io ns KSu pe rm an (s ol id a rr ow s) a nd
KLo is (d ot te da rr ow s). Th ep ro po si ti on Rm ea ns“t he we at he rr ep or tf or to mo rr ow is ra in”
a nd I m ea ns“Su pe rm an’s se cr et id en ti ty is Cl ar k Ke nt .” Al lw or ld sa re ac ce ss ib le to th em-
s el ve s ;t he ar ro ws fr om aw or ld to it se lf ar en ot sh ow n .
"Su pe rm an d oe s n ot k no w t he r ep or t , b ut h e k no ws t ha t Lo is k no ws , b ec au se i n e ve ry w or ld"
"t ha ti sa cc es si bl e t oh im ,e it he rs he kn ow s Ro rs he kn ow s¬R ."
In th e BOTTOM d ia gr am w er ep re se nt t he sc en ar io w he re it is co mm on kn ow le dg e t ha t
"Su pe rm an kn ow sh is id en ti ty , a nd Lo is mi gh to rm ig ht no th av e s ee nt he we at he rr ep or t . We"
"r ep re se nt th is by co mb in in gt he tw ot op sc en ar io s , a nd ad di ng ar ro ws to sh ow th at Su pe rm an"
"d oe s n ot k no w w hi ch s ce na ri o a ct ua ll y h ol ds . Lo is d oe s k no w , s o w e d on’t n ee d t o a dd a ny"
"a rr ow sf or he r . In w Su pe rm an s ti ll k no ws I b ut n ot R ,a nd n ow he do es n ot kn ow w he th er"
0
"Lo is k no ws R . Fr om w ha t Su pe rm an k no ws , h e m ig ht b e i n w o r w , i n w hi ch c as e Lo is"
0 2
"d oe sn ot kn ow wh et he r Ri st ru e ,o rh ec ou ld be in w ,i nw hi ch ca se sh ek no ws R ,o rw ,i n"
4 6
w hi ch ca se sh ek no ws¬R .
"Th er ea re an in fi ni te nu mb er of po ss ib le wo rl ds ,s ot he tr ic ki st oi nt ro du ce ju st th eo ne s"
y ou n ee d t o r ep re se nt w ha t y ou a re t ry in g t o m od el . A n ew p os si bl e w or ld i s n ee de d t o t al k
"a bo ut d if fe re nt p os si bl e f ac ts (e .g ., r ai n i s p re di ct ed o r n ot), o r t o t al k a bo ut d if fe re nt s ta te s"
"o fk no wl ed ge (e .g ., d oe s Lo is kn ow t ha t r ai n i sp re di ct ed). Th at me an st wo po ss ib le w or ld s ,"
"s uc ha sw a nd w i n Fi gu re 12.4,m ig ht ha ve th es am eb as ef ac ts ab ou t t he wo rl d , b ut di ff er"
4 0
"i nt he ir ac ce ss ib il it y r el at io ns , a nd th er ef or ei nf ac ts ab ou tk no wl ed ge ."
Mo da ll og ic s ol ve ss om et ri ck y i ss ue s w it ht he in te rp la y o fq ua nt if ie rs a nd k no wl ed ge .
Th e En gl is hs en te nc e“Bo nd kn ow st ha ts om eo ne is as py”i sa mb ig uo us . Th ef ir st re ad in gi s
Se ct io n 12.5. Re as on in g Sy st em sf or Ca te go ri es 453
t ha tt he re is ap ar ti cu la rs om eo ne wh o Bo nd kn ow si sa sp y ;w ec an wr it et hi sa s
"∃x K Sp y(x),"
Bo nd
"w hi ch i n m od al l og ic m ea ns t ha t t he re i s a n x t ha t , i n a ll a cc es si bl e w or ld s , Bo nd k no ws t o"
b ea sp y . Th es ec on dr ea di ng i st ha t Bo nd ju st kn ow st ha tt he re i sa tl ea st on es py:
K ∃x Sp y(x).
Bo nd
"Th em od al lo gi c i nt er pr et at io n i st ha t i ne ac h a cc es si bl e w or ld th er e i sa n x th at i sa sp y , b ut"
i tn ee dn ot be th es am ex in ea ch wo rl d .
"No w t ha t w e h av e a m od al o pe ra to r f or k no wl ed ge , w e c an w ri te a xi om s f or i t . Fi rs t ,"
w e c an s ay t ha t a ge nt s a re a bl e t o d ra w d ed uc ti on s ; i f a n a ge nt k no ws P a nd k no ws t ha t P
"i mp li es Q ,t he nt he ag en tk no ws Q:"
(K P ∧K (P ⇒ Q)) ⇒ K Q .
a a a
Fr om th is(a nd a fe wo th er ru le s a bo ut l og ic al i de nt it ie s) w e c an es ta bl is h t ha t K (P ∨¬P)
A
i s a t au to lo gy ; e ve ry a ge nt k no ws e ve ry p ro po si ti on P i s e it he r t ru e o r f al se . On t he o th er
"h an d ,(K P)∨(K ¬P)i sn ot at au to lo gy ; i ng en er al , t he re wi ll be lo ts of pr op os it io ns t ha t"
A A
a na ge nt do es no tk no wt ob et ru ea nd do es no tk no wt ob ef al se .
"It i s s ai d (g oi ng b ac k t o Pl at o) t ha t k no wl ed ge i s j us ti fi ed t ru e b el ie f . Th at i s , i f i t i s"
"t ru e , i f y ou b el ie ve i t , a nd i f y ou h av e a n u na ss ai la bl y g oo d r ea so n , t he n y ou k no w i t . Th at"
"m ea ns th at if yo uk no ws om et hi ng , i tm us tb et ru e ,a nd we ha ve th ea xi om:"
K P ⇒ P .
a
"Fu rt he rm or e , l og ic al a ge nt s s ho ul d b e a bl e t o i nt ro sp ec t o n t he ir o wn k no wl ed ge . If t he y"
"k no ws om et hi ng , t he nt he yk no wt ha tt he yk no wi t:"
K P ⇒ K (K P).
a a a
"We ca nd ef in es im il ar ax io ms fo rb el ie f(o ft en de no te db y B)a nd ot he rm od al it ie s . Ho we ve r ,"
LOGICAL o ne p ro bl em w it h t he m od al l og ic a pp ro ac h i s t ha t i t a ss um es l og ic al o mn is ci en ce o n t he
OMNISCIENCE
"p ar t o f a ge nt s . Th at is , i fa n a ge nt k no ws a se t o f a xi om s , t he n i t k no ws a ll co ns eq ue nc es o f"
"t ho se a xi om s . Th is is on sh ak y g ro un d e ve nf or th es om ew ha ta bs tr ac t n ot io n o fk no wl ed ge ,"
"b ut it se em se ve nw or se fo rb el ie f , b ec au se be li ef ha sm or ec on no ta ti on o fr ef er ri ng to th in gs"
"t ha t a re p hy si ca ll y r ep re se nt ed i n t he a ge nt , n ot j us t p ot en ti al ly d er iv ab le . Th er e h av e b ee n"
a tt em pt s t o d ef in e a f or m o f l im it ed r at io na li ty f or a ge nt s ; t o s ay t ha t a ge nt s b el ie ve t ho se
"a ss er ti on s t ha t c an b e d er iv ed w it h t he a pp li ca ti on o f n o m or e t ha n k r ea so ni ng s te ps , o r n o"
m or et ha ns se co nd s o fc om pu ta ti on . Th es ea tt em pt sh av eb ee ng en er al ly u ns at is fa ct or y .
12.5 REASONING SYSTEMS FOR CATEGORIES
Ca te go ri es ar et he pr im ar yb ui ld in g b lo ck so fl ar ge-s ca le k no wl ed ge re pr es en ta ti on s ch em es .
Th is s ec ti on d es cr ib es s ys te ms s pe ci al ly d es ig ne d f or o rg an iz in g a nd r ea so ni ng w it h c at e-
g or ie s . Th er ea re tw oc lo se ly re la te df am il ie so fs ys te ms: s em an ti cn et wo rk sp ro vi de gr ap h-
i ca l a id s f or v is ua li zi ng a k no wl ed ge b as e a nd e ff ic ie nt a lg or it hm s f or i nf er ri ng p ro pe rt ie s
454 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
o f a n o bj ec t o n t he b as is o f i ts c at eg or y m em be rs hi p ; a nd d es cr ip ti on l og ic s p ro vi de a f or-
m al l an gu ag e f or c on st ru ct in g a nd c om bi ni ng c at eg or y d ef in it io ns a nd e ff ic ie nt a lg or it hm s
f or de ci di ng s ub se ta nd su pe rs et re la ti on sh ip s b et we en ca te go ri es .
12.5.1 Se ma nt ic n et wo rk s
"In 1909,Ch ar le s S .Pe ir ce pr op os ed ag ra ph ic al no ta ti on of no de sa nd ed ge sc al le de xi st en ti al"
EXISTENTIAL g ra ph s t ha t h e c al le d “t he l og ic o f t he f ut ur e .” Th us b eg an a l on g-r un ni ng d eb at e b et we en
GRAPHS
"a dv oc at es o f “l og ic” a nd a dv oc at es o f “s em an ti c n et wo rk s .” Un fo rt un at el y , t he d eb at e o b-"
s cu re d t he f ac t t ha t s em an ti cs n et wo rk s—a t l ea st t ho se w it h w el l-d ef in ed s em an ti cs—a re a
f or m o f l og ic . Th e n ot at io n t ha t s em an ti c n et wo rk s p ro vi de f or c er ta in k in ds o f s en te nc es
"i s o ft en m or e c on ve ni en t , b ut i f w e s tr ip a wa y t he “h um an i nt er fa ce” i ss ue s , t he u nd er ly in g"
"c on ce pt s—o bj ec ts , r el at io ns , q ua nt if ic at io n , a nd so on—a re th es am e ."
"Th er e a re m an y v ar ia nt s o f s em an ti c n et wo rk s , b ut a ll a re c ap ab le o f r ep re se nt in g i n-"
"d iv id ua l o bj ec ts , c at eg or ie s o f o bj ec ts , a nd r el at io ns a mo ng o bj ec ts . A t yp ic al g ra ph ic al n o-"
"t at io n d is pl ay s o bj ec t o r c at eg or y n am es i n o va ls o r b ox es , a nd c on ne ct s t he m w it h l ab el ed"
"l in ks . Fo re xa mp le , Fi gu re 12.5 h as a Me mb er Of l in k b et we en Ma ry a nd Fe ma le Pe rs on s ,"
"c or re sp on di ng t ot he lo gi ca l a ss er ti on Ma ry∈Fe ma le Pe rs on s ;s im il ar ly , t he Si st er Of l in k"
"b et we en Ma ry a nd Jo hn c or re sp on ds t ot he as se rt io n Si st er Of(Ma ry ,Jo hn). We ca nc on-"
"n ec t c at eg or ie s u si ng Su bs et Of l in ks , a nd s o o n . It i s s uc h f un d ra wi ng b ub bl es a nd a rr ow s"
"t ha t o ne c an g et c ar ri ed a wa y . Fo r e xa mp le , w e k no w t ha t p er so ns h av e f em al e p er so ns a s"
"m ot he rs , s oc an we dr aw a Ha s Mo th er l in k f ro m Pe rs on s t o Fe ma le Pe rs on s ? Th ea ns we r"
"i sn o ,b ec au se Ha s Mo th er i sa re la ti on be tw ee na pe rs on an dh is or he rm ot he r ,a nd ca te go ri es"
d on ot ha ve mo th er s .5
"Fo rt hi sr ea so n ,w eh av eu se da sp ec ia ln ot at io n—t he do ub le-b ox ed li nk—i n Fi gu re 12.5."
Th is li nk as se rt st ha t
"∀x x∈Pe rs on s ⇒ [∀y Ha s Mo th er(x ,y) ⇒ y∈Fe ma le Pe rs on s]."
"We mi gh ta ls ow an tt oa ss er tt ha tp er so ns ha ve tw ol eg s—t ha ti s ,"
"∀x x∈Pe rs on s ⇒ Le gs(x ,2)."
"As be fo re , w en ee d t ob e c ar ef ul n ot t o a ss er t t ha t a ca te go ry h as l eg s ; t he s in gl e-b ox ed l in k"
i n Fi gu re 12.5 i su se dt oa ss er tp ro pe rt ie s o fe ve ry me mb er of a ca te go ry .
Th e s em an ti c n et wo rk n ot at io n m ak es i t c on ve ni en t t o p er fo rm i nh er it an ce r ea so ni ng
"o ft he ki nd in tr od uc ed in Se ct io n 12.2. Fo re xa mp le ,b yv ir tu eo fb ei ng ap er so n ,Ma ry in he ri ts"
"t he p ro pe rt y o f h av in g t wo l eg s . Th us , t o f in d o ut h ow m an y l eg s Ma ry h as , t he i nh er it an ce"
"a lg or it hm f ol lo ws t he Me mb er Of l in k f ro m Ma ry t o t he c at eg or y s he b el on gs t o , a nd t he n"
f ol lo ws Su bs et Of l in ks u p t he h ie ra rc hy u nt il i t f in ds a c at eg or y f or w hi ch t he re i s a b ox ed
"Le gs l in k—i nt hi sc as e ,t he Pe rs on s c at eg or y . Th es im pl ic it ya nd ef fi ci en cy of th is in fe re nc e"
5 Se ve ra le ar ly sy st em sf ai le dt od is ti ng ui sh be tw ee np ro pe rt ie so fm em be rs of ac at eg or ya nd pr op er ti es of th e
"c at eg or ya sa wh ol e . Th is ca nl ea dd ir ec tl yt oi nc on si st en ci es ,a sp oi nt ed ou tb y Dr ew Mc De rm ot t(1976)i nh is"
a rt ic le“Ar ti fi ci al In te ll ig en ce Me et s Na tu ra l St up id it y .” An ot he rc om mo np ro bl em wa st he us eo f Is Al in ks fo r
"b ot hs ub se ta nd me mb er sh ip re la ti on s ,i nc or re sp on de nc ew it h En gl is hu sa ge: “a ca ti sa ma mm al”a nd“Fi fi is a"
c at .”Se e Ex er ci se 12.22 f or mo re on th es ei ss ue s .
Se ct io n 12.5. Re as on in g Sy st em sf or Ca te go ri es 455
Ma mm al s
Su bs et Of
Ha s Mo th er Le gs
Pe rs on s 2
Su bs et Of Su bs et Of
Fe ma le Ma le
Pe rs on s Pe rs on s
Me mb er Of Me mb er Of
Si st er Of Le gs
Ma ry Jo hn 1
"Fi gu re 12.5 As em an ti cn et wo rk wi th fo ur ob je ct s(Jo hn ,Ma ry ,1, a nd 2)a nd fo ur ca te-"
g or ie s .Re la ti on sa re de no te db yl ab el ed li nk s .
Fl y Ev en ts
Me mb er Of
Fl y
17
Ag en t Du ri ng
Or ig in De st in at io n
Sh an ka r Ne w Yo rk Ne w De lh i Ye st er da y
Fi gu re 12.6 Af ra gm en to fa se ma nt ic ne tw or ks ho wi ng th er ep re se nt at io n o ft he lo gi ca l
"a ss er ti on Fl y(Sh an ka r ,Ne w Yo rk ,Ne w De lh i ,Ye st er da y)."
"m ec ha ni sm , c om pa re d w it hl og ic al t he or em p ro vi ng , h as be en o ne of th em ai na tt ra ct io ns o f"
s em an ti cn et wo rk s .
In he ri ta nc eb ec om es co mp li ca te dw he na no bj ec tc an be lo ng to mo re th an on ec at eg or y
o rw he na ca te go ry ca nb ea su bs et of mo re th an on eo th er ca te go ry ;t hi si sc al le dm ul ti pl ei n-
"MULTIPLE h er it an ce . In su ch ca se s ,t he in he ri ta nc e a lg or it hm mi gh tf in dt wo or mo re co nf li ct in gv al ue s"
INHERITANCE
"a ns we ri ng th eq ue ry . Fo rt hi sr ea so n ,m ul ti pl ei nh er it an ce i sb an ne di ns om eo bj ec t-o ri en te d"
"p ro gr am mi ng (OOP)l an gu ag es , s uc h a s Ja va , t ha t u se in he ri ta nc e i na cl as s h ie ra rc hy . It is"
"u su al ly al lo we di ns em an ti cn et wo rk s , b ut we de fe rd is cu ss io n o ft ha tu nt il Se ct io n 12.6."
"Th er ea de rm ig ht ha ve no ti ce da no bv io us dr aw ba ck of se ma nt ic ne tw or kn ot at io n ,c om-"
p ar ed to fi rs t-o rd er lo gi c: t he fa ct th at li nk s b et we en bu bb le s r ep re se nt o nl y b in ar y r el at io ns .
"Fo r e xa mp le , t he s en te nc e Fl y(Sh an ka r ,Ne w Yo rk ,Ne w De lh i ,Ye st er da y) c an no t b e a s-"
"s er te d d ir ec tl y i n a s em an ti c n et wo rk . No ne th el es s , w e c an o bt ai n t he e ff ec t o f n-a ry a ss er-"
t io ns by re if yi ng th ep ro po si ti on it se lf as an ev en tb el on gi ng to an ap pr op ri at ee ve nt ca te go ry .
Fi gu re 12.6 s ho ws t he s em an ti c n et wo rk s tr uc tu re f or t hi s p ar ti cu la r e ve nt . No ti ce t ha t t he
r es tr ic ti on t ob in ar yr el at io ns f or ce st he cr ea ti on o fa ri ch on to lo gy o fr ei fi ed co nc ep ts .
"Re if ic at io n o f p ro po si ti on s m ak es i t p os si bl e t o r ep re se nt e ve ry g ro un d , f un ct io n-f re e"
a to mi cs en te nc eo ff ir st-o rd er lo gi ci nt he se ma nt ic ne tw or kn ot at io n . Ce rt ai nk in ds of un iv er-
456 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
s al ly qu an ti fi ed se nt en ce sc an be as se rt ed us in gi nv er se li nk sa nd th es in gl yb ox ed an dd ou bl y
"b ox ed a rr ow sa pp li ed t oc at eg or ie s , b ut th at st il ll ea ve s u s a lo ng wa ys ho rt o ff ul lf ir st-o rd er"
"l og ic . Ne ga ti on , d is ju nc ti on , n es te d f un ct io n s ym bo ls , a nd e xi st en ti al q ua nt if ic at io n a re a ll"
m is si ng . No wi ti sp os si bl et oe xt en dt he no ta ti on to ma ke it eq ui va le nt to fi rs t-o rd er lo gi c—a s
i n Pe ir ce’s e xi st en ti al g ra ph s—b ut d oi ng s o n eg at es o ne o ft he m ai n a dv an ta ge s o f s em an ti c
"n et wo rk s ,w hi ch is th es im pl ic it ya nd tr an sp ar en cy o ft he in fe re nc e p ro ce ss es . De si gn er sc an"
"b ui ld a la rg e n et wo rk an ds ti ll ha ve ag oo d i de aa bo ut w ha tq ue ri es w il lb ee ff ic ie nt , b ec au se"
(a)i ti se as yt ov is ua li ze th es te ps th at th ei nf er en ce pr oc ed ur ew il lg ot hr ou gh an d(b)i ns om e
c as es t he q ue ry l an gu ag e i s s o s im pl e t ha t d if fi cu lt q ue ri es c an no t b e p os ed . In c as es w he re
"t he e xp re ss iv e p ow er pr ov es t o b e t oo l im it in g , m an y s em an ti c n et wo rk s ys te ms p ro vi de f or"
p ro ce du ra l a tt ac hm en t t o f il l i n t he g ap s . Pr oc ed ur al a tt ac hm en t i s a t ec hn iq ue w he re by
a q ue ry a bo ut (o r s om et im es a n a ss er ti on o f) a c er ta in r el at io n r es ul ts i n a c al l t o a s pe ci al
p ro ce du re d es ig ne d f or th at re la ti on ra th er th an ag en er al i nf er en ce a lg or it hm .
On e o f t he m os t i mp or ta nt a sp ec ts o f s em an ti c n et wo rk s i s t he ir a bi li ty t o r ep re se nt
"d ef au lt va lu es fo rc at eg or ie s . Ex am in in g Fi gu re 12.5 c ar ef ul ly ,o ne no ti ce st ha t Jo hn ha so ne"
DEFAULTVALUE
"l eg ,d es pi te th ef ac tt ha th ei sa pe rs on an da ll pe rs on sh av et wo le gs . In as tr ic tl yl og ic al KB ,"
"t hi s w ou ld b e a c on tr ad ic ti on , b ut i n a s em an ti c n et wo rk , t he a ss er ti on t ha t a ll p er so ns h av e"
"t wo l eg s h as o nl y d ef au lt s ta tu s ; t ha t i s , a p er so n i s a ss um ed t o h av e t wo l eg s u nl es s t hi s i s"
c on tr ad ic te db ym or es pe ci fi ci nf or ma ti on . Th ed ef au lt se ma nt ic si se nf or ce dn at ur al ly by th e
"i nh er it an ce a lg or it hm , b ec au se i t f ol lo ws l in ks u pw ar ds f ro m t he o bj ec t i ts el f (Jo hn i n t hi s"
c as e)a nd st op sa ss oo na si tf in ds av al ue . We sa yt ha tt he de fa ul ti so ve rr id de nb yt he mo re
OVERRIDING
s pe ci fi c v al ue . No ti ce t ha t w e c ou ld a ls o o ve rr id e t he d ef au lt n um be r o f l eg s b y c re at in g a
"c at eg or yo f On e Le gg ed Pe rs on s ,a su bs et of Pe rs on s o fw hi ch Jo hn i sa me mb er ."
We ca nr et ai na st ri ct ly l og ic al s em an ti cs f or th en et wo rk if w es ay th at th e Le gs a ss er-
t io nf or Pe rs on s i nc lu de s a ne xc ep ti on f or Jo hn:
"∀x x∈Pe rs on s ∧x (c id:7)= Jo hn ⇒ Le gs(x ,2)."
"Fo r a f ix ed n et wo rk , t hi s i s s em an ti ca ll y a de qu at e b ut w il l b e m uc h l es s c on ci se t ha n t he"
n et wo rk no ta ti on it se lf if th er ea re lo ts of ex ce pt io ns . Fo ra ne tw or kt ha tw il lb eu pd at ed wi th
"m or ea ss er ti on s , h ow ev er , s uc h a na pp ro ac h f ai ls—w er ea ll y w an tt os ay t ha ta ny pe rs on s a s"
y et un kn ow nw it ho ne le ga re ex ce pt io ns to o . Se ct io n 12.6 g oe si nt om or ed ep th on th is is su e
a nd on de fa ul tr ea so ni ng i ng en er al .
12.5.2 De sc ri pt io nl og ic s
Th e s yn ta x o f f ir st-o rd er l og ic i s d es ig ne d t o m ak e i t e as y t o s ay t hi ng s a bo ut o bj ec ts . De-
s cr ip ti on l og ic s a re n ot at io ns t ha t a re d es ig ne d t o m ak e i t e as ie r t o d es cr ib e d ef in it io ns a nd
DESCRIPTIONLOGIC
p ro pe rt ie s o f c at eg or ie s . De sc ri pt io n l og ic s ys te ms e vo lv ed f ro m s em an ti c n et wo rk s i n r e-
s po ns e t o p re ss ur e t o f or ma li ze w ha t t he n et wo rk s m ea n w hi le r et ai ni ng t he e mp ha si s o n
t ax on om ic s tr uc tu re as an or ga ni zi ng p ri nc ip le .
Th e p ri nc ip al i nf er en ce t as ks f or d es cr ip ti on l og ic s a re s ub su mp ti on (c he ck in g i f o ne
SUBSUMPTION
c at eg or y i s a s ub se t o f a no th er b y c om pa ri ng t he ir d ef in it io ns) a nd c la ss if ic at io n (c he ck in g
CLASSIFICATION
w he th er an ob je ct b el on gs t oa ca te go ry).. So me sy st em s a ls o i nc lu de c on si st en cy o fa ca te-
g or yd ef in it io n—w he th er t he me mb er sh ip cr it er ia a re lo gi ca ll y s at is fi ab le .
Se ct io n 12.5. Re as on in g Sy st em sf or Ca te go ri es 457
Co nc ep t → Th in g| Co nc ep t Na me
"| An d(Co nc ep t ,...)"
"| Al l(Ro le Na me ,Co nc ep t)"
"| At Le as t(In te ge r ,Ro le Na me)"
"| At Mo st(In te ge r ,Ro le Na me)"
"| Fi ll s(Ro le Na me ,In di vi du al Na me ,...)"
"| Sa me As(Pa th ,Pa th)"
"| On e Of(In di vi du al Na me ,...)"
"Pa th → [Ro le Na me ,...]"
Fi gu re 12.7 Th es yn ta xo fd es cr ip ti on si na su bs et of th e CLASSICl an gu ag e .
"Th e CLASSIC l an gu ag e(Bo rg id a e ta l .,1989)i sa ty pi ca ld es cr ip ti on l og ic . Th es yn ta x"
"o f CLASSIC d es cr ip ti on s i s s ho wn i n Fi gu re 12.7.6 Fo r e xa mp le , t o s ay t ha t b ac he lo rs a re"
u nm ar ri ed ad ul tm al es we wo ul dw ri te
"Ba ch el or = An d(Un ma rr ie d ,Ad ul t ,Ma le)."
Th ee qu iv al en t i nf ir st-o rd er lo gi cw ou ld be
Ba ch el or(x) ⇔ Un ma rr ie d(x)∧Ad ul t(x)∧Ma le(x).
"No ti ce t ha t t he d es cr ip ti on l og ic h as a n a n a lg eb ra o f o pe ra ti on s o n p re di ca te s , w hi ch o f"
c ou rs ew ec an’t do in fi rs t-o rd er lo gi c . An yd es cr ip ti on i n CLASSIC c an be tr an sl at ed i nt oa n
"e qu iv al en t f ir st-o rd er s en te nc e , b ut s om e d es cr ip ti on s a re m or e s tr ai gh tf or wa rd i n CLASSIC ."
"Fo r e xa mp le , t o d es cr ib e t he s et o f m en w it h a t l ea st t hr ee s on s w ho a re a ll u ne mp lo ye d"
"a nd m ar ri ed t o d oc to rs , a nd a t m os tt wo da ug ht er s w ho a re al l p ro fe ss or s i n p hy si cs o rm at h"
"d ep ar tm en ts , w ew ou ld us e"
"An d(Ma n ,At Le as t(3,So n),At Mo st(2,Da ug ht er),"
"Al l(So n ,An d(Un em pl oy ed ,Ma rr ie d ,Al l(Sp ou se ,Do ct or))),"
"Al l(Da ug ht er ,An d(Pr of es so r ,Fi ll s(De pa rt me nt ,Ph ys ic s ,Ma th))))."
We le av ei ta sa ne xe rc is et ot ra ns la te th is in to fi rs t-o rd er lo gi c .
Pe rh ap st he mo st im po rt an ta sp ec to fd es cr ip ti on lo gi cs is th ei re mp ha si so nt ra ct ab il it y
o fi nf er en ce . Ap ro bl em i ns ta nc e i ss ol ve d b yd es cr ib in g i ta nd th en a sk in g i fi ti ss ub su me d
"b yo ne of se ve ra lp os si bl es ol ut io nc at eg or ie s . In st an da rd fi rs t-o rd er lo gi cs ys te ms ,p re di ct in g"
t he so lu ti on ti me is of te ni mp os si bl e . It is fr eq ue nt ly l ef tt ot he us er to en gi ne er th er ep re se n-
t at io n t o d et ou r a ro un d s et s o f s en te nc es t ha t s ee m t o b e c au si ng t he s ys te m t o t ak e s ev er al
"w ee ks to so lv ea pr ob le m . Th et hr us ti nd es cr ip ti on lo gi cs ,o nt he ot he rh an d ,i st oe ns ur et ha t"
s ub su mp ti on-t es ti ng c an be so lv ed in ti me po ly no mi al i nt he si ze of th ed es cr ip ti on s .7
"6 No ti ce t ha t t he l an gu ag e d oe s n ot a ll ow o ne t o s im pl y s ta te t ha t o ne c on ce pt , o r c at eg or y , i s a s ub se t o f"
a no th er . Th is is ad el ib er at ep ol ic y:s ub su mp ti on be tw ee nc at eg or ie sm us tb ed er iv ab le fr om so me as pe ct so ft he
"d es cr ip ti on so ft he ca te go ri es .If no t ,t he ns om et hi ng is mi ss in gf ro mt he de sc ri pt io ns ."
"7 CLASSICp ro vi de se ff ic ie nt su bs um pt io nt es ti ng in pr ac ti ce ,b ut th ew or st-c as er un ti me is ex po ne nt ia l ."
458 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
"Th is s ou nd s w on de rf ul i n p ri nc ip le , u nt il o ne r ea li ze s t ha t i t c an o nl y h av e o ne o f t wo"
"c on se qu en ce s: e it he r h ar d p ro bl em s c an no t b e s ta te d a t a ll , o r t he y r eq ui re e xp on en ti al ly"
"l ar ge d es cr ip ti on s ! Ho we ve r ,t he tr ac ta bi li ty r es ul ts d os he d l ig ht on wh at so rt s o fc on st ru ct s"
c au se p ro bl em s a nd t hu s h el p t he u se r t o u nd er st an d h ow d if fe re nt r ep re se nt at io ns b eh av e .
"Fo r e xa mp le , d es cr ip ti on l og ic s u su al ly l ac k n eg at io n a nd d is ju nc ti on . Ea ch f or ce s f ir st-"
o rd er lo gi ca ls ys te ms to go th ro ug h a po te nt ia ll y e xp on en ti al c as ea na ly si s i no rd er to en su re
c om pl et en es s . CLASSIC a ll ow s o nl y a l im it ed f or m o f d is ju nc ti on i n t he Fi ll s a nd On e Of
"c on st ru ct s , w hi ch p er mi t d is ju nc ti on o ve re xp li ci tl y e nu me ra te d i nd iv id ua ls b ut n ot o ve rd e-"
"s cr ip ti on s . Wi th di sj un ct iv e d es cr ip ti on s , n es te d d ef in it io ns c an le ad ea si ly t oa ne xp on en ti al"
n um be ro fa lt er na ti ve r ou te sb yw hi ch on ec at eg or y c an su bs um ea no th er .
12.6 REASONING WITH DEFAULT INFORMATION
"In th ep re ce di ng s ec ti on ,w es aw as im pl ee xa mp le of an as se rt io nw it hd ef au lt st at us: p eo pl e"
"h av e t wo l eg s . Th is d ef au lt c an b e o ve rr id de n b y m or e s pe ci fi c i nf or ma ti on , s uc h a s t ha t"
Lo ng Jo hn Si lv er ha so ne l eg . We sa w t ha tt he i nh er it an ce m ec ha ni sm i ns em an ti c n et wo rk s
"i mp le me nt s t he o ve rr id in g o f d ef au lt s i n a s im pl e a nd n at ur al w ay . In t hi s s ec ti on , w e s tu dy"
"d ef au lt s m or e g en er al ly , w it h a v ie w t ow ar d u nd er st an di ng t he s em an ti cs o f d ef au lt s r at he r"
t ha nj us tp ro vi di ng a pr oc ed ur al m ec ha ni sm .
12.6.1 Ci rc um sc ri pt io n a nd de fa ul t l og ic
We ha ve se en tw oe xa mp le so fr ea so ni ng pr oc es se st ha tv io la te th em on ot on ic it yp ro pe rt yo f
l og ic t ha t w as p ro ve d i n Ch ap te r 7.8 In t hi s c ha pt er w e s aw t ha t a p ro pe rt y i nh er it ed b y a ll
m em be rs of ac at eg or y i na se ma nt ic ne tw or kc ou ld be ov er ri dd en b ym or es pe ci fi ci nf or ma-
"t io nf or as ub ca te go ry . In Se ct io n 9.4.5,w es aw th at u nd er th ec lo se d-w or ld a ss um pt io n , i fa"
"p ro po si ti on αi sn ot me nt io ne d i n KB t he n KB |= ¬α,b ut KB ∧α |= α."
Si mp le i nt ro sp ec ti on s ug ge st s t ha t t he se f ai lu re s o f m on ot on ic it y a re w id es pr ea d i n
"c om mo ns en se r ea so ni ng . It s ee ms t ha t h um an s o ft en “j um p t o c on cl us io ns .” Fo r e xa mp le ,"
"w he n o ne s ee s a c ar p ar ke d o n t he s tr ee t , o ne i s n or ma ll y w il li ng t o b el ie ve t ha t i t h as f ou r"
"w he el s e ve n t ho ug h o nl y t hr ee a re v is ib le . No w , p ro ba bi li ty t he or y c an c er ta in ly p ro vi de a"
"c on cl us io n t ha tt he fo ur th w he el ex is ts w it hh ig hp ro ba bi li ty , y et ,f or mo st pe op le , t he po ss i-"
b il it y o f t he c ar’s n ot h av in g f ou r w he el s d oe s n ot a ri se u nl es s s om e n ew e vi de nc e p re se nt s
"i ts el f . Th us , i t s ee ms t ha t t he f ou r-w he el c on cl us io n i s r ea ch ed b y d ef au lt , i n t he a bs en ce o f"
"a ny re as on t od ou bt i t . If ne we vi de nc e a rr iv es—f or ex am pl e , i fo ne se es t he ow ne rc ar ry in g"
a wh ee la nd no ti ce st ha tt he ca ri sj ac ke du p—t he nt he co nc lu si on ca nb er et ra ct ed . Th is ki nd
"o f r ea so ni ng i s s ai d t o e xh ib it n on mo no to ni ci ty , b ec au se t he s et o f b el ie fs d oe s n ot g ro w"
NONMONOTONICITY
NONMONOTONIC m on ot on ic al ly o ve r t im e a s n ew e vi de nc e a rr iv es . No nm on ot on ic l og ic s h av e b ee n d ev is ed
LOGIC
w it hm od if ie dn ot io ns of tr ut ha nd en ta il me nt in or de rt oc ap tu re su ch be ha vi or . We wi ll lo ok
a tt wo su ch lo gi cs th at ha ve be en st ud ie d e xt en si ve ly: c ir cu ms cr ip ti on a nd de fa ul tl og ic .
8 Re ca ll th at mo no to ni ci ty re qu ir es al le nt ai le ds en te nc es to re ma in en ta il ed af te rn ew se nt en ce sa re ad de dt ot he
"KB .Th at is ,i f KB |=αt he n KB ∧β |=α."
Se ct io n 12.6. Re as on in g w it h De fa ul t In fo rm at io n 459
Ci rc um sc ri pt io n c an b e s ee n a s a m or e p ow er fu l a nd p re ci se v er si on o f t he c lo se d-
CIRCUMSCRIPTION
w or ld as su mp ti on . Th ei de ai st os pe ci fy pa rt ic ul ar pr ed ic at es th at ar ea ss um ed to be“a sf al se
"a sp os si bl e”—t ha t i s ,f al se fo re ve ry ob je ct ex ce pt th os ef or wh ic ht he ya re kn ow nt ob et ru e ."
"Fo re xa mp le , s up po se w ew an tt oa ss er t t he de fa ul t r ul e t ha tb ir ds f ly . We wo ul di nt ro du ce a"
"p re di ca te , s ay Ab no rm al (x),a nd wr it e"
1
Bi rd(x)∧¬Ab no rm al (x) ⇒ Fl ie s(x).
1
"If w e s ay t ha t Ab no rm al i s t o b e c ir cu ms cr ib ed , a c ir cu ms cr ip ti ve r ea so ne r i s e nt it le d t o"
1
a ss um e ¬Ab no rm al (x) u nl es s Ab no rm al (x) i s k no wn t o b e t ru e . Th is a ll ow s t he c on-
1 1
"c lu si on Fl ie s(Tw ee ty) t o b e d ra wn f ro m t he p re mi se Bi rd(Tw ee ty), b ut t he c on cl us io n n o"
l on ge rh ol ds if Ab no rm al (Tw ee ty)i sa ss er te d .
1
MODEL Ci rc um sc ri pt io n c an b e v ie we d a s a n e xa mp le o f a m od el p re fe re nc e l og ic . In s uc h
PREFERENCE
"l og ic s ,a se nt en ce is en ta il ed(w it hd ef au lt st at us)i fi ti st ru ei na ll pr ef er re dm od el so ft he KB ,"
"a s o pp os ed t o t he r eq ui re me nt o f t ru th i n a ll m od el s i n c la ss ic al l og ic . Fo r c ir cu ms cr ip ti on ,"
o ne m od el is pr ef er re d t oa no th er i fi th as f ew er ab no rm al o bj ec ts .9 Le tu ss ee ho w t hi si de a
w or ks in th ec on te xt of mu lt ip le in he ri ta nc e i ns em an ti cn et wo rk s . Th es ta nd ar de xa mp le fo r
w hi ch m ul ti pl e i nh er it an ce i s p ro bl em at ic i s c al le d t he “Ni xo n d ia mo nd .” It a ri se s f ro m t he
o bs er va ti on t ha t Ri ch ar d Ni xo n w as b ot h a Qu ak er (a nd h en ce b y d ef au lt a p ac if is t) a nd a
Re pu bl ic an (a nd he nc eb yd ef au lt n ot ap ac if is t). We ca nw ri te th is as fo ll ow s:
Re pu bl ic an(Ni xo n)∧Qu ak er(Ni xo n).
Re pu bl ic an(x)∧¬Ab no rm al (x) ⇒ ¬Pa ci fi st(x).
2
Qu ak er(x)∧¬Ab no rm al (x) ⇒ Pa ci fi st(x).
3
"If w e c ir cu ms cr ib e Ab no rm al a nd Ab no rm al , t he re a re t wo p re fe rr ed m od el s: o ne i n"
2 3
w hi ch Ab no rm al (Ni xo n)a nd Pa ci fi st(Ni xo n)h ol da nd on ei nw hi ch Ab no rm al (Ni xo n)
2 3
"a nd¬Pa ci fi st(Ni xo n)h ol d . Th us ,t he ci rc um sc ri pt iv er ea so ne rr em ai ns pr op er ly a gn os ti ca s"
"t o w he th er Ni xo n w as a p ac if is t . If w e w is h , i n a dd it io n , t o a ss er t t ha t r el ig io us b el ie fs t ak e"
"PRIORITIZED p re ce de nc eo ve rp ol it ic al be li ef s ,w ec an us ea fo rm al is mc al le dp ri or it iz ed ci rc um sc ri pt io n"
CIRCUMSCRIPTION
t og iv ep re fe re nc e t om od el sw he re Ab no rm al i sm in im iz ed .
3
De fa ul tl og ic i s a fo rm al is m i n w hi ch d ef au lt r ul es c an b e w ri tt en t og en er at e c on ti n-
DEFAULTLOGIC
"g en t ,n on mo no to ni c c on cl us io ns . Ad ef au lt ru le lo ok sl ik et hi s:"
DEFAULTRULES
Bi rd(x) :Fl ie s(x)/Fl ie s(x).
"Th is ru le me an st ha ti f Bi rd(x)i st ru e ,a nd if Fl ie s(x)i sc on si st en tw it ht he kn ow le dg eb as e ,"
"t he n Fl ie s(x)m ay be co nc lu de d b yd ef au lt . In ge ne ra l , a de fa ul t r ul eh as th ef or m"
"P :J ,...,J /C"
1 n
"w he re P i s c al le d t he p re re qu is it e , C i s t he c on cl us io n , a nd J a re t he j us ti fi ca ti on s—i f a ny"
i
"o ne o f t he m c an b e p ro ve n f al se , t he n t he c on cl us io n c an no t b e d ra wn . An y v ar ia bl e t ha t"
"9 Fo rt he cl os ed-w or ld as su mp ti on ,o ne mo de li sp re fe rr ed to an ot he ri fi th as fe we rt ru ea to ms—t ha ti s ,p re fe rr ed"
m od el sa re mi ni ma lm od el s . Th er ei sa na tu ra lc on ne ct io nb et we en th ec lo se d-w or ld as su mp ti on an dd ef in it e-
"c la us e KBs ,b ec au se th ef ix ed po in tr ea ch ed by fo rw ar dc ha in in go nd ef in it e-c la us e KBs is th eu ni qu em in im al"
m od el .Se ep ag e 258 f or mo re on th is po in t .
460 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
a pp ea rs i n J o r C m us t a ls o a pp ea r i n P . Th e Ni xo n-d ia mo nd e xa mp le c an b e r ep re se nt ed
i
i nd ef au lt l og ic wi th on ef ac ta nd tw od ef au lt ru le s:
Re pu bl ic an(Ni xo n)∧Qu ak er(Ni xo n).
Re pu bl ic an(x) :¬Pa ci fi st(x)/¬Pa ci fi st(x).
Qu ak er(x) :Pa ci fi st(x)/Pa ci fi st(x).
"To i nt er pr et w ha t t he d ef au lt r ul es m ea n , w e d ef in e t he n ot io n o f a n e xt en si on o f a d ef au lt"
EXTENSION
"t he or y t o b e a m ax im al s et o f c on se qu en ce s o f t he t he or y . Th at i s , a n e xt en si on S c on si st s"
"o f t he o ri gi na l k no wn f ac ts a nd a s et o f c on cl us io ns f ro m t he d ef au lt r ul es , s uc h t ha t n o"
a dd it io na lc on cl us io ns c an be dr aw nf ro m S a nd th ej us ti fi ca ti on so fe ve ry de fa ul tc on cl us io n
"i n S a re co ns is te nt wi th S . As in th ec as eo ft he pr ef er re dm od el si nc ir cu ms cr ip ti on , w eh av e"
t wo po ss ib le ex te ns io ns fo rt he Ni xo nd ia mo nd: o ne wh er ei nh ei sa pa ci fi st an do ne wh er ei n
h ei sn ot . Pr io ri ti ze ds ch em es ex is ti nw hi ch so me de fa ul tr ul es ca nb eg iv en pr ec ed en ce ov er
"o th er s , a ll ow in gs om ea mb ig ui ti es t ob er es ol ve d ."
"Si nc e 1980, w he n n on mo no to ni c l og ic s w er e f ir st p ro po se d , a g re at d ea l o f p ro gr es s"
h as b ee n m ad e i n u nd er st an di ng t he ir m at he ma ti ca l p ro pe rt ie s . Th er e a re s ti ll u nr es ol ve d
"q ue st io ns , h ow ev er . Fo r e xa mp le , i f “Ca rs h av e f ou r w he el s” i s f al se , w ha t d oe s i t m ea n"
t o h av e i t i n o ne’s k no wl ed ge b as e ? Wh at i s a g oo d s et o f d ef au lt r ul es t o h av e ? If w e
"c an no t d ec id e , f or e ac h r ul e s ep ar at el y , w he th er i t b el on gs i n o ur k no wl ed ge b as e , t he n w e"
"h av ea se ri ou sp ro bl em o fn on mo du la ri ty . Fi na ll y , h ow ca nb el ie fs th at ha ve de fa ul ts ta tu sb e"
u se d t o m ak e d ec is io ns ? Th is i s p ro ba bl y t he h ar de st i ss ue f or d ef au lt r ea so ni ng . De ci si on s
"o ft en i nv ol ve t ra de of fs , a nd o ne t he re fo re n ee ds t o c om pa re t he s tr en gt hs o f b el ie f i n t he"
"o ut co me s o fd if fe re nt a ct io ns , a nd t he c os ts o f m ak in g a wr on g d ec is io n . In c as es w he re t he"
"s am e k in ds o f d ec is io ns a re b ei ng m ad e r ep ea te dl y , i t i s p os si bl e t o i nt er pr et d ef au lt r ul es"
"a s “t hr es ho ld p ro ba bi li ty” s ta te me nt s . Fo r e xa mp le , t he d ef au lt r ul e “My b ra ke s a re a lw ay s"
"OK” r ea ll y m ea ns “Th e p ro ba bi li ty t ha t m y b ra ke s a re OK , g iv en n o o th er i nf or ma ti on , i s"
s uf fi ci en tl y h ig h t ha t t he o pt im al d ec is io n i s f or m e t o d ri ve w it ho ut c he ck in g t he m .” Wh en
"t he de ci si on co nt ex tc ha ng es—f or ex am pl e ,w he no ne is dr iv in ga he av il yl ad en tr uc kd ow na"
"s te ep m ou nt ai n r oa d—t he d ef au lt r ul es ud de nl y b ec om es i na pp ro pr ia te , e ve nt ho ug h t he re is"
n on ew ev id en ce of fa ul ty br ak es . Th es ec on si de ra ti on sh av el ed so me re se ar ch er st oc on si de r
h ow to em be dd ef au lt re as on in g w it hi np ro ba bi li ty t he or yo r u ti li ty th eo ry .
12.6.2 Tr ut h m ai nt en an ce s ys te ms
We ha ve s ee n t ha t m an y o f t he i nf er en ce s d ra wn b y a k no wl ed ge r ep re se nt at io n s ys te m w il l
"h av e o nl y d ef au lt s ta tu s , r at he r t ha n b ei ng a bs ol ut el y c er ta in . In ev it ab ly , s om e o f t he se i n-"
f er re df ac ts wi ll tu rn ou tt ob ew ro ng an dw il lh av et ob er et ra ct ed in th ef ac eo fn ew in fo rm a-
t io n . Th is p ro ce ss i s c al le d b el ie f r ev is io n .10 Su pp os e t ha t a k no wl ed ge b as e KB c on ta in s
BELIEFREVISION
"a s en te nc e P—p er ha ps a d ef au lt c on cl us io n r ec or de d b y a f or wa rd-c ha in in g a lg or it hm , o r"
"p er ha ps j us t a n i nc or re ct a ss er ti on—a nd w e w an t t o e xe cu te TELL(KB , ¬P). To av oi d c re-"
"a ti ng a c on tr ad ic ti on , w e m us t f ir st e xe cu te RETRACT(KB , P). Th is s ou nd s e as y e no ug h ."
"10 Be li ef re vi si on is of te nc on tr as te dw it hb el ie fu pd at e ,w hi ch oc cu rs wh en ak no wl ed ge ba se is re vi se dt or ef le ct"
a ch an ge in th ew or ld ra th er th an ne wi nf or ma ti on ab ou ta fi xe d w or ld . Be li ef up da te co mb in es be li ef re vi si on
w it hr ea so ni ng ab ou tt im ea nd ch an ge ;i ti sa ls or el at ed to th ep ro ce ss of fi lt er in gd es cr ib ed in Ch ap te r 15.
Se ct io n 12.6. Re as on in g w it h De fa ul t In fo rm at io n 461
"Pr ob le ms a ri se , h ow ev er , i f a ny a dd it io na l s en te nc es w er e i nf er re d f ro m P a nd a ss er te d i n"
"t he KB .Fo re xa mp le ,t he im pl ic at io n P ⇒ Qm ig ht ha ve be en us ed to ad d Q . Th eo bv io us"
“s ol ut io n”—r et ra ct in g a ll se nt en ce si nf er re df ro m P—f ai ls be ca us es uc hs en te nc es ma yh av e
"o th er j us ti fi ca ti on s b es id es P . Fo r e xa mp le , i f R a nd R ⇒ Q a re a ls o i n t he KB , t he n Q"
TRUTH
"d oe s n ot h av e t o b e r em ov ed a ft er a ll . Tr ut h m ai nt en an ce s ys te ms , o r TMSs , a re d es ig ne d"
MAINTENANCE
SYSTEM
t oh an dl e e xa ct ly th es ek in ds of co mp li ca ti on s .
On e s im pl e a pp ro ac h t o t ru th m ai nt en an ce i s t o k ee p t ra ck o f t he o rd er i n w hi ch s en-
t en ce s a re t ol d t o t he k no wl ed ge b as e b y n um be ri ng t he m f ro m P t o P . Wh en t he c al l
1 n
"RETRACT(KB ,P i)i sm ad e ,t he sy st em r ev er ts to th es ta te ju st be fo re P"
i
"w as ad de d ,t he re by"
r em ov in gb ot h P a nd an yi nf er en ce s t ha tw er ed er iv ed fr om P . Th es en te nc es P t hr ou gh
i i i+1
"P c an t he n b e a dd ed a ga in . Th is i s s im pl e , a nd i t g ua ra nt ee s t ha t t he k no wl ed ge b as e w il l"
n
"b e c on si st en t , b ut r et ra ct in g P r eq ui re s r et ra ct in g a nd r ea ss er ti ng n−i se nt en ce s a s w el la s"
i
u nd oi ng a nd r ed oi ng a ll t he i nf er en ce s d ra wn f ro m t ho se s en te nc es . Fo r s ys te ms t o w hi ch
m an yf ac ts ar eb ei ng ad de d—s uc h a sl ar ge co mm er ci al da ta ba se s—t hi s i si mp ra ct ic al .
"Am or ee ff ic ie nt ap pr oa ch is th ej us ti fi ca ti on-b as ed tr ut hm ai nt en an ce sy st em ,o r JTMS ."
JTMS
"In a JTMS ,e ac h s en te nc e i nt he k no wl ed ge b as e i sa nn ot at ed w it ha ju st if ic at io n c on si st in g"
JUSTIFICATION
"o f t he s et o f s en te nc es f ro m w hi ch i t w as i nf er re d . Fo r e xa mp le , i f t he k no wl ed ge b as e"
"a lr ea dy c on ta in s P ⇒ Q , t he n TELL(P) w il l c au se Q t o b e a dd ed w it h t he j us ti fi ca ti on"
"{P , P ⇒ Q}. In g en er al , a s en te nc e c an h av e a ny n um be r o f j us ti fi ca ti on s . Ju st if ic a-"
"t io ns m ak e r et ra ct io n e ff ic ie nt . Gi ve n t he c al l RETRACT(P), t he JTMS w il l d el et e e xa ct ly"
"t ho se s en te nc es f or w hi ch P i s a m em be r o f e ve ry j us ti fi ca ti on . So , i f a s en te nc e Q h ad"
"t he s in gl e j us ti fi ca ti on {P , P ⇒ Q}, i t w ou ld b e r em ov ed ; i f i t h ad t he a dd it io na l j us ti-"
"f ic at io n {P , P ∨ R ⇒ Q}, i t w ou ld s ti ll b e r em ov ed ; b ut i f i t a ls o h ad t he j us ti fi ca ti on"
"{R , P ∨R ⇒ Q},t he ni tw ou ld be sp ar ed . In th is wa y ,t he ti me re qu ir ed fo rr et ra ct io no f P"
d ep en ds o nl yo nt he nu mb er of se nt en ce s d er iv ed f ro m P r at he rt ha no nt he nu mb er of ot he r
s en te nc es a dd ed si nc e P e nt er ed th ek no wl ed ge b as e .
Th e JTMSa ss um es th at se nt en ce st ha ta re co ns id er ed on ce wi ll pr ob ab ly be co ns id er ed
"a ga in , s o r at he r t ha n d el et in g a s en te nc e f ro m t he k no wl ed ge b as e e nt ir el y w he n i t l os es"
"a ll j us ti fi ca ti on s , w e m er el y m ar k t he s en te nc e a s b ei ng o ut o f t he k no wl ed ge b as e . If a"
"s ub se qu en t a ss er ti on r es to re s o ne o f t he j us ti fi ca ti on s , t he n w e m ar k t he s en te nc e a s b ei ng"
"b ac k i n . In t hi s w ay , t he JTMS r et ai ns a ll t he i nf er en ce c ha in s t ha t i t u se s a nd n ee d n ot"
r ed er iv es en te nc es w he na ju st if ic at io n b ec om es va li da ga in .
"In a dd it io n t o h an dl in g t he r et ra ct io n o f i nc or re ct i nf or ma ti on , TMSs c an b e u se d t o"
"s pe ed u p t he a na ly si s o f m ul ti pl e h yp ot he ti ca l s it ua ti on s . Su pp os e , f or e xa mp le , t ha t t he"
"Ro ma ni an Ol ym pi c Co mm it te e i s c ho os in g s it es f or t he s wi mm in g , a th le ti cs , a nd e qu es-"
"t ri an e ve nt s a t t he 2048 Ga me s t o b e h el d i n Ro ma ni a . Fo r e xa mp le , l et t he f ir st h yp ot he-"
"s is be Si te(Sw im mi ng ,Pi te st i),Si te(At hl et ic s ,Bu ch ar es t),a nd Si te(Eq ue st ri an ,Ar ad)."
A g re at d ea l o f r ea so ni ng m us t t he n b e d on e t o w or k o ut t he l og is ti ca l c on se qu en ce s a nd
"h en ce t he d es ir ab il it y o f t hi s s el ec ti on . If w e w an t t o c on si de r Si te(At hl et ic s ,Si bi u) i n-"
"s te ad , t he TMS a vo id s t he n ee d t o s ta rt a ga in f ro m s cr at ch . In st ea d , w e s im pl y r et ra ct"
"Si te(At hl et ic s ,Bu ch ar es t)a nd as se rt Si te(At hl et ic s ,Si bi u)a nd th e TMSt ak es ca re of th e"
n ec es sa ry r ev is io ns . In fe re nc e c ha in s g en er at ed f ro m t he c ho ic e o f Bu ch ar es t c an b e r eu se d
"w it h Si bi u ,p ro vi de dt ha tt he co nc lu si on s a re th es am e ."
462 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
"An as su mp ti on-b as ed t ru th ma in te na nc es ys te m ,o r ATMS ,m ak es th is ty pe of co nt ex t-"
ATMS
"s wi tc hi ng b et we en h yp ot he ti ca l w or ld sp ar ti cu la rl y e ff ic ie nt . In a JTMS ,t he ma in te na nc e o f"
j us ti fi ca ti on s a ll ow s y ou t o m ov e q ui ck ly f ro m o ne s ta te t o a no th er b y m ak in g a f ew r et ra c-
"t io ns an da ss er ti on s ,b ut at an yt im eo nl yo ne st at ei sr ep re se nt ed . An ATMSr ep re se nt sa ll th e"
s ta te s t ha t h av e e ve rb ee n c on si de re d a t t he s am e t im e . Wh er ea s a JTMS s im pl y l ab el s e ac h
"s en te nc e a s b ei ng i n o r o ut , a n ATMS k ee ps t ra ck , f or e ac h s en te nc e , o f w hi ch a ss um pt io ns"
"w ou ld ca us et he se nt en ce to be tr ue . In ot he rw or ds ,e ac hs en te nc eh as al ab el th at co ns is ts of"
a se t o fa ss um pt io n s et s . Th es en te nc e h ol ds j us ti nt ho se c as es i nw hi ch al lt he as su mp ti on s
i no ne of th ea ss um pt io n s et sh ol d .
Tr ut h m ai nt en an ce s ys te ms a ls o p ro vi de a m ec ha ni sm f or g en er at in g e xp la na ti on s .
EXPLANATION
"Te ch ni ca ll y , a n e xp la na ti on o f a s en te nc e P i s a s et o f s en te nc es E s uc h t ha t E e nt ai ls P ."
"If t he s en te nc es i n E a re a lr ea dy k no wn t o b e t ru e , t he n E s im pl y p ro vi de s a s uf fi ci en t b a-"
s is f or p ro vi ng t ha t P m us t b e t he c as e . Bu t e xp la na ti on s c an a ls o i nc lu de a ss um pt io ns—
ASSUMPTION
"s en te nc es t ha t a re n ot k no wn t o b e t ru e , b ut w ou ld s uf fi ce t o p ro ve P i f t he y w er e t ru e . Fo r"
"e xa mp le , o ne m ig ht n ot h av e e no ug h i nf or ma ti on t o p ro ve t ha t o ne’s c ar w on’t s ta rt , b ut a"
"r ea so na bl ee xp la na ti on mi gh ti nc lu de th ea ss um pt io nt ha tt he ba tt er yi sd ea d . Th is ,c om bi ne d"
"w it h k no wl ed ge o f h ow c ar s o pe ra te , e xp la in s t he o bs er ve d n on be ha vi or . In m os t c as es , w e"
"w il lp re fe ra ne xp la na ti on E t ha ti sm in im al ,m ea ni ng th at th er ei sn op ro pe rs ub se to f E t ha t"
i sa ls oa ne xp la na ti on . An ATMSc an ge ne ra te ex pl an at io ns f or th e“c ar wo n’t st ar t”p ro bl em
"b ym ak in ga ss um pt io ns (s uc h a s“g as in ca r”o r“b at te ry d ea d”) i na ny or de rw el ik e , e ve ni f"
s om e a ss um pt io ns a re c on tr ad ic to ry . Th en w e l oo k a t t he l ab el f or t he s en te nc e “c ar w on’t
s ta rt”t or ea do ff th es et so fa ss um pt io ns t ha tw ou ld ju st if y t he se nt en ce .
Th ee xa ct a lg or it hm s u se d t oi mp le me nt t ru th m ai nt en an ce s ys te ms a re al it tl e c om pl i-
"c at ed ,a nd we do no tc ov er th em he re . Th ec om pu ta ti on al co mp le xi ty of th et ru th ma in te na nc e"
"p ro bl em i s a t l ea st a s g re at a s t ha t o f p ro po si ti on al i nf er en ce—t ha t i s , NP-h ar d . Th er ef or e ,"
"y ou s ho ul d n ot e xp ec t t ru th m ai nt en an ce t o b e a p an ac ea . Wh en u se d c ar ef ul ly , h ow ev er , a"
TMS c an p ro vi de a s ub st an ti al i nc re as e i n t he a bi li ty o f a l og ic al s ys te m t o h an dl e c om pl ex
e nv ir on me nt s a nd hy po th es es .
12.7 THE INTERNET SHOPPING WORLD
In th is fi na ls ec ti on w ep ut to ge th er a ll we ha ve l ea rn ed t oe nc od e k no wl ed ge f or as ho pp in g
r es ea rc h a ge nt t ha t h el ps a b uy er f in d p ro du ct o ff er s o n t he In te rn et . Th e s ho pp in g a ge nt i s
g iv en a p ro du ct d es cr ip ti on b y t he b uy er a nd h as t he t as k o f p ro du ci ng a l is t o f We b p ag es
"t ha t o ff er s uc h a p ro du ct f or s al e , a nd r an ki ng w hi ch o ff er s a re b es t . In s om e c as es t he"
"b uy er’s p ro du ct d es cr ip ti on w il l b e p re ci se , a s i n Ca no n Re be l XTi d ig it al c am er a , a nd t he"
t as ki st he nt of in dt he st or e(s) w it ht he be st of fe r . In ot he rc as es t he de sc ri pt io n w il lb eo nl y
"p ar ti al ly s pe ci fi ed , a s i n d ig it al c am er a f or u nd er $300, a nd t he a ge nt w il l h av e t o c om pa re"
d if fe re nt pr od uc ts .
Th es ho pp in ga ge nt’s en vi ro nm en ti st he en ti re Wo rl d Wi de We bi ni ts fu ll co mp le xi ty—
"n ot a to y s im ul at ed e nv ir on me nt . Th ea ge nt’s p er ce pt s a re We bp ag es , b ut w he re as a hu ma n"
Se ct io n 12.7. Th e In te rn et Sh op pi ng Wo rl d 463
Ex am pl e On li ne St or e
Se le ct fr om ou rf in el in eo fp ro du ct s:
•Co mp ut er s
•Ca me ra s
•Bo ok s
•Vi de os
•Mu si c
<h 1>Ex am pl e On li ne St or e</h 1>
<i>Se le ct</i> f ro m o ur f in e l in e o f p ro du ct s:
<u l>
"<l i> <a h re f=""h tt p://e xa mp le .c om/c om pu"">Co mp ut er s</a>"
"<l i> <a h re f=""h tt p://e xa mp le .c om/c am er"">Ca me ra s</a>"
"<l i> <a h re f=""h tt p://e xa mp le .c om/b oo ks"">Bo ok s</a>"
"<l i> <a h re f=""h tt p://e xa mp le .c om/v id eo"">Vi de os</a>"
"<l i> <a h re f=""h tt p://e xa mp le .c om/m us ic"">Mu si c</a>"
</u l>
Fi gu re 12.8 AWe bp ag ef ro ma ge ne ri co nl in es to re in th ef or mp er ce iv ed by t he hu ma n
"u se ro fa br ow se r(t op),a nd th ec or re sp on di ng HTMLs tr in ga s p er ce iv ed by th eb ro ws er or"
"t he sh op pi ng ag en t(b ot to m). In HTML ,c ha ra ct er sb et we en<a nd>a re ma rk up di re ct iv es"
"t ha t s pe ci fy h ow t he p ag e i s d is pl ay ed . Fo r e xa mp le , t he s tr in g <i>Se le ct</i> m ea ns"
"t os wi tc h t o i ta li c f on t , d is pl ay th ew or d Se le ct , a nd th en en dt he us e o fi ta li c f on t . A p ag e"
i de nt if ie rs uc ha sh tt p://e xa mp le .c om/b oo ks is ca ll ed au ni fo rm re so ur ce lo ca to r
"(URL).Th em ar ku p<a h re f=""u rl"">Bo ok s</a>m ea ns to cr ea te ah yp er te xt li nk to u rl"
w it ht he an ch or te xt Bo ok s .
"We b u se r w ou ld s ee p ag es d is pl ay ed a s a n a rr ay o f p ix el s o n a s cr ee n , t he s ho pp in g a ge nt"
w il lp er ce iv e a pa ge a sa ch ar ac te r s tr in g c on si st in g o fo rd in ar y w or ds i nt er sp er se d w it hf or-
m at ti ng c om ma nd s i n t he HTML m ar ku p l an gu ag e . Fi gu re 12.8 s ho ws a We b p ag e a nd a
c or re sp on di ng HTML c ha ra ct er s tr in g . Th e p er ce pt io n p ro bl em f or t he s ho pp in g a ge nt i n-
v ol ve se xt ra ct in g u se fu li nf or ma ti on f ro mp er ce pt s o ft hi s k in d .
"Cl ea rl y , p er ce pt io n o n We bp ag es i se as ie r t ha n , s ay , p er ce pt io n w hi le d ri vi ng a ta xi i n"
"Ca ir o . No ne th el es s , t he re ar ec om pl ic at io ns t ot he In te rn et pe rc ep ti on t as k . Th e We bp ag ei n"
"Fi gu re 12.8 i ss im pl ec om pa re dt or ea ls ho pp in gs it es ,w hi ch ma yi nc lu de CSS ,c oo ki es ,Ja va ,"
"Ja va sc ri pt , Fl as h ,r ob ot ex cl us io np ro to co ls , m al fo rm ed HTML ,s ou nd fi le s ,m ov ie s ,a nd te xt"
t ha t a pp ea rs o nl y a s p ar t o f a JPEG i ma ge . An a ge nt t ha t c an d ea l w it h a ll o f t he In te rn et i s
a lm os t a s c om pl ex a s a r ob ot t ha t c an m ov e i n t he r ea l w or ld . We c on ce nt ra te o n a s im pl e
a ge nt th at ig no re sm os to ft he se co mp li ca ti on s .
Th ea ge nt’s fi rs tt as ki st oc ol le ct pr od uc to ff er st ha ta re re le va nt to aq ue ry . If th eq ue ry
"i s “l ap to ps ,” t he n a We b p ag e w it h a r ev ie w o f t he l at es t h ig h-e nd l ap to p w ou ld b e r el ev an t ,"
"b ut if it do es n’t p ro vi de aw ay to bu y , i ti sn’t a no ff er . Fo rn ow ,w ec an sa ya pa ge is an of fe r"
i fi tc on ta in st he wo rd s“b uy”o r“p ri ce”o r“a dd to ca rt”w it hi na n HTMLl in ko rf or mo nt he
464 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
"p ag e . Fo re xa mp le ,i ft he pa ge co nt ai ns as tr in go ft he fo rm“<a ...a dd t o c ar t ...</a”"
"t he ni ti sa no ff er . Th is co ul db er ep re se nt ed in fi rs t-o rd er lo gi c ,b ut it is mo re st ra ig ht fo rw ar d"
t oe nc od ei ti nt op ro gr am co de . We sh ow ho wt od om or es op hi st ic at ed in fo rm at io ne xt ra ct io n
i n Se ct io n 22.4.
12.7.1 Fo ll ow in gl in ks
Th es tr at eg y i st os ta rt at th eh om ep ag e o fa no nl in e s to re a nd c on si de ra ll pa ge st ha tc an be
"r ea ch ed b yf ol lo wi ng r el ev an tl in ks .11 Th ea ge nt w il lh av ek no wl ed ge o fa nu mb er of st or es ,"
f or ex am pl e:
"Am az on∈On li ne St or es ∧Ho me pa ge(Am az on ,“a ma zo n .c om”)."
"Eb ay∈On li ne St or es ∧Ho me pa ge(Eb ay ,“e ba y .c om”)."
"Ex am pl e St or e ∈On li ne St or es ∧Ho me pa ge(Ex am pl e St or e ,“e xa mp le .c om”)."
"Th es e s to re s c la ss if y t he ir g oo ds i nt o p ro du ct c at eg or ie s , a nd p ro vi de l in ks t ot he m aj or c at-"
e go ri es f ro m t he ir h om e p ag e . Mi no r c at eg or ie s c an b e r ea ch ed t hr ou gh a c ha in o f r el ev an t
"l in ks , a nd ev en tu al ly w ew il lr ea ch of fe rs . In ot he rw or ds ,a p ag ei sr el ev an tt ot he qu er yi fi t"
"c an b e r ea ch ed b y a ch ai n o f z er o o rm or er el ev an t c at eg or y l in ks f ro m a st or e’s h om e p ag e ,"
a nd th en fr om on em or el in kt ot he pr od uc to ff er . We ca nd ef in er el ev an ce:
"Re le va nt(p ag e ,q ue ry) ⇔"
"∃s to re ,h om e s to re∈On li ne St or es ∧Ho me pa ge(s to re ,h om e)"
"∧∃u rl ,u rl Re le va nt Ch ai n(h om e ,u rl ,q ue ry)∧Li nk(u rl ,u rl)"
2 2 2
∧p ag e = Co nt en ts(u rl).
"He re t he p re di ca te Li nk(f ro m ,t o) m ea ns t ha t t he re i s a h yp er li nk f ro m t he f ro m URL t o"
"t he t o URL . To d ef in e w ha t c ou nt s a s a Re le va nt Ch ai n , w e n ee d t o f ol lo w n ot j us t a ny o ld"
"h yp er li nk s ,b ut on ly th os el in ks wh os ea ss oc ia te da nc ho rt ex ti nd ic at es th at th el in ki sr el ev an t"
"t o t he p ro du ct q ue ry . Fo rt hi s , w e u se Li nk Te xt(f ro m ,t o ,t ex t) t o m ea n t ha t t he re i s a l in k"
"b et we en f ro m a nd t o w it h t ex t a s t he a nc ho r t ex t . A c ha in o f l in ks b et we en t wo URLs , s ta rt"
"a nd e nd , i s r el ev an t t o a d es cr ip ti on d i f t he a nc ho r t ex t o f e ac h l in k i s a r el ev an t c at eg or y"
"n am ef or d . Th ee xi st en ce of th ec ha in it se lf is de te rm in ed b ya re cu rs iv e d ef in it io n , w it ht he"
e mp ty ch ai n(s ta rt=e nd)a st he ba se ca se:
"Re le va nt Ch ai n(s ta rt ,e nd ,q ue ry) ⇔ (s ta rt = e nd)"
"∨(∃u ,t ex t Li nk Te xt(s ta rt ,u ,t ex t)∧Re le va nt Ca te go ry Na me(q ue ry ,t ex t)"
"∧Re le va nt Ch ai n(u ,e nd ,q ue ry))."
No w w e m us t d ef in e w ha t i t m ea ns f or t ex t t o b e a Re le va nt Ca te go ry Na me f or q ue ry .
"Fi rs t , w en ee d t o r el at e s tr in gs t o t he c at eg or ie s t he y n am e . Th is i s d on e u si ng t he p re di ca te"
"Na me(s ,c),w hi ch sa ys th at st ri ng s is an am ef or ca te go ry c—f or ex am pl e ,w em ig ht as se rt"
"t ha t Na me(“l ap to ps”,La pt op Co mp ut er s). So me m or e e xa mp le s o f t he Na me p re di ca te"
"a pp ea r i n Fi gu re 12.9(b). Ne xt , w e d ef in e r el ev an ce . Su pp os e t ha t q ue ry i s “l ap to ps .” Th en"
"Re le va nt Ca te go ry Na me(q ue ry ,t ex t)i st ru ew he no ne of th ef ol lo wi ng ho ld s:"
"• Th et ex ta nd qu er yn am et he sa me ca te go ry—e .g ., “n ot eb oo ks” a nd“l ap to ps .”"
11 An al te rn at iv et ot he li nk-f ol lo wi ng st ra te gy is to us ea n In te rn et se ar ch en gi ne ;t he te ch no lo gy be hi nd In te rn et
"s ea rc h ,i nf or ma ti on re tr ie va l ,w il lb ec ov er ed in Se ct io n 22.3."
Se ct io n 12.7. Th e In te rn et Sh op pi ng Wo rl d 465
"Na me(“b oo ks”,Bo ok s)"
Bo ok s ⊂Pr od uc ts
"Na me(“m us ic”,Mu si c Re co rd in gs)"
Mu si c Re co rd in gs ⊂Pr od uc ts
"Na me(“CDs”,Mu si c CDs)"
Mu si c CDs ⊂Mu si c Re co rd in gs
"Na me(“e le ct ro ni cs”,El ec tr on ic s)"
El ec tr on ic s ⊂Pr od uc ts
"Na me(“d ig it al ca me ra s”,Di gi ta l Ca me ra s)"
Di gi ta l Ca me ra s ⊂El ec tr on ic s
"Na me(“s te re os”,St er eo Eq ui pm en t)"
St er eo Eq ui pm en t ⊂El ec tr on ic s
"Na me(“c om pu te rs”,Co mp ut er s)"
Co mp ut er s ⊂El ec tr on ic s
"Na me(“d es kt op s”,De sk to p Co mp ut er s)"
De sk to p Co mp ut er s ⊂Co mp ut er s
"Na me(“l ap to ps”,La pt op Co mp ut er s)"
La pt op Co mp ut er s ⊂Co mp ut er s
"Na me(“n ot eb oo ks”,La pt op Co mp ut er s)"
...
...
(a) (b)
Fi gu re 12.9 (a)Ta xo no my of pr od uc tc at eg or ie s .(b)Na me sf or th os ec at eg or ie s .
• Th et ex tn am es as up er ca te go ry s uc ha s“c om pu te rs .”
• Th et ex tn am es as ub ca te go ry s uc ha s“u lt ra li gh t n ot eb oo ks .”
Th el og ic al de fi ni ti on o f Re le va nt Ca te go ry Na me i sa sf ol lo ws:
"Re le va nt Ca te go ry Na me(q ue ry ,t ex t) ⇔"
"∃c ,c Na me(q ue ry ,c )∧Na me(t ex t ,c )∧(c ⊆ c ∨c ⊆ c ). (12.1)"
1 2 1 2 1 2 2 1
"Ot he rw is e , t he an ch or te xt is ir re le va nt b ec au se i tn am es ac at eg or y o ut si de t hi sl in e , s uc ha s"
“c lo th es” o r“l aw n&g ar de n .”
"To f ol lo w r el ev an t l in ks , t he n , i t i s e ss en ti al t o h av e a r ic h h ie ra rc hy o f p ro du ct c at e-"
g or ie s . Th et op pa rt of th is hi er ar ch ym ig ht lo ok li ke Fi gu re 12.9(a). It wi ll no tb ef ea si bl et o
"l is t a ll p os si bl e s ho pp in g c at eg or ie s , b ec au se a b uy er c ou ld a lw ay s c om e u p w it h s om e n ew"
d es ir e a nd m an uf ac tu re rs w il l a lw ay s c om e o ut w it h n ew p ro du ct s t o s at is fy t he m (e le ct ri c
"k ne ec ap w ar me rs ?). No ne th el es s , a no nt ol og y o fa bo ut a th ou sa nd c at eg or ie s w il ls er ve a sa"
v er yu se fu lt oo lf or mo st bu ye rs .
"In a dd it io n t o t he p ro du ct h ie ra rc hy i ts el f , w e a ls o n ee d t o h av e a r ic h v oc ab ul ar y o f"
n am es f or c at eg or ie s . Li fe w ou ld b e m uc h e as ie r i f t he re w er e a o ne-t o-o ne c or re sp on-
d en ce b et we en c at eg or ie s a nd t he c ha ra ct er s tr in gs t ha t n am e t he m . We h av e a lr ea dy s ee n
"t he p ro bl em o f s yn on ym y—t wo n am es f or t he s am e c at eg or y , s uc h a s “l ap to p c om pu te rs”"
a nd“l ap to ps .” Th er ei sa ls o t he pr ob le m o f a mb ig ui ty—o ne n am ef or tw oo rm or ed if fe re nt
"c at eg or ie s . Fo re xa mp le ,i fw ea dd th es en te nc e"
"Na me(“CDs”,Ce rt if ic at es Of De po si t)"
"t ot he kn ow le dg e b as ei n Fi gu re 12.9(b), t he n“CDs”w il ln am et wo di ff er en t c at eg or ie s ."
Sy no ny my a nd a mb ig ui ty c an c au se a s ig ni fi ca nt i nc re as e i n t he n um be r o f p at hs t ha t
"t he a ge nt h as t o f ol lo w , a nd c an s om et im es m ak e i t d if fi cu lt t o d et er mi ne w he th er a g iv en"
p ag ei si nd ee dr el ev an t . Am uc hm or es er io us pr ob le mi st he ve ry br oa dr an ge of de sc ri pt io ns
"t ha ta us er ca nt yp ea nd ca te go ry na me st ha ta st or ec an us e . Fo re xa mp le , t he li nk mi gh ts ay"
“l ap to p” w he nt he k no wl ed ge b as eh as o nl y “l ap to ps” o rt he u se rm ig ht a sk fo r“a co mp ut er
466 Ch ap te r 12. Kn ow le dg e Re pr es en ta ti on
I c an f it o n t he t ra y t ab le o f a n e co no my-c la ss a ir li ne s ea t .” It i s i mp os si bl e t o e nu me ra te i n
"a dv an ce a ll t he w ay s a c at eg or y c an b e n am ed , s o t he a ge nt w il l h av e t o b e a bl e t o d o a dd i-"
"t io na lr ea so ni ng in so me ca se st od et er mi ne if th e Na me re la ti on ho ld s . In th ew or st ca se ,t hi s"
"r eq ui re sf ul ln at ur al la ng ua ge un de rs ta nd in g , a to pi ct ha tw ew il ld ef er to Ch ap te r 22. In pr ac-"
"t ic e ,a fe ws im pl er ul es—s uc ha sa ll ow in g“l ap to p”t om at ch ac at eg or yn am ed“l ap to ps”—g o"
a lo ng wa y . Ex er ci se 12.10 a sk sy ou to de ve lo pa se to fs uc hr ul es a ft er do in g s om er es ea rc h
i nt oo nl in es to re s .
Gi ve n t he l og ic al d ef in it io ns f ro m t he p re ce di ng p ar ag ra ph s a nd s ui ta bl e k no wl ed ge
"b as es o f p ro du ct c at eg or ie s a nd n am in g c on ve nt io ns , a re w e r ea dy t o a pp ly a n i nf er en ce"
a lg or it hm t o o bt ai n a s et o f r el ev an t o ff er s f or o ur q ue ry ? No t q ui te ! Th e m is si ng e le me nt
"i s t he Co nt en ts(u rl) f un ct io n , w hi ch r ef er s t o t he HTML p ag e a t a g iv en URL . Th e a ge nt"
d oe sn’t h av et he pa ge co nt en ts o fe ve ry URLi ni ts kn ow le dg e b as e ;n or do es it ha ve ex pl ic it
"r ul es fo rd ed uc in g w ha tt ho se co nt en ts m ig ht be . In st ea d , w ec an ar ra ng e f or th er ig ht HTTP"
"p ro ce du re t o b e e xe cu te d w he ne ve r a s ub go al i nv ol ve s t he Co nt en ts f un ct io n . In t hi s w ay , i t"
a pp ea rs t ot he i nf er en ce e ng in e a s i ft he e nt ir e We bi s i ns id e t he k no wl ed ge b as e . Th is i sa n
"PROCEDURAL e xa mp le of ag en er al te ch ni qu ec al le dp ro ce du ra la tt ac hm en t ,w he re by pa rt ic ul ar pr ed ic at es"
ATTACHMENT
a nd fu nc ti on s c an be ha nd le db ys pe ci al-p ur po se m et ho ds .
12.7.2 Co mp ar in g o ff er s
Le t u s a ss um e t ha t t he r ea so ni ng p ro ce ss es o f t he p re ce di ng s ec ti on h av e p ro du ce d a s et o f
"o ff er pa ge sf or ou r“l ap to ps” q ue ry . To co mp ar et ho se of fe rs , t he ag en tm us te xt ra ct th er el e-"
"v an ti nf or ma ti on—p ri ce , s pe ed ,d is ks iz e ,w ei gh t ,a nd so on—f ro mt he of fe rp ag es . Th is ca n"
"b ea di ff ic ul t t as kw it hr ea l We bp ag es , f or al lt he re as on s m en ti on ed p re vi ou sl y . Ac om mo n"
w ay of d ea li ng w it ht hi s p ro bl em i s t ou se p ro gr am s c al le d w ra pp er st o e xt ra ct i nf or ma ti on
WRAPPER
f ro m a p ag e . Th e t ec hn ol og y o f i nf or ma ti on e xt ra ct io n i s d is cu ss ed i n Se ct io n 22.4. Fo r
"n ow w ea ss um e t ha t w ra pp er s e xi st , a nd w he n g iv en a pa ge a nd a k no wl ed ge b as e , t he y a dd"
"a ss er ti on s t o t he k no wl ed ge b as e . Ty pi ca ll y , a h ie ra rc hy o f w ra pp er s w ou ld b e a pp li ed t o a"
"p ag e: a v er y g en er al o ne t o e xt ra ct d at es a nd p ri ce s , a m or es pe ci fi c o ne t o e xt ra ct a tt ri bu te s"
"f or co mp ut er-r el at ed p ro du ct s , a nd if ne ce ss ar y a si te-s pe ci fi c o ne th at kn ow st he fo rm at of a"
p ar ti cu la rs to re . Gi ve na pa ge on th ee xa mp le .c om s it ew it ht he te xt
IBM Th in k Bo ok 970. Ou r p ri ce: $399.00
"f ol lo we d b yv ar io us t ec hn ic al s pe ci fi ca ti on s , w ew ou ld li ke a wr ap pe r t oe xt ra ct i nf or ma ti on"
s uc ha st he fo ll ow in g:
"∃c ,o ff er c∈La pt op Co mp ut er s ∧o ff er∈Pr od uc t Of fe rs ∧"
"Ma nu fa ct ur er(c ,IBM)∧Mo de l(c ,Th in k Bo ok 970)∧"
"Sc re en Si ze(c ,In ch es(14))∧Sc re en Ty pe(c ,Co lo r LCD)∧"
"Me mo ry Si ze(c ,Gi ga by te s(2))∧CPUSp ee d(c ,GHz(1.2))∧"
"Of fe re d Pr od uc t(o ff er ,c)∧St or e(o ff er ,Ge n St or e)∧"
"URL(o ff er ,“e xa mp le .c om/c om pu te rs/34356.h tm l”)∧"
"Pr ic e(o ff er ,$(399))∧Da te(o ff er ,To da y)."
Th is ex am pl ei ll us tr at es se ve ra li ss ue st ha ta ri se wh en we ta ke se ri ou sl yt he ta sk of kn ow le dg e
"e ng in ee ri ng f or co mm er ci al tr an sa ct io ns . Fo re xa mp le , n ot ic e t ha tt he pr ic ei sa na tt ri bu te o f"
Se ct io n 12.8. Su mm ar y 467
"t he o ff er , n ot t he p ro du ct i ts el f . Th is i s i mp or ta nt b ec au se t he o ff er a t a g iv en s to re m ay"
c ha ng e f ro m d ay t o d ay e ve n f or t he s am e i nd iv id ua l l ap to p ; f or s om e c at eg or ie s—s uc h a s
h ou se s a nd p ai nt in gs—t he s am e i nd iv id ua l o bj ec t m ay e ve n b e o ff er ed s im ul ta ne ou sl y b y
d if fe re nt i nt er me di ar ie s a t d if fe re nt p ri ce s . Th er e a re s ti ll m or e c om pl ic at io ns t ha t w e h av e
"n ot h an dl ed , s uc h a st he p os si bi li ty t ha t t he p ri ce d ep en ds o nt he m et ho d o fp ay me nt a nd o n"
t he b uy er’s q ua li fi ca ti on s f or c er ta in d is co un ts . Th e f in al t as k i s t o c om pa re t he o ff er s t ha t
"h av eb ee ne xt ra ct ed . Fo re xa mp le ,c on si de rt he se th re eo ff er s:"
"A :1.4 GHz CPU ,2 GBRAM ,250 GBd is k ,$299."
"B : 1.2 GHz CPU ,4 GBRAM ,350 GBd is k ,$500."
"C : 1.2 GHz CPU ,2 GBRAM ,250 GBd is k ,$399."
"C i s d om in at ed b y A ; t ha t i s , A i s c he ap er a nd f as te r , a nd t he y a re o th er wi se t he s am e . In"
"g en er al , X d om in at es Y i f X h as ab et te rv al ue on at le as t o ne at tr ib ut e , a nd is no tw or se on"
a ny a tt ri bu te . Bu t n ei th er A n or B d om in at es t he o th er . To d ec id e w hi ch i s b et te r w e n ee d
t o k no w h ow t he b uy er w ei gh s CPU s pe ed a nd p ri ce a ga in st m em or y a nd d is k s pa ce . Th e
"g en er al t op ic o fp re fe re nc es a mo ng m ul ti pl e a tt ri bu te s i sa dd re ss ed i n Se ct io n 16.4; f or no w ,"
o ur s ho pp in g a ge nt w il l s im pl y r et ur n a l is t o f a ll u nd om in at ed o ff er s t ha t m ee t t he b uy er’s
"d es cr ip ti on . In th is ex am pl e , b ot h Aa nd B a re un do mi na te d . No ti ce th at th is ou tc om er el ie s"
"o n t he a ss um pt io n t ha t e ve ry on e p re fe rs c he ap er p ri ce s , f as te rp ro ce ss or s , a nd m or e s to ra ge ."
"So me at tr ib ut es ,s uc ha ss cr ee ns iz eo na no te bo ok ,d ep en do nt he us er’s pa rt ic ul ar pr ef er en ce"
"(p or ta bi li ty v er su sv is ib il it y); f or th es e ,t he sh op pi ng a ge nt wi ll ju st ha ve to as kt he us er ."
Th e s ho pp in g a ge nt w e h av e d es cr ib ed h er e i s a s im pl e o ne ; m an y r ef in em en ts a re
"p os si bl e . St il l , i t h as e no ug h c ap ab il it y t ha t w it h t he r ig ht d om ai n-s pe ci fi c k no wl ed ge i t c an"
"a ct ua ll y b e o f u se t o a s ho pp er . Be ca us e o f i ts d ec la ra ti ve c on st ru ct io n , i t e xt en ds e as il y t o"
m or e c om pl ex a pp li ca ti on s . Th e m ai n p oi nt o f t hi s s ec ti on i s t o s ho w t ha t s om e k no wl ed ge
"r ep re se nt at io n—i n p ar ti cu la r , t he pr od uc th ie ra rc hy—i sn ec es sa ry fo rs uc ha na ge nt ,a nd th at"
"o nc ew eh av es om ek no wl ed ge in th is fo rm ,t he re st fo ll ow sn at ur al ly ."
12.8 SUMMARY
"By d el vi ng i nt o t he d et ai ls o f h ow o ne r ep re se nt s a v ar ie ty o f k no wl ed ge , w e h op e w e h av e"
g iv en t he r ea de r a s en se o f h ow r ea l k no wl ed ge b as es a re c on st ru ct ed a nd a f ee li ng f or t he
i nt er es ti ng p hi lo so ph ic al i ss ue st ha ta ri se . Th em aj or po in ts ar ea sf ol lo ws:
• La rg e-s ca le k no wl ed ge r ep re se nt at io n r eq ui re s a ge ne ra l-p ur po se o nt ol og y t o o rg an iz e
a nd ti et og et he rt he va ri ou ss pe ci fi cd om ai ns of kn ow le dg e .
• Ag en er al-p ur po se o nt ol og y n ee ds t oc ov er aw id ev ar ie ty o fk no wl ed ge a nd sh ou ld b e
"c ap ab le , i np ri nc ip le , o fh an dl in g a ny do ma in ."
"• Bu il di ng a l ar ge , g en er al-p ur po se o nt ol og y i s a s ig ni fi ca nt c ha ll en ge t ha t h as y et t o b e"
"f ul ly re al iz ed , a lt ho ug h c ur re nt fr am ew or ks se em to be qu it er ob us t ."
• We p re se nt ed a n u pp er o nt ol og y b as ed o n c at eg or ie s a nd t he e ve nt c al cu lu s . We
"c ov er ed c at eg or ie s , s ub ca te go ri es , p ar ts , s tr uc tu re d o bj ec ts , m ea su re me nt s , s ub st an ce s ,"
"e ve nt s ,t im ea nd sp ac e ,c ha ng e , a nd be li ef s ."
13
QUANTIFYING
UNCERTAINTY
In wh ic hw es ee ho wa na ge nt ca nt am eu nc er ta in ty w it hd eg re es o fb el ie f .
13.1 ACTING UNDER UNCERTAINTY
"Ag en ts m ay n ee d t o h an dl e u nc er ta in ty , w he th er d ue t o p ar ti al o bs er va bi li ty , n on de te rm in-"
UNCERTAINTY
"i sm , o ra c om bi na ti on o f t he t wo . An a ge nt m ay n ev er k no w f or c er ta in w ha t s ta te i t’s i n o r"
w he re it wi ll en du pa ft er as eq ue nc e o fa ct io ns .
We ha ve se en pr ob le m-s ol vi ng ag en ts(Ch ap te r 4)a nd lo gi ca la ge nt s(Ch ap te rs 7 a nd 11)
d es ig ne d t oh an dl eu nc er ta in ty b yk ee pi ng t ra ck of ab el ie fs ta te—a re pr es en ta ti on o ft he se t
o f a ll p os si bl e w or ld s ta te s t ha t i t m ig ht b e i n—a nd g en er at in g a c on ti ng en cy p la n t ha t h an-
d le se ve ry po ss ib le ev en tu al it yt ha ti ts se ns or sm ay re po rt d ur in ge xe cu ti on . De sp it ei ts ma ny
"v ir tu es , h ow ev er ,t hi sa pp ro ac h h as si gn if ic an td ra wb ac ks w he nt ak en li te ra ll y a sa re ci pe fo r"
c re at in g a ge nt pr og ra ms:
"• Wh en i nt er pr et in g p ar ti al s en so r i nf or ma ti on , a l og ic al a ge nt m us t c on si de r e ve ry l og-"
"i ca ll y p os si bl e e xp la na ti on f or t he o bs er va ti on s , n o m at te r h ow u nl ik el y . Th is l ea ds t o"
i mp os si bl el ar ge an dc om pl ex be li ef-s ta te r ep re se nt at io ns .
• Ac or re ct c on ti ng en t p la n t ha t h an dl es e ve ry e ve nt ua li ty c an g ro w a rb it ra ri ly l ar ge a nd
m us tc on si de ra rb it ra ri ly u nl ik el y c on ti ng en ci es .
• So me ti me s t he re i s n o p la n t ha t i s g ua ra nt ee d t o a ch ie ve t he g oa l—y et t he a ge nt m us t
a ct . It mu st ha ve so me wa yt oc om pa re th em er it so fp la ns th at ar en ot gu ar an te ed .
"Su pp os e , f or e xa mp le , t ha t a n a ut om at ed t ax i !a ut om at ed h as t he g oa l o f d el iv er in g a p as-"
"s en ge r t o t he a ir po rt o n t im e . Th e a ge nt f or ms a p la n , A , t ha t i nv ol ve s l ea vi ng h om e 90"
90
m in ut es b ef or e t he f li gh t d ep ar ts a nd d ri vi ng a t a r ea so na bl e s pe ed . Ev en t ho ug h t he a ir po rt
"i s o nl y a bo ut 5 m il es a wa y , a l og ic al t ax i a ge nt w il l n ot b e a bl e t o c on cl ud e w it h c er ta in ty"
"t ha t “Pl an A w il l g et u s t o t he a ir po rt i n t im e .” In st ea d , i t r ea ch es t he w ea ke r c on cl us io n"
90
"“Pl an A w il lg et u st o t he ai rp or t i n t im e , a sl on g a st he c ar do es n’t b re ak d ow n o rr un o ut"
90
"o fg as ,a nd Id on’t ge ti nt oa na cc id en t ,a nd th er ea re no ac ci de nt so nt he br id ge ,a nd th ep la ne"
"d oe sn’t l ea ve e ar ly , a nd n om et eo ri te h it s t he c ar , a nd ....” No ne o ft he se c on di ti on s c an b e"
480
Se ct io n 13.1. Ac ti ng un de r Un ce rt ai nt y 481
"d ed uc ed fo rs ur e ,s ot he pl an’s su cc es sc an no tb ei nf er re d . Th is is th eq ua li fi ca ti on pr ob le m"
"(p ag e 268),f or wh ic hw es of ar ha ve se en no re al so lu ti on ."
"No ne th el es s , i n s om e s en se A i s i n f ac t t he r ig ht t hi ng t o d o . Wh at d o w e m ea n b y"
90
"t hi s ? As we di sc us se d i n Ch ap te r 2,w em ea nt ha to ut of al lt he pl an st ha tc ou ld be ex ec ut ed ,"
A i se xp ec te d t om ax im iz e t he ag en t’s p er fo rm an ce m ea su re (w he re th ee xp ec ta ti on i sr el-
90
a ti ve t o t he a ge nt’s k no wl ed ge a bo ut t he e nv ir on me nt). Th e p er fo rm an ce m ea su re i nc lu de s
"g et ti ng t o t he a ir po rt i n t im e f or t he f li gh t , a vo id in g a l on g , u np ro du ct iv e w ai t a t t he a ir po rt ,"
a nd av oi di ng sp ee di ng ti ck et sa lo ng th ew ay . Th ea ge nt’s kn ow le dg ec an no tg ua ra nt ee an yo f
"t he se o ut co me s f or A , b ut i t c an p ro vi de s om e d eg re e o f b el ie f t ha t t he y w il l b e a ch ie ve d ."
90
"Ot he r p la ns , s uc h a s A , m ig ht i nc re as e t he a ge nt’s b el ie f t ha t i t w il l g et t o t he a ir po rt o n"
180
"t im e , b ut a ls o i nc re as e t he l ik el ih oo d o f a l on g w ai t . Th e r ig ht t hi ng t o d o—t he r at io na l"
d ec is io n—t he re fo re d ep en ds o n b ot h t he r el at iv e i mp or ta nc e o f v ar io us g oa ls a nd t he l ik el i-
"h oo d t ha t , a nd d eg re e t o w hi ch , t he y w il l b e a ch ie ve d . Th e r em ai nd er o f t hi s s ec ti on h on es"
"t he se id ea s ,i np re pa ra ti on f or th ed ev el op me nt of th eg en er al th eo ri es o fu nc er ta in re as on in g"
a nd ra ti on al de ci si on s t ha tw ep re se nt i nt hi sa nd su bs eq ue nt c ha pt er s .
13.1.1 Su mm ar iz in g u nc er ta in ty
Le t’s c on si de r a n e xa mp le o f u nc er ta in r ea so ni ng: d ia gn os in g a d en ta l p at ie nt’s t oo th ac he .
"Di ag no si s—w he th er f or m ed ic in e , a ut om ob il e r ep ai r , o r w ha te ve r—a lm os t a lw ay s i nv ol ve s"
"u nc er ta in ty . Le tu st ry to wr it er ul es fo rd en ta ld ia gn os is us in gp ro po si ti on al l og ic ,s ot ha tw e"
c an se eh ow th el og ic al ap pr oa ch b re ak sd ow n . Co ns id er th ef ol lo wi ng si mp le ru le:
To ot ha ch e ⇒ Ca vi ty .
Th e p ro bl em i s t ha t t hi s r ul e i s w ro ng . No t a ll p at ie nt s w it h t oo th ac he s h av e c av it ie s ; s om e
"o ft he mh av eg um di se as e , a na bs ce ss , o ro ne of se ve ra lo th er pr ob le ms:"
To ot ha ch e ⇒ Ca vi ty ∨Gu m Pr ob le m ∨Ab sc es s ...
"Un fo rt un at el y , i n o rd er t o m ak e t he r ul e t ru e , w e h av e t o a dd a n a lm os t u nl im it ed l is t o f"
p os si bl e p ro bl em s . We co ul dt ry tu rn in gt he ru le in to ac au sa lr ul e:
Ca vi ty ⇒ To ot ha ch e .
Bu t t hi s r ul e i s n ot r ig ht e it he r ; n ot a ll c av it ie s c au se p ai n . Th e o nl y w ay t o f ix t he r ul e
i s t o m ak e i t l og ic al ly e xh au st iv e: t o a ug me nt t he l ef t-h an d s id e w it h a ll t he q ua li fi ca ti on s
r eq ui re d f or a c av it y t o c au se a t oo th ac he . Tr yi ng t o u se l og ic t o c op e w it h a d om ai n l ik e
m ed ic al di ag no si s t hu sf ai ls fo rt hr ee ma in re as on s:
• La zi ne ss: It i s t oo m uc h w or k t o l is t t he c om pl et e s et o f a nt ec ed en ts o r c on se qu en ts
LAZINESS
n ee de dt oe ns ur ea ne xc ep ti on le ss r ul ea nd to oh ar dt ou se su ch ru le s .
THEORETICAL • Th eo re ti ca li gn or an ce: Me di ca ls ci en ce ha sn oc om pl et et he or yf or th ed om ai n .
IGNORANCE
"PRACTICAL • Pr ac ti ca l i gn or an ce: Ev en i f w e k no w a ll t he r ul es , w e m ig ht b e u nc er ta in a bo ut a"
IGNORANCE
p ar ti cu la rp at ie nt be ca us en ot al lt he ne ce ss ar y t es ts ha ve b ee no rc an be ru n .
Th e c on ne ct io n b et we en t oo th ac he s a nd c av it ie s i s j us t n ot a l og ic al c on se qu en ce i n e it he r
"d ir ec ti on . Th is i s t yp ic al o f t he m ed ic al d om ai n , a s w el l a s m os t o th er j ud gm en ta l d om ai ns:"
"l aw ,b us in es s ,d es ig n ,a ut om ob il er ep ai r ,g ar de ni ng ,d at in g ,a nd so on . Th ea ge nt’s kn ow le dg e"
482 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
c an a t b es t p ro vi de o nl y a d eg re e o f b el ie f i n t he r el ev an t s en te nc es . Ou r m ai n t oo l f or
DEGREEOFBELIEF
"PROBABILITY d ea li ng w it h d eg re es o f b el ie f i s p ro ba bi li ty t he or y . In t he t er mi no lo gy o f Se ct io n 8.1, t he"
THEORY
o nt ol og ic al c om mi tm en ts o f l og ic a nd p ro ba bi li ty t he or y a re t he s am e—t ha t t he w or ld i s
c om po se d o f f ac ts t ha t d o o r d o n ot h ol d i n a ny p ar ti cu la r c as e—b ut t he e pi st em ol og ic al
c om mi tm en ts a re d if fe re nt: a l og ic al a ge nt b el ie ve s e ac h s en te nc e t o b e t ru e o r f al se o r h as
"n o o pi ni on , w he re as a p ro ba bi li st ic a ge nt m ay h av e a n um er ic al d eg re e o f b el ie f b et we en 0"
(f or se nt en ce s t ha ta re ce rt ai nl y f al se)a nd 1(c er ta in ly t ru e).
Pr ob ab il it y p ro vi de s a w ay o f s um ma ri zi ng t he u nc er ta in ty t ha t c om es f ro m o ur l az i-
"n es s a nd i gn or an ce , t he re by s ol vi ng t he q ua li fi ca ti on p ro bl em . We m ig ht n ot k no w f or su re"
"w ha t a ff li ct s a p ar ti cu la r p at ie nt , b ut w e b el ie ve t ha t t he re i s , s ay , a n 80% c ha nc e—t ha t i s ,"
"a p ro ba bi li ty o f 0.8—t ha t t he p at ie nt w ho h as a t oo th ac he h as a c av it y . Th at i s , w e e xp ec t"
t ha t o ut of al lt he si tu at io ns t ha t a re in di st in gu is ha bl e f ro m t he c ur re nt s it ua ti on a sf ar as ou r
"k no wl ed ge g oe s , t he p at ie nt w il l h av e a ca vi ty i n 80% o f t he m . Th is b el ie f c ou ld b e d er iv ed"
f ro m s ta ti st ic al d at a—80% o f t he t oo th ac he p at ie nt s s ee n s o f ar h av e h ad c av it ie s—o r f ro m
"s om eg en er al de nt al kn ow le dg e , o rf ro ma co mb in at io n o fe vi de nc es ou rc es ."
"On e c on fu si ng p oi nt i s t ha t a t t he t im e o f o ur d ia gn os is , t he re i s n o u nc er ta in ty i n t he"
a ct ua l w or ld: t he p at ie nt e it he r h as a c av it y o r d oe sn’t . So w ha t d oe s i t m ea n t o s ay t he
p ro ba bi li ty o f a c av it y i s 0.8? Sh ou ld n’t i t b e e it he r 0 o r 1? Th e a ns we r i s t ha t p ro ba bi li ty
"s ta te me nt sa re ma de wi th re sp ec tt oa kn ow le dg es ta te ,n ot wi th re sp ec tt ot he re al wo rl d . We"
"s ay“Th ep ro ba bi li ty th at th ep at ie nt ha sa ca vi ty ,g iv en th at sh eh as at oo th ac he ,i s 0.8.” If we"
"l at er l ea rn t ha t t he p at ie nt h as a h is to ry o f g um d is ea se , w e c an m ak e a d if fe re nt s ta te me nt:"
"“Th ep ro ba bi li ty t ha t t he p at ie nt h as a ca vi ty , g iv en t ha t s he h as a to ot ha ch e a nd a hi st or y o f"
"g um d is ea se , i s 0.4.” If w e g at he r f ur th er c on cl us iv e e vi de nc e a ga in st a c av it y , w e c an s ay"
"“Th ep ro ba bi li ty t ha tt he pa ti en t h as ac av it y , g iv en al lw en ow kn ow ,i sa lm os t 0.” No te th at"
t he se s ta te me nt s d o n ot c on tr ad ic t e ac h o th er ; e ac h i s a s ep ar at e a ss er ti on a bo ut a d if fe re nt
k no wl ed ge st at e .
13.1.2 Un ce rt ai nt y a nd ra ti on al d ec is io ns
Co ns id er a ga in t he A p la n f or g et ti ng t o t he a ir po rt . Su pp os e i t g iv es u s a 97% c ha nc e
90
o f c at ch in g o ur f li gh t . Do es t hi s m ea n i t i s a r at io na l c ho ic e ? No t n ec es sa ri ly: t he re m ig ht
"b e o th er p la ns , s uc h a s A , w it h h ig he r p ro ba bi li ti es . If i t i s v it al n ot t o m is s t he f li gh t ,"
180
"t he n i ti sw or th r is ki ng t he l on ge r w ai ta tt he ai rp or t . Wh at a bo ut A ,a pl an t ha t i nv ol ve s"
1440
"l ea vi ng ho me 24 h ou rs in ad va nc e ? In mo st ci rc um st an ce s , t hi si sn ot ag oo dc ho ic e ,b ec au se"
"a lt ho ug h i t a lm os t g ua ra nt ee s g et ti ng t he re o n t im e , i t i nv ol ve s a n i nt ol er ab le w ai t—n ot t o"
m en ti on ap os si bl y u np le as an t d ie to fa ir po rt fo od .
"To ma ke su ch ch oi ce s , a na ge nt m us tf ir st ha ve p re fe re nc es b et we en t he di ff er en t p os-"
PREFERENCE
"s ib le o ut co me s o f t he v ar io us p la ns . An o ut co me i s a c om pl et el y s pe ci fi ed s ta te , i nc lu di ng"
OUTCOME
s uc hf ac to rs as wh et he rt he ag en ta rr iv es on ti me an dt he le ng th of th ew ai ta tt he ai rp or t . We
u se ut il it yt he or yt or ep re se nt a nd re as on w it hp re fe re nc es . (Th et er m u ti li ty is us ed he re in
UTILITYTHEORY
"t he s en se o f “t he q ua li ty o f b ei ng u se fu l ,” n ot i n t he s en se o f t he e le ct ri c c om pa ny o r w at er"
"w or ks .) Ut il it y t he or y s ay s t ha t e ve ry s ta te h as a d eg re e o f u se fu ln es s , o ru ti li ty , t o a n a ge nt"
a nd th at th ea ge nt wi ll pr ef er st at es wi th hi gh er ut il it y .
Se ct io n 13.2. Ba si c Pr ob ab il it y No ta ti on 483
"Th eu ti li ty o f a st at e i sr el at iv e t oa n a ge nt . Fo re xa mp le , t he u ti li ty o fa st at e i n w hi ch"
"Wh it eh as ch ec km at ed Bl ac ki na ga me of ch es si so bv io us ly hi gh fo rt he ag en tp la yi ng Wh it e ,"
"b ut lo wf or th ea ge nt pl ay in g Bl ac k . Bu tw ec an’t go st ri ct ly by th es co re so f 1,1/2,a nd 0 t ha t"
a re di ct at ed by th er ul es of to ur na me nt ch es s—s om ep la ye rs(i nc lu di ng th ea ut ho rs)m ig ht be
"t hr il le dw it ha dr aw ag ai ns tt he wo rl dc ha mp io n ,w he re as ot he rp la ye rs(i nc lu di ng th ef or me r"
w or ld ch am pi on)m ig ht no t . Th er ei sn oa cc ou nt in g f or ta st eo rp re fe re nc es: y ou mi gh tt hi nk
t ha t a na ge nt w ho pr ef er s j al ap en˜o b ub bl e-g um i ce c re am t o c ho co la te c ho co la te c hi p i s o dd
"o re ve nm is gu id ed ,b ut yo uc ou ld no ts ay th ea ge nt is ir ra ti on al . Au ti li ty fu nc ti on ca na cc ou nt"
"f or an ys et of pr ef er en ce s—q ui rk yo rt yp ic al ,n ob le or pe rv er se . No te th at ut il it ie sc an ac co un t"
"f or al tr ui sm ,s im pl yb yi nc lu di ng t he we lf ar eo fo th er sa so ne of th ef ac to rs ."
"Pr ef er en ce s , a s e xp re ss ed b y u ti li ti es , a re c om bi ne d w it h p ro ba bi li ti es i n t he g en er al"
t he or yo fr at io na l d ec is io ns c al le d d ec is io nt he or y:
DECISIONTHEORY
De ci si on th eo ry = p ro ba bi li ty t he or y+u ti li ty th eo ry .
Th e f un da me nt al i de a o f d ec is io n t he or y i s t ha t a n a ge nt i s r at io na l i f a nd o nl y i f i t c ho os es
"t he a ct io n t ha t y ie ld s t he h ig he st e xp ec te d u ti li ty , a ve ra ge d o ve r a ll t he p os si bl e o ut co me s"
MAXIMUMEXPECTED o f t he a ct io n . Th is i s c al le d t he p ri nc ip le o f m ax im um e xp ec te d u ti li ty (MEU). No te t ha t
UTILITY
"“e xp ec te d” m ig ht s ee m l ik e a va gu e , h yp ot he ti ca l t er m , b ut a si ti su se d h er e i th as a pr ec is e"
"m ea ni ng: i t m ea ns t he “a ve ra ge ,” o r “s ta ti st ic al m ea n” o f t he o ut co me s , w ei gh te d b y t he"
p ro ba bi li ty o f t he o ut co me . We s aw t hi s p ri nc ip le i n a ct io n i n Ch ap te r 5 w he n w e t ou ch ed
b ri ef ly on op ti ma ld ec is io ns i nb ac kg am mo n ;i ti si nf ac ta co mp le te ly g en er al pr in ci pl e .
Fi gu re 13.1 s ke tc he st he st ru ct ur eo fa na ge nt th at us es de ci si on th eo ry to se le ct ac ti on s .
"Th e a ge nt i s i de nt ic al , a t a n a bs tr ac t l ev el , t o t he a ge nt s d es cr ib ed i n Ch ap te rs 4 a nd 7 t ha t"
m ai nt ai n a b el ie f s ta te r ef le ct in g t he h is to ry o f p er ce pt s t o d at e . Th e p ri ma ry d if fe re nc e i s
t ha t t he d ec is io n-t he or et ic a ge nt’s b el ie f s ta te r ep re se nt s n ot j us t t he p os si bi li ti es f or w or ld
"s ta te s b ut a ls o t he ir p ro ba bi li ti es . Gi ve n t he b el ie f s ta te , t he a ge nt c an m ak e p ro ba bi li st ic"
p re di ct io ns o fa ct io no ut co me sa nd he nc es el ec tt he ac ti on wi th hi gh es te xp ec te du ti li ty . Th is
c ha pt er an dt he ne xt co nc en tr at eo nt he ta sk of re pr es en ti ng a nd co mp ut in gw it hp ro ba bi li st ic
i nf or ma ti on i ng en er al . Ch ap te r 15 d ea ls w it h m et ho ds f or th e s pe ci fi c t as ks o f r ep re se nt in g
a nd u pd at in g t he b el ie f s ta te o ve r t im e a nd p re di ct in g t he e nv ir on me nt . Ch ap te r 16 c ov er s
"u ti li ty t he or y i n m or e d ep th , a nd Ch ap te r 17 d ev el op s a lg or it hm s f or p la nn in g s eq ue nc es o f"
a ct io ns in un ce rt ai n e nv ir on me nt s .
13.2 BASIC PROBABILITY NOTATION
"Fo r o ur a ge nt t o r ep re se nt a nd u se p ro ba bi li st ic i nf or ma ti on , w e n ee d a f or ma l l an gu ag e ."
"Th e l an gu ag e o f p ro ba bi li ty t he or y h as t ra di ti on al ly b ee n i nf or ma l , w ri tt en b y h um an m at h-"
e ma ti ci an s t o o th er h um an m at he ma ti ci an s . Ap pe nd ix Ai nc lu de s a st an da rd i nt ro du ct io n t o
"e le me nt ar y p ro ba bi li ty t he or y ; h er e , w et ak e a na pp ro ac h m or es ui te d t ot he ne ed s o f AIa nd"
m or ec on si st en t w it ht he co nc ep ts o ff or ma ll og ic .
484 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
f un ct io n DT-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: b el ie f s ta te ,p ro ba bi li st ic be li ef sa bo ut th ec ur re nt st at eo ft he wo rl d"
"a ct io n ,t he ag en t’s ac ti on"
u pd at eb el ie f s ta te b as ed on ac ti on a nd pe rc ep t
"c al cu la te ou tc om ep ro ba bi li ti es fo ra ct io ns ,"
g iv en ac ti on de sc ri pt io ns an dc ur re nt be li ef s ta te
s el ec ta ct io n w it hh ig he st ex pe ct ed ut il it y
g iv en pr ob ab il it ie so fo ut co me sa nd ut il it yi nf or ma ti on
r et ur na ct io n
Fi gu re 13.1 Ad ec is io n-t he or et ic ag en tt ha ts el ec ts ra ti on al ac ti on s .
13.2.1 Wh at pr ob ab il it ie s a re ab ou t
"Li ke l og ic al a ss er ti on s , p ro ba bi li st ic a ss er ti on s a re a bo ut p os si bl e w or ld s . Wh er ea s l og ic al"
a ss er ti on s s ay wh ic hp os si bl e w or ld sa re st ri ct ly r ul ed o ut (a ll th os ei nw hi ch th ea ss er ti on i s
"f al se), p ro ba bi li st ic a ss er ti on s t al ka bo ut ho wp ro ba bl e t he va ri ou sw or ld sa re . In pr ob ab il it y"
"t he or y , t he s et o f a ll p os si bl e w or ld s i s c al le d t he s am pl e s pa ce . Th e p os si bl e w or ld s a re"
SAMPLESPACE
"m ut ua ll y e xc lu si ve a nd e xh au st iv e—t wo p os si bl e w or ld s c an no t b ot h b e t he c as e , a nd o ne"
"p os si bl e w or ld m us t b e t he c as e . Fo r e xa mp le , i f w e a re a bo ut t o r ol l t wo (d is ti ng ui sh ab le)"
"d ic e , t he re a re 36 p os si bl e w or ld s t o c on si de r: (1,1), (1,2), ..., (6,6). Th e Gr ee k l et te r Ω"
"(u pp er ca se o me ga) i s u se d t o r ef er t o t he s am pl e s pa ce , a nd ω (l ow er ca se o me ga) r ef er s t o"
"e le me nt so ft he sp ac e , t ha ti s ,p ar ti cu la rp os si bl e w or ld s ."
Af ul ly sp ec if ie dp ro ba bi li ty mo de la ss oc ia te sa nu me ri ca lp ro ba bi li ty P(ω)w it he ac h
PROBABILITYMODEL
p os si bl e w or ld .1 Th e b as ic a xi om s o f p ro ba bi li ty t he or y s ay t ha t e ve ry p os si bl e w or ld h as a
p ro ba bi li ty b et we en 0 a nd 1 a nd th at th et ot al pr ob ab il it y o ft he se to fp os si bl e w or ld si s 1:
(c id:12)
0 ≤ P(ω) ≤ 1 f or ev er y ω a nd P(ω) = 1. (13.1)
ω∈Ω
"Fo re xa mp le , i f w e a ss um e t ha t e ac h d ie i s f ai r a nd t he r ol ls d on’t i nt er fe re w it h e ac h o th er ,"
"t he n e ac h o f t he p os si bl e w or ld s (1,1), (1,2), ..., (6,6) h as p ro ba bi li ty 1/36. On t he o th er"
"h an d ,i ft he di ce co ns pi re to pr od uc et he sa me nu mb er ,t he nt he wo rl ds(1,1),(2,2),(3,3),e tc .,"
"m ig ht ha ve hi gh er pr ob ab il it ie s , l ea vi ng t he ot he rs wi th lo we rp ro ba bi li ti es ."
"Pr ob ab il is ti ca ss er ti on sa nd qu er ie sa re no tu su al ly ab ou t p ar ti cu la rp os si bl ew or ld s ,b ut"
"a bo ut s et so ft he m . Fo re xa mp le , w em ig ht be in te re st ed i nt he c as es w he re th et wo di ce a dd"
"u p t o 11, t he c as es w he re d ou bl es a re r ol le d , a nd s o o n . In p ro ba bi li ty t he or y , t he se s et s a re"
"c al le d e ve nt s—a t er m a lr ea dy u se d e xt en si ve ly i n Ch ap te r 12 f or a di ff er en t c on ce pt . In AI ,"
EVENT
t he s et s a re a lw ay s d es cr ib ed b y p ro po si ti on s i n a f or ma l l an gu ag e . (On e s uc h l an gu ag e i s
"d es cr ib ed i n Se ct io n 13.2.2.) Fo re ac h p ro po si ti on , t he c or re sp on di ng s et c on ta in s j us t t ho se"
p os si bl ew or ld si nw hi ch th ep ro po si ti on ho ld s . Th ep ro ba bi li ty as so ci at ed wi th ap ro po si ti on
"1 Fo rn ow ,w ea ss um ea di sc re te ,c ou nt ab le se to fw or ld s .Th ep ro pe rt re at me nt of th ec on ti nu ou sc as eb ri ng si n"
c er ta in co mp li ca ti on st ha ta re le ss re le va nt fo rm os tp ur po se si n AI .
Se ct io n 13.2. Ba si c Pr ob ab il it y No ta ti on 485
i sd ef in ed to be th es um of th ep ro ba bi li ti es o ft he wo rl ds in wh ic hi th ol ds:
(c id:12)
"Fo ra ny pr op os it io n φ, P(φ) = P(ω). (13.2)"
ω∈φ
"Fo r e xa mp le , w he n r ol li ng f ai r d ic e , w e h av e P(To ta l =11) = P((5,6)) + P((6,5)) ="
1/36 + 1/36 = 1/18. No te t ha t p ro ba bi li ty t he or y d oe s n ot r eq ui re c om pl et e k no wl ed ge
"o f t he p ro ba bi li ti es o f e ac h p os si bl e w or ld . Fo r e xa mp le , i f w e b el ie ve t he d ic e c on sp ir e t o"
"p ro du ce th es am en um be r ,w em ig ht as se rt th at P(d ou bl es) = 1/4 w it ho ut kn ow in gw he th er"
"t he di ce pr ef er do ub le 6 t od ou bl e 2. Ju st a sw it hl og ic al a ss er ti on s , t hi sa ss er ti on c on st ra in s"
t he un de rl yi ng p ro ba bi li ty m od el wi th ou tf ul ly de te rm in in g i t .
UNCONDITIONAL Pr ob ab il it ie ss uc ha s P(To ta l =11)a nd P(d ou bl es)a re ca ll ed un co nd it io na lo rp ri or
PROBABILITY
p ro ba bi li ti es(a nd so me ti me sj us t“p ri or s”f or sh or t);t he yr ef er to de gr ee so fb el ie fi np ro po-
PRIORPROBABILITY
"s it io ns i n t he a bs en ce o f a ny o th er i nf or ma ti on . Mo st o f t he t im e , h ow ev er , w e h av e s om e"
"i nf or ma ti on , u su al ly c al le d e vi de nc e , t ha t h as a lr ea dy b ee n r ev ea le d . Fo r e xa mp le , t he f ir st"
EVIDENCE
d ie m ay a lr ea dy b e s ho wi ng a 5 a nd w e a re w ai ti ng w it h b at ed b re at h f or t he o th er o ne t o
"s to p s pi nn in g . In t ha t c as e , w e a re i nt er es te d n ot i n t he u nc on di ti on al p ro ba bi li ty o f r ol li ng"
"CONDITIONAL d ou bl es , b ut th ec on di ti on al or po st er io rp ro ba bi li ty (o rj us t“p os te ri or” f or sh or t)o fr ol li ng"
PROBABILITY
"POSTERIOR d ou bl es gi ve nt ha tt he fi rs td ie is a 5. Th is pr ob ab il it yi sw ri tt en P(d ou bl es|Di e =5),w he re"
PROBABILITY 1
"t he “|” i s p ro no un ce d “g iv en .” Si mi la rl y , i f I a m g oi ng t o t he d en ti st f or a r eg ul ar c he ck up ,"
t he p ro ba bi li ty P(c av it y)=0.2 m ig ht b eo fi nt er es t ; b ut i f Ig o t ot he d en ti st b ec au se Ih av e
"a to ot ha ch e , i t’s P(c av it y|t oo th ac he)=0.6 t ha tm at te rs . No te th at th ep re ce de nc e o f“|”i s"
s uc ht ha ta ny ex pr es si on o ft he fo rm P(...|...)a lw ay sm ea ns P((...)|(...)).
It i s i mp or ta nt t o u nd er st an d t ha t P(c av it y)=0.2 i s s ti ll v al id a ft er t oo th ac he i s o b-
"s er ve d ; i t j us t i sn’t e sp ec ia ll y u se fu l . Wh en m ak in g d ec is io ns , a n a ge nt n ee ds t o c on di ti on"
o n a ll t he e vi de nc e i t h as o bs er ve d . It i s a ls o i mp or ta nt t o u nd er st an d t he d if fe re nc e b e-
t we en c on di ti on in g a nd l og ic al i mp li ca ti on . Th e a ss er ti on t ha t P(c av it y|t oo th ac he)=0.6
"d oe s n ot m ea n “Wh en ev er t oo th ac he i s t ru e , c on cl ud e t ha t c av it y i s t ru e w it h p ro ba bi l-"
"i ty 0.6” r at he r i t m ea ns “Wh en ev er t oo th ac he i s t ru e a nd w e h av e n o f ur th er i nf or ma ti on ,"
c on cl ud e t ha t c av it y i s t ru e w it h p ro ba bi li ty 0.6.” Th e e xt ra c on di ti on i s i mp or ta nt ; f or e x-
"a mp le , i f w e h ad t he f ur th er i nf or ma ti on t ha t t he d en ti st f ou nd n o c av it ie s , w e d ef in it el y"
w ou ld n ot w an t t o c on cl ud e t ha t c av it y i s t ru e w it h p ro ba bi li ty 0.6; i ns te ad w e n ee d t o u se
P(c av it y|t oo th ac he ∧¬c av it y)=0.
"Ma th em at ic al ly s pe ak in g , c on di ti on al p ro ba bi li ti es a re d ef in ed i n t er ms o f u nc on di-"
"t io na lp ro ba bi li ti es a sf ol lo ws: f or an yp ro po si ti on s a an db ,w eh av e"
P(a∧b)
"P(a|b) = , (13.3)"
P(b)
"w hi ch ho ld sw he ne ve r P(b) > 0. Fo re xa mp le ,"
P(d ou bl es ∧Di e =5)
P(d ou bl es|Di e =5) = 1 .
1
P(Di e =5)
1
Th e d ef in it io n m ak es s en se i f y ou r em em be r t ha t o bs er vi ng b r ul es o ut a ll t ho se p os si bl e
"w or ld sw he re b is fa ls e ,l ea vi ng a se tw ho se to ta lp ro ba bi li ty i sj us t P(b). Wi th in th at se t ,t he"
a-w or ld ss at is fy a∧b an dc on st it ut e a fr ac ti on P(a∧b)/P(b).
486 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"Th ed ef in it io n o f c on di ti on al p ro ba bi li ty , Eq ua ti on (13.3), c an b e w ri tt en i n a d if fe re nt"
f or mc al le dt he pr od uc tr ul e:
PRODUCTRULE
"P(a∧b)= P(a|b)P(b),"
"Th ep ro du ct r ul ei sp er ha ps e as ie rt or em em be r: i tc om es fr om t he fa ct th at ,f or aa nd bt ob e"
"t ru e ,w en ee db to be tr ue ,a nd we al so ne ed a to be tr ue gi ve nb ."
13.2.2 Th e l an gu ag eo fp ro po si ti on s i np ro ba bi li ty a ss er ti on s
"In t hi s c ha pt er a nd t he n ex t , p ro po si ti on s d es cr ib in g s et s o f p os si bl e w or ld s a re w ri tt en i n a"
n ot at io nt ha tc om bi ne se le me nt so fp ro po si ti on al lo gi ca nd co ns tr ai nt sa ti sf ac ti on no ta ti on . In
"t he t er mi no lo gy o f Se ct io n 2.4.7, i t i s a f ac to re d r ep re se nt at io n , i n w hi ch a po ss ib le w or ld"
i sr ep re se nt ed b ya se to fv ar ia bl e/v al ue p ai rs .
Va ri ab le si np ro ba bi li ty th eo ry ar ec al le dr an do mv ar ia bl es an dt he ir na me sb eg in wi th
RANDOMVARIABLE
"a nu pp er ca se l et te r . Th us , i nt he d ic e e xa mp le , To ta l a nd Di e a re r an do m v ar ia bl es . Ev er y"
1
r an do m v ar ia bl e h as a d om ai n—t he s et o f p os si bl e v al ue s i t c an t ak e o n . Th e d om ai n o f
DOMAIN
"To ta l f or t wo d ic e i s t he s et {2,...,12} a nd t he d om ai n o f Di e i s {1,...,6}. A Bo ol ea n"
1
"r an do m v ar ia bl e h as t he d om ai n {t ru e ,f al se} (n ot ic e t ha t v al ue s a re a lw ay s l ow er ca se); f or"
"e xa mp le , t he p ro po si ti on t ha t d ou bl es a re r ol le d c an b e w ri tt en a s Do ub le s=t ru e . By c on-"
"v en ti on , p ro po si ti on s o f t he f or m A=t ru e a re a bb re vi at ed s im pl y a s a , w hi le A=f al se i s"
"a bb re vi at ed a s¬a . (Th eu se so fd ou bl es ,c av it y ,a nd to ot ha ch e i nt he pr ec ed in g s ec ti on a re"
"a bb re vi at io ns o f t hi s k in d .) As i n CSPs , d om ai ns c an b e s et s o f a rb it ra ry t ok en s ; w e m ig ht"
"c ho os e t he d om ai n o f Ag e t o b e {j uv en il e ,t ee n ,a du lt} a nd t he d om ai n o f We at he r m ig ht"
"b e{s un ny ,r ai n ,c lo ud y ,s no w}. Wh en no am bi gu it yi sp os si bl e ,i ti sc om mo nt ou se av al ue"
"b yi ts el ft os ta nd fo rt he pr op os it io n t ha ta pa rt ic ul ar va ri ab le ha st ha tv al ue ;t hu s , s un ny c an"
s ta nd fo r We at he r =s un ny .
"Th e p re ce di ng e xa mp le s a ll h av e f in it e d om ai ns . Va ri ab le s c an h av e i nf in it e d om ai ns ,"
t oo—e it he rd is cr et e(l ik et he in te ge rs)o rc on ti nu ou s(l ik et he re al s). Fo ra ny va ri ab le wi th an
"o rd er ed do ma in ,i ne qu al it ie sa re al so al lo we d ,s uc ha s Nu mb er Of At om s In Un iv er se ≥ 1070."
"Fi na ll y , w e c an c om bi ne t he se s or ts o f e le me nt ar y p ro po si ti on s (i nc lu di ng t he a bb re-"
v ia te d f or ms f or Bo ol ea n v ar ia bl es) b y u si ng t he c on ne ct iv es o f p ro po si ti on al l og ic . Fo r
"e xa mp le , w e c an e xp re ss “Th e p ro ba bi li ty t ha t t he p at ie nt h as a c av it y , g iv en t ha t s he i s a"
"t ee na ge rw it hn ot oo th ac he , i s 0.1”a sf ol lo ws:"
P(c av it y|¬t oo th ac he ∧t ee n) = 0.1.
So me ti me sw ew il lw an tt ot al ka bo ut th ep ro ba bi li ti es o fa ll th ep os si bl e v al ue so fa ra nd om
v ar ia bl e . We co ul dw ri te:
P(We at he r =s un ny) = 0.6
P(We at he r =r ai n)= 0.1
P(We at he r =c lo ud y)= 0.29
"P(We at he r =s no w)= 0.01,"
b ut as an ab br ev ia ti on w ew il la ll ow
"P(We at he r)=(c id:16)0.6,0.1,0.29,0.01(c id:17),"
Se ct io n 13.2. Ba si c Pr ob ab il it y No ta ti on 487
"w he re th eb ol d Pi nd ic at es th at th er es ul ti sa ve ct or of nu mb er s ,a nd wh er ew e a ss um ea pr e-"
"d ef in ed o rd er in g (c id:16)s un ny ,r ai n ,c lo ud y ,s no w(c id:17) o n t he d om ai n o f We at he r . We s ay t ha t t he"
PROBABILITY Ps ta te me nt de fi ne sa pr ob ab il it yd is tr ib ut io nf or th er an do mv ar ia bl e We at he r . Th e Pn ot a-
DISTRIBUTION
t io ni sa ls ou se df or co nd it io na ld is tr ib ut io ns: P(X|Y)g iv es th ev al ue so f P(X=x |Y =y )
i j
"f or ea ch po ss ib le i ,j p ai r ."
"Fo rc on ti nu ou sv ar ia bl es ,i ti sn ot po ss ib le to wr it eo ut th ee nt ir ed is tr ib ut io na sa ve ct or ,"
"b ec au se th er ea re in fi ni te ly ma ny va lu es . In st ea d ,w ec an de fi ne th ep ro ba bi li ty th at ar an do m"
"v ar ia bl et ak es on so me va lu e x as ap ar am et er iz ed f un ct io n o f x . Fo re xa mp le ,t he se nt en ce"
P(No on Te mp=x) = Un if or m (x)
"[18 C ,26 C]"
e xp re ss es t he be li ef t ha t t he t em pe ra tu re a t n oo n i sd is tr ib ut ed u ni fo rm ly b et we en 18 a nd 26
PROBABILITY d eg re es Ce ls iu s . We ca ll th is ap ro ba bi li ty de ns it yf un ct io n .
DENSITYFUNCTION
Pr ob ab il it y d en si ty f un ct io ns (s om et im es c al le d p df s) d if fe r i n m ea ni ng f ro m d is cr et e
d is tr ib ut io ns . Sa yi ng t ha t t he p ro ba bi li ty d en si ty i s u ni fo rm f ro m 18 C t o 26 C m ea ns t ha t
t he re i s a 100% c ha nc e t ha t t he t em pe ra tu re w il l f al l s om ew he re i n t ha t 8 C-w id e r eg io n
"a nd a 50%c ha nc et ha ti tw il lf al li na ny 4 C-w id er eg io n ,a nd so on . We wr it et he pr ob ab il it y"
d en si ty fo ra co nt in uo us ra nd om va ri ab le X a tv al ue xa s P(X=x)o rj us t P(x);t he in tu it iv e
d ef in it io n o f P(x)i st he pr ob ab il it y t ha t X f al ls wi th in an ar bi tr ar il y s ma ll re gi on b eg in ni ng
"a tx ,d iv id ed by th ew id th of th er eg io n:"
P(x) = l im P(x ≤ X ≤ x+d x)/d x .
d x→0
Fo r No on Te mp w eh av e
(c id:24)
1 i f 18 C ≤ x ≤ 26 C
"P(No on Te mp=x) = Un if or m (x) = 8 C ,"
"[18 C ,26 C] 0 o th er wi se"
"w he re C s ta nd s f or ce nt ig ra de (n ot f or a co ns ta nt). In P(No on Te mp=20.18 C)= 1 , n ot e"
8 C
"t ha t 1 i s n ot a p ro ba bi li ty , i t i s a p ro ba bi li ty d en si ty . Th e p ro ba bi li ty t ha t No on Te mp i s"
8 C
"e xa ct ly 20.18 C i s z er o , b ec au se 20.18 C i s a r eg io n o f w id th 0. So me a ut ho rs u se d if fe re nt"
"s ym bo ls fo rd is cr et ed is tr ib ut io ns a nd de ns it yf un ct io ns ; w eu se P i nb ot hc as es ,s in ce co nf u-"
s io ns el do ma ri se sa nd th ee qu at io ns ar eu su al ly id en ti ca l . No te th at pr ob ab il it ie s a re un it le ss
"n um be rs ,w he re as de ns it yf un ct io ns ar em ea su re dw it ha un it ,i nt hi sc as er ec ip ro ca ld eg re es ."
"In a dd it io n t o d is tr ib ut io ns o n s in gl e v ar ia bl es , w e n ee d n ot at io n f or d is tr ib ut io ns o n"
"m ul ti pl e v ar ia bl es . Co mm as a re u se d f or t hi s . Fo r e xa mp le , P(We at he r ,Ca vi ty) d en ot es"
t he p ro ba bi li ti es o f a ll c om bi na ti on s o f t he v al ue s o f We at he r a nd Ca vi ty . Th is i s a 4×2
JOINTPROBABILITY t ab le o f p ro ba bi li ti es c al le d t he j oi nt p ro ba bi li ty d is tr ib ut io n o f We at he r a nd Ca vi ty . We
DISTRIBUTION
"c an a ls o m ix v ar ia bl es w it h a nd w it ho ut v al ue s ; P(s un ny ,Ca vi ty) w ou ld b e a t wo-e le me nt"
v ec to r g iv in g t he p ro ba bi li ti es o f a s un ny d ay w it h a c av it y a nd a s un ny d ay w it h n o c av it y .
Th e Pn ot at io n m ak es c er ta in e xp re ss io ns m uc h m or ec on ci se t ha n t he y m ig ht o th er wi se b e .
"Fo re xa mp le ,t he pr od uc t r ul es fo ra ll po ss ib le v al ue so f We at he r a nd Ca vi ty c an be wr it te n"
a sa si ng le eq ua ti on:
"P(We at he r ,Ca vi ty) = P(We at he r |Ca vi ty)P(Ca vi ty),"
488 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
i ns te ad of as th es e 4×2=8 e qu at io ns (u si ng ab br ev ia ti on s W a nd C):
P(W =s un ny∧C=t ru e)=P(W =s un ny|C=t ru e)P(C=t ru e)
P(W =r ai n ∧C=t ru e)=P(W =r ai n|C=t ru e)P(C=t ru e)
P(W =c lo ud y ∧C=t ru e)=P(W =c lo ud y|C=t ru e)P(C=t ru e)
P(W =s no w ∧C=t ru e)=P(W =s no w|C=t ru e)P(C=t ru e)
P(W =s un ny∧C=f al se)=P(W =s un ny|C=f al se)P(C=f al se)
P(W =r ai n ∧C=f al se)=P(W=r ai n|C=f al se)P(C=f al se)
P(W =c lo ud y ∧C=f al se)=P(W =c lo ud y|C=f al se)P(C=f al se)
P(W =s no w ∧C=f al se)=P(W =s no w|C=f al se)P(C=f al se).
"As a d eg en er at e c as e , P(s un ny ,c av it y) h as n o v ar ia bl es a nd t hu s i s a o ne-e le me nt v ec-"
"t or t ha t i s t he p ro ba bi li ty o f a s un ny d ay w it h a c av it y , w hi ch c ou ld a ls o b e w ri tt en a s"
"P(s un ny ,c av it y)o r P(s un ny∧c av it y). We wi ll so me ti me su se Pn ot at io nt od er iv er es ul ts"
"a bo ut in di vi du al P v al ue s ,a nd wh en we sa y“P(s un ny)=0.6”i ti sr ea ll ya na bb re vi at io nf or"
"“P(s un ny)i st he on e-e le me nt v ec to r(c id:16)0.6(c id:17),w hi ch me an st ha t P(s un ny)=0.6.”"
No ww eh av e d ef in ed a sy nt ax f or pr op os it io ns a nd pr ob ab il it y a ss er ti on s a nd we ha ve
g iv en pa rt of th es em an ti cs: Eq ua ti on(13.2)d ef in es th ep ro ba bi li ty of ap ro po si ti on as th es um
"o f t he p ro ba bi li ti es o f w or ld s i n w hi ch i t h ol ds . To c om pl et e t he s em an ti cs , w e n ee d t o s ay"
w ha tt he wo rl ds ar ea nd ho wt od et er mi ne wh et he ra pr op os it io nh ol ds in aw or ld . We bo rr ow
"t hi s p ar t d ir ec tl y f ro m t he s em an ti cs o f p ro po si ti on al l og ic , a s f ol lo ws . A p os si bl e w or ld i s"
d ef in ed to be an as si gn me nt of va lu es to al lo ft he ra nd om va ri ab le su nd er co ns id er at io n . It is
e as yt os ee th at th is de fi ni ti on sa ti sf ie st he ba si cr eq ui re me nt th at po ss ib le wo rl ds be mu tu al ly
"e xc lu si ve a nd e xh au st iv e (Ex er ci se 13.5). Fo r e xa mp le , i f t he r an do m v ar ia bl es a re Ca vi ty ,"
"To ot ha ch e , a nd We at he r , t he n t he re a re 2×2×4=16 p os si bl e w or ld s . Fu rt he rm or e , t he"
"t ru th o f a ny g iv en p ro po si ti on , n o m at te r h ow c om pl ex , c an b e d et er mi ne d e as il y i n s uc h"
w or ld su si ng th es am er ec ur si ve d ef in it io no ft ru th as fo rf or mu la si np ro po si ti on al l og ic .
"Fr om th ep re ce di ng d ef in it io n o fp os si bl e w or ld s , i tf ol lo ws t ha t a pr ob ab il it y m od el is"
c om pl et el yd et er mi ne db yt he jo in td is tr ib ut io nf or al lo ft he ra nd om va ri ab le s—t he so-c al le d
"FULLJOINT f ul l j oi nt p ro ba bi li ty d is tr ib ut io n . Fo r e xa mp le , i f t he v ar ia bl es a re Ca vi ty , To ot ha ch e ,"
PROBABILITY
DISTRIBUTION
"a nd We at he r , t he n t he f ul l j oi nt d is tr ib ut io n i s g iv en b y P(Ca vi ty ,To ot ha ch e ,We at he r)."
Th is jo in t d is tr ib ut io n c an be re pr es en te d a sa 2×2×4 t ab le wi th 16 e nt ri es . Be ca us e e ve ry
"p ro po si ti on’s p ro ba bi li ty i s a s um o ve r p os si bl e w or ld s , a f ul l j oi nt d is tr ib ut io n s uf fi ce s , i n"
"p ri nc ip le , f or ca lc ul at in g t he pr ob ab il it y o fa ny pr op os it io n ."
13.2.3 Pr ob ab il it ya xi om sa nd t he ir re as on ab le ne ss
Th e b as ic a xi om s o f p ro ba bi li ty (Eq ua ti on s (13.1) a nd (13.2)) i mp ly c er ta in r el at io ns hi ps
a mo ng th ed eg re es of be li ef th at ca nb ea cc or de dt ol og ic al ly r el at ed pr op os it io ns . Fo re xa m-
"p le , w ec an d er iv e t he f am il ia r r el at io ns hi p b et we en t he p ro ba bi li ty o f a p ro po si ti on a nd t he"
p ro ba bi li ty o fi ts ne ga ti on:
(c id:2)
P(¬a) = P(ω) b y Eq ua ti on(13.2)
(c id:2)ω∈¬a (c id:2) (c id:2)
= P(ω)+ P(ω)− P(ω)
(c id:2)ω∈¬a (c id:2) ω∈a ω∈a
= P(ω)− P(ω) g ro up in g t he fi rs tt wo te rm s
ω∈Ω ω∈a
= 1−P(a) b y(13.1)a nd(13.2).
Se ct io n 13.2. Ba si c Pr ob ab il it y No ta ti on 489
"We c an a ls o d er iv e t he w el l-k no wn f or mu la f or t he p ro ba bi li ty o f a d is ju nc ti on , s om et im es"
INCLUSION–
c al le dt he in cl us io n–e xc lu si on p ri nc ip le:
EXCLUSION
PRINCIPLE
P(a∨b)= P(a)+P(b)−P(a∧b). (13.4)
"Th is ru le is ea si ly re me mb er ed by no ti ng th at th ec as es wh er ea ho ld s ,t og et he rw it ht he ca se s"
"w he re b h ol ds , c er ta in ly c ov er a ll t he c as es w he re a∨b h ol ds ; b ut s um mi ng t he t wo s et s o f"
"c as es co un ts th ei ri nt er se ct io n t wi ce ,s ow en ee dt os ub tr ac t P(a∧b). Th ep ro of is le ft as an"
e xe rc is e(Ex er ci se 13.6).
KOLMOGOROV’S Eq ua ti on s(13.1)a nd(13.4)a re of te nc al le d Ko lm og or ov’s ax io ms in ho no ro ft he Ru s-
AXIOMS
"s ia nm at he ma ti ci an An dr ei Ko lm og or ov , w ho sh ow ed ho wt ob ui ld up th er es to fp ro ba bi li ty"
t he or y f ro m t hi s s im pl e f ou nd at io n a nd h ow t o h an dl e t he d if fi cu lt ie s c au se d b y c on ti nu ou s
"v ar ia bl es .2 Wh il e Eq ua ti on (13.2) h as a d ef in it io na l f la vo r , Eq ua ti on (13.4) r ev ea ls t ha t t he"
a xi om s r ea ll y d o c on st ra in t he d eg re es o f b el ie f a n a ge nt c an h av e c on ce rn in g l og ic al ly r e-
l at ed p ro po si ti on s . Th is i s a na lo go us t o t he f ac t t ha t a l og ic al a ge nt c an no t s im ul ta ne ou sl y
"b el ie ve A , B , a nd ¬(A∧B), b ec au se t he re i s n o p os si bl e w or ld i n w hi ch a ll t hr ee a re t ru e ."
"Wi th pr ob ab il it ie s , h ow ev er ,s ta te me nt sr ef er no tt ot he wo rl dd ir ec tl y , b ut to th ea ge nt’s o wn"
"s ta te of kn ow le dg e . Wh y ,t he n ,c an an ag en tn ot ho ld th ef ol lo wi ng se to fb el ie fs(e ve nt ho ug h"
t he yv io la te Ko lm og or ov’s a xi om s)?
P(a) = 0.4 P(a∧b) = 0.0
(13.5)
P(b) = 0.3 P(a∨b) = 0.8.
Th is k in d o f q ue st io n h as b ee n t he s ub je ct o f d ec ad es o f i nt en se d eb at e b et we en t ho se w ho
a dv oc at e t he u se o f p ro ba bi li ti es a s t he o nl y l eg it im at e f or m f or d eg re es o f b el ie f a nd t ho se
w ho ad vo ca te a lt er na ti ve a pp ro ac he s .
"On e a rg um en t f or t he a xi om s o f p ro ba bi li ty , f ir st s ta te d i n 1931 b y Br un o d e Fi ne tt i"
"(a nd tr an sl at ed in to En gl is hi nd e Fi ne tt i(1993)),i sa sf ol lo ws: If an ag en th as so me de gr ee of"
"b el ie f i na pr op os it io n a ,t he n t he ag en ts ho ul d b ea bl e t os ta te o dd sa tw hi ch it is in di ff er en t"
"t o a b et f or o r a ga in st a .3 Th in k o f i t a s a g am e b et we en t wo a ge nt s: Ag en t 1 s ta te s , “m y"
d eg re e o f b el ie f i n e ve nt a i s 0.4.” Ag en t 2 i s t he n f re e t o c ho os e w he th er t o w ag er f or o r
"a ga in st a at st ak es t ha ta re co ns is te nt w it ht he st at ed d eg re eo fb el ie f . Th at is , Ag en t 2 c ou ld"
"c ho os e t oa cc ep t Ag en t 1’s be t t ha t a wi ll oc cu r , o ff er in g $6 a ga in st Ag en t 1’s$4. Or Ag en t"
"2 c ou ld a cc ep t Ag en t 1’s b et t ha t ¬a w il l o cc ur , o ff er in g $4 a ga in st Ag en t 1’s $6. Th en w e"
"o bs er ve t he o ut co me o f a , a nd w ho ev er i s r ig ht c ol le ct s t he m on ey . If a n a ge nt’s d eg re es o f"
"b el ie f d o n ot a cc ur at el y r ef le ct t he w or ld , t he n y ou w ou ld e xp ec t t ha t i t w ou ld t en d t o l os e"
m on ey ov er th el on gr un to an op po si ng a ge nt wh os eb el ie fs mo re ac cu ra te ly r ef le ct th es ta te
o ft he wo rl d .
Bu t d e Fi ne tt i p ro ve d s om et hi ng m uc h s tr on ge r: If Ag en t 1 e xp re ss es a s et o f d eg re es
o f b el ie f t ha t v io la te t he a xi om s o f p ro ba bi li ty t he or y t he n t he re i s a c om bi na ti on o f b et s b y
"Ag en t 2 t ha t g ua ra nt ee s t ha t Ag en t 1 w il l l os e m on ey e ve ry t im e . Fo re xa mp le , s up po se t ha t"
Ag en t 1 h as th es et of de gr ee so fb el ie ff ro m Eq ua ti on(13.5). Fi gu re 13.2 s ho ws th at if Ag en t
"2 Th ed if fi cu lt ie si nc lu de th e Vi ta li se t ,a we ll-d ef in ed su bs et of th ei nt er va l[0,1]w it hn ow el l-d ef in ed si ze ."
3 On em ig ht ar gu et ha tt he ag en t’s pr ef er en ce sf or di ff er en tb an kb al an ce sa re su ch th at th ep os si bi li ty of lo si ng
$1 i sn ot co un te rb al an ce db ya ne qu al po ss ib il it yo fw in ni ng$1.On ep os si bl er es po ns ei st om ak et he be ta mo un ts
s ma ll en ou gh to av oi dt hi sp ro bl em .Sa va ge’s an al ys is(1954)c ir cu mv en ts th ei ss ue al to ge th er .
490 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"2 c ho os es t o b et $4 o n a , $3 o n b , a nd $2 o n ¬(a∨ b), t he n Ag en t 1 a lw ay s l os es m on ey ,"
r eg ar dl es s o f t he o ut co me s f or a a nd b . De Fi ne tt i’s t he or em i mp li es t ha t n o r at io na l a ge nt
c an ha ve be li ef st ha tv io la te th ea xi om so fp ro ba bi li ty .
Ag en t 1 Ag en t 2 Ou tc om es an dp ay of fs t o Ag en t 1
"Pr op os it io n Be li ef Be t St ak es a ,b a ,¬b ¬a ,b ¬a ,¬b"
a 0.4 a 4 t o 6 –6 –6 4 4
b 0.3 b 3 t o 7 –7 3 –7 3
a∨b 0.8 ¬(a∨b) 2 t o 8 2 2 2 –8
–11 –1 –1 –1
"Fi gu re 13.2 Be ca us e Ag en t 1 h as in co ns is te nt be li ef s , Ag en t 2 i s a bl e t o d ev is ea s et o f"
"b et st ha tg ua ra nt ee sa lo ss fo r Ag en t 1,n om at te rw ha tt he ou tc om eo fa an db ."
On e c om mo n o bj ec ti on t o d e Fi ne tt i’s t he or em i s t ha t t hi s b et ti ng g am e i s r at he r c on-
"t ri ve d . Fo re xa mp le , w ha t i fo ne r ef us es t o b et ? Do es t ha t e nd t he a rg um en t ? Th ea ns we ri s"
t ha t t he b et ti ng g am e i s a n a bs tr ac t m od el f or t he d ec is io n-m ak in g s it ua ti on i n w hi ch e ve ry
a ge nt i s u na vo id ab ly i nv ol ve d a t e ve ry m om en t . Ev er y a ct io n (i nc lu di ng i na ct io n) i s a k in d
"o fb et , a nd ev er yo ut co me c an be se en as ap ay of f o ft he be t . Re fu si ng t ob et is li ke re fu si ng"
t oa ll ow ti me to pa ss .
"Ot he rs tr on gp hi lo so ph ic al ar gu me nt sh av eb ee np ut fo rw ar df or th eu se of pr ob ab il it ie s ,"
"m os tn ot ab ly t ho se o f Co x(1946), Ca rn ap (1950), a nd Ja yn es (2003). Th ey ea ch c on st ru ct a"
"s et o f a xi om s f or r ea so ni ng w it h d eg re es o f b el ie fs: n o c on tr ad ic ti on s , c or re sp on de nc e w it h"
"o rd in ar y l og ic (f or ex am pl e , i fb el ie f i n Ag oe s u p , t he nb el ie f i n¬Am us tg od ow n), a nd so"
"o n . Th e o nl y c on tr ov er si al a xi om i s t ha t d eg re es o f b el ie f m us t b e n um be rs , o r a t l ea st a ct"
"l ik en um be rs in th at th ey mu st be tr an si ti ve(i fb el ie fi n Ai sg re at er th an be li ef in B ,w hi ch is"
"g re at er th an b el ie fi n C ,t he n b el ie f i n Am us tb eg re at er t ha n C)a nd co mp ar ab le (t he be li ef"
"i n Am us tb eo ne of eq ua lt o ,g re at er th an ,o rl es st ha nb el ie fi n B). It ca nt he nb ep ro ve dt ha t"
p ro ba bi li ty i st he on ly ap pr oa ch t ha ts at is fi es th es ea xi om s .
"Th e w or ld b ei ng t he w ay i t i s , h ow ev er , p ra ct ic al d em on st ra ti on s s om et im es s pe ak"
l ou de r t ha n p ro of s . Th e s uc ce ss o f r ea so ni ng s ys te ms b as ed o n p ro ba bi li ty t he or y h as b ee n
m uc hm or ee ff ec ti ve in ma ki ng co nv er ts . We no wl oo ka th ow th ea xi om sc an be de pl oy ed to
m ak ei nf er en ce s .
13.3 INFERENCE USING FULL JOINT DISTRIBUTIONS
"PROBABILISTIC In th is se ct io nw ed es cr ib ea si mp le me th od fo rp ro ba bi li st ic in fe re nc e—t ha t i s ,t he co mp u-"
INFERENCE
t at io n o f p os te ri or p ro ba bi li ti es f or q ue ry p ro po si ti on s g iv en o bs er ve d e vi de nc e . We u se t he
f ul lj oi nt di st ri bu ti on as th e“k no wl ed ge ba se”f ro mw hi ch an sw er st oa ll qu es ti on sm ay be de-
r iv ed . Al on gt he wa yw ea ls oi nt ro du ce s ev er al us ef ul te ch ni qu es f or ma ni pu la ti ng e qu at io ns
i nv ol vi ng p ro ba bi li ti es .
Se ct io n 13.3. In fe re nc e Us in g Fu ll Jo in t Di st ri bu ti on s 491
WHERE DO PROBABILITIES COME FROM ?
Th er e h as b ee n e nd le ss d eb at e o ve r t he s ou rc e a nd s ta tu s o f p ro ba bi li ty n um be rs .
Th e f re qu en ti st p os it io n i s t ha t t he n um be rs c an c om e o nl y f ro m e xp er im en ts: i f
"w e t es t 100 p eo pl e a nd f in d t ha t 10 o f t he m h av e a c av it y , t he n w e c an s ay t ha t"
"t he p ro ba bi li ty o f a c av it y i s a pp ro xi ma te ly 0.1. In t hi s v ie w , t he a ss er ti on “t he"
p ro ba bi li ty o fa ca vi ty is 0.1”m ea ns th at 0.1 i st he fr ac ti on t ha tw ou ld be ob se rv ed
"i n t he l im it o f i nf in it el y m an y s am pl es . Fr om a ny f in it e s am pl e , w e c an e st im at e"
t he tr ue fr ac ti on an da ls oc al cu la te h ow ac cu ra te o ur es ti ma te is li ke ly to be .
Th e o bj ec ti vi st v ie w i s t ha t p ro ba bi li ti es a re r ea l a sp ec ts o f t he u ni ve rs e—
p ro pe ns it ie s o f o bj ec ts t o b eh av e i n c er ta in w ay s—r at he r t ha n b ei ng j us t d es cr ip-
"t io ns of an ob se rv er’s d eg re eo fb el ie f . Fo re xa mp le ,t he fa ct th at af ai rc oi nc om es"
"u p h ea ds w it h p ro ba bi li ty 0.5 i s a p ro pe ns it y o f t he c oi n i ts el f . In t hi s v ie w , f re-"
q ue nt is t m ea su re me nt s a re at te mp ts t oo bs er ve t he se p ro pe ns it ie s . Mo st ph ys ic is ts
"a gr ee th at qu an tu m p he no me na a re ob je ct iv el y p ro ba bi li st ic , b ut un ce rt ai nt y a tt he"
"m ac ro sc op ic s ca le—e .g ., i n c oi n t os si ng—u su al ly a ri se s f ro m i gn or an ce o f i ni ti al"
c on di ti on s a nd do es no ts ee mc on si st en t w it ht he pr op en si ty v ie w .
Th e s ub je ct iv is t v ie w d es cr ib es p ro ba bi li ti es a s a w ay o f c ha ra ct er iz in g a n
"a ge nt’s b el ie fs , r at he r t ha n a s h av in g a ny e xt er na l p hy si ca l s ig ni fi ca nc e . Th e s ub-"
j ec ti ve Ba ye si an vi ew al lo ws an ys el f-c on si st en t a sc ri pt io no fp ri or pr ob ab il it ie st o
"p ro po si ti on s , b ut th en in si st so np ro pe r Ba ye si an up da ti ng a se vi de nc e a rr iv es ."
"In t he e nd , e ve n a s tr ic t f re qu en ti st p os it io n i nv ol ve s s ub je ct iv e a na ly si s b e-"
c au se of th er ef er en ce cl as sp ro bl em: i nt ry in gt od et er mi ne th eo ut co me pr ob ab il-
"i ty of ap ar ti cu la r e xp er im en t , t he fr eq ue nt is t h as to pl ac ei ti na re fe re nc e c la ss of"
"“s im il ar” e xp er im en ts w it h k no wn o ut co me f re qu en ci es . I . J . Go od (1983, p . 27)"
"w ro te , “e ve ry e ve nt i n l if e i s u ni qu e , a nd e ve ry r ea l-l if e p ro ba bi li ty t ha t w e e st i-"
"m at e i n p ra ct ic e i s t ha t o f a n e ve nt t ha t h as n ev er o cc ur re d b ef or e .” Fo r e xa mp le ,"
"g iv en a p ar ti cu la r p at ie nt , a f re qu en ti st w ho w an ts t o e st im at e t he p ro ba bi li ty o f a"
c av it yw il lc on si de ra re fe re nc ec la ss of ot he rp at ie nt sw ho a re si mi la ri ni mp or ta nt
"w ay s—a ge , s ym pt om s , d ie t—a nd s ee wh at pr op or ti on o ft he m h ad ac av it y . If th e"
d en ti st co ns id er se ve ry th in gt ha ti sk no wn ab ou tt he pa ti en t—w ei gh t t ot he ne ar es t
"g ra m ,h ai rc ol or ,m ot he r’s ma id en na me—t he nt he re fe re nc ec la ss be co me se mp ty ."
Th is ha sb ee na ve xi ng pr ob le m i nt he ph il os op hy o fs ci en ce .
Th e p ri nc ip le o f i nd if fe re nc e a tt ri bu te d t o La pl ac e (1816) s ta te s t ha t p ro po-
s it io ns t ha t a re s yn ta ct ic al ly “s ym me tr ic” w it h r es pe ct t o t he e vi de nc e s ho ul d b e
"a cc or de d e qu al p ro ba bi li ty . Va ri ou s r ef in em en ts h av e b ee n p ro po se d , c ul mi na ti ng"
"i n t he a tt em pt b y Ca rn ap a nd o th er s t o d ev el op a r ig or ou s i nd uc ti ve l og ic , c ap a-"
b le of co mp ut in gt he co rr ec tp ro ba bi li ty fo ra ny pr op os it io n f ro ma ny co ll ec ti on of
"o bs er va ti on s . Cu rr en tl y , i ti sb el ie ve d t ha tn o u ni qu e i nd uc ti ve l og ic e xi st s ; r at he r ,"
a ny s uc h l og ic r es ts o n a s ub je ct iv e p ri or p ro ba bi li ty d is tr ib ut io n w ho se e ff ec t i s
d im in is he d a sm or eo bs er va ti on s a re co ll ec te d .
492 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
t oo th ac he ¬t oo th ac he
c at ch ¬c at ch c at ch ¬c at ch
c av it y 0.108 0.012 0.072 0.008
¬c av it y 0.016 0.064 0.144 0.576
"Fi gu re 13.3 Af ul lj oi nt di st ri bu ti on fo rt he To ot ha ch e ,Ca vi ty ,Ca tc h w or ld ."
We be gi nw it ha si mp le ex am pl e: a do ma in co ns is ti ng of ju st th et hr ee Bo ol ea nv ar ia bl es
"To ot ha ch e ,Ca vi ty ,a nd Ca tc h (t he de nt is t’s na st ys te el pr ob ec at ch es in my to ot h). Th ef ul l"
j oi nt di st ri bu ti on i sa 2×2×2 t ab le as sh ow ni n Fi gu re 13.3.
"No ti ce th at th ep ro ba bi li ti es i nt he jo in td is tr ib ut io ns um to 1,a sr eq ui re db yt he ax io ms"
o fp ro ba bi li ty . No ti ce al so th at Eq ua ti on(13.2)g iv es us ad ir ec tw ay to ca lc ul at et he pr ob ab il-
"i ty of an yp ro po si ti on , s im pl eo rc om pl ex: s im pl yi de nt if yt ho se po ss ib le wo rl ds in wh ic ht he"
"p ro po si ti on i st ru e a nd a dd u pt he ir p ro ba bi li ti es . Fo re xa mp le , t he re a re s ix p os si bl e w or ld s"
i nw hi ch ca vi ty ∨t oo th ac he h ol ds:
P(c av it y ∨t oo th ac he)= 0.108+0.012+0.072+0.008+0.016+0.064 = 0.28.
On e p ar ti cu la rl y c om mo n t as k i s t o e xt ra ct t he d is tr ib ut io n o ve r s om e s ub se t o f v ar ia bl es o r
"a s in gl e v ar ia bl e . Fo re xa mp le , a dd in g t he e nt ri es i n t he f ir st r ow g iv es t he u nc on di ti on al o r"
MARGINAL m ar gi na lp ro ba bi li ty 4 o fc av it y:
PROBABILITY
P(c av it y) = 0.108+0.012+0.072+0.008 = 0.2.
"Th is pr oc es s i sc al le d m ar gi na li za ti on , o rs um mi ng ou t—b ec au se w es um up th ep ro ba bi l-"
MARGINALIZATION
"i ti es f or e ac h p os si bl e v al ue o f t he o th er v ar ia bl es , t he re by t ak in g t he m o ut o f t he e qu at io n ."
We ca nw ri te th ef ol lo wi ng ge ne ra lm ar gi na li za ti on r ul ef or a ny se ts of va ri ab le s Ya nd Z:
(c id:12)
"P(Y)= P(Y ,z), (13.6)"
(c id:2)
z∈Z
w he re z∈Zm ea ns to su mo ve ra ll t(c id:2)h ep os si bl ec om bi na ti on so fv al ue so ft he se to fv ar ia bl es
"Z . We so me ti me sa bb re vi at e t hi sa s ,l ea vi ng Zi mp li ci t . We ju st us ed th er ul ea s"
(c id:12) z
"P(Ca vi ty)= P(Ca vi ty ,z). (13.7)"
"z∈{Ca tc h ,To ot ha ch e}"
"A v ar ia nt o f t hi s r ul e i nv ol ve s c on di ti on al p ro ba bi li ti es i ns te ad o f j oi nt p ro ba bi li ti es , u si ng"
t he pr od uc tr ul e:
(c id:12)
P(Y)= P(Y|z)P(z). (13.8)
z
Th is ru le is ca ll ed co nd it io ni ng . Ma rg in al iz at io n a nd co nd it io ni ng t ur no ut to be us ef ul ru le s
CONDITIONING
f or al lk in ds of de ri va ti on s i nv ol vi ng p ro ba bi li ty e xp re ss io ns .
"In m os t c as es , w e a re i nt er es te d i n c om pu ti ng c on di ti on al p ro ba bi li ti es o f s om e v ar i-"
"a bl es , g iv en e vi de nc e a bo ut o th er s . Co nd it io na l p ro ba bi li ti es c an b e f ou nd b y f ir st u si ng"
4 So ca ll ed be ca us eo fa co mm on pr ac ti ce am on ga ct ua ri es of wr it in gt he su ms of ob se rv ed fr eq ue nc ie si nt he
m ar gi ns of in su ra nc et ab le s .
Se ct io n 13.3. In fe re nc e Us in g Fu ll Jo in t Di st ri bu ti on s 493
Eq ua ti on(13.3)t oo bt ai na ne xp re ss io ni nt er ms of un co nd it io na l p ro ba bi li ti es a nd th en ev al-
"u at in g t he e xp re ss io n f ro m t he f ul l j oi nt d is tr ib ut io n . Fo r e xa mp le , w e c an c om pu te t he"
"p ro ba bi li ty o fa ca vi ty , g iv en ev id en ce o fa to ot ha ch e , a sf ol lo ws:"
P(c av it y ∧t oo th ac he)
P(c av it y|t oo th ac he) =
P(t oo th ac he)
0.108+0.012
= = 0.6.
0.108+0.012+0.016+0.064
"Ju st to ch ec k ,w ec an al so co mp ut et he pr ob ab il it y t ha tt he re i sn oc av it y , g iv en at oo th ac he:"
P(¬c av it y ∧t oo th ac he)
P(¬c av it y|t oo th ac he) =
P(t oo th ac he)
0.016+0.064
= =0.4.
0.108+0.012+0.016+0.064
"Th e t wo v al ue s s um t o 1.0, a s t he y s ho ul d . No ti ce t ha t i n t he se t wo c al cu la ti on s t he t er m"
"1/P(t oo th ac he) r em ai ns c on st an t , n o m at te r w hi ch v al ue o f Ca vi ty w e c al cu la te . In f ac t ,"
"i t c an b e v ie we d a s a n or ma li za ti on c on st an t f or t he d is tr ib ut io n P(Ca vi ty|t oo th ac he),"
NORMALIZATION
"e ns ur in g t ha t i t a dd s u p t o 1. Th ro ug ho ut t he c ha pt er s d ea li ng w it h p ro ba bi li ty , w e u se α t o"
"d en ot es uc hc on st an ts . Wi th th is no ta ti on , w ec an wr it et he tw op re ce di ng e qu at io ns i no ne:"
"P(Ca vi ty|t oo th ac he)= αP(Ca vi ty ,t oo th ac he)"
"= α[P(Ca vi ty ,t oo th ac he ,c at ch)+P(Ca vi ty ,t oo th ac he ,¬c at ch)]"
"= α[(c id:16)0.108,0.016(c id:17)+(c id:16)0.012,0.064(c id:17)] = α(c id:16)0.12,0.08(c id:17) = (c id:16)0.6,0.4(c id:17)."
"In o th er w or ds , w e c an c al cu la te P(Ca vi ty|t oo th ac he) e ve n i f w e d on’t k no w t he v al ue o f"
P(t oo th ac he)! We te mp or ar il yf or ge ta bo ut th ef ac to r 1/P(t oo th ac he)a nd ad du pt he va lu es
"f or ca vi ty a nd¬c av it y ,g et ti ng 0.12 a nd 0.08. Th os ea re th ec or re ct r el at iv ep ro po rt io ns , b ut"
"t he y d on’t s um t o 1, s o w e n or ma li ze t he m b y d iv id in g e ac h o ne b y 0.12 + 0.08, g et ti ng"
t he tr ue p ro ba bi li ti es o f 0.6 a nd 0.4. No rm al iz at io n t ur ns o ut to be au se fu l s ho rt cu t i nm an y
"p ro ba bi li ty ca lc ul at io ns ,b ot ht om ak et he co mp ut at io ne as ie ra nd to al lo wu st op ro ce ed wh en"
s om ep ro ba bi li ty a ss es sm en t (s uc ha s P(t oo th ac he))i sn ot av ai la bl e .
"Fr om t he e xa mp le , w e c an e xt ra ct a g en er al i nf er en ce p ro ce du re . We b eg in w it h t he"
"c as e i n w hi ch th e q ue ry i nv ol ve s a si ng le v ar ia bl e , X (Ca vi ty i n t he ex am pl e). Le t Eb e t he"
"l is to fe vi de nc ev ar ia bl es(j us t To ot ha ch e i nt he ex am pl e),l et eb et he li st of ob se rv ed va lu es"
"f or th em , a nd l et Yb e t he re ma in in g u no bs er ve d v ar ia bl es (j us t Ca tc h i nt he ex am pl e). Th e"
q ue ry is P(X|e)a nd ca nb ee va lu at ed as
(c id:12)
"P(X|e)= αP(X ,e)= α P(X ,e ,y), (13.9)"
y
"w he re t he s um ma ti on i s o ve r a ll p os si bl e y s (i .e ., a ll p os si bl e c om bi na ti on s o f v al ue s o f t he"
"u no bs er ve d v ar ia bl es Y). No ti ce t ha t t og et he r t he v ar ia bl es X , E , a nd Yc on st it ut e t he c om-"
"p le te se to fv ar ia bl es fo rt he do ma in ,s o P(X ,e ,y)i ss im pl ya su bs et of pr ob ab il it ie s f ro mt he"
f ul lj oi nt di st ri bu ti on .
"Gi ve nt he f ul lj oi nt d is tr ib ut io n t ow or kw it h , Eq ua ti on (13.9) c an a ns we rp ro ba bi li st ic"
"q ue ri es f or d is cr et e v ar ia bl es . It d oe s n ot s ca le w el l , h ow ev er: f or a d om ai n d es cr ib ed b y n"
"Bo ol ea nv ar ia bl es ,i tr eq ui re sa ni np ut ta bl eo fs iz e O(2 n)a nd ta ke s O(2 n)t im et op ro ce ss th e"
494 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"t ab le . In a r ea li st ic p ro bl em w ec ou ld e as il y h av e n > 100, m ak in g O(2 n) i mp ra ct ic al . Th e"
f ul lj oi nt di st ri bu ti on in ta bu la rf or mi sj us tn ot ap ra ct ic al to ol fo rb ui ld in gr ea so ni ng sy st em s .
"In st ea d ,i ts ho ul db ev ie we da st he th eo re ti ca lf ou nd at io no nw hi ch mo re ef fe ct iv ea pp ro ac he s"
"m ay be bu il t ,j us ta st ru th ta bl es fo rm ed at he or et ic al fo un da ti on fo rm or ep ra ct ic al al go ri th ms"
l ik e DPLL . Th e r em ai nd er o f t hi s c ha pt er i nt ro du ce s s om e o f t he b as ic i de as r eq ui re d i n
p re pa ra ti on f or th ed ev el op me nt o fr ea li st ic s ys te ms in Ch ap te r 14.
13.4 INDEPENDENCE
"Le tu se xp an dt he fu ll jo in td is tr ib ut io n i n Fi gu re 13.3 b ya dd in ga fo ur th va ri ab le , We at he r ."
"Th ef ul lj oi nt di st ri bu ti on t he nb ec om es P(To ot ha ch e ,Ca tc h ,Ca vi ty ,We at he r),w hi ch ha s"
"2×2×2×4 = 32 e nt ri es . It c on ta in s f ou r “e di ti on s” o f t he t ab le s ho wn i n Fi gu re 13.3,"
o ne f or e ac h k in d o f w ea th er . Wh at r el at io ns hi p d o t he se e di ti on s h av e t o e ac h o th er a nd t o
"t he or ig in al th re e-v ar ia bl e t ab le ? Fo re xa mp le ,h ow ar e P(t oo th ac he ,c at ch ,c av it y ,c lo ud y)"
"a nd P(t oo th ac he ,c at ch ,c av it y)r el at ed ? We ca nu se th ep ro du ct ru le:"
"P(t oo th ac he ,c at ch ,c av it y ,c lo ud y)"
"= P(c lo ud y|t oo th ac he ,c at ch ,c av it y)P(t oo th ac he ,c at ch ,c av it y)."
"No w , u nl es s o ne i s i n t he d ei ty b us in es s , o ne s ho ul d n ot i ma gi ne t ha t o ne’s d en ta l p ro bl em s"
"i nf lu en ce t he we at he r . An df or in do or de nt is tr y , a tl ea st , i t s ee ms sa fe to sa yt ha tt he we at he r"
"d oe sn ot in fl ue nc et he de nt al va ri ab le s . Th er ef or e , t he fo ll ow in ga ss er ti on s ee ms re as on ab le:"
"P(c lo ud y|t oo th ac he ,c at ch ,c av it y) = P(c lo ud y). (13.10)"
"Fr om th is ,w ec an de du ce"
"P(t oo th ac he ,c at ch ,c av it y ,c lo ud y) = P(c lo ud y)P(t oo th ac he ,c at ch ,c av it y)."
"As im il ar eq ua ti on ex is ts fo re ve ry en tr yi n P(To ot ha ch e ,Ca tc h ,Ca vi ty ,We at he r). In fa ct ,"
w ec an wr it et he ge ne ra le qu at io n
"P(To ot ha ch e ,Ca tc h ,Ca vi ty ,We at he r)=P(To ot ha ch e ,Ca tc h ,Ca vi ty)P(We at he r)."
"Th us , t he 32-e le me nt t ab le f or f ou r v ar ia bl es c an b e c on st ru ct ed f ro m o ne 8-e le me nt t ab le"
a nd on e 4-e le me nt ta bl e . Th is de co mp os it io n i si ll us tr at ed s ch em at ic al ly i n Fi gu re 13.4(a).
Th e p ro pe rt y w e u se d i n Eq ua ti on (13.10) i s c al le d i nd ep en de nc e (a ls o m ar gi na l i n-
INDEPENDENCE
"d ep en de nc ea nd ab so lu te in de pe nd en ce). In pa rt ic ul ar , t he we at he ri si nd ep en de nt o fo ne’s"
d en ta lp ro bl em s . In de pe nd en ce b et we en pr op os it io ns a an db ca nb ew ri tt en as
P(a|b)=P(a) o r P(b|a)=P(b) o r P(a∧b)=P(a)P(b). (13.11)
Al l t he se f or ms a re e qu iv al en t (Ex er ci se 13.12). In de pe nd en ce b et we en v ar ia bl es X a nd Y
"c an be wr it te na sf ol lo ws(a ga in , t he se ar ea ll eq ui va le nt):"
"P(X|Y)=P(X) o r P(Y |X)=P(Y) o r P(X ,Y)=P(X)P(Y)."
In de pe nd en ce a ss er ti on s a re u su al ly b as ed o n k no wl ed ge o f t he d om ai n . As t he t oo th ac he–
"w ea th er e xa mp le i ll us tr at es , t he y c an d ra ma ti ca ll y r ed uc e t he a mo un t o f i nf or ma ti on n ec-"
e ss ar y t o s pe ci fy t he f ul l j oi nt d is tr ib ut io n . If t he c om pl et e s et o f v ar ia bl es c an b e d iv id ed
Se ct io n 13.5. Ba ye s’Ru le an d It s Us e 495
Ca vi ty Co in Co in
1 n
To ot ha ch e Ca tc h
We at he r
d ec om po se s
d ec om po se s
i nt o
i nt o
Ca vi ty
To ot ha ch e Ca tc h We at he r
Co in Co in
1 n
(a) (b)
"Fi gu re 13.4 Tw oe xa mp le so ff ac to ri ng al ar ge jo in td is tr ib ut io ni nt os ma ll er di st ri bu ti on s ,"
u si ng a bs ol ut e i nd ep en de nc e . (a) We at he r a nd d en ta l p ro bl em s a re i nd ep en de nt . (b) Co in
f li ps ar ei nd ep en de nt .
"i nt o i nd ep en de nt s ub se ts , t he n t he f ul l j oi nt d is tr ib ut io n c an b e f ac to re d i nt o s ep ar at e j oi nt"
"d is tr ib ut io ns o n t ho se s ub se ts . Fo r e xa mp le , t he f ul l j oi nt d is tr ib ut io n o n t he o ut co me o f n"
"i nd ep en de nt c oi n f li ps , P(C ,...,C ), h as 2 n e nt ri es , b ut i t c an b e r ep re se nt ed a s t he p ro d-"
1 n
"u ct o f n s in gl e-v ar ia bl e d is tr ib ut io ns P(C ). In a m or e p ra ct ic al v ei n , t he i nd ep en de nc e o f"
i
"d en ti st ry a nd me te or ol og y i sa go od t hi ng , b ec au se o th er wi se t he p ra ct ic e o fd en ti st ry m ig ht"
"r eq ui re in ti ma te kn ow le dg eo fm et eo ro lo gy , a nd vi ce ve rs a ."
"Wh en th ey ar ea va il ab le , t he n ,i nd ep en de nc e a ss er ti on s c an h el pi nr ed uc in gt he si ze of"
"t he do ma in re pr es en ta ti on a nd th ec om pl ex it yo ft he in fe re nc e p ro bl em . Un fo rt un at el y , c le an"
"s ep ar at io n o f e nt ir e s et s o f v ar ia bl es b y i nd ep en de nc e i s q ui te r ar e . Wh en ev er a c on ne ct io n ,"
"h ow ev er i nd ir ec t , e xi st s b et we en t wo v ar ia bl es , i nd ep en de nc e w il l f ai l t o h ol d . Mo re ov er ,"
"e ve ni nd ep en de nt s ub se ts ca nb eq ui te la rg e—f or ex am pl e ,d en ti st ry mi gh ti nv ol ve d oz en so f"
"d is ea se s a nd h un dr ed s o fs ym pt om s , a ll of w hi ch a re in te rr el at ed . To ha nd le s uc h p ro bl em s ,"
w en ee dm or es ub tl em et ho ds th an th es tr ai gh tf or wa rd c on ce pt of in de pe nd en ce .
13.5 BAYES’ RULE AND ITS USE
"On pa ge 486,w ed ef in ed th ep ro du ct ru le . It ca na ct ua ll yb ew ri tt en in tw of or ms:"
P(a∧b)= P(a|b)P(b) a nd P(a∧b)= P(b|a)P(a).
"Eq ua ti ng th et wo ri gh t-h an d s id es an dd iv id in g b y P(a),w eg et"
P(a|b)P(b)
P(b|a) = . (13.12)
P(a)
Th is e qu at io n i s k no wn a s Ba ye s’ r ul e (a ls o Ba ye s’ l aw o r Ba ye s’ t he or em). Th is s im pl e
BAYES’RULE
e qu at io n u nd er li es m os tm od er n AIs ys te ms fo rp ro ba bi li st ic i nf er en ce .
496 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
Th em or e g en er al c as e o f Ba ye s’ r ul e f or mu lt iv al ue d v ar ia bl es c an b ew ri tt en i n t he P
n ot at io n a sf ol lo ws:
P(X|Y)P(Y)
"P(Y |X) = ,"
P(X)
"As be fo re ,t hi si st ob et ak en as re pr es en ti ng as et of eq ua ti on s ,e ac hd ea li ng wi th sp ec if ic va l-"
u es of th ev ar ia bl es . We wi ll al so ha ve oc ca si on to us ea mo re ge ne ra lv er si on co nd it io na li ze d
o ns om eb ac kg ro un d e vi de nc e e:
"P(X|Y ,e)P(Y |e)"
"P(Y |X ,e)= . (13.13)"
P(X|e)
13.5.1 Ap pl yi ng Ba ye s’r ul e: Th e s im pl ec as e
"On t he s ur fa ce , Ba ye s’ r ul e d oe s n ot s ee m v er y u se fu l . It a ll ow s u s t o c om pu te t he s in gl e"
"t er m P(b|a) i n t er ms o f t hr ee t er ms: P(a|b), P(b), a nd P(a). Th at s ee ms l ik e t wo s te ps"
"b ac kw ar ds , b ut Ba ye s’ r ul e i s u se fu l i n p ra ct ic e b ec au se t he re a re m an y c as es w he re w e d o"
h av e g oo d p ro ba bi li ty e st im at es f or t he se t hr ee n um be rs a nd n ee d t o c om pu te t he f ou rt h .
"Of te n , w e p er ce iv e a s e vi de nc e t he e ff ec t o f s om e u nk no wn c au se a nd w e w ou ld l ik e t o"
"d et er mi ne th at ca us e . In th at ca se ,Ba ye s’r ul eb ec om es"
P(e ff ec t|c au se)P(c au se)
P(c au se|e ff ec t)= .
P(e ff ec t)
Th e c on di ti on al p ro ba bi li ty P(e ff ec t|c au se) q ua nt if ie s t he r el at io ns hi p i n t he c au sa l d ir ec-
CAUSAL
"t io n , w he re as P(c au se|e ff ec t)d es cr ib es t he d ia gn os ti c d ir ec ti on . In a ta sk s uc h a s m ed ic al"
DIAGNOSTIC
"d ia gn os is , w eo ft en h av e c on di ti on al p ro ba bi li ti es o n c au sa l r el at io ns hi ps (t ha t i s , t he d oc to r"
"k no ws P(s ym pt om s|d is ea se))a nd wa nt to de ri ve ad ia gn os is , P(d is ea se|s ym pt om s). Fo r"
"e xa mp le , a d oc to r k no ws t ha t t he d is ea se m en in gi ti s c au se s t he p at ie nt t o h av e a s ti ff n ec k ,"
"s ay , 70% o f t he t im e . Th e d oc to r a ls o k no ws s om e u nc on di ti on al f ac ts: t he p ri or p ro ba bi l-"
"i ty t ha t a p at ie nt h as m en in gi ti s i s 1/50,000, a nd t he p ri or p ro ba bi li ty t ha t a ny p at ie nt h as a"
s ti ff n ec k i s 1%. Le tt in g s b e t he p ro po si ti on t ha t t he p at ie nt h as a s ti ff n ec k a nd m b e t he
"p ro po si ti on t ha tt he pa ti en th as me ni ng it is , w eh av e"
P(s|m) = 0.7
P(m) = 1/50000
P(s) = 0.01
P(s|m)P(m) 0.7×1/50000
P(m|s) = = = 0.0014. (13.14)
P(s) 0.01
"Th at is ,w ee xp ec tl es st ha n 1 i n 700 p at ie nt sw it ha st if fn ec kt oh av em en in gi ti s . No ti ce th at"
"e ve n t ho ug h a s ti ff n ec k i s q ui te s tr on gl y i nd ic at ed b y m en in gi ti s (w it h p ro ba bi li ty 0.7), t he"
p ro ba bi li ty of me ni ng it is in th ep at ie nt re ma in ss ma ll . Th is is be ca us et he pr io rp ro ba bi li ty of
s ti ff ne ck si sm uc hh ig he rt ha nt ha to fm en in gi ti s .
Se ct io n 13.3 i ll us tr at ed ap ro ce ss by wh ic ho ne ca na vo id as se ss in gt he pr io rp ro ba bi li ty
"o f t he e vi de nc e (h er e , P(s)) b y i ns te ad c om pu ti ng a p os te ri or p ro ba bi li ty f or e ac h v al ue o f"
Se ct io n 13.5. Ba ye s’Ru le an d It s Us e 497
"t he qu er yv ar ia bl e(h er e , m an d¬m)a nd th en no rm al iz in gt he re su lt s . Th es am ep ro ce ss ca n"
b ea pp li ed wh en us in g Ba ye s’r ul e . We ha ve
"P(M|s)= α(c id:16)P(s|m)P(m),P(s|¬m)P(¬m)(c id:17)."
"Th us , t o u se t hi s a pp ro ac h w e n ee d t o e st im at e P(s|¬m) i ns te ad o f P(s). Th er e i s n o f re e"
"l un ch—s om et im es th is is ea si er ,s om et im es it is ha rd er . Th eg en er al fo rm of Ba ye s’r ul ew it h"
n or ma li za ti on i s
"P(Y |X) = αP(X|Y)P(Y), (13.15)"
w he reαi st he no rm al iz at io n c on st an t n ee de dt om ak et he en tr ie si n P(Y |X)s um to 1.
On e o bv io us q ue st io n t o a sk a bo ut Ba ye s’ r ul e i s w hy o ne m ig ht h av e a va il ab le t he
"c on di ti on al p ro ba bi li ty i no ne di re ct io n , b ut no tt he ot he r . In th em en in gi ti s d om ai n , p er ha ps"
"t he do ct or kn ow st ha ta st if fn ec ki mp li es me ni ng it is in 1 o ut of 5000 c as es ;t ha ti s ,t he do ct or"
h as q ua nt it at iv e i nf or ma ti on i n t he d ia gn os ti c d ir ec ti on f ro m s ym pt om s t o c au se s . Su ch a
"d oc to r h as n o n ee d t o u se Ba ye s’ r ul e . Un fo rt un at el y , d ia gn os ti c k no wl ed ge i s o ft en m or e"
"f ra gi le th an ca us al kn ow le dg e . If th er ei sa su dd en ep id em ic of me ni ng it is , t he un co nd it io na l"
"p ro ba bi li ty o f m en in gi ti s , P(m), w il l g o u p . Th e d oc to r w ho d er iv ed t he d ia gn os ti c p ro ba-"
b il it y P(m|s)d ir ec tl y f ro m s ta ti st ic al o bs er va ti on o fp at ie nt s b ef or e t he ep id em ic w il lh av e
"n oi de a h ow to u pd at e t he v al ue , b ut th e d oc to rw ho co mp ut es P(m|s)f ro m t he ot he rt hr ee"
"v al ue s w il l s ee t ha t P(m|s) s ho ul d g o u p p ro po rt io na te ly w it h P(m). Mo st i mp or ta nt , t he"
"c au sa li nf or ma ti on P(s|m)i su na ff ec te d b yt he ep id em ic ,b ec au se it si mp ly re fl ec ts th ew ay"
m en in gi ti s w or ks . Th e u se o f t hi s k in d o f d ir ec t c au sa l o rm od el-b as ed k no wl ed ge p ro vi de s
t he cr uc ia lr ob us tn es s n ee de dt om ak ep ro ba bi li st ic s ys te ms fe as ib le in th er ea lw or ld .
13.5.2 Us in g Ba ye s’r ul e: Co mb in in g e vi de nc e
We ha ve s ee n t ha t Ba ye s’ r ul e c an b e u se fu l f or a ns we ri ng p ro ba bi li st ic q ue ri es c on di ti on ed
"o n o ne p ie ce o f e vi de nc e—f or e xa mp le , t he s ti ff n ec k . In p ar ti cu la r , w e h av e a rg ue d t ha t"
p ro ba bi li st ic in fo rm at io ni so ft en av ai la bl ei nt he fo rm P(e ff ec t|c au se). Wh at ha pp en sw he n
"w e h av e t wo o r m or e p ie ce s o f e vi de nc e ? Fo r e xa mp le , w ha t c an a d en ti st c on cl ud e i f h er"
n as ty st ee lp ro be ca tc he si nt he ac hi ng to ot ho fa pa ti en t ? If we kn ow th ef ul lj oi nt di st ri bu ti on
"(Fi gu re 13.3),w ec an re ad of ft he an sw er:"
"P(Ca vi ty|t oo th ac he ∧c at ch) = α(c id:16)0.108,0.016(c id:17) ≈ (c id:16)0.871,0.129(c id:17)."
"We k no w , h ow ev er , t ha t s uc h a n a pp ro ac h d oe s n ot s ca le u p t o l ar ge r n um be rs o f v ar ia bl es ."
We ca nt ry us in g Ba ye s’r ul et or ef or mu la te t he pr ob le m:
P(Ca vi ty|t oo th ac he ∧c at ch)
= αP(t oo th ac he ∧c at ch|Ca vi ty)P(Ca vi ty). (13.16)
"Fo rt hi sr ef or mu la ti on t ow or k ,w en ee dt ok no wt he co nd it io na l p ro ba bi li ti es o ft he co nj un c-"
t io nt oo th ac he∧c at ch f or ea ch va lu eo f Ca vi ty . Th at mi gh tb ef ea si bl ef or ju st tw oe vi de nc e
"v ar ia bl es , b ut a ga in i t d oe s n ot s ca le u p . If t he re a re n p os si bl e e vi de nc e v ar ia bl es (X r ay s ,"
"d ie t ,o ra lh yg ie ne ,e tc .),t he nt he re ar e 2 n p os si bl ec om bi na ti on so fo bs er ve dv al ue sf or wh ic h"
w e w ou ld n ee d t o k no w c on di ti on al p ro ba bi li ti es . We m ig ht a s w el l g o b ac k t o u si ng t he
f ul l j oi nt d is tr ib ut io n . Th is is wh at fi rs tl ed re se ar ch er s a wa yf ro m p ro ba bi li ty t he or y t ow ar d
498 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"a pp ro xi ma te m et ho ds fo re vi de nc e c om bi na ti on t ha t , w hi le gi vi ng i nc or re ct a ns we rs , r eq ui re"
f ew er nu mb er st og iv ea ny an sw er at al l .
"Ra th er t ha n t ak in g t hi s r ou te , w e n ee d t o f in d s om e a dd it io na l a ss er ti on s a bo ut t he"
d om ai n t ha t w il l e na bl e u st os im pl if y t he e xp re ss io ns . Th e n ot io n o f i nd ep en de nc ei n Se c-
"t io n 13.4 p ro vi de s a cl ue , b ut ne ed s r ef in in g . It wo ul db en ic e i f To ot ha ch e a nd Ca tc h w er e"
"i nd ep en de nt , b ut th ey ar en ot: i ft he pr ob e c at ch es i nt he to ot h , t he ni ti sl ik el y t ha tt he to ot h"
"h as a c av it y a nd t ha t t he c av it y c au se s a t oo th ac he . Th es e v ar ia bl es a re i nd ep en de nt , h ow-"
"e ve r , g iv en t he pr es en ce o rt he ab se nc e o fa ca vi ty . Ea ch is di re ct ly c au se d b yt he ca vi ty , b ut"
n ei th er h as a d ir ec t e ff ec t o n t he o th er: t oo th ac he d ep en ds o n t he s ta te o f t he n er ve s i n t he
"t oo th , w he re as t he p ro be’s a cc ur ac y d ep en ds o n t he d en ti st’s s ki ll , t o w hi ch t he t oo th ac he i s"
"i rr el ev an t .5 Ma th em at ic al ly , t hi sp ro pe rt y i sw ri tt en as"
P(t oo th ac he ∧c at ch|Ca vi ty) = P(t oo th ac he |Ca vi ty)P(c at ch|Ca vi ty). (13.17)
CONDITIONAL Th is eq ua ti on ex pr es se st he co nd it io na li nd ep en de nc eo ft oo th ac he a nd ca tc hg iv en Ca vi ty .
INDEPENDENCE
We ca np lu gi ti nt o Eq ua ti on(13.16)t oo bt ai nt he pr ob ab il it y o fa ca vi ty:
P(Ca vi ty|t oo th ac he ∧c at ch)
= αP(t oo th ac he |Ca vi ty)P(c at ch|Ca vi ty)P(Ca vi ty). (13.18)
"No w t he i nf or ma ti on r eq ui re me nt s a re t he s am e a s f or i nf er en ce , u si ng e ac h p ie ce o f e vi-"
d en ce s ep ar at el y: t he p ri or p ro ba bi li ty P(Ca vi ty) f or t he q ue ry v ar ia bl e a nd t he c on di ti on al
"p ro ba bi li ty o fe ac he ff ec t , g iv en it sc au se ."
"Th eg en er al de fi ni ti on of co nd it io na li nd ep en de nc eo ft wo va ri ab le s X a nd Y ,g iv en a"
"t hi rd va ri ab le Z ,i s"
"P(X ,Y |Z)= P(X|Z)P(Y |Z)."
"In th ed en ti st do ma in ,f or ex am pl e ,i ts ee ms re as on ab le to as se rt co nd it io na l i nd ep en de nc e o f"
"t he va ri ab le s To ot ha ch e a nd Ca tc h ,g iv en Ca vi ty:"
"P(To ot ha ch e ,Ca tc h|Ca vi ty) = P(To ot ha ch e |Ca vi ty)P(Ca tc h|Ca vi ty). (13.19)"
"No ti ce th at th is as se rt io ni ss om ew ha ts tr on ge rt ha n Eq ua ti on(13.17),w hi ch as se rt si nd ep en-"
d en ce o nl y f or s pe ci fi c v al ue s o f To ot ha ch e a nd Ca tc h . As w it h a bs ol ut e i nd ep en de nc e i n
"Eq ua ti on(13.11), t he eq ui va le nt f or ms"
"P(X|Y ,Z)=P(X|Z) a nd P(Y |X ,Z)=P(Y |Z)"
c an a ls o b e u se d (s ee Ex er ci se 13.17). Se ct io n 13.4 s ho we d t ha t a bs ol ut e i nd ep en de nc e a s-
s er ti on sa ll ow ad ec om po si ti on o ft he fu ll jo in td is tr ib ut io n i nt om uc hs ma ll er pi ec es . It tu rn s
"o ut t ha t t he s am e i s t ru e f or c on di ti on al i nd ep en de nc e a ss er ti on s . Fo r e xa mp le , g iv en t he"
"a ss er ti on i n Eq ua ti on(13.19), w ec an de ri ve ad ec om po si ti on a sf ol lo ws:"
"P(To ot ha ch e ,Ca tc h ,Ca vi ty)"
"= P(To ot ha ch e ,Ca tc h|Ca vi ty)P(Ca vi ty) (p ro du ct ru le)"
= P(To ot ha ch e |Ca vi ty)P(Ca tc h|Ca vi ty)P(Ca vi ty) (u si ng 13.19).
"(Th er ea de rc an ea si ly ch ec k t ha tt hi se qu at io n d oe si nf ac th ol d i n Fi gu re 13.3.) In th is wa y ,"
t he or ig in al l ar ge t ab le i sd ec om po se d i nt ot hr ee s ma ll er ta bl es . Th eo ri gi na l t ab le h as s ev en
5 We as su me th at th ep at ie nt an dd en ti st ar ed is ti nc ti nd iv id ua ls .
Se ct io n 13.6. Th e Wu mp us Wo rl d Re vi si te d 499
"i nd ep en de nt n um be rs (23=8 e nt ri es i n t he t ab le , b ut t he y m us t s um t o 1, s o 7 a re i nd ep en-"
d en t). Th e s ma ll er t ab le s c on ta in f iv e i nd ep en de nt n um be rs (f or a c on di ti on al p ro ba bi li ty
"d is tr ib ut io ns s uc h a s P(T|C t he re a re t wo ro ws of t wo nu mb er s , a nd e ac h r ow s um s t o 1, s o"
t ha t’s tw oi nd ep en de nt n um be rs ; f or ap ri or di st ri bu ti on l ik e P(C)t he re is on ly on ei nd ep en-
"d en t n um be r). Go in g f ro m s ev en t o f iv e m ig ht n ot s ee m l ik e a m aj or t ri um ph , b ut t he p oi nt"
"i s t ha t , f or n s ym pt om s t ha t a re a ll c on di ti on al ly i nd ep en de nt g iv en Ca vi ty , t he s iz e o f t he"
r ep re se nt at io n g ro ws a s O(n) i ns te ad o f O(2 n). Th at m ea ns t ha t c on di ti on al i nd ep en de nc e
"a ss er ti on s c an a ll ow p ro ba bi li st ic s ys te ms t o s ca le u p ; m or eo ve r , t he y a re m uc h m or e c om-"
"m on ly a va il ab le t ha n a bs ol ut e i nd ep en de nc e a ss er ti on s . Co nc ep tu al ly , Ca vi ty s ep ar at es"
SEPARATION
To ot ha ch e a nd Ca tc h b ec au se i t i s a d ir ec t c au se o f b ot h o f t he m . Th e d ec om po si ti on o f
l ar ge pr ob ab il is ti c d om ai ns in to we ak ly co nn ec te ds ub se ts t hr ou gh co nd it io na l i nd ep en de nc e
i so ne of th em os ti mp or ta nt de ve lo pm en ts i nt he re ce nt hi st or yo f AI .
Th ed en ti st ry ex am pl ei ll us tr at es ac om mo nl yo cc ur ri ng pa tt er ni nw hi ch as in gl ec au se
"d ir ec tl y i nf lu en ce s a nu mb er of ef fe ct s , a ll of wh ic ha re co nd it io na ll y i nd ep en de nt , g iv en th e"
c au se . Th ef ul lj oi nt di st ri bu ti on c an be wr it te na s
(c id:25)
"P(Ca us e ,Ef fe ct ,...,Ef fe ct ) = P(Ca us e) P(Ef fe ct |Ca us e)."
1 n i
i
Su ch a p ro ba bi li ty d is tr ib ut io n i s c al le d a n ai ve Ba ye s m od el—“n ai ve” b ec au se i t i s o ft en
NAIVEBAYES
u se d (a s a s im pl if yi ng a ss um pt io n) i n c as es w he re t he “e ff ec t” v ar ia bl es a re n ot a ct ua ll y
c on di ti on al ly i nd ep en de nt g iv en t he c au se v ar ia bl e . (Th e n ai ve Ba ye s m od el i s s om et im es
"c al le d a Ba ye si an c la ss if ie r , a s om ew ha t c ar el es s u sa ge t ha t h as p ro mp te d t ru e Ba ye si an s"
"t o c al l i t t he i di ot Ba ye s m od el .) In p ra ct ic e , n ai ve Ba ye s s ys te ms c an w or k s ur pr is in gl y"
"w el l , e ve n w he n t he c on di ti on al i nd ep en de nc e a ss um pt io n i s n ot t ru e . Ch ap te r 20 d es cr ib es"
m et ho ds fo rl ea rn in gn ai ve Ba ye sd is tr ib ut io ns f ro mo bs er va ti on s .
13.6 THE WUMPUS WORLD REVISITED
We ca n c om bi ne o f t he i de as i n t hi s c ha pt er t o s ol ve p ro ba bi li st ic r ea so ni ng p ro bl em s i n t he
w um pu sw or ld . (Se e Ch ap te r 7 f or ac om pl et ed es cr ip ti on of th ew um pu sw or ld .) Un ce rt ai nt y
a ri se s i n t he w um pu s w or ld b ec au se t he a ge nt’s s en so rs g iv e o nl y p ar ti al i nf or ma ti on a bo ut
"t he w or ld . Fo r e xa mp le , Fi gu re 13.5 s ho ws a s it ua ti on i n w hi ch e ac h o f t he t hr ee r ea ch ab le"
"s qu ar es—[1,3], [2,2], a nd [3,1]—m ig ht c on ta in a p it . Pu re l og ic al i nf er en ce c an c on cl ud e"
"n ot hi ng a bo ut wh ic hs qu ar e i sm os tl ik el yt ob es af e ,s oa lo gi ca la ge nt mi gh th av et oc ho os e"
r an do ml y . We wi ll se et ha ta pr ob ab il is ti c a ge nt ca nd om uc hb et te rt ha nt he lo gi ca la ge nt .
Ou ra im is to ca lc ul at et he pr ob ab il it yt ha te ac ho ft he th re e s qu ar es co nt ai ns ap it . (Fo r
t hi s e xa mp le w e i gn or e t he w um pu s a nd t he g ol d .) Th e r el ev an t p ro pe rt ie s o f t he w um pu s
"w or ld a re t ha t (1) a p it c au se s b re ez es i n a ll n ei gh bo ri ng s qu ar es , a nd (2) e ac h s qu ar e o th er"
"t ha n [1,1] c on ta in s a p it w it h p ro ba bi li ty 0.2. Th e f ir st s te p i s t o i de nt if y t he s et o f r an do m"
v ar ia bl es w en ee d:
"• As i n t he p ro po si ti on al l og ic c as e , w e w an t o ne Bo ol ea n v ar ia bl e P f or e ac h s qu ar e ,"
i j
"w hi ch is tr ue if fs qu ar e[i ,j]a ct ua ll yc on ta in s a pi t ."
500 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"1,4 2,4 3,4 4,4 1,4 2,4 3,4 4,4"
"1,3 2,3 3,3 4,3 1,3 2,3 3,3 4,3"
OTHER
QUERY
"1,2 2,2 3,2 4,2 1,2 2,2 3,2 4,2"
B
OK
FRONTIER
"1,1 2,1 3,1 4,1 1,1 2,1 3,1 4,1"
KNOWN
B
OK OK
(a) (b)
"Fi gu re 13.5 (a)Af te rf in di ng ab re ez ei nb ot h[1,2]a nd[2,1],t he ag en ti ss tu ck—t he re is"
"n os af ep la ce to ex pl or e . (b)Di vi si on of th es qu ar es in to Kn ow n ,Fr on ti er ,a nd Ot he r ,f or"
"a qu er ya bo ut[1,3]."
"• We al so h av e Bo ol ea n v ar ia bl es B t ha t a re t ru e i ff sq ua re [i ,j] i s b re ez y ; w ei nc lu de"
i j
"t he se va ri ab le s o nl yf or th eo bs er ve ds qu ar es—i n t hi sc as e , [1,1],[1,2],a nd[2,1]."
"Th en ex ts te p i st os pe ci fy t he fu ll jo in t d is tr ib ut io n , P(P ,...,P ,B ,B ,B ). Ap-"
"1,1 4,4 1,1 1,2 2,1"
"p ly in gt he pr od uc tr ul e ,w eh av e"
"P(P ,...,P ,B ,B ,B )="
"1,1 4,4 1,1 1,2 2,1"
"P(B ,B ,B | P ,...,P )P(P ,...,P )."
"1,1 1,2 2,1 1,1 4,4 1,1 4,4"
Th is d ec om po si ti on m ak es i t e as y t o s ee w ha t t he j oi nt p ro ba bi li ty v al ue s s ho ul d b e . Th e
"f ir st t er m i s t he c on di ti on al p ro ba bi li ty d is tr ib ut io n o f a b re ez e c on fi gu ra ti on , g iv en a p it"
c on fi gu ra ti on ; i ts v al ue s a re 1 i f t he b re ez es a re a dj ac en t t o t he p it s a nd 0 o th er wi se . Th e
s ec on d t er m i s t he p ri or p ro ba bi li ty o f a p it c on fi gu ra ti on . Ea ch s qu ar e c on ta in s a p it w it h
"p ro ba bi li ty 0.2,i nd ep en de nt ly o ft he ot he rs qu ar es ; h en ce ,"
"(c id:25)4,4"
"P(P ,...,P )= P(P ). (13.20)"
"1,1 4,4 i ,j"
"i ,j=1,1"
"Fo ra pa rt ic ul ar co nf ig ur at io n w it he xa ct ly n pi ts ,P(P ,...,P"
)=0.2 n×0.816−n .
"1,1 4,4"
"In t he s it ua ti on i n Fi gu re 13.5(a), t he e vi de nc e c on si st s o f t he o bs er ve d b re ez e (o r i ts"
"a bs en ce)i ne ac hs qu ar et ha ti sv is it ed , c om bi ne dw it ht he fa ct th at ea ch su ch sq ua re co nt ai ns"
n op it . We ab br ev ia te th es ef ac ts as b=¬b ∧b ∧b a nd kn ow n=¬p ∧¬p ∧¬p .
"1,1 1,2 2,1 1,1 1,2 2,1"
"We ar ei nt er es te d i na ns we ri ng q ue ri es s uc h a s P(P |k no wn ,b): h ow l ik el y i si t t ha t [1,3]"
"1,3"
"c on ta in s a pi t ,g iv en th eo bs er va ti on s s of ar ?"
"To an sw er th is qu er y , w ec an fo ll ow t he st an da rd a pp ro ac h o f Eq ua ti on (13.9),n am el y ,"
s um mi ng o ve r e nt ri es f ro m t he f ul l j oi nt d is tr ib ut io n . Le t Un kn ow n b e t he s et o f P v ar i-
"i ,j"
Se ct io n 13.6. Th e Wu mp us Wo rl d Re vi si te d 501
"a bl es f or sq ua re s o th er th an t he Kn ow n s qu ar es a nd t he q ue ry s qu ar e [1,3]. Th en , b y Eq ua-"
"t io n(13.9),w eh av e"
(c id:12)
"P(P |k no wn ,b) = α P(P ,u nk no wn ,k no wn ,b)."
"1,3 1,3"
u nk no wn
"Th e f ul l j oi nt p ro ba bi li ti es h av e a lr ea dy b ee n s pe ci fi ed , s o w e a re d on e—t ha t i s , u nl es s w e"
c ar e a bo ut c om pu ta ti on . Th er e a re 12 u nk no wn s qu ar es ; h en ce t he s um ma ti on c on ta in s
"212=4096 t er ms . In ge ne ra l ,t he su mm at io ng ro ws ex po ne nt ia ll yw it ht he nu mb er of sq ua re s ."
"Su re ly , o ne m ig ht a sk , a re n’t t he o th er s qu ar es i rr el ev an t ? Ho w c ou ld [4,4] a ff ec t"
"w he th er [1,3] h as a p it ? In de ed , t hi s i nt ui ti on i s c or re ct . Le t Fr on ti er b e t he p it v ar ia bl es"
"(o th er t ha n t he q ue ry v ar ia bl e) t ha t a re a dj ac en t t o v is it ed s qu ar es , i n t hi s c as e j us t [2,2] a nd"
"[3,1]. Al so ,l et Ot he r b et he pi tv ar ia bl es fo rt he ot he ru nk no wn sq ua re s ;i nt hi sc as e ,t he re ar e"
"10 o th er sq ua re s ,a ss ho wn in Fi gu re 13.5(b). Th ek ey in si gh t i st ha tt he ob se rv ed br ee ze sa re"
"c on di ti on al ly i nd ep en de nt o f t he o th er v ar ia bl es , g iv en t he k no wn , f ro nt ie r , a nd q ue ry v ar i-"
"a bl es . To us e t he i ns ig ht , w em an ip ul at e t he q ue ry f or mu la i nt o a fo rm i nw hi ch t he b re ez es"
"a re co nd it io ne d o na ll th eo th er va ri ab le s , a nd th en we ap pl y c on di ti on al i nd ep en de nc e:"
"P(P |k no wn ,b)"
"1,3 (c id:12)"
"= α P(P ,k no wn ,b ,u nk no wn) (b y Eq ua ti on(13.9))"
"1,3"
u n(c id:12)k no wn
"= α P(b|P ,k no wn ,u nk no wn)P(P ,k no wn ,u nk no wn)"
"1,3 1,3"
u nk no wn
(b yt he pr od uc tr ul e)
(c id:12) (c id:12)
"= α P(b|k no wn ,P ,f ro nt ie r ,o th er)P(P ,k no wn ,f ro nt ie r ,o th er)"
"1,3 1,3"
f ro nt ie ro th er
(c id:12) (c id:12)
"= α P(b|k no wn ,P ,f ro nt ie r)P(P ,k no wn ,f ro nt ie r ,o th er),"
"1,3 1,3"
f ro nt ie ro th er
"w he re th e f in al st ep us es c on di ti on al i nd ep en de nc e: b is in de pe nd en t o fo th er g iv en kn ow n ,"
"P , a nd f ro nt ie r . No w , t he f ir st t er m i n t hi s e xp re ss io n d oe s n ot d ep en d o n t he Ot he r"
"1,3"
"v ar ia bl es , s ow ec an mo ve th es um ma ti on in wa rd:"
"P(P |k no wn ,b)"
"1,3 (c id:12) (c id:12)"
"= α P(b|k no wn ,P ,f ro nt ie r) P(P ,k no wn ,f ro nt ie r ,o th er)."
"1,3 1,3"
f ro nt ie r o th er
"By i nd ep en de nc e , a s i n Eq ua ti on (13.20), t he p ri or t er m c an b e f ac to re d , a nd t he n t he t er ms"
c an be re or de re d:
"P(P |k no wn ,b)"
"1,3 (c id:12) (c id:12)"
"= α P(b|k no wn ,P ,f ro nt ie r) P(P )P(k no wn)P(f ro nt ie r)P(o th er)"
"1,3 1,3"
f ro nt ie r o th er
(c id:12) (c id:12)
"= αP(k no wn)P(P ) P(b|k no wn ,P ,f ro nt ie r)P(f ro nt ie r) P(o th er)"
"1,3 1,3"
f ro nt ie r o th er
(c id:12)
"= α(c id:2) P(P ) P(b|k no wn ,P ,f ro nt ie r)P(f ro nt ie r),"
"1,3 1,3"
f ro nt ie r
502 Ch ap te r 13. Qu an ti fy in g Un ce rt ai nt y
"1,3 1,3 1,3 1,3 1,3"
"1,2 2,2 1,2 2,2 1,2 2,2 1,2 2,2 1,2 2,2"
B B B B B
OK OK OK OK OK
"1,1 2,1 3,1 1,1 2,1 3,1 1,1 2,1 3,1 1,1 2,1 3,1 1,1 2,1 3,1"
B B B B B
OK OK OK OK OK OK OK OK OK OK
0.2 x 0.2 = 0.04 0.2 x 0.8 = 0.16 0.8 x 0.2 = 0.16 0.2 x 0.2 = 0.04 0.2 x 0.8 = 0.16
(a) (b)
"Fi gu re 13.6 Co ns is te nt m od el s f or t he f ro nt ie r v ar ia bl es P 2,2 a nd P 3,1, s ho wi ng"
"P(f ro nt ie r) f or e ac h m od el: (a) t hr ee m od el s w it h P 1,3=t ru e s ho wi ng t wo o r t hr ee p it s ,"
"a nd(b)t wo mo de ls wi th P 1,3=f al se s ho wi ng on eo rt wo pi ts ."
w he re t he l as t s te p f ol ds P(k no wn) i nt o t he n or ma li zi ng c on st an t a nd u se s t he f ac t t ha t
(c id:2)
P(o th er)e qu al s 1.
o th er
"No w , t he re a re j us t f ou r t er ms i n t he s um ma ti on o ve r t he f ro nt ie r v ar ia bl es P a nd"
"2,2"
P . Th e u se o f i nd ep en de nc e a nd c on di ti on al i nd ep en de nc e h as c om pl et el y e li mi na te d t he
"3,1"
o th er sq ua re sf ro mc on si de ra ti on .
"No ti ce th at th ee xp re ss io n P(b|k no wn ,P ,f ro nt ie r)i s 1 w he nt he fr on ti er is co ns is-"
"1,3"
"t en tw it ht he br ee ze ob se rv at io ns , a nd 0 o th er wi se . Th us ,f or ea ch va lu eo f P ,w es um ov er"
"1,3"
t he l og ic al m od el s f or t he f ro nt ie r v ar ia bl es t ha t a re c on si st en t w it h t he k no wn f ac ts . (Co m-
p ar e w it h t he e nu me ra ti on o ve r m od el s i n Fi gu re 7.5 o n p ag e 241.) Th e m od el s a nd t he ir
a ss oc ia te d p ri or pr ob ab il it ie s—P(f ro nt ie r)—a re sh ow ni n Fi gu re 13.6. We ha ve
"P(P |k no wn ,b) = α(c id:2)(c id:16)0.2(0.04+0.16+0.16), 0.8(0.04+0.16)(c id:17)≈ (c id:16)0.31,0.69(c id:17)."
"1,3"
"Th at is ,[1,3](a nd[3,1]b ys ym me tr y)c on ta in sa pi tw it hr ou gh ly 31%p ro ba bi li ty . As im il ar"
"c al cu la ti on , w hi ch t he r ea de r m ig ht w is h t o p er fo rm , s ho ws t ha t [2,2] c on ta in s a p it w it h"
"r ou gh ly 86% p ro ba bi li ty . Th e w um pu s a ge nt s ho ul d d ef in it el y a vo id [2,2]! No te t ha t o ur"
"l og ic al ag en tf ro m Ch ap te r 7 d id no tk no wt ha t[2,2]w as wo rs e t ha nt he ot he rs qu ar es . Lo gi c"
"c an te ll us th at it is un kn ow nw he th er th er ei sa pi ti n[2,2],b ut we ne ed pr ob ab il it y t ot el lu s"
h ow li ke ly it is .
Wh at t hi s s ec ti on h as s ho wn i s t ha t e ve n s ee mi ng ly c om pl ic at ed p ro bl em s c an b e f or-
m ul at ed p re ci se ly i n p ro ba bi li ty t he or y a nd s ol ve d w it h s im pl e a lg or it hm s . To g et e ff ic ie nt
"s ol ut io ns , i nd ep en de nc e a nd c on di ti on al i nd ep en de nc e r el at io ns hi ps c an b e u se d t o s im pl if y"
t he s um ma ti on s r eq ui re d . Th es e r el at io ns hi ps o ft en c or re sp on d t o o ur na tu ra l u nd er st an di ng
"o fh ow th ep ro bl em sh ou ld be de co mp os ed . In th en ex tc ha pt er , w ed ev el op fo rm al re pr es en-"
t at io ns f or s uc h r el at io ns hi ps a s w el l a s a lg or it hm s t ha t o pe ra te o n t ho se r ep re se nt at io ns t o
p er fo rm p ro ba bi li st ic i nf er en ce e ff ic ie nt ly .
14
PROBABILISTIC
REASONING
In w hi ch w e e xp la in h ow t o b ui ld n et wo rk m od el s t o r ea so n u nd er u nc er ta in ty
a cc or di ng t ot he la ws of pr ob ab il it y t he or y .
Ch ap te r 13 i nt ro du ce d t he b as ic e le me nt s o f p ro ba bi li ty t he or y a nd n ot ed t he i mp or ta nc e o f
i nd ep en de nc e a nd c on di ti on al i nd ep en de nc e r el at io ns hi ps i n s im pl if yi ng p ro ba bi li st ic r ep re-
s en ta ti on s o ft he w or ld . Th is ch ap te r i nt ro du ce s a sy st em at ic w ay to re pr es en t s uc h r el at io n-
s hi ps e xp li ci tl y i n t he f or m o f Ba ye si an n et wo rk s . We d ef in e t he s yn ta x a nd s em an ti cs o f
t he se n et wo rk s a nd s ho w h ow t he y c an b e u se d t o c ap tu re u nc er ta in k no wl ed ge i n a n at u-
"r al a nd e ff ic ie nt w ay . We t he n s ho w h ow p ro ba bi li st ic i nf er en ce , a lt ho ug h c om pu ta ti on al ly"
"i nt ra ct ab le i n t he w or st c as e , c an b e d on e e ff ic ie nt ly i n m an y p ra ct ic al s it ua ti on s . We a ls o"
d es cr ib e a v ar ie ty o f a pp ro xi ma te i nf er en ce a lg or it hm s t ha t a re o ft en a pp li ca bl e w he n e xa ct
i nf er en ce is in fe as ib le . We ex pl or ew ay si nw hi ch pr ob ab il it yt he or yc an be ap pl ie dt ow or ld s
"w it ho bj ec ts an dr el at io ns—t ha ti s ,t of ir st-o rd er ,a so pp os ed to pr op os it io na l ,r ep re se nt at io ns ."
"Fi na ll y ,w es ur ve ya lt er na ti ve a pp ro ac he s t ou nc er ta in r ea so ni ng ."
14.1 REPRESENTING KNOWLEDGE IN AN UNCERTAIN DOMAIN
"In Ch ap te r 13,w es aw th at th ef ul lj oi nt pr ob ab il it yd is tr ib ut io nc an an sw er an yq ue st io na bo ut"
"t he do ma in ,b ut ca nb ec om ei nt ra ct ab ly la rg ea st he nu mb er of va ri ab le sg ro ws . Fu rt he rm or e ,"
s pe ci fy in g p ro ba bi li ti es f or po ss ib le w or ld so ne by on ei su nn at ur al a nd te di ou s .
We al so sa wt ha ti nd ep en de nc ea nd co nd it io na li nd ep en de nc er el at io ns hi ps am on gv ar i-
a bl es ca ng re at ly re du ce th en um be ro fp ro ba bi li ti es th at ne ed to be sp ec if ie di no rd er to de fi ne
t he fu ll jo in td is tr ib ut io n . Th is se ct io ni nt ro du ce sa da ta st ru ct ur ec al le da Ba ye si an ne tw or k 1
BAYESIANNETWORK
t or ep re se nt t he d ep en de nc ie s a mo ng v ar ia bl es . Ba ye si an n et wo rk s c an r ep re se nt e ss en ti al ly
a ny fu ll jo in tp ro ba bi li ty d is tr ib ut io n a nd in ma ny ca se sc an do so ve ry co nc is el y .
"1 Th is is th em os tc om mo nn am e ,b ut th er ea re ma ny sy no ny ms ,i nc lu di ng be li ef ne tw or k ,p ro ba bi li st ic ne t-"
"w or k , c au sa l n et wo rk , a nd k no wl ed ge m ap . In s ta ti st ic s , t he t er m g ra ph ic al m od el r ef er s t o a s om ew ha t"
b ro ad er cl as st ha ti nc lu de s Ba ye si an ne tw or ks .An ex te ns io no f Ba ye si an ne tw or ks ca ll ed ad ec is io nn et wo rk or
i nf lu en ce di ag ra mi sc ov er ed in Ch ap te r 16.
510
Se ct io n 14.1. Re pr es en ti ng Kn ow le dg ei na n Un ce rt ai n Do ma in 511
ABa ye si an ne tw or ki sa di re ct ed g ra ph i nw hi ch ea ch no de is an no ta te d w it hq ua nt it a-
t iv ep ro ba bi li ty i nf or ma ti on . Th ef ul ls pe ci fi ca ti on i sa sf ol lo ws:
"1. Ea ch no de co rr es po nd s t oa ra nd om va ri ab le , w hi ch ma yb ed is cr et e o rc on ti nu ou s ."
2. As et of di re ct ed li nk so ra rr ow sc on ne ct sp ai rs of no de s . If th er ei sa na rr ow fr om no de
"X t on od e Y ,X i ss ai dt ob ea pa re nt of Y . Th eg ra ph ha sn od ir ec te dc yc le s(a nd he nc e"
"i sa di re ct ed a cy cl ic gr ap h , o r DAG ."
3. Ea ch no de X h as ac on di ti on al pr ob ab il it yd is tr ib ut io n P(X |Pa re nt s(X ))t ha tq ua n-
i i i
t if ie st he ef fe ct of th ep ar en ts on th en od e .
Th et op ol og y o ft he ne tw or k—t he s et of no de sa nd li nk s—s pe ci fi es t he co nd it io na l i nd ep en-
"d en ce r el at io ns hi ps t ha t h ol d i n t he d om ai n , i n a w ay t ha t w il l b e m ad e p re ci se s ho rt ly . Th e"
"i nt ui ti ve m ea ni ng o fa na rr ow i st yp ic al ly t ha t X h as ad ir ec t i nf lu en ce o n Y ,w hi ch su gg es ts"
t ha tc au se ss ho ul db ep ar en ts of ef fe ct s . It is us ua ll ye as yf or ad om ai ne xp er tt od ec id ew ha t
"d ir ec ti nf lu en ce se xi st in th ed om ai n—m uc he as ie r ,i nf ac t ,t ha na ct ua ll ys pe ci fy in gt he pr ob-"
"a bi li ti es t he ms el ve s . On ce t he t op ol og y o f t he Ba ye si an n et wo rk i s l ai d o ut , w e n ee d o nl y"
"s pe ci fy a c on di ti on al p ro ba bi li ty d is tr ib ut io n f or e ac h v ar ia bl e , g iv en i ts p ar en ts . We w il l"
s ee t ha t t he c om bi na ti on o f t he t op ol og y a nd t he c on di ti on al d is tr ib ut io ns s uf fi ce s t os pe ci fy
(i mp li ci tl y) t he fu ll jo in td is tr ib ut io n f or al lt he va ri ab le s .
"Re ca ll th es im pl ew or ld de sc ri be di n Ch ap te r 13,c on si st in g o ft he va ri ab le s To ot ha ch e ,"
"Ca vi ty , Ca tc h , a nd We at he r . We a rg ue d t ha t We at he r i s i nd ep en de nt o f t he o th er v ar i-"
"a bl es ; f ur th er mo re , w e a rg ue d t ha t To ot ha ch e a nd Ca tc h a re c on di ti on al ly i nd ep en de nt ,"
g iv en Ca vi ty . Th es e r el at io ns hi ps a re r ep re se nt ed b y t he Ba ye si an n et wo rk s tr uc tu re s ho wn
"i n Fi gu re 14.1. Fo rm al ly , t he c on di ti on al i nd ep en de nc e o f To ot ha ch e a nd Ca tc h , g iv en"
"Ca vi ty ,i si nd ic at ed b yt he ab se nc e o fa li nk be tw ee n To ot ha ch e a nd Ca tc h . In tu it iv el y , t he"
"n et wo rk r ep re se nt s t he f ac t t ha t Ca vi ty i s a d ir ec t c au se o f To ot ha ch e a nd Ca tc h , w he re as"
n od ir ec tc au sa lr el at io ns hi p e xi st sb et we en To ot ha ch e a nd Ca tc h .
"No w c on si de r t he f ol lo wi ng e xa mp le , w hi ch i s j us t a l it tl e m or e c om pl ex . Yo u h av e"
"a n ew b ur gl ar a la rm i ns ta ll ed a t h om e . It i s f ai rl y r el ia bl e a t d et ec ti ng a b ur gl ar y , b ut a ls o"
"r es po nd s o n o cc as io n t o m in or e ar th qu ak es . (Th is e xa mp le i s d ue t o Ju de a Pe ar l , a r es id en t"
"o f Lo s An ge le s—h en ce th ea cu te in te re st in ea rt hq ua ke s .) Yo ua ls oh av et wo ne ig hb or s ,Jo hn"
"a nd Ma ry , w ho h av e p ro mi se d t o c al l y ou a t w or k w he n t he y h ea r t he a la rm . Jo hn n ea rl y"
"a lw ay s c al ls w he n h e h ea rs t he a la rm , b ut s om et im es c on fu se s t he t el ep ho ne r in gi ng w it h"
Ca vi ty
We at he r
To ot ha ch e Ca tc h
Fi gu re 14.1 A s im pl e Ba ye si an n et wo rk i n w hi ch We at he r i s i nd ep en de nt of t he o th er
"t hr ee va ri ab le sa nd To ot ha ch e a nd Ca tc h a re co nd it io na ll yi nd ep en de nt ,g iv en Ca vi ty ."
512 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
P(B) P(E)
Bu rg la ry Ea rt hq ua ke
.001 .002
B E P(A)
t t .95
Al ar m
t f .94
f t .29
f f .001
A P(J) A P(M)
Jo hn Ca ll s Ma ry Ca ll s
t .90 t .70
f .05 f .01
"Fi gu re 14.2 At yp ic al Ba ye si an ne tw or k ,s ho wi ng bo th th et op ol og ya nd th ec on di ti on al"
"p ro ba bi li ty ta bl es(CPTs). In th e CPTs , t he le tt er s B , E , A , J , a nd M s ta nd fo r Bu rg la ry ,"
"Ea rt hq ua ke ,Al ar m ,Jo hn Ca ll s ,a nd Ma ry Ca ll s ,r es pe ct iv el y ."
"t he a la rm a nd c al ls t he n , t oo . Ma ry , o n t he o th er h an d , l ik es r at he r l ou d m us ic a nd o ft en"
"m is se s t he al ar m a lt og et he r . Gi ve nt he e vi de nc e o fw ho ha so r h as no t c al le d , w ew ou ld li ke"
t oe st im at et he pr ob ab il it y o fa bu rg la ry .
A Ba ye si an n et wo rk f or t hi s d om ai n a pp ea rs i n Fi gu re 14.2. Th e n et wo rk s tr uc tu re
"s ho ws t ha t b ur gl ar y a nd e ar th qu ak es d ir ec tl y a ff ec t t he p ro ba bi li ty o f t he a la rm’s g oi ng o ff ,"
b ut w he th er Jo hn a nd Ma ry c al l d ep en ds o nl y o n t he a la rm . Th e n et wo rk t hu s r ep re se nt s
"o ur as su mp ti on s t ha tt he yd on ot pe rc ei ve b ur gl ar ie s d ir ec tl y , t he yd on ot no ti ce m in or ea rt h-"
"q ua ke s , a nd th ey do no tc on fe rb ef or ec al li ng ."
Th e c on di ti on al d is tr ib ut io ns i n Fi gu re 14.2 a re s ho wn a s a c on di ti on al p ro ba bi li ty
"CONDITIONAL t ab le , o r CPT . (Th is f or m o f t ab le c an b e u se d f or d is cr et e v ar ia bl es ; o th er r ep re se nt at io ns ,"
PROBABILITYTABLE
"i nc lu di ng t ho se s ui ta bl e f or c on ti nu ou s v ar ia bl es , a re d es cr ib ed i n Se ct io n 14.2.) Ea ch r ow"
i n a CPT c on ta in s t he c on di ti on al p ro ba bi li ty o f e ac h n od e v al ue f or a c on di ti on in g c as e .
CONDITIONINGCASE
A c on di ti on in g c as e i s j us t a p os si bl e c om bi na ti on o f v al ue s f or t he p ar en t n od es—a m in ia-
"t ur e p os si bl e w or ld , i f y ou l ik e . Ea ch r ow m us t s um t o 1, b ec au se t he e nt ri es r ep re se nt a n"
"e xh au st iv e s et of ca se sf or th ev ar ia bl e . Fo r Bo ol ea nv ar ia bl es , o nc ey ou kn ow th at th ep ro b-"
"a bi li ty of at ru ev al ue is p ,t he pr ob ab il it y o ff al se mu st be 1–p ,s ow eo ft en om it th es ec on d"
"n um be r , a si n Fi gu re 14.2. In ge ne ra l , a ta bl e f or a Bo ol ea n v ar ia bl e w it h k Bo ol ea n p ar en ts"
"c on ta in s 2 k i nd ep en de nt ly sp ec if ia bl ep ro ba bi li ti es . An od ew it hn op ar en ts ha so nl yo ne ro w ,"
r ep re se nt in g t he pr io rp ro ba bi li ti es o fe ac hp os si bl e v al ue of th ev ar ia bl e .
No ti ce th at th en et wo rk do es no th av en od es co rr es po nd in gt o Ma ry’s cu rr en tl yl is te ni ng
t ol ou d m us ic or to th et el ep ho ne r in gi ng a nd co nf us in g Jo hn . Th es ef ac to rs a re su mm ar iz ed
i nt he un ce rt ai nt y a ss oc ia te d w it ht he li nk s f ro m Al ar m t o Jo hn Ca ll s a nd Ma ry Ca ll s . Th is
s ho ws bo th la zi ne ss an di gn or an ce in op er at io n: i tw ou ld be al ot of wo rk to fi nd ou tw hy th os e
"f ac to rs wo ul db em or eo rl es sl ik el yi na ny pa rt ic ul ar ca se ,a nd we ha ve no re as on ab le wa yt o"
o bt ai n t he r el ev an t i nf or ma ti on a ny wa y . Th e p ro ba bi li ti es a ct ua ll y s um ma ri ze a p ot en ti al ly
Se ct io n 14.2. Th e Se ma nt ic so f Ba ye si an Ne tw or ks 513
"i nf in it e s et o f c ir cu ms ta nc es i n w hi ch t he a la rm m ig ht f ai l t o g o o ff (h ig h h um id it y , p ow er"
"f ai lu re , d ea d b at te ry , c ut w ir es , a d ea d m ou se s tu ck i ns id e t he b el l , e tc .) o r Jo hn o r Ma ry"
"m ig ht fa il to ca ll an dr ep or ti t(o ut to lu nc h ,o nv ac at io n ,t em po ra ri ly de af ,p as si ng he li co pt er ,"
"e tc .). In th is wa y ,a sm al la ge nt ca nc op ew it ha ve ry la rg ew or ld ,a tl ea st ap pr ox im at el y . Th e"
d eg re eo fa pp ro xi ma ti on c an be im pr ov ed if we in tr od uc e a dd it io na l r el ev an ti nf or ma ti on .
14.2 THE SEMANTICS OF BAYESIAN NETWORKS
"Th e p re vi ou s s ec ti on d es cr ib ed w ha t a n et wo rk i s , b ut n ot w ha t i t m ea ns . Th er e a re t wo"
w ay s i n w hi ch o ne c an u nd er st an d t he s em an ti cs o f Ba ye si an n et wo rk s . Th e f ir st i s t o s ee
t he n et wo rk a s a r ep re se nt at io n o f t he j oi nt p ro ba bi li ty d is tr ib ut io n . Th e s ec on d i s t o v ie w
i ta s a n e nc od in g o fa co ll ec ti on o fc on di ti on al i nd ep en de nc e s ta te me nt s . Th et wo vi ew s a re
"e qu iv al en t , b ut t he f ir st t ur ns o ut t o b e h el pf ul i n u nd er st an di ng h ow t o c on st ru ct n et wo rk s ,"
w he re as th es ec on d i sh el pf ul in de si gn in g i nf er en ce p ro ce du re s .
14.2.1 Re pr es en ti ng t he f ul l j oi nt di st ri bu ti on
"Vi ew ed a s a p ie ce o f “s yn ta x ,” a Ba ye si an n et wo rk i s a d ir ec te d a cy cl ic g ra ph w it h s om e"
n um er ic p ar am et er s a tt ac he d t o e ac h n od e . On e w ay t o d ef in e w ha t t he n et wo rk m ea ns—i ts
s em an ti cs—i st od ef in et he wa yi nw hi ch it re pr es en ts as pe ci fi cj oi nt di st ri bu ti on o ve ra ll th e
"v ar ia bl es . To do th is , w ef ir st ne ed to re tr ac t (t em po ra ri ly) w ha tw es ai de ar li er ab ou tt he pa-"
r am et er sa ss oc ia te d w it he ac hn od e . We sa id th at th os ep ar am et er sc or re sp on d t oc on di ti on al
"p ro ba bi li ti es P(X |Pa re nt s(X )); t hi s i s a tr ue s ta te me nt , b ut u nt il w ea ss ig n s em an ti cs t o"
i i
"t he ne tw or ka sa wh ol e ,w es ho ul d t hi nk of th em ju st as nu mb er s θ(X |Pa re nt s(X ))."
i i
Ag en er ic e nt ry i nt he jo in td is tr ib ut io n i st he pr ob ab il it y o fa co nj un ct io n o fp ar ti cu la r
"a ss ig nm en ts t o e ac h v ar ia bl e , s uc h a s P(X =x ∧ ... ∧ X =x ). We u se t he n ot at io n"
1 1 n n
"P(x ,...,x )a sa na bb re vi at io n f or th is . Th ev al ue of th is en tr yi sg iv en by th ef or mu la"
1 n
(c id:25)n
"P(x ,...,x ) = θ(x |p ar en ts(X )), (14.1)"
1 n i i
i=1
"w he re p ar en ts(X ) d en ot es t he v al ue s o f Pa re nt s(X ) t ha t a pp ea r i n x ,...,x . Th us ,"
i i 1 n
e ac h e nt ry i n t he j oi nt d is tr ib ut io n i s r ep re se nt ed b y t he p ro du ct o f t he a pp ro pr ia te e le me nt s
o ft he co nd it io na l p ro ba bi li ty t ab le s(CPTs)i nt he Ba ye si an ne tw or k .
"Fr om t hi s d ef in it io n , i t i s e as y t o p ro ve t ha t t he p ar am et er s θ(X |Pa re nt s(X )) a re"
i i
e xa ct ly t he c on di ti on al p ro ba bi li ti es P(X |Pa re nt s(X )) i mp li ed b y t he j oi nt d is tr ib ut io n
i i
"(s ee Ex er ci se 14.2). He nc e ,w ec an re wr it e Eq ua ti on(14.1)a s"
(c id:25)n
"P(x ,...,x ) = P(x |p ar en ts(X )). (14.2)"
1 n i i
i=1
"In ot he rw or ds , t he ta bl es w eh av eb ee n c al li ng c on di ti on al p ro ba bi li ty t ab le s r ea ll y a re co n-"
d it io na l p ro ba bi li ty t ab le sa cc or di ng t ot he se ma nt ic sd ef in ed in Eq ua ti on(14.1).
"To il lu st ra te th is ,w ec an ca lc ul at et he pr ob ab il it yt ha tt he al ar mh as so un de d ,b ut ne it he r"
"a bu rg la ry n or an ea rt hq ua ke h as oc cu rr ed , a nd bo th Jo hn an d Ma ry ca ll . We mu lt ip ly en tr ie s"
514 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
f ro mt he jo in td is tr ib ut io n (u si ng si ng le-l et te r n am es fo r t he va ri ab le s):
"P(j ,m ,a ,¬b ,¬e) = P(j|a)P(m|a)P(a|¬b∧¬e)P(¬b)P(¬e)"
= 0.90×0.70×0.001×0.999×0.998 = 0.000628 .
Se ct io n 13.3 e xp la in ed t ha t t he f ul l j oi nt d is tr ib ut io n c an b e u se d t o a ns we r a ny q ue ry a bo ut
"t he do ma in . If a Ba ye si an ne tw or ki sa re pr es en ta ti on o ft he jo in td is tr ib ut io n , t he ni tt oo ca n"
"b eu se dt oa ns we ra ny qu er y , b ys um mi ng al lt he re le va nt jo in t e nt ri es . Se ct io n 14.4 e xp la in s"
"h ow to do th is ,b ut al so de sc ri be s m et ho ds th at ar em uc hm or ee ff ic ie nt ."
Am et ho df or co ns tr uc ti ng Ba ye si an ne tw or ks
Eq ua ti on (14.2) d ef in es w ha t a g iv en Ba ye si an n et wo rk m ea ns . Th e n ex t s te p i s t o e xp la in
h ow t o c on st ru ct a Ba ye si an n et wo rk i n s uc h a w ay t ha t t he r es ul ti ng j oi nt d is tr ib ut io n i s a
g oo dr ep re se nt at io no fa gi ve nd om ai n . We wi ll no ws ho wt ha t Eq ua ti on(14.2)i mp li es ce rt ai n
c on di ti on al i nd ep en de nc e r el at io ns hi ps t ha t c an b e u se d t o g ui de t he k no wl ed ge e ng in ee r i n
"c on st ru ct in g t he to po lo gy of th en et wo rk . Fi rs t ,w er ew ri te t he en tr ie si nt he jo in td is tr ib ut io n"
"i nt er ms of co nd it io na l p ro ba bi li ty , u si ng th ep ro du ct r ul e (s ee pa ge 486):"
"P(x 1,...,x n) = P(x n|x n−1,...,x 1)P(x n−1,...,x 1)."
"Th en we re pe at th ep ro ce ss ,r ed uc in ge ac hc on ju nc ti ve pr ob ab il it yt oa co nd it io na lp ro ba bi li ty"
a nd as ma ll er co nj un ct io n . We en du pw it ho ne bi gp ro du ct:
"P(x 1,...,x n) = P(x n|x n−1,...,x 1)P(x n−1|x n−2,...,x 1) ··· P(x 2|x 1)P(x 1)"
(c id:25)n
"= P(x i|x i−1,...,x 1)."
i=1
Th is id en ti ty i sc al le d t he ch ai nr ul e . It ho ld s f or an ys et of ra nd om v ar ia bl es . Co mp ar in gi t
CHAINRULE
"w it h Eq ua ti on(14.2),w es ee th at th es pe ci fi ca ti on of th ej oi nt di st ri bu ti on i se qu iv al en tt ot he"
"g en er al as se rt io n t ha t ,f or ev er yv ar ia bl e X i nt he ne tw or k ,"
i
"P(X i|X i−1,...,X 1)= P(X i|Pa re nt s(X i)), (14.3)"
"p ro vi de dt ha t Pa re nt s(X i)⊆ {X i−1,...,X 1}. Th is la st co nd it io ni ss at is fi ed by nu mb er in g"
t he no de si na wa yt ha ti sc on si st en t w it ht he pa rt ia lo rd er im pl ic it in th eg ra ph st ru ct ur e .
Wh at Eq ua ti on (14.3) s ay s i s t ha t t he Ba ye si an n et wo rk i s a c or re ct r ep re se nt at io n o f
t he d om ai n o nl y i f e ac h n od e i s c on di ti on al ly i nd ep en de nt o f i ts o th er p re de ce ss or s i n t he
"n od eo rd er in g , g iv en it sp ar en ts . We ca ns at is fy th is co nd it io n w it ht hi sm et ho do lo gy:"
1. No de s: Fi rs td et er mi ne th es et of va ri ab le s t ha ta re re qu ir ed t om od el th ed om ai n . No w
"o rd er th em ,{X ,...,X }. An yo rd er wi ll wo rk ,b ut th er es ul ti ng ne tw or kw il lb em or e"
1 n
c om pa ct if th ev ar ia bl es a re or de re ds uc ht ha tc au se sp re ce de ef fe ct s .
2. Li nk s: Fo ri=1 t on do:
"• Ch oo se , f ro m X 1,...,X i−1, a m in im al s et o f p ar en ts f or X i , s uc h t ha t Eq ua-"
t io n(14.3)i ss at is fi ed .
• Fo re ac hp ar en ti ns er ta li nk fr om th ep ar en tt o X .
i
"• CPTs: Wr it ed ow nt he co nd it io na l p ro ba bi li ty t ab le , P(X |Pa re nt s(X ))."
i i
Se ct io n 14.2. Th e Se ma nt ic so f Ba ye si an Ne tw or ks 515
"In tu it iv el y , t he p ar en ts o f n od e X i s ho ul d c on ta in a ll t ho se n od es i n X 1, ..., X i−1 t ha t"
"d ir ec tl y i nf lu en ce X . Fo r e xa mp le , s up po se w e h av e c om pl et ed t he n et wo rk i n Fi gu re 14.2"
i
e xc ep tf or th ec ho ic eo fp ar en ts fo r Ma ry Ca ll s . Ma ry Ca ll s i sc er ta in ly in fl ue nc ed by wh et he r
"t he re is a Bu rg la ry o ra n Ea rt hq ua ke ,b ut no td ir ec tl yi nf lu en ce d . In tu it iv el y , o ur kn ow le dg e"
o f t he d om ai n t el ls u s t ha t t he se e ve nt s i nf lu en ce Ma ry’s c al li ng b eh av io r o nl y t hr ou gh t he ir
"e ff ec to nt he al ar m . Al so ,g iv en th es ta te of th ea la rm ,w he th er Jo hn ca ll sh as no in fl ue nc eo n"
"Ma ry’s c al li ng . Fo rm al ly s pe ak in g , w e b el ie ve t ha t t he f ol lo wi ng c on di ti on al i nd ep en de nc e"
s ta te me nt ho ld s:
"P(Ma ry Ca ll s|Jo hn Ca ll s ,Al ar m ,Ea rt hq ua ke ,Bu rg la ry)=P(Ma ry Ca ll s|Al ar m)."
"Th us ,Al ar m w il lb et he on ly pa re nt no de fo r Ma ry Ca ll s ."
"Be ca us ee ac hn od ei sc on ne ct ed on ly to ea rl ie rn od es ,t hi sc on st ru ct io n m et ho dg ua ra n-"
t ee st ha tt he ne tw or ki sa cy cl ic . An ot he ri mp or ta nt pr op er ty of Ba ye si an ne tw or ks is th at th ey
"c on ta in n o r ed un da nt p ro ba bi li ty v al ue s . If t he re i s n o r ed un da nc y , t he n t he re i s n o c ha nc e"
f or i nc on si st en cy: i t i s i mp os si bl e f or t he k no wl ed ge e ng in ee r o r d om ai n e xp er t t o c re at e a
Ba ye si an ne tw or kt ha tv io la te st he ax io ms of pr ob ab il it y .
Co mp ac tn es sa nd no de or de ri ng
"As we ll as be in ga co mp le te an dn on re du nd an t r ep re se nt at io n o ft he do ma in ,a Ba ye si an ne t-"
w or k c an o ft en b e f ar m or e c om pa ct t ha n t he f ul l j oi nt d is tr ib ut io n . Th is p ro pe rt y i s w ha t
m ak es it fe as ib le t oh an dl e d om ai ns w it hm an yv ar ia bl es . Th ec om pa ct ne ss o f Ba ye si an n et-
LOCALLY w or ks is an ex am pl eo fa ge ne ra lp ro pe rt yo fl oc al ly st ru ct ur ed(a ls oc al le ds pa rs e)s ys te ms .
STRUCTURED
"In a l oc al ly s tr uc tu re d s ys te m , e ac h s ub co mp on en t i nt er ac ts d ir ec tl y w it h o nl y a b ou nd ed"
SPARSE
"n um be r o fo th er c om po ne nt s , r eg ar dl es s o ft he t ot al n um be r o f c om po ne nt s . Lo ca l s tr uc tu re"
i su su al ly a ss oc ia te d w it hl in ea rr at he rt ha ne xp on en ti al g ro wt hi nc om pl ex it y . In th ec as eo f
"Ba ye si an n et wo rk s , i t i s r ea so na bl e t o s up po se t ha t i n m os t d om ai ns e ac h r an do m v ar ia bl e"
"i s d ir ec tl y i nf lu en ce d b y a t m os t k o th er s , f or s om e c on st an t k . If w e a ss um e n Bo ol ea n"
"v ar ia bl es f or s im pl ic it y , t he n t he a mo un t o f i nf or ma ti on n ee de d t o s pe ci fy e ac h c on di ti on al"
"p ro ba bi li ty t ab le w il l b e a t m os t 2 k n um be rs , a nd t he c om pl et e n et wo rk c an b e s pe ci fi ed b y"
"n 2 k n um be rs . In co nt ra st , t he jo in td is tr ib ut io n c on ta in s 2 n n um be rs . To ma ke th is co nc re te ,"
"s up po se w e h av e n=30 n od es , e ac h w it h f iv e p ar en ts (k=5). Th en t he Ba ye si an n et wo rk"
"r eq ui re s 960 n um be rs ,b ut th ef ul lj oi nt di st ri bu ti on r eq ui re so ve ra bi ll io n ."
"Th er e a re d om ai ns i n w hi ch e ac h v ar ia bl e c an b e i nf lu en ce d d ir ec tl y b y a ll t he o th er s ,"
s ot ha tt he ne tw or k i sf ul ly co nn ec te d . Th en sp ec if yi ng t he co nd it io na l p ro ba bi li ty t ab le s r e-
"q ui re st he sa me am ou nt of in fo rm at io na ss pe ci fy in g t he jo in td is tr ib ut io n . In so me do ma in s ,"
t he re w il l b e s li gh t d ep en de nc ie s t ha t s ho ul d s tr ic tl y b e i nc lu de d b y a dd in g a n ew l in k . Bu t
"i f t he se d ep en de nc ie s a re t en uo us , t he n i t m ay no t b e w or th t he a dd it io na l c om pl ex it y i n t he"
"n et wo rk f or t he s ma ll g ai n i n a cc ur ac y . Fo r e xa mp le , o ne m ig ht o bj ec t t o o ur b ur gl ar y n et-"
"w or k o n t he g ro un ds t ha t i f t he re i s a n e ar th qu ak e , t he n Jo hn a nd Ma ry w ou ld n ot c al l e ve n"
"i f t he y h ea rd t he a la rm , b ec au se t he y a ss um e t ha t t he e ar th qu ak e i s t he c au se . Wh et he r t o"
a dd t he l in k f ro m Ea rt hq ua ke t o Jo hn Ca ll s a nd Ma ry Ca ll s (a nd t hu s e nl ar ge t he t ab le s)
d ep en ds o nc om pa ri ng t he im po rt an ce o fg et ti ng m or ea cc ur at e p ro ba bi li ti es w it ht he co st of
s pe ci fy in g t he ex tr ai nf or ma ti on .
516 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
Ma ry Ca ll s Ma ry Ca ll s
Jo hn Ca ll s Jo hn Ca ll s
Al ar m Ea rt hq ua ke
Bu rg la ry Bu rg la ry
Ea rt hq ua ke Al ar m
(a) (b)
"Fi gu re 14.3 Ne tw or k s tr uc tu re d ep en ds o n o rd er o f i nt ro du ct io n . In e ac h n et wo rk , w e"
h av ei nt ro du ce dn od es in to p-t o-b ot to mo rd er .
"Ev en i n a l oc al ly s tr uc tu re d d om ai n , w e w il l g et a c om pa ct Ba ye si an n et wo rk o nl y i f"
w e c ho os e t he n od e o rd er in g w el l . Wh at h ap pe ns i f w e h ap pe n t o c ho os e t he w ro ng o r-
d er ? Co ns id er t he bu rg la ry e xa mp le a ga in . Su pp os e w ed ec id e t oa dd t he n od es i nt he o rd er
"Ma ry Ca ll s , Jo hn Ca ll s , Al ar m , Bu rg la ry , Ea rt hq ua ke . We t he n g et t he s om ew ha t m or e"
c om pl ic at ed n et wo rk sh ow ni n Fi gu re 14.3(a). Th ep ro ce ss g oe sa sf ol lo ws:
• Ad di ng Ma ry Ca ll s: No pa re nt s .
"• Ad di ng Jo hn Ca ll s: If Ma ry c al ls , t ha t p ro ba bl y m ea ns t he a la rm h as g on e o ff , w hi ch"
"o f c ou rs e w ou ld m ak e i t m or e l ik el y t ha t Jo hn c al ls . Th er ef or e , Jo hn Ca ll s n ee ds"
Ma ry Ca ll s a sa pa re nt .
"• Ad di ng Al ar m: Cl ea rl y ,i fb ot hc al l ,i ti sm or el ik el yt ha tt he al ar mh as go ne of ft ha ni f"
"j us to ne or ne it he rc al ls ,s ow en ee db ot h Ma ry Ca ll s a nd Jo hn Ca ll s a sp ar en ts ."
"• Ad di ng Bu rg la ry: If w e k no w t he a la rm s ta te , t he n t he c al l f ro m Jo hn o r Ma ry m ig ht"
"g iv eu si nf or ma ti on a bo ut ou rp ho ne ri ng in g o r Ma ry’s mu si c , b ut no ta bo ut bu rg la ry:"
"P(Bu rg la ry|Al ar m ,Jo hn Ca ll s ,Ma ry Ca ll s) =P(Bu rg la ry|Al ar m)."
He nc ew en ee dj us t Al ar m a sp ar en t .
"• Ad di ng Ea rt hq ua ke: If t he a la rm i s o n , i t i s m or e l ik el y t ha t t he re h as b ee n a n e ar th-"
q ua ke . (Th e a la rm i s a n e ar th qu ak e d et ec to r o f s or ts .) Bu t i f w e k no w t ha t t he re h as
"b ee na bu rg la ry ,t he nt ha te xp la in st he al ar m ,a nd th ep ro ba bi li ty of an ea rt hq ua ke wo ul d"
"b eo nl ys li gh tl y a bo ve no rm al . He nc e ,w en ee db ot h Al ar m a nd Bu rg la ry a sp ar en ts ."
Th e r es ul ti ng n et wo rk h as t wo m or e l in ks t ha n t he o ri gi na l n et wo rk i n Fi gu re 14.2 a nd r e-
"q ui re s t hr ee m or e p ro ba bi li ti es t o b e s pe ci fi ed . Wh at’s w or se , s om e o f t he l in ks r ep re se nt"
"t en uo us r el at io ns hi ps t ha t r eq ui re d if fi cu lt a nd u nn at ur al p ro ba bi li ty j ud gm en ts , s uc h a s a s-"
Se ct io n 14.2. Th e Se ma nt ic so f Ba ye si an Ne tw or ks 517
"s es si ng t he p ro ba bi li ty o f Ea rt hq ua ke , g iv en Bu rg la ry a nd Al ar m . Th is p he no me no n i s"
q ui te g en er al a nd i s r el at ed t o t he d is ti nc ti on b et we en c au sa l a nd d ia gn os ti c m od el s i nt ro-
d uc ed i n Se ct io n 13.5.1 (s ee a ls o Ex er ci se 8.13). If w e t ry t o b ui ld a d ia gn os ti c m od el w it h
"l in ks f ro m s ym pt om s t o c au se s (a s f ro m Ma ry Ca ll s t o Al ar m o r Al ar m t o Bu rg la ry), w e"
e nd up ha vi ng to sp ec if ya dd it io na ld ep en de nc ie sb et we en ot he rw is ei nd ep en de nt ca us es(a nd
"o ft en be tw ee ns ep ar at el y o cc ur ri ng s ym pt om sa sw el l). If we st ic kt oa ca us al mo de l ,w ee nd"
"u ph av in gt os pe ci fy fe we rn um be rs ,a nd th en um be rs wi ll of te nb ee as ie rt oc om eu pw it h . In"
"t he d om ai n o f m ed ic in e , f or e xa mp le , i t h as b ee n s ho wn b y Tv er sk y a nd Ka hn em an (1982)"
t ha t e xp er t p hy si ci an s p re fe r t o g iv e p ro ba bi li ty j ud gm en ts f or c au sa l r ul es r at he r t ha n f or
d ia gn os ti c o ne s .
"Fi gu re 14.3(b) s ho ws a ve ry ba d n od e o rd er in g: Ma ry Ca ll s , Jo hn Ca ll s , Ea rt hq ua ke ,"
"Bu rg la ry ,Al ar m . Th is ne tw or kr eq ui re s 31 d is ti nc tp ro ba bi li ti es to be sp ec if ie d—e xa ct ly th e"
"s am en um be ra st he fu ll j oi nt d is tr ib ut io n . It is im po rt an t t or ea li ze , h ow ev er , t ha t a ny of th e"
t hr ee ne tw or ks ca nr ep re se nt e xa ct ly th es am ej oi nt di st ri bu ti on . Th el as tt wo ve rs io ns si mp ly
f ai lt or ep re se nt al lt he co nd it io na li nd ep en de nc e r el at io ns hi ps a nd he nc ee nd up sp ec if yi ng a
l ot of un ne ce ss ar y n um be rs in st ea d .
14.2.2 Co nd it io na li nd ep en de nc e r el at io ns in Ba ye si an ne tw or ks
We h av e p ro vi de d a “n um er ic al” s em an ti cs f or Ba ye si an n et wo rk s i n t er ms o f t he r ep re se n-
"t at io n o f t he f ul l j oi nt d is tr ib ut io n , a s i n Eq ua ti on (14.2). Us in g t hi s s em an ti cs t o d er iv e a"
"m et ho d f or c on st ru ct in g Ba ye si an n et wo rk s , w e w er e l ed t o t he c on se qu en ce t ha t a n od e i s"
"c on di ti on al ly i nd ep en de nt o f i ts o th er p re de ce ss or s , g iv en i ts p ar en ts . It t ur ns o ut t ha t w e"
c an al so g oi nt he ot he rd ir ec ti on . We ca ns ta rt f ro m a“t op ol og ic al” s em an ti cs t ha t s pe ci fi es
"t he co nd it io na l i nd ep en de nc e r el at io ns hi ps e nc od ed b yt he g ra ph st ru ct ur e , a nd fr om th is we"
c an d er iv e t he “n um er ic al” s em an ti cs . Th e t op ol og ic al s em an ti cs 2 s pe ci fi es t ha t e ac h v ar i-
"a bl e i s c on di ti on al ly i nd ep en de nt o f i ts n on-d es ce nd an ts , g iv en i ts p ar en ts . Fo re xa mp le , i n"
DESCENDANT
"Fi gu re 14.2, Jo hn Ca ll s i si nd ep en de nt o f Bu rg la ry ,Ea rt hq ua ke ,a nd Ma ry Ca ll s g iv en th e"
v al ue o f Al ar m . Th ed ef in it io n i si ll us tr at ed i n Fi gu re 14.4(a). Fr om t he se c on di ti on al i nd e-
p en de nc e a ss er ti on s a nd t he i nt er pr et at io n o f t he n et wo rk p ar am et er s θ(X |Pa re nt s(X ))
i i
"a ss pe ci fi ca ti on s o fc on di ti on al p ro ba bi li ti es P(X |Pa re nt s(X )), t he fu ll j oi nt di st ri bu ti on"
i i
"g iv en i n Eq ua ti on (14.2) c an b e r ec on st ru ct ed . In t hi s s en se , t he “n um er ic al” s em an ti cs a nd"
t he“t op ol og ic al” s em an ti cs a re eq ui va le nt .
An ot he r i mp or ta nt i nd ep en de nc e p ro pe rt y i s i mp li ed b y t he t op ol og ic al s em an ti cs: a
"n od ei sc on di ti on al ly in de pe nd en to fa ll ot he rn od es in th en et wo rk ,g iv en it sp ar en ts ,c hi ld re n ,"
"a nd c hi ld re n’s p ar en ts—t ha t i s , g iv en i ts Ma rk ov bl an ke t . (Ex er ci se 14.7 a sk s y ou t op ro ve"
MARKOVBLANKET
"t hi s .) Fo re xa mp le ,Bu rg la ry i si nd ep en de nt of Jo hn Ca ll s a nd Ma ry Ca ll s ,g iv en Al ar m a nd"
Ea rt hq ua ke . Th is pr op er ty i si ll us tr at ed i n Fi gu re 14.4(b).
2 Th er e i s a ls o a g en er al t op ol og ic al c ri te ri on c al le d d-s ep ar at io n f or d ec id in g w he th er a s et o f n od es X i s
"c on di ti on al ly i nd ep en de nt o f a no th er s et Y , g iv en at hi rd se t Z . Th ec ri te ri on is ra th er co mp li ca te d a nd i sn ot"
"n ee de df or de ri vi ng th ea lg or it hm si nt hi sc ha pt er ,s ow eo mi ti t .De ta il sm ay be fo un di n Pe ar l(1988)o r Da rw ic he"
(2009).Sh ac ht er(1998)g iv es am or ei nt ui ti ve me th od of as ce rt ai ni ng d-s ep ar at io n .
518 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
. . .
U U
1 m U 1 . . . U m
X X
Z Z Z Z
1 j n j 1 j n j
Y Y
Y Y 1 . . . n
1 . . . n
(a) (b)
"Fi gu re 14.4 (a) A n od e X i s c on di ti on al ly in de pe nd en to fi ts n on-d es ce nd an ts(e .g .,t he"
Zi js) g iv en i ts p ar en ts (t he Ui s s ho wn i n t he g ra y a re a). (b) A n od e X i s c on di ti on al ly
i nd ep en de nt of al lo th er no de si nt he ne tw or kg iv en it s Ma rk ov bl an ke t(t he gr ay ar ea).
14.3 EFFICIENT REPRESENTATION OF CONDITIONAL DISTRIBUTIONS
"Ev en if th e m ax im um nu mb er of pa re nt s k i ss ma ll is h , f il li ng i nt he CPTf or an od e r eq ui re s"
u pt o O(2 k)n um be rs an dp er ha ps ag re at de al of ex pe ri en ce wi th al lt he po ss ib le co nd it io ni ng
"c as es . In fa ct ,t hi si sa wo rs t-c as e s ce na ri o i nw hi ch th er el at io ns hi p b et we en th ep ar en ts a nd"
"t he c hi ld i s c om pl et el y a rb it ra ry . Us ua ll y , s uc h r el at io ns hi ps a re d es cr ib ab le b y a c an on ic al"
"CANONICAL d is tr ib ut io nt ha tf it ss om es ta nd ar dp at te rn . In su ch ca se s ,t he co mp le te ta bl ec an be sp ec if ie d"
DISTRIBUTION
b yn am in gt he pa tt er na nd pe rh ap s s up pl yi ng a fe wp ar am et er s—m uc h e as ie rt ha ns up pl yi ng
a ne xp on en ti al n um be ro fp ar am et er s .
DETERMINISTIC Th e s im pl es t e xa mp le i s p ro vi de d b y d et er mi ni st ic n od es . A d et er mi ni st ic n od e h as
NODES
"i ts v al ue s pe ci fi ed e xa ct ly b y t he v al ue s o f i ts p ar en ts , w it h n o u nc er ta in ty . Th e r el at io ns hi p"
"c an be al og ic al on e: f or ex am pl e ,t he re la ti on sh ip b et we en th ep ar en tn od es Ca na di an ,US ,"
Me xi ca n a nd t he c hi ld n od e No rt h Am er ic an i s s im pl y t ha t t he c hi ld i s t he d is ju nc ti on o f
"t he p ar en ts . Th e r el at io ns hi p c an a ls o b e n um er ic al: f or e xa mp le , i f t he p ar en t n od es a re"
t he p ri ce s o f a p ar ti cu la r m od el o f c ar a t s ev er al d ea le rs a nd t he c hi ld n od e i s t he p ri ce t ha t
"a b ar ga in h un te r e nd s u p p ay in g , t he n t he c hi ld n od e i s t he m in im um o f t he p ar en t v al ue s ;"
"o r i f t he p ar en t n od es a re a l ak e’s i nf lo ws (r iv er s , r un of f , p re ci pi ta ti on) a nd o ut fl ow s (r iv er s ,"
"e va po ra ti on , s ee pa ge)a nd th ec hi ld is th ec ha ng ei nt he wa te rl ev el of th el ak e ,t he nt he va lu e"
o ft he ch il di st he su mo ft he in fl ow pa re nt s m in us th es um of th eo ut fl ow pa re nt s .
Un ce rt ai n r el at io ns hi ps c an o ft en b e c ha ra ct er iz ed b y s o-c al le d n oi sy l og ic al r el at io n-
"s hi ps . Th e s ta nd ar d e xa mp le i s t he n oi sy-OR r el at io n , w hi ch i s a g en er al iz at io n o f t he l og-"
NOISY-OR
"i ca l OR . In p ro po si ti on al l og ic , w e m ig ht s ay t ha t Fe ve r i s t ru e i f a nd o nl y i f Co ld , Fl u , o r"
Ma la ri a i s t ru e . Th e n oi sy-OR m od el a ll ow s f or u nc er ta in ty a bo ut t he a bi li ty o f e ac h p ar-
e nt t o c au se t he c hi ld t o b e t ru e—t he c au sa l r el at io ns hi p b et we en p ar en t a nd c hi ld m ay b e
Se ct io n 14.3. Ef fi ci en t Re pr es en ta ti on o f Co nd it io na l Di st ri bu ti on s 519
"i nh ib it ed , a nd s o a p at ie nt c ou ld h av e a c ol d , b ut n ot e xh ib it a f ev er . Th e m od el m ak es t wo"
"a ss um pt io ns . Fi rs t , i t a ss um es t ha t a ll t he p os si bl e c au se s a re l is te d . (If s om e a re m is si ng ,"
"w e c an a lw ay s a dd a s o-c al le d l ea k n od e t ha t c ov er s “m is ce ll an eo us c au se s .”) Se co nd , i t"
LEAKNODE
a ss um es t ha t i nh ib it io n o f e ac h p ar en t i s i nd ep en de nt o f i nh ib it io n o f a ny o th er p ar en ts: f or
"e xa mp le ,w ha te ve ri nh ib it s Ma la ri a f ro mc au si ng af ev er is in de pe nd en to fw ha te ve ri nh ib it s"
"Fl u f ro m c au si ng a f ev er . Gi ve n t he se a ss um pt io ns , Fe ve r i s f al se i f a nd o nl y i f a ll i ts t ru e"
"p ar en ts a re i nh ib it ed , a nd t he p ro ba bi li ty o f t hi s i s t he p ro du ct o f t he i nh ib it io n p ro ba bi li ti es"
q f or ea ch pa re nt . Le tu ss up po se t he se in di vi du al i nh ib it io n p ro ba bi li ti es a re as fo ll ow s:
"q = P(¬f ev er|c ol d ,¬f lu ,¬m al ar ia)= 0.6,"
c ol d
"q = P(¬f ev er|¬c ol d ,f lu ,¬m al ar ia)= 0.2,"
f lu
"q = P(¬f ev er|¬c ol d ,¬f lu ,m al ar ia)= 0.1."
m al ar ia
"Th en ,f ro mt hi si nf or ma ti on a nd th en oi sy-OR a ss um pt io ns , t he en ti re CPTc an be bu il t . Th e"
g en er al ru le is th at
(c id:25)
"P(x |p ar en ts(X )) = 1− q ,"
i i j
{j:Xj=t ru e}
w he re t he p ro du ct i s t ak en o ve r t he p ar en ts t ha t a re s et t o t ru e f or t ha t r ow o f t he CPT . Th e
f ol lo wi ng ta bl ei ll us tr at es t hi sc al cu la ti on:
Co ld Fl u Ma la ri a P(Fe ve r) P(¬Fe ve r)
F F F 0.0 1.0
F F T 0.9 0.1
F T F 0.8 0.2
F T T 0.98 0.02 = 0.2×0.1
T F F 0.4 0.6
T F T 0.94 0.06 = 0.6×0.1
T T F 0.88 0.12 = 0.6×0.2
T T T 0.988 0.012 = 0.6×0.2×0.1
"In g en er al , n oi sy l og ic al r el at io ns hi ps i n w hi ch a v ar ia bl e d ep en ds o n k p ar en ts c an b e d e-"
s cr ib ed u si ng O(k) p ar am et er s i ns te ad o f O(2 k) f or t he f ul l c on di ti on al p ro ba bi li ty t ab le .
"Th is m ak es a ss es sm en t a nd l ea rn in g m uc h e as ie r . Fo r e xa mp le , t he CPCS n et wo rk (Pr ad-"
"h an e ta l ., 1994) u se s n oi sy-OR a nd n oi sy-MAX d is tr ib ut io ns t om od el r el at io ns hi ps a mo ng"
"d is ea se s a nd s ym pt om s i ni nt er na l m ed ic in e . Wi th 448 n od es a nd 906 l in ks , i t r eq ui re s o nl y"
"8,254 v al ue si ns te ad of 133,931,430 f or an et wo rk wi th fu ll CPTs ."
Ba ye si an ne ts wi th co nt in uo us va ri ab le s
"Ma ny re al-w or ld p ro bl em s i nv ol ve c on ti nu ou s q ua nt it ie s , s uc h a sh ei gh t , m as s , t em pe ra tu re ,"
"a nd mo ne y ;i nf ac t ,m uc ho fs ta ti st ic sd ea ls wi th ra nd om va ri ab le sw ho se do ma in sa re co nt in-"
"u ou s . By d ef in it io n , c on ti nu ou s v ar ia bl es h av e a n i nf in it e n um be r o f p os si bl e v al ue s , s o i ti s"
i mp os si bl et os pe ci fy co nd it io na l p ro ba bi li ti es e xp li ci tl yf or ea ch va lu e . On ep os si bl ew ay to
"h an dl ec on ti nu ou sv ar ia bl es is to av oi dt he mb yu si ng di sc re ti za ti on—t ha ti s ,d iv id in gu pt he"
DISCRETIZATION
520 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
Su bs id y Ha rv es t
Co st
Bu ys
Fi gu re 14.5 As im pl en et wo rk wi th di sc re te va ri ab le s(Su bs id ya nd Bu ys)a nd co nt in uo us
v ar ia bl es(Ha rv es t a nd Co st).
"p os si bl e v al ue s i nt oa fi xe ds et of in te rv al s . Fo re xa mp le , t em pe ra tu re s c ou ld b ed iv id ed i nt o"
"(<0 o C), (0 o C−100 o C), a nd (>100 o C). Di sc re ti za ti on i s s om et im es a n a de qu at e s ol ut io n ,"
b ut o ft en r es ul ts i n a c on si de ra bl e l os s o f a cc ur ac y a nd v er y l ar ge CPTs . Th e m os t c om-
m on so lu ti on is to de fi ne st an da rd fa mi li es of pr ob ab il it y d en si ty fu nc ti on s(s ee Ap pe nd ix A)
"t ha t a re s pe ci fi ed b y a f in it e n um be r o f p ar am et er s . Fo r e xa mp le , a Ga us si an (o r n or ma l)"
PARAMETER
"d is tr ib ut io n N(μ,σ2)(x) h as t he m ea n μ a nd t he v ar ia nc e σ2 a s p ar am et er s . Ye t a no th er"
s ol ut io n—s om et im es c al le d a n on pa ra me tr ic r ep re se nt at io n—i s t o d ef in e t he c on di ti on al
NONPARAMETRIC
"d is tr ib ut io n i mp li ci tl y w it h a c ol le ct io n o f i ns ta nc es , e ac h c on ta in in g s pe ci fi c v al ue s o f t he"
p ar en ta nd ch il dv ar ia bl es . We ex pl or et hi sa pp ro ac h f ur th er in Ch ap te r 18.
A n et wo rk w it h b ot h d is cr et e a nd c on ti nu ou s v ar ia bl es i s c al le d a h yb ri d Ba ye si an
"HYBRIDBAYESIAN n et wo rk . To s pe ci fy a h yb ri d n et wo rk , w e h av e t o s pe ci fy t wo n ew k in ds o f d is tr ib ut io ns:"
NETWORK
t he c on di ti on al d is tr ib ut io n f or a c on ti nu ou s v ar ia bl e g iv en d is cr et e o r c on ti nu ou s p ar en ts ;
a nd th ec on di ti on al di st ri bu ti on fo ra di sc re te va ri ab le gi ve nc on ti nu ou sp ar en ts . Co ns id er th e
"s im pl e e xa mp le i n Fi gu re 14.5, i n w hi ch a c us to me r b uy s s om e f ru it d ep en di ng o n i ts c os t ,"
w hi ch de pe nd si nt ur no nt he si ze of th eh ar ve st an dw he th er th eg ov er nm en t’s su bs id ys ch em e
i s o pe ra ti ng . Th e v ar ia bl e Co st i s c on ti nu ou s a nd h as c on ti nu ou s a nd d is cr et e p ar en ts ; t he
v ar ia bl e Bu ys i sd is cr et ea nd ha sa co nt in uo us p ar en t .
"Fo r t he Co st v ar ia bl e , w e n ee d t o s pe ci fy P(Co st|Ha rv es t ,Su bs id y). Th e d is cr et e"
"p ar en t i s h an dl ed b y e nu me ra ti on—t ha t i s , b y s pe ci fy in g b ot h P(Co st|Ha rv es t ,s ub si dy)"
"a nd P(Co st|Ha rv es t ,¬s ub si dy). To ha nd le Ha rv es t ,w es pe ci fy h ow th ed is tr ib ut io n o ve r"
"t he c os t c d ep en ds o n t he c on ti nu ou s v al ue h o f Ha rv es t . In o th er w or ds , w e s pe ci fy t he"
p ar am et er so ft he co st di st ri bu ti on a sa fu nc ti on of h . Th em os tc om mo nc ho ic ei st he li ne ar
"Ga us si an d is tr ib ut io n , i n w hi ch t he c hi ld h as a Ga us si an d is tr ib ut io n w ho se m ea n μ v ar ie s"
LINEARGAUSSIAN
l in ea rl y w it h t he v al ue o f t he p ar en t a nd w ho se s ta nd ar d d ev ia ti on σ i s f ix ed . We n ee d t wo
"d is tr ib ut io ns , o ne fo rs ub si dy a nd on ef or¬s ub si dy ,w it hd if fe re nt pa ra me te rs:"
“ ”
1 −1 c−(a th+b t) 2
"P(c|h ,s ub si dy) = N(a t h+b t ,σ t 2)(c) = √ e 2 σt"
σ 2π
t
„ «
2
1 −1 c−(a fh+b f)
"P(c|h ,¬s ub si dy) = N(a h+b ,σ2)(c) = √ e 2 σf ."
f f f
σ 2π
f
"Fo rt hi se xa mp le ,t he n ,t he co nd it io na l d is tr ib ut io n f or Co st i ss pe ci fi ed by na mi ng th el in ea r"
"Ga us si an di st ri bu ti on a nd pr ov id in gt he pa ra me te rs a ,b ,σ ,a ,b ,a ndσ . Fi gu re s 14.6(a)"
t t t f f f
Se ct io n 14.3. Ef fi ci en t Re pr es en ta ti on o f Co nd it io na l Di st ri bu ti on s 521
"P(c | h ,s ub si dy) P(c | h ,¬s ub si dy) P(c | h)"
0.4 0.4 0.4
0.3 0.3 0.3
0.2 0.2 0.2
0.1 0.1 0.1
12 12 12
0 810 0 810 0 810
0 2 C 4 o st 6 c 810 02 H 4 a 6
r ve st h
0 2 C 4 o st 6 c 810 02 H 4 a 6
r ve st h
0 2 C 4 o st 6 c 810 02 H 4 a 6
r ve st h
(a) (b) (c)
Fi gu re 14.6 Th e g ra ph s i n (a) a nd (b) s ho w t he p ro ba bi li ty d is tr ib ut io n o ve r Co st a s a
"f un ct io n o f Ha rv es t s iz e , w it h Su bs id y t ru e a nd f al se , r es pe ct iv el y . Gr ap h (c) s ho ws t he"
"d is tr ib ut io n P(Co st|Ha rv es t),o bt ai ne db ys um mi ng ov er th et wo su bs id yc as es ."
"a nd (b) s ho w t he se t wo re la ti on sh ip s . No ti ce t ha t i n e ac h c as e t he s lo pe i s n eg at iv e , b ec au se"
"c os t d ec re as es a s s up pl y i nc re as es . (Of c ou rs e , t he a ss um pt io n o f l in ea ri ty i mp li es t ha t t he"
c os tb ec om es ne ga ti ve at so me po in t ;t he li ne ar mo de li sr ea so na bl eo nl yi ft he ha rv es ts iz ei s
"l im it ed to an ar ro wr an ge .) Fi gu re 14.6(c)s ho ws th ed is tr ib ut io n P(c|h),a ve ra gi ng ov er th e"
t wo po ss ib le v al ue so f Su bs id y a nd as su mi ng th at ea ch ha sp ri or pr ob ab il it y 0.5. Th is sh ow s
"t ha te ve nw it hv er ys im pl em od el s ,q ui te in te re st in g d is tr ib ut io ns c an be re pr es en te d ."
Th e l in ea r Ga us si an c on di ti on al d is tr ib ut io n h as s om e s pe ci al p ro pe rt ie s . A n et wo rk
c on ta in in g o nl y c on ti nu ou s v ar ia bl es w it h l in ea r Ga us si an d is tr ib ut io ns h as a j oi nt d is tr ib u-
t io nt ha ti sa mu lt iv ar ia te Ga us si an di st ri bu ti on(s ee Ap pe nd ix A)o ve ra ll th ev ar ia bl es(Ex er-
"c is e 14.9). Fu rt he rm or e ,t he po st er io rd is tr ib ut io n g iv en a ny ev id en ce al so ha st hi sp ro pe rt y .3"
"Wh en d is cr et e v ar ia bl es a re a dd ed a s p ar en ts (n ot a s c hi ld re n) o f c on ti nu ou s v ar ia bl es , t he"
"CONDITIONAL n et wo rk d ef in es a c on di ti on al Ga us si an , o r CG , d is tr ib ut io n: g iv en a ny a ss ig nm en t t o t he"
GAUSSIAN
"d is cr et ev ar ia bl es , t he di st ri bu ti on o ve rt he co nt in uo us v ar ia bl es i sa mu lt iv ar ia te Ga us si an ."
No w w e t ur n t o t he d is tr ib ut io ns f or d is cr et e v ar ia bl es w it h c on ti nu ou s p ar en ts . Co n-
"s id er , f or e xa mp le , t he Bu ys n od e i n Fi gu re 14.5. It s ee ms r ea so na bl e t o a ss um e t ha t t he"
c us to me r w il l b uy i f t he c os t i s l ow a nd w il l n ot b uy i f i t i s h ig h a nd t ha t t he p ro ba bi li ty o f
"b uy in gv ar ie ss mo ot hl yi ns om ei nt er me di at er eg io n . In ot he rw or ds ,t he co nd it io na ld is tr ib u-"
t io ni sl ik ea“s of t”t hr es ho ld f un ct io n . On ew ay to ma ke so ft th re sh ol ds i st ou se th ei nt eg ra l
o ft he st an da rd n or ma ld is tr ib ut io n:
(c id:26)
x
"Φ(x) = N(0,1)(x)d x ."
−∞
Th en th ep ro ba bi li ty o f Bu ys g iv en Co st m ig ht be
"P(b uy s|Co st=c) = Φ((−c+μ)/σ),"
"w hi ch me an st ha tt he co st th re sh ol do cc ur sa ro un d μ,t he wi dt ho ft he th re sh ol dr eg io ni sp ro-"
"p or ti on al t o σ, a nd t he p ro ba bi li ty o fb uy in g d ec re as es a s c os t i nc re as es . Th is pr ob it d is tr i-"
"3 It fo ll ow st ha ti nf er en ce in li ne ar Ga us si an ne tw or ks ta ke so nl y O(n 3)t im ei nt he wo rs tc as e ,r eg ar dl es so ft he"
"n et wo rk to po lo gy .In Se ct io n 14.4,w es ee th at in fe re nc ef or ne tw or ks of di sc re te va ri ab le si s NP-h ar d ."
522 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
1
0.8
0.6
0.4
0.2
0
0 2 4 6 8 10 12
)c(P
1
0.8
0.6
0.4
0.2
0
0 2 4 6 8 10 12
Co st c
)c
| s yu b(P
Lo gi t
Pr ob it
Co st c
(a) (b)
"Fi gu re 14.7 (a) A n or ma l (Ga us si an) d is tr ib ut io n f or t he c os t t hr es ho ld , c en te re d o n"
μ=6.0 w it hs ta nd ar dd ev ia ti onσ=1.0. (b)Lo gi ta nd pr ob it di st ri bu ti on sf or th ep ro ba bi li ty
"o fb uy s g iv en co st ,f or th ep ar am et er sμ=6.0 a ndσ=1.0."
PROBIT b ut io n(p ro no un ce d“p ro-b it”a nd sh or tf or“p ro ba bi li ty un it”)i s i ll us tr at ed in Fi gu re 14.7(a).
DISTRIBUTION
Th ef or mc an be ju st if ie db yp ro po si ng th at th eu nd er ly in gd ec is io np ro ce ss ha sa ha rd th re sh-
"o ld ,b ut th at th ep re ci se lo ca ti on of th et hr es ho ld i ss ub je ct to ra nd om Ga us si an no is e ."
An a lt er na ti ve t o t he p ro bi t m od el i s t he l og it d is tr ib ut io n (p ro no un ce d “l ow-j it”). It
LOGITDISTRIBUTION
u se st he lo gi st ic
f un ct io n 1/(1+e−x)t op ro du ce
a so ft th re sh ol d:
LOGISTICFUNCTION
1
P(b uy s|Co st=c) = .
1+e xp(−2−c+μ)
σ
"Th is is il lu st ra te d i n Fi gu re 14.7(b). Th et wo di st ri bu ti on s l oo k s im il ar , b ut th el og it ac tu al ly"
"h as mu ch lo ng er“t ai ls .” Th ep ro bi ti so ft en ab et te rf it to re al si tu at io ns ,b ut th el og it is so me-"
t im es e as ie r t o d ea l w it h m at he ma ti ca ll y . It i s u se d w id el y i n n eu ra l n et wo rk s (Ch ap te r 20).
Bo th p ro bi t a nd l og it c an b e g en er al iz ed t o h an dl e m ul ti pl e c on ti nu ou s p ar en ts b y t ak in g a
l in ea rc om bi na ti on o ft he pa re nt va lu es .
14.4 EXACT INFERENCE IN BAYESIAN NETWORKS
Th e b as ic t as k f or a ny p ro ba bi li st ic i nf er en ce s ys te m i s t o c om pu te t he p os te ri or p ro ba bi li ty
"d is tr ib ut io n f or a s et o f q ue ry v ar ia bl es , g iv en s om e o bs er ve d e ve nt—t ha t i s , s om e a ss ig n-"
EVENT
"m en to fv al ue st oa se to fe vi de nc ev ar ia bl es . To si mp li fy th ep re se nt at io n , w ew il lc on si de r"
o nl yo ne qu er yv ar ia bl e a ta ti me ;t he al go ri th ms c an ea si ly be ex te nd ed t oq ue ri es w it hm ul-
t ip le v ar ia bl es . We w il l u se t he n ot at io n f ro m Ch ap te r 13: X d en ot es t he q ue ry v ar ia bl e ; E
"d en ot es th es et of ev id en ce va ri ab le s E ,...,E ,a nd ei sa pa rt ic ul ar ob se rv ed ev en t ; Yw il l"
1 m
"d en ot es th en on ev id en ce , n on qu er yv ar ia bl es Y ,...,Y (c al le dt he hi dd en va ri ab le s). Th us ,"
HIDDENVARIABLE 1 l
t he c om pl et e s et o f v ar ia bl es i s X={X}∪E∪Y . A t yp ic al q ue ry a sk s f or t he p os te ri or
p ro ba bi li ty d is tr ib ut io n P(X|e).
Se ct io n 14.4. Ex ac t In fe re nc e i n Ba ye si an Ne tw or ks 523
"In t he b ur gl ar y n et wo rk , w e m ig ht o bs er ve t he e ve nt i n w hi ch Jo hn Ca ll s=t ru e a nd"
"Ma ry Ca ll s=t ru e . We co ul dt he na sk fo r ,s ay ,t he pr ob ab il it y t ha ta bu rg la ry h as oc cu rr ed:"
"P(Bu rg la ry|Jo hn Ca ll s=t ru e ,Ma ry Ca ll s=t ru e) = (c id:16)0.284,0.716(c id:17)."
In t hi s s ec ti on w e d is cu ss e xa ct a lg or it hm s f or c om pu ti ng p os te ri or p ro ba bi li ti es a nd w il l
"c on si de r t he c om pl ex it y o f t hi s t as k . It t ur ns o ut t ha t t he g en er al c as e i s i nt ra ct ab le , s o Se c-"
t io n 14.5 c ov er sm et ho ds fo ra pp ro xi ma te i nf er en ce .
14.4.1 In fe re nc e b y e nu me ra ti on
Ch ap te r 13 e xp la in ed t ha t a ny c on di ti on al p ro ba bi li ty c an b e c om pu te d b y s um mi ng t er ms
"f ro m t he f ul l j oi nt d is tr ib ut io n . Mo re s pe ci fi ca ll y , a q ue ry P(X|e) c an b e a ns we re d u si ng"
"Eq ua ti on(13.9),w hi ch we re pe at he re fo rc on ve ni en ce:"
(c id:12)
"P(X|e)= αP(X ,e)= α P(X ,e ,y)."
y
"No w ,a Ba ye si an n et wo rk gi ve sa co mp le te re pr es en ta ti on o ft he fu ll jo in td is tr ib ut io n . Mo re"
"s pe ci fi ca ll y , Eq ua ti on (14.2) o n p ag e 513 s ho ws t ha t t he t er ms P(x ,e ,y) i n t he j oi nt d is tr i-"
"b ut io nc an be wr it te na sp ro du ct s o fc on di ti on al p ro ba bi li ti es f ro mt he ne tw or k . Th er ef or e , a"
q ue ry c an b e a ns we re d u si ng a Ba ye si an n et wo rk b y c om pu ti ng s um s o f p ro du ct s o f c on di-
t io na lp ro ba bi li ti es f ro mt he ne tw or k .
"Co ns id er t he q ue ry P(Bu rg la ry|Jo hn Ca ll s=t ru e ,Ma ry Ca ll s=t ru e). Th e h id de n"
"v ar ia bl es f or t hi s q ue ry a re Ea rt hq ua ke a nd Al ar m . Fr om Eq ua ti on (13.9), u si ng i ni ti al"
"l et te rs fo rt he va ri ab le s t os ho rt en th ee xp re ss io ns , w eh av e 4"
(c id:12)(c id:12)
"P(B|j ,m) = αP(B ,j ,m) =α P(B ,j ,m ,e ,a ,)."
e a
Th e s em an ti cs o f Ba ye si an n et wo rk s (Eq ua ti on (14.2)) t he n g iv es u s a n e xp re ss io n i n t er ms
"o f CPTe nt ri es . Fo rs im pl ic it y , w ed ot hi sj us tf or Bu rg la ry=t ru e:"
(c id:12)(c id:12)
"P(b|j ,m) = α P(b)P(e)P(a|b ,e)P(j|a)P(m|a)."
e a
"To c om pu te t hi s e xp re ss io n , w e h av e t o a dd f ou r t er ms , e ac h c om pu te d b y m ul ti pl yi ng f iv e"
"n um be rs . In th ew or st ca se ,w he re we ha ve to su mo ut al mo st al lt he va ri ab le s ,t he co mp le xi ty"
o ft he al go ri th m f or an et wo rk wi th n Bo ol ea nv ar ia bl es i s O(n 2 n).
An i mp ro ve me nt c an b e o bt ai ne d f ro m t he f ol lo wi ng s im pl e o bs er va ti on s: t he P(b)
"t er mi sa co ns ta nt an dc an be mo ve do ut si de th es um ma ti on so ve ra an de ,a nd th e P(e)t er m"
"c an be mo ve do ut si de th es um ma ti on ov er a . He nc e ,w eh av e"
(c id:12) (c id:12)
"P(b|j ,m) = αP(b) P(e) P(a|b ,e)P(j|a)P(m|a). (14.4)"
e a
"Th is ex pr es si on c an be ev al ua te d b yl oo pi ng t hr ou gh t he va ri ab le s i no rd er , m ul ti pl yi ng CPT"
"e nt ri es a s w e g o . Fo r e ac h s um ma ti on , w e a ls o n ee d t o l oo p o ve r t he v ar ia bl e’s p os si bl e"
P
"4 An ex pr es si on su ch as P(a ,e)m ea ns to su m P(A = a ,E = e)f or al lp os si bl ev al ue so fe . Wh en E i s"
e
"Bo ol ea n ,t he re is an am bi gu it yi nt ha t P(e)i su se dt om ea nb ot h P(E =t ru e)a nd P(E =e),b ut it sh ou ld be"
"c le ar fr om co nt ex tw hi ch is in te nd ed ;i np ar ti cu la r ,i nt he co nt ex to fa su mt he la tt er is in te nd ed ."
524 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
v al ue s . Th e s tr uc tu re o f t hi s c om pu ta ti on i s s ho wn i n Fi gu re 14.8. Us in g t he n um be rs f ro m
"Fi gu re 14.2, w e o bt ai n P(b|j ,m) = α×0.00059224. Th e c or re sp on di ng c om pu ta ti on f or"
"¬b yi el dsα×0.0014919;h en ce ,"
"P(B|j ,m) = α(c id:16)0.00059224,0.0014919(c id:17) ≈ (c id:16)0.284,0.716(c id:17)."
"Th at is ,t he ch an ce of ab ur gl ar y , g iv en ca ll sf ro mb ot hn ei gh bo rs , i sa bo ut 28%."
Th ee va lu at io n p ro ce ss fo rt he ex pr es si on i n Eq ua ti on(14.4)i ss ho wn as an ex pr es si on
t re e i n Fi gu re 14.8. Th e ENUMERATION-ASK a lg or it hm i n Fi gu re 14.9 e va lu at es s uc h t re es
u si ng d ep th-f ir st r ec ur si on . Th ea lg or it hm i s v er ys im il ar i ns tr uc tu re t ot he b ac kt ra ck in g a l-
g or it hm fo rs ol vi ng CSPs(Fi gu re 6.5)a nd th e DPLLa lg or it hm fo rs at is fi ab il it y(Fi gu re 7.17).
Th es pa ce co mp le xi ty of ENUMERATION-ASK i so nl yl in ea ri nt he nu mb er of va ri ab le s:
t he al go ri th m s um so ve rt he fu ll jo in td is tr ib ut io n w it ho ut e ve rc on st ru ct in g i te xp li ci tl y . Un-
"f or tu na te ly , i ts t im e c om pl ex it y f or a n et wo rk w it h n Bo ol ea n v ar ia bl es i s a lw ay s O(2 n)—"
"b et te rt ha nt he O(n 2 n)f or th es im pl ea pp ro ac h d es cr ib ed e ar li er , b ut st il lr at he r g ri m ."
No te t ha t t he t re e i n Fi gu re 14.8 m ak es e xp li ci t t he r ep ea te d s ub ex pr es si on s e va lu-
a te db yt he al go ri th m . Th ep ro du ct s P(j|a)P(m|a)a nd P(j|¬a)P(m|¬a)a re co mp ut ed
"t wi ce ,o nc ef or ea ch va lu eo fe . Th en ex ts ec ti on de sc ri be sa ge ne ra lm et ho dt ha ta vo id ss uc h"
w as te dc om pu ta ti on s .
14.4.2 Th e v ar ia bl ee li mi na ti on al go ri th m
Th e e nu me ra ti on a lg or it hm c an b e i mp ro ve d s ub st an ti al ly b y e li mi na ti ng r ep ea te d c al cu la-
t io ns o f t he k in d i ll us tr at ed i n Fi gu re 14.8. Th e i de a i s s im pl e: d o t he c al cu la ti on o nc e a nd
s av et he re su lt sf or la te ru se . Th is is af or mo fd yn am ic pr og ra mm in g . Th er ea re se ve ra lv er-
"VARIABLE s io ns of th is ap pr oa ch ;w ep re se nt th ev ar ia bl ee li mi na ti on al go ri th m ,w hi ch is th es im pl es t ."
ELIMINATION
Va ri ab le el im in at io n w or ks by ev al ua ti ng e xp re ss io ns s uc h a s Eq ua ti on(14.4)i nr ig ht-t o-l ef t
"o rd er(t ha ti s ,b ot to mu pi n Fi gu re 14.8). In te rm ed ia te re su lt sa re st or ed ,a nd su mm at io ns ov er"
e ac hv ar ia bl e a re do ne on ly fo rt ho se po rt io ns o ft he ex pr es si on t ha td ep en do nt he va ri ab le .
Le tu si ll us tr at e t hi sp ro ce ss fo rt he bu rg la ry n et wo rk . We ev al ua te th ee xp re ss io n
(c id:12) (c id:12)
"P(B|j ,m) = α P(B) P(e) P(a|B ,e)P(j|a)P(m|a) ."
(c id:27)(c id:28)(c id:29)(c id:30) (c id:27)(c id:28)(c id:29)(c id:30) (c id:27) (c id:28)(c id:29) (c id:30)(c id:27) (c id:28)(c id:29) (c id:30)(c id:27) (c id:28)(c id:29) (c id:30)
e a
"f 1(B) f 2(E) f 3(A ,B ,E) f 4(A) f 5(A)"
No ti ce th at we ha ve an no ta te de ac hp ar to ft he ex pr es si on wi th th en am eo ft he co rr es po nd in g
"f ac to r ; e ac h f ac to ri sa ma tr ix in de xe d b yt he va lu es o fi ts ar gu me nt v ar ia bl es . Fo re xa mp le ,"
FACTOR
t he fa ct or sf (A)a nd f (A)c or re sp on di ng t o P(j|a)a nd P(m|a)d ep en dj us to n Ab ec au se
4 5
J a nd M a re fi xe db yt he qu er y . Th ey ar et he re fo re t wo-e le me nt ve ct or s:
(c id:13) (c id:14) (c id:13) (c id:14) (c id:13) (c id:14) (c id:13) (c id:14)
P(j|a) 0.90 P(m|a) 0.70
f (A) = = f (A) = = .
4 P(j|¬a) 0.05 5 P(m|¬a) 0.01
"f (A ,B ,E)w il lb ea 2×2×2 m at ri x ,w hi ch is ha rd to sh ow on th ep ri nt ed pa ge . (Th e“f ir st”"
3
"e le me nt i sg iv en b y P(a|b ,e)=0.95 a nd th e“l as t” b y P(¬a|¬b ,¬e)=0.999.) In te rm so f"
"f ac to rs , t he qu er ye xp re ss io n i sw ri tt en as"
(c id:12) (c id:12)
"P(B|j ,m) = αf (B)× f (E)× f (A ,B ,E)×f (A)×f (A)"
1 2 3 4 5
e a
Se ct io n 14.4. Ex ac t In fe re nc e i n Ba ye si an Ne tw or ks 525
P(b)
.001
P(e) P(¬e)
.002 .998
"P(a|b ,e) P(¬a|b ,e) P(a|b ,¬e) P(¬a|b ,¬e)"
.95 .05 .94 .06
P(j|a) P( j|¬a) P( j|a) P( j|¬a)
.90 .05 .90 .05
P(m|a) P(m|¬a) P(m|a) P(m|¬a)
.70 .01 .70 .01
Fi gu re 14.8 Th e s tr uc tu re o f t he e xp re ss io n s ho wn i n Eq ua ti on (14.4). Th e e va lu at io n
"p ro ce ed st op do wn ,m ul ti pl yi ng va lu es al on ge ac hp at ha nd su mm in ga tt he“+”n od es .No ti ce"
t he re pe ti ti on of th ep at hs fo rj an dm .
"f un ct io n ENUMERATION-ASK(X ,e ,b n)r et ur ns ad is tr ib ut io no ve r X"
"i np ut s:X , t he qu er yv ar ia bl e"
"e ,o bs er ve dv al ue sf or va ri ab le s E"
"b n ,a Ba ye sn et wi th va ri ab le s{X} ∪ E ∪ Y /*Y=h id de nv ar ia bl es*/"
"Q(X)←a di st ri bu ti on ov er X ,i ni ti al ly em pt y"
f or ea ch va lu ex i o f X d o
"Q(x i)←ENUMERATE-ALL(b n .VARS ,e xi)"
w he re ex i i se ex te nd ed wi th X= x i
r et ur n NORMALIZE(Q(X))
"f un ct io n ENUMERATE-ALL(v ar s ,e)r et ur ns ar ea ln um be r"
i f EMPTY ?(v ar s)t he nr et ur n 1.0
Y ←FIRST(v ar s)
i f Y h as va lu ey i ne
"t he nr et ur n(c id:2)P(y|p ar en ts(Y)) × ENUMERATE-ALL(REST(v ar s),e)"
e ls er et ur n
y
"P(y|p ar en ts(Y)) × ENUMERATE-ALL(REST(v ar s),e y)"
w he re ey i se ex te nd ed wi th Y = y
Fi gu re 14.9 Th ee nu me ra ti on al go ri th mf or an sw er in gq ue ri es on Ba ye si an ne tw or ks .
526 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
w he re th e“×”o pe ra to ri sn ot or di na ry ma tr ix mu lt ip li ca ti on b ut in st ea dt he po in tw is ep ro d-
"POINTWISE u ct op er at io n , t ob ed es cr ib ed s ho rt ly ."
PRODUCT
Th e p ro ce ss o f e va lu at io n i s a p ro ce ss o f s um mi ng o ut v ar ia bl es (r ig ht t o l ef t) f ro m
"p oi nt wi se p ro du ct s o f f ac to rs t o p ro du ce n ew f ac to rs , e ve nt ua ll y y ie ld in g a f ac to r t ha t i s t he"
"s ol ut io n , i .e .,t he po st er io rd is tr ib ut io n o ve rt he qu er yv ar ia bl e . Th es te ps ar ea sf ol lo ws:"
"• Fi rs t ,w es um ou t Af ro mt he pr od uc t o ff ,f ,a nd f . Th is gi ve su sa ne w 2×2 f ac to r"
3 4 5
"f (B ,E)w ho se in di ce sr an ge ov er ju st B a nd E:"
6
(c id:12)
"f (B ,E) = f (A ,B ,E)×f (A)×f (A)"
6 3 4 5
a
"= (f (a ,B ,E)×f (a)×f (a))+(f (¬a ,B ,E)×f (¬a)×f (¬a))."
3 4 5 3 4 5
No ww ea re le ft wi th th ee xp re ss io n
(c id:12)
"P(B|j ,m) = αf (B)× f (E)×f (B ,E)."
1 2 6
e
"• Ne xt ,w es um ou t E f ro mt he pr od uc to f f a nd f :"
2 6
(c id:12)
"f (B) = f (E)×f (B ,E)"
7 2 6
e
"= f (e)×f (B ,e)+f (¬e)×f (B ,¬e)."
2 6 2 6
Th is le av es th ee xp re ss io n
"P(B|j ,m) = αf (B)×f (B)"
1 7
w hi ch ca nb ee va lu at ed by ta ki ng th ep oi nt wi se pr od uc t a nd no rm al iz in g t he re su lt .
"Ex am in in gt hi ss eq ue nc e ,w es ee th at tw ob as ic co mp ut at io na lo pe ra ti on sa re re qu ir ed: p oi nt-"
"w is ep ro du ct o fa pa ir of fa ct or s , a nd su mm in g o ut a va ri ab le f ro m a pr od uc t o ff ac to rs . Th e"
n ex ts ec ti on de sc ri be s e ac ho ft he se op er at io ns .
Op er at io ns on fa ct or s
Th e p oi nt wi se p ro du ct o f t wo f ac to rs f a nd f y ie ld s a n ew f ac to r f w ho se v ar ia bl es a re
1 2
t he u ni on o f t he v ar ia bl es i n f a nd f a nd w ho se e le me nt s a re g iv en b y t he p ro du ct o f t he
1 2
"c or re sp on di ng el em en ts in th et wo fa ct or s . Su pp os et he tw of ac to rs ha ve va ri ab le s Y ,...,Y"
1 k
i nc om mo n . Th en we ha ve
"f(X ...X ,Y ...Y ,Z ...Z )= f (X ...X ,Y ...Y )f (Y ...Y ,Z ...Z )."
"1 j 1 k 1 l 1 1 j 1 k 2 1 k , l"
"If a ll t he v ar ia bl es a re b in ar y , t he n f a nd f h av e 2 j+k a nd 2 k+l e nt ri es , r es pe ct iv el y , a nd"
1 2
"t he p oi nt wi se p ro du ct h as 2 j+k+l e nt ri es . Fo r e xa mp le , g iv en t wo f ac to rs f (A ,B) a nd"
1
"f (B ,C), t he p oi nt wi se p ro du ct f ×f =f (A ,B ,C) h as 21+1+1=8 e nt ri es , a s i ll us tr at ed"
2 1 2 3
i n Fi gu re 14.10. No ti ce t ha t t he f ac to r r es ul ti ng f ro m a p oi nt wi se p ro du ct c an c on ta in m or e
v ar ia bl es th an an yo ft he fa ct or sb ei ng mu lt ip li ed an dt ha tt he si ze of af ac to ri se xp on en ti al in
t he n um be r o f v ar ia bl es . Th is i s w he re b ot h s pa ce a nd t im e c om pl ex it y a ri se i n t he v ar ia bl e
e li mi na ti on a lg or it hm .
Se ct io n 14.4. Ex ac t In fe re nc e i n Ba ye si an Ne tw or ks 527
"A B f (A ,B) B C f (B ,C) A B C f (A ,B ,C)"
1 2 3
T T .3 T T .2 T T T .3×.2=.06
T F .7 T F .8 T T F .3×.8=.24
F T .9 F T .6 T F T .7×.6=.42
F F .1 F F .4 T F F .7×.4=.28
F T T .9×.2=.18
F T F .9×.8=.72
F F T .1×.6=.06
F F F .1×.4=.04
"Fi gu re 14.10 Il lu st ra ti ng po in tw is em ul ti pl ic at io n:f (A ,B)×f (B ,C)=f (A ,B ,C)."
1 2 3
Su mm in go ut av ar ia bl ef ro ma pr od uc to ff ac to rs is do ne by ad di ng up th es ub ma tr ic es
"f or me d b y f ix in g t he v ar ia bl e t o e ac h o f i ts v al ue s i n t ur n . Fo r e xa mp le , t o s um o ut A f ro m"
"f (A ,B ,C),w ew ri te"
3 (c id:12)
"f(B ,C) = f (A ,B ,C) = f (a ,B ,C)+f (¬a ,B ,C)"
3 3 3
(c id:13)a (c id:14) (c id:13) (c id:14) (c id:13) (c id:14)
.06 .24 .18 .72 .24 .96
= + = .
.42 .28 .06 .04 .48 .32
Th eo nl yt ri ck i st on ot ic e t ha ta ny fa ct or th at do es n ot de pe nd o nt he va ri ab le t ob es um me d
"o ut c an b e m ov ed o ut si de t he s um ma ti on . Fo re xa mp le , i f w ew er e t o s um o ut E f ir st i n t he"
"b ur gl ar y n et wo rk , t he re le va nt pa rt of th ee xp re ss io n w ou ld b e"
(c id:12) (c id:12)
"f (E)×f (A ,B ,E)×f (A)×f (A) = f (A)×f (A)× f (E)×f (A ,B ,E)."
2 3 4 5 4 5 2 3
e e
"No w t he p oi nt wi se p ro du ct i ns id e t he s um ma ti on i s c om pu te d , a nd t he v ar ia bl e i s s um me d"
o ut of th er es ul ti ng m at ri x .
No ti ce t ha t m at ri ce s a re n ot m ul ti pl ie d u nt il w e n ee d t o s um o ut a v ar ia bl e f ro m t he
"a cc um ul at ed p ro du ct . At th at po in t , w em ul ti pl y j us tt ho se m at ri ce s t ha ti nc lu de t he va ri ab le"
"t o b e s um me d o ut . Gi ve n f un ct io ns f or p oi nt wi se p ro du ct a nd s um mi ng o ut , t he v ar ia bl e"
"e li mi na ti on a lg or it hm i ts el fc an be wr it te nq ui te si mp ly ,a ss ho wn in Fi gu re 14.11."
Va ri ab le or de ri ng an dv ar ia bl er el ev an ce
Th ea lg or it hm in Fi gu re 14.11 i nc lu de sa nu ns pe ci fi ed ORDERf un ct io nt oc ho os ea no rd er in g
"f or t he v ar ia bl es . Ev er y c ho ic e o f o rd er in g y ie ld s a v al id a lg or it hm , b ut d if fe re nt o rd er in gs"
"c au se d if fe re nt i nt er me di at e f ac to rs t o b e g en er at ed d ur in g t he c al cu la ti on . Fo r e xa mp le , i n"
"t he c al cu la ti on s ho wn p re vi ou sl y , w e e li mi na te d A b ef or e E ; i f w e d o i t t he o th er w ay , t he"
c al cu la ti on b ec om es
(c id:12) (c id:12)
"P(B|j ,m) = αf (B)× f (A)×f (A)× f (E)×f (A ,B ,E),"
1 4 5 2 3
a e
"d ur in gw hi ch an ew fa ct or f (A ,B)w il lb eg en er at ed ."
6
"In g en er al , t he t im e a nd s pa ce r eq ui re me nt s o f v ar ia bl e e li mi na ti on a re d om in at ed b y"
t he s iz e o f t he l ar ge st f ac to r c on st ru ct ed d ur in g t he o pe ra ti on o f t he a lg or it hm . Th is i n t ur n
528 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"f un ct io n ELIMINATION-ASK(X ,e ,b n)r et ur ns ad is tr ib ut io no ve r X"
"i np ut s:X ,t he qu er yv ar ia bl e"
"e ,o bs er ve dv al ue sf or va ri ab le s E"
"b n ,a Ba ye si an ne tw or ks pe ci fy in gj oi nt di st ri bu ti on P(X 1,...,Xn)"
f ac to rs←[]
f or ea ch va r i n ORDER(b n .VARS)d o
"f ac to rs←[MAKE-FACTOR(v ar ,e)|f ac to rs]"
"i fv ar i sa hi dd en va ri ab le th en fa ct or s←SUM-OUT(v ar ,f ac to rs)"
r et ur n NORMALIZE(POINTWISE-PRODUCT(f ac to rs))
Fi gu re 14.11 Th ev ar ia bl ee li mi na ti on al go ri th mf or in fe re nc ei n Ba ye si an ne tw or ks .
i s d et er mi ne d b y t he o rd er o f e li mi na ti on o f v ar ia bl es a nd b y t he s tr uc tu re o f t he n et wo rk .
"It t ur ns o ut t o b e i nt ra ct ab le t o d et er mi ne t he o pt im al o rd er in g , b ut s ev er al g oo d h eu ri st ic s"
a re a va il ab le . On e f ai rl y e ff ec ti ve m et ho d i s a g re ed y o ne: e li mi na te w hi ch ev er v ar ia bl e
m in im iz es th es iz eo ft he ne xt fa ct or to be co ns tr uc te d .
"Le t u s c on si de r o ne m or e q ue ry: P(Jo hn Ca ll s|Bu rg la ry=t ru e). As u su al , t he f ir st"
s te pi st ow ri te ou tt he ne st ed su mm at io n:
(c id:12) (c id:12) (c id:12)
"P(J|b) =αP(b) P(e) P(a|b ,e)P(J|a) P(m|a)."
e a m (c id:2)
"Ev al ua ti ng t hi se xp re ss io n f ro m r ig ht t ol ef t , w en ot ic e s om et hi ng i nt er es ti ng: P(m|a)"
m
"i se qu al t o 1 b y d ef in it io n ! He nc e , t he re w as no ne ed t oi nc lu de i ti n t he fi rs tp la ce ; t he v ar i-"
a bl e M i s i rr el ev an t t o t hi s q ue ry . An ot he r w ay o f s ay in g t hi s i s t ha t t he r es ul t o f t he q ue ry
P(Jo hn Ca ll s|Bu rg la ry=t ru e) i s u nc ha ng ed i f w e r em ov e Ma ry Ca ll s f ro m t he n et wo rk
"a lt og et he r . In ge ne ra l ,w ec an re mo ve an yl ea fn od et ha ti sn ot aq ue ry va ri ab le or an ev id en ce"
"v ar ia bl e . Af te ri ts re mo va l , t he re ma yb es om em or el ea fn od es , a nd th es et oo ma yb ei rr el e-"
"v an t . Co nt in ui ng t hi s p ro ce ss , w e e ve nt ua ll y f in d t ha t e ve ry v ar ia bl e t ha t i s n ot a n a nc es to r"
o f a q ue ry v ar ia bl e o r e vi de nc e v ar ia bl e i s i rr el ev an t t o t he q ue ry . A v ar ia bl e e li mi na ti on
a lg or it hm c an th er ef or e r em ov ea ll th es ev ar ia bl es be fo re ev al ua ti ng t he qu er y .
14.4.3 Th e c om pl ex it yo fe xa ct i nf er en ce
Th ec om pl ex it yo fe xa ct in fe re nc ei n Ba ye si an ne tw or ks de pe nd ss tr on gl yo nt he st ru ct ur eo f
t he ne tw or k . Th eb ur gl ar yn et wo rk of Fi gu re 14.2 b el on gs to th ef am il yo fn et wo rk si nw hi ch
t he re is at mo st on eu nd ir ec te d p at hb et we en an yt wo no de s i nt he ne tw or k . Th es ea re ca ll ed
"s in gl yc on ne ct ed ne tw or ks or po ly tr ee s ,a nd th ey ha ve ap ar ti cu la rl yn ic ep ro pe rt y: Th et im e"
SINGLYCONNECTED
"a nd sp ac ec om pl ex it yo fe xa ct in fe re nc ei np ol yt re es is li ne ar in th es iz eo ft he ne tw or k . He re ,"
POLYTREE
t he s iz e i s d ef in ed a s t he n um be r o f CPT e nt ri es ; i f t he n um be r o f p ar en ts o f e ac h n od e i s
"b ou nd ed b ya co ns ta nt , t he nt he co mp le xi ty w il la ls ob el in ea ri nt he nu mb er of no de s ."
"MULTIPLY Fo rm ul ti pl yc on ne ct ed ne tw or ks ,s uc ha st ha to f Fi gu re 14.12(a),v ar ia bl ee li mi na ti on"
CONNECTED
"c an h av e e xp on en ti al t im e a nd s pa ce c om pl ex it y i n t he w or st c as e , e ve n w he n t he n um be r"
o f p ar en ts p er n od e i s b ou nd ed . Th is i s n ot s ur pr is in g w he n o ne c on si de rs t ha t b ec au se i t
Se ct io n 14.4. Ex ac t In fe re nc e i n Ba ye si an Ne tw or ks 529
P(C)=.5
Cl ou dy
P(C)=.5
C P(S) C P(R)
t .10 Sp ri nk le r Ra in t .80 Cl ou dy
f .50 f .20 P(S+R=x)
C t t t f f t f f
We t
Gr as s Sp r+Ra in t .08 .02.72 .18
f .10 .40.10 .40
S R P(W) S+R P(W)
t t .99 t t .99 We t
t f .90 t f .90 Gr as s
f t .90 f t .90
f f .00 f f .00
(a) (b)
Fi gu re 14.12 (a)Am ul ti pl yc on ne ct ed ne tw or kw it hc on di ti on al pr ob ab il it yt ab le s . (b)A
c lu st er ed eq ui va le nt of th em ul ti pl yc on ne ct ed ne tw or k .
"i nc lu de s i nf er en ce in pr op os it io na l l og ic as as pe ci al ca se ,i nf er en ce i n Ba ye si an ne tw or ks is"
"NP-h ar d . In fa ct ,i tc an be sh ow n(Ex er ci se 14.16)t ha tt he pr ob le mi sa sh ar da st ha to fc om-"
p ut in g t he n um be r o f s at is fy in g a ss ig nm en ts f or a p ro po si ti on al l og ic f or mu la . Th is m ea ns
"t ha ti ti s#P-h ar d(“n um be r-P h ar d”)—t ha t i s ,s tr ic tl yh ar de rt ha n NP-c om pl et ep ro bl em s ."
Th er ei sa cl os ec on ne ct io n b et we en th ec om pl ex it yo f Ba ye si an ne tw or ki nf er en ce an d
"t he c om pl ex it y o f c on st ra in t s at is fa ct io n p ro bl em s (CSPs). As w e d is cu ss ed i n Ch ap te r 6,"
t he d if fi cu lt y o f s ol vi ng a d is cr et e CSP i s r el at ed t o h ow “t re el ik e” i ts c on st ra in t g ra ph i s .
"Me as ur es s uc h a s t re e w id th , w hi ch b ou nd t he c om pl ex it y o f s ol vi ng a CSP , c an a ls o b e"
"a pp li ed d ir ec tl y t o Ba ye si an n et wo rk s . Mo re ov er , t he v ar ia bl e e li mi na ti on a lg or it hm c an b e"
g en er al iz ed t os ol ve CSPs as we ll as Ba ye si an ne tw or ks .
14.4.4 Cl us te ri ng a lg or it hm s
Th ev ar ia bl ee li mi na ti on al go ri th mi ss im pl ea nd ef fi ci en tf or an sw er in gi nd iv id ua lq ue ri es . If
"w ew an tt oc om pu te p os te ri or p ro ba bi li ti es f or al lt he va ri ab le s i na ne tw or k , h ow ev er , i tc an"
"b e l es s e ff ic ie nt . Fo re xa mp le , i n a p ol yt re e n et wo rk , o ne w ou ld n ee d t o i ss ue O(n) q ue ri es"
"c os ti ng O(n) e ac h , f or a t ot al o f O(n 2) t im e . Us in g c lu st er in g a lg or it hm s (a ls o k no wn a s"
CLUSTERING
"j oi nt re ea lg or it hm s), t he ti me ca nb er ed uc ed t o O(n). Fo rt hi sr ea so n , t he se al go ri th ms a re"
JOINTREE
w id el yu se di nc om me rc ia l Ba ye si an ne tw or kt oo ls .
Th e b as ic i de a o f c lu st er in g i s t o j oi n i nd iv id ua l n od es o f t he n et wo rk t o f or m c lu s-
"t er n od es i n s uc h a w ay t ha t t he r es ul ti ng n et wo rk i s a p ol yt re e . Fo r e xa mp le , t he m ul ti pl y"
c on ne ct ed n et wo rk s ho wn i n Fi gu re 14.12(a) c an b e c on ve rt ed i nt o a p ol yt re e b y c om bi n-
"i ng t he Sp ri nk le r a nd Ra in n od e i nt o a c lu st er n od e c al le d Sp ri nk le r+Ra in , a s s ho wn i n"
Fi gu re 14.12(b). Th e t wo Bo ol ea n n od es a re r ep la ce d b y a “m eg an od e” t ha t t ak es o n f ou r
"p os si bl e v al ue s: t t ,t f ,f t ,a nd ff . Th em eg an od eh as on ly on ep ar en t , t he Bo ol ea nv ar ia bl e"
"Cl ou dy , s o t he re a re t wo c on di ti on in g c as es . Al th ou gh t hi s e xa mp le d oe sn’t s ho w i t , t he"
p ro ce ss of cl us te ri ng o ft en pr od uc es m eg an od es th at sh ar es om ev ar ia bl es .
530 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"On ce th en et wo rk is in po ly tr ee fo rm ,a sp ec ia l-p ur po se i nf er en ce al go ri th mi sr eq ui re d ,"
b ec au se or di na ry i nf er en ce m et ho ds ca nn ot ha nd le me ga no de st ha ts ha re va ri ab le s w it he ac h
"o th er . Es se nt ia ll y ,t he al go ri th mi sa fo rm of co ns tr ai nt pr op ag at io n(s ee Ch ap te r 6)w he re th e"
c on st ra in ts en su re th at ne ig hb or in gm eg an od es ag re eo nt he p os te ri or pr ob ab il it yo fa ny va ri-
"a bl es th at th ey ha ve in co mm on . Wi th ca re fu lb oo kk ee pi ng , t hi sa lg or it hm is ab le to co mp ut e"
p os te ri or p ro ba bi li ti es f or al lt he n on ev id en ce n od es i nt he ne tw or k i nt im e l in ea r i nt he si ze
"o ft he cl us te re d n et wo rk . Ho we ve r ,t he NP-h ar dn es so ft he pr ob le m h as no td is ap pe ar ed: i fa"
"n et wo rk r eq ui re s e xp on en ti al t im ea nd s pa ce w it hv ar ia bl e e li mi na ti on , t he n t he CPTs in th e"
c lu st er ed n et wo rk wi ll ne ce ss ar il y b ee xp on en ti al ly l ar ge .
14.5 APPROXIMATE INFERENCE IN BAYESIAN NETWORKS
"Gi ve nt he i nt ra ct ab il it y o fe xa ct i nf er en ce i n l ar ge , m ul ti pl y c on ne ct ed n et wo rk s , i ti s e ss en-"
t ia lt oc on si de ra pp ro xi ma te i nf er en ce me th od s . Th is se ct io nd es cr ib es ra nd om iz ed s am pl in g
"a lg or it hm s , a ls o c al le d Mo nt e Ca rl o a lg or it hm s , t ha t p ro vi de a pp ro xi ma te a ns we rs w ho se"
MONTECARLO
"a cc ur ac y d ep en ds o n t he n um be r o f s am pl es g en er at ed . Mo nt e Ca rl o a lg or it hm s , o f w hi ch"
"s im ul at ed a nn ea li ng (p ag e 126) i s a n e xa mp le , a re u se d i n m an y b ra nc he s o f s ci en ce t o e s-"
"t im at e q ua nt it ie s t ha t a re d if fi cu lt t o c al cu la te e xa ct ly . In t hi s s ec ti on , w e a re i nt er es te d i n"
s am pl in g a pp li ed t o t he c om pu ta ti on o f p os te ri or p ro ba bi li ti es . We d es cr ib e t wo f am il ie s o f
a lg or it hm s: d ir ec ts am pl in ga nd Ma rk ov ch ai ns am pl in g . Tw oo th er ap pr oa ch es—v ar ia ti on al
m et ho ds an dl oo py pr op ag at io n—a re m en ti on ed i nt he no te sa tt he en do ft he ch ap te r .
14.5.1 Di re ct sa mp li ng m et ho ds
Th ep ri mi ti ve e le me nt in an ys am pl in g a lg or it hm i st he ge ne ra ti on o fs am pl es f ro m a kn ow n
"p ro ba bi li ty di st ri bu ti on . Fo re xa mp le ,a nu nb ia se dc oi nc an be th ou gh to fa sa ra nd om va ri ab le"
"Co in w it h v al ue s (c id:16)h ea ds ,t ai ls(c id:17) a nd a p ri or d is tr ib ut io n P(Co in) = (c id:16)0.5,0.5(c id:17). Sa mp li ng"
"f ro mt hi sd is tr ib ut io ni se xa ct ly li ke fl ip pi ng th ec oi n: w it hp ro ba bi li ty 0.5 i tw il lr et ur nh ea ds ,"
a nd w it h p ro ba bi li ty 0.5 i t w il l r et ur n t ai ls . Gi ve n a s ou rc e o f r an do m n um be rs u ni fo rm ly
"d is tr ib ut ed i n t he r an ge [0,1], i t i s a s im pl e m at te r t o s am pl e a ny d is tr ib ut io n o n a s in gl e"
"v ar ia bl e , w he th er di sc re te or co nt in uo us . (Se e Ex er ci se 14.17.)"
Th es im pl es tk in do fr an do ms am pl in gp ro ce ss f or Ba ye si an ne tw or ks ge ne ra te s e ve nt s
f ro m a n et wo rk t ha t h as n o e vi de nc e a ss oc ia te d w it h i t . Th e i de a i s t o s am pl e e ac h v ar ia bl e
"i nt ur n , i nt op ol og ic al o rd er . Th ep ro ba bi li ty d is tr ib ut io n f ro m w hi ch t he va lu e i ss am pl ed i s"
c on di ti on ed o nt he va lu es al re ad ya ss ig ne dt ot he va ri ab le’s pa re nt s . Th is al go ri th m i ss ho wn
"i n Fi gu re 14.13. We ca n i ll us tr at e i ts o pe ra ti on o n t he n et wo rk i n Fi gu re 14.12(a), a ss um in g"
"a no rd er in g [Cl ou dy ,Sp ri nk le r ,Ra in ,We t Gr as s]:"
"1. Sa mp le fr om P(Cl ou dy)= (c id:16)0.5,0.5(c id:17),v al ue is tr ue ."
"2. Sa mp le fr om P(Sp ri nk le r |Cl ou dy=t ru e) = (c id:16)0.1,0.9(c id:17),v al ue is fa ls e ."
"3. Sa mp le fr om P(Ra in|Cl ou dy=t ru e) = (c id:16)0.8,0.2(c id:17),v al ue is tr ue ."
"4. Sa mp le fr om P(We t Gr as s|Sp ri nk le r =f al se ,Ra in=t ru e)= (c id:16)0.9,0.1(c id:17),v al ue is tr ue ."
"In th is ca se , PRIOR-SAMPLE r et ur ns th ee ve nt [t ru e ,f al se ,t ru e ,t ru e]."
Se ct io n 14.5. Ap pr ox im at e In fe re nc ei n Ba ye si an Ne tw or ks 531
f un ct io n PRIOR-SAMPLE(b n)r et ur ns an ev en ts am pl ed fr om th ep ri or sp ec if ie db yb n
"i np ut s:b n ,a Ba ye si an ne tw or ks pe ci fy in gj oi nt di st ri bu ti on P(X 1,...,Xn)"
x←a ne ve nt wi th ne le me nt s
"f or ea ch va ri ab le Xi in X 1,...,Xn do"
x[i]←a ra nd om sa mp le fr om P(Xi |p ar en ts(Xi))
r et ur nx
Fi gu re 14.13 As am pl in ga lg or it hm th at ge ne ra te se ve nt sf ro ma Ba ye si an ne tw or k .Ea ch
v ar ia bl ei ss am pl ed ac co rd in gt ot he co nd it io na ld is tr ib ut io ng iv en th ev al ue sa lr ea dy sa mp le d
f or th ev ar ia bl e’s pa re nt s .
It is ea sy to se et ha t PRIOR-SAMPLE g en er at es sa mp le sf ro mt he pr io rj oi nt di st ri bu ti on
"s pe ci fi ed by th en et wo rk . Fi rs t ,l et S (x ,...,x )b et he pr ob ab il it y t ha ta sp ec if ic ev en ti s"
PS 1 n
"g en er at ed b yt he PRIOR-SAMPLE a lg or it hm . Ju st lo ok in g a tt he sa mp li ng pr oc es s , w eh av e"
(c id:25)n
S (x ...x ) = P(x |p ar en ts(X ))
PS 1 n i i
i=1
b ec au se e ac h s am pl in g s te p d ep en ds o nl y o n t he p ar en t v al ue s . Th is e xp re ss io n s ho ul d l oo k
"f am il ia r , b ec au se i ti sa ls ot he p ro ba bi li ty o ft he e ve nt ac co rd in g t ot he Ba ye si an n et’s r ep re-"
"s en ta ti on o ft he jo in td is tr ib ut io n , a ss ta te di n Eq ua ti on(14.2). Th at is ,w eh av e"
S (x ...x ) = P(x ...x ).
PS 1 n 1 n
Th is si mp le fa ct ma ke si te as yt oa ns we rq ue st io ns b yu si ng sa mp le s .
"In a ny s am pl in g a lg or it hm , t he a ns we rs a re c om pu te d b y c ou nt in g t he a ct ua l s am pl es"
"g en er at ed . Su pp os e t he re a re N t ot al s am pl es , a nd l et N (x ,...,x ) b e t he n um be r o f"
PS 1 n
"t im es th es pe ci fi ce ve nt x ,...,x o cc ur s i nt he se to fs am pl es . We ex pe ct t hi sn um be r , a sa"
1 n
"f ra ct io n o f t he t ot al , t o c on ve rg e i n t he l im it t o i ts e xp ec te d v al ue a cc or di ng t o t he s am pl in g"
p ro ba bi li ty:
"N (x ,...,x )"
PS 1 n
"l im = S (x ,...,x )= P(x ,...,x ). (14.5)"
PS 1 n 1 n
N→∞ N
"Fo r e xa mp le , c on si de r t he e ve nt p ro du ce d e ar li er: [t ru e ,f al se ,t ru e ,t ru e]. Th e s am pl in g"
p ro ba bi li ty f or th is ev en ti s
"S (t ru e ,f al se ,t ru e ,t ru e) = 0.5×0.9×0.8×0.9 = 0.324."
PS
"He nc e ,i nt he li mi to fl ar ge N ,w ee xp ec t 32.4%o ft he sa mp le st ob eo ft hi se ve nt ."
"Wh en ev er we us ea na pp ro xi ma te eq ua li ty(“≈”)i nw ha tf ol lo ws ,w em ea ni ti ne xa ct ly"
t hi s s en se—t ha t t he e st im at ed p ro ba bi li ty b ec om es e xa ct i n t he l ar ge-s am pl e l im it . Su ch a n
"e st im at e i s c al le d c on si st en t . Fo r e xa mp le , o ne c an p ro du ce a c on si st en t e st im at e o f t he"
CONSISTENT
"p ro ba bi li ty o fa ny pa rt ia ll y s pe ci fi ed ev en t x ,...,x ,w he re m ≤ n ,a sf ol lo ws:"
1 m
"P(x ,...,x )≈ N (x ,...,x )/N . (14.6)"
1 m PS 1 m
"Th at i s , t he p ro ba bi li ty o f t he e ve nt c an b e e st im at ed a s t he f ra ct io n o f a ll c om pl et e e ve nt s"
"g en er at ed b y t he s am pl in g p ro ce ss t ha t m at ch t he p ar ti al ly s pe ci fi ed e ve nt . Fo r e xa mp le , i f"
532 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"w e g en er at e 1000 s am pl es f ro m t he s pr in kl er n et wo rk , a nd 511 o f t he m h av e Ra in=t ru e ,"
"t he nt he es ti ma te dp ro ba bi li ty o fr ai n ,w ri tt en as"
"Pˆ(Ra in=t ru e),i s 0.511."
Re je ct io ns am pl in gi n Ba ye si an n et wo rk s
REJECTION Re je ct io ns am pl in gi sa ge ne ra lm et ho df or pr od uc in gs am pl es fr om ah ar d-t o-s am pl ed is tr i-
SAMPLING
"b ut io n g iv en a n e as y-t o-s am pl e d is tr ib ut io n . In i ts s im pl es t f or m , i t c an b e u se d t o c om pu te"
"c on di ti on al p ro ba bi li ti es—t ha t i s ,t od et er mi ne P(X|e). Th e REJECTION-SAMPLING a lg o-"
"r it hm is sh ow ni n Fi gu re 14.14. Fi rs t ,i tg en er at es sa mp le sf ro mt he pr io rd is tr ib ut io ns pe ci fi ed"
"b yt he ne tw or k . Th en ,i tr ej ec ts al lt ho se th at do no tm at ch th ee vi de nc e . Fi na ll y ,t he es ti ma te"
Pˆ(X=x|e)i so bt ai ne d b yc ou nt in gh ow of te n X=x oc cu rs in th er em ai ni ng s am pl es .
Le t Pˆ(X|e)b et he es ti ma te dd is tr ib ut io nt ha tt he al go ri th mr et ur ns .
Fr om th ed ef in it io n
"o ft he al go ri th m , w eh av e"
"N (X ,e)"
"Pˆ(X|e)= αN (X ,e) = PS ."
PS
N (e)
PS
"Fr om Eq ua ti on(14.6),t hi sb ec om es"
"P(X ,e)"
Pˆ(X|e)≈ = P(X|e).
P(e)
"Th at is ,r ej ec ti on s am pl in gp ro du ce s a co ns is te nt e st im at e o ft he tr ue pr ob ab il it y ."
"Co nt in ui ng w it ho ur ex am pl ef ro m Fi gu re 14.12(a), l et us as su me th at w ew is ht oe st i-"
"m at e P(Ra in|Sp ri nk le r =t ru e), u si ng 100 s am pl es . Of th e 100 t ha t w e g en er at e , s up po se"
"t ha t 73 h av e Sp ri nk le r =f al se a nd a re r ej ec te d , w hi le 27 h av e Sp ri nk le r =t ru e ; o f t he 27,"
"8 h av e Ra in=t ru e a nd 19 h av e Ra in=f al se . He nc e ,"
"P(Ra in|Sp ri nk le r =t ru e)≈ NORMALIZE((c id:16)8,19(c id:17))= (c id:16)0.296,0.704(c id:17)."
"Th e t ru e a ns we r i s (c id:16)0.3,0.7(c id:17). As m or e s am pl es a re c ol le ct ed , t he e st im at e w il l c on ve rg e t o"
t he t ru e a ns we r . Th e s ta nd ar d d ev ia ti on o f t he e rr or i n e ac h p ro ba bi li ty w il l b e p ro po rt io na l
√
"t o 1/ n ,w he re ni st he nu mb er of sa mp le su se di nt he es ti ma te ."
Th e b ig ge st p ro bl em w it h r ej ec ti on s am pl in g i s t ha t i t r ej ec ts s o m an y s am pl es ! Th e
f ra ct io n o fs am pl es c on si st en t w it ht he ev id en ce e dr op s e xp on en ti al ly a st he n um be ro fe vi-
"d en ce va ri ab le sg ro ws ,s ot he pr oc ed ur e i ss im pl yu nu sa bl e f or co mp le xp ro bl em s ."
No ti ce th at re je ct io ns am pl in gi sv er ys im il ar to th ee st im at io no fc on di ti on al pr ob ab il i-
"t ie sd ir ec tl yf ro mt he re al wo rl d . Fo re xa mp le ,t oe st im at e P(Ra in|Re d Sk y At Ni gh t=t ru e),"
o ne c an s im pl y c ou nt h ow o ft en i t r ai ns a ft er a r ed s ky i s o bs er ve d t he p re vi ou s e ve ni ng—
"i gn or in g t ho se e ve ni ng s w he n t he s ky i s n ot r ed . (He re , t he w or ld i ts el f p la ys t he r ol e o f"
"t he s am pl e-g en er at io n a lg or it hm .) Ob vi ou sl y , t hi s c ou ld t ak e a l on g t im e i f t he s ky i s v er y"
"s el do mr ed ,a nd th at is th ew ea kn es so fr ej ec ti on s am pl in g ."
Li ke li ho od we ig ht in g
LIKELIHOOD Li ke li ho od we ig ht in ga vo id st he in ef fi ci en cy of re je ct io ns am pl in gb yg en er at in go nl ye ve nt s
WEIGHTING
t ha t a re c on si st en t w it h t he e vi de nc e e . It i s a p ar ti cu la r i ns ta nc e o f t he g en er al s ta ti st ic al
"IMPORTANCE t ec hn iq ue of im po rt an ce sa mp li ng ,t ai lo re df or in fe re nc ei n Ba ye si an ne tw or ks . We be gi nb y"
SAMPLING
Se ct io n 14.5. Ap pr ox im at e In fe re nc ei n Ba ye si an Ne tw or ks 533
"f un ct io n REJECTION-SAMPLING(X ,e ,b n ,N)r et ur ns an es ti ma te of P(X|e)"
"i np ut s:X ,t he qu er yv ar ia bl e"
"e ,o bs er ve dv al ue sf or va ri ab le s E"
"b n ,a Ba ye si an ne tw or k"
"N ,t he to ta ln um be ro fs am pl es to be ge ne ra te d"
"l oc al va ri ab le s: N ,a ve ct or of co un ts fo re ac hv al ue of X ,i ni ti al ly ze ro"
f or j =1 t o N d o
x←PRIOR-SAMPLE(b n)
i fx is co ns is te nt wi th et he n
N[x]←N[x]+1 w he re x i st he va lu eo f X i nx
r et ur n NORMALIZE(N)
Fi gu re 14.14 Th er ej ec ti on-s am pl in ga lg or it hm fo ra ns we ri ng qu er ie sg iv en ev id en ce in a
Ba ye si an ne tw or k .
"d es cr ib in g h ow th ea lg or it hm wo rk s ;t he nw es ho wt ha ti tw or ks co rr ec tl y—t ha t i s ,g en er at es"
c on si st en t p ro ba bi li ty e st im at es .
LIKELIHOOD-WEIGHTING (s ee Fi gu re 14.15) f ix es t he v al ue s f or t he e vi de nc e v ar i-
a bl es E a nd s am pl es o nl y t he n on ev id en ce v ar ia bl es . Th is g ua ra nt ee s t ha t e ac h e ve nt g en er-
"a te d i s c on si st en t w it h t he e vi de nc e . No t a ll e ve nt s a re e qu al , h ow ev er . Be fo re t al ly in g t he"
"c ou nt si nt he di st ri bu ti on f or th eq ue ry va ri ab le , e ac he ve nt is we ig ht ed by th el ik el ih oo d t ha t"
"t he ev en ta cc or ds to th ee vi de nc e , a sm ea su re db yt he pr od uc t o ft he co nd it io na lp ro ba bi li ti es"
"f or ea ch e vi de nc e v ar ia bl e , g iv en i ts pa re nt s . In tu it iv el y , e ve nt s i nw hi ch t he a ct ua l e vi de nc e"
a pp ea rs un li ke ly s ho ul db eg iv en le ss we ig ht .
"Le t u s a pp ly t he a lg or it hm t o t he n et wo rk s ho wn i n Fi gu re 14.12(a), w it h t he q ue ry"
"P(Ra in|Cl ou dy=t ru e ,We t Gr as s=t ru e) a nd t he o rd er in g Cl ou dy , Sp ri nk le r , Ra in , We t-"
"Gr as s . (An yt op ol og ic al o rd er in g w il ld o .) Th ep ro ce ss g oe s a sf ol lo ws: Fi rs t , t he we ig ht w"
i ss et to 1.0. Th en an ev en ti sg en er at ed:
"1. Cl ou dy i sa ne vi de nc e v ar ia bl ew it hv al ue tr ue . Th er ef or e , w es et"
w ← w×P(Cl ou dy=t ru e)= 0.5.
"2. Sp ri nk le r i sn ot an ev id en ce va ri ab le ,s os am pl ef ro m P(Sp ri nk le r |Cl ou dy=t ru e)="
"(c id:16)0.1,0.9(c id:17);s up po se t hi sr et ur ns f al se ."
"3. Si mi la rl y , s am pl e f ro m P(Ra in|Cl ou dy=t ru e) = (c id:16)0.8,0.2(c id:17); s up po se t hi s r et ur ns"
t ru e .
"4. We t Gr as s i sa ne vi de nc e v ar ia bl ew it hv al ue t ru e . Th er ef or e , w es et"
"w ← w×P(We t Gr as s=t ru e|Sp ri nk le r =f al se ,Ra in=t ru e) = 0.45."
"He re WEIGHTED-SAMPLE r et ur ns t he e ve nt [t ru e ,f al se ,t ru e ,t ru e] w it h w ei gh t 0.45, a nd"
t hi si st al li ed un de r Ra in=t ru e .
"To u nd er st an d w hy l ik el ih oo d w ei gh ti ng w or ks , w e s ta rt b y e xa mi ni ng t he s am pl in g"
p ro ba bi li ty S
WS
f or WEIGHTED-SAMPLE . Re me mb er th at th ee vi de nc ev ar ia bl es Ea re fi xe d
534 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"f un ct io n LIKELIHOOD-WEIGHTING(X ,e ,b n ,N)r et ur ns an es ti ma te of P(X|e)"
"i np ut s:X ,t he qu er yv ar ia bl e"
"e ,o bs er ve dv al ue sf or va ri ab le s E"
"b n ,a Ba ye si an ne tw or ks pe ci fy in gj oi nt di st ri bu ti on P(X 1,...,Xn)"
"N ,t he to ta ln um be ro fs am pl es to be ge ne ra te d"
"l oc al va ri ab le s: W ,a ve ct or of we ig ht ed co un ts fo re ac hv al ue of X ,i ni ti al ly ze ro"
f or j =1 t o N d o
"x ,w←WEIGHTED-SAMPLE(b n ,e)"
W[x]←W[x]+w w he re x i st he va lu eo f X i nx
r et ur n NORMALIZE(W)
"f un ct io n WEIGHTED-SAMPLE(b n ,e)r et ur ns an ev en ta nd aw ei gh t"
w←1;x←a ne ve nt wi th ne le me nt si ni ti al iz ed fr om e
"f or ea ch va ri ab le Xi in X 1,...,Xn do"
i f Xi is an ev id en ce va ri ab le wi th va lu ex i i ne
t he nw←w × P(Xi= x i |p ar en ts(Xi))
e ls ex[i]←a ra nd om sa mp le fr om P(Xi|p ar en ts(Xi))
"r et ur nx ,w"
Fi gu re 14.15 Th el ik el ih oo d-w ei gh ti ng al go ri th mf or in fe re nc ei n Ba ye si an ne tw or ks . In
"WEIGHTED-SAMPLE , e ac h n on ev id en ce v ar ia bl e i s s am pl ed a cc or di ng t o t he c on di ti on al"
"d is tr ib ut io n g iv en t he v al ue s a lr ea dy s am pl ed f or t he v ar ia bl e’s p ar en ts , w hi le a w ei gh t i s"
a cc um ul at ed ba se do nt he li ke li ho od fo re ac he vi de nc ev ar ia bl e .
w it h v al ue s e . We c al l t he n on ev id en ce v ar ia bl es Z (i nc lu di ng t he q ue ry v ar ia bl e X). Th e
a lg or it hm s am pl es ea ch va ri ab le in Zg iv en it sp ar en tv al ue s:
(c id:25)l
"S (z ,e)= P(z |p ar en ts(Z )). (14.7)"
WS i i
i=1
No ti ce th at Pa re nt s(Z )c an in cl ud eb ot hn on ev id en ce va ri ab le sa nd ev id en ce va ri ab le s . Un-
i
"l ik et he pr io rd is tr ib ut io n P(z),t he di st ri bu ti on S p ay ss om ea tt en ti on to th ee vi de nc e: t he"
WS
s am pl ed v al ue s f or ea ch Z w il lb ei nf lu en ce d b ye vi de nc e a mo ng Z ’s an ce st or s . Fo re xa m-
i i
"p le ,w he ns am pl in g Sp ri nk le r t he al go ri th mp ay sa tt en ti on to th ee vi de nc e Cl ou dy=t ru e i n"
"i ts pa re nt v ar ia bl e . On th eo th er ha nd , S p ay s l es sa tt en ti on t ot he e vi de nc e t ha n d oe s t he"
WS
"t ru e p os te ri or d is tr ib ut io n P(z|e), b ec au se t he s am pl ed v al ue s f or e ac h Z i gn or e e vi de nc e"
i
"a mo ng Z ’s no n-a nc es to rs .5 Fo re xa mp le ,w he ns am pl in g Sp ri nk le r a nd Ra in t he al go ri th m"
i
i gn or es th ee vi de nc ei nt he ch il dv ar ia bl e We t Gr as s=t ru e ;t hi sm ea ns it wi ll ge ne ra te ma ny
s am pl es w it h Sp ri nk le r =f al se a nd Ra in=f al se d es pi te t he f ac t t ha t t he e vi de nc e a ct ua ll y
r ul es ou tt hi sc as e .
"5 Id ea ll y ,w ew ou ld li ke to us ea sa mp li ng di st ri bu ti on eq ua lt ot he tr ue po st er io r P(z|e),t ot ak ea ll th ee vi de nc e"
"i nt o a cc ou nt . Th is c an no t b e d on e e ff ic ie nt ly , h ow ev er . If i t c ou ld , t he n w e c ou ld a pp ro xi ma te t he d es ir ed"
p ro ba bi li ty to ar bi tr ar ya cc ur ac yw it ha po ly no mi al nu mb er of sa mp le s .It ca nb es ho wn th at no su ch po ly no mi al-
t im ea pp ro xi ma ti on sc he me ca ne xi st .
Se ct io n 14.5. Ap pr ox im at e In fe re nc ei n Ba ye si an Ne tw or ks 535
Th e l ik el ih oo d w ei gh t w m ak es u p f or t he d if fe re nc e b et we en t he a ct ua l a nd d es ir ed
"s am pl in g d is tr ib ut io ns . Th e w ei gh t f or a g iv en s am pl e x , c om po se d f ro m z a nd e , i s t he"
p ro du ct o f t he l ik el ih oo ds f or e ac h e vi de nc e v ar ia bl e g iv en i ts p ar en ts (s om e o ra ll o f w hi ch
m ay be am on gt he Z s):
i
(c id:25)m
"w(z ,e) = P(e |p ar en ts(E )). (14.8)"
i i
i=1
"Mu lt ip ly in g Eq ua ti on s(14.7)a nd(14.8),w es ee th at th ew ei gh te dp ro ba bi li ty of as am pl eh as"
t he pa rt ic ul ar ly c on ve ni en t f or m
(c id:25)l (c id:25)m
"S (z ,e)w(z ,e) = P(z |p ar en ts(Z )) P(e |p ar en ts(E ))"
WS i i i i
i=1 i=1
"= P(z ,e) (14.9)"
"b ec au se t he t wo p ro du ct s c ov er a ll t he v ar ia bl es i n t he n et wo rk , a ll ow in g u s t o u se Eq ua-"
t io n(14.2)f or th ej oi nt pr ob ab il it y .
No w i t i s e as y t o s ho w t ha t l ik el ih oo d w ei gh ti ng e st im at es a re c on si st en t . Fo r a ny
"p ar ti cu la rv al ue x of X ,t he es ti ma te dp os te ri or pr ob ab il it y c an be ca lc ul at ed a sf ol lo ws:"
(c id:12)
"Pˆ(x|e) = α N WS(x ,y ,e)w(x ,y ,e) f ro m LIKELIHOOD-WEIGHTING"
y
(c id:12)
"≈ α(c id:2) S (x ,y ,e)w(x ,y ,e) f or la rg e N"
WS
y
(c id:12)
(c id:2)
"= α P(x ,y ,e) b y Eq ua ti on(14.9)"
y
"= α(c id:2) P(x ,e) = P(x|e)."
"He nc e ,l ik el ih oo d w ei gh ti ng r et ur ns co ns is te nt e st im at es ."
"Be ca us e l ik el ih oo d w ei gh ti ng u se s a ll t he s am pl es g en er at ed , i t c an b e m uc h m or e e f-"
"f ic ie nt t ha n r ej ec ti on s am pl in g . It w il l , h ow ev er , s uf fe r a d eg ra da ti on i n p er fo rm an ce a s t he"
n um be r o f e vi de nc e v ar ia bl es i nc re as es . Th is i s b ec au se m os t s am pl es w il l h av e v er y l ow
w ei gh ts a nd h en ce t he w ei gh te d e st im at e w il l b e d om in at ed b y t he t in y f ra ct io n o f s am pl es
t ha ta cc or dm or et ha na ni nf in it es im al li ke li ho od to th ee vi de nc e . Th ep ro bl em is ex ac er ba te d
"i f t he e vi de nc e v ar ia bl es o cc ur l at e i n t he v ar ia bl e o rd er in g , b ec au se t he n t he n on ev id en ce"
v ar ia bl es wi ll ha ve no ev id en ce in th ei rp ar en ts an da nc es to rs to gu id et he ge ne ra ti on o fs am-
p le s . Th is m ea ns t he s am pl es w il l b e s im ul at io ns t ha t b ea r l it tl e r es em bl an ce t o t he r ea li ty
s ug ge st ed b yt he ev id en ce .
14.5.2 In fe re nc e b y Ma rk ov ch ai n s im ul at io n
MARKOVCHAIN Ma rk ov ch ai n Mo nt e Ca rl o(MCMC)a lg or it hm sw or kq ui te di ff er en tl yf ro mr ej ec ti on sa m-
MONTECARLO
"p li ng a nd l ik el ih oo d w ei gh ti ng . In st ea d o f g en er at in g e ac h s am pl e f ro m s cr at ch , MCMCa l-"
g or it hm s g en er at e e ac h s am pl e b y m ak in g a r an do m c ha ng e t o t he p re ce di ng s am pl e . It i s
t he re fo re he lp fu lt ot hi nk of an MCMCa lg or it hm a sb ei ng in ap ar ti cu la r c ur re nt st at es pe ci-
f yi ng av al ue fo re ve ry va ri ab le an dg en er at in ga n ex ts ta te by ma ki ng ra nd om ch an ge st ot he
536 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
c ur re nt st at e . (If th is re mi nd sy ou of si mu la te da nn ea li ng fr om Ch ap te r 4 o r WALKSAT f ro m
"Ch ap te r 7, t ha ti sb ec au se b ot h a re me mb er so ft he MCMCf am il y .) He re we de sc ri be a pa r-"
"t ic ul ar fo rm o f MCMCc al le d Gi bb ss am pl in g , w hi ch is es pe ci al ly w el ls ui te d f or Ba ye si an"
GIBBSSAMPLING
"n et wo rk s . (Ot he rf or ms ,s om eo ft he ms ig ni fi ca nt ly mo re po we rf ul ,a re di sc us se di nt he no te s"
"a tt he en do ft he ch ap te r .) We wi ll fi rs td es cr ib ew ha tt he al go ri th md oe s ,t he nw ew il le xp la in"
w hy it wo rk s .
Gi bb ss am pl in gi n Ba ye si an n et wo rk s
Th e Gi bb s s am pl in g a lg or it hm f or Ba ye si an n et wo rk s s ta rt s w it h a n a rb it ra ry s ta te (w it h t he
e vi de nc e v ar ia bl es f ix ed a t t he ir o bs er ve d v al ue s) a nd g en er at es a n ex t s ta te b y r an do ml y
s am pl in g a v al ue f or o ne o f t he n on ev id en ce v ar ia bl es X . Th e s am pl in g f or X i s d on e
i i
c on di ti on ed o nt he cu rr en t v al ue so ft he va ri ab le s i nt he Ma rk ov bl an ke to f X . (Re ca ll fr om
i
"p ag e 517 t ha tt he Ma rk ov bl an ke to fa va ri ab le co ns is ts of it sp ar en ts ,c hi ld re n ,a nd ch il dr en’s"
p ar en ts .) Th e a lg or it hm t he re fo re w an de rs r an do ml y a ro un d t he s ta te s pa ce—t he s pa ce o f
"p os si bl e c om pl et e a ss ig nm en ts—f li pp in g o ne v ar ia bl e a t a t im e , b ut k ee pi ng t he e vi de nc e"
v ar ia bl es f ix ed .
"Co ns id er t he q ue ry P(Ra in|Sp ri nk le r =t ru e ,We t Gr as s=t ru e) a pp li ed t o t he n et-"
w or k i n Fi gu re 14.12(a). Th ee vi de nc e v ar ia bl es Sp ri nk le r a nd We t Gr as s a re f ix ed to th ei r
o bs er ve d v al ue sa nd t he no ne vi de nc e v ar ia bl es Cl ou dy a nd Ra in a re in it ia li ze d r an do ml y—
"l et u s s ay t o t ru e a nd f al se r es pe ct iv el y . Th us , t he i ni ti al s ta te i s [t ru e ,t ru e ,f al se ,t ru e]."
No wt he no ne vi de nc e v ar ia bl es a re sa mp le dr ep ea te dl y i na na rb it ra ry o rd er . Fo re xa mp le:
"1. Cl ou dy i s s am pl ed , g iv en t he c ur re nt v al ue s o f i ts Ma rk ov b la nk et v ar ia bl es: i n t hi s"
"c as e , w e s am pl e f ro m P(Cl ou dy|Sp ri nk le r =t ru e ,Ra in=f al se). (Sh or tl y , w e w il l"
s ho w h ow t o c al cu la te t hi s d is tr ib ut io n .) Su pp os e t he r es ul t i s Cl ou dy=f al se . Th en
"t he ne wc ur re nt st at ei s[f al se ,t ru e ,f al se ,t ru e]."
"2. Ra in i ss am pl ed , g iv en th ec ur re nt v al ue so fi ts Ma rk ov bl an ke t v ar ia bl es: i nt hi sc as e ,"
"w es am pl ef ro m P(Ra in|Cl ou dy=f al se ,Sp ri nk le r =t ru e ,We t Gr as s=t ru e). Su p-"
"p os et hi sy ie ld s Ra in=t ru e . Th en ew cu rr en ts ta te is [f al se ,t ru e ,t ru e ,t ru e]."
Ea ch st at ev is it ed du ri ng th is pr oc es si sa sa mp le th at co nt ri bu te st ot he es ti ma te fo rt he qu er y
v ar ia bl e Ra in . If th ep ro ce ss v is it s 20 s ta te sw he re Ra in i st ru ea nd 60 s ta te s w he re Ra in i s
"f al se , t he n t he a ns we r t o t he q ue ry i s NORMALIZE((c id:16)20,60(c id:17)) = (c id:16)0.25,0.75(c id:17). Th e c om pl et e"
a lg or it hm i ss ho wn in Fi gu re 14.16.
Wh y Gi bb ss am pl in gw or ks
We w il l n ow s ho w t ha t Gi bb s s am pl in g r et ur ns c on si st en t e st im at es f or p os te ri or p ro ba bi l-
"i ti es . Th e m at er ia l i n t hi s s ec ti on i s q ui te t ec hn ic al , b ut t he b as ic c la im i s s tr ai gh tf or wa rd:"
t he s am pl in g p ro ce ss s et tl es i nt o a“d yn am ic e qu il ib ri um” i n w hi ch t he l on g-r un f ra ct io n o f
t im e s pe nt i n e ac h s ta te i s e xa ct ly p ro po rt io na l t o i ts p os te ri or p ro ba bi li ty . Th is r em ar ka bl e
TRANSITION p ro pe rt yf ol lo ws fr om th es pe ci fi ct ra ns it io np ro ba bi li ty wi th wh ic ht he pr oc es sm ov es fr om
PROBABILITY
"o ne s ta te t o a no th er , a s d ef in ed b y t he c on di ti on al d is tr ib ut io n g iv en t he Ma rk ov b la nk et o f"
t he va ri ab le be in gs am pl ed .
Se ct io n 14.5. Ap pr ox im at e In fe re nc ei n Ba ye si an Ne tw or ks 537
"f un ct io n GIBBS-ASK(X ,e ,b n ,N)r et ur ns an es ti ma te of P(X|e)"
"l oc al va ri ab le s: N ,a ve ct or of co un ts fo re ac hv al ue of X ,i ni ti al ly ze ro"
"Z ,t he no ne vi de nc ev ar ia bl es in bn"
"x ,t he cu rr en ts ta te of th en et wo rk ,i ni ti al ly co pi ed fr om e"
i ni ti al iz ex wi th ra nd om va lu es fo rt he va ri ab le si n Z
f or j =1 t o N d o
f or ea ch Zi in Zd o
s et th ev al ue of Zi in xb ys am pl in gf ro m P(Zi|m b(Zi))
N[x]←N[x]+1 w he re x i st he va lu eo f X i nx
r et ur n NORMALIZE(N)
Fi gu re 14.16 Th e Gi bb ss am pl in ga lg or it hm fo ra pp ro xi ma te in fe re nc ei n Ba ye si an n et-
"w or ks ;t hi sv er si on cy cl es th ro ug ht he va ri ab le s ,b ut ch oo si ng va ri ab le sa tr an do ma ls ow or ks ."
Le t q(x → x(c id:2) ) b e t he p ro ba bi li ty t ha t t he p ro ce ss m ak es a t ra ns it io n f ro m s ta te x t o
(c id:2)
s ta te x . Th is tr an si ti on pr ob ab il it y d ef in es wh at is ca ll ed a Ma rk ov ch ai no nt he st at es pa ce .
MARKOVCHAIN
(Ma rk ov c ha in s a ls o f ig ur e p ro mi ne nt ly i n Ch ap te rs 15 a nd 17.) No w s up po se t ha t w e r un
"t he Ma rk ov c ha in f or t s te ps , a nd l et π (x) b e t he p ro ba bi li ty t ha t t he s ys te m i s i n s ta te x a t"
t
(c id:2) (c id:2)
"t im e t . Si mi la rl y , l et π (x) b e t he p ro ba bi li ty o f b ei ng i n s ta te x a t t im e t + 1. Gi ve n"
t+1
(c id:2)
"π (x), w ec an c al cu la te π (x)b y s um mi ng , f or al ls ta te s t he s ys te m c ou ld b e i na t t im e t ,"
t t+1
(c id:2)
t he pr ob ab il it y o fb ei ng in th at st at et im es th ep ro ba bi li ty o fm ak in gt he tr an si ti on t ox:
(c id:12)
π (x(c id:2) ) = π (x)q(x → x(c id:2) ).
t+1 t
x
STATIONARY We s ay t ha t t he c ha in h as r ea ch ed i ts s ta ti on ar y d is tr ib ut io n i f π =π . Le t u s c al l t hi s
DISTRIBUTION t t+1
s ta ti on ar y d is tr ib ut io n π;i ts de fi ni ng eq ua ti on i st he re fo re
(c id:12)
π(x(c id:2) ) = π(x)q(x → x(c id:2) ) f or al lx(c id:2) . (14.10)
x
"Pr ov id ed t he t ra ns it io n p ro ba bi li ty d is tr ib ut io n q i se rg od ic—t ha t i s , e ve ry s ta te i sr ea ch ab le"
ERGODIC
f ro me ve ry ot he ra nd th er ea re no st ri ct ly pe ri od ic cy cl es—t he re i se xa ct ly on ed is tr ib ut io n π
s at is fy in g t hi se qu at io n f or an yg iv en q .
"Eq ua ti on(14.10)c an be re ad as sa yi ng th at th ee xp ec te d“o ut fl ow”f ro me ac hs ta te(i .e .,"
i ts c ur re nt “p op ul at io n”) i s e qu al t o t he e xp ec te d “i nf lo w” f ro m a ll t he s ta te s . On e o bv io us
w ay t o s at is fy t hi s r el at io ns hi p i s i f t he e xp ec te d f lo wb et we en a ny p ai r o f s ta te s i s t he s am e
"i nb ot hd ir ec ti on s ; t ha ti s ,"
"π(x)q(x → x(c id:2) ) = π(x(c id:2) )q(x(c id:2) → x) f or al lx , x(c id:2) . (14.11)"
"Wh en th es ee qu at io ns h ol d ,w es ay th at q(x → x(c id:2) )i si nd et ai le db al an ce wi thπ(x)."
DETAILEDBALANCE
We c an s ho w t ha t d et ai le d b al an ce i mp li es s ta ti on ar it y s im pl y b y s um mi ng o ve r x i n
Eq ua ti on(14.11). We ha ve
(c id:12) (c id:12) (c id:12)
π(x)q(x → x(c id:2) )= π(x(c id:2) )q(x(c id:2) → x) = π(x(c id:2) ) q(x(c id:2) → x)= π(x(c id:2) )
x x x
538 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
(c id:2)
w he re th el as ts te pf ol lo ws be ca us ea tr an si ti on f ro m x i sg ua ra nt ee d t oo cc ur .
Th e t ra ns it io n p ro ba bi li ty q(x → x(c id:2) ) d ef in ed b y t he s am pl in g s te p i n GIBBS-ASK i s
"a ct ua ll y a sp ec ia l c as e o ft he mo re ge ne ra l d ef in it io n o f Gi bb s s am pl in g , a cc or di ng t ow hi ch"
e ac h v ar ia bl e i s s am pl ed c on di ti on al ly o n t he c ur re nt v al ue s o f a ll t he o th er v ar ia bl es . We
s ta rt b y s ho wi ng t ha t t hi s g en er al d ef in it io n o f Gi bb s s am pl in g s at is fi es t he d et ai le d b al an ce
"e qu at io n w it h a s ta ti on ar y d is tr ib ut io n e qu al t o P(x|e), (t he t ru e p os te ri or d is tr ib ut io n o n"
"t he n on ev id en ce v ar ia bl es). Th en , w es im pl y o bs er ve t ha t , f or Ba ye si an n et wo rk s , s am pl in g"
c on di ti on al ly on al lv ar ia bl es is eq ui va le nt to sa mp li ng co nd it io na ll yo nt he va ri ab le’s Ma rk ov
b la nk et(s ee pa ge 517).
"To an al yz e t he ge ne ra l Gi bb ss am pl er , w hi ch sa mp le s e ac h X i nt ur nw it ha tr an si ti on"
i
"p ro ba bi li ty q t ha t c on di ti on s o n a ll t he o th er v ar ia bl es , w e d ef in e X t o b e t he se o th er v ar i-"
i i
a bl es (e xc ep t t he e vi de nc e v ar ia bl es); t he ir v al ue s i n t he c ur re nt s ta te a re x . If w e s am pl e a
i
(c id:2)
"n ew va lu ex f or X c on di ti on al ly o na ll th eo th er va ri ab le s , i nc lu di ng t he ev id en ce , w eh av e"
i i
"q (x → x(c id:2) ) = q ((x ,x ) → (x(c id:2) ,x )) = P(x(c id:2)|x ,e)."
i i i i i i i i
No ww es ho w t ha tt he tr an si ti on p ro ba bi li ty f or ea ch st ep of th e Gi bb ss am pl er is in de ta il ed
b al an ce wi th th et ru ep os te ri or:
"π(x)q (x → x(c id:2) ) = P(x|e)P(x(c id:2)|x ,e) = P(x ,x |e)P(x(c id:2)|x ,e)"
i i i i i i i
"= P(x |x ,e)P(x |e)P(x(c id:2)|x ,e) (u si ng th ec ha in ru le on th ef ir st te rm)"
i i i i i
"= P(x |x ,e)P(x(c id:2) ,x |e) (u si ng th ec ha in ru le ba ck wa rd)"
i i i i
= π(x(c id:2) )q (x(c id:2) → x).
i
We ca nt hi nk of th el oo p“f or ea ch Z i n Zd o”i n Fi gu re 14.16 a sd ef in in go ne la rg et ra ns it io n
i
p ro ba bi li ty q th at is th es eq ue nt ia lc om po si ti on q ◦q ◦···◦q o ft he tr an si ti on pr ob ab il it ie s
1 2 n
f or t he i nd iv id ua l v ar ia bl es . It i s e as y t o s ho w (Ex er ci se 14.19) t ha t i f e ac h o f q a nd q h as
i j
"π a s i ts s ta ti on ar y d is tr ib ut io n , t he n t he s eq ue nt ia l c om po si ti on q ◦ q d oe s t oo ; h en ce t he"
i j
"t ra ns it io n p ro ba bi li ty q f or t he w ho le l oo p h as P(x|e)a s i ts s ta ti on ar y d is tr ib ut io n . Fi na ll y ,"
u nl es s t he CPTs co nt ai n p ro ba bi li ti es o f 0 o r 1—w hi ch c an c au se t he s ta te s pa ce t o b ec om e
"d is co nn ec te d—i t i s e as y t o s ee t ha t q i s e rg od ic . He nc e , t he s am pl es g en er at ed b y Gi bb s"
s am pl in gw il le ve nt ua ll y b ed ra wn fr om th et ru ep os te ri or di st ri bu ti on .
Th e f in al s te p i s t o s ho w h ow t o p er fo rm t he g en er al Gi bb s s am pl in g s te p—s am pl in g
"X f ro m P(X |x ,e)—i n a Ba ye si an n et wo rk . Re ca ll f ro m p ag e 517 t ha t a va ri ab le i si nd e-"
i i i
"p en de nt o fa ll ot he rv ar ia bl es g iv en it s Ma rk ov bl an ke t ; h en ce ,"
P(x(c id:2)|x
",e)="
P(x(c id:2)|m b(X
")),"
i i i i
"w he re m b(X ) d en ot es t he v al ue s o f t he v ar ia bl es i n X ’s Ma rk ov b la nk et , MB(X ). As"
i i i
"s ho wn in Ex er ci se 14.7,t he pr ob ab il it yo fa va ri ab le gi ve ni ts Ma rk ov bl an ke ti sp ro po rt io na l"
t ot he pr ob ab il it y o ft he va ri ab le gi ve ni ts pa re nt st im es th ep ro ba bi li ty of ea ch ch il dg iv en it s
r es pe ct iv e p ar en ts:
(c id:25)
P(x(c id:2)|m b(X )) = αP(x(c id:2)|p ar en ts(X ))× P(y |p ar en ts(Y )). (14.12)
i i i i j j
Yj∈Ch il dr en(Xi)
"He nc e ,t of li pe ac hv ar ia bl e X c on di ti on ed o ni ts Ma rk ov bl an ke t , t he nu mb er of mu lt ip li ca-"
i
t io ns re qu ir ed is eq ua lt ot he nu mb er of X ’s ch il dr en .
i
Se ct io n 14.6. Re la ti on al a nd Fi rs t-Or de r Pr ob ab il it y Mo de ls 539
Qu al it y(B ) Qu al it y(B )
1 2
Ho ne st y(C ) Ki nd ne ss(C ) Ho ne st y(C ) Ki nd ne ss(C )
Qu al it y(B ) 1 1 2 2
1
Ho ne st y(C ) Ki nd ne ss(C )
1 1
"Re co mm en da ti on(C , B ) Re co mm en da ti on(C , B )"
1 1 2 1
"Re co mm en da ti on(C , B ) Re co mm en da ti on(C , B ) Re co mm en da ti on(C , B )"
1 1 1 2 2 2
(a) (b)
Fi gu re 14.17 (a) Ba ye s n et f or a s in gl e c us to me r C r ec om me nd in g a s in gl e b oo k B .
1 1
"Ho ne st(C )i s Bo ol ea n ,w hi le th eo th er va ri ab le sh av ei nt eg er va lu es fr om 1 t o 5. (b)Ba ye s"
1
n et wi th tw oc us to me rs an dt wo bo ok s .
14.6 RELATIONAL AND FIRST-ORDER PROBABILITY MODELS
"In Ch ap te r 8, w e e xp la in ed t he r ep re se nt at io na l a dv an ta ge s p os se ss ed b y f ir st-o rd er l og ic i n"
c om pa ri so n t o p ro po si ti on al l og ic . Fi rs t-o rd er l og ic c om mi ts t o t he e xi st en ce o f o bj ec ts a nd
r el at io ns am on gt he ma nd ca ne xp re ss fa ct sa bo ut so me or al lo ft he ob je ct si na do ma in . Th is
o ft en re su lt si nr ep re se nt at io ns t ha ta re va st ly mo re co nc is e t ha nt he eq ui va le nt p ro po si ti on al
"d es cr ip ti on s . No w , Ba ye si an n et wo rk s a re e ss en ti al ly p ro po si ti on al: t he s et o f r an do m v ar i-"
"a bl es i s f ix ed a nd f in it e , a nd e ac h h as a f ix ed d om ai n o f p os si bl e v al ue s . Th is f ac t l im it s t he"
a pp li ca bi li ty o f Ba ye si an n et wo rk s . If w ec an f in d a w ay to c om bi ne p ro ba bi li ty t he or y w it h
"t he ex pr es si ve p ow er of fi rs t-o rd er r ep re se nt at io ns , w ee xp ec tt ob ea bl et oi nc re as ed ra ma ti-"
c al ly th er an ge of pr ob le ms th at ca nb eh an dl ed .
"Fo re xa mp le , s up po se t ha t a n o nl in e b oo k r et ai le r w ou ld l ik e t o p ro vi de o ve ra ll e va lu-"
a ti on s o f p ro du ct s b as ed o n r ec om me nd at io ns r ec ei ve d f ro m i ts c us to me rs . Th e e va lu at io n
"w il l t ak e t he f or m o f a p os te ri or d is tr ib ut io n o ve r t he q ua li ty o f t he b oo k , g iv en t he a va il-"
"a bl e e vi de nc e . Th es im pl es t s ol ut io n t ob as e t he ev al ua ti on o nt he av er ag e r ec om me nd at io n ,"
"p er ha ps w it ha va ri an ce d et er mi ne db yt he nu mb er of re co mm en da ti on s , b ut th is fa il st ot ak e"
i nt oa cc ou nt th ef ac tt ha ts om ec us to me rs ar ek in de rt ha no th er sa nd so me ar el es sh on es tt ha n
"o th er s . Ki nd c us to me rs t en d t o g iv e h ig h r ec om me nd at io ns e ve n t o f ai rl y m ed io cr e b oo ks ,"
w hi le d is ho ne st c us to me rs g iv e v er y h ig h o r v er y l ow r ec om me nd at io ns f or r ea so ns o th er
"t ha nq ua li ty—f or ex am pl e , t he ym ig ht wo rk fo ra pu bl is he r .6"
"Fo r a s in gl e c us to me r C , r ec om me nd in g a s in gl e b oo k B , t he Ba ye s n et m ig ht l oo k"
1 1
"l ik e t he o ne s ho wn i n Fi gu re 14.17(a). (Ju st a s i n Se ct io n 9.1, e xp re ss io ns w it h p ar en th es es"
"s uc ha s Ho ne st(C )a re ju st fa nc ys ym bo ls—i nt hi sc as e ,f an cy na me sf or ra nd om va ri ab le s .)"
1
6 Ag am et he or is tw ou ld ad vi se ad is ho ne st cu st om er to av oi dd et ec ti on by oc ca si on al ly re co mm en di ng ag oo d
b oo kf ro ma co mp et it or .Se e Ch ap te r 17.
540 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"Wi th tw oc us to me rs a nd tw ob oo ks , t he Ba ye sn et lo ok s l ik e t he o ne in Fi gu re 14.17(b). Fo r"
"l ar ge r n um be rs o f b oo ks a nd c us to me rs , i t b ec om es c om pl et el y i mp ra ct ic al t o s pe ci fy t he"
n et wo rk by ha nd .
"Fo rt un at el y , t he n et wo rk h as a l ot o f r ep ea te d s tr uc tu re . Ea ch Re co mm en da ti on(c ,b)"
"v ar ia bl eh as as it sp ar en ts th ev ar ia bl es Ho ne st(c),Ki nd ne ss(c),a nd Qu al it y(b). Mo re ov er ,"
"t he CPTs f or a ll t he Re co mm en da ti on(c ,b) v ar ia bl es a re i de nt ic al , a s a re t ho se f or a ll t he"
"Ho ne st(c) v ar ia bl es , a nd s o o n . Th e s it ua ti on s ee ms t ai lo r-m ad e f or a f ir st-o rd er l an gu ag e ."
We wo ul dl ik et os ay so me th in g l ik e
"Re co mm en da ti on(c ,b) ∼ Re c CPT(Ho ne st(c),Ki nd ne ss(c),Qu al it y(b))"
w it h t he i nt en de d m ea ni ng t ha t a c us to me r’s r ec om me nd at io n f or a b oo k d ep en ds o n t he
c us to me r’s h on es ty a nd k in dn es s a nd t he b oo k’s q ua li ty a cc or di ng t o s om e f ix ed CPT . Th is
"s ec ti on de ve lo ps a la ng ua ge t ha tl et su ss ay ex ac tl yt hi s ,a nd al ot mo re be si de s ."
14.6.1 Po ss ib le wo rl ds
Re ca ll f ro m Ch ap te r 13 t ha t a p ro ba bi li ty m od el d ef in es a s et Ω o f p os si bl e w or ld s w it h
"a p ro ba bi li ty P(ω) f or e ac h w or ld ω. Fo r Ba ye si an n et wo rk s , t he p os si bl e w or ld s a re a s-"
"s ig nm en ts o f v al ue s t o v ar ia bl es ; f or t he Bo ol ea n c as e i n p ar ti cu la r , t he p os si bl e w or ld s a re"
"i de nt ic al t o t ho se o f p ro po si ti on al l og ic . Fo r a f ir st-o rd er p ro ba bi li ty m od el , t he n , i t s ee ms"
"w e n ee d t he p os si bl e w or ld s t o b e t ho se o f f ir st-o rd er l og ic—t ha t i s , a s et o f o bj ec ts w it h"
"r el at io ns a mo ng t he m a nd a ni nt er pr et at io n t ha t m ap s c on st an t s ym bo ls t oo bj ec ts , p re di ca te"
"s ym bo ls t o r el at io ns , a nd f un ct io n s ym bo ls t o f un ct io ns o n t ho se o bj ec ts . (Se e Se ct io n 8.2.)"
"Th em od el al so ne ed st od ef in ea pr ob ab il it y f or ea ch su ch po ss ib le wo rl d ,j us ta sa Ba ye si an"
n et wo rk de fi ne sa pr ob ab il it y f or ea ch as si gn me nt o fv al ue st ov ar ia bl es .
"Le tu s s up po se , f or a m om en t , t ha t w eh av e f ig ur ed o ut h ow t o d o t hi s . Th en , a s u su al"
"(s ee p ag e 485), w e c an o bt ai n t he p ro ba bi li ty o f a ny f ir st-o rd er l og ic al s en te nc e φ a s a s um"
o ve rt he po ss ib le w or ld sw he re it is tr ue:
(c id:12)
P(φ) = P(ω). (14.13)
ω:φi st ru ei nω
"Co nd it io na l p ro ba bi li ti es P(φ|e)c an be o bt ai ne d s im il ar ly , s ow ec an , i np ri nc ip le , a sk a ny"
"q ue st io n w e w an t o f o ur m od el—e .g ., “Wh ic h b oo ks a re m os t l ik el y t o b e r ec om me nd ed"
"h ig hl yb yd is ho ne st c us to me rs ?”—a nd g et an an sw er . So fa r ,s og oo d ."
"Th er e i s , h ow ev er , a p ro bl em: t he s et o f f ir st-o rd er m od el s i s i nf in it e . We s aw t hi s"
"e xp li ci tl yi n Fi gu re 8.4 o np ag e 293,w hi ch we sh ow ag ai ni n Fi gu re 14.18(t op). Th is me an s"
"t ha t(1)t he su mm at io ni n Eq ua ti on(14.13)c ou ld be in fe as ib le ,a nd(2)s pe ci fy in ga co mp le te ,"
c on si st en t d is tr ib ut io n o ve ra ni nf in it es et of wo rl ds co ul d b ev er yd if fi cu lt .
Se ct io n 14.6.2 e xp lo re s o ne a pp ro ac h t o d ea li ng w it h t hi s p ro bl em . Th e i de a i s t o
b or ro w n ot f ro m t he s ta nd ar d s em an ti cs o f f ir st-o rd er l og ic b ut f ro m t he d at ab as e s em an-
t ic s d ef in ed i n Se ct io n 8.2.8 (p ag e 299). Th e d at ab as e s em an ti cs m ak es t he u ni qu e n am es
"a ss um pt io n—h er e , w ea do pt it fo rt he co ns ta nt s ym bo ls . It al so as su me s d om ai nc lo su re—"
t he re a re n o m or e o bj ec ts t ha n t ho se t ha t a re n am ed . We c an t he n g ua ra nt ee a f in it e s et o f
p os si bl e w or ld s b y m ak in g t he s et o f o bj ec ts i n e ac h w or ld b e e xa ct ly t he s et o f c on st an t
Se ct io n 14.6. Re la ti on al a nd Fi rs t-Or de r Pr ob ab il it y Mo de ls 541
R J R J R J R J R J R J
. . . . . .
. . .
R J R J R J R J R J
R R R R . . . R
J J J J J
Fi gu re 14.18 To p:So me me mb er so ft he se to fa ll po ss ib le wo rl ds fo ra la ng ua ge wi th tw o
"c on st an ts ym bo ls ,Ra nd J ,a nd on eb in ar yr el at io ns ym bo l ,u nd er th es ta nd ar ds em an ti cs fo r"
f ir st-o rd er lo gi c . Bo tt om: t he po ss ib le wo rl ds un de rd at ab as es em an ti cs . Th ei nt er pr et at io n
"o ft he co ns ta nt sy mb ol si sf ix ed ,a nd th er ei sa di st in ct ob je ct fo re ac hc on st an ts ym bo l ."
"s ym bo ls t ha t a re u se d ; a s s ho wn i n Fi gu re 14.18 (b ot to m), t he re i s n o u nc er ta in ty a bo ut t he"
m ap pi ng fr om sy mb ol st oo bj ec ts or ab ou tt he ob je ct st ha te xi st . We wi ll ca ll mo de ls de fi ne d
"RELATIONAL i n t hi s w ay r el at io na l p ro ba bi li ty m od el s , o r RPMs .7 Th e m os t s ig ni fi ca nt d if fe re nc e b e-"
PROBABILITYMODEL
t we en t he s em an ti cs o f RPMs an d t he d at ab as e s em an ti cs i nt ro du ce d i n Se ct io n 8.2.8 i s t ha t
"RPMs do n ot m ak e t he c lo se d-w or ld a ss um pt io n—o bv io us ly , a ss um in g t ha t e ve ry u nk no wn"
f ac ti sf al se do es n’t m ak es en se in ap ro ba bi li st ic r ea so ni ng s ys te m !
"Wh en th eu nd er ly in ga ss um pt io ns of da ta ba se se ma nt ic sf ai lt oh ol d ,RPMs wo n’t wo rk"
"w el l . Fo re xa mp le ,a bo ok re ta il er mi gh tu se an ISBN(In te rn at io na l St an da rd Bo ok Nu mb er)"
"a s a c on st an t s ym bo l t o n am e e ac h b oo k , e ve n t ho ug h a g iv en “l og ic al” b oo k (e .g ., “Go ne"
Wi th t he Wi nd”) m ay h av e s ev er al ISBNs . It w ou ld m ak e s en se t o a gg re ga te r ec om me nd a-
"t io ns a cr os s m ul ti pl e ISBNs , b ut t he r et ai le r m ay n ot k no w f or s ur e w hi ch ISBNs a re r ea ll y"
"t he sa me bo ok . (No te th at we ar en ot re if yi ng t he in di vi du al c op ie so ft he bo ok ,w hi ch mi gh t"
"b e n ec es sa ry f or u se d-b oo k s al es , c ar s al es , a nd s o o n .) Wo rs e s ti ll , e ac h c us to me r i s i de n-"
"t if ie d b y a l og in ID , b ut a d is ho ne st c us to me r m ay h av e t ho us an ds o f IDs ! In t he c om pu te r"
"s ec ur it yf ie ld ,t he se mu lt ip le IDs ar ec al le ds ib yl sa nd th ei ru se to co nf ou nd a re pu ta ti on s ys-"
SIBYL
"t em i s c al le d a s ib yl a tt ac k . Th us , e ve n a s im pl e a pp li ca ti on i n a r el at iv el y w el l-d ef in ed ,"
SIBYLATTACK
EXISTENCE o nl in e d om ai n i nv ol ve s b ot h e xi st en ce u nc er ta in ty (w ha t a re t he r ea l b oo ks a nd c us to me rs
UNCERTAINTY
IDENTITY u nd er ly in g t he o bs er ve d d at a) a nd i de nt it y u nc er ta in ty (w hi ch s ym bo l r ea ll y r ef er t o t he
UNCERTAINTY
s am eo bj ec t). We ne ed to bi te th eb ul le t a nd de fi ne pr ob ab il it y m od el sb as ed on th es ta nd ar d
"s em an ti cs o f f ir st-o rd er l og ic , f or w hi ch t he p os si bl e w or ld s v ar y i n t he o bj ec ts t he y c on ta in"
a nd in th em ap pi ng s f ro ms ym bo ls to ob je ct s . Se ct io n 14.6.3 s ho ws ho wt od ot hi s .
"7 Th en am er el at io na lp ro ba bi li ty mo de lw as gi ve nb y Pf ef fe r(2000)t oa sl ig ht ly di ff er en tr ep re se nt at io n ,b ut"
t he un de rl yi ng id ea sa re th es am e .
542 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
14.6.2 Re la ti on al pr ob ab il it y m od el s
"Li ke f ir st-o rd er l og ic , RPMs ha ve c on st an t , f un ct io n , a nd p re di ca te s ym bo ls . (It t ur ns o ut t o"
b e e as ie r t o v ie w p re di ca te s a s f un ct io ns t ha t r et ur n t ru e o r f al se .) We w il l a ls o a ss um e a
"t yp es ig na tu re fo re ac hf un ct io n ,t ha ti s ,a sp ec if ic at io no ft he ty pe of ea ch ar gu me nt an dt he"
TYPESIGNATURE
"f un ct io n’s va lu e . If th et yp eo fe ac ho bj ec ti sk no wn ,m an ys pu ri ou sp os si bl ew or ld sa re el im-"
"i na te d b y t hi s m ec ha ni sm . Fo r t he b oo k-r ec om me nd at io n d om ai n , t he t yp es a re Cu st om er"
"a nd Bo ok ,a nd th et yp es ig na tu re s f or th ef un ct io ns a nd pr ed ic at es a re as fo ll ow s:"
"Ho ne st : Cu st om er → {t ru e ,f al se}Ki nd ne ss : Cu st om er → {1,2,3,4,5}"
"Qu al it y :Bo ok → {1,2,3,4,5}"
"Re co mm en da ti on : Cu st om er ×Bo ok → {1,2,3,4,5}"
Th ec on st an ts ym bo ls wi ll be wh at ev er cu st om er an db oo kn am es ap pe ar in th er et ai le r’s da ta
"s et . In th ee xa mp le gi ve ne ar li er(Fi gu re 14.17(b)), t he se we re C , C a nd B , B ."
1 2 1 2
"Gi ve n t he c on st an ts a nd t he ir t yp es , t og et he r w it h t he f un ct io ns a nd t he ir t yp e s ig na-"
"t ur es ,t he ra nd om va ri ab le so ft he RPMa re ob ta in ed by in st an ti at in g e ac hf un ct io n w it he ac h"
"p os si bl e c om bi na ti on o f o bj ec ts: Ho ne st(C ), Qu al it y(B ), Re co mm en da ti on(C ,B ),"
1 2 1 2
a nd s o o n . Th es e a re e xa ct ly t he v ar ia bl es a pp ea ri ng i n Fi gu re 14.17(b). Be ca us e e ac h t yp e
"h as on ly fi ni te ly ma ny in st an ce s , t he nu mb er of ba si cr an do mv ar ia bl es i sa ls of in it e ."
"To c om pl et e t he RPM , w e h av e t o w ri te t he d ep en de nc ie s t ha t g ov er n t he se r an do m"
"v ar ia bl es . Th er ei so ne de pe nd en cy s ta te me nt f or ea ch fu nc ti on , w he re ea ch ar gu me nt o ft he"
"f un ct io n i sa lo gi ca lv ar ia bl e (i .e .,a va ri ab le th at ra ng es o ve ro bj ec ts , a si nf ir st-o rd er lo gi c):"
"Ho ne st(c) ∼ (c id:16)0.99,0.01(c id:17)"
"Ki nd ne ss(c) ∼ (c id:16)0.1,0.1,0.2,0.3,0.3(c id:17)"
"Qu al it y(b) ∼ (c id:16)0.05,0.2,0.4,0.2,0.15(c id:17)"
"Re co mm en da ti on(c ,b) ∼ Re c CPT(Ho ne st(c),Ki nd ne ss(c),Qu al it y(b))"
"w he re Re c CPT i s a s ep ar at el y d ef in ed c on di ti on al d is tr ib ut io n w it h 2×5×5=50 r ow s ,"
e ac h w it h 5 e nt ri es . Th e s em an ti cs o f t he RPM c an b e o bt ai ne d b y i ns ta nt ia ti ng t he se d e-
"p en de nc ie s f or a ll k no wn c on st an ts , g iv in g a Ba ye si an n et wo rk (a s i n Fi gu re 14.17(b)) t ha t"
d ef in es aj oi nt di st ri bu ti on o ve rt he RPM’s ra nd om va ri ab le s .8
CONTEXT-SPECIFIC We ca nr ef in et he mo de lb yi nt ro du ci ng a c on te xt-s pe ci fi c i nd ep en de nc et or ef le ct th e
INDEPENDENCE
"f ac tt ha td is ho ne st cu st om er si gn or eq ua li ty wh en gi vi ng ar ec om me nd at io n ; m or eo ve r ,k in d-"
n es sp la ys no ro le in th ei rd ec is io ns . Ac on te xt-s pe ci fi c i nd ep en de nc e a ll ow sa va ri ab le t ob e
"i nd ep en de nt of so me of it sp ar en ts gi ve nc er ta in va lu es of ot he rs ;t hu s ,Re co mm en da ti on(c ,b)"
i si nd ep en de nt o f Ki nd ne ss(c)a nd Qu al it y(b)w he n Ho ne st(c)=f al se:
"Re co mm en da ti on(c ,b) ∼ i f Ho ne st(c) t he n"
"Ho ne st Re c CPT(Ki nd ne ss(c),Qu al it y(b))"
"e ls e(c id:16)0.4,0.1,0.0,0.1,0.4(c id:17) ."
"8 So me te ch ni ca lc on di ti on s m us tb eo bs er ve d t og ua ra nt ee th at th e RPMd ef in es ap ro pe rd is tr ib ut io n . Fi rs t ,"
"t he de pe nd en ci es mu st be ac yc li c ,o th er wi se th er es ul ti ng Ba ye si an ne tw or kw il lh av ec yc le sa nd wi ll no td ef in e"
"a pr op er di st ri bu ti on . Se co nd ,t he de pe nd en ci es mu st be w el l-f ou nd ed ,t ha ti s ,t he re ca nb en oi nf in it ea nc es to r"
"c ha in s ,s uc ha sm ig ht ar is ef ro mr ec ur si ve de pe nd en ci es . Un de rs om ec ir cu ms ta nc es(s ee Ex er ci se 14.6),a fi xe d-"
p oi nt ca lc ul at io ny ie ld sa we ll-d ef in ed pr ob ab il it ym od el fo ra re cu rs iv e RPM .
Se ct io n 14.6. Re la ti on al a nd Fi rs t-Or de r Pr ob ab il it y Mo de ls 543
"Fa n(C , A ) Fa n(C , A ) Au th or(B )"
1 1 1 2 2
Qu al it y(B ) Ho ne st y(C ) Ki nd ne ss(C ) Qu al it y(B )
1 1 1 2
"Re co mm en da ti on(C , B ) Re co mm en da ti on(C , B )"
1 1 2 1
Fi gu re 14.19 Fr ag me nt of th ee qu iv al en t Ba ye sn et wh en Au th or(B )i su nk no wn .
2
Th is ki nd of de pe nd en cy ma yl oo kl ik ea no rd in ar yi f–t he n–e ls es ta te me nt on ap ro gr am mi ng
"l an gu ag e , b ut t he re i s a k ey d if fe re nc e: t he i nf er en ce e ng in e d oe sn’t n ec es sa ri ly k no w t he"
v al ue of th ec on di ti on al t es t !
"We c an e la bo ra te t hi s m od el i n e nd le ss w ay s t o m ak e i t m or e r ea li st ic . Fo r e xa mp le ,"
"s up po se t ha t a n h on es t c us to me r w ho i s a f an o f a b oo k’s a ut ho r a lw ay s g iv es t he b oo k a 5,"
r eg ar dl es so fq ua li ty:
"Re co mm en da ti on(c ,b) ∼ i f Ho ne st(c)t he n"
"i f Fa n(c ,Au th or(b))t he n Ex ac tl y(5)"
"e ls e Ho ne st Re c CPT(Ki nd ne ss(c),Qu al it y(b))"
"e ls e(c id:16)0.4,0.1,0.0,0.1,0.4(c id:17)"
"Ag ai n ,t he co nd it io na l t es t Fa n(c ,Au th or(b))i su nk no wn ,b ut if ac us to me rg iv es on ly 5 s to"
"a pa rt ic ul ar au th or’s bo ok sa nd is no to th er wi se es pe ci al ly k in d ,t he nt he po st er io rp ro ba bi li ty"
"t ha t t he c us to me r i s a fa n o f t ha t a ut ho r w il lb e h ig h . Fu rt he rm or e , t he p os te ri or d is tr ib ut io n"
w il lt en dt od is co un t t he cu st om er’s 5 s in ev al ua ti ng t he qu al it yo ft ha ta ut ho r’s bo ok s .
"In th ep re ce di ng e xa mp le ,w ei mp li ci tl ya ss um ed th at th ev al ue of Au th or(b)i sk no wn"
"f or ev er y b ,b ut t hi s m ay no tb et he c as e . Ho wc an th es ys te m r ea so n a bo ut w he th er , s ay , C"
1
i s a f an o f Au th or(B ) w he n Au th or(B ) i s u nk no wn ? Th e a ns we r i s t ha t t he s ys te m m ay
2 2
h av et or ea so n a bo ut a ll po ss ib le a ut ho rs . Su pp os e (t ok ee pt hi ng s s im pl e)t ha tt he re ar ej us t
"t wo a ut ho rs , A a nd A . Th en Au th or(B ) i s a r an do m v ar ia bl e w it h t wo p os si bl e v al ue s ,"
1 2 2
"A a nd A ,a nd it is ap ar en to f Re co mm en da ti on(C ,B ). Th ev ar ia bl es Fa n(C ,A )a nd"
1 2 1 2 1 1
"Fa n(C ,A )a re p ar en ts t oo . Th ec on di ti on al d is tr ib ut io n f or Re co mm en da ti on(C ,B )i s"
1 2 1 2
t he n e ss en ti al ly a m ul ti pl ex er i n w hi ch t he Au th or(B ) p ar en t a ct s a s a s el ec to r t o c ho os e
MULTIPLEXER 2
"w hi ch o f Fa n(C ,A ) a nd Fa n(C ,A ) a ct ua ll y g et s t o i nf lu en ce t he r ec om me nd at io n . A"
1 1 1 2
f ra gm en t o f t he e qu iv al en t Ba ye s n et i s s ho wn i n Fi gu re 14.19. Un ce rt ai nt y i n t he v al ue
"o f Au th or(B ), w hi ch a ff ec ts t he d ep en de nc y s tr uc tu re o f t he n et wo rk , i s a n i ns ta nc e o f"
2
RELATIONAL r el at io na l u nc er ta in ty .
UNCERTAINTY
In c as e y ou a re w on de ri ng h ow t he s ys te m c an p os si bl y w or k o ut w ho t he a ut ho r o f
B i s: c on si de r t he p os si bi li ty t ha t t hr ee o th er c us to me rs a re f an s o f A (a nd h av e n o o th er
2 1
"f av or it e a ut ho rs i n c om mo n) a nd a ll t hr ee h av e g iv en B a 5, e ve n t ho ug h m os t o th er c us-"
2
"t om er s f in d i t q ui te d is ma l . In t ha t c as e , i t i s e xt re me ly l ik el y t ha t A i s t he a ut ho r o f B ."
1 2
544 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
Th e e me rg en ce o f s op hi st ic at ed r ea so ni ng l ik e t hi s f ro m a n RPM m od el o f j us t a f ew l in es
i sa ni nt ri gu in g e xa mp le of ho w p ro ba bi li st ic i nf lu en ce s s pr ea d t hr ou gh t he we bo fi nt er co n-
"n ec ti on sa mo ng ob je ct si nt he mo de l . As mo re de pe nd en ci es a nd mo re ob je ct sa re ad de d ,t he"
p ic tu re co nv ey ed b yt he po st er io rd is tr ib ut io n o ft en be co me sc le ar er an dc le ar er .
Th e n ex t q ue st io n i s h ow t o d o i nf er en ce i n RPMs . On e a pp ro ac h i s t o c ol le ct t he
"e vi de nc e a nd q ue ry a nd t he c on st an t s ym bo ls t he re in , c on st ru ct t he e qu iv al en t Ba ye s n et ,"
a nd a pp ly a ny o f t he i nf er en ce m et ho ds d is cu ss ed i n t hi s c ha pt er . Th is t ec hn iq ue i s c al le d
u nr ol li ng . Th eo bv io us d ra wb ac ki st ha tt he re su lt in g Ba ye sn et ma yb ev er yl ar ge . Fu rt he r-
UNROLLING
"m or e ,i ft he re ar em an yc an di da te o bj ec ts fo ra nu nk no wn re la ti on or fu nc ti on—f or e xa mp le ,"
t he un kn ow na ut ho ro f B —t he ns om ev ar ia bl es i nt he ne tw or km ay ha ve ma ny pa re nt s .
2
"Fo rt un at el y , m uc h c an b e d on e t o i mp ro ve o n g en er ic i nf er en ce a lg or it hm s . Fi rs t , t he"
p re se nc e o f r ep ea te d s ub st ru ct ur e i n t he u nr ol le d Ba ye s n et m ea ns t ha t m an y o f t he f ac to rs
c on st ru ct ed d ur in g v ar ia bl e e li mi na ti on (a nd s im il ar k in ds o f t ab le s c on st ru ct ed b y c lu st er-
i ng a lg or it hm s) w il l b e i de nt ic al ; e ff ec ti ve c ac hi ng s ch em es h av e y ie ld ed s pe ed up s o f t hr ee
"o rd er so fm ag ni tu de fo rl ar ge ne tw or ks . Se co nd ,i nf er en ce me th od sd ev el op ed to ta ke ad va n-"
"t ag e o fc on te xt-s pe ci fi c i nd ep en de nc e i n Ba ye sn et s f in dm an ya pp li ca ti on s i n RPMs . Th ir d ,"
MCMC i nf er en ce a lg or it hm s h av e s om e i nt er es ti ng p ro pe rt ie s w he n a pp li ed t o RPMs w it h
"r el at io na l u nc er ta in ty . MCMCw or ks by sa mp li ng co mp le te p os si bl e w or ld s ,s oi ne ac hs ta te"
"t he re la ti on al s tr uc tu re i sc om pl et el y k no wn . In th ee xa mp le gi ve ne ar li er , e ac h MCMCs ta te"
"w ou ld sp ec if yt he va lu eo f Au th or(B ),a nd so th eo th er po te nt ia l a ut ho rs ar en ol on ge rp ar-"
2
"e nt so ft he re co mm en da ti on no de sf or B . Fo r MCMC ,t he n ,r el at io na lu nc er ta in ty c au se sn o"
2
"i nc re as ei nn et wo rk co mp le xi ty ; i ns te ad ,t he MCMCp ro ce ss in cl ud es tr an si ti on s t ha tc ha ng e"
"t he re la ti on al s tr uc tu re , a nd he nc et he de pe nd en cy s tr uc tu re , o ft he un ro ll ed n et wo rk ."
Al lo ft he me th od sj us td es cr ib ed as su me th at th e RPMh as to be pa rt ia ll yo rc om pl et el y
u nr ol le d i nt o a Ba ye si an n et wo rk . Th is i s e xa ct ly a na lo go us t o t he m et ho d o f p ro po si ti on-
a li za ti on f or f ir st-o rd er l og ic al i nf er en ce . (Se e p ag e 322.) Re so lu ti on t he or em-p ro ve rs a nd
l og ic p ro gr am mi ng s ys te ms a vo id p ro po si ti on al iz in g b y i ns ta nt ia ti ng t he l og ic al v ar ia bl es
"o nl ya sn ee de dt om ak et he in fe re nc eg ot hr ou gh ;t ha ti s ,t he yl if tt he in fe re nc ep ro ce ss ab ov e"
t he l ev el o f g ro un d p ro po si ti on al s en te nc es a nd m ak e e ac h l if te d s te p d o t he w or k o f m an y
"g ro un d s te ps . Th es am e i de a a pp li ed i np ro ba bi li st ic i nf er en ce . Fo re xa mp le , i nt he v ar ia bl e"
"e li mi na ti on a lg or it hm , a li ft ed f ac to rc an re pr es en t a ne nt ir e s et of gr ou nd f ac to rs t ha t a ss ig n"
"p ro ba bi li ti es to ra nd om va ri ab le si nt he RPM ,w he re th os er an do mv ar ia bl es di ff er on ly in th e"
c on st an t s ym bo ls u se dt oc on st ru ct t he m . Th ed et ai ls of th is m et ho da re be yo nd t he sc op eo f
"t hi sb oo k ,b ut re fe re nc es a re gi ve na tt he en do ft he ch ap te r ."
14.6.3 Op en-u ni ve rs e p ro ba bi li ty m od el s
We a rg ue d e ar li er t ha t d at ab as e s em an ti cs w as a pp ro pr ia te f or s it ua ti on s i n w hi ch w e k no w
e xa ct ly th es et of re le va nt ob je ct st ha te xi st an dc an id en ti fy th em un am bi gu ou sl y . (In pa rt ic-
"u la r , a ll o bs er va ti on s a bo ut a n o bj ec t a re c or re ct ly a ss oc ia te d w it h t he c on st an t s ym bo l t ha t"
"n am es it .) In ma ny re al-w or ld se tt in gs ,h ow ev er ,t he se as su mp ti on sa re si mp ly un te na bl e . We"
g av et he ex am pl es of mu lt ip le ISBNs an ds ib yl a tt ac ks i nt he bo ok-r ec om me nd at io n d om ai n
"(t ow hi ch we wi ll re tu rn in am om en t),b ut th ep he no me no n i sf ar mo re pe rv as iv e:"
Se ct io n 14.6. Re la ti on al a nd Fi rs t-Or de r Pr ob ab il it y Mo de ls 545
"• Av is io ns ys te md oe sn’t kn ow wh at ex is ts ,i fa ny th in g ,a ro un dt he ne xt co rn er ,a nd ma y"
n ot kn ow if th eo bj ec ti ts ee sn ow is th es am eo ne it sa wa fe wm in ut es ag o .
• At ex t-u nd er st an di ng s ys te md oe sn ot kn ow in ad va nc et he en ti ti es th at wi ll be fe at ur ed
"i n a t ex t , a nd m us t r ea so n a bo ut w he th er p hr as es s uc h a s “Ma ry ,” “Dr . Sm it h ,” “s he ,”"
"“h is ca rd io lo gi st ,” “h is mo th er ,”a nd so on re fe rt ot he sa me o bj ec t ."
• An in te ll ig en ce a na ly st h un ti ng f or sp ie s n ev er k no ws h ow m an y s pi es t he re r ea ll y a re
"a nd ca no nl yg ue ss wh et he rv ar io us ps eu do ny ms , p ho ne nu mb er s ,a nd si gh ti ng sb el on g"
t ot he sa me in di vi du al .
"In f ac t , a m aj or p ar t o f h um an c og ni ti on s ee ms t o r eq ui re l ea rn in g w ha t o bj ec ts e xi st a nd"
b ei ng ab le to co nn ec to bs er va ti on s—w hi ch a lm os tn ev er co me wi th un iq ue IDs at ta ch ed—t o
h yp ot he si ze d o bj ec ts in th ew or ld .
"Fo r t he se r ea so ns , w e n ee d t o b e a bl e t o w ri te s o-c al le d o pe n-u ni ve rs e p ro ba bi li ty"
OPENUNIVERSE
"m od el s o r OUPMs b as ed o n t he s ta nd ar d s em an ti cs o f f ir st-o rd er l og ic , a s i ll us tr at ed a t t he"
t op o f Fi gu re 14.18. A l an gu ag e f or OUPMs p ro vi de s a w ay o f w ri ti ng s uc h m od el s e as il y
"w hi le g ua ra nt ee in g a u ni qu e , c on si st en t p ro ba bi li ty d is tr ib ut io n o ve r t he i nf in it e s pa ce o f"
p os si bl e w or ld s .
Th e b as ic i de a i s t o u nd er st an d h ow o rd in ar y Ba ye si an n et wo rk s a nd RPMs m an ag e
t o d ef in e a u ni qu e p ro ba bi li ty m od el a nd t o t ra ns fe r t ha t i ns ig ht t o t he f ir st-o rd er s et ti ng . In
"e ss en ce , a Ba ye s n et g en er at es e ac h p os si bl e w or ld , e ve nt b y e ve nt , i n t he t op ol og ic al o rd er"
"d ef in ed b yt he ne tw or k s tr uc tu re , w he re ea ch e ve nt is an as si gn me nt o fa va lu et oa va ri ab le ."
"An RPM e xt en ds t hi s t o e nt ir e s et s o f e ve nt s , d ef in ed b y t he p os si bl e i ns ta nt ia ti on s o f t he"
l og ic al v ar ia bl es i na gi ve n p re di ca te o rf un ct io n . OUPMs go f ur th er b ya ll ow in g g en er at iv e
"s te ps t ha t a dd o bj ec ts t o t he p os si bl e w or ld u nd er c on st ru ct io n , w he re t he n um be r a nd t yp e"
"o f o bj ec ts m ay d ep en d o n t he o bj ec ts t ha t a re a lr ea dy i n t ha t w or ld . Th at i s , t he e ve nt b ei ng"
"g en er at ed i sn ot th ea ss ig nm en t o fa va lu et oa va ri ab le , b ut th ev er ye xi st en ce o fo bj ec ts ."
On ew ay to do th is in OUPMs is to ad ds ta te me nt s t ha td ef in ec on di ti on al d is tr ib ut io ns
"o ve r t he n um be rs o f o bj ec ts o f v ar io us k in ds . Fo r e xa mp le , i n t he b oo k-r ec om me nd at io n"
"d om ai n , w e m ig ht w an t t o d is ti ng ui sh b et we en c us to me rs (r ea l p eo pl e) a nd t he ir l og in IDs ."
"Su pp os ew ee xp ec ts om ew he re be tw ee n 100 a nd 10,000 d is ti nc tc us to me rs(w ho mw ec an no t"
o bs er ve di re ct ly). We ca ne xp re ss th is as ap ri or lo g-n or ma l d is tr ib ut io n 9 a sf ol lo ws:
"#Cu st om er ∼ Lo g No rm al[6.9,2.32]()."
"We e xp ec t h on es t c us to me rs t o h av e j us t o ne ID , w he re as d is ho ne st c us to me rs m ig ht h av e"
a ny wh er eb et we en 10 a nd 1000 IDs:
#Lo gi n ID(Ow ne r =c) ∼ i f Ho ne st(c)t he n Ex ac tl y(1)
"e ls e Lo g No rm al[6.9,2.32]()."
"Th is s ta te me nt d ef in es t he n um be r o f l og in IDs f or a g iv en o wn er , w ho i s a c us to me r . Th e"
Ow ne r f un ct io n i s c al le d a n o ri gi n f un ct io n b ec au se i t s ay s w he re e ac h g en er at ed o bj ec t
ORIGINFUNCTION
"c am ef ro m . In th ef or ma l s em an ti cs o f BLOG (a sd is ti nc t f ro m f ir st-o rd er l og ic), t he do ma in"
"e le me nt si ne ac hp os si bl ew or ld ar ea ct ua ll yg en er at io nh is to ri es(e .g .,“t he fo ur th lo gi n IDo f"
t he se ve nt hc us to me r”)r at he rt ha ns im pl et ok en s .
"9 Ad is tr ib ut io n Lo g No rm al[μ,σ2](x)i se qu iv al en tt oa di st ri bu ti on N[μ,σ2](x)o ve rl og (x)."
e
546 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
Su bj ec t t o t ec hn ic al c on di ti on s o f a cy cl ic it y a nd w el l-f ou nd ed ne ss s im il ar t o t ho se f or
"RPMs , o pe n-u ni ve rs e m od el s o f t hi s k in d d ef in e a u ni qu e d is tr ib ut io n o ve r p os si bl e w or ld s ."
"Fu rt he rm or e , t he re e xi st i nf er en ce a lg or it hm s s uc h t ha t , f or e ve ry s uc h w el l-d ef in ed m od el"
"a nd e ve ry f ir st-o rd er q ue ry , t he a ns we r r et ur ne d a pp ro ac he s t he t ru e p os te ri or a rb it ra ri ly"
c lo se ly i n t he l im it . Th er e a re s om e t ri ck y i ss ue s i nv ol ve d i n d es ig ni ng t he se a lg or it hm s .
"Fo r e xa mp le , a n MCMC a lg or it hm c an no t s am pl e d ir ec tl y i n t he s pa ce o f p os si bl e w or ld s"
"w he n t he s iz e o f t ho se w or ld s i s u nb ou nd ed ; i ns te ad , i t s am pl es f in it e , p ar ti al w or ld s , r el y-"
i ng o n t he f ac t t ha t o nl y f in it el y m an y o bj ec ts c an b e r el ev an t t o t he q ue ry i n d is ti nc t w ay s .
"Mo re ov er , t ra ns it io ns m us t a ll ow f or me rg in g t wo o bj ec ts i nt o o ne o rs pl it ti ng o ne i nt o t wo ."
"(De ta il s a re g iv en i n t he r ef er en ce s a t t he e nd o f t he c ha pt er .) De sp it e t he se c om pl ic at io ns ,"
t he ba si cp ri nc ip le es ta bl is he d i n Eq ua ti on(14.13)s ti ll ho ld s: t he pr ob ab il it y o fa ny se nt en ce
i sw el ld ef in ed an dc an be ca lc ul at ed .
"Re se ar ch in th is ar ea is st il la ta ne ar ly st ag e , b ut al re ad y i ti sb ec om in g c le ar th at fi rs t-"
o rd er pr ob ab il is ti c r ea so ni ng y ie ld sa tr em en do us i nc re as e i nt he ef fe ct iv en es s o f AIs ys te ms
a t h an dl in g u nc er ta in i nf or ma ti on . Po te nt ia l a pp li ca ti on s i nc lu de t ho se m en ti on ed a bo ve—
"c om pu te r v is io n , t ex t u nd er st an di ng , a nd i nt el li ge nc e a na ly si s—a s w el l a sm an yo th er k in ds"
o fs en so ri nt er pr et at io n .
14.7 OTHER APPROACHES TO UNCERTAIN REASONING
"Ot he r s ci en ce s (e .g ., p hy si cs , g en et ic s , a nd e co no mi cs) h av e l on g f av or ed p ro ba bi li ty a s a"
"m od el f or un ce rt ai nt y . In 1819, Pi er re La pl ac e s ai d , “Pr ob ab il it y t he or y i s n ot hi ng b ut c om-"
"m on s en se r ed uc ed t o c al cu la ti on .” In 1850, Ja me s Ma xw el l s ai d , “Th e t ru e l og ic f or t hi s"
"w or ld i st he c al cu lu s o f Pr ob ab il it ie s , w hi ch t ak es a cc ou nt o ft he m ag ni tu de o ft he p ro ba bi l-"
"i ty wh ic hi s ,o ro ug ht to be ,i na re as on ab le m an’s mi nd .”"
"Gi ve n t hi s l on g t ra di ti on , i t i s p er ha ps s ur pr is in g t ha t AI h as c on si de re d m an y a lt er na-"
t iv es t o p ro ba bi li ty . Th e e ar li es t e xp er t s ys te ms o f t he 1970 s i gn or ed u nc er ta in ty a nd u se d
"s tr ic tl og ic al re as on in g ,b ut it so on be ca me cl ea rt ha tt hi s w as im pr ac ti ca lf or mo st re al-w or ld"
d om ai ns . Th e n ex t g en er at io n o fe xp er t s ys te ms (e sp ec ia ll y i n m ed ic al d om ai ns) u se d p ro b-
"a bi li st ic t ec hn iq ue s . In it ia l r es ul ts w er e p ro mi si ng , b ut t he y d id n ot s ca le u p b ec au se o f t he"
e xp on en ti al nu mb er of pr ob ab il it ie s r eq ui re di nt he fu ll jo in td is tr ib ut io n . (Ef fi ci en t Ba ye si an
"n et wo rk a lg or it hm s w er e u nk no wn t he n .) As a r es ul t , p ro ba bi li st ic a pp ro ac he s f el l o ut o f"
"f av or f ro m r ou gh ly 1975 t o 1988, a nd a va ri et y o fa lt er na ti ve s t op ro ba bi li ty w er et ri ed f or a"
v ar ie ty of re as on s:
"• On e c om mo n v ie w i s t ha t p ro ba bi li ty t he or y i s e ss en ti al ly n um er ic al , w he re as h um an"
"j ud gm en ta l r ea so ni ng i s m or e “q ua li ta ti ve .” Ce rt ai nl y , w e a re n ot c on sc io us ly a wa re"
o f d oi ng n um er ic al c al cu la ti on s o f d eg re es o f b el ie f . (Ne it he r a re w e a wa re o f d oi ng
"u ni fi ca ti on , y et w e s ee m t o b e c ap ab le o f s om e k in d o f l og ic al r ea so ni ng .) It m ig ht b e"
t ha t w e h av e s om e k in d o f n um er ic al d eg re es o f b el ie f e nc od ed d ir ec tl y i n s tr en gt hs
"o f c on ne ct io ns a nd a ct iv at io ns i n o ur n eu ro ns . In t ha t c as e , t he d if fi cu lt y o f c on sc io us"
a cc es st ot ho se st re ng th si sn ot su rp ri si ng . On es ho ul da ls o n ot et ha tq ua li ta ti ve re as on-
Se ct io n 14.7. Ot he r Ap pr oa ch es t o Un ce rt ai n Re as on in g 547
"i ng me ch an is ms c an be bu il td ir ec tl y o nt op of pr ob ab il it y t he or y , s ot he“n on um be rs”"
"a rg um en t a ga in st p ro ba bi li ty h as l it tl e f or ce . No ne th el es s , s om e q ua li ta ti ve s ch em es"
h av e a g oo d d ea l o f a pp ea l i n t he ir o wn r ig ht . On e o f t he b es t s tu di ed i s d ef au lt r ea-
"s on in g ,w hi ch tr ea ts c on cl us io ns n ot as“b el ie ve d t oa ce rt ai nd eg re e ,” b ut as“b el ie ve d"
u nt il a b et te r r ea so n i s f ou nd t o b el ie ve s om et hi ng e ls e .” De fa ul t r ea so ni ng i s c ov er ed
i n Ch ap te r 12.
• Ru le-b as ed a pp ro ac he s t o u nc er ta in ty h av e a ls o b ee n t ri ed . Su ch a pp ro ac he s h op e t o
"b ui ld o n t he s uc ce ss o f l og ic al r ul e-b as ed s ys te ms , b ut a dd a s or t o f “f ud ge f ac to r” t o"
e ac hr ul et oa cc om mo da te un ce rt ai nt y . Th es em et ho ds we re de ve lo pe di nt he mi d-1970 s
a nd fo rm ed th eb as is fo ra la rg en um be ro fe xp er ts ys te ms in me di ci ne an do th er ar ea s .
"• On e a re a t ha t w e h av e n ot a dd re ss ed s o f ar i s t he q ue st io n o f i gn or an ce , a s o pp os ed"
"t o u nc er ta in ty . Co ns id er t he f li pp in g o f a c oi n . If w e k no w t ha t t he c oi n i s f ai r , t he n"
"a p ro ba bi li ty o f 0.5 f or h ea ds i s r ea so na bl e . If w e k no w t ha t t he c oi n i s b ia se d , b ut"
"w e d o n ot k no w w hi ch w ay , t he n 0.5 f or h ea ds i s a ga in r ea so na bl e . Ob vi ou sl y , t he"
"t wo ca se sa re di ff er en t , y et th eo ut co me pr ob ab il it y s ee ms no tt od is ti ng ui sh t he m . Th e"
De mp st er–Sh af er th eo ry us es in te rv al-v al ue dd eg re es of be li ef to re pr es en ta na ge nt’s
k no wl ed ge of th ep ro ba bi li ty o fa pr op os it io n .
• Pr ob ab il it ym ak es th es am eo nt ol og ic al co mm it me nt as lo gi c: t ha tp ro po si ti on s a re tr ue
"o rf al se in th ew or ld , e ve ni ft he ag en ti su nc er ta in a st ow hi ch is th ec as e . Re se ar ch er s"
i nf uz zy lo gi ch av ep ro po se da no nt ol og yt ha ta ll ow sv ag ue ne ss: t ha ta pr op os it io n c an
b e“s or to f”t ru e . Va gu en es sa nd un ce rt ai nt y a re in fa ct or th og on al i ss ue s .
Th en ex tt hr ee su bs ec ti on st re at so me of th es ea pp ro ac he si ns li gh tl ym or ed ep th . We wi ll no t
"p ro vi de de ta il ed t ec hn ic al m at er ia l ,b ut we ci te re fe re nc es f or fu rt he rs tu dy ."
14.7.1 Ru le-b as ed m et ho ds f or un ce rt ai n r ea so ni ng
Ru le-b as ed s ys te ms e me rg ed f ro m e ar ly w or k o n p ra ct ic al a nd i nt ui ti ve s ys te ms f or l og ic al
"i nf er en ce . Lo gi ca ls ys te ms in ge ne ra l ,a nd lo gi ca lr ul e-b as ed sy st em si np ar ti cu la r ,h av et hr ee"
d es ir ab le p ro pe rt ie s:
"• Lo ca li ty: In l og ic al s ys te ms , w he ne ve r w e h av e a r ul e o f t he f or m A ⇒ B , w e c an"
LOCALITY
"c on cl ud e B ,g iv en ev id en ce A ,w it ho ut wo rr yi ng ab ou ta ny ot he rr ul es . In pr ob ab il is ti c"
"s ys te ms ,w en ee dt oc on si de r a ll th ee vi de nc e ."
"• De ta ch me nt: On ce al og ic al pr oo fi sf ou nd fo ra pr op os it io n B ,t he pr op os it io n c an be"
DETACHMENT
"u se dr eg ar dl es so fh ow it wa sd er iv ed . Th at is ,i tc an be d et ac he df ro mi ts ju st if ic at io n ."
"In de al in g w it h p ro ba bi li ti es , o n t he o th er h an d , t he s ou rc e o f t he e vi de nc e f or a b el ie f"
i si mp or ta nt fo rs ub se qu en t r ea so ni ng .
"TRUTH- • Tr ut h-f un ct io na li ty: In l og ic , t he t ru th o f c om pl ex s en te nc es c an b e c om pu te d f ro m"
FUNCTIONALITY
"t he t ru th o f t he c om po ne nt s . Pr ob ab il it y c om bi na ti on d oe s n ot w or k t hi s w ay , e xc ep t"
u nd er st ro ng gl ob al in de pe nd en ce a ss um pt io ns .
Th er e h av e b ee n s ev er al a tt em pt s t o d ev is e u nc er ta in r ea so ni ng s ch em es t ha t r et ai n t he se
a dv an ta ge s . Th e i de a i s t o a tt ac h d eg re es o f b el ie f t o p ro po si ti on s a nd r ul es a nd t o d ev is e
p ur el y l oc al s ch em es f or c om bi ni ng a nd p ro pa ga ti ng t ho se d eg re es o f b el ie f . Th e s ch em es
548 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
"a re al so tr ut h-f un ct io na l ; f or ex am pl e ,t he de gr ee of be li ef in A∨B i sa fu nc ti on of th eb el ie f"
i n Aa nd th eb el ie fi n B .
"Th eb ad ne ws fo rr ul e-b as ed s ys te ms i st ha tt he pr op er ti es o f l oc al it y , d et ac hm en t , a nd"
t ru th-f un ct io na li ty a re s im pl y n ot a pp ro pr ia te f or u nc er ta in r ea so ni ng . Le t u s l oo k a t t ru th-
"f un ct io na li ty f ir st . Le t H b et he ev en tt ha ta fa ir co in fl ip co me su ph ea ds ,l et T b et he ev en t"
1 1
"t ha t t he c oi n c om es u p t ai ls o n t ha t s am e f li p , a nd l et H b e t he e ve nt t ha t t he c oi n c om es"
2
"u p h ea ds o n a s ec on d f li p . Cl ea rl y , a ll t hr ee e ve nt s h av e t he s am e p ro ba bi li ty , 0.5, a nd s o a"
t ru th-f un ct io na l s ys te m m us t a ss ig n t he s am e b el ie f t o t he d is ju nc ti on o f a ny t wo o f t he m .
Bu t w e c an s ee t ha t t he p ro ba bi li ty o f t he d is ju nc ti on d ep en ds o n t he e ve nt s t he ms el ve s a nd
n ot ju st on th ei rp ro ba bi li ti es:
P(A) P(B) P(A∨B)
P(H ) = 0.5 P(H ∨H )= 0.50
1 1 1
P(H ) = 0.5 P(T ) = 0.5 P(H ∨T )= 1.00
1 1 1 1
P(H ) = 0.5 P(H ∨H )= 0.75
2 1 2
It g et s w or se w he n w e c ha in e vi de nc e t og et he r . Tr ut h-f un ct io na l s ys te ms h av e r ul es o f t he
f or m A %→ B t ha t a ll ow u s t o c om pu te t he b el ie f i n B a s a f un ct io n o f t he b el ie f i n t he r ul e
a nd th eb el ie fi n A . Bo th fo rw ar d-a nd ba ck wa rd-c ha in in g s ys te ms ca nb ed ev is ed . Th eb el ie f
i nt he ru le is as su me dt ob ec on st an ta nd is us ua ll ys pe ci fi ed by th ek no wl ed ge en gi ne er—f or
"e xa mp le ,a s A%→ B ."
0.9
Co ns id er t he w et-g ra ss s it ua ti on f ro m Fi gu re 14.12(a) (p ag e 529). If w e w an te d t o b e
"a bl et od ob ot hc au sa la nd di ag no st ic r ea so ni ng , w ew ou ld ne ed th et wo ru le s"
Ra in %→ We t Gr as s a nd We t Gr as s %→ Ra in .
"Th es et wo ru le sf or m a fe ed ba ck l oo p: e vi de nc e f or Ra in i nc re as es t he be li ef i n We t Gr as s ,"
"w hi ch i n t ur n i nc re as es t he b el ie f i n Ra in e ve n m or e . Cl ea rl y , u nc er ta in r ea so ni ng s ys te ms"
n ee dt ok ee pt ra ck of th ep at hs al on gw hi ch ev id en ce i sp ro pa ga te d .
In te rc au sa l r ea so ni ng (o re xp la in in g a wa y)i sa ls ot ri ck y . Co ns id er wh at ha pp en s w he n
w eh av et he tw or ul es
Sp ri nk le r %→ We t Gr as s a nd We t Gr as s %→ Ra in .
"Su pp os ew es ee th at th es pr in kl er is on . Ch ai ni ng fo rw ar dt hr ou gh ou rr ul es ,t hi si nc re as es th e"
"b el ie f t ha t t he g ra ss w il lb e w et , w hi ch i n t ur n i nc re as es t he b el ie f t ha t i t i s r ai ni ng . Bu t t hi s"
i s r id ic ul ou s: t he f ac t t ha t t he s pr in kl er i s o n e xp la in s a wa yt he w et gr as s a nd s ho ul d r ed uc e
t he be li ef in ra in . At ru th-f un ct io na l s ys te ma ct sa si fi ta ls ob el ie ve s Sp ri nk le r %→ Ra in .
"Gi ve n t he se d if fi cu lt ie s , h ow c an t ru th-f un ct io na l s ys te ms b e m ad e u se fu l i n p ra ct ic e ?"
Th e a ns we r l ie s i n r es tr ic ti ng t he t as k a nd i n c ar ef ul ly e ng in ee ri ng t he r ul e b as e s o t ha t u n-
d es ir ab le i nt er ac ti on s d o n ot o cc ur . Th e m os t f am ou s e xa mp le o f a t ru th-f un ct io na l s ys te m
CERTAINTYFACTOR
"f or un ce rt ai n r ea so ni ng i st he c er ta in ty fa ct or s m od el ,w hi ch wa sd ev el op ed f or th e MYCIN"
m ed ic al d ia gn os is p ro gr am a nd w as w id el y u se d i n e xp er t s ys te ms o f t he l at e 1970 s a nd
1980 s . Al mo st al lu se so fc er ta in ty f ac to rs in vo lv ed r ul es et st ha tw er ee it he rp ur el yd ia gn os-
"t ic (a s i n MYCIN) o r p ur el y c au sa l . Fu rt he rm or e , e vi de nc e w as e nt er ed o nl y a t t he “r oo ts”"
"o ft he ru le se t , a nd mo st ru le se ts we re si ng ly c on ne ct ed . He ck er ma n(1986) h as sh ow nt ha t ,"
Se ct io n 14.7. Ot he r Ap pr oa ch es t o Un ce rt ai n Re as on in g 549
"u nd er th es ec ir cu ms ta nc es , a mi no rv ar ia ti on on ce rt ai nt y-f ac to r i nf er en ce wa se xa ct ly eq ui v-"
"a le nt to Ba ye si an in fe re nc eo np ol yt re es . In ot he rc ir cu ms ta nc es , c er ta in ty fa ct or sc ou ld yi el d"
d is as tr ou sl y i nc or re ct d eg re es o f b el ie f t hr ou gh o ve rc ou nt in g o f e vi de nc e . As r ul e s et s b e-
"c am el ar ge r , u nd es ir ab le i nt er ac ti on s b et we en ru le sb ec am em or ec om mo n ,a nd pr ac ti ti on er s"
f ou nd th at th ec er ta in ty fa ct or so fm an yo th er ru le sh ad to be “t we ak ed”w he nn ew ru le sw er e
"a dd ed . Fo rt he se re as on s , Ba ye si an ne tw or ks ha ve la rg el ys up pl an te d r ul e-b as ed m et ho ds fo r"
u nc er ta in r ea so ni ng .
14.7.2 Re pr es en ti ng i gn or an ce: De mp st er–Sh af er t he or y
DEMPSTER–SHAFER Th e De mp st er–Sh af er t he or y i s d es ig ne d t o d ea l w it h t he d is ti nc ti on b et we en u nc er ta in ty
THEORY
"a nd i gn or an ce . Ra th er t ha n c om pu ti ng t he p ro ba bi li ty o f a p ro po si ti on , i t c om pu te s t he"
p ro ba bi li ty t ha t t he e vi de nc e s up po rt s t he p ro po si ti on . Th is m ea su re o f b el ie f i s c al le d a
"b el ie ff un ct io n ,w ri tt en Be l(X)."
BELIEFFUNCTION
We r et ur n t o c oi n f li pp in g f or a n e xa mp le o f b el ie f f un ct io ns . Su pp os e y ou p ic k a
"c oi n f ro m a m ag ic ia n’s p oc ke t . Gi ve n t ha t t he c oi n m ig ht o r m ig ht n ot b e f ai r , w ha t b el ie f"
s ho ul d y ou a sc ri be t o t he e ve nt t ha t i t c om es u p h ea ds ? De mp st er–Sh af er t he or y s ay s t ha t
"b ec au se y ou h av e n o e vi de nc e e it he r w ay , y ou h av e t o s ay t ha t t he b el ie f Be l(He ad s) = 0"
a nd a ls o t ha t Be l(¬He ad s) = 0. Th is m ak es De mp st er–Sh af er r ea so ni ng s ys te ms s ke pt ic al
i n a w ay t ha t h as s om e i nt ui ti ve a pp ea l . No w s up po se y ou h av e a n e xp er t a t y ou r d is po sa l
"w ho t es ti fi es w it h 90% c er ta in ty t ha t t he c oi n i s f ai r (i .e ., h e i s 90% s ur e t ha t P(He ad s) ="
0.5). Th en De mp st er–Sh af er t he or y g iv es Be l(He ad s) = 0.9 × 0.5 = 0.45 a nd l ik ew is e
Be l(¬He ad s) = 0.45. Th er ei ss ti ll a 10 p er ce nt ag e p oi nt“g ap”t ha ti sn ot ac co un te d f or by
t he ev id en ce .
Th e m at he ma ti ca l u nd er pi nn in gs o f De mp st er–Sh af er t he or y h av e a s im il ar f la vo r t o
"t ho se o f p ro ba bi li ty t he or y ; t he m ai n d if fe re nc e i s t ha t , i ns te ad o f a ss ig ni ng p ro ba bi li ti es"
"t o p os si bl e w or ld s , t he t he or y a ss ig ns m as se s t o s et s o f p os si bl e w or ld , t ha t i s , t o e ve nt s ."
MASS
Th e m as se s s ti ll m us t a dd t o 1 o ve r a ll p os si bl e e ve nt s . Be l(A) i s d ef in ed t o b e t he s um o f
"m as se s f or a ll e ve nt s t ha t a re s ub se ts o f (i .e ., t ha t e nt ai l) A , i nc lu di ng A i ts el f . Wi th t hi s"
"d ef in it io n ,Be l(A)a nd Be l(¬A)s um to at mo st 1,a nd th eg ap—t he in te rv al be tw ee n Be l(A)"
a nd 1−Be l(¬A)—i so ft en in te rp re te d a sb ou nd in g t he pr ob ab il it y o f A .
"As wi th de fa ul tr ea so ni ng ,t he re is ap ro bl em in co nn ec ti ng be li ef st oa ct io ns . Wh en ev er"
"t he re i s a g ap i n t he b el ie fs , t he n a d ec is io n p ro bl em c an b e d ef in ed s uc h t ha t a De mp st er–"
"Sh af er s ys te m i s u na bl e t o m ak e a d ec is io n . In f ac t , t he n ot io n o f u ti li ty i n t he De mp st er–"
Sh af er m od el i s n ot y et w el l u nd er st oo d b ec au se t he m ea ni ng s o f m as se s a nd b el ie fs t he m-
s el ve s h av e y et t ob eu nd er st oo d . Pe ar l(1988) h as ar gu ed t ha t Be l(A)s ho ul d b ei nt er pr et ed
n ot a s a de gr ee o f b el ie f i n Ab ut a s t he p ro ba bi li ty a ss ig ne d t o a ll t he p os si bl e w or ld s (n ow
i nt er pr et ed a s l og ic al t he or ie s) i n w hi ch A i s p ro va bl e . Wh il e t he re a re c as es i n w hi ch t hi s
"q ua nt it y m ig ht be of in te re st , i ti sn ot th es am ea st he pr ob ab il it y t ha t Ai st ru e ."
ABa ye si an an al ys is of th ec oi n-f li pp in ge xa mp le wo ul ds ug ge st th at no ne wf or ma li sm
i sn ec es sa ry t oh an dl es uc hc as es . Th em od el wo ul dh av et wo va ri ab le s: t he Bi as o ft he co in
"(a nu mb er be tw ee n 0 a nd 1,w he re 0 i sa co in th at al wa ys sh ow st ai ls an d 1 a co in th at al wa ys"
s ho ws h ea ds) a nd t he o ut co me o f t he n ex t Fl ip . Th e p ri or p ro ba bi li ty d is tr ib ut io n f or Bi as
550 Ch ap te r 14. Pr ob ab il is ti c Re as on in g
w ou ld re fl ec to ur be li ef sb as ed on th es ou rc eo ft he co in(t he ma gi ci an’s po ck et): s om es ma ll
p ro ba bi li ty t ha t i t i s f ai r a nd s om e p ro ba bi li ty t ha t i t i s h ea vi ly b ia se d t ow ar d h ea ds o r t ai ls .
Th ec on di ti on al d is tr ib ut io n P(Fl ip|Bi as)s im pl yd ef in es ho wt he bi as op er at es . If P(Bi as)
"i ss ym me tr ic ab ou t 0.5,t he no ur pr io rp ro ba bi li ty f or th ef li pi s"
(c id:26)
1
P(Fl ip=h ea ds) = P(Bi as=x)P(Fl ip=h ea ds|Bi as=x)d x = 0.5.
0
"Th is i s t he s am e p re di ct io n a s i f w e b el ie ve s tr on gl y t ha t t he c oi n i s f ai r , b ut t ha t d oe s n ot"
m ea n t ha t p ro ba bi li ty t he or y t re at s t he t wo s it ua ti on s i de nt ic al ly . Th e d if fe re nc e a ri se s a ft er
"t he fl ip si nc om pu ti ng t he po st er io rd is tr ib ut io n f or Bi as . If th ec oi nc am ef ro m a ba nk , t he n"
s ee in g i tc om eu ph ea ds t hr ee ti me sr un ni ng w ou ld ha ve al mo st n oe ff ec to no ur st ro ng p ri or
"b el ie f i n i ts f ai rn es s ; b ut i f t he c oi n c om es f ro m t he m ag ic ia n’s p oc ke t , t he s am e e vi de nc e"
"w il ll ea dt oa st ro ng er po st er io r b el ie ft ha tt he co in is bi as ed t ow ar dh ea ds . Th us ,a Ba ye si an"
a pp ro ac h e xp re ss es o ur“i gn or an ce” i n t er ms of ho w o ur be li ef s w ou ld c ha ng e i n t he fa ce o f
f ut ur ei nf or ma ti on g at he ri ng .
14.7.3 Re pr es en ti ng v ag ue ne ss: Fu zz y s et s a nd fu zz y l og ic
Fu zz y s et t he or y i s a m ea ns o f s pe ci fy in g h ow w el l a n o bj ec t s at is fi es a v ag ue d es cr ip ti on .
FUZZYSETTHEORY
(c id:2) (c id:2)(c id:2)
"Fo r e xa mp le , c on si de r t he p ro po si ti on “Na te i s t al l .” Is t hi s t ru e i f Na te i s 5 10 ? Mo st"
"p eo pl e w ou ld h es it at e t o a ns we r “t ru e” o r “f al se ,” p re fe rr in g t o s ay , “s or t o f .” No te t ha t t hi s"
i sn ot a q ue st io n o f u nc er ta in ty a bo ut t he ex te rn al w or ld—w e a re su re o f Na te’s h ei gh t . Th e
i ss ue is th at th el in gu is ti ct er m“t al l”d oe sn ot re fe rt oa sh ar pd em ar ca ti on of ob je ct si nt ot wo
"c la ss es—t he re a re d eg re es o f t al ln es s . Fo r t hi s r ea so n , f uz zy s et t he or y i s n ot a m et ho d f or"
"u nc er ta in r ea so ni ng a ta ll . Ra th er , f uz zy s et th eo ry t re at s Ta ll a sa fu zz y p re di ca te a nd sa ys"
"t ha t t he t ru th v al ue o f Ta ll(Na te) i s a n um be r b et we en 0 a nd 1, r at he r t ha n b ei ng j us t t ru e"
o r f al se . Th e n am e “f uz zy s et” d er iv es f ro m t he i nt er pr et at io n o f t he p re di ca te a s i mp li ci tl y
d ef in in ga se to fi ts me mb er s—a se tt ha td oe sn ot ha ve sh ar pb ou nd ar ie s .
Fu zz yl og ic is am et ho df or re as on in g w it hl og ic al ex pr es si on s d es cr ib in g m em be rs hi p
FUZZYLOGIC
"i n f uz zy s et s . Fo r e xa mp le , t he c om pl ex s en te nc e Ta ll(Na te)∧He av y(Na te) h as a f uz zy"
t ru th v al ue t ha t i s a f un ct io n o f t he t ru th v al ue s o f i ts c om po ne nt s . Th e s ta nd ar d r ul es f or
"e va lu at in g t he fu zz yt ru th , T ,o fa co mp le xs en te nc ea re"
"T(A∧B)= m in(T(A),T(B))"
"T(A∨B)= m ax(T(A),T(B))"
T(¬A) = 1−T(A).
Fu zz y l og ic i s t he re fo re a t ru th-f un ct io na l s ys te m—a f ac t t ha t c au se s s er io us d if fi cu lt ie s .
"Fo re xa mp le , s up po se t ha t T(Ta ll(Na te))=0.6 a nd T(He av y(Na te))=0.4. Th en we ha ve"
"T(Ta ll(Na te) ∧ He av y(Na te))=0.4, w hi ch s ee ms r ea so na bl e , b ut w e a ls o g et t he r es ul t"
"T(Ta ll(Na te)∧¬Ta ll(Na te))=0.4, w hi ch d oe s n ot . Cl ea rl y , t he p ro bl em a ri se s f ro m t he"
i na bi li ty of at ru th-f un ct io na la pp ro ac ht ot ak ei nt oa cc ou nt th ec or re la ti on so ra nt ic or re la ti on s
a mo ng th ec om po ne nt p ro po si ti on s .
Fu zz yc on tr ol is am et ho do lo gy fo rc on st ru ct in gc on tr ol sy st em si nw hi ch th em ap pi ng
FUZZYCONTROL
b et we en r ea l-v al ue d i np ut a nd o ut pu t p ar am et er s i s r ep re se nt ed b y f uz zy r ul es . Fu zz y c on-
"t ro lh as be en ve ry su cc es sf ul i nc om me rc ia l p ro du ct s s uc ha s a ut om at ic t ra ns mi ss io ns , v id eo"
Se ct io n 14.8. Su mm ar y 551
"c am er as , a nd e le ct ri c s ha ve rs . Cr it ic s (s ee , e .g ., El ka n , 1993) a rg ue t ha t t he se a pp li ca ti on s"
"a re s uc ce ss fu l b ec au se t he y h av e s ma ll r ul e b as es , n o c ha in in g o f i nf er en ce s , a nd t un ab le"
p ar am et er s t ha t c an b e a dj us te d t o i mp ro ve t he s ys te m’s p er fo rm an ce . Th ef ac t t ha t t he y a re
i mp le me nt ed w it h f uz zy o pe ra to rs m ig ht b e i nc id en ta l t o t he ir s uc ce ss ; t he k ey i s s im pl y t o
"p ro vi de ac on ci se a nd in tu it iv ew ay to sp ec if y a sm oo th ly in te rp ol at ed , r ea l-v al ue d f un ct io n ."
Th er eh av eb ee na tt em pt st op ro vi de an ex pl an at io n o ff uz zy lo gi ci nt er ms of pr ob ab il-
i ty th eo ry . On ei de ai st ov ie wa ss er ti on ss uc ha s“Na te is Ta ll”a sd is cr et eo bs er va ti on s m ad e
"c on ce rn in ga co nt in uo us hi dd en va ri ab le ,Na te’s ac tu al He ig ht . Th ep ro ba bi li ty mo de ls pe ci-"
"f ie s P(Ob se rv er sa ys Na te is ta ll | He ig ht),p er ha ps us in ga pr ob it di st ri bu ti on as de sc ri be d"
o n p ag e 522. A p os te ri or d is tr ib ut io n o ve r Na te’s h ei gh t c an t he n b e c al cu la te d i n t he u su al
"w ay ,f or ex am pl e ,i ft he mo de li sp ar to fa hy br id Ba ye si an ne tw or k . Su ch an ap pr oa ch i sn ot"
"t ru th-f un ct io na l , o fc ou rs e . Fo re xa mp le ,t he co nd it io na l d is tr ib ut io n"
"P(Ob se rv er sa ys Na te is ta ll an dh ea vy |He ig ht ,We ig ht)"
"a ll ow s f or i nt er ac ti on s b et we en h ei gh t a nd w ei gh t i n t he c au si ng o f t he o bs er va ti on . Th us ,"
s om eo ne w ho i se ig ht f ee t t al l a nd w ei gh s 190 p ou nd s i s v er y u nl ik el y t ob e c al le d “t al l a nd
"h ea vy ,”e ve nt ho ug h“e ig ht fe et”c ou nt sa s“t al l”a nd“190 p ou nd s”c ou nt s a s“h ea vy .”"
Fu zz y p re di ca te s c an a ls o b e g iv en a p ro ba bi li st ic i nt er pr et at io n i n t er ms o f r an do m
"s et s—t ha t i s , r an do m v ar ia bl es w ho se po ss ib le v al ue s a re s et s o f o bj ec ts . Fo re xa mp le , Ta ll"
RANDOMSET
"i s a r an do m s et w ho se p os si bl e v al ue s a re s et s o f p eo pl e . Th e p ro ba bi li ty P(Ta ll =S ),"
1
"w he re S i s s om e p ar ti cu la r s et o f p eo pl e , i s t he p ro ba bi li ty t ha t e xa ct ly t ha t s et w ou ld b e"
1
i de nt if ie d a s “t al l” b y a n o bs er ve r . Th en t he p ro ba bi li ty t ha t “Na te i s t al l” i s t he s um o f t he
p ro ba bi li ti es o fa ll th es et so fw hi ch Na te is am em be r .
Bo th t he h yb ri d Ba ye si an n et wo rk a pp ro ac h a nd t he r an do m s et s a pp ro ac h a pp ea r t o
"c ap tu re a sp ec ts o ff uz zi ne ss w it ho ut i nt ro du ci ng d eg re es o ft ru th . No ne th el es s , t he re r em ai n"
m an yo pe ni ss ue sc on ce rn in g t he pr op er re pr es en ta ti on o fl in gu is ti co bs er va ti on s a nd co nt in-
u ou sq ua nt it ie s—i ss ue s t ha th av eb ee nn eg le ct ed b ym os to ut si de t he fu zz yc om mu ni ty .
14.8 SUMMARY
"Th is ch ap te rh as de sc ri be d Ba ye si an ne tw or ks ,a we ll-d ev el op ed re pr es en ta ti on fo ru nc er ta in"
k no wl ed ge . Ba ye si an n et wo rk s p la y a r ol e r ou gh ly a na lo go us t o t ha t o f p ro po si ti on al l og ic
f or de fi ni te kn ow le dg e .
• A Ba ye si an n et wo rk i s a d ir ec te d a cy cl ic g ra ph w ho se n od es c or re sp on d t o r an do m
"v ar ia bl es ;e ac hn od eh as ac on di ti on al d is tr ib ut io n f or th e n od e ,g iv en it sp ar en ts ."
• Ba ye si an ne tw or ks pr ov id ea co nc is ew ay to re pr es en t c on di ti on al in de pe nd en ce re la-
t io ns hi ps i nt he do ma in .
• ABa ye si an n et wo rk s pe ci fi es a fu ll j oi nt d is tr ib ut io n ; e ac h j oi nt e nt ry i sd ef in ed a st he
p ro du ct o f t he c or re sp on di ng e nt ri es i n t he l oc al c on di ti on al d is tr ib ut io ns . A Ba ye si an
n et wo rk is of te ne xp on en ti al ly s ma ll er th an an ex pl ic it ly en um er at ed j oi nt di st ri bu ti on .
• Ma ny c on di ti on al d is tr ib ut io ns c an b e r ep re se nt ed c om pa ct ly b y c an on ic al f am il ie s o f
15
PROBABILISTIC
REASONING OVER TIME
"In wh ic hw et ry to in te rp re t t he pr es en t , u nd er st an d t he pa st ,a nd pe rh ap s p re di ct"
"t he fu tu re , e ve nw he nv er yl it tl ei sc ry st al cl ea r ."
"Ag en ts in pa rt ia ll yo bs er va bl ee nv ir on me nt sm us tb ea bl et ok ee pt ra ck of th ec ur re nt st at e ,t o"
t he ex te nt th at th ei rs en so rs al lo w . In Se ct io n 4.4 w es ho we da me th od ol og yf or do in gt ha t: a n
a ge nt ma in ta in sa be li ef st at et ha tr ep re se nt sw hi ch st at es of th ew or ld ar ec ur re nt ly po ss ib le .
"Fr om t he b el ie f s ta te a nd a t ra ns it io n m od el , t he a ge nt c an p re di ct h ow t he w or ld m ig ht"
"e vo lv e i n t he n ex t t im es te p . Fr om t he p er ce pt s o bs er ve d a nd a s en so r m od el , t he a ge nt c an"
u pd at et he be li ef st at e . Th is is ap er va si ve id ea: i n Ch ap te r 4 b el ie fs ta te sw er er ep re se nt ed by
"e xp li ci tl y e nu me ra te d s et s o f s ta te s , w he re as i n Ch ap te rs 7 a nd 11 t he y w er e r ep re se nt ed b y"
l og ic al fo rm ul as . Th os ea pp ro ac he s d ef in ed be li ef st at es in te rm so fw hi ch wo rl ds ta te sw er e
"p os si bl e , b ut co ul ds ay no th in g a bo ut wh ic hs ta te sw er el ik el yo ru nl ik el y . In th is ch ap te r , w e"
u se pr ob ab il it y t he or yt oq ua nt if y t he de gr ee of be li ef in el em en ts of th eb el ie fs ta te .
"As w e s ho w i n Se ct io n 15.1, t im e i ts el f i s h an dl ed i n t he s am e w ay a s i n Ch ap te r 7: a"
c ha ng in gw or ld is mo de le du si ng av ar ia bl ef or ea ch as pe ct of th ew or ld st at ea te ac hp oi nt in
t im e . Th e t ra ns it io n a nd s en so r m od el s m ay be u nc er ta in: t he t ra ns it io n m od el d es cr ib es t he
"p ro ba bi li ty d is tr ib ut io n o f t he v ar ia bl es a t t im e t , g iv en t he s ta te o f t he w or ld a t p as t t im es ,"
"w hi le t he s en so r m od el d es cr ib es t he p ro ba bi li ty o f e ac h p er ce pt a t t im e t , g iv en t he c ur re nt"
s ta te o f t he w or ld . Se ct io n 15.2 d ef in es t he b as ic i nf er en ce t as ks a nd d es cr ib es t he g en-
e ra l s tr uc tu re o f i nf er en ce a lg or it hm s f or t em po ra l m od el s . Th en w e d es cr ib e t hr ee s pe ci fi c
"k in ds o f m od el s: h id de n Ma rk ov m od el s , Ka lm an f il te rs , a nd d yn am ic Ba ye si an n et-"
"w or ks (w hi ch i nc lu de h id de n Ma rk ov m od el s a nd Ka lm an f il te rs a s s pe ci al c as es). Fi na ll y ,"
Se ct io n 15.6 e xa mi ne st he pr ob le ms fa ce dw he nk ee pi ng t ra ck o fm or et ha no ne th in g .
15.1 TIME AND UNCERTAINTY
"We ha ve de ve lo pe do ur te ch ni qu es f or pr ob ab il is ti c r ea so ni ng i nt he co nt ex to fs ta ti cw or ld s ,"
"i n w hi ch e ac h r an do m v ar ia bl e h as a s in gl e f ix ed v al ue . Fo re xa mp le , w he n r ep ai ri ng a c ar ,"
w e a ss um e t ha t w ha te ve r i s b ro ke n r em ai ns b ro ke n d ur in g t he p ro ce ss o f d ia gn os is ; o ur j ob
"i st oi nf er th es ta te of th ec ar fr om ob se rv ed ev id en ce , w hi ch a ls or em ai ns fi xe d ."
566
Se ct io n 15.1. Ti me an d Un ce rt ai nt y 567
No wc on si de ra sl ig ht ly d if fe re nt p ro bl em: t re at in g a di ab et ic p at ie nt . As in th ec as eo f
"c ar re pa ir , w eh av e e vi de nc e s uc h a sr ec en t i ns ul in d os es , f oo d i nt ak e , b lo od s ug ar me as ur e-"
"m en ts ,a nd ot he rp hy si ca ls ig ns . Th et as ki st oa ss es st he cu rr en ts ta te of th ep at ie nt ,i nc lu di ng"
"t he a ct ua l b lo od s ug ar l ev el a nd i ns ul in l ev el . Gi ve n t hi s i nf or ma ti on , w e c an m ak e a d ec i-"
"s io n a bo ut t he p at ie nt’s f oo d i nt ak e a nd i ns ul in d os e . Un li ke t he c as e o f c ar r ep ai r , h er e t he"
d yn am ic a sp ec ts o f t he p ro bl em a re e ss en ti al . Bl oo d s ug ar l ev el s a nd m ea su re me nt s t he re of
"c an c ha ng e r ap id ly o ve r t im e , d ep en di ng o n r ec en t f oo d i nt ak e a nd i ns ul in d os es , m et ab ol ic"
"a ct iv it y , t he t im e o f d ay , a nd s o o n . To a ss es s t he c ur re nt s ta te f ro m t he h is to ry o f e vi de nc e"
"a nd to pr ed ic t t he ou tc om es o ft re at me nt ac ti on s , w em us tm od el th es ec ha ng es ."
"Th es am e c on si de ra ti on s a ri se i n m an y o th er c on te xt s , s uc h a s t ra ck in g t he l oc at io n o f"
"a r ob ot , t ra ck in g t he e co no mi c a ct iv it y o f a n at io n , a nd m ak in g s en se o f a s po ke n o rw ri tt en"
s eq ue nc e o fw or ds . Ho wc an dy na mi cs it ua ti on s l ik et he se be mo de le d ?
15.1.1 St at es a nd o bs er va ti on s
"We v ie w t he w or ld a s a s er ie s o f s na ps ho ts , o r t im e s li ce s , e ac h o f w hi ch c on ta in s a s et o f"
TIMESLICE
"r an do m v ar ia bl es , s om e o bs er va bl e a nd s om e n ot .1 Fo r s im pl ic it y , w e w il l a ss um e t ha t t he"
s am es ub se to fv ar ia bl es is ob se rv ab le in ea ch ti me sl ic e(a lt ho ug ht hi si sn ot st ri ct ly ne ce ss ar y
"i na ny th in g t ha tf ol lo ws). We wi ll us e X t od en ot e t he se to fs ta te v ar ia bl es a tt im e t ,w hi ch"
t
"a re a ss um ed t o b e u no bs er va bl e , a nd E t o d en ot e t he s et o f o bs er va bl e e vi de nc e v ar ia bl es ."
t
Th eo bs er va ti on a tt im et is E =e f or so me se to fv al ue s e .
t t t
Co ns id er th ef ol lo wi ng ex am pl e: Yo ua re th es ec ur it yg ua rd st at io ne da ta se cr et un de r-
"g ro un d i ns ta ll at io n . Yo uw an tt ok no ww he th er it’s ra in in gt od ay , b ut yo ur on ly ac ce ss to th e"
"o ut si de w or ld oc cu rs ea ch mo rn in gw he ny ou se et he di re ct or co mi ng in wi th ,o rw it ho ut , a n"
"u mb re ll a . Fo re ac hd ay t ,t he se t E t hu sc on ta in sa si ng le ev id en ce va ri ab le Um br el la o r U"
t t t
"f or sh or t(w he th er th eu mb re ll aa pp ea rs),a nd th es et X c on ta in sa si ng le st at ev ar ia bl e Ra in"
t t
o r R f or sh or t(w he th er it is ra in in g). Ot he rp ro bl em sc an in vo lv e l ar ge rs et so fv ar ia bl es . In
t
"t he di ab et es e xa mp le ,w em ig ht ha ve ev id en ce va ri ab le s , s uc ha s Me as ur ed Bl oo d Su ga r a nd"
t
"Pu ls e Ra te , a nd st at e v ar ia bl es , s uc h a s Bl oo d Su ga r a nd St om ac h Co nt en ts . (No ti ce t ha t"
t t t
Bl oo d Su ga r a nd Me as ur ed Bl oo d Su ga r a re no tt he sa me va ri ab le ; t hi si sh ow we de al wi th
t t
n oi sy me as ur em en ts o fa ct ua lq ua nt it ie s .)
"Th ei nt er va lb et we en ti me sl ic es al so de pe nd so nt he pr ob le m . Fo rd ia be te sm on it or in g ,"
a su it ab le i nt er va l m ig ht b ea nh ou rr at he r t ha n a da y . In th is c ha pt er w ea ss um e t he in te rv al
"b et we en s li ce s i s f ix ed , s o w e c an l ab el t im es b y i nt eg er s . We w il l a ss um e t ha t t he s ta te"
"s eq ue nc es ta rt sa tt=0;f or va ri ou su ni nt er es ti ng re as on s ,w ew il la ss um et ha te vi de nc es ta rt s"
"a rr iv in ga tt=1 r at he rt ha nt=0. He nc e ,o ur um br el la wo rl di sr ep re se nt ed by st at ev ar ia bl es"
"R , R , R ,... a nd e vi de nc e v ar ia bl es U , U ,.... We w il l u se t he n ot at io n a:b t o d en ot e"
0 1 2 1 2
"t he s eq ue nc e o f i nt eg er s f ro m a t o b (i nc lu si ve), a nd t he n ot at io n X t o d en ot e t he s et o f"
a:b
"v ar ia bl es f ro m X t o X . Fo re xa mp le , U c or re sp on ds t ot he va ri ab le s U ,U ,U ."
a b 1:3 1 2 3
1 Un ce rt ai nt yo ve rc on ti nu ou st im ec an be mo de le db ys to ch as ti cd if fe re nt ia le qu at io ns(SDEs). Th em od el s
s tu di ed in th is ch ap te rc an be vi ew ed as di sc re te-t im ea pp ro xi ma ti on st o SDEs .
568 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
(a) X X X X X
t–2 t–1 t t+1 t+2
(b) X X X X X
t–2 t–1 t t+1 t+2
Fi gu re 15.1 (a)Ba ye si an ne tw or ks tr uc tu re co rr es po nd in gt oa fi rs t-o rd er Ma rk ov pr oc es s
w it hs ta te de fi ne db yt he va ri ab le s Xt . (b)As ec on d-o rd er Ma rk ov pr oc es s .
15.1.2 Tr an si ti on an ds en so rm od el s
"Wi th t he s et o f s ta te a nd e vi de nc e v ar ia bl es f or a g iv en p ro bl em d ec id ed o n , t he n ex t s te p i s"
t o s pe ci fy h ow t he w or ld e vo lv es (t he t ra ns it io n m od el) a nd h ow t he e vi de nc e v ar ia bl es g et
t he ir va lu es(t he se ns or mo de l).
"Th et ra ns it io nm od el sp ec if ie st he pr ob ab il it yd is tr ib ut io n o ve rt he la te st st at ev ar ia bl es ,"
"g iv en t he p re vi ou s v al ue s , t ha t i s , P(X t|X 0:t−1). No w w e f ac e a p ro bl em: t he s et X 0:t−1 i s"
MARKOV u nb ou nd ed i ns iz ea st in cr ea se s . We so lv et he pr ob le mb ym ak in ga Ma rk ov as su mp ti on—
ASSUMPTION
t ha t t he cu rr en t s ta te d ep en ds o no nl y a f in it e f ix ed n um be r o fp re vi ou s s ta te s . Pr oc es se s s at-
i sf yi ng th is as su mp ti on w er ef ir st st ud ie di nd ep th by th e Ru ss ia ns ta ti st ic ia n An dr ei Ma rk ov
(1856–1922)a nd ar ec al le d Ma rk ov pr oc es se so r Ma rk ov ch ai ns . Th ey co me in va ri ou sf la-
MARKOVPROCESS
"FIRST-ORDER v or s ;t he si mp le st is th ef ir st-o rd er Ma rk ov pr oc es s ,i nw hi ch th ec ur re nt st at ed ep en ds on ly"
MARKOVPROCESS
"o n t he p re vi ou s s ta te a nd n ot o n a ny e ar li er s ta te s . In o th er w or ds , a s ta te p ro vi de s e no ug h"
"i nf or ma ti on t om ak et he fu tu re co nd it io na ll y i nd ep en de nt o ft he pa st ,a nd we ha ve"
P(X t|X 0:t−1) = P(X t|X t−1). (15.1)
"He nc e , i n a f ir st-o rd er Ma rk ov p ro ce ss , t he t ra ns it io n m od el i s t he c on di ti on al d is tr ib ut io n"
P(X t|X t−1). Th e t ra ns it io n m od el f or a s ec on d-o rd er Ma rk ov p ro ce ss i s t he c on di ti on al
"d is tr ib ut io n P(X t|X t−2,X t−1). Fi gu re 15.1 s ho ws t he Ba ye si an n et wo rk s tr uc tu re s c or re-"
s po nd in g t of ir st-o rd er an ds ec on d-o rd er Ma rk ov pr oc es se s .
Ev en w it h t he Ma rk ov a ss um pt io n t he re i s s ti ll a p ro bl em: t he re a re i nf in it el y m an y
p os si bl e v al ue s o f t . Do w e n ee d t o s pe ci fy a d if fe re nt d is tr ib ut io n f or e ac h t im e s te p ? We
a vo id t hi s p ro bl em b y a ss um in g t ha t c ha ng es i n t he w or ld s ta te a re c au se d b y a s ta ti on ar y
"STATIONARY p ro ce ss—t ha ti s ,a pr oc es so fc ha ng et ha ti sg ov er ne db yl aw st ha td on ot th em se lv es ch an ge"
PROCESS
"o ve rt im e . (Do n’t c on fu se s ta ti on ar y w it h s ta ti c: i n a s ta ti c p ro ce ss , t he s ta te i ts el f d oe s n ot"
"c ha ng e .) In th eu mb re ll aw or ld ,t he n , t he co nd it io na l p ro ba bi li ty o fr ai n , P(R t|R t−1),i st he"
"s am ef or al lt ,a nd we on ly ha ve to sp ec if yo ne co nd it io na l p ro ba bi li ty t ab le ."
No w f or t he s en so r m od el . Th e e vi de nc e v ar ia bl es E c ou ld d ep en d o n p re vi ou s v ar i-
t
"a bl es as we ll as th ec ur re nt s ta te v ar ia bl es , b ut an ys ta te th at’s w or th it ss al ts ho ul d s uf fi ce to"
"SENSORMARKOV g en er at et he cu rr en ts en so rv al ue s . Th us ,w em ak ea s en so r Ma rk ov as su mp ti on as fo ll ow s:"
ASSUMPTION
"P(E t|X 0:t ,E 0:t−1)= P(E t|X t). (15.2)"
"Th us ,P(E |X )i so ur se ns or mo de l(s om et im es ca ll ed th eo bs er va ti on m od el). Fi gu re 15.2"
t t
s ho ws b ot h t he t ra ns it io n m od el a nd t he s en so r m od el f or t he u mb re ll a e xa mp le . No ti ce t he
Se ct io n 15.1. Ti me an d Un ce rt ai nt y 569
R P(R )
t-1 t
t 0.7
f 0.3
Ra in Ra in Ra in
t–1 t t+1
R P(U )
t t
t 0.9
f 0.2
Um br el la Um br el la Um br el la
t–1 t t+1
Fi gu re 15.2 Ba ye si an n et wo rk s tr uc tu re a nd c on di ti on al d is tr ib ut io ns d es cr ib in g t he
u mb re ll a w or ld . Th e t ra ns it io n m od el i s P(Ra in t|Ra in t−1) a nd t he s en so r m od el i s
P(Um br el la t|Ra in t).
d ir ec ti on o f t he d ep en de nc e b et we en s ta te a nd s en so rs: t he a rr ow s g o f ro m t he a ct ua l s ta te
o f t he w or ld t o s en so r v al ue s b ec au se t he s ta te o f t he w or ld c au se s t he s en so rs t o t ak e o n
"p ar ti cu la r v al ue s: t he r ai n c au se s t he u mb re ll a t o a pp ea r . (Th e i nf er en ce p ro ce ss , o f c ou rs e ,"
g oe s i n t he o th er d ir ec ti on ; t he d is ti nc ti on b et we en t he d ir ec ti on o f m od el ed d ep en de nc ie s
a nd th ed ir ec ti on o fi nf er en ce i so ne of th ep ri nc ip al a dv an ta ge s o f Ba ye si an ne tw or ks .)
"In a dd it io n t o s pe ci fy in g t he t ra ns it io n a nd s en so r m od el s , w e n ee d t o s ay h ow e ve ry-"
"t hi ng g et s s ta rt ed—t he p ri or p ro ba bi li ty d is tr ib ut io n a t t im e 0, P(X ). Wi th t ha t , w e h av e a"
0
"s pe ci fi ca ti on o f t he c om pl et e j oi nt d is tr ib ut io n o ve r a ll t he v ar ia bl es , u si ng Eq ua ti on (14.2)."
"Fo ra ny t ,"
(c id:25)t
"P(X 0:t ,E 1:t)= P(X 0) P(X i|X i−1)P(E i|X i). (15.3)"
i=1
"Th et hr ee te rm so nt he ri gh t-h an d s id ea re th ei ni ti al s ta te mo de l P(X ),t he tr an si ti on m od el"
0
"P(X i|X i−1),a nd th es en so rm od el P(E i|X i)."
Th es tr uc tu re i n Fi gu re 15.2 i s a f ir st-o rd er Ma rk ov p ro ce ss—t he p ro ba bi li ty o f r ai n i s
a ss um ed t od ep en d o nl y o nw he th er it ra in ed t he pr ev io us d ay . Wh et he rs uc h a na ss um pt io n
i sr ea so na bl e d ep en ds o n t he d om ai n i ts el f . Th ef ir st-o rd er Ma rk ov a ss um pt io n s ay s t ha t t he
s ta te v ar ia bl es c on ta in a ll t he i nf or ma ti on n ee de d t oc ha ra ct er iz e t he p ro ba bi li ty d is tr ib ut io n
"f or th en ex t t im e s li ce . So me ti me s t he a ss um pt io n i s e xa ct ly t ru e—f or ex am pl e , i fa pa rt ic le"
"i s e xe cu ti ng a r an do m w al k a lo ng t he x-a xi s , c ha ng in g i ts p os it io n b y ±1 a t e ac h t im e s te p ,"
t he n u si ng t he x-c oo rd in at e a s t he s ta te g iv es a f ir st-o rd er Ma rk ov p ro ce ss . So me ti me s t he
"a ss um pt io ni so nl ya pp ro xi ma te , a si nt he ca se of pr ed ic ti ng r ai no nl yo nt he ba si so fw he th er"
i tr ai ne dt he pr ev io us da y . Th er ea re tw ow ay st oi mp ro ve th ea cc ur ac yo ft he ap pr ox im at io n:
"1. In cr ea si ng t he o rd er o f t he Ma rk ov p ro ce ss m od el . Fo r e xa mp le , w e c ou ld m ak e a"
"s ec on d-o rd er mo de lb ya dd in g Ra in t−2 a sa pa re nt of Ra in t ,w hi ch mi gh tg iv es li gh tl y"
"m or e a cc ur at e p re di ct io ns . Fo r e xa mp le , i n Pa lo Al to , Ca li fo rn ia , i t v er y r ar el y r ai ns"
m or et ha nt wo da ys in ar ow .
"2. In cr ea si ng t he s et o f s ta te v ar ia bl es . Fo r e xa mp le , w e c ou ld a dd Se as on t o a ll ow"
t
570 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
"u s t o i nc or po ra te h is to ri ca l r ec or ds o f r ai ny s ea so ns , o r w e c ou ld a dd Te mp er at ur e ,"
t
Hu mi di ty a nd Pr es su re (p er ha ps at ar an ge of lo ca ti on s)t oa ll ow us to us ea ph ys ic al
t t
m od el of ra in yc on di ti on s .
Ex er ci se 15.1 a sk s y ou t o s ho w t ha t t he f ir st s ol ut io n—i nc re as in g t he o rd er—c an a lw ay s b e
"r ef or mu la te d a s a n i nc re as e i n t he s et o f s ta te v ar ia bl es , k ee pi ng t he o rd er f ix ed . No ti ce t ha t"
a dd in g s ta te v ar ia bl es m ig ht i mp ro ve t he s ys te m’s p re di ct iv e p ow er b ut a ls o i nc re as es t he
"p re di ct io n r eq ui re me nt s: w e n ow h av e t o p re di ct t he n ew v ar ia bl es a s w el l . Th us , w e a re"
"l oo ki ng fo ra“s el f-s uf fi ci en t”s et of va ri ab le s ,w hi ch re al ly me an st ha tw eh av et ou nd er st an d"
t he “p hy si cs” o f t he p ro ce ss b ei ng m od el ed . Th e r eq ui re me nt f or a cc ur at e m od el in g o f t he
"p ro ce ss i so bv io us ly l es se ne d i fw ec an a dd n ew se ns or s (e .g ., m ea su re me nt s o ft em pe ra tu re"
a nd pr es su re) t ha tp ro vi de in fo rm at io n d ir ec tl y a bo ut th en ew st at ev ar ia bl es .
"Co ns id er ,f or ex am pl e ,t he pr ob le mo ft ra ck in ga ro bo tw an de ri ng ra nd om ly on th e X–Y"
p la ne . On em ig ht pr op os e t ha tt he po si ti on a nd ve lo ci ty ar ea s uf fi ci en ts et of st at ev ar ia bl es:
"o ne ca ns im pl yu se Ne wt on’s la ws to ca lc ul at et he ne wp os it io n ,a nd th ev el oc it ym ay ch an ge"
"u np re di ct ab ly . If th er ob ot is ba tt er y-p ow er ed ,h ow ev er ,t he nb at te ry ex ha us ti on wo ul dt en dt o"
h av ea sy st em at ic ef fe ct on th ec ha ng ei nv el oc it y . Be ca us et hi si nt ur nd ep en ds on ho wm uc h
"p ow er wa su se d b ya ll pr ev io us m an eu ve rs , t he Ma rk ov p ro pe rt y i sv io la te d . We ca n r es to re"
t he Ma rk ov pr op er ty b yi nc lu di ng t he ch ar ge le ve l Ba tt er y a so ne of th es ta te va ri ab le s t ha t
t
"m ak e u p X . Th is h el ps i n p re di ct in g t he m ot io n o f t he r ob ot , b ut i n t ur n r eq ui re s a m od el"
t
"f or p re di ct in g Ba tt er y t f ro m Ba tt er y t−1 a nd t he v el oc it y . In s om e c as es , t ha t c an b e d on e"
"r el ia bl y , b ut m or e o ft en w e f in dt ha t e rr or a cc um ul at es o ve rt im e . In t ha t c as e , a cc ur ac y c an"
b ei mp ro ve db ya dd in ga ne ws en so rf or th eb at te ry le ve l .
15.2 INFERENCE IN TEMPORAL MODELS
"Ha vi ng se tu pt he st ru ct ur eo fa ge ne ri ct em po ra lm od el ,w ec an fo rm ul at et he ba si ci nf er en ce"
t as ks th at mu st be so lv ed:
• Fi lt er in g: Th is i s t he t as k o f c om pu ti ng t he b el ie f s ta te—t he p os te ri or d is tr ib ut io n
FILTERING
o ve r t he m os t r ec en t s ta te—g iv en a ll e vi de nc e t o d at e . Fi lt er in g 2 i s a ls o c al le d s ta te
BELIEFSTATE
"e st im at io n . In ou re xa mp le ,w ew is ht oc om pu te P(X |e ). In th eu mb re ll ae xa mp le ,"
STATEESTIMATION t 1:t
"t hi s w ou ld m ea n c om pu ti ng t he p ro ba bi li ty o f r ai n t od ay , g iv en a ll t he o bs er va ti on s o f"
t he u mb re ll a c ar ri er m ad e s o f ar . Fi lt er in g i s w ha t a r at io na l a ge nt d oe s t o k ee p t ra ck
o f t he c ur re nt s ta te s o t ha t r at io na l d ec is io ns c an b e m ad e . It t ur ns o ut t ha t a n a lm os t
"i de nt ic al ca lc ul at io n p ro vi de st he li ke li ho od o ft he ev id en ce s eq ue nc e , P(e )."
1:t
"• Pr ed ic ti on: Th is is th et as ko fc om pu ti ng th ep os te ri or di st ri bu ti on ov er th ef ut ur es ta te ,"
PREDICTION
"g iv en al l e vi de nc e t od at e . Th at is , w ew is ht oc om pu te P(X |e )f or so me k > 0."
t+k 1:t
"In th e u mb re ll a e xa mp le , t hi sm ig ht m ea nc om pu ti ng t he pr ob ab il it y o fr ai nt hr ee d ay s"
"f ro mn ow ,g iv en al lt he ob se rv at io ns to da te . Pr ed ic ti on is us ef ul fo re va lu at in gp os si bl e"
c ou rs es of ac ti on ba se do nt he ir ex pe ct ed ou tc om es .
"2 Th et er m“f il te ri ng”r ef er st ot he ro ot so ft hi sp ro bl em in ea rl yw or ko ns ig na lp ro ce ss in g ,w he re th ep ro bl em"
i st of il te ro ut th en oi se in as ig na lb ye st im at in gi ts un de rl yi ng pr op er ti es .
Se ct io n 15.2. In fe re nc e i n Te mp or al Mo de ls 571
"• Sm oo th in g: Th is i s t he t as k o f c om pu ti ng t he p os te ri or d is tr ib ut io n o ve r a p as t s ta te ,"
SMOOTHING
"g iv en al le vi de nc eu pt ot he pr es en t . Th at is ,w ew is ht oc om pu te P(X |e )f or so me k"
k 1:t
"s uc ht ha t 0 ≤ k <t . In th eu mb re ll ae xa mp le ,i tm ig ht me an co mp ut in gt he pr ob ab il it y"
"t ha t i t r ai ne d l as t We dn es da y , g iv en a ll t he o bs er va ti on s o f t he u mb re ll a c ar ri er m ad e"
u pt ot od ay . Sm oo th in g p ro vi de s a be tt er es ti ma te o ft he st at e t ha nw as av ai la bl e a tt he
"t im e ,b ec au se it in co rp or at es m or ee vi de nc e .3"
"• Mo st li ke ly ex pl an at io n: Gi ve na se qu en ce o fo bs er va ti on s , w em ig ht wi sh to fi nd th e"
"s eq ue nc e o fs ta te s t ha ti sm os tl ik el y t oh av eg en er at ed t ho se o bs er va ti on s . Th at is , w e"
"w is ht oc om pu te ar gm ax P(x |e ). Fo re xa mp le ,i ft he um br el la ap pe ar so ne ac h"
x 1:t 1:t 1:t
"o ft he fi rs tt hr ee da ys an di sa bs en to nt he fo ur th ,t he nt he mo st li ke ly ex pl an at io ni st ha t"
i tr ai ne d o n t he f ir st t hr ee d ay s a nd d id n ot r ai n o n t he f ou rt h . Al go ri th ms f or th is t as k
"a re us ef ul in ma ny ap pl ic at io ns , i nc lu di ng sp ee ch re co gn it io n—w he re t he ai mi st of in d"
"t he mo st li ke ly s eq ue nc e o fw or ds , g iv en as er ie s o fs ou nd s—a nd t he re co ns tr uc ti on o f"
b it st ri ng st ra ns mi tt ed o ve ra no is yc ha nn el .
"In ad di ti on t ot he se in fe re nc e t as ks ,w ea ls oh av e"
"• Le ar ni ng: Th e t ra ns it io n a nd s en so r m od el s , i f n ot y et k no wn , c an b e l ea rn ed f ro m"
"o bs er va ti on s . Ju st as wi th st at ic Ba ye si an ne tw or ks ,d yn am ic Ba ye sn et le ar ni ng ca nb e"
d on e a s a b y-p ro du ct o f i nf er en ce . In fe re nc e p ro vi de s a n e st im at e o f w ha t t ra ns it io ns
"a ct ua ll y o cc ur re d a nd of wh at st at es ge ne ra te d t he se ns or re ad in gs , a nd th es e e st im at es"
"c an be us ed t ou pd at e t he mo de ls . Th eu pd at ed m od el s p ro vi de n ew es ti ma te s , a nd t he"
p ro ce ss i te ra te s t o c on ve rg en ce . Th e o ve ra ll p ro ce ss i s a n i ns ta nc e o f t he e xp ec ta ti on-
m ax im iz at io no r EMa lg or it hm . (Se e Se ct io n 20.3.)
"No te th at le ar ni ng r eq ui re ss mo ot hi ng , r at he rt ha nf il te ri ng , b ec au se sm oo th in g p ro vi de s b et-"
t er es ti ma te so ft he st at es of th ep ro ce ss . Le ar ni ng wi th fi lt er in gc an fa il to co nv er ge co rr ec tl y ;
"c on si de r , f or e xa mp le , t he p ro bl em o f l ea rn in g t o s ol ve m ur de rs: u nl es s y ou a re a n e ye wi t-"
"n es s , s mo ot hi ng i s a lw ay s r eq ui re d t o i nf er w ha t h ap pe ne d a t t he m ur de r s ce ne f ro m t he"
o bs er va bl e v ar ia bl es .
"Th er em ai nd er of th is se ct io n d es cr ib es g en er ic a lg or it hm s f or th ef ou ri nf er en ce t as ks ,"
i nd ep en de nt o ft he pa rt ic ul ar ki nd of mo de le mp lo ye d . Im pr ov em en ts sp ec if ic to ea ch mo de l
a re de sc ri be d i ns ub se qu en t s ec ti on s .
15.2.1 Fi lt er in ga nd p re di ct io n
"As w e p oi nt ed o ut i n Se ct io n 7.7.3, a u se fu l f il te ri ng a lg or it hm n ee ds t o m ai nt ai n a c ur re nt"
"s ta te es ti ma te an du pd at ei t ,r at he rt ha ng oi ng ba ck ov er th ee nt ir eh is to ry of pe rc ep ts fo re ac h"
"u pd at e . (Ot he rw is e , t he co st of ea ch up da te in cr ea se s a st im eg oe sb y .) In ot he rw or ds ,g iv en"
"t he r es ul t o f f il te ri ng u p t o t im e t , t he a ge nt n ee ds t o c om pu te t he r es ul t f or t+1 f ro m t he"
"n ew ev id en ce e ,"
t+1
"P(X |e ) = f(e ,P(X |e )),"
t+1 1:t+1 t+1 t 1:t
RECURSIVE f or so me fu nc ti on f . Th is pr oc es si sc al le dr ec ur si ve es ti ma ti on . We ca nv ie wt he ca lc ul at io n
ESTIMATION
"3 In pa rt ic ul ar ,w he nt ra ck in ga mo vi ng ob je ct wi th in ac cu ra te po si ti on ob se rv at io ns ,s mo ot hi ng gi ve sa sm oo th er"
e st im at ed tr aj ec to ry th an fi lt er in g—h en ce th en am e .
572 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
"a sb ei ng co mp os ed of tw op ar ts: f ir st ,t he cu rr en t s ta te di st ri bu ti on i sp ro je ct ed f or wa rd fr om"
t to t+1;t he ni ti su pd at ed us in gt he ne we vi de nc ee . Th is tw o-p ar tp ro ce ss em er ge sq ui te
t+1
s im pl yw he nt he fo rm ul ai sr ea rr an ge d:
"P(X |e ) = P(X |e ,e ) (d iv id in g u pt he ev id en ce)"
t+1 1:t+1 t+1 1:t t+1
"= αP(e |X ,e )P(X |e ) (u si ng Ba ye s’r ul e)"
t+1 t+1 1:t t+1 1:t
= αP(e |X )P(X |e ) (b yt he se ns or Ma rk ov as su mp ti on). (15.4)
t+1 t+1 t+1 1:t
"He re an dt hr ou gh ou tt hi sc ha pt er , αi sa no rm al iz in gc on st an tu se dt om ak ep ro ba bi li ti es s um"
"u p t o 1. Th e s ec on d t er m , P(X |e ) r ep re se nt s a o ne-s te p p re di ct io n o f t he n ex t s ta te ,"
t+1 1:t
a nd th ef ir st te rm up da te st hi sw it ht he ne we vi de nc e ;n ot ic et ha t P(e |X )i so bt ai na bl e
t+1 t+1
d ir ec tl y f ro m t he s en so r m od el . No w w eo bt ai n t he o ne-s te p p re di ct io n f or t he n ex t s ta te b y
c on di ti on in g o nt he cu rr en ts ta te X :
t (c id:12)
"P(X |e ) = αP(e |X ) P(X |x ,e )P(x |e )"
t+1 1:t+1 t+1 t+1 t+1 t 1:t t 1:t
(c id:12) x t
= αP(e |X ) P(X |x )P(x |e ) (Ma rk ov as su mp ti on). (15.5)
t+1 t+1 t+1 t t 1:t
x t
"Wi th in th es um ma ti on ,t he fi rs tf ac to rc om es fr om th et ra ns it io nm od el an dt he se co nd co me s"
"f ro mt he cu rr en ts ta te di st ri bu ti on . He nc e ,w eh av et he de si re dr ec ur si ve fo rm ul at io n . We ca n"
t hi nk of th ef il te re de st im at e P(X |e )a sa“m es sa ge”f t ha ti sp ro pa ga te d f or wa rd al on g
t 1:t 1:t
"t he se qu en ce , m od if ie db ye ac ht ra ns it io n a nd up da te db ye ac hn ew ob se rv at io n . Th ep ro ce ss"
i sg iv en by
f
1:t+1
"= αFORWARD(f 1:t ,e t+1),"
w he re FORWARDi mp le me nt st he up da te de sc ri be di n Eq ua ti on(15.5)a nd th ep ro ce ss be gi ns
"w it h f = P(X ). Wh en a ll t he s ta te v ar ia bl es a re d is cr et e , t he t im e f or e ac h u pd at e i s"
1:0 0
"c on st an t (i .e ., i nd ep en de nt o f t), a nd t he s pa ce r eq ui re d i s a ls o c on st an t . (Th e c on st an ts"
"d ep en d , o f c ou rs e , o n t he s iz e o f t he s ta te s pa ce a nd t he s pe ci fi c t yp e o f t he t em po ra l m od el"
i nq ue st io n .) Th et im ea nd sp ac er eq ui re me nt sf or up da ti ng mu st be co ns ta nt if an ag en tw it h
l im it ed me mo ry is to ke ep tr ac ko ft he cu rr en ts ta te di st ri bu ti on o ve ra nu nb ou nd ed s eq ue nc e
o fo bs er va ti on s .
Le t u s i ll us tr at e t he f il te ri ng p ro ce ss f or t wo s te ps i n t he b as ic u mb re ll a e xa mp le (Fi g-
"u re 15.2.) Th at is ,w ew il lc om pu te P(R |u )a sf ol lo ws:"
2 1:2
"• On da y 0,w eh av en oo bs er va ti on s , o nl yt he se cu ri ty gu ar d’s pr io rb el ie fs ;l et’s as su me"
"t ha tc on si st so f P(R ) = (c id:16)0.5,0.5(c id:17)."
0
"• On da y 1,t he um br el la ap pe ar s , s o U =t ru e . Th ep re di ct io n f ro m t=0 t ot=1 i s"
(c id:12) 1
P(R ) = P(R |r )P(r )
1 1 0 0
r 0
"= (c id:16)0.7,0.3(c id:17)×0.5+(c id:16)0.3,0.7(c id:17)×0.5 = (c id:16)0.5,0.5(c id:17)."
Th en th eu pd at e s te ps im pl y m ul ti pl ie s b yt he pr ob ab il it y o f t he ev id en ce f or t=1 a nd
"n or ma li ze s , a ss ho wn in Eq ua ti on(15.4):"
"P(R |u ) = αP(u |R )P(R )= α(c id:16)0.9,0.2(c id:17)(c id:16)0.5,0.5(c id:17)"
1 1 1 1 1
"= α(c id:16)0.45,0.1(c id:17) ≈ (c id:16)0.818,0.182(c id:17)."
Se ct io n 15.2. In fe re nc e i n Te mp or al Mo de ls 573
"• On da y 2,t he um br el la ap pe ar s , s o U =t ru e . Th ep re di ct io n f ro m t=1 t ot=2 i s"
(c id:12) 2
P(R |u ) = P(R |r )P(r |u )
2 1 2 1 1 1
r 1
"= (c id:16)0.7,0.3(c id:17)×0.818+(c id:16)0.3,0.7(c id:17)×0.182 ≈ (c id:16)0.627,0.373(c id:17),"
a nd up da ti ng it wi th th ee vi de nc ef or t=2 g iv es
"P(R |u ,u ) = αP(u |R )P(R |u )= α(c id:16)0.9,0.2(c id:17)(c id:16)0.627,0.373(c id:17)"
2 1 2 2 2 2 1
"= α(c id:16)0.565,0.075(c id:17) ≈ (c id:16)0.883,0.117(c id:17)."
"In tu it iv el y , t he p ro ba bi li ty o f r ai n i nc re as es f ro m d ay 1 t o d ay 2 b ec au se r ai n p er si st s . Ex er-"
c is e 15.2(a)a sk sy ou to in ve st ig at e t hi st en de nc yf ur th er .
Th e t as k o f p re di ct io n c an b e s ee n s im pl y a s f il te ri ng w it ho ut t he a dd it io n o f n ew
"e vi de nc e . In f ac t , t he f il te ri ng p ro ce ss a lr ea dy i nc or po ra te s a o ne-s te p p re di ct io n , a nd i t i s"
e as y t od er iv et he f ol lo wi ng r ec ur si ve c om pu ta ti on f or pr ed ic ti ng t he s ta te at t+k+1 f ro m
a pr ed ic ti on f or t+k:
(c id:12)
P(X |e ) = P(X |x )P(x |e ). (15.6)
t+k+1 1:t t+k+1 t+k t+k 1:t
x t+k
"Na tu ra ll y , t hi sc om pu ta ti on i nv ol ve s o nl yt he tr an si ti on m od el an dn ot th es en so rm od el ."
It i s i nt er es ti ng t o c on si de r w ha t h ap pe ns a s w e t ry t o p re di ct f ur th er a nd f ur th er i nt o
"t he f ut ur e . As Ex er ci se 15.2(b) s ho ws , t he p re di ct ed d is tr ib ut io n f or r ai n c on ve rg es t o a"
"f ix ed p oi nt (c id:16)0.5,0.5(c id:17), a ft er w hi ch i t r em ai ns c on st an t f or a ll t im e . Th is i s t he s ta ti on ar y"
d is tr ib ut io n o ft he Ma rk ov p ro ce ss d ef in ed b y t he tr an si ti on m od el . (Se ea ls o p ag e 537.) A
g re at d ea l i s k no wn a bo ut t he p ro pe rt ie s o f s uc h d is tr ib ut io ns a nd a bo ut t he m ix in g t im e—
MIXINGTIME
"r ou gh ly , t he ti me t ak en t o r ea ch t he f ix ed po in t . In pr ac ti ca l t er ms , t hi s d oo ms t of ai lu re a ny"
a tt em pt t op re di ct t he a ct ua l s ta te f or an um be r o fs te ps t ha t i s m or et ha n a sm al l f ra ct io n o f
"t he mi xi ng t im e , u nl es s t he s ta ti on ar y d is tr ib ut io n i ts el f i ss tr on gl y p ea ke d i na sm al la re a o f"
"t he s ta te s pa ce . Th em or e u nc er ta in ty t he re i s i nt he t ra ns it io n m od el , t he s ho rt er w il lb e t he"
m ix in gt im ea nd th em or et he fu tu re is ob sc ur ed .
"In a dd it io n t o f il te ri ng a nd p re di ct io n , w e c an u se a f or wa rd r ec ur si on t o c om pu te t he"
"l ik el ih oo do ft he ev id en ce se qu en ce ,P(e ). Th is is au se fu lq ua nt it yi fw ew an tt oc om pa re"
1:t
"d if fe re nt t em po ra l m od el s t ha t m ig ht h av e p ro du ce d t he s am e e vi de nc e s eq ue nc e (e .g ., t wo"
"d if fe re nt m od el sf or th ep er si st en ce o fr ai n). Fo rt hi sr ec ur si on , w eu se al ik el ih oo d m es sa ge"
"(c id:3) (X )=P(X ,e ). It is as im pl ee xe rc is et os ho wt ha tt he me ss ag ec al cu la ti on i si de nt ic al"
1:t t t 1:t
t ot ha tf or fi lt er in g:
(c id:3)
1:t+1
"= FORWARD((c id:3) 1:t ,e t+1)."
"Ha vi ng co mp ut ed(c id:3) ,w eo bt ai nt he ac tu al li ke li ho od b ys um mi ng ou t X :"
1:t (c id:12) t
L = P(e ) = (c id:3) (x ). (15.7)
1:t 1:t 1:t t
x t
No ti ce th at th el ik el ih oo d m es sa ge re pr es en ts t he pr ob ab il it ie s o fl on ge ra nd lo ng er ev id en ce
"s eq ue nc es as ti me go es by an ds ob ec om es nu me ri ca ll ys ma ll er an ds ma ll er ,l ea di ng to un de r-"
"f lo w p ro bl em s w it h f lo at in g-p oi nt a ri th me ti c . Th is i s a n i mp or ta nt p ro bl em i n p ra ct ic e , b ut"
w es ha ll no tg oi nt os ol ut io ns h er e .
574 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
X X X X
0 1 k t
E E E
1 k t
"Fi gu re 15.3 Sm oo th in g c om pu te s P(Xk|e 1:t), t he p os te ri or d is tr ib ut io n o f t he s ta te a t"
s om ep as tt im ek gi ve na co mp le te se qu en ce of ob se rv at io ns fr om 1 t ot .
15.2.2 Sm oo th in g
"As w e s ai d e ar li er , s mo ot hi ng i s t he p ro ce ss o f c om pu ti ng t he d is tr ib ut io n o ve r p as t s ta te s"
"g iv en e vi de nc e u p t o t he p re se nt ; t ha t i s , P(X |e ) f or 0 ≤ k < t . (Se e Fi gu re 15.3.)"
k 1:t
"In an ti ci pa ti on o fa no th er re cu rs iv e m es sa ge-p as si ng a pp ro ac h , w ec an sp li t t he co mp ut at io n"
"i nt ot wo pa rt s—t he e vi de nc eu pt ok a nd th ee vi de nc e f ro mk+1 t ot ,"
"P(X |e ) = P(X |e ,e )"
k 1:t k 1:k k+1:t
"= αP(X |e )P(e |X ,e ) (u si ng Ba ye s’r ul e)"
k 1:k k+1:t k 1:k
= αP(X |e )P(e |X ) (u si ng co nd it io na l i nd ep en de nc e)
k 1:k k+1:t k
= αf ×b . (15.8)
1:k k+1:t
w he re “×” r ep re se nt s p oi nt wi se m ul ti pl ic at io n o f v ec to rs . He re w e h av e d ef in ed a “b ac k-
"w ar d”m es sa ge b =P(e |X ), a na lo go us t ot he f or wa rd m es sa ge f . Th ef or wa rd"
k+1:t k+1:t k 1:k
"m es sa ge f c an b ec om pu te d b yf il te ri ng f or wa rd f ro m 1 t o k , a s g iv en by Eq ua ti on (15.5)."
1:k
It t ur ns o ut t ha t t he b ac kw ar d m es sa ge b c an b e c om pu te d b y a r ec ur si ve p ro ce ss t ha t
k+1:t
r un sb ac kw ar df ro m t:
(c id:12)
"P(e |X ) = P(e |X ,x )P(x |X ) (c on di ti on in g o n X )"
k+1:t k k+1:t k k+1 k+1 k k+1
x (c id:12)k+1
= P(e |x )P(x |X ) (b yc on di ti on al i nd ep en de nc e)
k+1:t k+1 k+1 k
x (c id:12)k+1
"= P(e ,e |x )P(x |X )"
k+1 k+2:t k+1 k+1 k
x (c id:12)k+1
"= P(e |x )P(e |x )P(x |X ), (15.9)"
k+1 k+1 k+2:t k+1 k+1 k
x k+1
"w he re th el as t s te pf ol lo ws b yt he co nd it io na l i nd ep en de nc e o fe a nd e ,g iv en X ."
k+1 k+2:t k+1
"Of th et hr ee fa ct or si nt hi ss um ma ti on ,t he fi rs ta nd th ir da re ob ta in ed di re ct ly fr om th em od el ,"
"a nd th es ec on di st he“r ec ur si ve c al l .” Us in gt he me ss ag en ot at io n , w eh av e"
b
k+1:t
"= BACKWARD(b k+2:t ,e k+1),"
w he re BACKWARDi mp le me nt st he up da te de sc ri be di n Eq ua ti on(15.9). As wi th th ef or wa rd
"r ec ur si on , t he ti me an ds pa ce ne ed ed fo re ac hu pd at ea re co ns ta nt an dt hu si nd ep en de nt o ft ."
We ca n n ow s ee t ha t t he t wo te rm s i n Eq ua ti on (15.8) c an b ot h b e c om pu te d b y r ec ur-
"s io ns t hr ou gh t im e , o ne r un ni ng f or wa rd f ro m 1 t o k a nd u si ng t he f il te ri ng e qu at io n (15.5)"
Se ct io n 15.2. In fe re nc e i n Te mp or al Mo de ls 575
a nd t he o th er r un ni ng b ac kw ar d f ro m t t o k + 1 a nd u si ng Eq ua ti on (15.9). No te t ha t t he
"b ac kw ar d p ha se i s i ni ti al iz ed w it h b =P(e |X )=P( |X )1, w he re 1 i s a v ec to r o f"
t+1:t t+1:t t t
"1 s . (Be ca us ee i sa ne mp ty se qu en ce , t he pr ob ab il it y o fo bs er vi ng i ti s 1.)"
t+1:t
"Le t u s n ow a pp ly t hi s a lg or it hm t o t he u mb re ll a e xa mp le , c om pu ti ng t he s mo ot he d"
"e st im at e f or t he p ro ba bi li ty o f r ai n a t t im e k=1, g iv en t he u mb re ll a o bs er va ti on s o n d ay s 1"
"a nd 2. Fr om Eq ua ti on(15.8),t hi si sg iv en by"
"P(R |u ,u )= αP(R |u )P(u |R ). (15.10)"
1 1 2 1 1 2 1
"Th e f ir st t er m w e a lr ea dy k no w t o b e (c id:16).818,.182(c id:17), f ro m t he f or wa rd f il te ri ng p ro ce ss d e-"
s cr ib ed e ar li er . Th e s ec on d t er m c an b e c om pu te d b y a pp ly in g t he b ac kw ar d r ec ur si on i n
Eq ua ti on(15.9):
(c id:12)
P(u |R ) = P(u |r )P( |r )P(r |R )
2 1 2 2 2 2 1
r 2
"= (0.9×1×(c id:16)0.7,0.3(c id:17))+(0.2×1×(c id:16)0.3,0.7(c id:17)) = (c id:16)0.69,0.41(c id:17)."
"Pl ug gi ng th is in to Eq ua ti on(15.10), w ef in dt ha tt he sm oo th ed es ti ma te fo rr ai no nd ay 1 i s"
"P(R |u ,u )= α(c id:16)0.818,0.182(c id:17)×(c id:16)0.69,0.41(c id:17) ≈ (c id:16)0.883,0.117(c id:17)."
1 1 2
"Th us , t he s mo ot he d e st im at e f or r ai n o n d ay 1 i s h ig he r t ha n t he f il te re d e st im at e (0.818) i n"
t hi s c as e . Th is i s b ec au se t he u mb re ll a o n d ay 2 m ak es i t m or e l ik el y t o h av e r ai ne d o n d ay
"2;i nt ur n ,b ec au se ra in te nd st op er si st , t ha tm ak es it mo re li ke ly to ha ve ra in ed on da y 1."
Bo th t he f or wa rd a nd b ac kw ar d r ec ur si on s t ak e a c on st an t a mo un t o f t im e p er s te p ;
"h en ce , t he t im e c om pl ex it y o f s mo ot hi ng w it h r es pe ct t o e vi de nc e e i s O(t). Th is i s t he"
1:t
c om pl ex it y f or s mo ot hi ng a t a p ar ti cu la r t im e s te p k . If w e w an t t o s mo ot h t he w ho le s e-
"q ue nc e , o ne o bv io us m et ho d i s s im pl y t o r un t he w ho le s mo ot hi ng p ro ce ss o nc e f or e ac h"
t im e s te p t o b e s mo ot he d . Th is r es ul ts i n a t im e c om pl ex it y o f O(t 2). A b et te r a pp ro ac h
u se sa si mp le ap pl ic at io n o fd yn am ic pr og ra mm in g t or ed uc et he co mp le xi ty to O(t). Ac lu e
"a pp ea rs i n t he p re ce di ng a na ly si s o f t he u mb re ll a e xa mp le , w he re w ew er e a bl e t o r eu se t he"
r es ul ts o f t he f or wa rd-f il te ri ng p ha se . Th e k ey t o t he l in ea r-t im e a lg or it hm i s t o r ec or d t he
r es ul ts o f f or wa rd f il te ri ng o ve r t he w ho le s eq ue nc e . Th en w e r un t he b ac kw ar d r ec ur si on
"f ro m t do wn to 1,c om pu ti ng t he sm oo th ed e st im at e a te ac hs te p k f ro mt he co mp ut ed b ac k-"
"w ar d m es sa ge b a nd t he s to re d f or wa rd m es sa ge f . Th e a lg or it hm , a pt ly c al le d t he"
k+1:t 1:k
FORWARD–
"f or wa rd–b ac kw ar da lg or it hm ,i ss ho wn in Fi gu re 15.4."
BACKWARD
ALGORITHM
Th e a le rt r ea de r w il l h av e s po tt ed t ha t t he Ba ye si an n et wo rk s tr uc tu re s ho wn i n Fi g-
u re 15.3 i s a p ol yt re e a s d ef in ed o n p ag e 528. Th is m ea ns t ha t a s tr ai gh tf or wa rd a pp li ca ti on
o f t he c lu st er in g a lg or it hm a ls o y ie ld s a l in ea r-t im e a lg or it hm t ha t c om pu te s s mo ot he d e s-
t im at es f or t he e nt ir e s eq ue nc e . It i s n ow u nd er st oo d t ha t t he f or wa rd–b ac kw ar d a lg or it hm
i s i n f ac t a s pe ci al c as e o f t he p ol yt re e p ro pa ga ti on a lg or it hm u se d w it h c lu st er in g m et ho ds
(a lt ho ug h t he tw ow er ed ev el op ed in de pe nd en tl y).
Th ef or wa rd–b ac kw ar da lg or it hm fo rm st he co mp ut at io na lb ac kb on ef or ma ny ap pl ic a-
"t io ns th at de al wi th se qu en ce s o fn oi sy ob se rv at io ns . As de sc ri be d s of ar ,i th as tw op ra ct ic al"
d ra wb ac ks . Th ef ir st is th at it ss pa ce co mp le xi ty ca nb et oo hi gh wh en th es ta te sp ac ei sl ar ge
a nd th es eq ue nc es a re lo ng . It us es O(|f|t)s pa ce wh er e|f|i st he si ze of th er ep re se nt at io n o f
t he f or wa rd m es sa ge . Th es pa ce r eq ui re me nt c an b e r ed uc ed t o O(|f|l og t) w it ha c on co mi-
576 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
"t an t i nc re as e i nt he t im e c om pl ex it y b y a fa ct or o f l og t , a ss ho wn i n Ex er ci se 15.3. In s om e"
"c as es(s ee Se ct io n 15.3),a co ns ta nt-s pa ce a lg or it hm c an be us ed ."
Th e s ec on d d ra wb ac k o f t he b as ic a lg or it hm i s t ha t i t n ee ds t o b e m od if ie d t o w or k
i n a n o nl in e s et ti ng w he re s mo ot he d e st im at es m us t b e c om pu te d f or e ar li er t im e s li ce s a s
n ew o bs er va ti on s a re c on ti nu ou sl y a dd ed t o t he e nd o f t he s eq ue nc e . Th e m os t c om mo n
"FIXED-LAG r eq ui re me nt i s f or f ix ed-l ag s mo ot hi ng , w hi ch r eq ui re s c om pu ti ng t he s mo ot he d e st im at e"
SMOOTHING
"P(X t−d|e 1:t) f or f ix ed d . Th at i s , s mo ot hi ng i s d on e f or t he t im e s li ce d s te ps b eh in d t he"
"c ur re nt t im e t ; a s t i nc re as es , t he s mo ot hi ng h as t o k ee p u p . Ob vi ou sl y , w e c an r un t he"
"f or wa rd–b ac kw ar d a lg or it hm o ve r t he d-s te p “w in do w” a s e ac h n ew o bs er va ti on i s a dd ed ,"
"b ut th is se em si ne ff ic ie nt . In Se ct io n 15.3, w ew il ls ee th at fi xe d-l ag sm oo th in g c an , i ns om e"
"c as es ,b ed on ei nc on st an tt im ep er up da te ,i nd ep en de nt o ft he la gd ."
15.2.3 Fi nd in g t he m os tl ik el y s eq ue nc e
"Su pp os e t ha t [t ru e ,t ru e ,f al se ,t ru e ,t ru e] i s t he u mb re ll a s eq ue nc e f or t he s ec ur it y g ua rd’s"
f ir st f iv e d ay s o n t he j ob . Wh at i s t he w ea th er s eq ue nc e m os t l ik el y t o e xp la in t hi s ? Do es
"t he a bs en ce o f t he u mb re ll a o n d ay 3 m ea n t ha t i t w as n’t r ai ni ng , o r d id t he d ir ec to r f or ge t"
"t o b ri ng i t ? If i t d id n’t r ai n o n d ay 3, p er ha ps (b ec au se w ea th er t en ds t o p er si st) i t d id n’t"
"r ai n o n d ay 4 e it he r , b ut t he d ir ec to r b ro ug ht t he u mb re ll a j us t i n c as e . In a ll , t he re a re 25"
"p os si bl ew ea th er se qu en ce sw ec ou ld pi ck . Is th er ea wa yt of in dt he mo st li ke ly on e ,s ho rt of"
e nu me ra ti ng a ll of th em ?
We co ul dt ry th is li ne ar-t im ep ro ce du re: u se sm oo th in gt of in dt he po st er io rd is tr ib ut io n
"f or th ew ea th er at ea ch ti me st ep ;t he nc on st ru ct t he se qu en ce , u si ng at ea ch st ep th ew ea th er"
t ha t i s m os t l ik el y a cc or di ng t o t he p os te ri or . Su ch a n a pp ro ac h s ho ul d s et o ff a la rm b el ls
"i n t he r ea de r’s h ea d , b ec au se t he p os te ri or d is tr ib ut io ns c om pu te d b y s mo ot hi ng a re d is tr i-"
"f un ct io n FORWARD-BACKWARD(e v ,p ri or)r et ur ns av ec to ro fp ro ba bi li ty di st ri bu ti on s"
"i np ut s:e v ,a ve ct or of ev id en ce va lu es fo rs te ps 1,...,t"
"p ri or ,t he pr io rd is tr ib ut io no nt he in it ia ls ta te ,P(X )"
0
"l oc al va ri ab le s: f v ,a ve ct or of fo rw ar dm es sa ge sf or st ep s 0,...,t"
"b ,a re pr es en ta ti on of th eb ac kw ar dm es sa ge ,i ni ti al ly al l 1 s"
"s v ,a ve ct or of sm oo th ed es ti ma te sf or st ep s 1,...,t"
f v[0]←p ri or
f or i= 1 t ot do
"f v[i]←FORWARD(f v[i−1],e v[i])"
f or i= t do wn to 1 d o
s v[i]←NORMALIZE(f v[i]×b)
"b←BACKWARD(b ,e v[i])"
r et ur ns v
Fi gu re 15.4 Th ef or wa rd–b ac kw ar da lg or it hm fo rs mo ot hi ng: c om pu ti ng po st er io rp ro b-
a bi li ti es o f a s eq ue nc e o f s ta te s g iv en a s eq ue nc e o f o bs er va ti on s . Th e FORWARD a nd
"BACKWARDo pe ra to rs ar ed ef in ed by Eq ua ti on s(15.5)a nd(15.9),r es pe ct iv el y ."
Se ct io n 15.2. In fe re nc e i n Te mp or al Mo de ls 577
Ra in Ra in Ra in Ra in Ra in
1 2 3 4 5
t ru e t ru e t ru e t ru e t ru e
(a)
f al se f al se f al se f al se f al se
Um br el la t t ru e t ru e f al se t ru e t ru e
.8182 .5155 .0361 .0334 .0210
(b)
.1818 .0491 .1237 .0173 .0024
m m m m m
1:1 1:2 1:3 1:4 1:5
Fi gu re 15.5 (a)Po ss ib le st at es eq ue nc es fo r Ra in tc an be vi ew ed as pa th st hr ou gh ag ra ph
o f t he p os si bl e s ta te s a te ac h t im e s te p . (St at es a re s ho wn as r ec ta ng le st o a vo id c on fu si on
w it h n od es i n a Ba ye s n et .) (b) Op er at io no f t he Vi te rb i a lg or it hm f or t he u mb re ll a o bs er-
"v at io ns eq ue nc e[t ru e ,t ru e ,f al se ,t ru e ,t ru e]. Fo re ac ht , w eh av es ho wn th ev al ue so ft he"
"m es sa ge m 1:t ,w hi ch gi ve st he pr ob ab il it yo ft he be st se qu en ce re ac hi ng ea ch st at ea tt im et ."
"Al so ,f or ea ch st at e ,t he bo ld ar ro wl ea di ng in to it in di ca te si ts be st pr ed ec es so ra sm ea su re d"
b yt he pr od uc to ft he pr ec ed in gs eq ue nc ep ro ba bi li ty an dt he tr an si ti on pr ob ab il it y .Fo ll ow in g
t he bo ld ar ro ws ba ck fr om th em os tl ik el ys ta te in m g iv es th em os tl ik el ys eq ue nc e .
1:5
"b ut io ns o ve r s in gl e t im e s te ps , w he re as t o f in d t he m os t l ik el y s eq ue nc e w e m us t c on si de r"
j oi nt p ro ba bi li ti es o ve r a ll t he t im e s te ps . Th e r es ul ts c an i n f ac t b e q ui te d if fe re nt . (Se e
Ex er ci se 15.4.)
"Th er e i s a l in ea r-t im e a lg or it hm f or f in di ng t he m os t l ik el y s eq ue nc e , b ut i t r eq ui re s a"
l it tl em or et ho ug ht . It re li es on th es am e Ma rk ov pr op er ty th at yi el de de ff ic ie nt al go ri th ms fo r
f il te ri ng an ds mo ot hi ng . Th ee as ie st wa yt ot hi nk ab ou tt he pr ob le mi st ov ie we ac hs eq ue nc e
a s a p at h t hr ou gh a g ra ph w ho se n od es a re t he p os si bl e s ta te s a t e ac h t im e s te p . Su ch a
g ra ph i s s ho wn f or t he u mb re ll a w or ld i n Fi gu re 15.5(a). No w c on si de r t he t as k o f f in di ng
"t he m os t l ik el y p at h t hr ou gh t hi s g ra ph , w he re t he l ik el ih oo d o f a ny p at h i s t he p ro du ct o f"
t he t ra ns it io n p ro ba bi li ti es a lo ng t he p at h a nd t he p ro ba bi li ti es o f t he g iv en o bs er va ti on s a t
e ac h s ta te . Le t’s f oc us i n p ar ti cu la r o n p at hs t ha t r ea ch t he s ta te Ra in =t ru e . Be ca us e o f
5
"t he Ma rk ov pr op er ty ,i tf ol lo ws th at th em os tl ik el yp at ht ot he st at e Ra in =t ru e c on si st so f"
5
t he mo st li ke ly pa th to so me st at ea tt im e 4 f ol lo we db ya tr an si ti on t o Ra in =t ru e ;a nd th e
5
s ta te at ti me 4 t ha tw il lb ec om ep ar to ft he pa th to Ra in =t ru e i sw hi ch ev er ma xi mi ze st he
5
"l ik el ih oo d o f t ha t p at h . In o th er w or ds , t he re i s a r ec ur si ve r el at io ns hi p b et we en m os t l ik el y"
p at hs to ea ch st at ex a nd mo st li ke ly pa th st oe ac hs ta te x . We ca nw ri te th is re la ti on sh ip
t+1 t
a sa ne qu at io n c on ne ct in g t he pr ob ab il it ie s o ft he pa th s:
"m ax P(x ,...,x ,X |e )"
1 t t+1 1:t+1
x 1...x t (c id:13) (c id:14)
"= αP(e t+1|X t+1)m ax P(X t+1|x t) m ax P(x 1,...,x t−1,x t|e 1:t) . (15.11)"
x t x 1...x t−1
Eq ua ti on(15.11)i si de nt ic al t ot he fi lt er in ge qu at io n (15.5)e xc ep tt ha t
578 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
1. Th ef or wa rd me ss ag e f =P(X |e )i sr ep la ce db yt he me ss ag e
1:t t 1:t
m
1:t
"= m ax P(x 1,...,x t−1,X t|e 1:t),"
x 1...x t−1
"t ha ti s ,t he pr ob ab il it ie s o ft he mo st li ke ly pa th to ea ch st at ex ;a nd"
t
2. t he s um ma ti on o ve r x i n Eq ua ti on (15.5) i s r ep la ce d b y t he m ax im iz at io n o ve r x i n
t t
Eq ua ti on(15.11).
"Th us ,t he al go ri th mf or co mp ut in gt he mo st li ke ly se qu en ce is si mi la rt of il te ri ng: i tr un sf or-"
"w ar da lo ng th es eq ue nc e ,c om pu ti ng th em me ss ag ea te ac ht im es te p ,u si ng Eq ua ti on(15.11)."
"Th e p ro gr es s o f t hi s c om pu ta ti on i s s ho wn i n Fi gu re 15.5(b). At t he e nd , i t w il l h av e t he"
p ro ba bi li ty f or th em os tl ik el ys eq ue nc er ea ch in g e ac ho ft he fi na ls ta te s . On ec an th us ea si ly
s el ec t t he m os t l ik el y s eq ue nc e o ve ra ll (t he s ta te s o ut li ne d i n b ol d). In o rd er t o i de nt if y t he
"a ct ua ls eq ue nc e , a so pp os ed t oj us tc om pu ti ng i ts pr ob ab il it y , t he al go ri th m w il la ls on ee dt o"
"r ec or d , f or ea ch s ta te , t he b es t s ta te t ha t l ea ds t oi t ; t he se a re in di ca te d b y t he bo ld a rr ow si n"
Fi gu re 15.5(b). Th eo pt im al se qu en ce is id en ti fi ed by fo ll ow in gt he se bo ld ar ro ws ba ck wa rd s
f ro mt he be st fi na ls ta te .
"Th ea lg or it hm we ha ve ju st de sc ri be di sc al le dt he Vi te rb ia lg or it hm ,a ft er it si nv en to r ."
VITERBIALGORITHM
"Li ke t he f il te ri ng a lg or it hm , i ts t im e c om pl ex it y i s l in ea r i n t , t he l en gt h o f t he s eq ue nc e ."
"Un li ke f il te ri ng , w hi ch u se s c on st an t s pa ce , i ts s pa ce r eq ui re me nt i s a ls o l in ea r i n t . Th is"
i s b ec au se t he Vi te rb i a lg or it hm n ee ds t o k ee p t he p oi nt er s t ha t i de nt if y t he b es t s eq ue nc e
l ea di ng to ea ch st at e .
15.3 HIDDEN MARKOV MODELS
Th ep re ce di ng se ct io nd ev el op ed al go ri th ms fo rt em po ra lp ro ba bi li st ic re as on in gu si ng ag en-
e ra lf ra me wo rk th at wa si nd ep en de nt o ft he sp ec if ic fo rm of th et ra ns it io na nd se ns or mo de ls .
"In t hi s a nd t he n ex t t wo s ec ti on s , w e d is cu ss m or e c on cr et e m od el s a nd a pp li ca ti on s t ha t"
i ll us tr at e t he po we ro ft he ba si ca lg or it hm s a nd in so me ca se sa ll ow fu rt he ri mp ro ve me nt s .
"HIDDENMARKOV We b eg in w it h t he h id de n Ma rk ov m od el , o r HMM . An HMM i s a t em po ra l p ro ba-"
MODEL
b il is ti c m od el in wh ic ht he st at eo ft he pr oc es s i sd es cr ib ed b ya si ng le d is cr et e r an do m v ar i-
a bl e . Th e p os si bl e v al ue s o f t he v ar ia bl e a re t he p os si bl e s ta te s o f t he w or ld . Th e u mb re ll a
"e xa mp le d es cr ib ed i n t he p re ce di ng s ec ti on i s t he re fo re a n HMM , s in ce i t h as j us t o ne s ta te"
v ar ia bl e: Ra in . Wh at ha pp en si fy ou ha ve am od el wi th tw oo rm or es ta te va ri ab le s ? Yo uc an
t
s ti ll f it it in to t he HMMf ra me wo rk b y c om bi ni ng t he v ar ia bl es i nt o a si ng le “m eg av ar ia bl e”
w ho se v al ue s a re a ll p os si bl e t up le s o f v al ue s o f t he i nd iv id ua l s ta te v ar ia bl es . We w il l s ee
t ha tt he re st ri ct ed s tr uc tu re o f HMMs al lo ws fo ra si mp le an d e le ga nt ma tr ix im pl em en ta ti on
o fa ll th eb as ic al go ri th ms .4
4 Th er ea de ru nf am il ia rw it hb as ic op er at io ns on ve ct or sa nd ma tr ic es mi gh tw is ht oc on su lt Ap pe nd ix Ab ef or e
p ro ce ed in gw it ht hi ss ec ti on .
Se ct io n 15.3. Hi dd en Ma rk ov Mo de ls 579
15.3.1 Si mp li fi ed ma tr ix a lg or it hm s
"Wi th a s in gl e , d is cr et e s ta te v ar ia bl e X , w e c an g iv e c on cr et e f or m t o t he r ep re se nt at io ns"
t
"o f t he t ra ns it io n m od el , t he s en so r m od el , a nd t he f or wa rd a nd b ac kw ar d m es sa ge s . Le t t he"
"s ta te va ri ab le X h av ev al ue sd en ot ed by in te ge rs 1,...,S ,w he re S i st he nu mb er of po ss ib le"
t
"s ta te s . Th et ra ns it io n m od el P(X t|X t−1)b ec om es an S×S m at ri x T ,w he re"
T
i j
= P(X t=j|X t−1=i).
"Th at is ,T i st he pr ob ab il it yo fa tr an si ti on fr om st at e i to st at ej . Fo re xa mp le ,t he tr an si ti on"
i j
m at ri xf or th eu mb re ll aw or ld is
(c id:13) (c id:14)
0.7 0.3
T = P(X t|X t−1)=
0.3 0.7
.
"We al so p ut th es en so r m od el in ma tr ix fo rm . In th is c as e , b ec au se t he va lu e o ft he ev id en ce"
"v ar ia bl e E i s k no wn a t t im e t (c al l i t e ), w en ee d o nl y s pe ci fy , f or e ac h s ta te , h ow l ik el y i t"
t t
i st ha tt he st at ec au se se t oa pp ea r: w en ee d P(e |X =i)f or ea ch st at ei . Fo rm at he ma ti ca l
t t t
"c on ve ni en ce w e p la ce t he se v al ue s i nt o a n S × S d ia go na l m at ri x , O w ho se i th d ia go na l"
t
"e nt ry i s P(e |X =i)a nd w ho se o th er e nt ri es a re 0. Fo re xa mp le , o n d ay 1 i n t he u mb re ll a"
t t
"w or ld of Fi gu re 15.5, U =t ru e ,a nd on da y 3,U =f al se ,s o ,f ro m Fi gu re 15.2,w eh av e"
(c id:13) (c id:14)1 (c id:13) 3(c id:14)
0.9 0 0.1 0
O = ; O = .
1 0 0.2 3 0 0.8
"No w ,i fw eu se co lu mn ve ct or st or ep re se nt th ef or wa rd an db ac kw ar dm es sa ge s ,a ll th ec om-"
p ut at io ns b ec om es im pl em at ri x–v ec to ro pe ra ti on s . Th ef or wa rd eq ua ti on (15.5)b ec om es
(c id:12)
f = αO T f (15.12)
1:t+1 t+1 1:t
a nd th eb ac kw ar de qu at io n (15.9)b ec om es
b = TO b . (15.13)
k+1:t k+1 k+2:t
"Fr om t he se e qu at io ns , w e c an s ee t ha t t he t im e c om pl ex it y o f t he f or wa rd–b ac kw ar d a lg o-"
"r it hm (Fi gu re 15.4) a pp li ed t o a s eq ue nc e o f l en gt h t i s O(S 2 t), b ec au se e ac h s te p r eq ui re s"
"m ul ti pl yi ng a n S-e le me nt v ec to r b y a n S×S m at ri x . Th e s pa ce r eq ui re me nt i s O(St), b e-"
c au se th ef or wa rd pa ss st or es t ve ct or so fs iz e S .
Be si de s p ro vi di ng a n e le ga nt d es cr ip ti on o f t he f il te ri ng a nd s mo ot hi ng a lg or it hm s f or
"HMMs , t he m at ri x f or mu la ti on r ev ea ls o pp or tu ni ti es f or i mp ro ve d a lg or it hm s . Th e f ir st i s"
a s im pl e v ar ia ti on o n t he f or wa rd–b ac kw ar d a lg or it hm t ha t a ll ow s s mo ot hi ng t o b e c ar ri ed
"o ut i n c on st an t s pa ce , i nd ep en de nt ly o ft he l en gt h o f t he s eq ue nc e . Th ei de a i st ha t s mo ot h-"
i ng fo ra ny pa rt ic ul ar ti me sl ic e k re qu ir es th es im ul ta ne ou sp re se nc eo fb ot ht he fo rw ar da nd
"b ac kw ar dm es sa ge s ,f a nd b ,a cc or di ng to Eq ua ti on(15.8). Th ef or wa rd–b ac kw ar da l-"
1:k k+1:t
g or it hm ac hi ev es th is by st or in gt he fs co mp ut ed on th ef or wa rd pa ss so th at th ey ar ea va il ab le
d ur in g t he b ac kw ar d p as s . An ot he r w ay t o a ch ie ve t hi s i s w it h a s in gl e p as s t ha t p ro pa ga te s
"b ot h f an db in th es am ed ir ec ti on . Fo re xa mp le , t he“f or wa rd” m es sa ge f ca nb ep ro pa ga te d"
b ac kw ar di fw em an ip ul at e Eq ua ti on(15.12)t ow or ki nt he ot he rd ir ec ti on:
f =
α(c id:2) (T(c id:12) )−1 O−1
f .
1:t t+1 1:t+1
Th em od if ie ds mo ot hi ng a lg or it hm w or ks by fi rs tr un ni ng t he st an da rd f or wa rd p as st oc om-
p ut ef (f or ge tt in g a ll th ei nt er me di at e r es ul ts) a nd th en r un ni ng t he ba ck wa rd p as sf or bo th
t:t
580 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
"f un ct io n FIXED-LAG-SMOOTHING(e t ,h mm ,d)r et ur ns ad is tr ib ut io no ve r Xt−d"
"i np ut s:e t ,t he cu rr en te vi de nc ef or ti me st ep t"
"h mm ,a hi dd en Ma rk ov mo de lw it h S× S t ra ns it io nm at ri x T"
"d ,t he le ng th of th el ag fo rs mo ot hi ng"
"p er si st en t: t ,t he cu rr en tt im e ,i ni ti al ly 1"
"f ,t he fo rw ar dm es sa ge P(Xt|e 1:t),i ni ti al ly hm m .PRIOR"
"B ,t he d-s te pb ac kw ar dt ra ns fo rm at io nm at ri x ,i ni ti al ly th ei de nt it ym at ri x"
"e t−d:t ,d ou bl e-e nd ed li st of ev id en ce fr om t−d to t ,i ni ti al ly em pt y"
"l oc al va ri ab le s: Ot−d ,Ot ,d ia go na lm at ri ce sc on ta in in gt he se ns or mo de li nf or ma ti on"
a dd et to th ee nd of et−d:t
Ot←d ia go na lm at ri xc on ta in in g P(e t|Xt)
i ft>d th en
"f←FORWARD(f ,e t)"
r em ov ee t−d−1 f ro mt he be gi nn in go fe t−d:t
Ot−d←d ia go na lm at ri xc on ta in in g P(e t−d|Xt−d)
B←O− t−1 d T−1 BTOt
e ls e B←BTOt
t←t +1
i ft>d th en re tu rn NORMALIZE(f × B 1)e ls er et ur nn ul l
"Fi gu re 15.6 An a lg or it hm f or s mo ot hi ng w it h a f ix ed t im e l ag o f d s te ps , i mp le me nt ed"
a s a n o nl in e a lg or it hm t ha t o ut pu ts t he n ew s mo ot he d e st im at e g iv en t he o bs er va ti on f or a
"n ew t im e s te p . No ti ce t ha t t he f in al o ut pu t NORMALIZE(f×B 1) i s j us t αf×b , b y Eq ua-"
t io n(15.14).
"b a nd f to ge th er , u si ng t he m t o c om pu te t he s mo ot he d e st im at e a te ac h s te p . Si nc e o nl y o ne"
"c op y o f e ac h m es sa ge i s n ee de d , t he s to ra ge r eq ui re me nt s a re c on st an t (i .e ., i nd ep en de nt o f"
"t , t he l en gt h o f t he s eq ue nc e). Th er e a re t wo s ig ni fi ca nt r es tr ic ti on s o n t hi s a lg or it hm: i t r e-"
q ui re s t ha tt he tr an si ti on m at ri xb ei nv er ti bl e a nd th at th e s en so rm od el ha ve no ze ro es—t ha t
"i s ,t ha te ve ry ob se rv at io n b ep os si bl e i ne ve ry st at e ."
A s ec on d a re a i n w hi ch t he m at ri x f or mu la ti on r ev ea ls a n i mp ro ve me nt i s i n o nl in e
s mo ot hi ng w it h a f ix ed l ag . Th e f ac t t ha t s mo ot hi ng c an b e d on e i n c on st an t s pa ce s ug ge st s
"t ha t t he re s ho ul d e xi st a n e ff ic ie nt r ec ur si ve a lg or it hm f or o nl in e s mo ot hi ng—t ha t i s , a n a l-"
g or it hm w ho se t im e c om pl ex it y i s i nd ep en de nt o f t he l en gt h o f t he l ag . Le t u s s up po se t ha t
"t he l ag i s d ; t ha t i s , w e a re s mo ot hi ng a t t im e s li ce t−d , w he re t he c ur re nt t im e i s t . By"
"Eq ua ti on(15.8),w en ee dt oc om pu te"
αf 1:t−d×b t−d+1:t
"f or sl ic et−d . Th en ,w he na ne wo bs er va ti on a rr iv es ,w en ee dt oc om pu te"
αf 1:t−d+1×b t−d+2:t+1
"f or sl ic et−d+1. Ho wc an th is be do ne in cr em en ta ll y ? Fi rs t ,w ec an co mp ut ef 1:t−d+1 f ro m"
"f 1:t−d ,u si ng th es ta nd ar d f il te ri ng pr oc es s , Eq ua ti on(15.5)."
Se ct io n 15.3. Hi dd en Ma rk ov Mo de ls 581
"Co mp ut in g t he b ac kw ar d m es sa ge i nc re me nt al ly i st ri ck ie r , b ec au se t he re i sn os im pl e"
r el at io ns hi p b et we en t he o ld b ac kw ar d m es sa ge b t−d+1:t a nd t he n ew b ac kw ar d m es sa ge
"b t−d+2:t+1. In st ea d , w e w il l e xa mi ne t he r el at io ns hi p b et we en t he o ld b ac kw ar d m es sa ge"
"b t−d+1:t a nd th eb ac kw ar d m es sa ge at th ef ro nt of th es eq ue nc e , b t+1:t . To do th is ,w ea pp ly"
Eq ua ti on(15.13)d ti me st og et
(c id:31)
(c id:25)t
"b t−d+1:t = TO i b t+1:t = B t−d+1:t 1, (15.14)"
i=t−d+1
w he re t he m at ri x B t−d+1:t i s t he p ro du ct o f t he s eq ue nc e o f T a nd O m at ri ce s . B c an b e
t ho ug ht o f a s a “t ra ns fo rm at io n o pe ra to r” t ha t t ra ns fo rm s a l at er b ac kw ar d m es sa ge i nt o a n
e ar li er on e . As im il ar eq ua ti on h ol ds f or th en ew ba ck wa rd m es sa ge s a ft er th en ex to bs er va-
t io na rr iv es:
(c id:31)
t(c id:25)+1
b t−d+2:t+1 = TO i b t+2:t+1 = B t−d+2:t+11. (15.15)
i=t−d+2
"Ex am in in gt he pr od uc te xp re ss io ns i n Eq ua ti on s(15.14)a nd (15.15),w es ee th at th ey ha ve a"
"s im pl e r el at io ns hi p: t o g et t he s ec on d p ro du ct , “d iv id e” t he f ir st p ro du ct b y t he f ir st el em en t"
"TO t−d+1, a nd m ul ti pl y b y t he n ew l as t e le me nt TO t+1. In m at ri x l an gu ag e , t he n , t he re i s a"
s im pl er el at io ns hi p b et we en th eo ld an dn ew Bm at ri ce s:
B t−d+2:t+1 = O− t−1 d+1 T−1 B t−d+1:t TO t+1 . (15.16)
"Th is eq ua ti on p ro vi de sa ni nc re me nt al u pd at ef or th e Bm at ri x ,w hi ch in tu rn(t hr ou gh Eq ua-"
t io n (15.15)) a ll ow s u s t o c om pu te t he n ew b ac kw ar d m es sa ge b t−d+2:t+1. Th e c om pl et e
"a lg or it hm , w hi ch re qu ir es st or in g a nd up da ti ng f an d B ,i ss ho wn in Fi gu re 15.6."
15.3.2 Hi dd en Ma rk ov m od el e xa mp le: Lo ca li za ti on
"On pa ge 145,w ei nt ro du ce da si mp le fo rm of th el oc al iz at io np ro bl em fo rt he va cu um wo rl d ."
"In t ha t v er si on , t he r ob ot h ad a s in gl e n on de te rm in is ti c Mo ve a ct io n a nd i ts s en so rs r ep or te d"
"p er fe ct ly w he th er o r n ot o bs ta cl es l ay i mm ed ia te ly t o t he n or th , s ou th , e as t , a nd w es t ; t he"
r ob ot’s be li ef st at ew as th es et of po ss ib le lo ca ti on s i tc ou ld be in .
He re w e m ak e t he p ro bl em s li gh tl y m or e r ea li st ic b y i nc lu di ng a s im pl e p ro ba bi li ty
m od el f or th e r ob ot’s m ot io n a nd by a ll ow in g f or no is e i nt he se ns or s . Th es ta te v ar ia bl e X
t
r ep re se nt s t he l oc at io n o f t he r ob ot o n t he d is cr et e g ri d ; t he d om ai n o f t hi s v ar ia bl e i s t he
"s et o f e mp ty s qu ar es {s 1,...,s n}. Le t NEIGHBORS(s) b e t he s et o f e mp ty s qu ar es t ha t a re"
a dj ac en t t o s an d l et N(s)b e t he s iz e o ft ha t s et . Th en t he t ra ns it io n m od el f or Mo ve a ct io n
s ay st ha tt he ro bo ti se qu al ly l ik el yt oe nd up at an yn ei gh bo ri ng s qu ar e:
P(X t+1=j|X t=i) = T
i j
= (1/N(i)i fj ∈ NEIGHBORS(i)e ls e 0).
"We do n’t k no w w he re t he r ob ot s ta rt s , s o w ew il l a ss um e a un if or m d is tr ib ut io n o ve ra ll t he"
"s qu ar es ; t ha ti s ,P(X =i)=1/n . Fo rt he pa rt ic ul ar en vi ro nm en t w ec on si de r(Fi gu re 15.7),"
0
n=42 a nd th et ra ns it io n m at ri x Th as 42×42=1764 e nt ri es .
"Th es en so rv ar ia bl e E h as 16 p os si bl ev al ue s ,e ac ha fo ur-b it se qu en ce gi vi ng th ep re s-"
t
e nc e o r a bs en ce o f a n o bs ta cl e i n a p ar ti cu la r c om pa ss d ir ec ti on . We w il l u se t he n ot at io n
582 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
(a)Po st er io rd is tr ib ut io n o ve rr ob ot lo ca ti on a ft er E = NSW
1
"(b)Po st er io rd is tr ib ut io n o ve rr ob ot lo ca ti on a ft er E = NSW ,E = NS"
1 2
Fi gu re 15.7 Po st er io rd is tr ib ut io no ve rr ob ot lo ca ti on: (a)o ne o bs er va ti on E =NSW ;
1
(b)a ft er as ec on do bs er va ti on E =NS .Th es iz eo fe ac hd is kc or re sp on ds to th ep ro ba bi li ty
2
t ha tt he ro bo ti sa tt ha tl oc at io n .Th es en so re rr or ra te is (c id:2)=0.2.
"NS ,f or ex am pl e ,t om ea nt ha tt he no rt ha nd so ut hs en so rs re po rt a no bs ta cl ea nd th ee as ta nd"
w es td on ot . Su pp os et ha te ac hs en so r’s er ro rr at ei s (c id:2)a nd th at er ro rs oc cu ri nd ep en de nt ly f or
"t he fo ur se ns or di re ct io ns . In th at ca se ,t he pr ob ab il it y o f g et ti ng al lf ou rb it sr ig ht is(1−(c id:2))4"
"a nd th ep ro ba bi li ty of ge tt in gt he ma ll wr on gi s(c id:2)4. Fu rt he rm or e ,i fd i st he di sc re pa nc y—t he"
i t
n um be ro fb it st ha ta re di ff er en t—b et we en t he tr ue va lu es fo rs qu ar e i an dt he ac tu al re ad in g
"e ,t he nt he pr ob ab il it y t ha ta ro bo ti ns qu ar e i wo ul dr ec ei ve as en so rr ea di ng e i s"
t t
P(E =e |X =i) = O = (1−(c id:2))4−d it(c id:2)d it .
t t t t ii
"Fo re xa mp le ,t he pr ob ab il it yt ha ta sq ua re wi th ob st ac le st ot he no rt ha nd so ut hw ou ld pr od uc e"
a se ns or re ad in g NSE i s(1−(c id:2))3(c id:2)1.
"Gi ve n t he m at ri ce s T a nd O , t he r ob ot c an u se Eq ua ti on (15.12) t o c om pu te t he p os-"
t
"t er io r d is tr ib ut io n o ve r l oc at io ns—t ha t i s , t o w or k o ut w he re i t i s . Fi gu re 15.7 s ho ws t he"
"d is tr ib ut io ns P(X |E =NSW)a nd P(X |E =NSW ,E =NS). Th is is th es am em az e"
1 1 2 1 2
"w es aw be fo re i n Fi gu re 4.18(p ag e 146), b ut t he re w eu se d l og ic al f il te ri ng t of in dt he l oc a-"
"t io ns t ha t w er e p os si bl e , a ss um in g p er fe ct s en si ng . Th os e s am e l oc at io ns a re s ti ll t he m os t"
"l ik el yw it hn oi sy se ns in g , b ut no we ve ry lo ca ti on h as so me no nz er o p ro ba bi li ty ."
"In a dd it io n t o f il te ri ng t o e st im at e i ts c ur re nt l oc at io n , t he r ob ot c an u se s mo ot hi ng"
"(Eq ua ti on (15.13)) t o w or k o ut w he re i t w as a t a ny g iv en p as t t im e—f or e xa mp le , w he re i t"
b eg an a tt im e 0—a nd i t c an u se t he Vi te rb i a lg or it hm t ow or k o ut t he m os tl ik el y p at h i t h as
Se ct io n 15.3. Hi dd en Ma rk ov Mo de ls 583
6
5.5
5
4.5
4
3.5
3
2.5
2
1.5
1
0.5
0 5 10 15 20 25 30 35 40
r or re
n oi ta zi la co L
1
ε = 0.20 0.9
ε = 0.10
ε = 0.05 0.8
ε = 0.02 0.7
ε = 0.00
0.6
0.5
0.4
0.3
0.2
0.1
0 5 10 15 20 25 30 35 40
Nu mb er o f o bs er va ti on s
y ca ru cc a
h ta P
ε = 0.00
ε = 0.02
ε = 0.05
ε = 0.10
ε = 0.20
Nu mb er o f o bs er va ti on s
(a) (b)
Fi gu re 15.8 Pe rf or ma nc eo f HMMl oc al iz at io na sa fu nc ti on of th el en gt ho ft he ob se rv a-
t io ns eq ue nc ef or va ri ou sd if fe re nt va lu es of th es en so re rr or pr ob ab il it y(c id:2);d at aa ve ra ge do ve r
"400 r un s .(a)Th el oc al iz at io ne rr or ,d ef in ed as th e Ma nh at ta nd is ta nc ef ro mt he tr ue lo ca ti on ."
"(b)Th e Vi te rb ip at ha cc ur ac y ,d ef in ed as th ef ra ct io no fc or re ct st at es on th e Vi te rb ip at h ."
t ak en to ge tw he re it is no w . Fi gu re 15.8 s ho ws th el oc al iz at io ne rr or an d Vi te rb ip at ha cc ur ac y
f or va ri ou s v al ue s o f t he p er-b it s en so r e rr or ra te (c id:2). Ev en wh en(c id:2) i s 20%—w hi ch m ea ns t ha t
t he ov er al ls en so rr ea di ng is wr on g 59%o ft he ti me—t he ro bo t i su su al ly ab le to wo rk ou ti ts
l oc at io n w it hi n t wo s qu ar es a ft er 25 o bs er va ti on s . Th is i s b ec au se o f t he a lg or it hm’s a bi li ty
t oi nt eg ra te e vi de nc eo ve rt im ea nd to ta ke in to ac co un t t he pr ob ab il is ti c c on st ra in ts i mp os ed
"o n t he l oc at io n s eq ue nc e b y t he t ra ns it io n m od el . Wh en (c id:2) i s 10%, t he p er fo rm an ce a ft er"
a h al f-d oz en o bs er va ti on s i s h ar d t o d is ti ng ui sh f ro m t he p er fo rm an ce w it h p er fe ct s en si ng .
Ex er ci se 15.7 a sk sy ou to ex pl or e h ow ro bu st t he HMMl oc al iz at io n a lg or it hm i st oe rr or si n
"t he pr io rd is tr ib ut io n P(X )a nd in th et ra ns it io n m od el it se lf . Br oa dl y s pe ak in g , h ig hl ev el s"
0
o f l oc al iz at io n a nd p at h a cc ur ac y a re m ai nt ai ne d e ve n i n t he f ac e o f s ub st an ti al e rr or s i n t he
m od el su se d .
Th e s ta te v ar ia bl e f or t he e xa mp le w e h av e c on si de re d i n t hi s s ec ti on i s a p hy si ca l
"l oc at io n i n t he w or ld . Ot he r p ro bl em s c an , o f c ou rs e , i nc lu de o th er a sp ec ts o f t he w or ld ."
Ex er ci se 15.8 a sk sy ou to co ns id er av er si on of th ev ac uu mr ob ot th at ha st he po li cy of go in g
s tr ai gh t f or a s l on g a s i t c an ; o nl y w he n i t e nc ou nt er s a n o bs ta cl e d oe s i t c ha ng e t o a n ew
"(r an do ml y s el ec te d) h ea di ng . To m od el t hi s r ob ot , e ac h s ta te i n t he m od el c on si st s o f a"
"(l oc at io n , h ea di ng) p ai r . Fo r t he e nv ir on me nt i n Fi gu re 15.7, w hi ch h as 42 e mp ty s qu ar es ,"
"t hi sl ea ds to 168 s ta te sa nd at ra ns it io nm at ri xw it h 1682=28,224 e nt ri es—s ti ll am an ag ea bl e"
"n um be r . If we ad dt he po ss ib il it y o fd ir ti nt he sq ua re s , t he nu mb er of st at es i sm ul ti pl ie d b y"
242 a nd t he t ra ns it io n m at ri x e nd s u p w it h m or e t ha n 1029 e nt ri es—n o l on ge r a m an ag ea bl e
n um be r ; Se ct io n 15.5 s ho ws ho wt ou se dy na mi c Ba ye si an n et wo rk s t om od el do ma in s w it h
m an y s ta te v ar ia bl es . If w e a ll ow t he r ob ot t o m ov e c on ti nu ou sl y r at he r t ha n i n a d is cr et e
"g ri d ,t he nu mb er of st at es be co me si nf in it e ;t he ne xt se ct io n s ho ws ho wt oh an dl et hi sc as e ."
584 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
15.4 KALMAN FILTERS
Im ag in e w at ch in g a s ma ll b ir d f ly in g t hr ou gh d en se j un gl e f ol ia ge a t d us k: y ou g li mp se
"b ri ef ,i nt er mi tt en t f la sh es of mo ti on ;y ou tr yh ar dt og ue ss wh er et he bi rd is an dw he re it wi ll"
a pp ea r n ex t s o t ha t y ou d on’t l os e i t . Or im ag in e t ha t y ou a re a Wo rl d Wa r II r ad ar o pe ra to r
"p ee ri ng at af ai nt ,w an de ri ng bl ip th at ap pe ar so nc ee ve ry 10 s ec on ds on th es cr ee n . Or ,g oi ng"
"b ac k f ur th er s ti ll , i ma gi ne y ou a re Ke pl er t ry in g t o r ec on st ru ct t he m ot io ns o f t he p la ne ts"
f ro ma co ll ec ti on of hi gh ly in ac cu ra te an gu la ro bs er va ti on st ak en at ir re gu la ra nd im pr ec is el y
"m ea su re di nt er va ls . In al lt he se ca se s ,y ou ar ed oi ng fi lt er in g: e st im at in gs ta te va ri ab le s(h er e ,"
"p os it io n a nd v el oc it y) f ro m n oi sy o bs er va ti on s o ve r t im e . If t he v ar ia bl es w er e d is cr et e , w e"
c ou ld m od el t he s ys te m w it h a h id de n Ma rk ov m od el . Th is s ec ti on e xa mi ne s m et ho ds f or
"h an dl in g c on ti nu ou s v ar ia bl es , u si ng a n a lg or it hm c al le d Ka lm an f il te ri ng , a ft er o ne o f i ts"
KALMANFILTERING
"i nv en to rs , Ru do lf E .Ka lm an ."
Th eb ir d’s fl ig ht mi gh tb es pe ci fi ed by si xc on ti nu ou sv ar ia bl es at ea ch ti me po in t ;t hr ee
"f or po si ti on(X ,Y ,Z )a nd th re ef or ve lo ci ty(X˙ ,Y˙ ,Z˙ ). We wi ll ne ed su it ab le co nd it io na l"
t t t t t t
"d en si ti es t o r ep re se nt t he t ra ns it io n a nd s en so r m od el s ; a s i n Ch ap te r 14, w e w il l u se l in ea r"
Ga us si an d is tr ib ut io ns . Th is me an s t ha t t he n ex t s ta te X m us tb e a li ne ar f un ct io n o f t he
t+1
"c ur re nt st at e X ,p lu ss om e Ga us si an no is e ,a co nd it io nt ha tt ur ns ou tt ob eq ui te re as on ab le in"
t
"p ra ct ic e . Co ns id er , f or ex am pl e ,t he X-c oo rd in at e o ft he bi rd ,i gn or in g t he ot he rc oo rd in at es"
"f or n ow . Le t t he t im e i nt er va l b et we en o bs er va ti on s b e Δ, a nd a ss um e c on st an t v el oc it y"
d ur in gt he in te rv al ;t he nt he po si ti on up da te is gi ve nb y X = X +X˙ Δ. Ad di ng Ga us si an
t+Δ t
"n oi se(t oa cc ou nt f or wi nd va ri at io n , e tc .),w eo bt ai na li ne ar Ga us si an tr an si ti on m od el:"
"P(X =x |X =x ,X˙ =x˙ )= N(x +x˙ Δ,σ2)(x )."
t+Δ t+Δ t t t t t t t+Δ
Th e Ba ye si an ne tw or ks tr uc tu re fo ra sy st em wi th po si ti on ve ct or X a nd ve lo ci ty X˙ i ss ho wn
t t
i n Fi gu re 15.9. No te t ha t t hi s i s a v er y s pe ci fi c f or m o f l in ea r Ga us si an m od el ; t he g en er al
f or mw il lb ed es cr ib ed l at er in th is se ct io na nd co ve rs av as t a rr ay of ap pl ic at io ns b ey on dt he
s im pl em ot io ne xa mp le so ft he fi rs tp ar ag ra ph . Th er ea de rm ig ht wi sh to co ns ul t Ap pe nd ix A
f or s om e o f t he m at he ma ti ca l p ro pe rt ie s o f Ga us si an d is tr ib ut io ns ; f or o ur i mm ed ia te p ur-
"MULTIVARIATE p os es , t he m os t i mp or ta nt i s t ha t a m ul ti va ri at e Ga us si an d is tr ib ut io n f or d v ar ia bl es i s"
GAUSSIAN
s pe ci fi ed by ad-e le me nt me anμa nd ad×d co va ri an ce m at ri x Σ.
15.4.1 Up da ti ng Ga us si an di st ri bu ti on s
"In Ch ap te r 14 o np ag e 521,w ea ll ud ed to ak ey pr op er ty of th el in ea r Ga us si an fa mi ly of di s-"
"t ri bu ti on s: i tr em ai ns cl os ed un de rt he st an da rd Ba ye si an ne tw or ko pe ra ti on s . He re ,w em ak e"
t hi s c la im p re ci se i n t he c on te xt o f f il te ri ng i n a t em po ra l p ro ba bi li ty m od el . Th e r eq ui re d
p ro pe rt ie s c or re sp on d t ot he tw o-s te pf il te ri ng ca lc ul at io n i n Eq ua ti on(15.5):
1. If th ec ur re nt d is tr ib ut io n P(X |e )i s Ga us si an a nd th et ra ns it io n m od el P(X |x )
t 1:t t+1 t
"i sl in ea r Ga us si an ,t he nt he on e-s te p p re di ct ed d is tr ib ut io n g iv en by"
(c id:26)
P(X |e )= P(X |x )P(x |e )d x (15.17)
t+1 1:t t+1 t t 1:t t
x t
i sa ls oa Ga us si an di st ri bu ti on .
Se ct io n 15.4. Ka lm an Fi lt er s 585
X t X t+1
X t X t+1
Z t Z t+1
"Fi gu re 15.9 Ba ye si an ne tw or ks tr uc tu re fo ra li ne ar dy na mi ca ls ys te mw it hp os it io n Xt ,"
"v el oc it y X˙ t ,a nd po si ti on me as ur em en t Zt ."
2. If th ep re di ct io n P(X |e )i s Ga us si an an dt he se ns or mo de l P(e |X )i sl in ea r
t+1 1:t t+1 t+1
"Ga us si an ,t he n ,a ft er co nd it io ni ng o nt he ne we vi de nc e , t he up da te d d is tr ib ut io n"
P(X |e )= αP(e |X )P(X |e ) (15.18)
t+1 1:t+1 t+1 t+1 t+1 1:t
i sa ls oa Ga us si an di st ri bu ti on .
"Th us , t he FORWARD o pe ra to r f or Ka lm an f il te ri ng t ak es a Ga us si an f or wa rd m es sa ge f 1:t ,"
"s pe ci fi ed by am ea nμ a nd co va ri an ce m at ri x Σ ,a nd pr od uc es an ew mu lt iv ar ia te Ga us si an"
t t
"f or wa rd m es sa ge f , s pe ci fi ed b y a m ea n μ a nd c ov ar ia nc e m at ri x Σ . So , i f w e"
1:t+1 t+1 t+1
"s ta rt wi th a Ga us si an pr io r f =P(X )=N(μ ,Σ ),f il te ri ng wi th al in ea r Ga us si an mo de l"
1:0 0 0 0
p ro du ce s a Ga us si an st at ed is tr ib ut io n f or al lt im e .
"Th is s ee ms t o b e a n ic e , e le ga nt r es ul t , b ut w hy i s i t s o i mp or ta nt ? Th e r ea so n i s t ha t ,"
"e xc ep t f or a f ew s pe ci al c as es s uc h a s t hi s , f il te ri ng w it h c on ti nu ou s o r h yb ri d (d is cr et e a nd"
c on ti nu ou s)n et wo rk sg en er at es st at ed is tr ib ut io ns wh os er ep re se nt at io ng ro ws wi th ou tb ou nd
"o ve r t im e . Th is s ta te me nt i s n ot e as y t o p ro ve i n g en er al , b ut Ex er ci se 15.10 s ho ws w ha t"
h ap pe ns f or as im pl ee xa mp le .
15.4.2 A s im pl eo ne-d im en si on al e xa mp le
We h av e s ai d t ha t t he FORWARD o pe ra to r f or t he Ka lm an f il te rm ap s a Ga us si an i nt o a n ew
Ga us si an . Th is tr an sl at es i nt o c om pu ti ng a ne w m ea na nd c ov ar ia nc e m at ri xf ro m t he pr ev i-
o us m ea n a nd c ov ar ia nc e m at ri x . De ri vi ng t he u pd at e r ul e i n t he g en er al (m ul ti va ri at e) c as e
"r eq ui re sr at he ra lo to fl in ea ra lg eb ra ,s ow ew il ls ti ck to av er ys im pl eu ni va ri at ec as ef or no w ;"
"a nd l at er g iv e t he r es ul ts f or t he g en er al c as e . Ev en f or t he u ni va ri at e c as e , t he c al cu la ti on s"
"a re s om ew ha t t ed io us , b ut w e f ee l t ha t t he y a re w or th s ee in g b ec au se t he u se fu ln es s o f t he"
Ka lm an fi lt er is ti ed so in ti ma te ly to th em at he ma ti ca lp ro pe rt ie s o f Ga us si an di st ri bu ti on s .
Th et em po ra lm od el we co ns id er de sc ri be sa ra nd om wa lk of as in gl ec on ti nu ou ss ta te
v ar ia bl e X w it ha no is yo bs er va ti on Z . An ex am pl em ig ht be th e“c on su me rc on fi de nc e”i n-
t t
"d ex ,w hi ch ca nb em od el ed as un de rg oi ng a ra nd om Ga us si an-d is tr ib ut ed c ha ng ee ac hm on th"
a nd is me as ur ed by ar an do mc on su me rs ur ve yt ha ta ls oi nt ro du ce s Ga us si an sa mp li ng no is e .
586 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
Th ep ri or di st ri bu ti on i sa ss um ed to be Ga us si an wi th va ri an ce σ2:
0
„ «
−1
(x 0−μ0)2
P(x 0) = αe 2 σ02 .
"(Fo rs im pl ic it y , w eu se th es am es ym bo lαf or al ln or ma li zi ng c on st an ts i nt hi ss ec ti on .) Th e"
t ra ns it io n m od el ad ds a Ga us si an pe rt ur ba ti on o fc on st an t v ar ia nc e σ2 t ot he cu rr en ts ta te:
x
„ «
−1
(x t+1−x t)2
P(x |x )= αe 2 σx 2 .
t+1 t
Th es en so rm od el as su me s Ga us si an no is ew it hv ar ia nc e σ2:
z
„ «
−1
(z t−x t)2
P(z |x )= αe 2 σz 2 .
t t
"No w ,g iv en th ep ri or P(X ),t he on e-s te pp re di ct ed di st ri bu ti on co me sf ro m Eq ua ti on(15.17):"
0
(c id:26) (c id:26) „ « „ «
∞ ∞ −1 (x 1−x 0)2 −1 (x 0−μ0)2
P(x 1) = P(x 1|x 0)P(x 0)d x
0
= α e 2 σx 2 e 2 σ02 d x
0
−∞ −∞
(c id:26) „ «
∞ −1 σ02(x 1−x 0)2+σx 2(x 0−μ0)2
= α e 2 σ02σx 2 d x
0
.
−∞
Th is in te gr al lo ok sr at he rc om pl ic at ed . Th ek ey to pr og re ss i st on ot ic et ha tt he ex po ne nt is th e
s um of tw oe xp re ss io ns th at ar eq ua dr at ic in x a nd he nc ei si ts el fa qu ad ra ti ci nx . As im pl e
0 0
COMPLETINGTHE t ri ck k no wn a s c om pl et in g t he s qu ar e a ll ow s t he r ew ri ti ng o f a ny q ua dr at ic a x 2 +b x +c
SQUARE 0 0
a s t he s um o f a sq ua re d t er m a(x − −b)2 a nd a r es id ua l t er m c− b 2 t ha t i s i nd ep en de nt o f
0 2 a 4 a
"x . Th er es id ua l t er mc an be ta ke no ut si de t he in te gr al ,g iv in g u s"
0
“ ”(c id:26)
P(x 1) =
αe− 21 c− 4 b 2
a
∞ e−1 2(a(x 0−− 2 a b)2)
d x
0
.
−∞
"No wt he in te gr al is ju st th ei nt eg ra lo fa Ga us si an ov er it sf ul lr an ge ,w hi ch is si mp ly 1. Th us ,"
"w ea re l ef t w it h o nl y t he r es id ua l t er m f ro m t he q ua dr at ic . Th en , w en ot ic e t ha t t he r es id ua l"
"t er mi sa qu ad ra ti c i nx ;i nf ac t ,a ft er si mp li fi ca ti on , w eo bt ai n"
1
„ «
−1
(x 1−μ0)2
P(x 1) = αe 2 σ02+σx 2 .
"Th at is ,t he on e-s te pp re di ct ed di st ri bu ti on is a Ga us si an wi th th es am em ea nμ a nd av ar ia nc e"
0
e qu al to th es um of th eo ri gi na l v ar ia nc e σ2 a nd th et ra ns it io n v ar ia nc e σ2.
0 x
"To c om pl et e t he u pd at e s te p , w e n ee d t o c on di ti on o n t he o bs er va ti on a t t he f ir st t im e"
"s te p ,n am el y ,z . Fr om Eq ua ti on(15.18), t hi si sg iv en by"
1
P(x |z ) = αP(z |x )P(x )
1 1 1 1 1
„ « „ «
−1
(z 1−x 1)2
−1
(x 1−μ0)2
= αe 2 σz 2 e 2 σ02+σx 2 .
"On ce ag ai n ,w ec om bi ne th ee xp on en ts a nd co mp le te th es qu ar e (Ex er ci se 15.11), o bt ai ni ng"
0 1
−1 B
B(x 1−(σ02 σ+ 02σ +x 2 σ)z x 21 ++ σσ z 2 z 2μ0)2
C
C
2@ (σ02+σx 2)σz 2/(σ02+σx 2+σz 2)A
P(x |z ) = αe . (15.19)
1 1
Se ct io n 15.4. Ka lm an Fi lt er s 587
0.45
0.4
0.35
0.3
0.25
0.2
0.15
0.1
0.05
0
-10 -5 0 5 10
)x(P
P(x | z = 2.5)
1 1
P(x) 0
P(x)
1
z*
1
x p os it io n
Fi gu re 15.10 St ag es i n t he Ka lm an f il te r u pd at e c yc le f or a r an do m w al k w it h a p ri or
"g iv en b y μ 0=0.0 a nd σ 0=1.0, t ra ns it io n n oi se g iv en b y σx=2.0, s en so r n oi se g iv en b y"
"σz=1.0,a nd af ir st ob se rv at io nz 1=2.5(m ar ke do nt he x-a xi s). No ti ce ho wt he pr ed ic ti on"
"P(x )i sf la tt en ed ou t ,r el at iv et o P(x ), b yt he tr an si ti on no is e . No ti ce al so t ha tt he me an"
1 0
o ft he po st er io rd is tr ib ut io n P(x |z )i ss li gh tl yt ot he le ft of th eo bs er va ti on z b ec au se th e
1 1 1
m ea ni sa we ig ht ed av er ag eo ft he pr ed ic ti on an dt he ob se rv at io n .
"Th us ,a ft er on eu pd at ec yc le ,w eh av ea ne w Ga us si an di st ri bu ti on f or th es ta te va ri ab le ."
"Fr om th e Ga us si an fo rm ul ai n Eq ua ti on(15.19),w es ee th at th en ew me an an ds ta nd ar d"
d ev ia ti on c an be ca lc ul at ed f ro mt he ol dm ea na nd st an da rd d ev ia ti on a sf ol lo ws:
(σ2+σ2)z +σ2μ (σ2+σ2)σ2
μ = t x t+1 z t a nd σ2 = t x z . (15.20)
t+1 σ2+σ2 +σ2 t+1 σ2+σ2 +σ2
t x z t x z
Fi gu re 15.10 s ho ws on eu pd at ec yc le fo rp ar ti cu la rv al ue so ft he tr an si ti on an ds en so rm od el s .
Eq ua ti on (15.20) p la ys e xa ct ly t he s am er ol e a st he g en er al f il te ri ng e qu at io n (15.5) o r
"t he HMMf il te ri ng eq ua ti on (15.12). Be ca us eo ft he sp ec ia l n at ur eo f Ga us si an di st ri bu ti on s ,"
"h ow ev er , t he e qu at io ns h av e s om e i nt er es ti ng a dd it io na l p ro pe rt ie s . Fi rs t , w e c an i nt er pr et"
t he c al cu la ti on f or t he n ew m ea n μ a s s im pl y a w ei gh te d m ea n o f t he n ew o bs er va ti on
t+1
"z a nd t he ol d m ea n μ . If th e o bs er va ti on i s u nr el ia bl e , t he n σ2 i sl ar ge a nd w ep ay m or e"
t+1 t z
a tt en ti on t o t he o ld m ea n ; i f t he o ld m ea n i s u nr el ia bl e (σ2 i s l ar ge) o r t he p ro ce ss i s h ig hl y
t
"u np re di ct ab le (σ2 i s l ar ge), t he n w e p ay m or e a tt en ti on t o t he o bs er va ti on . Se co nd , n ot ic e"
x
t ha t t he u pd at e f or t he v ar ia nc e σ2 i s i nd ep en de nt o f t he o bs er va ti on . We c an t he re fo re
t+1
"c om pu te i n a dv an ce w ha t t he s eq ue nc e o f v ar ia nc e v al ue s w il l b e . Th ir d , t he s eq ue nc e o f"
"v ar ia nc e v al ue s c on ve rg es q ui ck ly t o a f ix ed v al ue t ha t d ep en ds o nl y o n σ2 a nd σ2, t he re by"
x z
s ub st an ti al ly s im pl if yi ng t he su bs eq ue nt c al cu la ti on s . (Se e Ex er ci se 15.12.)
15.4.3 Th e g en er al c as e
Th e p re ce di ng d er iv at io n i ll us tr at es t he k ey p ro pe rt y o f Ga us si an d is tr ib ut io ns t ha t a ll ow s
Ka lm an fi lt er in g t ow or k: t he fa ct t ha t t he e xp on en t i sa qu ad ra ti c f or m . Th is is tr ue n ot j us t
f or th eu ni va ri at ec as e ;t he fu ll mu lt iv ar ia te Ga us si an di st ri bu ti on h as th ef or m
“ ”
"N(μ,Σ)(x) = αe− 21 (x−μ )(c id:4)Σ−1 (x−μ ) ."
588 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
Mu lt ip ly in g o ut th et er ms in th ee xp on en t m ak es it cl ea rt ha t t he ex po ne nt i sa ls oa qu ad ra ti c
"f un ct io n o f t he v al ue s x i n x . As i n t he u ni va ri at e c as e , t he f il te ri ng u pd at e p re se rv es t he"
i
Ga us si an na tu re of th es ta te di st ri bu ti on .
Le tu sf ir st de fi ne th eg en er al te mp or al mo de lu se dw it h Ka lm an fi lt er in g . Bo th th et ra n-
s it io n m od el a nd t he s en so r m od el a ll ow f or a l in ea r t ra ns fo rm at io n w it h a dd it iv e Ga us si an
"n oi se . Th us ,w eh av e"
"P(x |x ) = N(Fx ,Σ )(x )"
t+1 t t x t+1
(15.21)
"P(z |x ) = N(Hx ,Σ )(z ),"
t t t z t
w he re F a nd Σ a re m at ri ce s d es cr ib in g t he l in ea r t ra ns it io n m od el a nd t ra ns it io n n oi se c o-
x
"v ar ia nc e ,a nd Ha ndΣ a re th ec or re sp on di ng m at ri ce sf or th es en so rm od el . No wt he u pd at e"
z
"e qu at io ns f or th em ea na nd co va ri an ce , i nt he ir fu ll ,h ai ry ho rr ib le ne ss , a re"
μ = Fμ +K (z −HFμ )
t+1 t t+1 t+1 t (15.22)
"Σ = (I−K H)(FΣ F(c id:12) +Σ ),"
t+1 t+1 t x
w he re K =(FΣ F(c id:12) +Σ )H(c id:12) (H(FΣ F(c id:12) +Σ )H(c id:12) +Σ )−1 i sc al le dt he Ka lm an ga in
t+1 t x t x z
"KALMANGAIN m at ri x . Be li ev ei to rn ot , t he se e qu at io ns m ak e s om ei nt ui ti ve s en se . Fo re xa mp le , c on si de r"
MATRIX
"t he u pd at e f or t he m ea n s ta te e st im at e μ. Th e t er m Fμ i s t he p re di ct ed s ta te a t t + 1, s o"
t
"HFμ i s t he p re di ct ed o bs er va ti on . Th er ef or e , t he t er m z −HFμ r ep re se nt s t he e rr or in"
t t+1 t
"t he p re di ct ed o bs er va ti on . Th is i s m ul ti pl ie d b y K t o c or re ct t he p re di ct ed s ta te ; h en ce ,"
t+1
K i sa me as ur eo fh ow se ri ou sl y t ot ak et he ne wo bs er va ti on r el at iv et ot he pr ed ic ti on . As
t+1
"i n Eq ua ti on (15.20), w ea ls oh av et he pr op er ty t ha tt he va ri an ce u pd at e i si nd ep en de nt o ft he"
"o bs er va ti on s . Th e s eq ue nc e o f v al ue s f or Σ a nd K c an t he re fo re b e c om pu te d o ff li ne , a nd"
t t
t he ac tu al ca lc ul at io ns r eq ui re dd ur in go nl in et ra ck in g a re qu it em od es t .
"To il lu st ra te t he se e qu at io ns a t w or k , w e h av e a pp li ed t he m t o t he p ro bl em o f t ra ck in g"
"a no bj ec t m ov in g o n t he X–Y p la ne . Th es ta te v ar ia bl es a re X = (X ,Y ,X˙,Y˙)(c id:12) , s o F , Σ ,"
x
"H , a nd Σ a re 4×4 m at ri ce s . Fi gu re 15.11(a) s ho ws t he t ru e t ra je ct or y , a s er ie s o f n oi sy"
z
"o bs er va ti on s , a nd t he t ra je ct or y e st im at ed b y Ka lm an f il te ri ng , a lo ng w it h t he c ov ar ia nc es"
i nd ic at ed b y t he o ne-s ta nd ar d-d ev ia ti on c on to ur s . Th e f il te ri ng p ro ce ss d oe s a g oo d j ob o f
"t ra ck in g t he ac tu al mo ti on ,a nd ,a se xp ec te d , t he va ri an ce qu ic kl yr ea ch es a fi xe dp oi nt ."
We c an a ls o d er iv e e qu at io ns f or s mo ot hi ng a s w el l a s f il te ri ng w it h l in ea r Ga us si an
m od el s . Th es mo ot hi ng r es ul ts ar es ho wn in Fi gu re 15.11(b). No ti ce ho wt he va ri an ce i nt he
"p os it io n e st im at e i ss ha rp ly r ed uc ed , e xc ep t a tt he en ds o ft he tr aj ec to ry (w hy ?),a nd t ha tt he"
e st im at ed tr aj ec to ry i sm uc hs mo ot he r .
15.4.4 Ap pl ic ab il it yo f Ka lm an fi lt er in g
Th e Ka lm an fi lt er an di ts el ab or at io ns ar eu se di na va st ar ra yo fa pp li ca ti on s . Th e“c la ss ic al”
a pp li ca ti on i si nr ad ar tr ac ki ng o fa ir cr af ta nd mi ss il es . Re la te da pp li ca ti on s i nc lu de ac ou st ic
t ra ck in g o f s ub ma ri ne s a nd g ro un d v eh ic le s a nd v is ua l t ra ck in g o f v eh ic le s a nd p eo pl e . In a
"s li gh tl y m or e e so te ri c v ei n , Ka lm an f il te rs a re u se d t o r ec on st ru ct p ar ti cl e t ra je ct or ie s f ro m"
b ub bl e-c ha mb er p ho to gr ap hs a nd o ce an c ur re nt s f ro m s at el li te s ur fa ce m ea su re me nt s . Th e
r an ge of ap pl ic at io ni sm uc hl ar ge rt ha nj us tt he tr ac ki ng of mo ti on: a ny sy st em ch ar ac te ri ze d
b y c on ti nu ou s s ta te v ar ia bl es a nd n oi sy m ea su re me nt s w il l d o . Su ch s ys te ms i nc lu de p ul p
"m il ls ,c he mi ca lp la nt s , n uc le ar re ac to rs , p la nt ec os ys te ms , a nd na ti on al e co no mi es ."
Se ct io n 15.4. Ka lm an Fi lt er s 589
2 D f il te ri ng 2 D s mo ot hi ng
12 12
t ru e t ru e
o bs er ve d o bs er ve d
s mo ot he d s mo ot he d
11 11
10 10
Y 9 Y 9
8 8
7 7
6 6
8 10 12 14 16 X 18 20 22 24 26 8 10 12 14 16 X 18 20 22 24 26
(a) (b)
"Fi gu re 15.11 (a) Re su lt s o f Ka lm an f il te ri ng f or a n o bj ec t m ov in g o n t he X–Y p la ne ,"
"s ho wi ng t he t ru e t ra je ct or y (l ef t t o r ig ht), a s er ie s o f n oi sy o bs er va ti on s , a nd t he t ra je ct or y"
e st im at ed by Ka lm an fi lt er in g .Va ri an ce in th ep os it io ne st im at ei si nd ic at ed by th eo va ls .(b)
Th er es ul ts of Ka lm an sm oo th in gf or th es am eo bs er va ti on se qu en ce .
Th e f ac t t ha t Ka lm an f il te ri ng c an b e a pp li ed t o a s ys te m d oe s n ot m ea n t ha t t he r e-
s ul ts wi ll be va li do ru se fu l . Th ea ss um pt io ns m ad e—a li ne ar Ga us si an tr an si ti on a nd se ns or
EXTENDEDKALMAN m od el s—a re ve ry st ro ng . Th e e xt en de d Ka lm an fi lt er(EKF)a tt em pt st oo ve rc om en on li n-
FILTER(EKF)
e ar it ie s i n t he s ys te m b ei ng m od el ed . A s ys te m i s n on li ne ar i f t he t ra ns it io n m od el c an no t
NONLINEAR
"b e d es cr ib ed a s a m at ri x m ul ti pl ic at io n o f t he s ta te v ec to r , a s i n Eq ua ti on (15.21). Th e EKF"
"w or ks by mo de li ng th es ys te ma sl oc al ly li ne ar in x i nt he re gi on of x =μ ,t he me an of th e"
t t t
"c ur re nt s ta te d is tr ib ut io n . Th is w or ks w el l f or sm oo th , w el l-b eh av ed s ys te ms a nd a ll ow s t he"
t ra ck er to ma in ta in an du pd at ea Ga us si an st at ed is tr ib ut io nt ha ti sa re as on ab le ap pr ox im at io n
t ot he tr ue po st er io r . Ad et ai le de xa mp le is gi ve ni n Ch ap te r 25.
"Wh at d oe s i t m ea n f or a s ys te m t o b e “u ns mo ot h” o r “p oo rl y b eh av ed”? Te ch ni ca ll y ,"
i t m ea ns t ha t t he re i s s ig ni fi ca nt n on li ne ar it y i n s ys te m r es po ns e w it hi n t he r eg io n t ha t i s
“c lo se” (a cc or di ng t o t he c ov ar ia nc e Σ ) t o t he c ur re nt m ea n μ . To u nd er st an d t hi s i de a
t t
"i n n on te ch ni ca l t er ms , c on si de r t he e xa mp le o f t ry in g t o t ra ck a b ir d a s i t f li es t hr ou gh t he"
j un gl e . Th e b ir d a pp ea rs t o b e h ea di ng a t h ig h s pe ed s tr ai gh t f or a t re e t ru nk . Th e Ka lm an
"f il te r ,w he th er re gu la ro re xt en de d ,c an ma ke on ly a Ga us si an p re di ct io no ft he lo ca ti on of th e"
"b ir d ,a nd th em ea no ft hi s Ga us si an wi ll be ce nt er ed on th et ru nk ,a ss ho wn in Fi gu re 15.12(a)."
"Ar ea so na bl em od el of th eb ir d ,o nt he ot he rh an d ,w ou ld pr ed ic te va si ve ac ti on to on es id eo r"
"t he o th er , a ss ho wn i n Fi gu re 15.12(b). Su ch a m od el i s h ig hl y n on li ne ar , b ec au se t he b ir d’s"
d ec is io n v ar ie ss ha rp ly d ep en di ng o ni ts pr ec is e l oc at io nr el at iv et ot he tr un k .
"To h an dl e e xa mp le s l ik e t he se , w e c le ar ly n ee d a m or e e xp re ss iv e l an gu ag e f or r ep re-"
"s en ti ng t he be ha vi or of th es ys te m b ei ng m od el ed . Wi th in th e c on tr ol t he or yc om mu ni ty , f or"
"w hi ch p ro bl em s s uc h a se va si ve m an eu ve ri ng b y a ir cr af t r ai se t he s am e k in ds o f d if fi cu lt ie s ,"
"SWITCHINGKALMAN t he s ta nd ar d s ol ut io n i st he s wi tc hi ng Ka lm an fi lt er . In th is a pp ro ac h , m ul ti pl e Ka lm an f il-"
FILTER
590 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
(a) (b)
Fi gu re 15.12 Ab ir df ly in gt ow ar da tr ee(t op vi ew s). (a)AKa lm an fi lt er wi ll pr ed ic tt he
l oc at io n o f t he b ir d u si ng a s in gl e Ga us si an c en te re d o n t he o bs ta cl e . (b) A m or e r ea li st ic
"m od el al lo ws fo rt he bi rd’s ev as iv ea ct io n ,p re di ct in gt ha ti tw il lf ly to on es id eo rt he ot he r ."
"t er sr un in pa ra ll el , e ac hu si ng ad if fe re nt mo de lo ft he sy st em—f or ex am pl e ,o ne fo rs tr ai gh t"
"f li gh t , o ne f or sh ar p l ef t t ur ns , a nd o ne f or s ha rp r ig ht t ur ns . A w ei gh te d s um o f p re di ct io ns"
"i s u se d , w he re t he w ei gh t d ep en ds o n h ow w el l e ac h f il te r f it s t he c ur re nt d at a . We w il l s ee"
i n t he n ex t s ec ti on t ha t t hi s i s s im pl y a s pe ci al c as e o f t he g en er al d yn am ic Ba ye si an n et-
"w or k m od el , o bt ai ne d b y a dd in g a d is cr et e “m an eu ve r” s ta te v ar ia bl e t o t he n et wo rk s ho wn"
i n Fi gu re 15.9. Sw it ch in g Ka lm an fi lt er sa re di sc us se d f ur th er in Ex er ci se 15.10.
15.5 DYNAMIC BAYESIAN NETWORKS
"DYNAMICBAYESIAN A d yn am ic Ba ye si an n et wo rk , o r DBN , i s a Ba ye si an n et wo rk t ha t r ep re se nt s a t em po ra l"
NETWORK
p ro ba bi li ty m od el o f t he k in d d es cr ib ed i n Se ct io n 15.1. We h av e a lr ea dy s ee n e xa mp le s o f
DBNs: t he um br el la ne tw or ki n Fi gu re 15.2 a nd th e Ka lm an fi lt er ne tw or ki n Fi gu re 15.9. In
"g en er al ,e ac hs li ce of a DBNc an ha ve an yn um be ro fs ta te va ri ab le s X a nd ev id en ce va ri ab le s"
t
"E . Fo r s im pl ic it y , w e a ss um e t ha t t he v ar ia bl es a nd t he ir l in ks a re e xa ct ly r ep li ca te d f ro m"
t
"s li ce t os li ce a nd th at t he DBNr ep re se nt s a fi rs t-o rd er Ma rk ov p ro ce ss , s ot ha t e ac hv ar ia bl e"
c an ha ve pa re nt so nl yi ni ts ow ns li ce or th ei mm ed ia te ly p re ce di ng s li ce .
It s ho ul d b e c le ar t ha t e ve ry h id de n Ma rk ov m od el c an b e r ep re se nt ed a s a DBN w it h
a s in gl e s ta te v ar ia bl e a nd a s in gl e e vi de nc e v ar ia bl e . It i s a ls o t he c as e t ha t e ve ry d is cr et e-
"v ar ia bl e DBNc an be re pr es en te d a sa n HMM ;a se xp la in ed i n Se ct io n 15.3,w ec an co mb in e"
a ll t he s ta te v ar ia bl es i n t he DBN i nt o a s in gl e s ta te v ar ia bl e w ho se v al ue s a re a ll p os si bl e
"t up le s o f v al ue s o f t he i nd iv id ua l s ta te v ar ia bl es . No w , i f e ve ry HMM i s a DBN a nd e ve ry"
"DBN c an b e t ra ns la te d i nt o a n HMM , w ha t’s t he d if fe re nc e ? Th e d if fe re nc e i s t ha t , b y d e-"
Se ct io n 15.5. Dy na mi c Ba ye si an Ne tw or ks 591
"c om po si ng th es ta te of ac om pl ex sy st em in to it sc on st it ue nt va ri ab le s ,t he ca nt ak ea dv an ta ge"
"o f s pa rs en es s i n t he t em po ra l p ro ba bi li ty m od el . Su pp os e , f or e xa mp le , t ha t a DBN h as 20"
"Bo ol ea n s ta te v ar ia bl es , e ac h o f w hi ch h as t hr ee p ar en ts i n t he p re ce di ng s li ce . Th en t he"
"DBNt ra ns it io nm od el ha s 20×23=160 p ro ba bi li ti es , w he re as th ec or re sp on di ng HMMh as"
"220 s ta te s a nd t he re fo re 240, o rr ou gh ly a t ri ll io n , p ro ba bi li ti es i n t he t ra ns it io n m at ri x . Th is"
"i s b ad f or a t l ea st t hr ee r ea so ns: f ir st , t he HMM i ts el f r eq ui re s m uc h m or e s pa ce ; s ec on d ,"
"t he hu ge tr an si ti on m at ri xm ak es HMMi nf er en ce m uc hm or ee xp en si ve ;a nd th ir d ,t he pr ob-"
l em o f l ea rn in g s uc h a h ug e n um be r o f p ar am et er s m ak es t he p ur e HMM m od el u ns ui ta bl e
f or la rg e p ro bl em s . Th er el at io ns hi p b et we en DBNs an d HMMs is r ou gh ly a na lo go us t o t he
r el at io ns hi p b et we en or di na ry Ba ye si an ne tw or ks an df ul lt ab ul at ed j oi nt di st ri bu ti on s .
We h av e a lr ea dy e xp la in ed t ha t e ve ry Ka lm an f il te r m od el c an b e r ep re se nt ed i n a
DBN w it h c on ti nu ou s v ar ia bl es a nd l in ea r Ga us si an c on di ti on al d is tr ib ut io ns (Fi gu re 15.9).
It sh ou ld be cl ea rf ro mt he di sc us si on a tt he en do ft he pr ec ed in g s ec ti on th at no te ve ry DBN
"c an be re pr es en te d b ya Ka lm an fi lt er mo de l . In a Ka lm an fi lt er ,t he cu rr en ts ta te di st ri bu ti on"
"i sa lw ay sa si ng le mu lt iv ar ia te Ga us si an di st ri bu ti on—t ha t i s ,a si ng le“b um p”i na pa rt ic ul ar"
"l oc at io n . DBNs , o n t he o th er h an d , c an m od el a rb it ra ry d is tr ib ut io ns . Fo r m an y r ea l-w or ld"
"a pp li ca ti on s , t hi s f le xi bi li ty i s e ss en ti al . Co ns id er , f or e xa mp le , t he c ur re nt l oc at io n o f m y"
"k ey s . Th ey m ig ht b e i n m y p oc ke t , o n t he b ed si de t ab le , o n t he k it ch en c ou nt er , d an gl in g"
"f ro m t he f ro nt d oo r , o r l oc ke d i n t he c ar . A s in gl e Ga us si an b um p t ha t i nc lu de d a ll t he se"
p la ce s w ou ld h av e t oa ll oc at e s ig ni fi ca nt p ro ba bi li ty t ot he k ey sb ei ng i nm id-a ir in t he fr on t
"h al l . As pe ct s o f t he r ea l w or ld s uc h a s p ur po si ve a ge nt s , o bs ta cl es , a nd p oc ke ts i nt ro du ce"
“n on li ne ar it ie s” t ha tr eq ui re co mb in at io ns of di sc re te an dc on ti nu ou sv ar ia bl es in or de rt og et
r ea so na bl e m od el s .
15.5.1 Co ns tr uc ti ng DBNs
"To co ns tr uc t a DBN ,o ne mu st sp ec if y t hr ee k in ds o fi nf or ma ti on: t he pr io rd is tr ib ut io n o ve r"
"t he st at ev ar ia bl es ,P(X );t he tr an si ti on mo de l P(X |X );a nd th es en so rm od el P(E |X )."
0 t+1 t t t
"To s pe ci fy t he t ra ns it io n a nd s en so r m od el s , o ne m us t a ls o s pe ci fy t he t op ol og y o f t he c on-"
n ec ti on s b et we en s uc ce ss iv e s li ce s a nd b et we en t he s ta te a nd e vi de nc e v ar ia bl es . Be ca us e
t he tr an si ti on a nd se ns or mo de ls ar ea ss um ed to be st at io na ry—t he s am ef or al lt—i ti sm os t
"c on ve ni en t s im pl y t os pe ci fy t he m f or th e f ir st sl ic e . Fo re xa mp le , t he co mp le te DBNs pe ci-"
f ic at io nf or th eu mb re ll aw or ld is gi ve nb yt he th re e-n od e n et wo rk sh ow ni n Fi gu re 15.13(a).
"Fr om th is s pe ci fi ca ti on , t he c om pl et e DBNw it ha nu nb ou nd ed n um be ro ft im es li ce s c an be"
c on st ru ct ed a sn ee de db yc op yi ng t he fi rs ts li ce .
Le t u s n ow c on si de r a m or e i nt er es ti ng e xa mp le: m on it or in g a b at te ry-p ow er ed r ob ot
"m ov in g i n t he X–Y p la ne , a s i nt ro du ce d a t t he e nd o f Se ct io n 15.1. Fi rs t , w e n ee d s ta te"
"v ar ia bl es , w hi ch w il l i nc lu de b ot h X =(X ,Y ) f or p os it io n a nd X˙ =(X˙ ,Y˙ ) f or v el oc it y ."
t t t t t t
We a ss um e s om e m et ho d o f m ea su ri ng p os it io n—p er ha ps a f ix ed c am er a o r o nb oa rd GPS
(Gl ob al Po si ti on in g Sy st em)—y ie ld in g m ea su re me nt s Z . Th ep os it io n a tt he ne xt t im es te p
t
"d ep en ds o n t he c ur re nt p os it io n a nd v el oc it y , a s i n t he s ta nd ar d Ka lm an f il te r m od el . Th e"
v el oc it y a t t he n ex t s te p d ep en ds o n t he c ur re nt v el oc it y a nd t he s ta te o f t he b at te ry . We
"a dd Ba tt er y t o r ep re se nt t he a ct ua l b at te ry c ha rg e l ev el , w hi ch h as a s p ar en ts t he p re vi ou s"
t
592 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
BMe te r
1
R P(R )
P(R ) 0 1
0 t 0.7 Ba tt er y Ba tt er y
0.7 f 0.3 0 1
Ra in Ra in
0 1 X X
0 1
R P(U )
1 1
t 0.9
XXt
0
X
1
f 0.2
Um br el la 1 Z 1
(a) (b)
"Fi gu re 15.13 (a) Sp ec if ic at io n o f t he p ri or , t ra ns it io n m od el , a nd s en so r m od el f or t he"
u mb re ll a DBN .Al ls ub se qu en ts li ce sa re as su me dt ob ec op ie so fs li ce 1. (b)As im pl e DBN
f or ro bo tm ot io ni nt he X–Yp la ne .
"b at te ry le ve la nd th ev el oc it y ,a nd we ad d BMe te r ,w hi ch me as ur es th eb at te ry ch ar ge le ve l ."
t
Th is gi ve su st he ba si cm od el sh ow ni n Fi gu re 15.13(b).
It i s w or th l oo ki ng i n m or e d ep th a t t he n at ur e o f t he s en so r m od el f or BMe te r . Le t
t
"u s s up po se , f or s im pl ic it y , t ha t b ot h Ba tt er y a nd BMe te r c an t ak e o n d is cr et e v al ue s 0"
t t
"t hr ou gh 5. If th em et er is al wa ys ac cu ra te , t he nt he CPTP(BMe te r |Ba tt er y )s ho ul dh av e"
t t
"p ro ba bi li ti es o f 1.0 “a lo ng t he d ia go na l” a nd p ro ba bi li ti es o f 0.0 e ls ew he re . In r ea li ty , n oi se"
"a lw ay s c re ep s i nt o m ea su re me nt s . Fo r c on ti nu ou s m ea su re me nt s , a Ga us si an d is tr ib ut io n"
"w it h a s ma ll v ar ia nc e m ig ht b e u se d .5 Fo r o ur d is cr et e v ar ia bl es , w e c an a pp ro xi ma te a"
Ga us si an u si ng a d is tr ib ut io n i n w hi ch t he p ro ba bi li ty o f e rr or d ro ps o ff i n t he a pp ro pr ia te
"w ay , s o t ha t t he p ro ba bi li ty o f a l ar ge e rr or i s v er y s ma ll . We u se t he t er m Ga us si an e rr or"
GAUSSIANERROR m od el to co ve rb ot ht he co nt in uo us a nd di sc re te v er si on s .
MODEL
"An yo ne w it h h an ds-o n e xp er ie nc e o f r ob ot ic s , c om pu te ri ze d p ro ce ss c on tr ol , o r o th er"
f or ms of au to ma ti cs en si ng wi ll re ad il yt es ti fy to th ef ac tt ha ts ma ll am ou nt so fm ea su re me nt
"n oi se a re o ft en t he l ea st o f o ne’s p ro bl em s . Re al s en so rs f ai l . Wh en a s en so r f ai ls , i t d oe s"
"n ot n ec es sa ri ly s en d a s ig na l s ay in g , “Oh , b y t he w ay , t he d at a I’m a bo ut t o s en d y ou i s a"
"l oa d o f n on se ns e .” In st ea d , i t s im pl y s en ds t he n on se ns e . Th e s im pl es t k in d o f f ai lu re i s"
"c al le da tr an si en tf ai lu re ,w he re th es en so ro cc as io na ll yd ec id es to se nd so me no ns en se . Fo r"
TRANSIENTFAILURE
"e xa mp le , t he ba tt er y l ev el se ns or mi gh th av ea ha bi to fs en di ng a ze ro wh en so me on eb um ps"
"t he ro bo t ,e ve ni ft he ba tt er yi sf ul ly ch ar ge d ."
Le t’s se ew ha th ap pe ns wh en at ra ns ie nt fa il ur eo cc ur sw it ha Ga us si an er ro rm od el th at
"d oe sn’t ac co mm od at es uc hf ai lu re s . Su pp os e ,f or ex am pl e ,t ha tt he ro bo ti ss it ti ng qu ie tl ya nd"
o bs er ve s 20 c on se cu ti ve ba tt er yr ea di ng so f 5. Th en th eb at te ry me te rh as at em po ra ry se iz ur e
"5 St ri ct ly sp ea ki ng ,a Ga us si an di st ri bu ti on is pr ob le ma ti cb ec au se it as si gn sn on ze ro pr ob ab il it yt ol ar ge ne ga-"
t iv ec ha rg el ev el s .Th eb et ad is tr ib ut io ni ss om et im es ab et te rc ho ic ef or av ar ia bl ew ho se ra ng ei sr es tr ic te d .
Se ct io n 15.5. Dy na mi c Ba ye si an Ne tw or ks 593
a nd th en ex tr ea di ng is BMe te r =0. Wh at wi ll th es im pl e Ga us si an er ro rm od el le ad us to
21
"b el ie ve a bo ut Ba tt er y ? Ac co rd in g t o Ba ye s’ r ul e , t he a ns we r d ep en ds o n b ot h t he s en so r"
21
m od el P(BMe te r =0|Ba tt er y ) a nd t he p re di ct io n P(Ba tt er y |BMe te r ). If t he
21 21 21 1:20
p ro ba bi li ty of al ar ge se ns or er ro ri ss ig ni fi ca nt ly le ss li ke ly th an th ep ro ba bi li ty of at ra ns it io n
"t o Ba tt er y =0,e ve ni ft he la tt er is ve ry un li ke ly , t he nt he po st er io rd is tr ib ut io n w il la ss ig n"
21
a h ig h p ro ba bi li ty t o t he b at te ry’s b ei ng e mp ty . A s ec on d r ea di ng o f 0 a t t=22 w il l m ak e
t hi sc on cl us io n a lm os tc er ta in . If th et ra ns ie nt fa il ur et he nd is ap pe ar s a nd th er ea di ng re tu rn s
"t o 5 f ro m t=23 o nw ar ds , t he e st im at e f or t he b at te ry l ev el w il l q ui ck ly r et ur n t o 5, a s i f b y"
"m ag ic . Th is co ur se of ev en ts is il lu st ra te di nt he up pe rc ur ve of Fi gu re 15.14(a),w hi ch sh ow s"
"t he ex pe ct ed va lu eo f Ba tt er y o ve rt im e ,u si ng ad is cr et e Ga us si an er ro rm od el ."
t
"De sp it et he re co ve ry ,t he re is at im e(t=22)w he nt he ro bo ti sc on vi nc ed th at it sb at te ry"
"i s e mp ty ; p re su ma bl y , t he n , i t s ho ul d s en d o ut a m ay da y s ig na l a nd s hu t d ow n . Al as , i ts"
o ve rs im pl if ie d s en so r m od el h as l ed i t a st ra y . Ho w c an t hi s b e f ix ed ? Co ns id er a f am il ia r
"e xa mp le fr om ev er yd ay hu ma nd ri vi ng: o ns ha rp cu rv es or st ee ph il ls ,o ne’s“f ue lt an ke mp ty”"
"w ar ni ng li gh ts om et im es tu rn so n . Ra th er th an lo ok in gf or th ee me rg en cy p ho ne , o ne si mp ly"
r ec al ls th at th ef ue lg au ge so me ti me sg iv es av er yl ar ge er ro rw he nt he fu el is sl os hi ng ar ou nd
i n t he t an k . Th e m or al o f t he s to ry i s t he f ol lo wi ng: f or t he s ys te m t o h an dl e s en so r f ai lu re
"p ro pe rl y , t he se ns or mo de lm us ti nc lu de th ep os si bi li ty o ff ai lu re ."
Th e s im pl es t k in d o f f ai lu re m od el f or a s en so r a ll ow s a c er ta in p ro ba bi li ty t ha t t he
"s en so r w il l r et ur n s om e c om pl et el y i nc or re ct v al ue , r eg ar dl es s o f t he t ru e s ta te o f t he w or ld ."
"Fo re xa mp le ,i ft he ba tt er ym et er fa il sb yr et ur ni ng 0,w em ig ht sa yt ha t"
"P(BMe te r =0|Ba tt er y =5)=0.03,"
t t
w hi ch is pr es um ab ly m uc hl ar ge r t ha nt he pr ob ab il it y a ss ig ne d b yt he si mp le Ga us si an e rr or
TRANSIENTFAILURE m od el . Le t’s c al l t hi s t he t ra ns ie nt f ai lu re m od el . Ho w d oe s i t h el p w he n w e a re f ac ed
MODEL
"w it h a r ea di ng o f 0? Pr ov id ed t ha t t he p re di ct ed p ro ba bi li ty o f a n e mp ty b at te ry , a cc or di ng"
"t o t he r ea di ng s s o f ar , i s m uc h l es s t ha n 0.03, t he n t he b es t e xp la na ti on o f t he o bs er va ti on"
"BMe te r =0 i st ha tt he se ns or ha st em po ra ri ly fa il ed . In tu it iv el y , w ec an th in ko ft he be li ef"
21
a bo ut th eb at te ry le ve la sh av in g a ce rt ai na mo un to f“i ne rt ia” t ha th el ps to ov er co me te mp o-
r ar y b li ps i n t he m et er r ea di ng . Th e u pp er c ur ve i n Fi gu re 15.14(b) s ho ws t ha t t he t ra ns ie nt
f ai lu re mo de lc an ha nd le tr an si en t f ai lu re sw it ho ut ac at as tr op hi c c ha ng ei nb el ie fs .
"So mu ch fo rt em po ra ry b li ps . Wh at ab ou ta pe rs is te nt s en so rf ai lu re ? Sa dl y ,f ai lu re s o f"
t hi s k in d a re a ll to o c om mo n . If th es en so r r et ur ns 20 r ea di ng s o f 5 f ol lo we d b y 20 r ea di ng s
"o f 0, t he n t he t ra ns ie nt s en so r f ai lu re m od el d es cr ib ed i n t he p re ce di ng p ar ag ra ph w il lr es ul t"
i n t he r ob ot g ra du al ly c om in g t o b el ie ve t ha t i ts b at te ry i s e mp ty w he n i n f ac t i t m ay b e t ha t
t he m et er h as f ai le d . Th e l ow er c ur ve i n Fi gu re 15.14(b) s ho ws t he b el ie f “t ra je ct or y” f or
t hi s c as e . By t=25—f iv e r ea di ng s o f 0—t he r ob ot i s c on vi nc ed t ha t i ts b at te ry i s e mp ty .
"Ob vi ou sl y , w e w ou ld p re fe r t he r ob ot t o b el ie ve t ha t i ts b at te ry m et er i s b ro ke n—i f i nd ee d"
t hi si st he mo re li ke ly ev en t .
"PERSISTENT Un su rp ri si ng ly , t o h an dl e p er si st en t f ai lu re , w e n ee d a p er si st en t f ai lu re m od el t ha t"
FAILUREMODEL
"d es cr ib es h ow t he s en so r b eh av es u nd er n or ma l c on di ti on s a nd a ft er f ai lu re . To d o t hi s , w e"
"n ee d t o a ug me nt t he s ta te o f t he s ys te m w it h a n a dd it io na l v ar ia bl e , s ay , BMBr ok en , t ha t"
d es cr ib es t he s ta tu s o f t he b at te ry m et er . Th e p er si st en ce o f f ai lu re m us t b e m od el ed b y a n
594 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
5
4
3
2
1
0
-1
15 20 25 30
)y re tt a B(E t
E(Ba tt er y |...5555005555...)
t
5
4
3
2
1
0
E(Ba tt er y |...5555000000...)
t
-1
15 20 25 30
Ti me s te p t
)y re tt a B(E t
E(Ba tt er y |...5555005555...)
t
E(Ba tt er y |...5555000000...)
t
Ti me s te p
(a) (b)
Fi gu re 15.14 (a)Up pe rc ur ve:t ra je ct or yo ft he ex pe ct ed va lu eo f Ba tt er yt fo ra no bs er va-
"t io ns eq ue nc ec on si st in go fa ll 5 s ex ce pt fo r 0 s at t=21 a nd t=22,u si ng as im pl e Ga us si an"
e rr or mo de l .Lo we rc ur ve:t ra je ct or yw he nt he ob se rv at io nr em ai ns at 0 f ro mt=21 o nw ar ds .
(b)Th es am ee xp er im en tr un wi th th et ra ns ie nt fa il ur em od el . No ti ce th at th et ra ns ie nt fa il-
"u re is ha nd le dw el l ,b ut th ep er si st en tf ai lu re re su lt si ne xc es si ve pe ss im is ma bo ut th eb at te ry"
c ha rg e .
B
0
P(B
1
)
5
t 1.000
f 0.001 4
3
BMBr ok en BMBr ok en
0 1
2
1
BMe te r
1
0
-1
Ba tt er y Ba tt er y 15 20 25 30
0 1
)y re tt a B(E t
E(Ba tt er y |...5555005555...)
t
E(Ba tt er y |...5555000000...)
t
P(BMBr ok en |...5555000000...)
t
P(BMBr ok en |...5555005555...)
t
Ti me s te p
(a) (b)
Fi gu re 15.15 (a)ADBN f ra gm en ts ho wi ng th es en so rs ta tu sv ar ia bl er eq ui re df or mo d-
e li ng p er si st en tf ai lu re of t he b at te ry s en so r . (b)Up pe rc ur ve s: t ra je ct or ie so f t he e xp ec te d
v al ue of Ba tt er yt fo rt he“t ra ns ie nt fa il ur e”a nd“p er ma ne nt fa il ur e”o bs er va ti on ss eq ue nc es .
Lo we rc ur ve s:p ro ba bi li ty tr aj ec to ri es fo r BMBr ok en g iv en th et wo ob se rv at io ns eq ue nc es .
a rc l in ki ng BMBr ok en t o BMBr ok en . Th is p er si st en ce a rc h as a CPTt ha t g iv es a sm al l
PERSISTENCEARC 0 1
"p ro ba bi li ty o f f ai lu re i n a ny g iv en t im e s te p , s ay , 0.001, b ut s pe ci fi es t ha t t he s en so r s ta ys"
"b ro ke n o nc e i t b re ak s . Wh en t he s en so r i s OK , t he s en so r m od el f or BMe te r i s i de nt ic al t o"
"t he tr an si en tf ai lu re mo de l ;w he nt he se ns or is br ok en ,i ts ay s BMe te r i sa lw ay s 0,r eg ar dl es s"
o ft he ac tu al ba tt er yc ha rg e .
Se ct io n 15.5. Dy na mi c Ba ye si an Ne tw or ks 595
P(R 0) R t 0 P 0(R .71 ) P(R 0) R t 0 P 0(R .71 ) R t 1 P 0(R .72 ) R t 2 P 0(R .73 ) R t 3 P 0(R .74 )
0.7 f 0.3 0.7 f 0.3 f 0.3 f 0.3 f 0.3
Ra in Ra in Ra in Ra in Ra in Ra in Ra in
0 1 0 1 2 3 4
Um br el la 1 Um br el la 1 Um br el la 2 Um br el la 3 Um br el la 4
R 1 P(U 1 ) R 1 P(U 1 ) R 2 P(U 2 ) R 3 P(U 3 ) R 4 P(U 4 )
t 0.9 t 0.9 t 0.9 t 0.9 t 0.9
f 0.2 f 0.2 f 0.2 f 0.2 f 0.2
Fi gu re 15.16 Un ro ll in ga dy na mi c Ba ye si an ne tw or k: s li ce sa re re pl ic at ed to ac co mm o-
d at et he ob se rv at io ns eq ue nc e Um br el la .Fu rt he rs li ce sh av en oe ff ec to ni nf er en ce sw it hi n
1:3
t he ob se rv at io np er io d .
Th e p er si st en t f ai lu re m od el f or t he b at te ry s en so r i s s ho wn i n Fi gu re 15.15(a). It s
p er fo rm an ce o n t he t wo d at a s eq ue nc es (t em po ra ry b li p a nd p er si st en t f ai lu re) i s s ho wn i n
"Fi gu re 15.15(b). Th er e a re s ev er al t hi ng s t o n ot ic e a bo ut t he se c ur ve s . Fi rs t , i n t he c as e"
"o f t he t em po ra ry b li p , t he p ro ba bi li ty t ha t t he s en so r i s b ro ke n r is es s ig ni fi ca nt ly a ft er t he"
"s ec on d 0 r ea di ng , b ut i mm ed ia te ly d ro ps b ac k t o z er o o nc e a 5 i s o bs er ve d . Se co nd , i n t he"
"c as e o f p er si st en t f ai lu re , t he p ro ba bi li ty t ha t t he s en so r i s b ro ke n r is es q ui ck ly t o a lm os t 1"
"a nd s ta ys t he re . Fi na ll y , o nc e t he s en so r i s k no wn t o b e b ro ke n , t he r ob ot c an o nl y a ss um e"
"t ha ti ts ba tt er yd is ch ar ge sa tt he“n or ma l”r at e ,a ss ho wn by t he gr ad ua ll yd es ce nd in g l ev el of"
E(Ba tt er y |...).
t
"So f ar , w e h av e m er el y s cr at ch ed t he s ur fa ce o f t he p ro bl em o f r ep re se nt in g c om pl ex"
"p ro ce ss es . Th e v ar ie ty o f t ra ns it io n m od el s i s h ug e , e nc om pa ss in g t op ic s a s d is pa ra te a s"
m od el in g t he hu ma ne nd oc ri ne s ys te m a nd mo de li ng mu lt ip le v eh ic le s d ri vi ng o na fr ee wa y .
"Se ns or m od el in g i s a ls o a v as t s ub fi el d i n i ts el f , b ut e ve n s ub tl e p he no me na , s uc h a s s en so r"
"d ri ft , s ud de n d ec al ib ra ti on , a nd t he e ff ec ts o f e xo ge no us c on di ti on s (s uc h a s w ea th er) o n"
"s en so rr ea di ng s ,c an be ha nd le db ye xp li ci tr ep re se nt at io n w it hi nd yn am ic Ba ye si an ne tw or ks ."
15.5.2 Ex ac ti nf er en ce i n DBNs
"Ha vi ng s ke tc he d s om e i de as f or r ep re se nt in g c om pl ex p ro ce ss es a s DBNs , w e n ow t ur n t o"
"t he q ue st io n o f i nf er en ce . In a s en se , t hi s q ue st io n h as a lr ea dy b ee n a ns we re d: d yn am ic"
"Ba ye si an n et wo rk s a re Ba ye si an n et wo rk s , a nd w e a lr ea dy h av e a lg or it hm s f or i nf er en ce i n"
"Ba ye si an n et wo rk s . Gi ve n a s eq ue nc e o f o bs er va ti on s , o ne c an c on st ru ct t he f ul l Ba ye si an"
n et wo rk r ep re se nt at io n o f a DBN b y r ep li ca ti ng s li ce s u nt il t he n et wo rk i s l ar ge e no ug h t o
"a cc om mo da te t he ob se rv at io ns , a si n Fi gu re 15.16. Th is te ch ni qu e , m en ti on ed i n Ch ap te r 14"
"i nt he co nt ex t o fr el at io na l p ro ba bi li ty m od el s , i sc al le d u nr ol li ng . (Te ch ni ca ll y , t he DBNi s"
e qu iv al en t t o t he s em i-i nf in it e n et wo rk o bt ai ne d b y u nr ol li ng f or ev er . Sl ic es a dd ed b ey on d
t he l as t o bs er va ti on h av e n o e ff ec t o n i nf er en ce s w it hi n t he o bs er va ti on p er io d a nd c an b e
"o mi tt ed .) On ce t he DBN i s u nr ol le d , o ne c an u se a ny o f t he i nf er en ce a lg or it hm s—v ar ia bl e"
"e li mi na ti on , c lu st er in g m et ho ds ,a nd so on—d es cr ib ed i n Ch ap te r 14."
"Un fo rt un at el y , a n ai ve a pp li ca ti on o f u nr ol li ng w ou ld n ot b e p ar ti cu la rl y e ff ic ie nt . If"
"w e w an t t o p er fo rm f il te ri ng o r s mo ot hi ng w it h a l on g s eq ue nc e o f o bs er va ti on s e , t he"
1:t
596 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
u nr ol le d n et wo rk w ou ld r eq ui re O(t) s pa ce a nd w ou ld t hu s g ro w w it ho ut b ou nd a s m or e
"o bs er va ti on s w er e a dd ed . Mo re ov er , i f w e s im pl y r un t he i nf er en ce a lg or it hm a ne w e ac h"
"t im ea no bs er va ti on i sa dd ed ,t he in fe re nc e t im ep er up da te wi ll al so in cr ea se as O(t)."
"Lo ok in gb ac kt o Se ct io n 15.2.1,w es ee th at co ns ta nt ti me an ds pa ce pe rf il te ri ng up da te"
"c an b e a ch ie ve d i f t he c om pu ta ti on c an b e d on e r ec ur si ve ly . Es se nt ia ll y , t he f il te ri ng u pd at e"
i n Eq ua ti on (15.5) w or ks b y s um mi ng o ut t he s ta te v ar ia bl es o ft he p re vi ou s t im e s te p t o g et
t he d is tr ib ut io n f or t he n ew t im e s te p . Su mm in g o ut v ar ia bl es i s e xa ct ly w ha t t he v ar ia bl e
"e li mi na ti on (Fi gu re 14.11)a lg or it hm d oe s ,a nd it tu rn so ut th at ru nn in g v ar ia bl e e li mi na ti on"
w it h t he v ar ia bl es i n t em po ra l o rd er e xa ct ly m im ic s t he o pe ra ti on o f t he r ec ur si ve f il te ri ng
u pd at e i n Eq ua ti on (15.5). Th e m od if ie d a lg or it hm k ee ps a t m os t t wo s li ce s i n m em or y a t
"a ny on et im e: s ta rt in gw it hs li ce 0,w ea dd sl ic e 1,t he ns um ou ts li ce 0,t he na dd sl ic e 2,t he n"
"s um o ut s li ce 1, a nd s oo n . In t hi s w ay , w ec an a ch ie ve c on st an t s pa ce a nd t im ep er fi lt er in g"
u pd at e . (Th e s am e p er fo rm an ce c an b e a ch ie ve d b y s ui ta bl e m od if ic at io ns t o t he c lu st er in g
a lg or it hm .) Ex er ci se 15.17 a sk sy ou to ve ri fy th is fa ct fo rt he um br el la ne tw or k .
So mu ch f or t he g oo d n ew s ; n ow f or th e b ad n ew s: It t ur ns o ut t ha t t he “c on st an t” f or
"t he pe r-u pd at et im ea nd sp ac ec om pl ex it yi s ,i na lm os ta ll ca se s ,e xp on en ti al in th en um be ro f"
"s ta te v ar ia bl es . Wh at h ap pe ns i s t ha t , a s t he v ar ia bl e e li mi na ti on p ro ce ed s , t he f ac to rs g ro w"
"t oi nc lu de al lt he st at ev ar ia bl es(o r ,m or ep re ci se ly , a ll th os es ta te va ri ab le st ha th av ep ar en ts"
i nt he pr ev io us ti me sl ic e). Th em ax im um fa ct or si ze is O(d n+k)a nd th et ot al up da te co st pe r
"s te pi s O(n dn+k),w he re di st he do ma in si ze of th ev ar ia bl es an dk i st he ma xi mu mn um be r"
o fp ar en ts o fa ny st at ev ar ia bl e .
"Of c ou rs e , t hi s i s m uc h l es s t ha n t he c os t o f HMM u pd at in g , w hi ch i s O(d 2 n), b ut i t"
i s s ti ll i nf ea si bl e f or l ar ge n um be rs o f v ar ia bl es . Th is g ri m f ac t i s s om ew ha t h ar d t o a cc ep t .
Wh at i t m ea ns i s t ha t e ve n t ho ug h w e c an u se DBNs t o r ep re se nt v er y c om pl ex t em po ra l
"p ro ce ss es w it h m an y s pa rs el y c on ne ct ed v ar ia bl es , w e c an no t r ea so n e ff ic ie nt ly a nd e xa ct ly"
"a bo ut t ho se p ro ce ss es . Th e DBN m od el i ts el f , w hi ch r ep re se nt s t he p ri or j oi nt d is tr ib ut io n"
"o ve ra ll t he v ar ia bl es , i s f ac to ra bl e i nt o i ts c on st it ue nt CPTs , b ut t he p os te ri or j oi nt d is tr ib u-"
"t io nc on di ti on ed o na no bs er va ti on s eq ue nc e—t ha t i s ,t he fo rw ar dm es sa ge—i sg en er al ly n ot"
"f ac to ra bl e . So f ar , n o o ne h as f ou nd a w ay a ro un d t hi s p ro bl em , d es pi te t he f ac t t ha t m an y"
"i mp or ta nt ar ea so fs ci en ce an de ng in ee ri ng wo ul db en ef it en or mo us ly fr om it ss ol ut io n . Th us ,"
w em us tf al lb ac ko na pp ro xi ma te m et ho ds .
15.5.3 Ap pr ox im at ei nf er en ce i n DBNs
Se ct io n 14.5 d es cr ib ed t wo a pp ro xi ma ti on a lg or it hm s: l ik el ih oo d w ei gh ti ng (Fi gu re 14.15)
"a nd Ma rk ov ch ai n Mo nt e Ca rl o(MCMC ,Fi gu re 14.16). Of th et wo ,t he fo rm er is mo st ea si ly"
a da pt ed t ot he DBNc on te xt . (An MCMCf il te ri ng a lg or it hm i sd es cr ib ed b ri ef ly in th en ot es
"a tt he en do ft he ch ap te r .) We wi ll se e ,h ow ev er ,t ha ts ev er al i mp ro ve me nt sa re re qu ir ed o ve r"
t he st an da rd l ik el ih oo d w ei gh ti ng al go ri th m b ef or ea pr ac ti ca lm et ho de me rg es .
Re ca ll t ha t l ik el ih oo d w ei gh ti ng w or ks b y s am pl in g t he n on ev id en ce n od es o f t he n et-
"w or ki nt op ol og ic al or de r ,w ei gh ti ng ea ch sa mp le by th el ik el ih oo di ta cc or ds to th eo bs er ve d"
"e vi de nc e v ar ia bl es . As w it h t he e xa ct a lg or it hm s , w e c ou ld a pp ly l ik el ih oo d w ei gh ti ng d i-"
"r ec tl y t o a n u nr ol le d DBN ,b ut t hi s w ou ld s uf fe r f ro m t he s am e p ro bl em s o f i nc re as in g t im e"
Se ct io n 15.5. Dy na mi c Ba ye si an Ne tw or ks 597
a nd s pa ce r eq ui re me nt s p er u pd at e a s t he o bs er va ti on s eq ue nc e g ro ws . Th e p ro bl em i s t ha t
"t he s ta nd ar d a lg or it hm r un s e ac h s am pl e i n t ur n , a ll t he w ay t hr ou gh t he n et wo rk . In st ea d ,"
"w e c an s im pl y r un a ll N s am pl es t og et he r t hr ou gh t he DBN , o ne s li ce a t a t im e . Th e m od-"
"i fi ed a lg or it hm f it s t he g en er al p at te rn o f f il te ri ng a lg or it hm s , w it h t he s et o f N s am pl es a s"
"t he f or wa rd m es sa ge . Th e f ir st k ey i nn ov at io n , t he n , i s t o u se t he s am pl es t he ms el ve s a s a n"
a pp ro xi ma te re pr es en ta ti on o ft he cu rr en ts ta te di st ri bu ti on . Th is me et st he re qu ir em en to fa
"“c on st an t”t im ep er up da te ,a lt ho ug ht he co ns ta nt de pe nd so nt he nu mb er of sa mp le sr eq ui re d"
"t om ai nt ai na na cc ur at ea pp ro xi ma ti on . Th er ei sa ls on on ee d t ou nr ol lt he DBN ,b ec au se w e"
n ee dt oh av ei nm em or yo nl yt he cu rr en t s li ce an dt he ne xt sl ic e .
"In o ur d is cu ss io n o f l ik el ih oo d w ei gh ti ng i n Ch ap te r 14, w e p oi nt ed o ut t ha t t he a l-"
g or it hm’s a cc ur ac y s uf fe rs i f t he e vi de nc e v ar ia bl es a re “d ow ns tr ea m” f ro m t he v ar ia bl es
"b ei ng s am pl ed , b ec au se i n t ha t c as e t he s am pl es a re g en er at ed w it ho ut a ny i nf lu en ce f ro m"
"t he e vi de nc e . Lo ok in g a t t he t yp ic al s tr uc tu re o f a DBN—s ay , t he u mb re ll a DBN i n Fi g-"
u re 15.16—w es ee th at in de ed th ee ar ly st at ev ar ia bl es wi ll be sa mp le dw it ho ut th eb en ef it of
"t he la te re vi de nc e . In fa ct , l oo ki ng m or ec ar ef ul ly , w es ee th at no ne of th es ta te va ri ab le s h as"
"a ny ev id en ce v ar ia bl es a mo ng it sa nc es to rs ! He nc e , a lt ho ug h t he we ig ht of ea ch sa mp le wi ll"
"d ep en d o n t he e vi de nc e , t he a ct ua l s et o f s am pl es g en er at ed w il l b e c om pl et el y i nd ep en de nt"
"o f t he e vi de nc e . Fo r e xa mp le , e ve n i f t he b os s b ri ng s i n t he u mb re ll a e ve ry d ay , t he s am-"
p li ng p ro ce ss c ou ld s ti ll ha ll uc in at e e nd le ss d ay s o fs un sh in e . Wh at th is me an si np ra ct ic e i s
t ha t t he f ra ct io n o f s am pl es t ha t r em ai n r ea so na bl y c lo se t o t he a ct ua l s er ie s o f e ve nt s (a nd
"t he re fo re h av e n on ne gl ig ib le w ei gh ts) d ro ps e xp on en ti al ly w it h t , t he l en gt h o f t he o bs er va-"
"t io ns eq ue nc e . In ot he rw or ds , t om ai nt ai n a gi ve nl ev el of ac cu ra cy , w en ee d t oi nc re as e t he"
n um be r o f s am pl es e xp on en ti al ly w it h t . Gi ve n t ha t a f il te ri ng a lg or it hm t ha t w or ks i n r ea l
"t im ec an us eo nl ya fi xe dn um be ro fs am pl es ,w ha th ap pe ns in pr ac ti ce is th at th ee rr or bl ow s"
u pa ft er av er ys ma ll nu mb er of up da te st ep s .
"Cl ea rl y , w e n ee d a b et te r s ol ut io n . Th e s ec on d k ey i nn ov at io n i s t o f oc us t he s et o f"
s am pl es o n t he h ig h-p ro ba bi li ty r eg io ns o f t he s ta te s pa ce . Th is c an b e d on e b y t hr ow in g
"a wa y s am pl es t ha t h av e v er y l ow w ei gh t , a cc or di ng t o t he o bs er va ti on s , w hi le r ep li ca ti ng"
"t ho se th at ha ve hi gh we ig ht . In th at wa y ,t he po pu la ti on of sa mp le sw il ls ta yr ea so na bl yc lo se"
"t or ea li ty . If we th in ko fs am pl es as ar es ou rc e f or mo de li ng th ep os te ri or di st ri bu ti on , t he ni t"
m ak es se ns et ou se mo re sa mp le si nr eg io ns of th es ta te sp ac ew he re th ep os te ri or is hi gh er .
A f am il y o f a lg or it hm s c al le d p ar ti cl e f il te ri ng i s d es ig ne d t o d o j us t t ha t . Pa rt ic le
PARTICLEFILTERING
"f il te ri ng wo rk sa sf ol lo ws: Fi rs t ,a po pu la ti on of N i ni ti al-s ta te sa mp le si sc re at ed by sa mp li ng"
f ro mt he pr io rd is tr ib ut io n P(X ). Th en th eu pd at e c yc le is re pe at ed f or ea ch ti me st ep:
0
1. Ea ch s am pl e i s p ro pa ga te d f or wa rd b y s am pl in g t he n ex t s ta te v al ue x g iv en t he
t+1
"c ur re nt va lu e x f or th es am pl e ,b as ed on th et ra ns it io n m od el P(X |x )."
t t+1 t
"2. Ea ch sa mp le is we ig ht ed by th el ik el ih oo di ta ss ig ns to th en ew ev id en ce ,P(e |x )."
t+1 t+1
3. Th e p op ul at io n i s r es am pl ed t o g en er at e a n ew p op ul at io n o f N s am pl es . Ea ch n ew
s am pl e i ss el ec te d f ro m t he c ur re nt p op ul at io n ; t he pr ob ab il it y t ha t a pa rt ic ul ar s am pl e
i ss el ec te di sp ro po rt io na l t oi ts we ig ht . Th en ew sa mp le sa re un we ig ht ed .
"Th e a lg or it hm i s s ho wn i n d et ai l i n Fi gu re 15.17, a nd i ts o pe ra ti on f or t he u mb re ll a DBNi s"
i ll us tr at ed i n Fi gu re 15.18.
598 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
"f un ct io n PARTICLE-FILTERING(e ,N ,d bn)r et ur ns as et of sa mp le sf or th en ex tt im es te p"
"i np ut s:e ,t he ne wi nc om in ge vi de nc e"
"N ,t he nu mb er of sa mp le st ob em ai nt ai ne d"
"d bn ,a DBNw it hp ri or P(X ),t ra ns it io nm od el P(X |X ),s en so rm od el P(E |X )"
0 1 0 1 1
"p er si st en t: S ,a ve ct or of sa mp le so fs iz e N ,i ni ti al ly ge ne ra te df ro m P(X )"
0
"l oc al va ri ab le s: W ,a ve ct or of we ig ht so fs iz e N"
f or i =1 t o N d o
S[i]←s am pl ef ro m P(X | X = S[i]) /*s te p 1*/
1 0
W[i]←P(e| X = S[i]) /*s te p 2*/
1
"S←WEIGHTED-SAMPLE-WITH-REPLACEMENT(N ,S ,W) /*s te p 3*/"
r et ur n S
Fi gu re 15.17 Th e p ar ti cl e f il te ri ng a lg or it hm i mp le me nt ed a s a r ec ur si ve u pd at e o p-
e ra ti on w it h s ta te (t he s et o f s am pl es). Ea ch o f t he s am pl in g o pe ra ti on s i nv ol ve s s am-
"p li ng t he r el ev an t s li ce v ar ia bl es i n t op ol og ic al o rd er , m uc h a s i n PRIOR-SAMPLE . Th e"
WEIGHTED-SAMPLE-WITH-REPLACEMENTo pe ra ti on ca nb ei mp le me nt ed to ru ni n O(N)
e xp ec te dt im e . Th es te pn um be rs re fe rt ot he de sc ri pt io ni nt he te xt .
Ra in Ra in Ra in Ra in
t t+1 t+1 t+1
t ru e
f al se
(a) Pr op ag at e (b) We ig ht (c) Re sa mp le
"Fi gu re 15.18 Th ep ar ti cl ef il te ri ng up da te cy cl ef or th eu mb re ll a DBNw it h N=10,s ho w-"
"i ng th es am pl ep op ul at io ns of ea ch st at e . (a)At ti me t ,8 s am pl es in di ca te ra in a nd 2 i nd ic at e"
¬r ai n . Ea ch is pr op ag at ed fo rw ar db ys am pl in gt he ne xt st at et hr ou gh th et ra ns it io nm od el .
"At ti me t+1, 6 s am pl es in di ca te ra in a nd 4 i nd ic at e¬r ai n . (b)¬u mb re ll a i so bs er ve da t"
"t+1. Ea ch sa mp le is we ig ht ed by it sl ik el ih oo df or th eo bs er va ti on ,a si nd ic at ed by th es iz e"
o ft he ci rc le s . (c)An ew se to f 10 s am pl es is ge ne ra te db yw ei gh te dr an do ms el ec ti on fr om
"t he cu rr en ts et ,r es ul ti ng in 2 s am pl es th at in di ca te ra in a nd 8 t ha ti nd ic at e¬r ai n ."
We ca ns ho wt ha tt hi sa lg or it hm is co ns is te nt—g iv es th ec or re ct pr ob ab il it ie sa s N t en ds
t oi nf in it y—b yc on si de ri ng wh at ha pp en sd ur in go ne up da te cy cl e . We as su me th at th es am pl e
p op ul at io n s ta rt s w it h a c or re ct r ep re se nt at io n o f t he f or wa rd m es sa ge f =P(X |e ) a t
1:t t 1:t
t im e t . Wr it in g N(x |e ) f or t he n um be r o f s am pl es o cc up yi ng s ta te x a ft er o bs er va ti on s
t 1:t t
"e h av eb ee np ro ce ss ed , w et he re fo re h av e"
1:t
N(x |e )/N = P(x |e ) (15.23)
t 1:t t 1:t
"f or la rg e N . No ww ep ro pa ga te ea ch sa mp le fo rw ar db ys am pl in gt he st at ev ar ia bl es at t+1,"
g iv en t he v al ue s f or t he s am pl e a t t . Th e n um be r o f s am pl es r ea ch in g s ta te x f ro m e ac h
t+1
Se ct io n 15.6. Ke ep in g Tr ac ko f Ma ny Ob je ct s 599
"x i st he tr an si ti on p ro ba bi li ty t im es th ep op ul at io n o f x ;h en ce , t he to ta ln um be ro fs am pl es"
t t
r ea ch in g x i s
t+1 (c id:12)
N(x |e ) = P(x |x )N(x |e ).
t+1 1:t t+1 t t 1:t
x t
No ww ew ei gh te ac hs am pl eb yi ts li ke li ho od fo rt he ev id en ce at t+1. As am pl ei ns ta te x
t+1
r ec ei ve s w ei gh t P(e |x ). Th e t ot al w ei gh t o f t he s am pl es i n x a ft er s ee in g e i s
t+1 t+1 t+1 t+1
t he re fo re
W(x |e ) = P(e |x )N(x |e ).
t+1 1:t+1 t+1 t+1 t+1 1:t
No w f or t he r es am pl in g s te p . Si nc e e ac h s am pl e i s r ep li ca te d w it h p ro ba bi li ty p ro po rt io na l
"t oi ts we ig ht ,t he nu mb er of sa mp le si ns ta te x a ft er re sa mp li ng i sp ro po rt io na l t ot he to ta l"
t+1
w ei gh ti nx b ef or er es am pl in g:
t+1
N(x |e )/N = αW(x |e )
t+1 1:t+1 t+1 1:t+1
= αP(e |x )N(x |e )
t+1 t+1 (c id:12)t+1 1:t
= αP(e |x ) P(x |x )N(x |e )
t+1 t+1 t+1 t t 1:t
x t(c id:12)
= αNP(e |x ) P(x |x )P(x |e ) (b y 15.23)
t+1 t+1 t+1 t t 1:t
(c id:12)x t
= α(c id:2) P(e |x ) P(x |x )P(x |e )
t+1 t+1 t+1 t t 1:t
x t
= P(x |e ) (b y 15.5).
t+1 1:t+1
Th er ef or et he sa mp le po pu la ti on af te ro ne up da te cy cl ec or re ct ly re pr es en ts th ef or wa rd me s-
s ag ea tt im et+1.
"Pa rt ic le fi lt er in g i s c on si st en t , t he re fo re , b ut is it e ff ic ie nt ? In pr ac ti ce , i ts ee ms th at th e"
a ns we ri sy es: p ar ti cl e f il te ri ng se em st om ai nt ai n a go od ap pr ox im at io n t ot he tr ue po st er io r
"u si ng ac on st an tn um be ro fs am pl es . Un de rc er ta in as su mp ti on s—i np ar ti cu la r , t ha tt he pr ob-"
a bi li ti es i n t he t ra ns it io n a nd s en so r m od el s a re s tr ic tl y g re at er t ha n 0 a nd l es s t ha n 1—i t i s
p os si bl e t o p ro ve t ha t t he a pp ro xi ma ti on m ai nt ai ns b ou nd ed e rr or w it h h ig h p ro ba bi li ty . On
"t he p ra ct ic al s id e , t he r an ge o f a pp li ca ti on s h as g ro wn t o i nc lu de m an y f ie ld s o f s ci en ce a nd"
e ng in ee ri ng ; s om er ef er en ce s a re gi ve na tt he en do ft he ch ap te r .
15.6 KEEPING TRACK OF MANY OBJECTS
Th e p re ce di ng s ec ti on s h av e c on si de re d—w it ho ut m en ti on in g i t—s ta te e st im at io n p ro bl em s
"i nv ol vi ng a s in gl e o bj ec t . In t hi s s ec ti on , w e s ee w ha t h ap pe ns w he n t wo o r m or e o bj ec ts"
g en er at e t he o bs er va ti on s . Wh at m ak es t hi s c as e d if fe re nt f ro m p la in o ld s ta te e st im at io n i s
t ha t t he re i s n ow t he po ss ib il it y o f u nc er ta in ty a bo ut w hi ch o bj ec t g en er at ed w hi ch o bs er va-
"t io n . Th is is th ei de nt it yu nc er ta in ty pr ob le mo f Se ct io n 14.6.3(p ag e 544),n ow vi ew ed in a"
"t em po ra l c on te xt . In th ec on tr ol t he or y l it er at ur e , t hi s i s t he d at aa ss oc ia ti on p ro bl em—t ha t"
DATAASSOCIATION
"i s ,t he pr ob le m o fa ss oc ia ti ng o bs er va ti on d at aw it ht he ob je ct st ha tg en er at ed t he m ."
600 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
1 5 1 5
2 4 2 4
3 3
2 2
4 4
1 3 1 3
5 5
(a) (b)
t ra ck t er mi na ti on
1 5 1 5
2 4 2 4
3 3
d et ec ti on
f ai lu re
2 2
4 4
1 3 1 3
t ra ck
5 f al se a la rm i ni ti at io n 5
(c) (d)
Fi gu re 15.19 (a)Ob se rv at io ns ma de of ob je ct lo ca ti on si n 2 Ds pa ce ov er fi ve ti me st ep s .
Ea ch ob se rv at io ni sl ab el ed wi th th et im es te pb ut do es no ti de nt if yt he ob je ct th at pr od uc ed
i t . (b–c) Po ss ib le h yp ot he se sa bo ut t he u nd er ly in go bj ec t t ra ck s . (d) A h yp ot he si sf or t he
"c as ei nw hi ch fa ls ea la rm s ,d et ec ti on fa il ur es ,a nd tr ac ki ni ti at io n/t er mi na ti on ar ep os si bl e ."
"Th e d at a a ss oc ia ti on p ro bl em w as s tu di ed o ri gi na ll y i n t he c on te xt o f r ad ar t ra ck in g ,"
w he re re fl ec te dp ul se sa re de te ct ed at fi xe dt im ei nt er va ls by ar ot at in gr ad ar an te nn a . At ea ch
"t im es te p ,m ul ti pl eb li ps ma ya pp ea ro nt he sc re en ,b ut th er ei sn od ir ec to bs er va ti on of wh ic h"
b li ps a t t im et b el on g t o w hi ch b li ps a t t im et−1. Fi gu re 15.19(a) s ho ws a s im pl e e xa mp le
w it h t wo b li ps p er ti me s te p f or fi ve s te ps . Le t t he t wo b li p l oc at io ns a t t im e t b e e 1 a nd e 2.
t t
(Th el ab el in go fb li ps wi th in at im es te pa s“1”a nd“2”i sc om pl et el ya rb it ra ry an dc ar ri es no
"i nf or ma ti on .) Le tu sa ss um e ,f or th et im eb ei ng ,t ha te xa ct ly tw oa ir cr af t , Aa nd B ,g en er at ed"
"t he bl ip s ; t he ir tr ue p os it io ns a re XA a nd XB . Ju st t ok ee p t hi ng s s im pl e , w e’l l a ls oa ss um e"
t t
"t ha t t he e ac h a ir cr af t m ov es i nd ep en de nt ly a cc or di ng t o a k no wn t ra ns it io n m od el—e .g ., a"
l in ea r Ga us si an mo de la su se di nt he Ka lm an fi lt er(Se ct io n 15.4).
"Su pp os e w e t ry t o w ri te d ow n t he o ve ra ll p ro ba bi li ty m od el f or t hi s s ce na ri o , j us t a s"
"w e d id f or g en er al t em po ra l p ro ce ss es i n Eq ua ti on (15.3) o n p ag e 569. As u su al , t he j oi nt"
d is tr ib ut io n f ac to rs in to co nt ri bu ti on s f or ea ch ti me st ep a sf ol lo ws:
"P(x A ,x B ,e 1 ,e 2 ) ="
0:t 0:t 1:t 1:t
(c id:25)t
"P(x A)P(x B) P(x A|x A )P(x B|x B )P(e 1,e 2|x A ,x B). (15.24)"
0 0 i i−1 i i−1 i i i i
i=1
"We wo ul d l ik e t of ac to r t he o bs er va ti on t er m P(e 1,e 2|x A ,x B)i nt o a pr od uc t o ft wo te rm s ,"
i i i i
"o ne f or e ac h o bj ec t , b ut t hi s w ou ld r eq ui re k no wi ng w hi ch o bs er va ti on w as g en er at ed b y"
"w hi ch ob je ct . In st ea d , w eh av et os um ov er al lp os si bl e w ay so fa ss oc ia ti ng t he ob se rv at io ns"
Se ct io n 15.6. Ke ep in g Tr ac ko f Ma ny Ob je ct s 601
"w it h t he o bj ec ts . So me o f t ho se w ay s a re s ho wn i n Fi gu re 15.19(b–c); i n g en er al , f or n"
"o bj ec ts an d T t im es te ps ,t he re ar e (n !)T w ay so fd oi ng it—a na wf ul ly la rg en um be r ."
"Ma th em at ic al ly s pe ak in g , t he “w ay o f a ss oc ia ti ng t he o bs er va ti on s w it h t he o bj ec ts”"
i s a c ol le ct io n o f u no bs er ve d r an do m v ar ia bl e t ha t i de nt if y t he s ou rc e o f e ac h o bs er va ti on .
"We’l lw ri teω t od en ot e t he on e-t o-o ne m ap pi ng fr om ob je ct s t oo bs er va ti on s a tt im et ,w it h"
t
ω (A) a nd ω (B) d en ot in g t he s pe ci fi c o bs er va ti on s (1 o r 2) t ha t ω a ss ig ns t o A a nd B .
t t t
"(Fo r n o bj ec ts , ω w il l h av e n ! p os si bl e v al ue s ; h er e , n !=2.) Be ca us e t he l ab el s “1” a d"
t
"“2” o n t he o bs er va ti on s a re a ss ig ne d a rb it ra ri ly , t he p ri or o n ω i s u ni fo rm a nd ω i s i nd e-"
t t
"p en de nt o f t he s ta te s o f t he o bj ec ts , x A a nd x B). So w e c an c on di ti on t he o bs er va ti on t er m"
t t
"P(e 1,e 2|x A ,x B)o nω a nd th en si mp li fy:"
i i i i t (c id:12)
"P(e 1,e 2|x A ,x B) = P(e 1,e 2|x A ,x B ,ω )P(ω |x A ,x B)"
i i i i i i i i i i i i
(c id:12)ωi
"= P(eωi(A)|x A)P(eωi(B)|x B)P(ω |x A ,x B)"
i i i i i i i
ωi
(c id:12)
1
=
P(eωi(A)|x A)P(eωi(B)|x B).
2 i i i i
ωi
"Pl ug gi ng t hi s i nt o Eq ua ti on (15.24), w e g et a n e xp re ss io n t ha t i s o nl y i n t er ms o f t ra ns it io n"
a nd se ns or mo de ls fo ri nd iv id ua l o bj ec ts a nd ob se rv at io ns .
"As f or a ll p ro ba bi li ty m od el s , i nf er en ce m ea ns s um mi ng o ut t he v ar ia bl es o th er t ha n"
"t he q ue ry a nd t he e vi de nc e . Fo rf il te ri ng i n HMMs a nd DBNs , w ew er e a bl e t o s um o ut t he"
"s ta te va ri ab le sf ro m 1 t ot−1 b ya si mp le dy na mi cp ro gr am mi ng tr ic k ;f or Ka lm an fi lt er s ,w e"
"t oo ka dv an ta ge of sp ec ia lp ro pe rt ie so f Ga us si an s . Fo rd at aa ss oc ia ti on , w ea re le ss fo rt un at e ."
"Th er e i s n o (k no wn) e ff ic ie nt e xa ct a lg or it hm , f or t he s am e r ea so n t ha t t he re i s n on e f or t he"
"s wi tc hi ng Ka lm an f il te r (p ag e 589): t he f il te ri ng d is tr ib ut io n P(x A|e 1 ,e 2 ) f or o bj ec t A"
t 1:t 1:t
"e nd s u p a s a m ix tu re o f e xp on en ti al ly m an y d is tr ib ut io ns , o ne f or e ac h w ay o f p ic ki ng a"
s eq ue nc e o fo bs er va ti on s t oa ss ig nt o A .
"As a r es ul t o f t he c om pl ex it y o f e xa ct i nf er en ce , m an y d if fe re nt a pp ro xi ma te m et ho ds"
h av e b ee n u se d . Th e s im pl es t a pp ro ac h i s t o c ho os e a s in gl e “b es t” a ss ig nm en t a t e ac h t im e
"s te p , g iv en t he p re di ct ed p os it io ns o f t he o bj ec ts a t t he c ur re nt t im e s te p . Th is a ss ig nm en t"
a ss oc ia te s o bs er va ti on s w it h o bj ec ts a nd e na bl es t he t ra ck o f e ac h o bj ec t t o b e u pd at ed a nd
"a p re di ct io n m ad e f or t he n ex t t im e s te p . Fo rc ho os in g t he “b es t” a ss ig nm en t , i t i s c om mo n"
"NEAREST-NEIGHBOR t o u se t he s o-c al le d n ea re st-n ei gh bo r f il te r , w hi ch r ep ea te dl y c ho os es t he c lo se st p ai ri ng"
FILTER
o f p re di ct ed p os it io n a nd o bs er va ti on a nd a dd s t ha t p ai ri ng t o t he a ss ig nm en t . Th e n ea re st-
n ei gh bo rf il te rw or ks we ll wh en th eo bj ec ts ar ew el ls ep ar at ed in st at es pa ce an dt he pr ed ic ti on
"u nc er ta in ty a nd o bs er va ti on e rr or a re s ma ll—i n o th er w or ds , w he n t he re i s n o p os si bi li ty o f"
"c on fu si on . Wh en t he re i s m or e u nc er ta in ty a s t o t he c or re ct a ss ig nm en t , a b et te r a pp ro ac h"
i s t o c ho os e t he a ss ig nm en t t ha t m ax im iz es t he j oi nt p ro ba bi li ty o f t he c ur re nt o bs er va ti on s
g iv en t he p re di ct ed p os it io ns . Th is c an b e d on e v er y e ff ic ie nt ly u si ng t he Hu ng ar ia n a lg o-
"HUNGARIAN r it hm(Ku hn ,1955), e ve nt ho ug ht he re ar en !a ss ig nm en ts t oc ho os ef ro m ."
ALGORITHM
An ym et ho d t ha t c om mi ts t oa si ng le b es t a ss ig nm en t a te ac h t im es te p f ai ls m is er ab ly
"u nd er m or e d if fi cu lt c on di ti on s . In p ar ti cu la r , i f t he a lg or it hm c om mi ts t o a n i nc or re ct a s-"
"s ig nm en t , t he p re di ct io n a t t he n ex t t im e s te p m ay b e s ig ni fi ca nt ly w ro ng , l ea di ng t o m or e"
602 Ch ap te r 15. Pr ob ab il is ti c Re as on in g o ve r Ti me
(a) (b)
Fi gu re 15.20 Im ag es fr om(a)u ps tr ea ma nd(b)d ow ns tr ea ms ur ve il la nc ec am er as ro ug hl y
"t wo m il es a pa rt o n Hi gh wa y 99 i n Sa cr am en to , Ca li fo rn ia . Th e b ox ed v eh ic le h as b ee n"
i de nt if ie da tb ot hc am er as .
"i nc or re ct a ss ig nm en ts , a nd s o o n . Tw o m od er n a pp ro ac he s t ur n o ut t o b e m uc h m or e e ff ec-"
t iv e . Ap ar ti cl ef il te ri ng al go ri th m (s ee pa ge 598)f or da ta as so ci at io n w or ks by ma in ta in in g
a la rg e c ol le ct io n o fp os si bl e c ur re nt a ss ig nm en ts . An MCMCa lg or it hm e xp lo re s t he sp ac e
"o fa ss ig nm en t h is to ri es—f or e xa mp le , Fi gu re 15.19(b–c) m ig ht be st at es in th e MCMCs ta te"
s pa ce—a nd c an c ha ng e i ts m in d a bo ut p re vi ou s a ss ig nm en t d ec is io ns . Cu rr en t MCMCd at a
a ss oc ia ti on m et ho ds c an h an dl e m an y h un dr ed s o f o bj ec ts i n r ea l t im e w hi le g iv in g a g oo d
a pp ro xi ma ti on t ot he tr ue po st er io rd is tr ib ut io ns .
Th e s ce na ri o d es cr ib ed s o f ar i nv ol ve d n k no wn o bj ec ts g en er at in g n o bs er va ti on s a t
e ac h t im e s te p . Re al a pp li ca ti on o f d at a a ss oc ia ti on a re t yp ic al ly m uc h m or e c om pl ic at ed .
"Of te n ,t he re po rt ed o bs er va ti on s i nc lu de f al se al ar ms(a ls ok no wn as cl ut te r),w hi ch ar en ot"
FALSEALARM
"c au se db yr ea lo bj ec ts . De te ct io nf ai lu re sc an oc cu r ,m ea ni ng th at no ob se rv at io ni sr ep or te d"
CLUTTER
"f or ar ea lo bj ec t . Fi na ll y ,n ew ob je ct sa rr iv ea nd ol do ne sd is ap pe ar . Th es ep he no me na ,w hi ch"
DETECTIONFAILURE
"c re at ee ve nm or ep os si bl e w or ld st ow or ry ab ou t , a re il lu st ra te d i n Fi gu re 15.19(d)."
Fi gu re 15.20 s ho ws tw oi ma ge sf ro mw id el ys ep ar at ed ca me ra so na Ca li fo rn ia fr ee wa y .
"In th is a pp li ca ti on , w ea re in te re st ed i nt wo go al s: e st im at in g t he ti me it ta ke s , u nd er cu rr en t"
"t ra ff ic c on di ti on s , t o g o f ro m o ne p la ce t o a no th er i n t he f re ew ay s ys te m ; a nd m ea su ri ng"
"d em an d , i .e ., h ow m an y v eh ic le s t ra ve l b et we en a ny t wo p oi nt s i n t he s ys te m a t p ar ti cu la r"
t im es o f t he d ay a nd o n p ar ti cu la r d ay s o f t he w ee k . Bo th g oa ls r eq ui re s ol vi ng t he d at a
a ss oc ia ti on p ro bl em o ve r a w id e a re a w it h m an y c am er as a nd t en s o f t ho us an ds o f v eh ic le s
"p er h ou r . Wi th v is ua l s ur ve il la nc e , f al se a la rm s a re c au se d b y m ov in g s ha do ws , a rt ic ul at ed"
"v eh ic le s ,r ef le ct io ns in pu dd le s ,e tc .;d et ec ti on fa il ur es ar ec au se db yo cc lu si on ,f og ,d ar kn es s ,"
a nd l ac k o f v is ua l c on tr as t ; a nd v eh ic le s a re c on st an tl y e nt er in g a nd l ea vi ng t he f re ew ay
"s ys te m . Fu rt he rm or e , t he a pp ea ra nc e o f a ny g iv en v eh ic le c an c ha ng e d ra ma ti ca ll y b et we en"
"c am er as d ep en di ng o n l ig ht in g c on di ti on s a nd v eh ic le p os e i n t he i ma ge , a nd t he t ra ns it io n"
"m od el ch an ge sa st ra ff ic ja ms co me an dg o . De sp it et he se pr ob le ms ,m od er nd at aa ss oc ia ti on"
a lg or it hm s h av eb ee ns uc ce ss fu l i ne st im at in g t ra ff ic pa ra me te rs i nr ea l-w or ld s et ti ng s .
16
MAKING SIMPLE
DECISIONS
In wh ic hw es ee ho wa na ge nt sh ou ld ma ke de ci si on ss ot ha ti tg et sw ha ti tw an ts—
"o na ve ra ge , a tl ea st ."
"In th is ch ap te r , w ef il li nt he de ta il so fh ow ut il it yt he or yc om bi ne sw it hp ro ba bi li ty t he or yt o"
y ie ld a de ci si on-t he or et ic a ge nt—a n a ge nt t ha t c an m ak e r at io na l d ec is io ns b as ed o n w ha ti t
b el ie ve sa nd wh at it wa nt s . Su ch an ag en tc an ma ke de ci si on si nc on te xt si nw hi ch un ce rt ai nt y
a nd c on fl ic ti ng g oa ls l ea ve a l og ic al a ge nt w it h n o w ay t o d ec id e: a g oa l-b as ed a ge nt h as a
"b in ar y d is ti nc ti on b et we en g oo d (g oa l) a nd b ad (n on-g oa l) s ta te s , w hi le a d ec is io n-t he or et ic"
a ge nt ha sa co nt in uo us m ea su re of ou tc om eq ua li ty .
Se ct io n 16.1 i nt ro du ce s t he b as ic p ri nc ip le o f d ec is io n t he or y: t he m ax im iz at io n o f
e xp ec te d u ti li ty . Se ct io n 16.2 s ho ws t ha t t he b eh av io r o f a ny r at io na l a ge nt c an b e c ap tu re d
b ys up po si ng a ut il it y f un ct io n t ha ti sb ei ng ma xi mi ze d . Se ct io n 16.3 d is cu ss es t he na tu re of
"u ti li ty fu nc ti on si nm or ed et ai l ,a nd in pa rt ic ul ar th ei rr el at io nt oi nd iv id ua lq ua nt it ie ss uc ha s"
m on ey . Se ct io n 16.4 s ho ws ho wt oh an dl eu ti li ty fu nc ti on s t ha td ep en do ns ev er al qu an ti ti es .
"In Se ct io n 16.5, w e d es cr ib e t he i mp le me nt at io n o f d ec is io n-m ak in g s ys te ms . In p ar ti cu la r ,"
w ei nt ro du ce a fo rm al is m c al le d a d ec is io n n et wo rk (a ls o k no wn a sa ni nf lu en ce di ag ra m)
t ha t e xt en ds Ba ye si an n et wo rk s b y i nc or po ra ti ng a ct io ns a nd u ti li ti es . Th e r em ai nd er o f t he
c ha pt er di sc us se s i ss ue st ha ta ri se in ap pl ic at io ns o fd ec is io nt he or yt oe xp er ts ys te ms .
16.1 COMBINING BELIEFS AND DESIRES UNDER UNCERTAINTY
"De ci si on t he or y , i ni ts si mp le st f or m , d ea ls w it hc ho os in g a mo ng a ct io ns b as ed o n t he de si r-"
"a bi li ty of th ei ri mm ed ia te ou tc om es ; t ha ti s ,t he en vi ro nm en t i sa ss um ed to be ep is od ic i nt he"
s en se d ef in ed o n p ag e 43. (Th is as su mp ti on i sr el ax ed i n Ch ap te r 17.) In Ch ap te r 3 w eu se d
"t he n ot at io n RESULT(s 0,a) f or t he s ta te t ha t i s t he d et er mi ni st ic o ut co me o f t ak in g a ct io n a"
i n s ta te s . In t hi s c ha pt er w ed ea l w it hn on de te rm in is ti c p ar ti al ly o bs er va bl e e nv ir on me nt s .
0
"Si nc et he ag en tm ay no tk no wt he cu rr en ts ta te ,w eo mi ti ta nd de fi ne RESULT(a)a sa ra nd om"
(c id:2)
"v ar ia bl e w ho se v al ue s a re th ep os si bl e o ut co me s ta te s . Th ep ro ba bi li ty o f o ut co me s , g iv en"
"e vi de nc e o bs er va ti on s e ,i sw ri tt en"
"P(RESULT(a)=s(c id:2)|a ,e),"
610
Se ct io n 16.2. Th e Ba si so f Ut il it y Th eo ry 611
w he re th ea on th er ig ht-h an ds id eo ft he co nd it io ni ng b ar st an ds fo rt he e ve nt th at ac ti on ai s
e xe cu te d .1
"Th ea ge nt’s pr ef er en ce sa re ca pt ur ed by au ti li ty fu nc ti on ,U(s),w hi ch as si gn sa si ng le"
UTILITYFUNCTION
n um be rt oe xp re ss th ed es ir ab il it y o fa st at e . Th e e xp ec te d u ti li ty of an ac ti on gi ve nt he ev i-
EXPECTEDUTILITY
"d en ce ,EU(a|e),i sj us tt he av er ag eu ti li ty va lu eo ft he ou tc om es ,w ei gh te db yt he pr ob ab il it y"
t ha tt he ou tc om eo cc ur s:
(c id:12)
"EU(a|e) = P(RESULT(a)=s(c id:2)|a ,e)U(s(c id:2) ). (16.1)"
s(c id:3)
MAXIMUMEXPECTED Th ep ri nc ip le o fm ax im um ex pe ct ed ut il it y(MEU)s ay st ha ta ra ti on al a ge nt sh ou ld ch oo se
UTILITY
t he ac ti on th at ma xi mi ze st he ag en t’s e xp ec te du ti li ty:
a ct io n = a rg ma x EU(a|e)
a
"In as en se ,t he MEUp ri nc ip le co ul db es ee na sd ef in in ga ll of AI .Al la ni nt el li ge nt a ge nt ha s"
"t o d o i s c al cu la te t he v ar io us q ua nt it ie s , m ax im iz e u ti li ty o ve r i ts a ct io ns , a nd a wa y i t g oe s ."
Bu tt hi sd oe sn ot me an th at th e AIp ro bl em is so lv ed by th ed ef in it io n !
Th e MEU p ri nc ip le f or ma li ze s t he g en er al n ot io n t ha t t he a ge nt s ho ul d “d o t he r ig ht
"t hi ng ,” b ut g oe s o nl y a s ma ll d is ta nc e t ow ar d a f ul l o pe ra ti on al iz at io n o f t ha t a dv ic e . Es-"
"t im at in g t he s ta te o f t he w or ld r eq ui re s p er ce pt io n , l ea rn in g , k no wl ed ge r ep re se nt at io n , a nd"
"i nf er en ce . Co mp ut in g P(RESULT(a)|a ,e) r eq ui re s a c om pl et e c au sa l m od el o f t he w or ld"
"a nd ,a sw es aw in Ch ap te r 14,NP-h ar di nf er en ce in(v er yl ar ge)Ba ye si an ne tw or ks . Co mp ut-"
(c id:2)
"i ng t he o ut co me u ti li ti es U(s) o ft en r eq ui re s s ea rc hi ng o r p la nn in g , b ec au se a n a ge nt m ay"
"n ot k no w h ow g oo d a st at e i s u nt il i tk no ws w he re i t c an g et t o f ro m t ha t s ta te . So , d ec is io n"
t he or yi sn ot ap an ac ea t ha ts ol ve st he AIp ro bl em—b ut i td oe s p ro vi de au se fu lf ra me wo rk .
Th e MEUp ri nc ip le ha sa cl ea rr el at io nt ot he id ea of pe rf or ma nc em ea su re si nt ro du ce d
i n Ch ap te r 2. Th e b as ic i de a i s s im pl e . Co ns id er t he e nv ir on me nt s t ha t c ou ld l ea d t o a n
"a ge nt h av in g a g iv en p er ce pt h is to ry , a nd c on si de r t he d if fe re nt a ge nt s t ha t w ec ou ld d es ig n ."
If a n a ge nt a ct s s o a s t o m ax im iz e a u ti li ty f un ct io n t ha t c or re ct ly r ef le ct s t he p er fo rm an ce
"m ea su re , t he n t he a ge nt w il l a ch ie ve t he h ig he st p os si bl e p er fo rm an ce s co re (a ve ra ge d o ve r"
a ll t he p os si bl e e nv ir on me nt s). Th is i s t he c en tr al j us ti fi ca ti on f or t he MEU p ri nc ip le i ts el f .
"Wh il e t he c la im m ay s ee m t au to lo gi ca l , i t d oe s i n f ac t e mb od y a v er y i mp or ta nt t ra ns it io n"
"f ro m a g lo ba l , e xt er na l c ri te ri on o f r at io na li ty—t he p er fo rm an ce m ea su re o ve r e nv ir on me nt"
"h is to ri es—t oa lo ca l ,i nt er na lc ri te ri on in vo lv in gt he ma xi mi za ti on of au ti li ty fu nc ti on ap pl ie d"
t ot he ne xt st at e .
16.2 THE BASIS OF UTILITY THEORY
"In tu it iv el y , t he p ri nc ip le o f Ma xi mu m Ex pe ct ed Ut il it y (MEU) s ee ms l ik e a r ea so na bl e w ay"
"t o m ak e d ec is io ns , b ut i t i s b y n o m ea ns o bv io us t ha t i t i s t he o nl y r at io na l w ay . Af te r a ll ,"
w hy s ho ul d m ax im iz in g t he a ve ra ge u ti li ty b e s o s pe ci al ? Wh at’s w ro ng w it h a n a ge nt t ha t
"1 Cl as si ca ld ec is io nt he or yl Pe av es th ec ur re nt st at e S 0 i mp li ci t ,b ut we co ul dm ak ei te xp li ci tb yw ri ti ng"
"P(RESULT(a)=s(c id:3)|a ,e)= s P(RESULT(s ,a)=s(c id:3)|a)P(S 0=s|e)."
612 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
"m ax im iz es t he w ei gh te d s um o f t he c ub es o f t he p os si bl e u ti li ti es , o r t ri es t o m in im iz e t he"
w or st p os si bl e l os s ? Co ul d a n a ge nt a ct r at io na ll y j us t b y e xp re ss in g p re fe re nc es b et we en
"s ta te s , w it ho ut g iv in g t he m n um er ic v al ue s ? Fi na ll y , w hy s ho ul d a u ti li ty f un ct io n w it h t he"
r eq ui re d p ro pe rt ie s e xi st at al l ? We sh al ls ee .
16.2.1 Co ns tr ai nt s o nr at io na lp re fe re nc es
Th es eq ue st io ns c an be an sw er ed by wr it in gd ow ns om ec on st ra in ts o nt he pr ef er en ce s t ha ta
r at io na l a ge nt sh ou ld ha ve an dt he ns ho wi ng th at th e MEUp ri nc ip le c an be de ri ve df ro mt he
c on st ra in ts . We us et he fo ll ow in gn ot at io n t od es cr ib e a na ge nt’s pr ef er en ce s:
A ’ B t he ag en tp re fe rs Ao ve r B .
A ∼ B t he ag en ti si nd if fe re nt b et we en Aa nd B .
’
A ∼ B t he ag en tp re fe rs Ao ve r B o ri si nd if fe re nt b et we en th em .
"No w t he o bv io us q ue st io n i s , w ha t s or ts o f t hi ng s a re A a nd B ? Th ey c ou ld b e s ta te s o f t he"
"w or ld , b ut m or e o ft en t ha n n ot t he re i s u nc er ta in ty a bo ut w ha t i s r ea ll y b ei ng o ff er ed . Fo r"
"e xa mp le , a n a ir li ne p as se ng er w ho i s o ff er ed “t he p as ta d is h o r t he c hi ck en” d oe s n ot k no w"
"w ha tl ur ks be ne at h t he ti nf oi lc ov er .2 Th ep as ta co ul db ed el ic io us o rc on ge al ed , t he ch ic ke n"
j ui cy or ov er co ok ed b ey on dr ec og ni ti on . We ca nt hi nk of th es et of ou tc om es f or ea ch ac ti on
"a sa lo tt er y—t hi nk o fe ac ha ct io na sa ti ck et . Al ot te ry Lw it hp os si bl eo ut co me s S ,...,S"
LOTTERY 1 n
"t ha to cc ur wi th pr ob ab il it ie s p ,...,p i sw ri tt en"
1 n
"L = [p ,S ; p ,S ; ... p ,S ]."
1 1 2 2 n n
"In ge ne ra l , e ac h o ut co me S o fa lo tt er y c an be ei th er a na to mi cs ta te o ra no th er l ot te ry . Th e"
i
p ri ma ry i ss ue f or u ti li ty t he or y i s t o u nd er st an d h ow p re fe re nc es b et we en c om pl ex l ot te ri es
a re r el at ed t o p re fe re nc es b et we en t he u nd er ly in g s ta te s i n t ho se l ot te ri es . To a dd re ss t hi s
i ss ue we li st si xc on st ra in ts t ha tw er eq ui re a ny re as on ab le p re fe re nc e r el at io nt oo be y:
"• Or de ra bi li ty: Gi ve n a ny t wo l ot te ri es , a r at io na l a ge nt m us t e it he r p re fe r o ne t o t he"
ORDERABILITY
"o th er or el se ra te th et wo as eq ua ll yp re fe ra bl e . Th at is ,t he a ge nt ca nn ot av oi dd ec id in g ."
"As we sa id on pa ge 490,r ef us in g t ob et is li ke re fu si ng t oa ll ow ti me to pa ss ."
"Ex ac tl yo ne of(A ’B), (B ’ A), o r(A ∼ B)h ol ds ."
"• Tr an si ti vi ty: Gi ve na ny t hr ee l ot te ri es , i fa n a ge nt p re fe rs At o B a nd p re fe rs B t o C ,"
TRANSITIVITY
t he nt he ag en tm us tp re fe r At o C .
(A ’ B)∧(B ’ C) ⇒ (A ’ C).
"• Co nt in ui ty: If s om e l ot te ry B i s b et we en A a nd C i n p re fe re nc e , t he n t he re i s s om e"
CONTINUITY
p ro ba bi li ty p fo rw hi ch th er at io na la ge nt wi ll be in di ff er en tb et we en ge tt in g B f or su re
a nd th el ot te ry th at yi el ds Aw it hp ro ba bi li ty p an d C w it hp ro ba bi li ty 1−p .
"A’ B ’ C ⇒ ∃p [p ,A ; 1−p ,C] ∼ B ."
"• Su bs ti tu ta bi li ty: If a n a ge nt i s i nd if fe re nt b et we en t wo l ot te ri es A a nd B , t he n t he"
SUBSTITUTABILITY
a ge nt is in di ff er en tb et we en tw om or ec om pl ex lo tt er ie st ha ta re th es am ee xc ep tt ha t B
2 We ap ol og iz et or ea de rs wh os el oc al ai rl in es no lo ng er of fe rf oo do nl on gf li gh ts .
Se ct io n 16.2. Th e Ba si so f Ut il it y Th eo ry 613
i s s ub st it ut ed f or A i n o ne o f t he m . Th is h ol ds r eg ar dl es s o f t he p ro ba bi li ti es a nd t he
o th er ou tc om e(s) i nt he lo tt er ie s .
"A∼ B ⇒ [p ,A ; 1−p ,C]∼ [p ,B ;1−p ,C]."
Th is al so ho ld si fw es ub st it ut e ’f or∼i nt hi sa xi om .
"• Mo no to ni ci ty: Su pp os e t wo l ot te ri es h av e t he s am et wo p os si bl e o ut co me s , Aa nd B ."
MONOTONICITY
"If a n a ge nt p re fe rs A t o B , t he n t he a ge nt m us t p re fe r t he l ot te ry t ha t h as a h ig he r"
p ro ba bi li ty f or A(a nd vi ce ve rs a).
"A’ B ⇒ (p > q ⇔ [p ,A ; 1−p ,B]’ [q ,A ; 1−q ,B])."
• De co mp os ab il it y: Co mp ou nd l ot te ri es c an b e r ed uc ed t o s im pl er o ne s u si ng t he l aw s
DECOMPOSABILITY
o f p ro ba bi li ty . Th is h as b ee n c al le d t he “n o f un i n g am bl in g” r ul e b ec au se i t s ay s t ha t
"t wo c on se cu ti ve l ot te ri es c an b e c om pr es se d i nt o a s in gl e e qu iv al en t l ot te ry , a s s ho wn"
i n Fi gu re 16.1(b).3
"[p ,A ; 1−p ,[q ,B ; 1−q ,C]]∼ [p ,A ; (1−p)q ,B ; (1−p)(1−q),C]."
Th es e c on st ra in ts a re k no wn a s t he a xi om s o f u ti li ty t he or y . Ea ch a xi om c an b e m ot iv at ed
b y s ho wi ng t ha t a n a ge nt t ha t v io la te s i t w il l e xh ib it p at en tl y i rr at io na l b eh av io r i n s om e
"s it ua ti on s . Fo re xa mp le , w e c an m ot iv at e t ra ns it iv it y b y m ak in g a n a ge nt w it h n on tr an si ti ve"
p re fe re nc es g iv e u s a ll i ts m on ey . Su pp os e t ha t t he a ge nt h as t he n on tr an si ti ve p re fe re nc es
"A ’ B ’ C ’ A , w he re A , B , a nd C a re g oo ds t ha t c an b e f re el y e xc ha ng ed . If t he a ge nt"
"c ur re nt ly h as A , t he n w e c ou ld o ff er t o t ra de C f or A p lu s o ne c en t . Th e a ge nt p re fe rs C ,"
"a nd so wo ul d b ew il li ng t om ak et hi st ra de . We co ul d t he n o ff er t ot ra de B f or C ,e xt ra ct in g"
"a no th er c en t , a nd f in al ly t ra de A f or B . Th is b ri ng s u s b ac k w he re w e s ta rt ed f ro m , e xc ep t"
t ha t t he ag en t h as gi ve n u st hr ee c en ts (Fi gu re 16.1(a)). We ca nk ee p g oi ng a ro un d t he cy cl e
"u nt il th ea ge nt ha sn om on ey at al l . Cl ea rl y , t he ag en th as ac te di rr at io na ll y i nt hi sc as e ."
16.2.2 Pr ef er en ce s l ea dt o u ti li ty
No ti ce th at th ea xi om so fu ti li ty th eo ry ar er ea ll ya xi om sa bo ut pr ef er en ce s—t he ys ay no th in g
a bo ut a u ti li ty f un ct io n . Bu t i n f ac t f ro m t he a xi om s o f u ti li ty w e c an d er iv e t he f ol lo wi ng
"c on se qu en ce s (f or th ep ro of , s ee vo n Ne um an na nd Mo rg en st er n , 1944):"
"• Ex is te nc eo f Ut il it y Fu nc ti on: If an ag en t’s pr ef er en ce so be yt he ax io ms of ut il it y ,t he n"
"t he re e xi st s a f un ct io n U s uc h t ha t U(A) > U(B) i f a nd o nl y i f A i s p re fe rr ed t o B ,"
a nd U(A) = U(B)i fa nd on ly if th ea ge nt is in di ff er en t b et we en Aa nd B .
U(A) > U(B) ⇔ A’ B
U(A) = U(B) ⇔ A∼ B
• Ex pe ct ed Ut il it y o f a Lo tt er y: Th eu ti li ty o f a l ot te ry i s t he s um o f t he p ro ba bi li ty o f
e ac ho ut co me ti me st he ut il it yo ft ha to ut co me .
(c id:12)
"U([p ,S ;...;p ,S ]) = p U(S )."
1 1 n n i i
i
3 We ca n a cc ou nt f or th e e nj oy me nt o f g am bl in g b y e nc od in g g am bl in g e ve nt s i nt ot he st at ed es cr ip ti on ; f or
"e xa mp le ,“Ha ve$10 a nd ga mb le d”c ou ld be pr ef er re dt o“Ha ve$10 a nd di dn’t ga mb le .”"
614 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
A
p
A B
q
1¢ 1¢
(1–p)
(1–q)
C
i s e qu iv al en t t o
A
B C p
(1–p)q
B
1¢
(1–p)(1–q) C
(a) (b)
Fi gu re 16.1 (a) A c yc le o f e xc ha ng es s ho wi ng t ha t t he n on tr an si ti ve p re fe re nc es A ’
B ’C ’Ar es ul ti ni rr at io na lb eh av io r .(b)Th ed ec om po sa bi li ty ax io m .
"In ot he rw or ds ,o nc et he pr ob ab il it ie sa nd ut il it ie so ft he po ss ib le ou tc om es ta te sa re sp ec if ie d ,"
t he ut il it yo fa co mp ou nd lo tt er yi nv ol vi ng th os es ta te si sc om pl et el yd et er mi ne d . Be ca us et he
"o ut co me of an on de te rm in is ti c a ct io ni sa lo tt er y ,i tf ol lo ws th at an ag en tc an ac tr at io na ll y—"
"t ha ti s ,c on si st en tl yw it hi ts pr ef er en ce s—o nl yb yc ho os in ga na ct io nt ha tm ax im iz es ex pe ct ed"
u ti li ty ac co rd in g t o Eq ua ti on(16.1).
"Th ep re ce di ng th eo re ms es ta bl is ht ha ta ut il it yf un ct io ne xi st sf or an yr at io na la ge nt ,b ut"
"t he yd on ot es ta bl is h t ha ti ti su ni qu e . It is ea sy to se e ,i nf ac t ,t ha ta na ge nt’s be ha vi or wo ul d"
n ot ch an ge if it su ti li ty fu nc ti on U(S)w er et ra ns fo rm ed a cc or di ng t o
(c id:2)
"U (S)= a U(S)+b , (16.2)"
w he re a a nd b a re c on st an ts a nd a > 0; a n a ff in e t ra ns fo rm at io n .4 Th is f ac t w as n ot ed i n
"Ch ap te r 5 f or tw o-p la ye rg am es of ch an ce ;h er e ,w es ee th at it i sc om pl et el yg en er al ."
"As i n g am e-p la yi ng , i n a d et er mi ni st ic e nv ir on me nt a n a ge nt j us t n ee ds a p re fe re nc e"
r an ki ng o n s ta te s—t he n um be rs d on’t m at te r . Th is i s c al le d a v al ue f un ct io n o r o rd in al
VALUEFUNCTION
ORDINALUTILITY u ti li ty fu nc ti on .
FUNCTION
It i s i mp or ta nt t o r em em be r t ha t t he e xi st en ce o f a u ti li ty f un ct io n t ha t d es cr ib es a n
a ge nt’s pr ef er en ce be ha vi or do es no tn ec es sa ri ly me an th at t he ag en ti se xp li ci tl ym ax im iz in g
"t ha tu ti li ty fu nc ti on in it so wn de li be ra ti on s . As we sh ow ed in Ch ap te r 2,r at io na lb eh av io rc an"
"b e g en er at ed i n a ny n um be r o f w ay s . By o bs er vi ng a r at io na l a ge nt’s p re fe re nc es , h ow ev er ,"
a no bs er ve rc an co ns tr uc t t he ut il it yf un ct io n t ha tr ep re se nt s w ha tt he ag en ti sa ct ua ll y t ry in g
t oa ch ie ve(e ve ni ft he ag en td oe sn’t k no wi t).
"4 In th is se ns e ,u ti li ti es re se mb le te mp er at ur es:a te mp er at ur ei n Fa hr en he it is 1.8 t im es th e Ce ls iu st em pe ra tu re"
p lu s 32.Yo ug et th es am er es ul ts in ei th er me as ur em en ts ys te m .
Se ct io n 16.3. Ut il it y Fu nc ti on s 615
16.3 UTILITY FUNCTIONS
Ut il it yi sa fu nc ti on th at ma ps fr om lo tt er ie st or ea ln um be rs . We kn ow th er ea re so me ax io ms
o n u ti li ti es t ha t a ll r at io na l a ge nt s m us t o be y . Is t ha t a ll w e c an s ay a bo ut u ti li ty f un ct io ns ?
"St ri ct ly sp ea ki ng , t ha ti si t: a na ge nt ca nh av ea ny pr ef er en ce s i tl ik es . Fo re xa mp le ,a na ge nt"
"m ig ht pr ef er to ha ve ap ri me nu mb er of do ll ar si ni ts ba nk ac co un t ;i nw hi ch ca se ,i fi th ad$16"
"i tw ou ld gi ve aw ay$3. Th is mi gh tb eu nu su al , b ut we ca n’t c al li ti rr at io na l . An ag en tm ig ht"
p re fe r a de nt ed 1973 Fo rd Pi nt o t oa s hi ny n ew Me rc ed es . Pr ef er en ce s c an a ls o i nt er ac t: f or
"e xa mp le , t he a ge nt m ig ht p re fe r p ri me n um be rs o f d ol la rs o nl y w he n i t o wn s t he Pi nt o , b ut"
"w he ni to wn st he Me rc ed es ,i tm ig ht pr ef er mo re do ll ar st of ew er . Fo rt un at el y ,t he pr ef er en ce s"
"o fr ea la ge nt sa re us ua ll y m or es ys te ma ti c , a nd th us ea si er to de al wi th ."
16.3.1 Ut il it ya ss es sm en ta nd ut il it y s ca le s
If w e w an t t o b ui ld a d ec is io n-t he or et ic s ys te m t ha t h el ps t he a ge nt m ak e d ec is io ns o r a ct s
"o nh is or he rb eh al f , w em us tf ir st wo rk ou tw ha tt he ag en t’s ut il it yf un ct io n i s . Th is pr oc es s ,"
"PREFERENCE o ft en c al le d p re fe re nc e e li ci ta ti on , i nv ol ve s p re se nt in g c ho ic es t o t he a ge nt a nd u si ng t he"
ELICITATION
o bs er ve d p re fe re nc es t op in do wn th eu nd er ly in g u ti li ty fu nc ti on .
"Eq ua ti on(16.2)s ay st ha tt he re is no ab so lu te sc al ef or ut il it ie s ,b ut it is he lp fu l ,n on et he-"
"l es s ,t oe st ab li sh so me sc al eo nw hi ch ut il it ie sc an be re co rd ed an dc om pa re df or an y p ar ti cu-"
"l ar pr ob le m . As ca le ca nb ee st ab li sh ed b yf ix in gt he ut il it ie so fa ny tw op ar ti cu la ro ut co me s ,"
j us t a s w e f ix a t em pe ra tu re s ca le b y f ix in g t he f re ez in g p oi nt a nd b oi li ng p oi nt o f w at er .
"Ty pi ca ll y , w e f ix t he u ti li ty o f a “b es t p os si bl e p ri ze” a t U(S) = u(c id:12) a nd a “w or st p os si bl e"
NORMALIZED c at as tr op he” a t U(S) = u⊥. No rm al iz ed ut il it ie su se as ca le wi th u⊥ = 0 a nd u(c id:12) = 1.
UTILITIES
"Gi ve n a u ti li ty s ca le b et we en u(c id:12) a nd u⊥, w e c an a ss es s t he u ti li ty o f a ny p ar ti cu la r"
STANDARDLOTTERY
"p ri ze S b ya sk in gt he ag en tt oc ho os eb et we en S a nd as ta nd ar dl ot te ry[p ,u(c id:12); (1−p),u⊥]."
Th ep ro ba bi li ty p is ad ju st ed un ti lt he ag en ti si nd if fe re nt be tw ee n S a nd th es ta nd ar dl ot te ry .
"As su mi ng no rm al iz ed ut il it ie s ,t he ut il it yo f S i sg iv en by p . On ce th is is do ne fo re ac hp ri ze ,"
t he ut il it ie sf or al ll ot te ri es in vo lv in g t ho se pr iz es ar ed et er mi ne d .
"In m ed ic al , t ra ns po rt at io n , a nd e nv ir on me nt al d ec is io n p ro bl em s , a mo ng o th er s , p eo-"
"p le’s li ve sa re at st ak e . In su ch ca se s ,u⊥ i st he va lu ea ss ig ne dt oi mm ed ia te de at h(o rp er ha ps"
"m an y d ea th s). Al th ou gh n ob od y f ee ls c om fo rt ab le w it hp ut ti ng a va lu e o n h um an l if e , i ti sa"
f ac t t ha t t ra de of fs a re m ad e a ll t he t im e . Ai rc ra ft a re g iv en a c om pl et e o ve rh au l a t i nt er va ls
"d et er mi ne d b y t ri ps a nd m il es f lo wn , r at he r t ha n a ft er e ve ry t ri p . Ca rs a re m an uf ac tu re d i n"
"a w ay t ha t t ra de s o ff c os ts a ga in st a cc id en t s ur vi va l r at es . Pa ra do xi ca ll y , a r ef us al t o “p ut a"
m on et ar y v al ue o n l if e” m ea ns t ha t l if e i s o ft en u nd er va lu ed . Ro ss Sh ac ht er r el at es a n e x-
p er ie nc e w it h a g ov er nm en t a ge nc y t ha t c om mi ss io ne d a s tu dy o n r em ov in g a sb es to s f ro m
s ch oo ls . Th ed ec is io na na ly st sp er fo rm in gt he st ud ya ss um ed ap ar ti cu la rd ol la rv al ue fo rt he
"l if e o f a s ch oo l-a ge c hi ld , a nd a rg ue d t ha t t he r at io na l c ho ic e u nd er t ha t a ss um pt io n w as t o"
"r em ov e t he a sb es to s . Th e a ge nc y , m or al ly o ut ra ge d a t t he i de a o f s et ti ng t he v al ue o f a l if e ,"
r ej ec te dt he re po rt ou to fh an d . It th en de ci de da ga in st as be st os re mo va l—i mp li ci tl ya ss er ti ng
a lo we rv al ue fo rt he li fe of ac hi ld th an th at as si gn ed b yt he an al ys ts .
616 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
So me a tt em pt s h av e b ee n m ad e t o f in d o ut t he v al ue t ha t p eo pl e p la ce o n t he ir o wn
"l iv es . On e c om mo n “c ur re nc y” u se d i n m ed ic al a nd s af et y a na ly si s i s t he m ic ro mo rt , a"
MICROMORT
o ne i n a m il li on c ha nc e o f d ea th . If y ou a sk p eo pl e h ow m uc h t he y w ou ld p ay t o a vo id a
"r is k—f or e xa mp le , t o a vo id p la yi ng Ru ss ia n r ou le tt e w it h a m il li on-b ar re le d r ev ol ve r—t he y"
"w il l r es po nd w it h v er y l ar ge n um be rs , p er ha ps t en s o f t ho us an ds o f d ol la rs , b ut t he ir a ct ua l"
"b eh av io rr ef le ct sa mu ch lo we rm on et ar yv al ue fo ra mi cr om or t . Fo re xa mp le ,d ri vi ng in ac ar"
"f or 230 m il es i nc ur s a ri sk o f o ne m ic ro mo rt ; o ve rt he l if e o f y ou rc ar—s ay , 92,000 m il es—"
"t ha t’s 400 m ic ro mo rt s . Pe op le a pp ea r t o b e w il li ng t o p ay a bo ut $10,000 (a t 2009 p ri ce s)"
"m or e f or a s af er c ar t ha t h al ve s t he r is k o f d ea th , o r a bo ut $50 p er m ic ro mo rt . A n um be r"
o f s tu di es h av e c on fi rm ed a f ig ur e i n t hi s r an ge a cr os s m an y i nd iv id ua ls a nd r is k t yp es . Of
"c ou rs e , t hi s a rg um en t h ol ds o nl y f or sm al lr is ks . Mo st pe op le w on’t a gr ee t ok il lt he ms el ve s"
f or$50 m il li on .
"An ot he r m ea su re i s t he QALY ,o r q ua li ty-a dj us te d l if e y ea r . Pa ti en ts w it h a d is ab il it y"
QALY
"a re w il li ng t o a cc ep t a s ho rt er l if e e xp ec ta nc y t o b e r es to re d t o f ul l h ea lt h . Fo r e xa mp le ,"
k id ne yp at ie nt so na ve ra ge ar ei nd if fe re nt be tw ee nl iv in gt wo ye ar so na di al ys is ma ch in ea nd
o ne ye ar at fu ll he al th .
16.3.2 Th e u ti li ty of mo ne y
"Ut il it y t he or y h as i ts r oo ts i n e co no mi cs , a nd e co no mi cs p ro vi de s o ne o bv io us c an di da te"
"f or a u ti li ty m ea su re: m on ey (o r m or e s pe ci fi ca ll y , a n a ge nt’s t ot al n et a ss et s). Th e a lm os t"
u ni ve rs al e xc ha ng ea bi li ty o f m on ey f or a ll k in ds o f g oo ds a nd s er vi ce s s ug ge st s t ha t m on ey
p la ys as ig ni fi ca nt ro le in hu ma nu ti li ty fu nc ti on s .
"It wi ll us ua ll yb et he ca se th at an ag en tp re fe rs mo re mo ne yt ol es s ,a ll ot he rt hi ng sb ei ng"
MONOTONIC e qu al . We s ay t ha t t he a ge nt e xh ib it s a m on ot on ic p re fe re nc e f or m or e m on ey . Th is d oe s
PREFERENCE
"n ot me an th at mo ne yb eh av es a sa ut il it y f un ct io n , b ec au se i ts ay sn ot hi ng a bo ut pr ef er en ce s"
b et we en lo tt er ie si nv ol vi ng m on ey .
Su pp os ey ou ha ve tr iu mp he do ve rt he ot he rc om pe ti to rs in at el ev is io ng am es ho w . Th e
"h os t n ow o ff er s y ou a ch oi ce: e it he r y ou c an t ak e t he $1,000,000 p ri ze o ry ou c an g am bl e i t"
"o n t he f li p o f a c oi n . If t he c oi n c om es u p h ea ds , y ou e nd u p w it h n ot hi ng , b ut i f i t c om es"
"u p t ai ls , y ou g et $2,500,000. If y ou’r e l ik e m os t p eo pl e , y ou w ou ld d ec li ne t he g am bl e a nd"
p oc ke tt he mi ll io n . Ar ey ou be in gi rr at io na l ?
"EXPECTED As su mi ng th ec oi ni sf ai r ,t he ex pe ct ed mo ne ta ry va lu e(EMV)o ft he ga mb le is 1($0)"
MONETARYVALUE 2
"+ 1($2,500,000) = $1,250,000, w hi ch i s m or e t ha n t he o ri gi na l $1,000,000. Bu t t ha t d oe s"
2
n ot n ec es sa ri ly m ea n t ha t a cc ep ti ng t he g am bl e i s a b et te r d ec is io n . Su pp os e w e u se S t o
n
"d en ot e t he s ta te o f p os se ss in g t ot al w ea lt h $n , a nd t ha t y ou r c ur re nt w ea lt h i s $k . Th en t he"
e xp ec te du ti li ti es o ft he tw oa ct io ns o fa cc ep ti ng a nd de cl in in g t he ga mb le ar e
"EU(Ac ce pt) = 1 U(S )+ 1 U(S ),"
"2 k 2 k+2,500,000"
EU(De cl in e) = U(S ).
"k+1,000,000"
"To d et er mi ne w ha t t o d o , w e n ee d t o a ss ig n u ti li ti es t o t he o ut co me s ta te s . Ut il it y i s n ot"
"d ir ec tl y p ro po rt io na l t om on et ar y v al ue , b ec au se t he ut il it yf or yo ur fi rs tm il li on is ve ry hi gh"
"(o rs o t he y s ay), w he re as t he u ti li ty f or an a dd it io na l m il li on i s s ma ll er . Su pp os e y ou a ss ig n"
"a ut il it yo f 5 t oy ou rc ur re nt fi na nc ia ls ta tu s(S ),a 9 t ot he st at e S ,a nd an 8 t ot he"
"k k+2,500,000"
Se ct io n 16.3. Ut il it y Fu nc ti on s 617
U U
o o o o o o
o o
o
o $ $
o
o
"-150,000 o 800,000"
o
o
(a) (b)
Fi gu re 16.2 Th eu ti li ty of mo ne y . (a)Em pi ri ca ld at af or Mr .Be ar do ve ra li mi te dr an ge .
(b)At yp ic al cu rv ef or th ef ul lr an ge .
"s ta te S . Th en t he r at io na l a ct io n w ou ld b et o d ec li ne , b ec au se t he e xp ec te d u ti li ty"
"k+1,000,000"
"o f a cc ep ti ng i s o nl y 7 (l es s t ha n t he 8 f or d ec li ni ng). On t he o th er h an d , a b il li on ai re w ou ld"
"m os tl ik el y h av ea ut il it y f un ct io n t ha t i sl oc al ly l in ea ro ve rt he r an ge o fa fe wm il li on mo re ,"
a nd th us wo ul da cc ep tt he ga mb le .
"In ap io ne er in gs tu dy of ac tu al ut il it yf un ct io ns ,Gr ay so n(1960)f ou nd th at th eu ti li ty of"
m on ey w as a lm os t e xa ct ly p ro po rt io na l t o t he l og ar it hm o f t he a mo un t . (Th is i de a w as f ir st
"s ug ge st ed b y Be rn ou ll i (1738); s ee Ex er ci se 16.3.) On ep ar ti cu la r u ti li ty c ur ve , f or ac er ta in"
"Mr . Be ar d , i s s ho wn i n Fi gu re 16.2(a). Th e d at a o bt ai ne d f or Mr . Be ar d’s p re fe re nc es a re"
c on si st en t w it ha ut il it yf un ct io n
"U(S )= −263.31+22.09 l og(n+150,000)"
k+n
"f or th er an ge be tw ee n n = −$150,000 a nd n= $800,000."
"We sh ou ld n ot as su me t ha tt hi si st he de fi ni ti ve u ti li ty f un ct io n f or mo ne ta ry v al ue , b ut"
i ti sl ik el y t ha tm os tp eo pl e h av ea ut il it y f un ct io n t ha ti sc on ca ve f or po si ti ve w ea lt h . Go in g
"i nt o d eb t i s b ad , b ut p re fe re nc es b et we en d if fe re nt l ev el s o f d eb t c an d is pl ay a r ev er sa l o f"
"t he co nc av it y a ss oc ia te dw it hp os it iv ew ea lt h . Fo re xa mp le ,s om eo ne al re ad y$10,000,000 i n"
"d eb t m ig ht w el l a cc ep t a g am bl e o n a f ai r c oi n w it h a g ai n o f $10,000,000 f or h ea ds a nd a"
"l os so f$20,000,000 f or ta il s .5 Th is yi el ds th e S-s ha pe dc ur ve sh ow ni n Fi gu re 16.2(b)."
"If we re st ri ct ou ra tt en ti on t ot he po si ti ve pa rt of th ec ur ve s ,w he re th es lo pe is de cr ea s-"
"i ng ,t he nf or an yl ot te ry L ,t he ut il it yo fb ei ng fa ce dw it ht ha tl ot te ry is le ss th an th eu ti li ty of"
b ei ng ha nd ed th ee xp ec te dm on et ar yv al ue of th el ot te ry as as ur et hi ng:
U(L) < U(S ).
EMV(L)
"Th at i s , a ge nt s w it h c ur ve s o f t hi s s ha pe a re r is k-a ve rs e: t he y p re fe r a s ur e t hi ng w it h a"
RISK-AVERSE
"p ay of f t ha t i s l es s t ha n t he e xp ec te d m on et ar y v al ue o f a g am bl e . On t he o th er h an d , i n t he"
"“d es pe ra te” r eg io n a t l ar ge n eg at iv e w ea lt h i n Fi gu re 16.2(b), t he b eh av io r i s r is k-s ee ki ng ."
RISK-SEEKING
"5 Su ch be ha vi or mi gh tb ec al le dd es pe ra te ,b ut it is ra ti on al if on ei sa lr ea dy in ad es pe ra te si tu at io n ."
618 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
CERTAINTY Th e v al ue a n a ge nt w il l a cc ep t i n l ie u o f a l ot te ry i s c al le d t he c er ta in ty e qu iv al en t o f t he
EQUIVALENT
l ot te ry . St ud ie s h av e s ho wn th at m os t p eo pl e w il la cc ep t a bo ut $400 i nl ie u o fa ga mb le t ha t
"g iv es$1000 h al ft he ti me an d$0 t he ot he rh al f—t ha ti s ,t he ce rt ai nt ye qu iv al en to ft he lo tt er y"
"i s$400,w hi le th e EMVi s$500. Th ed if fe re nc eb et we en th e EMVo fa lo tt er ya nd it sc er ta in ty"
INSURANCE e qu iv al en t i s c al le d t he i ns ur an ce p re mi um . Ri sk a ve rs io n i s t he b as is f or t he i ns ur an ce
PREMIUM
"i nd us tr y , b ec au se i t m ea ns t ha t i ns ur an ce p re mi um s a re p os it iv e . Pe op le w ou ld r at he r p ay a"
s ma ll i ns ur an ce p re mi um t ha n g am bl e t he p ri ce o f t he ir h ou se a ga in st t he c ha nc e o f a f ir e .
"Fr om t he i ns ur an ce c om pa ny’s p oi nt o f v ie w , t he p ri ce o f t he h ou se i s v er y s ma ll c om pa re d"
w it h t he f ir m’s t ot al r es er ve s . Th is m ea ns t ha t t he i ns ur er’s u ti li ty c ur ve i s a pp ro xi ma te ly
"l in ea ro ve rs uc ha sm al lr eg io n , a nd th eg am bl ec os ts th ec om pa ny al mo st no th in g ."
"No ti ce th at fo rs ma ll ch an ge s i nw ea lt hr el at iv e t ot he cu rr en tw ea lt h , a lm os ta ny c ur ve"
w il lb ea pp ro xi ma te ly l in ea r . An ag en t t ha th as al in ea rc ur ve is sa id to be ri sk-n eu tr al . Fo r
RISK-NEUTRAL
"g am bl es w it h s ma ll s um s , t he re fo re , w e e xp ec t r is k n eu tr al it y . In a s en se , t hi s j us ti fi es t he"
s im pl if ie d p ro ce du re t ha t p ro po se d s ma ll g am bl es t o a ss es s p ro ba bi li ti es a nd t o j us ti fy t he
a xi om so fp ro ba bi li ty i n Se ct io n 13.2.3.
16.3.3 Ex pe ct ed u ti li ty an d p os t-d ec is io nd is ap po in tm en t
∗
"Th er at io na l w ay to ch oo se th eb es ta ct io n , a ,i st om ax im iz ee xp ec te d u ti li ty:"
a∗ = a rg ma x EU(a|e).
a
"If we ha ve ca lc ul at ed th ee xp ec te du ti li ty co rr ec tl ya cc or di ng to ou rp ro ba bi li ty m od el ,a nd if"
t he p ro ba bi li ty m od el c or re ct ly r ef le ct s t he u nd er ly in g s to ch as ti c p ro ce ss es t ha t g en er at e t he
"o ut co me s , t he n ,o na ve ra ge ,w ew il lg et th eu ti li ty we ex pe ct if th ew ho le pr oc es s i sr ep ea te d"
m an yt im es .
"In r ea li ty , h ow ev er , o ur m od el u su al ly o ve rs im pl if ie s t he r ea l s it ua ti on , e it he r b ec au se"
"w e d on’t k no w e no ug h (e .g ., w he n m ak in g a c om pl ex i nv es tm en t d ec is io n) o r b ec au se t he"
"c om pu ta ti on o f t he t ru e e xp ec te d u ti li ty i s t oo d if fi cu lt (e .g ., w he n e st im at in g t he u ti li ty o f"
"s uc ce ss or s ta te s o f t he r oo t n od e i n b ac kg am mo n). In t ha t c as e , w e a re r ea ll y w or ki ng w it h"
"e st im at es E ! U(a|e) o f t he t ru e e xp ec te d u ti li ty . We w il l a ss um e , k in dl y p er ha ps , t ha t t he"
"e st im at es a re u nb ia se d ,t ha ti s ,t he ex pe ct ed v al ue of th ee rr or , E(E ! U(a|e)−EU(a|e))),i s"
UNBIASED
"z er o . In t ha t c as e , i t s ti ll s ee ms r ea so na bl e t o c ho os e t he a ct io n w it h t he h ig he st e st im at ed"
"u ti li ty an dt oe xp ec tt or ec ei ve th at ut il it y , o na ve ra ge , w he nt he ac ti on is ex ec ut ed ."
"Un fo rt un at el y , t he r ea l o ut co me w il l u su al ly b e s ig ni fi ca nt ly w or se t ha n w e e st im at ed ,"
"e ve n t ho ug h t he e st im at e w as u nb ia se d ! To s ee w hy , c on si de r a d ec is io n p ro bl em i n w hi ch"
"t he re a re k c ho ic es , e ac h o f w hi ch h as t ru e e st im at ed u ti li ty o f 0. Su pp os e t ha t t he e rr or i n"
"e ac h u ti li ty e st im at e h as z er o m ea n a nd s ta nd ar d d ev ia ti on o f 1, s ho wn a s t he b ol d c ur ve i n"
"Fi gu re 16.3. No w , a s w e a ct ua ll y s ta rt t o g en er at e t he e st im at es , s om e o f t he e rr or s w il l b e"
n eg at iv e (p es si mi st ic) a nd s om e w il l b e p os it iv e (o pt im is ti c). Be ca us e w e s el ec t t he a ct io n
"w it h t he h ig he st u ti li ty e st im at e , w e a re o bv io us ly f av or in g t he o ve rl y o pt im is ti c e st im at es ,"
a nd t ha t i s t he s ou rc e o f t he b ia s . It i s a s tr ai gh tf or wa rd m at te r t o c al cu la te t he d is tr ib ut io n
o f t he m ax im um o f t he k e st im at es (s ee Ex er ci se 16.11) a nd h en ce q ua nt if y t he e xt en t o f
"o ur d is ap po in tm en t . Th e c ur ve i n Fi gu re 16.3 f or k=3 h as a m ea n a ro un d 0.85, s o t he"
a ve ra ge d is ap po in tm en t w il l b e a bo ut 85% o f t he s ta nd ar d d ev ia ti on i n t he u ti li ty e st im at es .
Se ct io n 16.3. Ut il it y Fu nc ti on s 619
0.9
k=30
0.8
0.7
k=10
0.6
k=3
0.5
0.4
0.3
0.2
0.1
0
-5 -4 -3 -2 -1 0 1 2 3 4 5
Er ro r i n u ti li ty e st im at e
Fi gu re 16.3 Pl ot o f t he e rr or in e ac h o f k u ti li ty e st im at es a nd of t he d is tr ib ut io no f t he
"m ax im um of ke st im at es fo rk=3,10,a nd 30."
"Wi th m or e c ho ic es , e xt re me ly o pt im is ti c e st im at es a re m or e l ik el y t o a ri se: f or k=30, t he"
d is ap po in tm en t w il lb ea ro un dt wi ce th es ta nd ar dd ev ia ti on i nt he es ti ma te s .
Th is t en de nc y f or t he e st im at ed e xp ec te d u ti li ty o f t he b es t c ho ic e t o b e t oo h ig h i s
"c al le d t he o pt im iz er’s c ur se (Sm it h a nd Wi nk le r , 2006). It a ff li ct s e ve n t he m os t s ea so ne d"
OPTIMIZER’SCURSE
d ec is io n a na ly st s a nd s ta ti st ic ia ns . Se ri ou s m an if es ta ti on s i nc lu de b el ie vi ng t ha t a n e xc it in g
n ew d ru g t ha t h as c ur ed 80% p at ie nt s i n a t ri al w il l c ur e 80% o f p at ie nt s (i t’s b ee n c ho se n
f ro m k= t ho us an ds o f c an di da te d ru gs) o r t ha t a m ut ua l f un d a dv er ti se d a s h av in g a bo ve-
a ve ra ge r et ur ns w il l c on ti nu e t o h av e t he m (i t’s b ee n c ho se n t o a pp ea r i n t he a dv er ti se me nt
o ut o f k= d oz en s o f f un ds i n t he c om pa ny’s o ve ra ll p or tf ol io). It c an e ve n b e t he c as e t ha t
"w ha t a pp ea rs t o b e t he b es t c ho ic e m ay n ot b e , i f t he v ar ia nc e i n t he u ti li ty e st im at e i s h ig h:"
"a dr ug , s el ec te d f ro m t ho us an ds t ri ed , t ha t h as c ur ed 9 o f 10 p at ie nt s i s p ro ba bl y w or se t ha n"
o ne th at ha sc ur ed 800 o f 1000.
Th eo pt im iz er’s cu rs ec ro ps up ev er yw he re be ca us eo ft he ub iq ui ty of ut il it y-m ax im iz in g
"s el ec ti on pr oc es se s ,s ot ak in gt he ut il it ye st im at es at fa ce va lu ei sa ba di de a . We ca na vo id th e"
c ur se by us in ga ne xp li ci tp ro ba bi li ty m od el P(E ! U |EU)o ft he er ro ri nt he ut il it ye st im at es .
"Gi ve nt hi s m od el a nd ap ri or P(EU)o nw ha t w em ig ht r ea so na bl y e xp ec t t he u ti li ti es t ob e ,"
"w et re at th eu ti li ty es ti ma te ,o nc eo bt ai ne d ,a se vi de nc ea nd co mp ut et he po st er io rd is tr ib ut io n"
f or th et ru eu ti li ty us in g Ba ye s’r ul e .
16.3.4 Hu ma nj ud gm en t a nd i rr at io na li ty
De ci si on t he or y i s a n or ma ti ve t he or y: i t d es cr ib es h ow a r at io na l a ge nt s ho ul d a ct . A
NORMATIVETHEORY
"DESCRIPTIVE d es cr ip ti ve th eo ry ,o nt he ot he rh an d ,d es cr ib es ho wa ct ua la ge nt s—f or ex am pl e ,h um an s—"
THEORY
r ea ll y d o a ct . Th e a pp li ca ti on o f e co no mi c t he or y w ou ld b e g re at ly e nh an ce d i f t he t wo
"c oi nc id ed , b ut th er ea pp ea rs t ob es om ee xp er im en ta l e vi de nc e t ot he co nt ra ry . Th ee vi de nc e"
"s ug ge st s t ha th um an sa re“p re di ct ab ly i rr at io na l” (Ar ie ly ,2009)."
620 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
"Th eb es t-k no wn pr ob le mi st he Al la is pa ra do x(Al la is ,1953). Pe op le ar eg iv en ac ho ic e"
"b et we en lo tt er ie s Aa nd B a nd th en be tw ee n C a nd D ,w hi ch ha ve th ef ol lo wi ng pr iz es:"
A: 80%c ha nc eo f$4000 C : 20%c ha nc eo f$4000
B : 100%c ha nc eo f$3000 D : 25%c ha nc eo f$3000
"Mo st p eo pl e c on si st en tl y p re fe r B o ve r A (t ak in g t he s ur e t hi ng), a nd C o ve r D (t ak in g t he"
h ig he r EMV). Th e n or ma ti ve a na ly si s d is ag re es ! We c an s ee t hi s m os t e as il y i f w e u se t he
"f re ed om i mp li ed b y Eq ua ti on (16.2) t o s et U($0) = 0. In t ha t c as e , t he n B ’ A i mp li es"
"t ha t U($3000) > 0.8 U($4000), w he re as C ’ D i mp li es e xa ct ly t he r ev er se . In o th er"
"w or ds , t he re i s n o u ti li ty f un ct io n t ha t i s c on si st en t w it h t he se c ho ic es . On e e xp la na ti on f or"
"t he a pp ar en tl y i rr at io na l p re fe re nc es i s t he c er ta in ty e ff ec t (Ka hn em an a nd Tv er sk y , 1979):"
CERTAINTYEFFECT
p eo pl ea re st ro ng ly at tr ac te dt og ai ns th at ar ec er ta in . Th er ea re se ve ra lr ea so ns wh yt hi sm ay
"b e s o . Fi rs t , p eo pl e m ay p re fe r t o r ed uc e t he ir c om pu ta ti on al b ur de n ; b y c ho os in g c er ta in"
"o ut co me s , t he y d on’t h av e t o c om pu te w it h p ro ba bi li ti es . Bu t t he e ff ec t p er si st s e ve n w he n"
"t he co mp ut at io ns i nv ol ve d a re ve ry ea sy on es . Se co nd , p eo pl em ay di st ru st t he le gi ti ma cy of"
t he st at ed pr ob ab il it ie s . It ru st th at ac oi nf li pi sr ou gh ly 50/50 i f Ih av ec on tr ol o ve rt he co in
"a nd th e f li p ,b ut I m ay di st ru st t he re su lt i ft he fl ip is do ne b ys om eo ne w it ha ve st ed i nt er es t"
"i nt he ou tc om e .6 In th ep re se nc eo fd is tr us t ,i tm ig ht be be tt er to go fo rt he su re th in g .7 Th ir d ,"
p eo pl e m ay b e a cc ou nt in g f or t he ir e mo ti on al s ta te a s w el l a s t he ir f in an ci al s ta te . Pe op le
k no wt he yw ou ld ex pe ri en ce re gr et if th ey ga ve up ac er ta in re wa rd(B)f or an 80%c ha nc ea t
REGRET
"a hi gh er re wa rd an dt he nl os t . In ot he rw or ds ,i f Ai sc ho se n ,t he re is a 20%c ha nc eo fg et ti ng"
"n o m on ey a nd f ee li ng l ik e a c om pl et e i di ot , w hi ch i s w or se t ha n j us t g et ti ng n o m on ey . So"
p er ha ps p eo pl e w ho c ho os e B o ve r A a nd C o ve r D a re n ot b ei ng i rr at io na l ; t he y a re j us t
s ay in gt ha tt he ya re wi ll in gt og iv eu p$200 o f EMVt oa vo id a 20%c ha nc eo ff ee li ng li ke an
i di ot .
"Ar el at ed pr ob le mi st he El ls be rg pa ra do x . He re th ep ri ze sa re fi xe d ,b ut th ep ro ba bi li ti es"
a re un de rc on st ra in ed . Yo ur pa yo ff wi ll de pe nd on th ec ol or of ab al lc ho se nf ro ma nu rn . Yo u
"a re to ld th at th eu rn co nt ai ns 1/3 r ed ba ll s , a nd 2/3 e it he rb la ck or ye ll ow ba ll s ,b ut yo ud on’t"
"k no wh ow ma ny bl ac ka nd ho wm an yy el lo w . Ag ai n ,y ou ar ea sk ed wh et he ry ou pr ef er lo tt er y"
Ao r B ;a nd th en C o r D:
A: $100 f or ar ed ba ll C : $100 f or ar ed or ye ll ow ba ll
B : $100 f or ab la ck ba ll D : $100 f or ab la ck or ye ll ow ba ll .
It sh ou ld be cl ea rt ha ti fy ou th in kt he re ar em or er ed th an bl ac kb al ls th en yo us ho ul d p re fe r
A o ve r B a nd C o ve r D ; i f y ou t hi nk t he re a re f ew er r ed t ha n b la ck y ou s ho ul d p re fe r t he
"o pp os it e . Bu t i t t ur ns o ut t ha t m os t p eo pl e p re fe r A o ve r B a nd a ls o p re fe r D o ve r C , e ve n"
t ho ug h t he re i s n o s ta te o f t he w or ld f or w hi ch t hi s i s r at io na l . It s ee ms t ha t p eo pl e h av e
"AMBIGUITY a mb ig ui ty a ve rs io n: A g iv es y ou a 1/3 c ha nc e o f w in ni ng , w hi le B c ou ld b e a ny wh er e"
AVERSION
"b et we en 0 a nd 2/3. Si mi la rl y ,Dg iv es yo ua 2/3 c ha nc e ,w hi le C c ou ld be an yw he re be tw ee n"
1/3 a nd 3/3. Mo st pe op le el ec tt he kn ow np ro ba bi li ty r at he rt ha nt he un kn ow nu nk no wn s .
"6 Fo re xa mp le , t he m at he ma ti ci an/m ag ic ia n Pe rs i Di ac on is c an m ak e a c oi n f li p c om e o ut t he w ay h e w an ts"
"e ve ry ti me(La nd hu is ,2004)."
"7 Ev en th es ur et hi ng ma yn ot be ce rt ai n .De sp it ec as t-i ro np ro mi se s ,w eh av en ot ye tr ec ei ve dt ha t$27,000,000"
f ro mt he Ni ge ri an ba nk ac co un to fa pr ev io us ly un kn ow nd ec ea se dr el at iv e .
Se ct io n 16.3. Ut il it y Fu nc ti on s 621
Ye t a no th er p ro bl em i s t ha t t he e xa ct w or di ng o f a d ec is io n p ro bl em c an h av e a b ig
i mp ac to nt he ag en t’s ch oi ce s ;t hi si sc al le dt he fr am in ge ff ec t . Ex pe ri me nt ss ho wt ha tp eo pl e
FRAMINGEFFECT
l ik e a m ed ic al p ro ce du re t ha t i t i s d es cr ib ed a s h av in g a “90% s ur vi va l r at e” a bo ut t wi ce a s
"m uc ha so ne de sc ri be da sh av in ga“10%d ea th ra te ,”e ve nt ho ug ht he se tw os ta te me nt sm ea n"
e xa ct ly th es am et hi ng . Th is di sc re pa nc yi nj ud gm en th as be en fo un di nm ul ti pl ee xp er im en ts
"a nd is ab ou tt he sa me wh et he rt he su bj ec ts we re pa ti en ts in ac li ni c ,s ta ti st ic al ly so ph is ti ca te d"
"b us in es s s ch oo ls tu de nt s , o re xp er ie nc ed d oc to rs ."
Pe op le f ee l m or e c om fo rt ab le m ak in g r el at iv e u ti li ty j ud gm en ts r at he r t ha n a bs ol ut e
o ne s . Im ay ha ve li tt le id ea ho wm uc h Im ig ht en jo yt he va ri ou sw in es of fe re db ya re st au ra nt .
"Th er es ta ur an tt ak es ad va nt ag eo ft hi sb yo ff er in ga$200 b ot tl et ha ti tk no ws no bo dy wi ll bu y ,"
b ut wh ic hs er ve s t os ke wu pw ar d t he cu st om er’s e st im at e o ft he va lu eo fa ll wi ne sa nd ma ke
t he$55 b ot tl es ee ml ik ea ba rg ai n . Th is is ca ll ed th ea nc ho ri ng ef fe ct .
ANCHORINGEFFECT
"If hu ma ni nf or ma nt s i ns is to nc on tr ad ic to ry p re fe re nc e j ud gm en ts , t he re is no th in g t ha t"
"a ut om at ed ag en ts ca nd ot ob ec on si st en tw it ht he m . Fo rt un at el y ,p re fe re nc ej ud gm en ts ma de"
b y h um an s a re o ft en o pe n t o r ev is io n i n t he l ig ht o f f ur th er c on si de ra ti on . Pa ra do xe s l ik e
t he Al la is p ar ad ox a re g re at ly r ed uc ed (b ut n ot e li mi na te d) i f t he c ho ic es a re e xp la in ed b et-
"t er . In w or k a t t he Ha rv ar d Bu si ne ss Sc ho ol o n a ss es si ng t he u ti li ty o f m on ey , Ke en ey a nd"
"Ra if fa(1976,p .210)f ou nd th ef ol lo wi ng:"
Su bj ec ts te nd to be to or is k-a ve rs ei nt he sm al la nd th er ef or e ...t he fi tt ed ut il it yf un ct io ns
e xh ib it un ac ce pt ab ly la rg er is kp re mi um sf or lo tt er ie sw it ha la rg es pr ea d . ...Mo st of th e
"s ub je ct s , h ow ev er ,c an re co nc il et he ir in co ns is te nc ie sa nd fe el th at th ey ha ve le ar ne da n"
"i mp or ta nt le ss on ab ou th ow th ey wa nt to be ha ve .As ac on se qu en ce ,s om es ub je ct sc an ce l"
t he ir au to mo bi le co ll is io ni ns ur an ce an dt ak eo ut mo re te rm in su ra nc eo nt he ir li ve s .
Th e e vi de nc e f or h um an i rr at io na li ty i s a ls o q ue st io ne d b y r es ea rc he rs i n t he f ie ld o f e vo-
"EVOLUTIONARY l ut io na ry p sy ch ol og y , w ho p oi nt t o t he f ac t t ha t o ur b ra in’s d ec is io n-m ak in g m ec ha ni sm s"
PSYCHOLOGY
d id n ot e vo lv e t o s ol ve w or d p ro bl em s w it h p ro ba bi li ti es a nd p ri ze s s ta te d a s d ec im al n um-
"b er s . Le t u s g ra nt , f or t he s ak e o f a rg um en t , t ha t t he b ra in h as b ui lt-i n n eu ra l m ec ha ni sm"
"f or co mp ut in gw it hp ro ba bi li ti es a nd ut il it ie s , o rs om et hi ng fu nc ti on al ly e qu iv al en t ; i fs o ,t he"
r eq ui re di np ut sw ou ld be ob ta in ed th ro ug ha cc um ul at ed ex pe ri en ce of ou tc om es an dr ew ar ds
r at he rt ha nt hr ou gh li ng ui st ic pr es en ta ti on so fn um er ic al v al ue s . It is fa rf ro mo bv io us th at we
c an di re ct ly ac ce ss th eb ra in’s bu il t-i nn eu ra lm ec ha ni sm s b yp re se nt in gd ec is io np ro bl em si n
l in gu is ti c/n um er ic al f or m . Th e v er y f ac t t ha t d if fe re nt w or di ng s o f t he s am e d ec is io n p ro b-
l em e li ci t d if fe re nt c ho ic es s ug ge st s t ha t t he d ec is io n p ro bl em i ts el f i s n ot g et ti ng t hr ou gh .
"Sp ur re d b y t hi s o bs er va ti on , p sy ch ol og is ts h av e t ri ed p re se nt in g p ro bl em s i n u nc er ta in r ea-"
"s on in g a nd d ec is io n m ak in g i n “e vo lu ti on ar il y a pp ro pr ia te” f or ms ; f or e xa mp le , i ns te ad o f"
"s ay in g “90% s ur vi va l r at e ,” t he e xp er im en te r m ig ht s ho w 100 s ti ck-f ig ur e a ni ma ti on s o f t he"
"o pe ra ti on , w he re th ep at ie nt d ie si n 10 o ft he ma nd su rv iv es i n 90. (Bo re do m i sa co mp li ca t-"
"i ng f ac to r i n t he se e xp er im en ts !) Wi th d ec is io n p ro bl em s p os ed i n t hi s w ay , p eo pl e s ee m t o"
b em uc hc lo se rt or at io na lb eh av io rt ha np re vi ou sl y s us pe ct ed .
622 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
16.4 MULTIATTRIBUTE UTILITY FUNCTIONS
"De ci si on m ak in g i n t he f ie ld o f p ub li c p ol ic y i nv ol ve s h ig h s ta ke s , i n b ot h m on ey a nd l iv es ."
"Fo re xa mp le , i nd ec id in g w ha tl ev el so fh ar mf ul em is si on s t o a ll ow f ro ma po we rp la nt , p ol-"
i cy ma ke rs mu st we ig ht he pr ev en ti on of de at ha nd di sa bi li ty a ga in st th eb en ef it of th ep ow er
a nd t he e co no mi c b ur de n o f m it ig at in g t he e mi ss io ns . Si ti ng a n ew a ir po rt r eq ui re s c on si d-
e ra ti on o f t he d is ru pt io n c au se d b y c on st ru ct io n ; t he c os t o f l an d ; t he d is ta nc e f ro m c en te rs
o fp op ul at io n ; t he n oi se o ff li gh t o pe ra ti on s ; s af et y i ss ue s a ri si ng f ro m l oc al t op og ra ph y a nd
"w ea th er co nd it io ns ; a nd s o o n . Pr ob le ms l ik e t he se , i nw hi ch o ut co me s a re c ha ra ct er iz ed b y"
"MULTIATTRIBUTE t wo or mo re at tr ib ut es , a re ha nd le db y m ul ti at tr ib ut eu ti li ty th eo ry ."
UTILITYTHEORY
"We w il l c al l t he a tt ri bu te s X=X ,...,X ; a c om pl et e v ec to r o f a ss ig nm en ts w il l b e"
1 n
"x=(c id:16)x ,...,x (c id:17),w he re ea ch x i se it he ra nu me ri cv al ue or ad is cr et ev al ue wi th an as su me d"
1 n i
o rd er in g o n v al ue s . We w il l a ss um e t ha t h ig he r v al ue s o f a n a tt ri bu te c or re sp on d t o h ig he r
"u ti li ti es , a ll o th er t hi ng s b ei ng e qu al . Fo r e xa mp le , i f w e c ho os e Ab se nc e Of No is e a s a n"
"a tt ri bu te in th ea ir po rt pr ob le m ,t he nt he gr ea te ri ts va lu e ,t he be tt er th es ol ut io n .8 We be gi nb y"
e xa mi ni ng c as es in wh ic hd ec is io ns c an be ma de wi th ou tc om bi ni ng t he at tr ib ut e v al ue si nt o
a s in gl e u ti li ty v al ue . Th en w e l oo k a t c as es i n w hi ch t he u ti li ti es o f a tt ri bu te c om bi na ti on s
c an be sp ec if ie dv er yc on ci se ly .
16.4.1 Do mi na nc e
"Su pp os et ha ta ir po rt si te S c os ts le ss ,g en er at es le ss no is ep ol lu ti on ,a nd is sa fe rt ha ns it e S ."
1 2
On e w ou ld n ot h es it at e t o r ej ec t S . We t he n s ay t ha t t he re i s s tr ic t d om in an ce o f S o ve r
STRICTDOMINANCE 2 1
"S . In ge ne ra l , i fa no pt io n i so fl ow er va lu eo na ll at tr ib ut es t ha ns om eo th er op ti on , i tn ee d"
2
n ot b e c on si de re d f ur th er . St ri ct d om in an ce i s o ft en v er y u se fu l i n n ar ro wi ng d ow n t he f ie ld
"o f c ho ic es t o t he r ea l c on te nd er s , a lt ho ug h i t s el do m y ie ld s a u ni qu e c ho ic e . Fi gu re 16.4(a)"
s ho ws as ch em at ic di ag ra m f or th et wo-a tt ri bu te c as e .
"Th at is fi ne fo rt he de te rm in is ti c c as e , i nw hi ch th ea tt ri bu te v al ue sa re kn ow nf or su re ."
"Wh at a bo ut t he g en er al c as e , w he re t he o ut co me s a re u nc er ta in ? A d ir ec t a na lo g o f s tr ic t"
"d om in an ce ca nb ec on st ru ct ed , w he re ,d es pi te th eu nc er ta in ty , a ll po ss ib le co nc re te ou tc om es"
"f or S s tr ic tl y d om in at e a ll p os si bl e o ut co me s f or S . (Se e Fi gu re 16.4(b).) Of c ou rs e , t hi s"
1 2
w il lp ro ba bl y o cc ur ev en le ss of te nt ha ni nt he de te rm in is ti c c as e .
"STOCHASTIC Fo rt un at el y , t he re i sa m or e u se fu l g en er al iz at io n c al le d s to ch as ti c d om in an ce , w hi ch"
DOMINANCE
o cc ur s v er y f re qu en tl y i n r ea l p ro bl em s . St oc ha st ic d om in an ce i s e as ie st t o u nd er st an d i n
t he co nt ex to fa si ng le at tr ib ut e . Su pp os ew eb el ie ve th at th ec os to fs it in gt he ai rp or ta t S i s
1
u ni fo rm ly di st ri bu te db et we en$2.8 b il li on an d$4.8 b il li on an dt ha tt he co st at S i su ni fo rm ly
2
"d is tr ib ut ed be tw ee n$3 b il li on an d$5.2 b il li on . Fi gu re 16.5(a)s ho ws th es ed is tr ib ut io ns , w it h"
"c os t p lo tt ed a sa ne ga ti ve v al ue . Th en , g iv en o nl y t he i nf or ma ti on t ha t u ti li ty d ec re as es w it h"
"8 In so me ca se s ,i tm ay be ne ce ss ar yt os ub di vi de th er an ge of va lu es so th at ut il it yv ar ie sm on ot on ic al ly wi th in"
"e ac hr an ge .Fo re xa mp le ,i ft he Ro om Te mp er at ur ea tt ri bu te ha sa ut il it yp ea ka t 70◦F ,w ew ou ld sp li ti ti nt ot wo"
"a tt ri bu te sm ea su ri ng th ed if fe re nc ef ro mt he id ea l ,o ne co ld er an do ne ho tt er .Ut il it yw ou ld th en be mo no to ni ca ll y"
i nc re as in gi ne ac ha tt ri bu te .
Se ct io n 16.4. Mu lt ia tt ri bu te Ut il it y Fu nc ti on s 623
X X
2 2
Th is r eg io n
d om in at es A
B
C B
C
A A
D
X X
1 1
(a) (b)
Fi gu re 16.4 St ri ct do mi na nc e .(a)De te rm in is ti c:Op ti on Ai ss tr ic tl yd om in at ed by Bb ut
n ot by Co r D .(b)Un ce rt ai n:Ai ss tr ic tl yd om in at ed by Bb ut no tb y C .
0.6
0.5
0.4
0.3
0.2
0.1
0
-6 -5.5 -5 -4.5 -4 -3.5 -3 -2.5 -2
y ti li ba bo r P
1.2
1
0.8
S S 0.6
2 1
0.4
0.2
0
-6 -5.5 -5 -4.5 -4 -3.5 -3 -2.5 -2
Ne ga ti ve c os t
y ti li ba bo r P
S
2
S
1
Ne ga ti ve c os t
(a) (b)
Fi gu re 16.5 St oc ha st ic d om in an ce . (a) S s to ch as ti ca ll y d om in at es S o n c os t . (b) Cu-
1 2
m ul at iv ed is tr ib ut io ns fo rt he ne ga ti ve co st of S a nd S .
1 2
"c os t ,w ec an sa yt ha t S s to ch as ti ca ll yd om in at es S (i .e .,S c an be di sc ar de d). It is im po rt an t"
1 2 2
"t on ot et ha tt hi sd oe sn ot fo ll ow fr om co mp ar in gt he ex pe ct ed co st s . Fo re xa mp le ,i fw ek ne w"
"t he co st of S t ob ee xa ct ly$3.8 b il li on ,t he nw ew ou ld be un ab le to ma ke ad ec is io nw it ho ut"
1
a dd it io na l i nf or ma ti on o n t he ut il it y o f m on ey . (It m ig ht s ee m o dd t ha t m or ei nf or ma ti on o n
t he c os t o f S c ou ld m ak e t he a ge nt l es s a bl e t o d ec id e . Th e p ar ad ox i s r es ol ve d b y n ot in g
1
"t ha ti nt he ab se nc eo fe xa ct co st in fo rm at io n , t he de ci si on is ea si er to ma ke bu ti sm or el ik el y"
t ob ew ro ng .)
Th ee xa ct re la ti on sh ip b et we en th ea tt ri bu te di st ri bu ti on s n ee de dt oe st ab li sh st oc ha st ic
"d om in an ce is be st se en by ex am in in gt he cu mu la ti ve di st ri bu ti on s ,s ho wn in Fi gu re 16.5(b)."
(Se ea ls o Ap pe nd ix A .) Th ec um ul at iv e d is tr ib ut io n m ea su re s t he pr ob ab il it y t ha tt he co st is
"l es s t ha n o r e qu al t o a ny g iv en a mo un t—t ha t i s , i t i nt eg ra te s t he o ri gi na l d is tr ib ut io n . If t he"
"c um ul at iv e d is tr ib ut io n f or S i s a lw ay s t o t he r ig ht o f t he c um ul at iv e d is tr ib ut io n f or S ,"
1 2
624 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
"t he n ,s to ch as ti ca ll y s pe ak in g , S i sc he ap er th an S . Fo rm al ly ,i ft wo ac ti on s A a nd A l ea d"
1 2 1 2
"t op ro ba bi li ty d is tr ib ut io ns p (x)a nd p (x)o na tt ri bu te X ,t he n A s to ch as ti ca ll y d om in at es"
1 2 1
A o n X i f
2
(c id:26)x (c id:26)x
∀x p (x(c id:2) ) d x(c id:2) ≤ p (x(c id:2) )d x(c id:2) .
1 2
−∞ −∞
Th er el ev an ce of th is de fi ni ti on to th es el ec ti on of op ti ma ld ec is io ns co me sf ro mt he fo ll ow in g
"p ro pe rt y: i f A s to ch as ti ca ll yd om in at es A ,t he nf or an ym on ot on ic al ly no nd ec re as in gu ti li ty"
1 2
"f un ct io n U(x), t he e xp ec te d u ti li ty o f A i s a t l ea st a s h ig h a s t he e xp ec te d u ti li ty o f A ."
1 2
"He nc e ,i fa na ct io ni ss to ch as ti ca ll y d om in at ed b ya no th er ac ti on o na ll at tr ib ut es , t he ni tc an"
b ed is ca rd ed .
Th e s to ch as ti c d om in an ce c on di ti on m ig ht s ee m r at he r t ec hn ic al a nd p er ha ps n ot s o
"e as y t o e va lu at e w it ho ut e xt en si ve p ro ba bi li ty c al cu la ti on s . In f ac t , i t c an b e d ec id ed v er y"
"e as il yi nm an yc as es . Su pp os e ,f or ex am pl e ,t ha tt he co ns tr uc ti on tr an sp or ta ti on c os td ep en ds"
"o n t he d is ta nc e t o t he s up pl ie r . Th e c os t i ts el f i s u nc er ta in , b ut t he g re at er t he d is ta nc e , t he"
"g re at er t he c os t . If S i s c lo se r t ha n S , t he n S w il l d om in at e S o n c os t . Al th ou gh w e"
1 2 1 2
"w il l n ot p re se nt t he m h er e , t he re e xi st a lg or it hm s f or p ro pa ga ti ng t hi s k in d o f q ua li ta ti ve"
QUALITATIVE
"i nf or ma ti on a mo ng u nc er ta in v ar ia bl es i n q ua li ta ti ve p ro ba bi li st ic n et wo rk s , e na bl in g a"
PROBABILISTIC
NETWORKS
"s ys te mt om ak er at io na ld ec is io ns ba se do ns to ch as ti cd om in an ce ,w it ho ut us in ga ny nu me ri c"
v al ue s .
16.4.2 Pr ef er en ce s tr uc tu re a nd m ul ti at tr ib ut e u ti li ty
"Su pp os e w e h av e n a tt ri bu te s , e ac h o f w hi ch h as d d is ti nc t p os si bl e v al ue s . To s pe ci fy t he"
"c om pl et eu ti li ty fu nc ti on U(x ,...,x ),w en ee dd nv al ue si nt he wo rs tc as e . No w ,t he wo rs t"
1 n
c as ec or re sp on ds to as it ua ti on in wh ic ht he ag en t’s pr ef er en ce sh av en or eg ul ar it ya ta ll . Mu l-
t ia tt ri bu te ut il it yt he or yi sb as ed on th es up po si ti on th at th ep re fe re nc es of ty pi ca la ge nt sh av e
m uc hm or es tr uc tu re th an th at . Th eb as ic ap pr oa ch is to id en ti fy re gu la ri ti es in th ep re fe re nc e
REPRESENTATION b eh av io rw ew ou ld ex pe ct to se ea nd to us ew ha ta re ca ll ed re pr es en ta ti on th eo re ms to sh ow
THEOREM
t ha ta na ge nt wi th ac er ta in ki nd of pr ef er en ce s tr uc tu re h as a ut il it yf un ct io n
"U(x ,...,x ) = F[f (x ),...,f (x )],"
1 n 1 1 n n
"w he re F i s , w e h op e , a s im pl e f un ct io n s uc h a s a dd it io n . No ti ce t he s im il ar it y t o t he u se o f"
Ba ye si an ne tw or ks to de co mp os et he jo in tp ro ba bi li ty o fs ev er al ra nd om v ar ia bl es .
Pr ef er en ce s w it ho ut un ce rt ai nt y
Le t u s b eg in w it h t he d et er mi ni st ic c as e . Re me mb er th at f or d et er mi ni st ic e nv ir on me nt s t he
"a ge nt h as a v al ue f un ct io n V(x ,...,x ); t he a im i s t o r ep re se nt t hi s f un ct io n c on ci se ly ."
1 n
Th e b as ic r eg ul ar it y t ha t a ri se s i n d et er mi ni st ic p re fe re nc e s tr uc tu re s i s c al le d p re fe re nc e
PREFERENCE i nd ep en de nc e . Tw oa tt ri bu te s X a nd X a re p re fe re nt ia ll y i nd ep en de nt o f a t hi rd a tt ri bu te
INDEPENDENCE 1 2
"X i ft he p re fe re nc e b et we en o ut co me s (c id:16)x ,x ,x (c id:17)a nd (c id:16)x(c id:2) ,x(c id:2) ,x (c id:17)d oe s n ot d ep en d o n t he"
3 1 2 3 1 2 3
p ar ti cu la rv al ue x f or at tr ib ut e X .
3 3
"Go in g b ac k t o t he a ir po rt e xa mp le , w he re w e h av e (a mo ng o th er a tt ri bu te s) No is e ,"
"Co st ,a nd De at hs t oc on si de r , o ne ma yp ro po se th at No is e a nd Co st a re pr ef er en ti al ly i nd e-"
Se ct io n 16.4. Mu lt ia tt ri bu te Ut il it y Fu nc ti on s 625
"p en de nt of De at hs . Fo re xa mp le ,i fw ep re fe ra st at ew it h 20,000 p eo pl er es id in gi nt he fl ig ht"
"p at ha nd ac on st ru ct io nc os to f$4 b il li on ov er as ta te wi th 70,000 p eo pl er es id in gi nt he fl ig ht"
p at ha nd ac os to f$3.7 b il li on wh en th es af et yl ev el is 0.06 d ea th sp er mi ll io np as se ng er mi le s
"i nb ot h c as es , t he nw ew ou ld ha ve th es am ep re fe re nc e w he nt he s af et yl ev el is 0.12 o r 0.03;"
a nd t he s am ei nd ep en de nc e w ou ld h ol d f or pr ef er en ce s b et we en a ny o th er p ai ro f v al ue s f or
No is e a nd Co st . It i s a ls o a pp ar en t t ha t Co st a nd De at hs a re p re fe re nt ia ll y i nd ep en de nt o f
No is e a nd t ha t No is e a nd De at hs a re p re fe re nt ia ll y i nd ep en de nt o f Co st . We s ay t ha t t he
"MUTUAL s et o fa tt ri bu te s {No is e ,Co st ,De at hs}e xh ib it s m ut ua lp re fe re nt ia l i nd ep en de nc e(MPI)."
PREFERENTIAL
INDEPENDENCE
"MPI s ay s t ha t , w he re as e ac h a tt ri bu te m ay b e i mp or ta nt , i t d oe s n ot a ff ec t t he w ay i n w hi ch"
o ne tr ad es of ft he ot he ra tt ri bu te s a ga in st ea ch ot he r .
"Mu tu al p re fe re nt ia l i nd ep en de nc e i s s om et hi ng o f a m ou th fu l , b ut t ha nk s t o a r em ar k-"
"a bl et he or em du et ot he ec on om is t Ge´r ar d De br eu(1960),w ec an de ri ve fr om it av er ys im pl e"
"f or m f or th ea ge nt’s v al ue f un ct io n: If at tr ib ut es X , ..., X a re mu tu al ly p re fe re nt ia ll y i n-"
1 n
"d ep en de nt , t he nt he ag en t’s pr ef er en ce be ha vi or ca nb ed es cr ib ed as ma xi mi zi ng th ef un ct io n"
(c id:12)
"V(x ,...,x ) = V (x ),"
1 n i i
i
"w he re e ac h V i s a v al ue f un ct io n r ef er ri ng o nl y t o t he a tt ri bu te X . Fo r e xa mp le , i t m ig ht"
i i
w el lb et he ca se th at th ea ir po rt de ci si on c an be ma de us in ga va lu ef un ct io n
"V(n oi se ,c os t ,d ea th s) = −n oi se ×104−c os t −d ea th s ×1012 ."
ADDITIVEVALUE Av al ue f un ct io n o ft hi st yp ei sc al le d a na dd it iv ev al ue fu nc ti on . Ad di ti ve fu nc ti on s a re an
FUNCTION
e xt re me ly n at ur al w ay t o d es cr ib e a n a ge nt’s p re fe re nc es a nd a re v al id i n m an y r ea l-w or ld
"s it ua ti on s . Fo rn at tr ib ut es , a ss es si ng an ad di ti ve va lu ef un ct io nr eq ui re s a ss es si ng ns ep ar at e"
"o ne-d im en si on al va lu ef un ct io ns ra th er th an on en-d im en si on al fu nc ti on ;t yp ic al ly ,t hi sr ep re-"
s en ts an ex po ne nt ia lr ed uc ti on in th en um be ro fp re fe re nc ee xp er im en ts th at ar en ee de d . Ev en
"w he n MPI d oe s n ot s tr ic tl y h ol d , a s m ig ht b e t he c as e a t e xt re me v al ue s o f t he a tt ri bu te s , a n"
a dd it iv e v al ue f un ct io n m ig ht s ti ll p ro vi de a g oo d a pp ro xi ma ti on t o t he a ge nt’s p re fe re nc es .
Th is i s e sp ec ia ll y t ru e w he n t he v io la ti on s o f MPI o cc ur i n p or ti on s o f t he a tt ri bu te r an ge s
t ha ta re un li ke ly t oo cc ur in pr ac ti ce .
"To un de rs ta nd MPI b et te r , i th el ps t ol oo k a t c as es w he re i t d oe sn’t h ol d . Su pp os e y ou"
"a re a t a m ed ie va l m ar ke t , c on si de ri ng t he p ur ch as e o f s om e h un ti ng d og s , s om e c hi ck en s ,"
"a nd s om e w ic ke r c ag es f or t he c hi ck en s . Th e h un ti ng d og s a re v er y v al ua bl e , b ut i f y ou"
"d on’t h av ee no ug h c ag es f or th ec hi ck en s , t he do gs w il le at th ec hi ck en s ; h en ce , t he tr ad eo ff"
"b et we en d og s a nd c hi ck en s d ep en ds s tr on gl y o n t he n um be r o f c ag es , a nd MPI i s v io la te d ."
Th ee xi st en ce of th es ek in ds of in te ra ct io ns am on gv ar io us at tr ib ut es ma ke si tm uc hh ar de rt o
a ss es st he ov er al lv al ue fu nc ti on .
Pr ef er en ce s w it hu nc er ta in ty
"Wh en u nc er ta in ty i s p re se nt i n t he d om ai n , w e a ls o n ee d t o c on si de r t he s tr uc tu re o f p re fe r-"
"e nc es b et we en l ot te ri es a nd t o u nd er st an d t he r es ul ti ng p ro pe rt ie s o f u ti li ty f un ct io ns , r at he r"
"t ha n j us t v al ue f un ct io ns . Th e m at he ma ti cs o f t hi s p ro bl em c an b ec om e q ui te c om pl ic at ed ,"
s ow ep re se nt j us to ne of th em ai nr es ul ts t og iv ea fl av or of wh at ca nb ed on e . Th er ea de ri s
r ef er re dt o Ke en ey an d Ra if fa(1976)f or at ho ro ug h s ur ve yo f t he fi el d .
626 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
UTILITY Th e b as ic n ot io n o f u ti li ty i nd ep en de nc e e xt en ds p re fe re nc e i nd ep en de nc e t o c ov er
INDEPENDENCE
l ot te ri es: a se t o fa tt ri bu te s Xi su ti li ty i nd ep en de nt o fa se t o fa tt ri bu te s Yi fp re fe re nc es b e-
t we en lo tt er ie so nt he at tr ib ut es i n Xa re in de pe nd en t o ft he pa rt ic ul ar va lu es of th ea tt ri bu te s
MUTUALLYUTILITY i n Y . A s et o f a tt ri bu te s i s m ut ua ll y u ti li ty i nd ep en de nt (MUI) i f e ac h o f i ts s ub se ts i s
INDEPENDENT
"u ti li ty-i nd ep en de nt o f t he r em ai ni ng a tt ri bu te s . Ag ai n , i t s ee ms r ea so na bl e t o p ro po se t ha t"
t he ai rp or ta tt ri bu te s a re MUI .
MUI i mp li es t ha t t he a ge nt’s b eh av io r c an b e d es cr ib ed u si ng a m ul ti pl ic at iv e u ti li ty
"MULTIPLICATIVE f un ct io n(Ke en ey ,1974). Th eg en er al fo rm of am ul ti pl ic at iv eu ti li ty fu nc ti on is be st se en by"
UTILITYFUNCTION
"l oo ki ng a tt he ca se fo rt hr ee at tr ib ut es . Fo rc on ci se ne ss , w eu se U t om ea n U (x ):"
i i i
U =k U +k U +k U +k k U U +k k U U +k k U U
1 1 2 2 3 3 1 2 1 2 2 3 2 3 3 1 3 1
+k k k U U U .
1 2 3 1 2 3
"Al th ou gh th is do es no tl oo kv er ys im pl e ,i tc on ta in sj us tt hr ee si ng le-a tt ri bu te ut il it yf un ct io ns"
"a nd th re ec on st an ts . In ge ne ra l ,a nn-a tt ri bu te pr ob le me xh ib it in g MUIc an be mo de le du si ng"
n s in gl e-a tt ri bu te u ti li ti es a nd n c on st an ts . Ea ch o f t he s in gl e-a tt ri bu te u ti li ty f un ct io ns c an
"b e d ev el op ed i nd ep en de nt ly o f t he o th er a tt ri bu te s , a nd t hi s c om bi na ti on w il l b e g ua ra nt ee d"
t o g en er at e t he c or re ct o ve ra ll p re fe re nc es . Ad di ti on al a ss um pt io ns a re r eq ui re d t o o bt ai n a
p ur el ya dd it iv eu ti li ty fu nc ti on .
16.5 DECISION NETWORKS
"In t hi s s ec ti on , w el oo k a t a g en er al m ec ha ni sm f or ma ki ng r at io na l d ec is io ns . Th e n ot at io n"
"i s o ft en c al le d a n i nf lu en ce d ia gr am (Ho wa rd a nd Ma th es on , 1984), b ut w e w il l u se t he"
INFLUENCEDIAGRAM
m or e d es cr ip ti ve t er m d ec is io n n et wo rk . De ci si on n et wo rk s c om bi ne Ba ye si an n et wo rk s
DECISIONNETWORK
w it ha dd it io na l n od et yp es fo ra ct io ns an du ti li ti es . We us ea ir po rt si ti ng as an ex am pl e .
16.5.1 Re pr es en ti ng a d ec is io np ro bl em w it ha d ec is io nn et wo rk
"In it sm os tg en er al f or m ,a de ci si on ne tw or kr ep re se nt s i nf or ma ti on a bo ut th ea ge nt’s cu rr en t"
"s ta te , i ts p os si bl e a ct io ns , t he s ta te t ha t w il l r es ul t f ro m t he a ge nt’s a ct io n , a nd t he u ti li ty o f"
t ha t s ta te . It t he re fo re p ro vi de s a s ub st ra te f or im pl em en ti ng u ti li ty-b as ed a ge nt s o f t he t yp e
f ir st i nt ro du ce d i n Se ct io n 2.4.5. Fi gu re 16.6 s ho ws a d ec is io n n et wo rk f or th e a ir po rt s it in g
p ro bl em . It il lu st ra te s t he th re et yp es of no de su se d:
"• Ch an ce no de s(o va ls)r ep re se nt ra nd om va ri ab le s ,j us ta st he yd oi n Ba ye si an ne tw or ks ."
CHANCENODES
"Th ea ge nt co ul d b eu nc er ta in a bo ut t he co ns tr uc ti on c os t ,t he le ve lo fa ir tr af fi ca nd th e"
"p ot en ti al f or li ti ga ti on , a nd th e De at hs ,No is e ,a nd to ta l Co st v ar ia bl es , e ac ho fw hi ch"
a ls od ep en ds o nt he si te ch os en . Ea ch ch an ce n od e h as as so ci at ed w it hi ta co nd it io na l
"d is tr ib ut io n t ha t i s i nd ex ed b y t he s ta te o f t he p ar en t n od es . In d ec is io n n et wo rk s , t he"
p ar en t n od es c an i nc lu de d ec is io n n od es a s w el l a s c ha nc e n od es . No te t ha t e ac h o f
t he c ur re nt-s ta te c ha nc e n od es c ou ld b e p ar t o f a la rg e Ba ye si an n et wo rk f or a ss es si ng
"c on st ru ct io n c os ts ,a ir tr af fi cl ev el s ,o rl it ig at io np ot en ti al s ."
• De ci si on n od es(r ec ta ng le s) r ep re se nt p oi nt s w he re th ed ec is io n m ak er ha s a ch oi ce o f
DECISIONNODES
Se ct io n 16.5. De ci si on Ne tw or ks 627
Ai rp or t Si te
Ai r Tr af fi c De at hs
Li ti ga ti on No is e U
Co ns tr uc ti on Co st
Fi gu re 16.6 As im pl ed ec is io nn et wo rk fo rt he ai rp or t-s it in gp ro bl em .
"a ct io ns . In t hi s c as e , t he Ai rp or t Si te a ct io n c an t ak e o n a d if fe re nt v al ue f or e ac h s it e"
"u nd er c on si de ra ti on . Th e c ho ic e i nf lu en ce s t he c os t , s af et y , a nd n oi se t ha t w il l r es ul t ."
"In th is c ha pt er , w ea ss um e t ha tw ea re de al in g w it ha si ng le d ec is io n n od e . Ch ap te r 17"
d ea ls wi th ca se si nw hi ch mo re th an on ed ec is io n m us tb em ad e .
• Ut il it y n od es (d ia mo nd s) r ep re se nt t he a ge nt’s u ti li ty f un ct io n .9 Th e u ti li ty n od e h as
UTILITYNODES
a s p ar en ts a ll v ar ia bl es d es cr ib in g t he o ut co me t ha t d ir ec tl y a ff ec t u ti li ty . As so ci at ed
w it h t he u ti li ty n od e i s a d es cr ip ti on o f t he a ge nt’s u ti li ty a s a f un ct io n o f t he p ar en t
"a tt ri bu te s . Th e d es cr ip ti on c ou ld b e j us t a t ab ul at io n o f t he f un ct io n , o r i t m ig ht b e a"
p ar am et er iz ed a dd it iv eo rl in ea rf un ct io n o ft he at tr ib ut e v al ue s .
"A s im pl if ie d f or m i s a ls o u se d i n m an y c as es . Th e n ot at io n r em ai ns i de nt ic al , b ut t he"
"c ha nc en od es de sc ri bi ng t he ou tc om es ta te ar eo mi tt ed . In st ea d , t he ut il it yn od ei sc on ne ct ed"
"d ir ec tl yt ot he cu rr en t-s ta te no de sa nd th ed ec is io nn od e . In th is ca se ,r at he rt ha nr ep re se nt in g"
"a ut il it yf un ct io no no ut co me st at es ,t he ut il it yn od er ep re se nt st he ex pe ct ed ut il it ya ss oc ia te d"
"w it h e ac h a ct io n , a s d ef in ed i n Eq ua ti on (16.1) o n p ag e 611; t ha t i s , t he n od e i s a ss oc ia te d"
"ACTION-UTILITY w it h a n a ct io n-u ti li ty f un ct io n (a ls o k no wn a s a Q-f un ct io n i n r ei nf or ce me nt l ea rn in g , a s"
FUNCTION
d es cr ib ed i n Ch ap te r 21). Fi gu re 16.7 s ho ws t he a ct io n-u ti li ty r ep re se nt at io n o f t he a ir po rt
s it in gp ro bl em .
"No ti ce th at ,b ec au se th e No is e ,De at hs ,a nd Co st c ha nc e n od es in Fi gu re 16.6 r ef er to"
"f ut ur e s ta te s , t he y c an n ev er ha ve t he ir va lu es s et a se vi de nc e v ar ia bl es . Th us , t he si mp li fi ed"
v er si on t ha t o mi ts t he se n od es c an b e u se d w he ne ve r t he m or e g en er al f or m c an b e u se d .
"Al th ou gh t he s im pl if ie d f or m c on ta in s f ew er n od es , t he o mi ss io n o f a n e xp li ci t d es cr ip ti on"
o f t he o ut co me o f t he s it in g d ec is io n m ea ns t ha t i t i s l es s f le xi bl e w it h r es pe ct t o c ha ng es i n
"c ir cu ms ta nc es . Fo re xa mp le ,i n Fi gu re 16.6,a ch an ge i na ir cr af t n oi se le ve ls ca nb er ef le ct ed"
"b y a c ha ng e i n t he c on di ti on al p ro ba bi li ty t ab le a ss oc ia te d w it h t he No is e n od e , w he re as a"
c ha ng e i n t he w ei gh t a cc or de d t o n oi se p ol lu ti on i n t he u ti li ty f un ct io n c an b e r ef le ct ed b y
9 Th es en od es ar ea ls oc al le dv al ue no de si nt he li te ra tu re .
628 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
Ai rp or t Si te
Ai r Tr af fi c
Li ti ga ti on U
Co ns tr uc ti on
Fi gu re 16.7 As im pl if ie dr ep re se nt at io no ft he ai rp or t-s it in gp ro bl em . Ch an ce no de sc or-
r es po nd in gt oo ut co me st at es ha ve be en fa ct or ed ou t .
"a c ha ng e i n t he u ti li ty t ab le . In t he a ct io n-u ti li ty d ia gr am , Fi gu re 16.7, o n t he o th er h an d ,"
"a ll s uc h c ha ng es h av e t o b e r ef le ct ed b y c ha ng es t o t he a ct io n-u ti li ty t ab le . Es se nt ia ll y , t he"
a ct io n-u ti li ty f or mu la ti on i sa co mp il ed ve rs io no ft he or ig in al f or mu la ti on .
16.5.2 Ev al ua ti ng d ec is io nn et wo rk s
Ac ti on sa re se le ct ed b ye va lu at in g t he de ci si on n et wo rk fo r e ac hp os si bl e s et ti ng of th ed ec i-
"s io nn od e . On ce th ed ec is io n n od ei ss et , i tb eh av es e xa ct ly l ik ea ch an ce n od et ha th as be en"
s et as an ev id en ce va ri ab le . Th ea lg or it hm f or ev al ua ti ng d ec is io nn et wo rk s i st he fo ll ow in g:
1. Se tt he ev id en ce v ar ia bl es fo rt he cu rr en ts ta te .
2. Fo re ac hp os si bl e v al ue of th ed ec is io n n od e:
(a) Se tt he de ci si on n od et ot ha tv al ue .
"(b) Ca lc ul at e t he po st er io r p ro ba bi li ti es f or th ep ar en t n od es o ft he ut il it y n od e , u si ng"
a st an da rd p ro ba bi li st ic i nf er en ce a lg or it hm .
(c) Ca lc ul at et he re su lt in g u ti li ty fo rt he ac ti on .
3. Re tu rn th ea ct io nw it ht he hi gh es tu ti li ty .
Th is i s a s tr ai gh tf or wa rd e xt en si on o f t he Ba ye si an n et wo rk a lg or it hm a nd c an b e i nc or po-
r at ed d ir ec tl y i nt o t he a ge nt d es ig n g iv en i n Fi gu re 13.1 o n p ag e 484. We w il l s ee i n Ch ap-
t er 17 t ha t t he p os si bi li ty o f e xe cu ti ng s ev er al a ct io ns i n s eq ue nc e m ak es t he p ro bl em m uc h
m or ei nt er es ti ng .
16.6 THE VALUE OF INFORMATION
"In th ep re ce di ng a na ly si s , w eh av ea ss um ed th at al lr el ev an t i nf or ma ti on , o ra tl ea st al la va il-"
"a bl e i nf or ma ti on , i s p ro vi de d t o t he a ge nt b ef or e i t m ak es i ts d ec is io n . In p ra ct ic e , t hi s i s"
Se ct io n 16.6. Th e Va lu eo f In fo rm at io n 629
h ar dl y e ve r t he c as e . On e o f t he m os t i mp or ta nt p ar ts o f d ec is io n m ak in g i s k no wi ng w ha t
"q ue st io ns t o a sk . Fo re xa mp le , a d oc to r c an no t e xp ec t t o b e p ro vi de d w it h t he r es ul ts o f a ll"
p os si bl ed ia gn os ti ct es ts an dq ue st io ns at th et im ea pa ti en tf ir st en te rs th ec on su lt in gr oo m .10
Te st sa re o ft en e xp en si ve a nd s om et im es h az ar do us (b ot h d ir ec tl y a nd b ec au se o fa ss oc ia te d
d el ay s). Th ei r i mp or ta nc e d ep en ds o n t wo f ac to rs: w he th er t he t es t r es ul ts w ou ld l ea d t o a
"s ig ni fi ca nt ly b et te rt re at me nt pl an ,a nd ho wl ik el yt he va ri ou st es tr es ul ts ar e ."
"INFORMATIONVALUE Th is s ec ti on d es cr ib es i nf or ma ti on v al ue t he or y , w hi ch e na bl es a n a ge nt t o c ho os e"
THEORY
"w ha t i nf or ma ti on t o a cq ui re . We a ss um e t ha t , p ri or t o s el ec ti ng a “r ea l” a ct io n r ep re se nt ed"
"b y t he d ec is io n n od e , t he a ge nt c an a cq ui re t he v al ue o f a ny o f t he p ot en ti al ly o bs er va bl e"
"c ha nc e v ar ia bl es i n t he m od el . Th us , i nf or ma ti on v al ue t he or y i nv ol ve s a s im pl if ie d f or m"
o f s eq ue nt ia l d ec is io n m ak in g—s im pl if ie d b ec au se t he o bs er va ti on a ct io ns a ff ec t o nl y t he
"a ge nt’s b el ie f s ta te , n ot t he e xt er na l p hy si ca l s ta te . Th e v al ue o f a ny p ar ti cu la r o bs er va ti on"
m us td er iv ef ro mt he po te nt ia lt oa ff ec tt he ag en t’s ev en tu al ph ys ic al ac ti on ;a nd th is po te nt ia l
c an be es ti ma te d d ir ec tl yf ro mt he de ci si on m od el it se lf .
16.6.1 A s im pl ee xa mp le
Su pp os ea no il co mp an yi sh op in gt ob uy on eo fn in di st in gu is ha bl e b lo ck so fo ce an-d ri ll in g
"r ig ht s . Le tu sa ss um ef ur th er th at ex ac tl yo ne of th eb lo ck sc on ta in so il wo rt h C d ol la rs ,w hi le"
t he o th er s a re w or th le ss . Th e a sk in g p ri ce o f e ac h b lo ck i s C/n d ol la rs . If t he c om pa ny i s
"r is k-n eu tr al , t he ni tw il lb ei nd if fe re nt b et we en bu yi ng ab lo ck an dn ot bu yi ng on e ."
No w s up po se t ha t a s ei sm ol og is t o ff er s t he c om pa ny t he r es ul ts o f a s ur ve y o f b lo ck
"n um be r 3, w hi ch i nd ic at es d ef in it iv el y w he th er t he b lo ck c on ta in s o il . Ho w m uc h s ho ul d"
t he c om pa ny b e w il li ng t o p ay f or t he i nf or ma ti on ? Th e w ay t o a ns we r t hi s q ue st io n i s t o
e xa mi ne wh at th ec om pa ny wo ul dd oi fi th ad th ei nf or ma ti on:
"• Wi th pr ob ab il it y 1/n ,t he su rv ey wi ll in di ca te o il in bl oc k 3. In th is c as e , t he co mp an y"
w il lb uy bl oc k 3 f or C/n do ll ar sa nd ma ke ap ro fi to f C−C/n = (n−1)C/n do ll ar s .
"• Wi th pr ob ab il it y(n−1)/n ,t he su rv ey wi ll sh ow th at th eb lo ck co nt ai ns no oi l ,i nw hi ch"
c as e t he c om pa ny w il l b uy a d if fe re nt b lo ck . No w t he p ro ba bi li ty o f f in di ng o il i n o ne
"o ft he ot he rb lo ck sc ha ng es fr om 1/n to 1/(n−1),s ot he co mp an ym ak es an ex pe ct ed"
p ro fi to f C/(n−1)−C/n = C/n(n−1)d ol la rs .
"No ww ec an ca lc ul at e t he ex pe ct ed p ro fi t ,g iv en th es ur ve yi nf or ma ti on:"
1 (n−1)C n−1 C
× + × = C/n .
n n n n(n−1)
"Th er ef or e , t he c om pa ny s ho ul d b e w il li ng t o p ay t he s ei sm ol og is t u p t o C/n d ol la rs f or t he"
i nf or ma ti on: t he in fo rm at io n i sw or th as mu ch as th eb lo ck it se lf .
"Th e v al ue o f i nf or ma ti on d er iv es f ro m t he f ac t t ha t w it h t he i nf or ma ti on , o ne’s c ou rs e"
o f a ct io n c an b e c ha ng ed t o s ui t t he a ct ua l s it ua ti on . On e c an d is cr im in at e a cc or di ng t o t he
"s it ua ti on , w he re as w it ho ut t he i nf or ma ti on , o ne h as t o d o w ha t’s b es t o n a ve ra ge o ve r t he"
"p os si bl e s it ua ti on s . In g en er al , t he v al ue o f a g iv en p ie ce o f i nf or ma ti on i s d ef in ed t o b e t he"
d if fe re nc e i ne xp ec te d v al ue be tw ee nb es ta ct io ns be fo re an da ft er in fo rm at io n i so bt ai ne d .
"10 In th e Un it ed St at es ,t he on ly qu es ti on th at is al wa ys as ke db ef or eh an di sw he th er th ep at ie nt ha si ns ur an ce ."
630 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
16.6.2 A g en er al f or mu la fo rp er fe ct i nf or ma ti on
It is si mp le to de ri ve ag en er al ma th em at ic al fo rm ul af or th ev al ue of in fo rm at io n . We as su me
"t ha t e xa ct e vi de nc e c an be ob ta in ed a bo ut t he v al ue o fs om er an do m v ar ia bl e E (t ha t i s , w e"
j
"VALUEOFPERFECT l ea rn E = e ),s ot he ph ra se v al ue of pe rf ec ti nf or ma ti on(VPI)i su se d .11"
INFORMATION j j
Le t t he a ge nt’s i ni ti al e vi de nc e b e e . Th en t he v al ue o f t he c ur re nt b es t a ct io n α i s
d ef in ed by
(c id:12)
"EU(α|e)= m ax P(RESULT(a)=s(c id:2)|a ,e)U(s(c id:2) ),"
a
s(c id:3)
a nd th ev al ue of th en ew be st ac ti on(a ft er th en ew ev id en ce E = e i so bt ai ne d) w il lb e
j j
(c id:12)
"EU(α e j|e ,e j) = m ax P(RESULT(a)=s(c id:2)|a ,e ,e j)U(s(c id:2) )."
a
s(c id:3)
"Bu t E i sa ra nd om v ar ia bl e w ho se va lu e i s c ur re nt ly u nk no wn , s ot od et er mi ne t he va lu e o f"
j
"d is co ve ri ng E ,g iv en cu rr en ti nf or ma ti on e we mu st av er ag eo ve ra ll po ss ib le va lu es e t ha t"
j j k
"w em ig ht di sc ov er fo r E ,u si ng ou rc ur re nt be li ef sa bo ut it sv al ue:"
j
(c id:31)
(c id:12)
"VPI (E )= P(E =e |e)EU(α |e ,E =e ) −EU(α|e)."
e j j j k e jk j j k
k
"To g et s om e i nt ui ti on f or t hi s f or mu la , c on si de r t he s im pl e c as e w he re t he re a re o nl y t wo"
"a ct io ns ,a a nd a ,f ro mw hi ch to ch oo se . Th ei rc ur re nt ex pe ct ed ut il it ie sa re U a nd U . Th e"
1 2 1 2
(c id:2) (c id:2)
"i nf or ma ti on E = e w il l y ie ld s om e n ew e xp ec te d u ti li ti es U a nd U f or t he a ct io ns , b ut"
j j k 1 2
"b ef or e w eo bt ai n E ,w ew il lh av es om e p ro ba bi li ty d is tr ib ut io ns o ve rt he p os si bl e v al ue s o f"
j
(c id:2) (c id:2)
U a nd U (w hi ch we as su me ar ei nd ep en de nt).
1 2
Su pp os e t ha t a a nd a r ep re se nt t wo d if fe re nt r ou te s t hr ou gh a m ou nt ai n r an ge i n
1 2
"w in te r . a i s a ni ce , s tr ai gh t h ig hw ay t hr ou gh a l ow p as s , a nd a i s a wi nd in g d ir t r oa d o ve r"
1 2
"t he t op . Ju st g iv en t hi s i nf or ma ti on , a i s c le ar ly p re fe ra bl e , b ec au se i t i s q ui te p os si bl e t ha t"
1
"a i s b lo ck ed b y a va la nc he s , w he re as i t i s u nl ik el y t ha t a ny th in g b lo ck s a . U i s t he re fo re"
2 1 1
c le ar ly h ig he r t ha n U . It is po ss ib le t oo bt ai n s at el li te r ep or ts E o n t he ac tu al s ta te o fe ac h
2 j
(c id:2) (c id:2)
"r oa d t ha t w ou ld g iv e n ew e xp ec ta ti on s , U a nd U , f or t he t wo c ro ss in gs . Th e d is tr ib ut io ns"
1 2
"f or th es ee xp ec ta ti on s a re sh ow ni n Fi gu re 16.8(a). Ob vi ou sl y ,i nt hi sc as e ,i ti sn ot wo rt ht he"
"e xp en se of ob ta in in gs at el li te re po rt s ,b ec au se it is un li ke ly th at th ei nf or ma ti on de ri ve df ro m"
"t he mw il lc ha ng et he pl an . Wi th no ch an ge , i nf or ma ti on h as no va lu e ."
No ws up po se t ha tw ea re ch oo si ng b et we en tw od if fe re nt wi nd in gd ir tr oa ds of sl ig ht ly
"d if fe re nt l en gt hs a nd w e a re c ar ry in g a s er io us ly i nj ur ed p as se ng er . Th en , e ve n w he n U"
1
(c id:2) (c id:2)
"a nd U a re q ui te c lo se , t he d is tr ib ut io ns o f U a nd U a re v er y b ro ad . Th er e i s a s ig ni fi ca nt"
2 1 2
"p os si bi li ty t ha tt he se co nd ro ut ew il lt ur no ut to be cl ea rw hi le th ef ir st is bl oc ke d , a nd in th is"
11 Th er e i sn o l os s o f e xp re ss iv en es s i n r eq ui ri ng p er fe ct i nf or ma ti on . Su pp os e w e w an te d t o m od el t he c as e
i nw hi ch we be co me so me wh at m or ec er ta in ab ou t a va ri ab le . We c an do th at by in tr od uc in g a no th er va ri ab le
"a bo ut wh ic hw el ea rn pe rf ec ti nf or ma ti on . Fo re xa mp le , s up po se we in it ia ll yh av eb ro ad un ce rt ai nt ya bo ut t he"
v ar ia bl e Te mp er at ur e . Th en w e g ai n t he p er fe ct k no wl ed ge Th er mo me te r = 37; t hi s g iv es u s i mp er fe ct
"i nf or ma ti on ab ou tt he tr ue Te mp er at ur e ,a nd th eu nc er ta in ty du et om ea su re me nt er ro ri se nc od ed in th es en so r"
m od el P(Th er mo me te r|Te mp er at ur e).Se e Ex er ci se 16.17 f or an ot he re xa mp le .
Se ct io n 16.6. Th e Va lu eo f In fo rm at io n 631
P(U | E) P(U | E) P(U | E)
j j j
U U U
U U U U U U
2 1 2 1 2 1
(a) (b) (c)
"Fi gu re 16.8 Th re eg en er ic ca se sf or th ev al ue of in fo rm at io n . In(a), a w il la lm os tc er-"
1
"t ai nl yr em ai ns up er io rt oa ,s ot he in fo rm at io ni sn ot ne ed ed .In(b),t he ch oi ce is un cl ea ra nd"
2
"t he in fo rm at io ni sc ru ci al . In(c),t he ch oi ce is un cl ea r ,b ut be ca us ei tm ak es li tt le di ff er en ce ,"
t he in fo rm at io ni sl es sv al ua bl e .(No te: Th ef ac tt ha t U h as ah ig hp ea ki n(c)m ea ns th at it s
2
e xp ec te dv al ue is kn ow nw it hh ig he rc er ta in ty th an U .)
1
c as e t he d if fe re nc e i n u ti li ti es w il l b e v er y h ig h . Th e VPI f or mu la i nd ic at es t ha t i t m ig ht b e
w or th wh il eg et ti ng th es at el li te r ep or ts . Su ch as it ua ti on i ss ho wn in Fi gu re 16.8(b).
"Fi na ll y ,s up po se th at we ar ec ho os in gb et we en th et wo di rt ro ad si ns um me rt im e ,w he n"
"b lo ck ag e b ya va la nc he s i su nl ik el y . In th is c as e , s at el li te r ep or ts m ig ht s ho w o ne r ou te t ob e"
"m or e s ce ni c t ha n t he o th er b ec au se o f f lo we ri ng a lp in e m ea do ws , o rp er ha ps w et te rb ec au se"
o f e rr an t s tr ea ms . It i s t he re fo re q ui te l ik el y t ha t w e w ou ld c ha ng e o ur p la n i f w e h ad t he
"i nf or ma ti on . In t hi s c as e , h ow ev er , t he d if fe re nc e i n v al ue b et we en t he t wo r ou te s i s s ti ll"
"l ik el yt ob ev er ys ma ll ,s ow ew il ln ot bo th er to ob ta in th er ep or ts . Th is si tu at io n i ss ho wn in"
Fi gu re 16.8(c).
"In s um , i nf or ma ti on h as v al ue t o t he e xt en t t ha t i t i s l ik el y t o c au se a c ha ng e o f p la n"
a nd to th ee xt en tt ha tt he ne wp la nw il lb es ig ni fi ca nt ly b et te rt ha nt he ol dp la n .
16.6.3 Pr op er ti es o ft he v al ue of in fo rm at io n
On e m ig ht a sk w he th er i t i s p os si bl e f or i nf or ma ti on t o b e d el et er io us: c an i t a ct ua ll y h av e
"n eg at iv e e xp ec te d v al ue ? In tu it iv el y , o ne s ho ul d e xp ec t t hi s t o b e i mp os si bl e . Af te r a ll , o ne"
c ou ld in th ew or st ca se ju st ig no re th ei nf or ma ti on an dp re te nd th at on eh as ne ve rr ec ei ve di t .
"Th is is co nf ir me db yt he fo ll ow in gt he or em ,w hi ch ap pl ie st oa ny de ci si on-t he or et ic a ge nt:"
Th ee xp ec te d v al ue of in fo rm at io n i sn on ne ga ti ve:
"∀e ,E VPI (E ) ≥ 0."
j e j
"Th et he or em fo ll ow sd ir ec tl yf ro mt he de fi ni ti on of VPI ,a nd we le av et he pr oo fa sa ne xe rc is e"
"(Ex er ci se 16.18). It is ,o fc ou rs e ,a th eo re ma bo ut ex pe ct ed va lu e ,n ot ac tu al va lu e . Ad di ti on al"
i nf or ma ti on c an e as il y l ea d t o a p la n t ha t t ur ns o ut t o b e w or se t ha n t he o ri gi na l p la n i f t he
"i nf or ma ti on h ap pe ns t ob em is le ad in g . Fo re xa mp le , a me di ca l t es tt ha tg iv es af al se po si ti ve"
r es ul tm ay le ad to un ne ce ss ar ys ur ge ry ;b ut th at do es no tm ea nt ha tt he te st sh ou ld n’t be do ne .
632 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
"It is im po rt an tt or em em be rt ha t VPId ep en ds on th ec ur re nt st at eo fi nf or ma ti on , w hi ch"
i s w hy i t i s s ub sc ri pt ed . It c an c ha ng e a s m or e i nf or ma ti on i s a cq ui re d . Fo ra ny g iv en p ie ce
"o f e vi de nc e E , t he v al ue o f a cq ui ri ng i t c an g o d ow n (e .g ., i f a no th er v ar ia bl e s tr on gl y"
j
"c on st ra in s t he p os te ri or f or E ) o r u p (e .g ., i f a no th er v ar ia bl e p ro vi de s a c lu e o n w hi ch E"
j j
"b ui ld s , e na bl in g a ne wa nd be tt er pl an to be de vi se d). Th us ,VPIi sn ot ad di ti ve . Th at is ,"
"VPI (E ,E )(c id:7)= VPI (E )+VPI (E ) (i ng en er al) ."
e j k e j e k
"VPIi s ,h ow ev er ,o rd er in de pe nd en t . Th at is ,"
"VPI (E ,E )= VPI (E )+VPI (E ) = VPI (E )+VPI (E )."
"e j k e j e ,e j k e k e ,e k j"
Or de r i nd ep en de nc e d is ti ng ui sh es s en si ng a ct io ns f ro m o rd in ar y a ct io ns a nd s im pl if ie s t he
p ro bl em o fc al cu la ti ng t he va lu eo fa se qu en ce of se ns in ga ct io ns .
16.6.4 Im pl em en ta ti on of an in fo rm at io n-g at he ri ng a ge nt
"A s en si bl e a ge nt s ho ul d a sk q ue st io ns i n a r ea so na bl e o rd er , s ho ul d a vo id a sk in g q ue st io ns"
"t ha t a re i rr el ev an t , s ho ul d t ak e i nt o a cc ou nt t he i mp or ta nc e o f e ac h p ie ce o f i nf or ma ti on i n"
"r el at io n t o i ts c os t , a nd s ho ul d s to p a sk in g q ue st io ns w he n t ha t i s a pp ro pr ia te . Al l o f t he se"
c ap ab il it ie s c an be ac hi ev ed by us in gt he va lu eo fi nf or ma ti on a sa gu id e .
Fi gu re 16.9 s ho ws t he o ve ra ll d es ig n o f a n a ge nt t ha t c an g at he r i nf or ma ti on i nt el-
"l ig en tl y b ef or e a ct in g . Fo r n ow , w e a ss um e t ha t w it h e ac h o bs er va bl e e vi de nc e v ar ia bl e"
"E , t he re i s a n a ss oc ia te d c os t , Co st(E ), w hi ch r ef le ct s t he c os t o f o bt ai ni ng t he e vi de nc e"
j j
"t hr ou gh t es ts , c on su lt an ts , q ue st io ns , o rw ha te ve r . Th ea ge nt re qu es ts w ha ta pp ea rs t ob et he"
m os t e ff ic ie nt o bs er va ti on i nt er ms o f u ti li ty g ai n p er un it c os t . We as su me t ha t t he r es ul t o f
t he ac ti on Re qu es t(E )i st ha tt he ne xt pe rc ep tp ro vi de s t he va lu eo f E . If no ob se rv at io n i s
j j
"w or th it sc os t ,t he ag en ts el ec ts a“r ea l”a ct io n ."
Th e a ge nt a lg or it hm w e h av e d es cr ib ed i mp le me nt s a f or m o f i nf or ma ti on g at he ri ng
"t ha ti sc al le d m yo pi c . Th is is be ca us e i tu se st he VPIf or mu la s ho rt si gh te dl y , c al cu la ti ng t he"
MYOPIC
v al ue o f i nf or ma ti on a s i f o nl y a s in gl e e vi de nc e v ar ia bl e w il l b e a cq ui re d . My op ic c on tr ol
i s b as ed o n t he s am e h eu ri st ic i de a a s g re ed y s ea rc h a nd o ft en w or ks w el l i n p ra ct ic e . (Fo r
"e xa mp le , i t h as b ee n s ho wn t o o ut pe rf or m e xp er t p hy si ci an s i n s el ec ti ng d ia gn os ti c t es ts .)"
f un ct io n INFORMATION-GATHERING-AGENT(p er ce pt)r et ur ns an ac ti on
"p er si st en t: D ,a de ci si on ne tw or k"
i nt eg ra te pe rc ep t i nt o D
j ←t he va lu et ha tm ax im iz es VPI(Ej)/Co st(Ej)
i f VPI(Ej) > Co st(Ej)
r et ur n REQUEST(Ej)
e ls er et ur nt he be st ac ti on fr om D
Fi gu re 16.9 De si gn of as im pl ei nf or ma ti on-g at he ri ng ag en t . Th ea ge nt wo rk sb yr ep ea t-
"e dl ys el ec ti ng t he o bs er va ti on wi th t he h ig he st in fo rm at io nv al ue , u nt il th e c os t o f t he n ex t"
o bs er va ti on is gr ea te rt ha ni ts ex pe ct ed be ne fi t .
Se ct io n 16.7. De ci si on-Th eo re ti c Ex pe rt Sy st em s 633
"Ho we ve r , i f t he re i s n o s in gl e e vi de nc e v ar ia bl e t ha t w il l h el p a l ot , a m yo pi c a ge nt m ig ht"
h as ti ly t ak e a n a ct io n w he n i t w ou ld h av e b ee n b et te r t o r eq ue st t wo o r m or e v ar ia bl es f ir st
a nd t he n t ak e a ct io n . A b et te r a pp ro ac h i n t hi s s it ua ti on w ou ld b e t o c on st ru ct a c on di ti on al
p la n (a s d es cr ib ed i n Se ct io n 11.3.2) t ha t a sk s f or v ar ia bl e v al ue s a nd t ak es d if fe re nt n ex t
s te ps de pe nd in g o nt he an sw er .
On ef in al co ns id er at io n i st he ef fe ct as er ie s o fq ue st io ns w il lh av eo na hu ma nr es po n-
"d en t . Pe op le ma yr es po nd be tt er to as er ie so fq ue st io ns if th ey“m ak es en se ,”s os om ee xp er t"
"s ys te ms a re b ui lt t o t ak e t hi s i nt o a cc ou nt , a sk in g q ue st io ns i n a n o rd er t ha t m ax im iz es t he"
t ot al ut il it yo ft he sy st em an dh um an ra th er th an an or de rt ha tm ax im iz es va lu eo fi nf or ma ti on .
16.7 DECISION-THEORETIC EXPERT SYSTEMS
"Th ef ie ld of de ci si on an al ys is ,w hi ch ev ol ve di nt he 1950 s an d 1960 s ,s tu di es th ea pp li ca ti on"
DECISIONANALYSIS
o f d ec is io n t he or y t o a ct ua l d ec is io n p ro bl em s . It i s u se d t o h el p m ak e r at io na l d ec is io ns i n
"i mp or ta nt d om ai ns w he re t he s ta ke s a re h ig h , s uc h a s b us in es s , g ov er nm en t , l aw , m il it ar y"
"s tr at eg y ,m ed ic al di ag no si sa nd pu bl ic he al th ,e ng in ee ri ng d es ig n ,a nd re so ur ce ma na ge me nt ."
"Th e p ro ce ss i nv ol ve s a c ar ef ul s tu dy o f t he p os si bl e a ct io ns a nd o ut co me s , a s w el l a s t he"
p re fe re nc es p la ce d o n e ac h o ut co me . It i s t ra di ti on al i n d ec is io n a na ly si s t o t al k a bo ut t wo
"r ol es: t he d ec is io n m ak er s ta te s p re fe re nc es b et we en o ut co me s , a nd t he d ec is io n a na ly st"
DECISIONMAKER
e nu me ra te st he po ss ib le ac ti on sa nd ou tc om es an de li ci ts pr ef er en ce sf ro mt he de ci si on ma ke r
DECISIONANALYST
"t o d et er mi ne t he b es t c ou rs e o f a ct io n . Un ti l t he e ar ly 1980 s , t he m ai n p ur po se o f d ec is io n"
a na ly si s w as t o h el p h um an s m ak e d ec is io ns t ha t a ct ua ll y r ef le ct t he ir o wn p re fe re nc es . As
"m or ea nd mo re de ci si on p ro ce ss es b ec om e a ut om at ed , d ec is io n a na ly si s i si nc re as in gl y u se d"
t oe ns ur et ha tt he au to ma te d p ro ce ss es a re be ha vi ng a sd es ir ed .
"Ea rl ye xp er ts ys te mr es ea rc hc on ce nt ra te d o na ns we ri ng qu es ti on s , r at he rt ha no nm ak-"
i ng d ec is io ns . Th os e s ys te ms t ha t d id r ec om me nd a ct io ns r at he r t ha n p ro vi di ng o pi ni on s o n
"m at te rs o f f ac t g en er al ly d id s o u si ng c on di ti on-a ct io n r ul es , r at he r t ha n w it h e xp li ci t r ep-"
r es en ta ti on s o f o ut co me s a nd p re fe re nc es . Th e e me rg en ce o f Ba ye si an n et wo rk s i n t he l at e
1980 s m ad e i t p os si bl e t o b ui ld l ar ge-s ca le s ys te ms t ha t g en er at ed s ou nd p ro ba bi li st ic i nf er-
e nc es f ro m e vi de nc e . Th e a dd it io n o f d ec is io n n et wo rk s m ea ns t ha t e xp er t s ys te ms c an b e
"d ev el op ed t ha t r ec om me nd o pt im al d ec is io ns , r ef le ct in g t he p re fe re nc es o f t he a ge nt a sw el l"
a st he av ai la bl e e vi de nc e .
A s ys te m t ha t i nc or po ra te s u ti li ti es c an a vo id o ne o f t he m os t c om mo n p it fa ll s a ss oc i-
a te dw it ht he co ns ul ta ti on pr oc es s: c on fu si ng li ke li ho od an di mp or ta nc e . Ac om mo ns tr at eg y
"i ne ar ly me di ca le xp er ts ys te ms ,f or ex am pl e ,w as to ra nk po ss ib le di ag no se si no rd er of li ke-"
"l ih oo d a nd r ep or t t he m os t l ik el y . Un fo rt un at el y , t hi s c an b e d is as tr ou s ! Fo rt he m aj or it y o f"
"p at ie nt si ng en er al pr ac ti ce ,t he tw om os tl ik el yd ia gn os es ar eu su al ly“Th er e’s no th in gw ro ng"
"w it hy ou”a nd“Yo uh av ea ba dc ol d ,”b ut if th et hi rd mo st li ke ly di ag no si sf or ag iv en pa ti en t"
"i s l un g c an ce r , t ha t’s a s er io us m at te r . Ob vi ou sl y , a t es ti ng o r t re at me nt p la n s ho ul d d ep en d"
b ot h o n p ro ba bi li ti es a nd u ti li ti es . Cu rr en t m ed ic al e xp er t s ys te ms c an t ak e i nt o a cc ou nt t he
"v al ue of in fo rm at io n t or ec om me nd te st s ,a nd th en de sc ri be a d if fe re nt ia l d ia gn os is ."
634 Ch ap te r 16. Ma ki ng Si mp le De ci si on s
We no wd es cr ib e t he kn ow le dg e e ng in ee ri ng p ro ce ss f or de ci si on-t he or et ic e xp er t s ys-
t em s . As an ex am pl e w ec on si de r t he pr ob le m o fs el ec ti ng a me di ca l t re at me nt f or ak in d o f
"c on ge ni ta l h ea rt di se as ei nc hi ld re n(s ee Lu ca s ,1996)."
"Ab ou t 0.8% o fc hi ld re n a re b or n w it ha he ar t a no ma ly , t he m os t c om mo nb ei ng a or ti c"
"AORTIC c oa rc ta ti on (a co ns tr ic ti on o ft he ao rt a). It ca nb et re at ed wi th su rg er y , a ng io pl as ty (e xp an d-"
COARCTATION
"i ng th ea or ta wi th ab al lo on pl ac ed in si de th ea rt er y),o rm ed ic at io n . Th ep ro bl em is to de ci de"
"w ha tt re at me nt to us ea nd wh en to do it: t he yo un ge rt he in fa nt ,t he gr ea te rt he ri sk so fc er ta in"
"t re at me nt s ,b ut on em us tn’t wa it to ol on g . Ad ec is io n-t he or et ic ex pe rt sy st em fo rt hi sp ro bl em"
c an b e c re at ed b y a t ea m c on si st in g o f a t l ea st o ne d om ai n e xp er t (a p ed ia tr ic c ar di ol og is t)
a nd on ek no wl ed ge en gi ne er . Th ep ro ce ss c an be br ok en do wn in to th ef ol lo wi ng st ep s:
"Cr ea te a c au sa l m od el . De te rm in e t he p os si bl e s ym pt om s , d is or de rs , t re at me nt s , a nd"
"o ut co me s . Th en d ra w a rc s b et we en t he m , i nd ic at in g w ha t d is or de rs c au se w ha t s ym pt om s ,"
a nd wh at tr ea tm en ts al le vi at ew ha td is or de rs . So me of th is wi ll be we ll kn ow nt ot he do ma in
"e xp er t , a nd s om e w il l c om e f ro m t he l it er at ur e . Of te n t he m od el w il l m at ch w el l w it h t he"
i nf or ma lg ra ph ic al d es cr ip ti on s g iv en in me di ca lt ex tb oo ks .
Si mp li fy t o a q ua li ta ti ve d ec is io n m od el . Si nc e w e a re u si ng t he m od el t o m ak e
t re at me nt d ec is io ns a nd n ot f or o th er p ur po se s (s uc h a s d et er mi ni ng t he j oi nt p ro ba bi li ty o f
"c er ta in s ym pt om/d is or de r c om bi na ti on s), w e c an o ft en s im pl if y b y r em ov in g v ar ia bl es t ha t"
a re n ot i nv ol ve d i n t re at me nt d ec is io ns . So me ti me s v ar ia bl es w il l h av e t o b e s pl it o r j oi ne d
"t o m at ch t he e xp er t’s i nt ui ti on s . Fo r e xa mp le , t he o ri gi na l a or ti c c oa rc ta ti on m od el h ad a"
"Tr ea tm en tv ar ia bl e w it hv al ue s s ur ge ry , a ng io pl as ty , a nd me di ca ti on , a nd as ep ar at e v ar ia bl e"
"f or Ti mi ng o f t he t re at me nt . Bu t t he e xp er t h ad a h ar d t im e t hi nk in g o f t he se s ep ar at el y , s o"
"t he yw er ec om bi ne d , w it h Tr ea tm en tt ak in go nv al ue ss uc ha ss ur ge ry i n 1 m on th . Th is gi ve s"
u st he mo de lo f Fi gu re 16.10.
"As si gn pr ob ab il it ie s . Pr ob ab il it ie s c an co me fr om pa ti en td at ab as es , l it er at ur e s tu di es ,"
o rt he ex pe rt’s su bj ec ti ve a ss es sm en ts . No te th at ad ia gn os ti c s ys te m w il lr ea so nf ro ms ym p-
"t om sa nd ot he ro bs er va ti on s t ot he di se as e o ro th er ca us e o ft he pr ob le ms . Th us , i nt he ea rl y"
"y ea rs o f b ui ld in g t he se s ys te ms , e xp er ts w er e a sk ed f or t he p ro ba bi li ty o f a c au se g iv en a n"
"e ff ec t . In ge ne ra lt he yf ou nd th is di ff ic ul tt od o ,a nd we re be tt er ab le to as se ss th ep ro ba bi li ty"
o fa ne ff ec tg iv en ac au se . So mo de rn sy st em su su al ly as se ss ca us al kn ow le dg ea nd en co de it
"d ir ec tl y i n t he Ba ye si an n et wo rk s tr uc tu re o f t he m od el , l ea vi ng t he d ia gn os ti c r ea so ni ng t o"
"t he Ba ye si an ne tw or ki nf er en ce al go ri th ms (Sh ac ht er an d He ck er ma n , 1987)."
"As si gn u ti li ti es . Wh en t he re a re a s ma ll n um be r o f p os si bl e o ut co me s , t he y c an b e"
e nu me ra te da nd ev al ua te di nd iv id ua ll yu si ng th em et ho ds of Se ct io n 16.3.1. We wo ul dc re at e
"a s ca le f ro m b es t t o w or st o ut co me a nd g iv e e ac h a n um er ic v al ue , f or e xa mp le 0 f or d ea th"
a nd 1 f or c om pl et e r ec ov er y . We w ou ld t he n p la ce t he o th er o ut co me s o n t hi s s ca le . Th is
"c an be do ne by th ee xp er t , b ut it is be tt er if th ep at ie nt (o ri n t he ca se of in fa nt s , t he pa ti en t’s"
"p ar en ts)c an be in vo lv ed , b ec au se di ff er en tp eo pl eh av ed if fe re nt pr ef er en ce s . If th er ea re ex-"
"p on en ti al ly m an yo ut co me s , w en ee d s om e w ay to co mb in e t he m u si ng m ul ti at tr ib ut e u ti li ty"
"f un ct io ns . Fo re xa mp le ,w em ay sa yt ha tt he co st so fv ar io us co mp li ca ti on s a re ad di ti ve ."
"Ve ri fy a nd r ef in e t he m od el . To e va lu at e t he s ys te m w e n ee d a s et o f c or re ct (i np ut ,"
o ut pu t) p ai rs ; a s o-c al le d g ol d s ta nd ar d t o c om pa re a ga in st . Fo r m ed ic al e xp er t s ys te ms
GOLDSTANDARD
"t hi s u su al ly m ea ns a ss em bl in g t he b es t a va il ab le d oc to rs , p re se nt in g t he m w it h a f ew c as es ,"
Se ct io n 16.7. De ci si on-Th eo re ti c Ex pe rt Sy st em s 635
Se x
Po st co ar ct ec to my
Sy nd ro me
Ta ch yp ne a Ta ch yc ar di a
Pa ra do xi ca l
Fa il ur e Hy pe rt en si on
To Th ri ve
Ao rt ic
In te rc os ta l An eu ry sm
Dy sp ne a
Re ce ss io n
Pa ra pl eg ia
He ar t In te rm ed ia te La te
Ag e Tr ea tm en t
Fa il ur e Re su lt Re su lt
He pa to-
CVA
m eg al y
Pu lm on ar y Ao rt ic
Cr ep it at io ns Di ss ec ti on
My oc ar di al
Ca rd io me ga ly
In fa rc ti on
U
Fi gu re 16.10 In fl ue nc ed ia gr am fo ra or ti cc oa rc ta ti on(c ou rt es yo f Pe te r Lu ca s).
a nd a sk in g t he m f or t he ir d ia gn os is a nd r ec om me nd ed t re at me nt p la n . We t he n s ee h ow
"w el lt he s ys te m m at ch es t he ir re co mm en da ti on s . If it do es p oo rl y , w et ry to i so la te t he pa rt s"
t ha t a re g oi ng w ro ng a nd f ix t he m . It c an b e u se fu l t o r un t he s ys te m “b ac kw ar d .” In st ea d
"o f p re se nt in g t he s ys te m w it h s ym pt om s a nd a sk in g f or a d ia gn os is , w e c an p re se nt i t w it h"
"a d ia gn os is s uc h a s “h ea rt f ai lu re ,” e xa mi ne t he p re di ct ed p ro ba bi li ty o f s ym pt om s s uc h a s"
"t ac hy ca rd ia , a nd co mp ar ew it ht he me di ca ll it er at ur e ."
SENSITIVITY Pe rf or m s en si ti vi ty a na ly si s . Th is i mp or ta nt s te p c he ck s w he th er t he b es t d ec is io n i s
ANALYSIS
s en si ti ve to sm al lc ha ng es in th ea ss ig ne dp ro ba bi li ti es a nd ut il it ie sb ys ys te ma ti ca ll yv ar yi ng
t ho se p ar am et er s a nd r un ni ng t he e va lu at io n a ga in . If s ma ll c ha ng es l ea d t o s ig ni fi ca nt ly
"d if fe re nt d ec is io ns , t he n i t c ou ld b e w or th wh il e t o s pe nd m or e r es ou rc es t o c ol le ct b et te r"
"d at a . If al lv ar ia ti on sl ea dt ot he sa me de ci si on , t he nt he ag en tw il lh av em or ec on fi de nc et ha t"
"i ti st he ri gh td ec is io n . Se ns it iv it ya na ly si s i sp ar ti cu la rl y i mp or ta nt , b ec au se on eo ft he ma in"
17
MAKING COMPLEX
DECISIONS
"In w hi ch w e e xa mi ne m et ho ds f or d ec id in g w ha t t o d o t od ay , g iv en t ha t w e m ay"
d ec id ea ga in to mo rr ow .
"In th is ch ap te r ,w ea dd re ss th ec om pu ta ti on al is su es in vo lv ed in ma ki ng de ci si on si na st oc ha s-"
t ic e nv ir on me nt . Wh er ea s Ch ap te r 16 w as c on ce rn ed w it h o ne-s ho t o r e pi so di c d ec is io n
"p ro bl em s , i n w hi ch t he u ti li ty o f e ac h a ct io n’s o ut co me w as w el l k no wn , w e a re c on ce rn ed"
"SEQUENTIAL h er e w it hs eq ue nt ia l d ec is io n p ro bl em s , i nw hi ch t he ag en t’s u ti li ty d ep en ds o na se qu en ce"
DECISIONPROBLEM
"o f d ec is io ns . Se qu en ti al d ec is io n p ro bl em s i nc or po ra te u ti li ti es , u nc er ta in ty , a nd s en si ng ,"
a nd i nc lu de s ea rc h a nd p la nn in g p ro bl em s a s s pe ci al c as es . Se ct io n 17.1 e xp la in s h ow s e-
"q ue nt ia l d ec is io n p ro bl em s a re d ef in ed , a nd Se ct io ns 17.2 a nd 17.3 e xp la in h ow t he y c an"
b e s ol ve d t o p ro du ce o pt im al b eh av io r t ha t b al an ce s t he r is ks a nd r ew ar ds o f a ct in g i n a n
u nc er ta in e nv ir on me nt . Se ct io n 17.4 e xt en ds t he se i de as t o t he c as e o f p ar ti al ly o bs er va bl e
"e nv ir on me nt s , a nd Se ct io n 17.4.3 d ev el op sa co mp le te de si gn fo rd ec is io n-t he or et ic a ge nt si n"
"p ar ti al ly o bs er va bl e e nv ir on me nt s , c om bi ni ng d yn am ic Ba ye si an n et wo rk s f ro m Ch ap te r 15"
w it hd ec is io n n et wo rk sf ro m Ch ap te r 16.
Th e s ec on d p ar t o f t he c ha pt er c ov er s e nv ir on me nt s w it h m ul ti pl e a ge nt s . In s uc h e n-
"v ir on me nt s , t he n ot io n o f o pt im al b eh av io r i s c om pl ic at ed b y t he i nt er ac ti on s a mo ng t he"
"a ge nt s . Se ct io n 17.5 i nt ro du ce s t he m ai n i de as o f g am e t he or y , i nc lu di ng t he i de a t ha t r a-"
t io na l a ge nt s m ig ht n ee d t ob eh av e r an do ml y . Se ct io n 17.6 l oo ks a th ow m ul ti ag en t s ys te ms
c an be de si gn ed s ot ha tm ul ti pl ea ge nt sc an ac hi ev ea co mm on go al .
17.1 SEQUENTIAL DECISION PROBLEMS
Su pp os et ha ta na ge nt is si tu at ed in th e 4×3 e nv ir on me nt sh ow ni n Fi gu re 17.1(a). Be gi nn in g
"i nt he st ar ts ta te ,i tm us tc ho os ea na ct io na te ac ht im es te p . Th ei nt er ac ti on w it ht he en vi ro n-"
"m en t t er mi na te s w he n t he a ge nt r ea ch es o ne o f t he g oa l s ta te s , m ar ke d +1 o r–1. Ju st a s f or"
"s ea rc h p ro bl em s , t he a ct io ns a va il ab le t o t he a ge nt i n e ac h s ta te a re g iv en b y ACTIONS(s),"
"s om et im es a bb re vi at ed t o A(s); i n t he 4×3 e nv ir on me nt , t he a ct io ns i n e ve ry s ta te a re Up ,"
"Do wn ,Le ft ,a nd Ri gh t . We as su me f or no wt ha tt he en vi ro nm en t i s f ul ly ob se rv ab le , s ot ha t"
t he ag en ta lw ay sk no ws wh er ei ti s .
645
646 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
3 + 1 0.8
0.1 0.1
2 –1
1 START
1 2 3 4
(a) (b)
Fi gu re 17.1 (a) A s im pl e 4×3 e nv ir on me nt t ha t p re se nt s t he a ge nt w it h a s eq ue nt ia l
d ec is io np ro bl em . (b)Il lu st ra ti on of th et ra ns it io nm od el of th ee nv ir on me nt:t he“i nt en de d”
"o ut co me oc cu rs wi th pr ob ab il it y 0.8,b ut wi th pr ob ab il it y 0.2 t he ag en tm ov es at ri gh ta ng le s"
t ot he in te nd ed di re ct io n . Ac ol li si on wi th aw al lr es ul ts in no mo ve me nt . Th et wo te rm in al
"s ta te sh av er ew ar d+1 a nd–1,r es pe ct iv el y ,a nd al lo th er st at es ha ve ar ew ar do f–0.04."
"If th ee nv ir on me nt w er ed et er mi ni st ic , a so lu ti on wo ul db ee as y: [Up ,Up ,Ri gh t ,Ri gh t ,"
"Ri gh t]. Un fo rt un at el y , t he en vi ro nm en tw on’t al wa ys go al on gw it ht hi ss ol ut io n ,b ec au se th e"
a ct io ns a re u nr el ia bl e . Th e p ar ti cu la r m od el o f s to ch as ti c m ot io n t ha t w ea do pt i si ll us tr at ed
"i n Fi gu re 17.1(b). Ea ch a ct io n a ch ie ve s t he i nt en de d e ff ec t w it h p ro ba bi li ty 0.8, b ut t he r es t"
"o ft he ti me ,t he ac ti on mo ve st he ag en ta tr ig ht an gl es to th ei nt en de dd ir ec ti on . Fu rt he rm or e ,"
"i ft he ag en tb um ps in to aw al l ,i ts ta ys in th es am es qu ar e . Fo re xa mp le ,f ro mt he st ar ts qu ar e"
"(1,1), t he ac ti on Up mo ve st he ag en tt o(1,2)w it hp ro ba bi li ty 0.8,b ut wi th pr ob ab il it y 0.1,i t"
"m ov es ri gh tt o(2,1),a nd wi th pr ob ab il it y 0.1,i tm ov es le ft ,b um ps in to th ew al l ,a nd st ay si n"
"(1,1). In s uc h a n e nv ir on me nt , t he s eq ue nc e [Up ,Up ,Ri gh t ,Ri gh t ,Ri gh t] g oe s u p a ro un d"
"t he ba rr ie ra nd re ac he st he go al st at ea t(4,3)w it hp ro ba bi li ty 0.85=0.32768. Th er ei sa ls oa"
s ma ll ch an ce of ac ci de nt al ly re ac hi ng th eg oa lb yg oi ng th eo th er wa ya ro un dw it hp ro ba bi li ty
"0.14×0.8,f or ag ra nd to ta lo f 0.32776. (Se ea ls o Ex er ci se 17.1.)"
"As i n Ch ap te r 3, t he t ra ns it io n m od el (o r j us t “m od el ,” w he ne ve r n o c on fu si on c an"
"a ri se) d es cr ib es t he o ut co me o f e ac h a ct io n i n e ac h s ta te . He re , t he o ut co me i s s to ch as ti c ,"
s o w e w ri te
"P(s(c id:2)|s ,a)"
t o d en ot e t he p ro ba bi li ty o f r ea ch in g s ta te
s(c id:2)
i f a ct io n a i s d on e i n
"s ta te s . We wi ll as su me th at tr an si ti on sa re Ma rk ov ia ni nt he se ns eo f Ch ap te r 15,t ha ti s ,t he"
(c id:2)
p ro ba bi li ty of re ac hi ng s f ro ms de pe nd so nl yo ns an dn ot on th eh is to ry of ea rl ie rs ta te s . Fo r
"n ow , y ou c an t hi nk o f"
"P(s(c id:2)|s ,a)"
a s a b ig t hr ee-d im en si on al t ab le c on ta in in g p ro ba bi li ti es .
"La te r ,i n Se ct io n 17.4.3,w ew il ls ee th at th et ra ns it io nm od el ca nb er ep re se nt ed as ad yn am ic"
"Ba ye si an ne tw or k ,j us ta si n Ch ap te r 15."
"To co mp le te th ed ef in it io no ft he ta sk en vi ro nm en t , w em us ts pe ci fy th eu ti li ty fu nc ti on"
"f or t he a ge nt . Be ca us e t he d ec is io n p ro bl em i s s eq ue nt ia l , t he u ti li ty f un ct io n w il l d ep en d"
o n a s eq ue nc e o f s ta te s—a n e nv ir on me nt h is to ry—r at he r t ha n o n a s in gl e s ta te . La te r i n
"t hi s s ec ti on , w e i nv es ti ga te h ow s uc h u ti li ty f un ct io ns c an b e s pe ci fi ed i n g en er al ; f or n ow ,"
"w e s im pl y s ti pu la te t ha t i n e ac h s ta te s , t he a ge nt r ec ei ve s a r ew ar d R(s), w hi ch m ay b e"
REWARD
"p os it iv e o r n eg at iv e , b ut m us t b e b ou nd ed . Fo r o ur p ar ti cu la r e xa mp le , t he r ew ar d i s −0.04"
i n a ll s ta te s e xc ep t t he t er mi na l s ta te s (w hi ch h av e r ew ar ds +1 a nd –1). Th e u ti li ty o f a n
Se ct io n 17.1. Se qu en ti al De ci si on Pr ob le ms 647
"e nv ir on me nt h is to ry i s j us t (f or n ow) t he s um o f t he r ew ar ds r ec ei ve d . Fo r e xa mp le , i f t he"
"a ge nt r ea ch es t he +1 s ta te a ft er 10 s te ps , i ts t ot al u ti li ty w il l b e 0.6. Th e n eg at iv e r ew ar d o f"
"–0.04 g iv es t he a ge nt a n i nc en ti ve t o r ea ch (4,3) q ui ck ly , s o o ur e nv ir on me nt i s a s to ch as ti c"
g en er al iz at io n o f t he s ea rc h p ro bl em s o f Ch ap te r 3. An ot he r w ay o f s ay in g t hi s i s t ha t t he
a ge nt do es no te nj oy li vi ng in th is en vi ro nm en t a nd so wa nt st ol ea ve as so on as po ss ib le .
"To su mu p: a se qu en ti al de ci si on pr ob le mf or af ul ly ob se rv ab le ,s to ch as ti ce nv ir on me nt"
"MARKOVDECISION w it ha Ma rk ov ia nt ra ns it io nm od el an da dd it iv er ew ar ds is ca ll ed a Ma rk ov de ci si on pr oc es s ,"
PROCESS
"o r MDP ,a nd co ns is ts of as et of st at es(w it ha ni ni ti al st at es 0);a se t ACTIONS(s)o fa ct io ns"
"i ne ac hs ta te ;a tr an si ti on m od el P(s(c id:2)|s ,a);a nd ar ew ar df un ct io n R(s).1"
"Th en ex tq ue st io n i s ,w ha td oe sa so lu ti on t ot he pr ob le m l oo k l ik e ? We ha ve se en t ha t"
"a ny fi xe da ct io ns eq ue nc e w on’t so lv et he pr ob le m ,b ec au se th ea ge nt mi gh te nd up in as ta te"
"o th er th an th eg oa l . Th er ef or e ,a so lu ti on mu st sp ec if yw ha tt he ag en ts ho ul dd of or an ys ta te"
t ha tt he ag en tm ig ht re ac h . As ol ut io no ft hi sk in di sc al le da po li cy . It is tr ad it io na lt od en ot e
POLICY
"a p ol ic y b y π, a nd π(s) i s t he a ct io n r ec om me nd ed b y t he p ol ic y π f or s ta te s . If t he a ge nt"
"h as a co mp le te p ol ic y , t he n n o m at te rw ha t t he ou tc om e o f a ny ac ti on , t he ag en t w il la lw ay s"
k no ww ha tt od on ex t .
"Ea ch ti me ag iv en po li cy is ex ec ut ed st ar ti ng fr om th ei ni ti al st at e ,t he st oc ha st ic n at ur e"
o f t he e nv ir on me nt m ay l ea d t o a d if fe re nt e nv ir on me nt h is to ry . Th e q ua li ty o f a p ol ic y i s
t he re fo re m ea su re d b y t he e xp ec te d u ti li ty o f t he p os si bl e e nv ir on me nt h is to ri es g en er at ed
b y t ha t p ol ic y . An o pt im al p ol ic y i s a p ol ic y t ha t y ie ld s t he h ig he st e xp ec te d u ti li ty . We
OPTIMALPOLICY
∗ ∗
"u se π t o d en ot e a n o pt im al p ol ic y . Gi ve n π , t he a ge nt d ec id es w ha t t o d o b y c on su lt in g"
∗
"i ts c ur re nt p er ce pt , w hi ch t el ls i t t he c ur re nt s ta te s , a nd t he n e xe cu ti ng t he a ct io n π (s). A"
p ol ic yr ep re se nt st he ag en tf un ct io ne xp li ci tl ya nd is th er ef or ea de sc ri pt io no fa si mp le re fl ex
"a ge nt ,c om pu te d f ro mt he in fo rm at io n u se df or au ti li ty-b as ed a ge nt ."
An o pt im al p ol ic y f or t he w or ld o f Fi gu re 17.1 i s s ho wn i n Fi gu re 17.2(a). No ti ce
"t ha t , b ec au se t he c os t o f t ak in g a s te p i s f ai rl y s ma ll c om pa re d w it h t he p en al ty f or e nd in g"
"u p i n (4,2) b y a cc id en t , t he o pt im al p ol ic y f or t he s ta te (3,1) i s c on se rv at iv e . Th e p ol ic y"
"r ec om me nd s t ak in g t he l on g w ay r ou nd , r at he r t ha n t ak in g t he s ho rt cu t a nd t he re by r is ki ng"
"e nt er in g (4,2)."
Th eb al an ce of ri sk an dr ew ar dc ha ng es d ep en di ng o nt he va lu e o f R(s)f or th en on te r-
m in al s ta te s . Fi gu re 17.2(b) s ho ws o pt im al p ol ic ie s f or fo ur di ff er en t r an ge s o f R(s). Wh en
"R(s) ≤ −1.6284, l if e i s s o p ai nf ul t ha t t he a ge nt h ea ds s tr ai gh t f or t he n ea re st e xi t , e ve n i f"
"t he e xi t i s w or th –1. Wh en −0.4278 ≤ R(s) ≤ −0.0850, l if e i s q ui te u np le as an t ; t he a ge nt"
t ak es t he s ho rt es t r ou te t o t he +1 s ta te a nd i s w il li ng t o r is k f al li ng i nt o t he –1 s ta te b y a cc i-
"d en t . In p ar ti cu la r , t he a ge nt t ak es t he s ho rt cu t f ro m (3,1). Wh en l if e i s o nl y s li gh tl y d re ar y"
"(−0.0221 < R(s) < 0), t he op ti ma l p ol ic y t ak es n or is ks a ta ll . In(4,1)a nd(3,2), t he ag en t"
"h ea ds d ir ec tl y a wa y f ro m t he –1 s ta te s o t ha t i t c an no t f al l i n b y a cc id en t , e ve n t ho ug h t hi s"
"m ea ns b an gi ng i ts h ea d a ga in st t he w al l q ui te a f ew t im es . Fi na ll y , i f R(s) > 0, t he n l if e i s"
"p os it iv el y e nj oy ab le a nd t he a ge nt a vo id s b ot h e xi ts . As l on g a s t he a ct io ns i n (4,1), (3,2),"
"1 So me de fi ni ti on so f MDPs al lo wt he re wa rd to de pe nd on th ea ct io na nd ou tc om et oo ,s ot he re wa rd fu nc ti on"
"i s R(s ,a ,s(c id:3)). Th is s im pl if ie s t he d es cr ip ti on o f s om e e nv ir on me nt s b ut d oe s n ot c ha ng e t he p ro bl em i n a ny"
"f un da me nt al wa y ,a ss ho wn in Ex er ci se 17.4."
648 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
+1 +1
–1 –1
3 + 1
R(s) < –1.6284 – 0.4278 < R(s) < – 0.0850
2 –1
+1 +1
1
–1 –1
1 2 3 4
– 0.0221 < R(s) < 0 R(s) > 0
(a) (b)
Fi gu re 17.2 (a)An op ti ma lp ol ic yf or th es to ch as ti ce nv ir on me nt wi th R(s)= −0.04 i n
t he no nt er mi na ls ta te s . (b)Op ti ma lp ol ic ie sf or fo ur di ff er en tr an ge so f R(s).
"a nd(3,3)a re as sh ow n ,e ve ry po li cy is op ti ma l ,a nd th ea ge nt o bt ai ns in fi ni te to ta lr ew ar db e-"
"c au se it ne ve re nt er sa te rm in al st at e . Su rp ri si ng ly , i tt ur ns ou tt ha tt he re ar es ix ot he ro pt im al"
p ol ic ie s f or va ri ou sr an ge so f R(s);Ex er ci se 17.5 a sk sy ou to fi nd th em .
Th e c ar ef ul b al an ci ng o f r is k a nd r ew ar d i s a c ha ra ct er is ti c o f MDPs t ha t d oe s n ot
"a ri se i n d et er mi ni st ic s ea rc h p ro bl em s ; m or eo ve r , i t i s a c ha ra ct er is ti c o f m an y r ea l-w or ld"
"d ec is io n p ro bl em s . Fo r t hi s r ea so n , MDPs h av e b ee n s tu di ed i n s ev er al f ie ld s , i nc lu di ng"
"AI , o pe ra ti on s r es ea rc h , e co no mi cs , a nd c on tr ol t he or y . Do ze ns o f a lg or it hm s h av e b ee n"
p ro po se d f or c al cu la ti ng o pt im al p ol ic ie s . In s ec ti on s 17.2 a nd 17.3 w e d es cr ib e t wo o f t he
"m os t i mp or ta nt a lg or it hm f am il ie s . Fi rs t , h ow ev er , w e m us t c om pl et e o ur i nv es ti ga ti on o f"
u ti li ti es a nd po li ci es fo rs eq ue nt ia l d ec is io n p ro bl em s .
17.1.1 Ut il it ie so ve rt im e
"In th e MDPe xa mp le in Fi gu re 17.1,t he pe rf or ma nc e o ft he ag en tw as me as ur ed by as um of"
"r ew ar ds f or t he s ta te s v is it ed . Th is c ho ic e o f p er fo rm an ce m ea su re i s n ot a rb it ra ry , b ut i t i s"
"n ot t he o nl y p os si bi li ty f or t he u ti li ty f un ct io n o n e nv ir on me nt h is to ri es , w hi ch w e w ri te a s"
"U ([s ,s ,...,s ]). Ou ra na ly si sd ra ws on mu lt ia tt ri bu te ut il it yt he or y(Se ct io n 16.4)a nd"
h 0 1 n
i ss om ew ha tt ec hn ic al ; t he im pa ti en t r ea de rm ay wi sh to sk ip t ot he ne xt se ct io n .
Th ef ir st qu es ti on t oa ns we r i s w he th er th er e i s a f in it eh or iz on o ra n i nf in it eh or iz on
FINITEHORIZON
f or de ci si on m ak in g . Af in it eh or iz on m ea ns t ha tt he re i sa f ix ed t im e N a ft er wh ic hn ot hi ng
INFINITEHORIZON
"m at te rs—t he g am ei so ve r , s ot os pe ak . Th us , U ([s ,s ,...,s ])=U ([s ,s ,...,s ])"
h 0 1 N+k h 0 1 N
"f or al lk > 0. Fo re xa mp le ,s up po se an ag en ts ta rt sa t(3,1)i nt he 4×3 w or ld of Fi gu re 17.1,"
"a nd s up po se t ha t N =3. Th en , t o h av e a ny c ha nc e o f r ea ch in g t he +1 s ta te , t he a ge nt m us t"
"h ea d d ir ec tl y f or i t , a nd t he o pt im al a ct io n i s t o g o Up . On t he o th er h an d , i f N=100,"
"t he n t he re i s p le nt y o f t im e t o t ak e t he s af e r ou te b y g oi ng Le ft . So , w it h a f in it e h or iz on ,"
Se ct io n 17.1. Se qu en ti al De ci si on Pr ob le ms 649
t he o pt im al a ct io n i n a g iv en s ta te c ou ld c ha ng e o ve r t im e . We s ay t ha t t he o pt im al p ol ic y
"NONSTATIONARY f or a f in it e h or iz on i s n on st at io na ry . Wi th n o f ix ed t im e l im it , o n t he o th er h an d , t he re i s"
POLICY
"n o r ea so n t o b eh av e d if fe re nt ly i n t he s am e s ta te a t d if fe re nt t im es . He nc e , t he o pt im al a c-"
"t io n d ep en ds o nl y o n t he c ur re nt s ta te , a nd t he o pt im al p ol ic y i s s ta ti on ar y . Po li ci es f or th e"
STATIONARYPOLICY
"i nf in it e-h or iz on c as ea re th er ef or e s im pl er th an th os ef or th ef in it e-h or iz on c as e ,a nd we de al"
m ai nl y w it h t he i nf in it e-h or iz on c as e i n t hi s c ha pt er . (We w il l s ee l at er t ha t f or p ar ti al ly o b-
"s er va bl ee nv ir on me nt s ,t he in fi ni te-h or iz on ca se is no ts os im pl e .) No te th at“i nf in it eh or iz on”"
d oe s n ot n ec es sa ri ly m ea n t ha t a ll s ta te s eq ue nc es a re i nf in it e ; i t j us t m ea ns t ha t t he re i s n o
"f ix ed d ea dl in e . In p ar ti cu la r , t he re c an b e f in it e s ta te s eq ue nc es i n a n i nf in it e-h or iz on MDP"
c on ta in in g a te rm in al st at e .
Th en ex t q ue st io n w em us t d ec id e i s h ow t o c al cu la te t he u ti li ty o f s ta te s eq ue nc es . In
"t he te rm in ol og yo fm ul ti at tr ib ut e u ti li ty th eo ry ,e ac hs ta te s c an be vi ew ed as an at tr ib ut eo f"
i
"t he st at es eq ue nc e [s ,s ,s ...]. To ob ta in as im pl ee xp re ss io n i nt er ms of th ea tt ri bu te s , w e"
0 1 2
w il l n ee d t o m ak e s om e s or t o f p re fe re nc e-i nd ep en de nc e a ss um pt io n . Th e m os t n at ur al a s-
STATIONARY s um pt io ni st ha tt he ag en t’s p re fe re nc es b et we en st at es eq ue nc es a re st at io na ry . St at io na ri ty
PREFERENCE
(c id:2) (c id:2) (c id:2)
"f or pr ef er en ce sm ea ns th ef ol lo wi ng: i ft wo st at es eq ue nc es [s ,s ,s ,...]a nd[s ,s ,s ,...]"
0 1 2 0 1 2
(c id:2)
"b eg in wi th th es am es ta te(i .e .,s =s ),t he nt he tw os eq ue nc es sh ou ld be pr ef er en ce-o rd er ed"
0 0
(c id:2) (c id:2)
"t he sa me wa ya st he se qu en ce s[s ,s ,...]a nd[s ,s ,...]. In En gl is h ,t hi sm ea ns th at if yo u"
1 2 1 2
"p re fe r o ne f ut ur e t o a no th er s ta rt in g t om or ro w , t he n y ou s ho ul d s ti ll p re fe r t ha t f ut ur e i f i t"
w er e t o s ta rt t od ay i ns te ad . St at io na ri ty i s a f ai rl y i nn oc uo us-l oo ki ng a ss um pt io n w it h v er y
s tr on g c on se qu en ce s: i t t ur ns o ut t ha t u nd er s ta ti on ar it y t he re a re j us t t wo c oh er en t w ay s t o
a ss ig nu ti li ti es t os eq ue nc es:
1. Ad di ti ve re wa rd s: Th eu ti li ty of as ta te se qu en ce i s
ADDITIVEREWARD
"U ([s ,s ,s ,...]) = R(s )+R(s )+R(s )+··· ."
h 0 1 2 0 1 2
Th e 4×3 w or ld i n Fi gu re 17.1 u se s a dd it iv e r ew ar ds . No ti ce t ha t a dd it iv it y w as u se d
i mp li ci tl yi no ur us eo fp at hc os tf un ct io ns i nh eu ri st ic se ar ch al go ri th ms (Ch ap te r 3).
DISCOUNTED 2. Di sc ou nt ed re wa rd s: Th eu ti li ty of as ta te se qu en ce is
REWARD
"U ([s ,s ,s ,...]) = R(s )+γR(s )+γ2 R(s )+··· ,"
h 0 1 2 0 1 2
w he re th ed is co un tf ac to rγi sa nu mb er be tw ee n 0 a nd 1. Th ed is co un tf ac to rd es cr ib es
DISCOUNTFACTOR
t he p re fe re nc e o f a n a ge nt f or c ur re nt r ew ar ds o ve r f ut ur e r ew ar ds . Wh en γ i s c lo se
"t o 0, r ew ar ds i nt he d is ta nt f ut ur e a re v ie we d a s i ns ig ni fi ca nt . Wh en γ i s 1, d is co un te d"
"r ew ar ds a re e xa ct ly e qu iv al en t t o a dd it iv e r ew ar ds , s o a dd it iv e r ew ar ds a re a s pe ci al"
c as e o f d is co un te d r ew ar ds . Di sc ou nt in g a pp ea rs t o b e a g oo d m od el o f b ot h a ni ma l
a nd hu ma np re fe re nc es ov er ti me . Ad is co un tf ac to ro fγi se qu iv al en tt oa ni nt er es tr at e
o f(1/γ)−1.
"Fo r r ea so ns t ha t w il l s ho rt ly b ec om e c le ar , w e a ss um e d is co un te d r ew ar ds i n t he r em ai nd er"
"o ft he ch ap te r , a lt ho ug h s om et im es we al lo wγ=1."
Lu rk in g b en ea th o ur c ho ic e o f i nf in it e h or iz on s i s a p ro bl em: i f t he e nv ir on me nt d oe s
"n ot c on ta in a te rm in al s ta te , o ri ft he a ge nt n ev er re ac he s o ne , t he n a ll e nv ir on me nt h is to ri es"
"w il l b e i nf in it el y l on g , a nd u ti li ti es w it h a dd it iv e , u nd is co un te d r ew ar ds w il l g en er al ly b e"
650 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"i nf in it e . Wh il ew ec an ag re et ha t+∞i sb et te rt ha n−∞,c om pa ri ng tw os ta te se qu en ce sw it h"
"+∞u ti li ty is mo re di ff ic ul t . Th er ea re th re es ol ut io ns , t wo of wh ic hw eh av es ee na lr ea dy:"
"1. Wi th d is co un te d r ew ar ds , t he u ti li ty o f a n i nf in it e s eq ue nc e i s f in it e . In f ac t , i f γ < 1"
"a nd re wa rd sa re bo un de db y ±R ,w eh av e"
m ax
(c id:12)∞ (c id:12)∞
"U ([s ,s ,s ,...]) = γt R(s ) ≤ γt R = R /(1−γ), (17.1)"
h 0 1 2 t m ax m ax
t=0 t=0
u si ng th es ta nd ar d f or mu la fo rt he su mo fa ni nf in it eg eo me tr ic se ri es .
2. If th ee nv ir on me nt c on ta in s t er mi na l s ta te s a nd i ft he a ge nt i sg ua ra nt ee d t o g et to o ne
"e ve nt ua ll y , t he n w e w il l n ev er n ee d t o c om pa re i nf in it e s eq ue nc es . A p ol ic y t ha t i s"
"g ua ra nt ee d t or ea ch at er mi na ls ta te is ca ll ed ap ro pe rp ol ic y . Wi th pr op er po li ci es , w e"
PROPERPOLICY
"c an u se γ=1 (i .e ., a dd it iv e r ew ar ds). Th e f ir st t hr ee p ol ic ie s s ho wn i n Fi gu re 17.2(b)"
"a re pr op er ,b ut th ef ou rt hi si mp ro pe r . It ga in si nf in it et ot al re wa rd by st ay in ga wa yf ro m"
t he te rm in al st at es wh en th er ew ar df or th en on te rm in al st at es is po si ti ve . Th ee xi st en ce
o f i mp ro pe r p ol ic ie s c an c au se t he s ta nd ar d a lg or it hm s f or s ol vi ng MDPs t o f ai l w it h
"a dd it iv er ew ar ds ,a nd so pr ov id es a go od re as on fo ru si ng di sc ou nt ed r ew ar ds ."
3. In fi ni te s eq ue nc es c an b e c om pa re d i n t er ms o f t he a ve ra ge r ew ar d o bt ai ne d p er ti me
AVERAGEREWARD
"s te p . Su pp os e t ha t s qu ar e (1,1) i n t he 4×3 w or ld h as a r ew ar d o f 0.1 w hi le t he o th er"
n on te rm in al s ta te s h av e a r ew ar d o f 0.01. Th en a p ol ic y t ha t d oe s i ts b es t t o s ta y i n
"(1,1)w il lh av eh ig he ra ve ra ge r ew ar dt ha no ne th at st ay se ls ew he re . Av er ag e r ew ar di s"
"a u se fu l c ri te ri on f or s om e p ro bl em s , b ut t he a na ly si s o f a ve ra ge-r ew ar d a lg or it hm s i s"
b ey on dt he sc op eo ft hi sb oo k .
"In su m ,d is co un te d r ew ar ds pr es en t t he fe we st di ff ic ul ti es i ne va lu at in g s ta te se qu en ce s ."
17.1.2 Op ti ma lp ol ic ie sa nd t he ut il it ie s o fs ta te s
Ha vi ng d ec id ed t ha t t he u ti li ty o f a g iv en s ta te s eq ue nc e i s t he s um o f d is co un te d r ew ar ds
"o bt ai ne d d ur in g t he s eq ue nc e , w e c an c om pa re p ol ic ie s b y c om pa ri ng t he e xp ec te d u ti li ti es"
o bt ai ne d w he n e xe cu ti ng t he m . We a ss um e t he a ge nt i s i n s om e i ni ti al s ta te s a nd d ef in e S
t
(a r an do m v ar ia bl e) t o b e t he s ta te t he a ge nt r ea ch es a t t im e t w he n e xe cu ti ng a p ar ti cu la r
"p ol ic yπ. (Ob vi ou sl y , S =s ,t he st at et he ag en t i si nn ow .) Th ep ro ba bi li ty d is tr ib ut io n o ve r"
0
"s ta te se qu en ce s S ,S ,...,i sd et er mi ne db yt he in it ia ls ta te s ,t he po li cyπ,a nd th et ra ns it io n"
1 2
m od el fo rt he en vi ro nm en t .
Th ee xp ec te du ti li ty ob ta in ed b ye xe cu ti ngπ s ta rt in gi ns is gi ve nb y
""" #"
(c id:12)∞
"Uπ(s) = E γt R(S ) , (17.2)"
t
t=0
w he re t he e xp ec ta ti on i s w it h r es pe ct t ot he p ro ba bi li ty d is tr ib ut io n o ve rs ta te s eq ue nc es d e-
"t er mi ne db ys an dπ. No w ,o ut of al lt he po li ci es th ea ge nt co ul dc ho os et oe xe cu te st ar ti ng in"
∗
"s ,o ne(o rm or e)w il lh av eh ig he re xp ec te du ti li ti es th an al lt he ot he rs . We’l lu seπ t od en ot e"
s
o ne of th es ep ol ic ie s:
π∗ = a rg ma x Uπ(s). (17.3)
s
π
Se ct io n 17.1. Se qu en ti al De ci si on Pr ob le ms 651
∗
"Re me mb er t ha t π i s a p ol ic y , s o i t r ec om me nd s a n a ct io n f or e ve ry s ta te ; i ts c on ne ct io n"
s
w it h s i n p ar ti cu la r i s t ha t i t’s a n o pt im al p ol ic y w he n s i s t he s ta rt in g s ta te . A r em ar ka bl e
c on se qu en ce o f u si ng d is co un te d u ti li ti es w it h i nf in it e h or iz on s i s t ha t t he o pt im al p ol ic y i s
"i nd ep en de nt o f t he s ta rt in g s ta te . (Of c ou rs e , t he a ct io n s eq ue nc e w on’t b e i nd ep en de nt ;"
r em em be r t ha t a p ol ic y i s a f un ct io n s pe ci fy in g a n a ct io n f or e ac h s ta te .) Th is f ac t s ee ms
"i nt ui ti ve ly ob vi ou s: i fp ol ic yπ∗ i so pt im al st ar ti ng in aa nd po li cyπ∗ i so pt im al st ar ti ng in b ,"
a b
"t he n , w he n t he y r ea ch a t hi rd s ta te c , t he re’s n o g oo d r ea so n f or t he m t o d is ag re e w it h e ac h"
"o th er , o rw it hπ∗ ,a bo ut wh at to do ne xt .2 So we ca ns im pl yw ri teπ∗ f or an op ti ma lp ol ic y ."
c
"Gi ve n t hi s d ef in it io n , t he t ru e u ti li ty o f a s ta te i s j us t"
Uπ∗
"(s)—t ha t i s , t he e xp ec te d"
"s um o f d is co un te d r ew ar ds i f t he a ge nt e xe cu te s a n o pt im al p ol ic y . We w ri te t hi s a s U(s),"
m at ch in gt he no ta ti on u se di n Ch ap te r 16 f or th eu ti li ty o fa n o ut co me . No ti ce th at U(s)a nd
"R(s) a re q ui te d if fe re nt q ua nt it ie s ; R(s) i s t he “s ho rt t er m” r ew ar d f or b ei ng i n s , w he re as"
U(s) i s t he “l on g t er m” t ot al r ew ar d f ro m s o nw ar d . Fi gu re 17.3 s ho ws t he u ti li ti es f or t he
"4×3 w or ld . No ti ce th at th eu ti li ti es a re hi gh er fo rs ta te sc lo se rt ot he+1 e xi t ,b ec au se f ew er"
s te ps ar er eq ui re d t or ea ch th ee xi t .
3 0.812 0.868 0.918 + 1
2 0.762 0.660 –1
1 0.705 0.655 0.611 0.388
1 2 3 4
"Fi gu re 17.3 Th e u ti li ti es o f t he s ta te s i n t he 4×3 w or ld , c al cu la te d w it h γ=1 a nd"
R(s)= −0.04 f or no nt er mi na ls ta te s .
Th e u ti li ty f un ct io n U(s) a ll ow s t he a ge nt t o s el ec t a ct io ns b y u si ng t he p ri nc ip le o f
"m ax im um e xp ec te d u ti li ty f ro m Ch ap te r 16—t ha t i s , c ho os e t he a ct io n t ha t m ax im iz es t he"
e xp ec te du ti li ty of th es ub se qu en t s ta te:
(c id:12)
π∗
(s)= a rg ma x
"P(s(c id:2)|s ,a)U(s(c id:2)"
). (17.4)
a∈A(s)
s(c id:3)
Th en ex tt wo se ct io ns d es cr ib ea lg or it hm s f or fi nd in go pt im al po li ci es .
"2 Al th ou gh t hi s s ee ms o bv io us , i t d oe s n ot h ol d f or f in it e-h or iz on p ol ic ie s o r f or o th er w ay s o f c om bi ni ng"
"r ew ar ds ov er ti me . Th ep ro of fo ll ow sd ir ec tl yf ro mt he un iq ue ne ss of th eu ti li ty fu nc ti on on st at es ,a ss ho wn in"
Se ct io n 17.2.
652 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
17.2 VALUE ITERATION
"In t hi s s ec ti on , w e p re se nt a n a lg or it hm , c al le d v al ue i te ra ti on , f or c al cu la ti ng a n o pt im al"
VALUEITERATION
p ol ic y . Th eb as ic id ea is to ca lc ul at e t he ut il it yo fe ac hs ta te an dt he nu se th es ta te ut il it ie s t o
s el ec ta no pt im al ac ti on in ea ch st at e .
17.2.1 Th e Be ll ma ne qu at io n f or ut il it ie s
Se ct io n 17.1.2 d ef in ed th eu ti li ty of be in gi na st at ea st he ex pe ct ed su mo fd is co un te dr ew ar ds
"f ro m t ha t p oi nt o nw ar ds . Fr om t hi s , i t f ol lo ws t ha t t he re i s a d ir ec t r el at io ns hi p b et we en t he"
u ti li ty o fa st at e a nd t he ut il it y o fi ts ne ig hb or s: t he u ti li ty o fa st at e i st he im me di at e r ew ar d
"f or t ha t s ta te p lu s t he e xp ec te d d is co un te d u ti li ty o f t he n ex t s ta te , a ss um in g t ha t t he a ge nt"
"c ho os es th eo pt im al ac ti on . Th at is ,t he ut il it yo fa st at ei sg iv en by"
(c id:12)
U(s) = R(s)+γ m ax
"P(s(c id:2)|s ,a)U(s(c id:2)"
). (17.5)
a∈A(s)
s(c id:3)
"Th is i s c al le d t he Be ll ma n e qu at io n , a ft er Ri ch ar d Be ll ma n (1957). Th e u ti li ti es o f t he"
BELLMANEQUATION
s ta te s—d ef in ed by Eq ua ti on(17.2)a st he ex pe ct ed ut il it yo fs ub se qu en ts ta te se qu en ce s—a re
"s ol ut io ns o ft he s et o f Be ll ma n e qu at io ns . In f ac t , t he y a re t he u ni qu e s ol ut io ns , a s w es ho w"
i n Se ct io n 17.2.3.
Le t u s l oo k a t o ne o f t he Be ll ma n e qu at io ns f or t he 4×3 w or ld . Th e e qu at io n f or t he
"s ta te(1,1)i s"
"U(1,1) = −0.04+γ m ax[ 0.8 U(1,2)+0.1 U(2,1)+0.1 U(1,1), (Up)"
"0.9 U(1,1)+0.1 U(1,2), (Le ft)"
"0.9 U(1,1)+0.1 U(2,1), (Do wn)"
"0.8 U(2,1)+0.1 U(1,2)+0.1 U(1,1)]. (Ri gh t)"
"Wh en we pl ug in th en um be rs fr om Fi gu re 17.3,w ef in dt ha t Up is th eb es ta ct io n ."
17.2.2 Th e v al ue it er at io na lg or it hm
Th e Be ll ma ne qu at io n i st he ba si so ft he va lu ei te ra ti on al go ri th m f or so lv in g MDPs . If th er e
"a re np os si bl es ta te s ,t he nt he re ar en Be ll ma ne qu at io ns , o ne fo re ac hs ta te . Th en eq ua ti on s"
c on ta in nu nk no wn s—t he ut il it ie so ft he st at es . So we wo ul dl ik et os ol ve th es es im ul ta ne ou s
"e qu at io ns t of in dt he ut il it ie s . Th er ei so ne pr ob le m: t he eq ua ti on sa re no nl in ea r , b ec au se th e"
“m ax” o pe ra to r i s n ot a l in ea r o pe ra to r . Wh er ea s s ys te ms o f l in ea r e qu at io ns c an b e s ol ve d
"q ui ck ly us in gl in ea ra lg eb ra te ch ni qu es ,s ys te ms of no nl in ea re qu at io ns ar em or ep ro bl em at ic ."
"On et hi ng to tr yi sa ni te ra ti ve ap pr oa ch . We st ar tw it ha rb it ra ry in it ia lv al ue sf or th eu ti li ti es ,"
"c al cu la te t he r ig ht-h an d s id e o f t he e qu at io n , a nd p lu g i t i nt o t he l ef t-h an d s id e—t he re by"
u pd at in g t he u ti li ty o f e ac h s ta te f ro m t he u ti li ti es o f i ts n ei gh bo rs . We r ep ea t t hi s u nt il w e
r ea ch an eq ui li br iu m . Le t U (s)b et he ut il it yv al ue fo rs ta te sa tt he it hi te ra ti on . Th ei te ra ti on
i
"s te p ,c al le da Be ll ma nu pd at e ,l oo ks li ke th is:"
BELLMANUPDATE
(c id:12)
"U (s)← R(s)+γ m ax P(s(c id:2)|s ,a)U (s(c id:2) ), (17.6)"
i+1 i
a∈A(s)
s(c id:3)
Se ct io n 17.2. Va lu e It er at io n 653
"f un ct io n VALUE-ITERATION(m dp ,(c id:2))r et ur ns au ti li ty fu nc ti on"
"i np ut s:m dp ,a n MDPw it hs ta te s S ,a ct io ns A(s),t ra ns it io nm od el P(s(c id:5)|s ,a),"
"r ew ar ds R(s),d is co un tγ"
"(c id:2),t he ma xi mu me rr or al lo we di nt he ut il it yo fa ny st at e"
"l oc al va ri ab le s: U ,U(c id:5),v ec to rs of ut il it ie sf or st at es in S ,i ni ti al ly ze ro"
"δ,t he ma xi mu mc ha ng ei nt he ut il it yo fa ny st at ei na ni te ra ti on"
r ep ea t
U ←U(c id:5);δ←0
f or ea ch st at es i n S d o (c id:12)
"U(c id:5)[s]←R(s) + γ m ax P(s(c id:5)|s ,a)U[s(c id:5)]"
a∈A(s)
s(c id:3)
i f|U(c id:5)[s] − U[s]| > δt he nδ←|U(c id:5)[s] − U[s]|
u nt ilδ < (c id:2)(1−γ)/γ
r et ur n U
Fi gu re 17.4 Th ev al ue it er at io na lg or it hm fo rc al cu la ti ng ut il it ie so f s ta te s . Th et er mi na-
t io nc on di ti on is fr om Eq ua ti on(17.8).
1
0.8
0.6
0.4
0.2
0
-0.2
0 5 10 15 20 25 30
s et am it se
y ti li t U
1 e+07
"(4,3)"
"(3,3) 1 e+06"
"(1,1) 100000"
"(3,1)"
10000
"(4,1)"
1000
100
10
1
0.50.550.60.650.70.750.80.850.90.95 1
Nu mb er o f i te ra ti on s
d er iu qe r
s no it ar et I
c = 0.0001
c = 0.001
c = 0.01
c = 0.1
Di sc ou nt f ac to r γ
(a) (b)
Fi gu re 17.5 (a)Gr ap hs ho wi ng th ee vo lu ti on of th eu ti li ti es of se le ct ed st at es us in gv al ue
i te ra ti on . (b) Th e n um be r o f v al ue i te ra ti on s k r eq ui re d t o g ua ra nt ee a n e rr or o f a t m os t
"(c id:2)=c·R ,f or di ff er en tv al ue so fc ,a sa fu nc ti on of th ed is co un tf ac to rγ."
m ax
w he re t he u pd at e i s a ss um ed t o b e a pp li ed s im ul ta ne ou sl y t o a ll t he s ta te s a t e ac h i te ra ti on .
"If w e a pp ly t he Be ll ma n u pd at e i nf in it el y o ft en , w e a re g ua ra nt ee d t o r ea ch a n e qu il ib ri um"
"(s ee Se ct io n 17.2.3), i n w hi ch c as e t he f in al u ti li ty v al ue s m us t b e s ol ut io ns t o t he Be ll ma n"
"e qu at io ns . In fa ct , t he ya re al so th eu ni qu es ol ut io ns , a nd th ec or re sp on di ng p ol ic y(o bt ai ne d"
"u si ng Eq ua ti on (17.4)) i s o pt im al . Th e a lg or it hm , c al le d VALUE-ITERATION , i s s ho wn i n"
Fi gu re 17.4.
We ca n a pp ly v al ue i te ra ti on t o t he 4×3 w or ld i n Fi gu re 17.1(a). St ar ti ng w it h i ni ti al
"v al ue so fz er o ,t he ut il it ie se vo lv ea ss ho wn in Fi gu re 17.5(a). No ti ce ho wt he st at es at di ff er-"
654 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"e nt di st an ce sf ro m(4,3)a cc um ul at en eg at iv er ew ar du nt il ap at hi sf ou nd to(4,3),w he re up on"
t he u ti li ti es s ta rt t o i nc re as e . We c an t hi nk o f t he v al ue i te ra ti on a lg or it hm a s p ro pa ga ti ng
i nf or ma ti on t hr ou gh t he st at es pa ce by me an so fl oc al up da te s .
17.2.3 Co nv er ge nc e o fv al ue it er at io n
We sa id t ha t v al ue i te ra ti on e ve nt ua ll y c on ve rg es t oa un iq ue s et o fs ol ut io ns o ft he Be ll ma n
"e qu at io ns . In t hi s s ec ti on , w e e xp la in w hy t hi s h ap pe ns . We i nt ro du ce s om e u se fu l m at he-"
"m at ic al id ea sa lo ng th ew ay ,a nd we ob ta in so me me th od sf or as se ss in gt he er ro ri nt he ut il it y"
f un ct io n r et ur ne d w he nt he al go ri th m i st er mi na te de ar ly ;t hi si su se fu lb ec au se i tm ea ns th at
w ed on’t ha ve to ru nf or ev er . Th is se ct io n i sq ui te te ch ni ca l .
Th eb as ic co nc ep tu se di ns ho wi ng th at va lu ei te ra ti on co nv er ge si st he no ti on of ac on-
"t ra ct io n . Ro ug hl ys pe ak in g ,a co nt ra ct io ni sa fu nc ti on of on ea rg um en tt ha t ,w he na pp li ed to"
CONTRACTION
"t wo di ff er en t i np ut s i nt ur n , p ro du ce s t wo ou tp ut va lu es t ha ta re“c lo se rt og et he r ,” b ya tl ea st"
"s om e c on st an t f ac to r , t ha n t he o ri gi na l i np ut s . Fo re xa mp le , t he f un ct io n “d iv id e b y t wo” i s"
"a c on tr ac ti on , b ec au se , a ft er w e d iv id e a ny t wo n um be rs b y t wo , t he ir d if fe re nc e i s h al ve d ."
"No ti ce th at th e“d iv id eb yt wo”f un ct io n h as af ix ed po in t , n am el yz er o ,t ha ti su nc ha ng ed b y"
"t he a pp li ca ti on o ft he f un ct io n . Fr om th is e xa mp le , w ec an d is ce rn t wo im po rt an t p ro pe rt ie s"
o fc on tr ac ti on s:
• A c on tr ac ti on h as o nl y o ne f ix ed p oi nt ; i f t he re w er e t wo f ix ed p oi nt s t he y w ou ld n ot
"g et cl os er to ge th er wh en th ef un ct io n w as ap pl ie d , s oi tw ou ld no tb ea co nt ra ct io n ."
"• Wh en t he f un ct io n i s a pp li ed t o a ny a rg um en t , t he v al ue m us t g et c lo se r t o t he f ix ed"
"p oi nt (b ec au se t he f ix ed po in t d oe s n ot m ov e), s o r ep ea te d a pp li ca ti on o f a co nt ra ct io n"
a lw ay sr ea ch es th ef ix ed po in ti nt he li mi t .
"No w ,s up po se we vi ew th e Be ll ma nu pd at e(Eq ua ti on(17.6))a sa no pe ra to r B t ha ti sa pp li ed"
s im ul ta ne ou sl y t ou pd at e t he ut il it yo fe ve ry st at e . Le t U d en ot et he ve ct or of ut il it ie s f or al l
i
t he st at es at th ei th it er at io n . Th en th e Be ll ma nu pd at ee qu at io nc an be wr it te na s
U ← BU .
i+1 i
"Ne xt ,w en ee da wa yt om ea su re di st an ce sb et we en ut il it yv ec to rs . We wi ll us et he ma xn or m ,"
MAXNORM
w hi ch me as ur es th e“l en gt h”o fa ve ct or by th ea bs ol ut e v al ue o fi ts bi gg es t c om po ne nt:
||U|| =m ax|U(s)|.
s
"Wi th t hi s d ef in it io n , t he “d is ta nc e” b et we en t wo v ec to rs , ||U − U(c id:2)||, i s t he m ax im um d if-"
f er en ce b et we en a ny t wo c or re sp on di ng e le me nt s . Th e m ai n r es ul t o f t hi s s ec ti on i s t he
(c id:2)
f ol lo wi ng: Le t U a nd U b ea ny tw ou ti li ty ve ct or s . Th en we ha ve
i i
||BU −BU(c id:2)|| ≤γ||U −U(c id:2)||. (17.7)
i i i i
"Th at i s , t he Be ll ma n u pd at e i s a c on tr ac ti on b y a f ac to r o f γ o n t he s pa ce o f u ti li ty v ec to rs ."
"(Ex er ci se 17.6 p ro vi de ss om eg ui da nc eo np ro vi ng th is cl ai m .) He nc e ,f ro mt he pr op er ti es of"
"c on tr ac ti on s i n g en er al , i t f ol lo ws t ha t v al ue i te ra ti on a lw ay s c on ve rg es t o a u ni qu e s ol ut io n"
o ft he Be ll ma ne qu at io ns w he ne ve rγ < 1.
Se ct io n 17.2. Va lu e It er at io n 655
We c an a ls o u se t he c on tr ac ti on p ro pe rt y t o a na ly ze t he r at e o f c on ve rg en ce t o a s ol u-
(c id:2)
"t io n . In p ar ti cu la r , w e c an r ep la ce U i n Eq ua ti on (17.7) w it h t he t ru e u ti li ti es U , f or w hi ch"
i
BU=U . Th en we ob ta in th ei ne qu al it y
||BU −U|| ≤ γ||U −U||.
i i
"So ,i fw ev ie w||U −U||a st he er ro ri nt he es ti ma te U ,w es ee th at th ee rr or is re du ce db ya"
i i
f ac to ro fa tl ea st γ o ne ac hi te ra ti on . Th is me an st ha tv al ue it er at io n c on ve rg es e xp on en ti al ly
f as t . We c an c al cu la te t he n um be r o f i te ra ti on s r eq ui re d t o r ea ch a s pe ci fi ed e rr or b ou nd (c id:2)
"a s f ol lo ws: Fi rs t , r ec al l f ro m Eq ua ti on (17.1) t ha t t he u ti li ti es o f a ll s ta te s a re b ou nd ed b y"
±R /(1−γ). Th is m ea ns t ha t t he m ax im um i ni ti al e rr or ||U −U|| ≤ 2 R /(1−γ).
m ax 0 m ax
"Su pp os e w e r un f or N i te ra ti on s t o r ea ch a n e rr or o f a t m os t (c id:2). Th en , b ec au se t he e rr or i s"
"r ed uc ed by at le as t γ e ac ht im e ,w er eq ui re γN ·2 R /(1−γ) ≤ (c id:2). Ta ki ng lo gs ,w ef in d"
m ax
N=(l og(2 R /(c id:2)(1−γ))/l og(1/γ))
m ax
"i te ra ti on s s uf fi ce . Fi gu re 17.5(b)s ho ws ho w N v ar ie sw it hγ,f or di ff er en t v al ue so ft he ra ti o"
"(c id:2)/R . Th e g oo d n ew s i s t ha t , b ec au se o f t he e xp on en ti al ly f as t c on ve rg en ce , N d oe s n ot"
m ax
d ep en dm uc ho nt he ra ti o(c id:2)/R . Th eb ad ne ws is th at N g ro ws ra pi dl ya sγ b ec om es cl os e
m ax
"t o 1. We c an g et f as t c on ve rg en ce i f w e m ak e γ s ma ll , b ut t hi s e ff ec ti ve ly g iv es t he a ge nt a"
s ho rt ho ri zo na nd co ul dm is st he lo ng-t er m e ff ec ts of th ea ge nt’s a ct io ns .
Th e e rr or b ou nd i n t he p re ce di ng p ar ag ra ph g iv es s om e i de a o f t he f ac to rs i nf lu en ci ng
"t he r un t im e o f t he a lg or it hm , b ut i s s om et im es o ve rl y c on se rv at iv e a s a m et ho d o f d ec id in g"
"w he n t o s to p t he i te ra ti on . Fo r t he l at te r p ur po se , w e c an u se a b ou nd r el at in g t he e rr or"
t o t he s iz e o f t he Be ll ma n u pd at e o n a ny g iv en i te ra ti on . Fr om t he c on tr ac ti on p ro pe rt y
"(Eq ua ti on(17.7)),i tc an be sh ow nt ha ti ft he up da te is sm al l(i .e .,n os ta te’s ut il it yc ha ng es by"
"m uc h),t he nt he er ro r ,c om pa re dw it ht he tr ue ut il it yf un ct io n , a ls oi ss ma ll . Mo re pr ec is el y ,"
i f ||U −U || < (c id:2)(1−γ)/γ t he n ||U −U|| < (c id:2). (17.8)
i+1 i i+1
Th is is th et er mi na ti on co nd it io n u se di nt he VALUE-ITERATION a lg or it hm o f Fi gu re 17.4.
"So fa r , w eh av ea na ly ze d t he er ro ri nt he ut il it y f un ct io n r et ur ne d b yt he va lu ei te ra ti on"
"a lg or it hm . Wh at t he a ge nt r ea ll y c ar es a bo ut , h ow ev er , i s h ow w el l i t w il l d o i f i t m ak es i ts"
"d ec is io ns on th eb as is of th is ut il it yf un ct io n . Su pp os et ha ta ft er ii te ra ti on so fv al ue it er at io n ,"
t he a ge nt h as a n e st im at e U o f t he t ru e u ti li ty U a nd o bt ai ns t he MEU p ol ic y π b as ed o n
i i
o ne-s te p l oo k-a he ad u si ng U (a s i n Eq ua ti on (17.4)). Wi ll t he r es ul ti ng b eh av io r b e n ea rl y
i
"a sg oo da st he op ti ma lb eh av io r ? Th is is ac ru ci al qu es ti on fo ra ny re al ag en t ,a nd it tu rn so ut"
"t ha t t he a ns we r i s y es . Uπi(s) i s t he u ti li ty o bt ai ne d i f π i s e xe cu te d s ta rt in g i n s , a nd t he"
i
p ol ic y l os s ||Uπi −U||i st he m os tt he ag en t c an lo se b ye xe cu ti ng π i ns te ad o ft he op ti ma l
POLICYLOSS i
∗
p ol ic yπ . Th ep ol ic yl os so fπ i sc on ne ct ed t ot he er ro ri n U b yt he fo ll ow in gi ne qu al it y:
i i
i f ||U −U||< (c id:2) t he n ||Uπi −U|| < 2(c id:2)γ/(1−γ). (17.9)
i
"In pr ac ti ce ,i to ft en oc cu rs th atπ b ec om es op ti ma ll on gb ef or e U h as co nv er ge d . Fi gu re 17.6"
i i
s ho ws ho wt he m ax im um er ro ri n U a nd t he po li cy l os sa pp ro ac h z er oa st he va lu e i te ra ti on
i
"p ro ce ss pr oc ee ds fo rt he 4×3 e nv ir on me nt wi thγ=0.9. Th ep ol ic yπ i so pt im al wh en i=4,"
i
e ve nt ho ug ht he ma xi mu me rr or in U i ss ti ll 0.46.
i
No w w e h av e e ve ry th in g w e n ee d t o u se v al ue i te ra ti on i n p ra ct ic e . We k no w t ha t
"i t c on ve rg es t o t he c or re ct u ti li ti es , w e c an b ou nd t he e rr or i n t he u ti li ty e st im at es i f w e"
656 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"s to p a ft er a f in it e n um be r o f i te ra ti on s , a nd w e c an b ou nd t he p ol ic y l os s t ha t r es ul ts f ro m"
"e xe cu ti ng t he c or re sp on di ng MEU p ol ic y . As a f in al n ot e , a ll o f t he r es ul ts i n t hi s s ec ti on"
"d ep en d o n d is co un ti ng w it h γ < 1. If γ=1 a nd t he e nv ir on me nt c on ta in s t er mi na l s ta te s ,"
t he n a s im il ar s et o f c on ve rg en ce r es ul ts a nd e rr or b ou nd s c an b e d er iv ed w he ne ve r c er ta in
t ec hn ic al c on di ti on s a re sa ti sf ie d .
17.3 POLICY ITERATION
"In t he p re vi ou s s ec ti on , w e o bs er ve d t ha t i t i s p os si bl e t o g et a n o pt im al p ol ic y e ve n w he n"
"t he u ti li ty f un ct io n e st im at e i s i na cc ur at e . If o ne a ct io n i s c le ar ly b et te r t ha n a ll o th er s , t he n"
t he e xa ct m ag ni tu de o f t he u ti li ti es o n t he s ta te s i nv ol ve d n ee d n ot b e p re ci se . Th is i ns ig ht
s ug ge st sa na lt er na ti ve wa yt of in do pt im al po li ci es . Th ep ol ic yi te ra ti on al go ri th ma lt er na te s
POLICYITERATION
"t he fo ll ow in gt wo st ep s ,b eg in ni ng f ro ms om ei ni ti al po li cy π :"
0
"• Po li cy e va lu at io n: g iv en a p ol ic y π , c al cu la te U =Uπi , t he u ti li ty o f e ac h s ta te i f π"
POLICYEVALUATION i i i
w er et ob ee xe cu te d .
"POLICY • Po li cy i mp ro ve me nt: Ca lc ul at e a n ew MEU p ol ic y π , u si ng o ne-s te p l oo k-a he ad"
IMPROVEMENT i+1
b as ed on U (a si n Eq ua ti on(17.4)).
i
Th ea lg or it hm t er mi na te sw he nt he po li cy im pr ov em en ts te py ie ld sn oc ha ng ei nt he ut il it ie s .
"At th is p oi nt , w e k no w t ha t t he u ti li ty f un ct io n U i s a f ix ed p oi nt o f t he Be ll ma n u pd at e , s o"
i
"i ti sa so lu ti on t ot he Be ll ma ne qu at io ns , a ndπ m us tb ea no pt im al po li cy . Be ca us et he re ar e"
i
"o nl yf in it el ym an yp ol ic ie s f or af in it es ta te sp ac e , a nd ea ch it er at io n c an be sh ow nt oy ie ld a"
"b et te rp ol ic y ,p ol ic yi te ra ti on m us tt er mi na te . Th ea lg or it hm i ss ho wn in Fi gu re 17.7."
"Th e p ol ic y i mp ro ve me nt s te p i s o bv io us ly s tr ai gh tf or wa rd , b ut h ow d o w e i mp le me nt"
t he POLICY-EVALUATION r ou ti ne ? It t ur ns o ut t ha t d oi ng s o i s m uc h s im pl er t ha n s ol vi ng
"t he s ta nd ar d Be ll ma n e qu at io ns (w hi ch i s w ha t v al ue i te ra ti on d oe s), b ec au se t he a ct io n i n"
"e ac hs ta te is fi xe db yt he po li cy . At th ei th it er at io n , t he po li cyπ s pe ci fi es th ea ct io nπ (s)i n"
i i
1
0.8
0.6
0.4
0.2
0
0 2 4 6 8 10 12 14
s so l
y ci lo P/r or re
x a M
Ma x e rr or
Po li cy l os s
Nu mb er o f i te ra ti on s
Fi gu re 17.6 Th e m ax im um e rr or ||Ui −U|| o f t he u ti li ty e st im at es a nd t he p ol ic y l os s
"||Uπi −U||,a sa fu nc ti on of th en um be ro fi te ra ti on so fv al ue it er at io n ."
Se ct io n 17.3. Po li cy It er at io n 657
s ta te s . Th is me an st ha tw eh av ea si mp li fi ed ve rs io n o ft he Be ll ma ne qu at io n (17.5)r el at in g
t he ut il it yo fs(u nd erπ )t ot he ut il it ie so fi ts ne ig hb or s:
i
(c id:12)
U (s)= R(s)+γ
"P(s(c id:2)|s ,π"
(s))U
(s(c id:2)
). (17.10)
i i i
s(c id:3)
"Fo re xa mp le ,s up po se π i st he po li cy sh ow ni n Fi gu re 17.2(a). Th en we ha veπ (1,1)=Up ,"
i i
"π (1,2)=Up ,a nd so on ,a nd th es im pl if ie d Be ll ma ne qu at io ns a re"
i
"U (1,1) = −0.04+0.8 U (1,2)+0.1 U (1,1)+0.1 U (2,1),"
i i i i
"U (1,2) = −0.04+0.8 U (1,3)+0.2 U (1,2),"
i i i
.
.
.
"Th e i mp or ta nt p oi nt i s t ha t t he se e qu at io ns a re l in ea r , b ec au se t he “m ax”o pe ra to r h as b ee n"
"r em ov ed . Fo r n s ta te s , w e h av e n l in ea r e qu at io ns w it h n u nk no wn s , w hi ch c an b e s ol ve d"
e xa ct ly in ti me O(n 3)b ys ta nd ar dl in ea ra lg eb ra me th od s .
"Fo rs ma ll st at es pa ce s ,p ol ic ye va lu at io nu si ng ex ac ts ol ut io nm et ho ds is of te nt he mo st"
"e ff ic ie nt a pp ro ac h . Fo r l ar ge s ta te s pa ce s , O(n 3) t im e m ig ht b e p ro hi bi ti ve . Fo rt un at el y , i t"
"i s n ot n ec es sa ry t o d o e xa ct p ol ic y e va lu at io n . In st ea d , w e c an p er fo rm s om e n um be r o f"
s im pl if ie d v al ue i te ra ti on s te ps (s im pl if ie d b ec au se t he p ol ic y i s f ix ed) t o g iv e a r ea so na bl y
g oo da pp ro xi ma ti on o ft he ut il it ie s . Th es im pl if ie d Be ll ma nu pd at ef or th is pr oc es si s
(c id:12)
"U (s)← R(s)+γ P(s(c id:2)|s ,π (s))U (s(c id:2) ),"
i+1 i i
s(c id:3)
a nd t hi s i s r ep ea te d k t im es t o p ro du ce t he n ex t u ti li ty e st im at e . Th e r es ul ti ng a lg or it hm i s
MODIFIEDPOLICY c al le dm od if ie dp ol ic yi te ra ti on . It is of te nm uc hm or ee ff ic ie nt th an st an da rd po li cy it er at io n
ITERATION
o rv al ue it er at io n .
f un ct io n POLICY-ITERATION(m dp)r et ur ns ap ol ic y
"i np ut s:m dp ,a n MDPw it hs ta te s S ,a ct io ns A(s),t ra ns it io nm od el P(s(c id:5)|s ,a)"
"l oc al va ri ab le s: U ,a ve ct or of ut il it ie sf or st at es in S ,i ni ti al ly ze ro"
"π,a po li cy ve ct or in de xe db ys ta te ,i ni ti al ly ra nd om"
r ep ea t
"U ←POLICY-EVALUATION(π,U ,m dp)"
u nc ha ng ed ?←t ru e
f or ea ch st at es(c id:12)i n S d o (c id:12)
i f m ax
"P(s(c id:5)|s ,a)U[s(c id:5)"
] >
"P(s(c id:5)|s ,π[s])U[s(c id:5)"
]t he nd o
a∈A(s)
s(c id:3) (c id:12) s(c id:3)
"π[s]←a rg ma x P(s(c id:5)|s ,a)U[s(c id:5) ]"
a∈A(s)
s(c id:3)
u nc ha ng ed ?←f al se
u nt il un ch an ge d ?
r et ur nπ
Fi gu re 17.7 Th ep ol ic yi te ra ti on al go ri th mf or ca lc ul at in ga no pt im al po li cy .
658 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
Th e a lg or it hm s w e h av e d es cr ib ed s o f ar r eq ui re u pd at in g t he u ti li ty o r p ol ic y f or a ll
"s ta te s a t o nc e . It t ur ns o ut t ha t t hi s i s n ot s tr ic tl y n ec es sa ry . In f ac t , o n e ac h i te ra ti on , w e"
c an p ic k a ny s ub se t o fs ta te s a nd a pp ly e it he r k in d o fu pd at in g (p ol ic y i mp ro ve me nt o rs im-
p li fi ed v al ue i te ra ti on) t o t ha t s ub se t . Th is v er y g en er al a lg or it hm i s c al le d a sy nc hr on ou s
"ASYNCHRONOUS p ol ic y i te ra ti on . Gi ve n c er ta in c on di ti on s o n t he i ni ti al p ol ic y a nd i ni ti al u ti li ty f un ct io n ,"
POLICYITERATION
a sy nc hr on ou s p ol ic y i te ra ti on i s g ua ra nt ee d t o c on ve rg e t o a n o pt im al p ol ic y . Th e f re ed om
t o c ho os e a ny s ta te s t o w or k o n m ea ns t ha t w e c an d es ig n m uc h m or e e ff ic ie nt h eu ri st ic
"a lg or it hm s—f or e xa mp le , a lg or it hm s t ha t c on ce nt ra te o n u pd at in g t he v al ue s o f s ta te s t ha t"
a re li ke ly t ob er ea ch ed by ag oo dp ol ic y . Th is ma ke sa lo to fs en se in re al li fe: i fo ne ha sn o
"i nt en ti on o ft hr ow in g o ne se lf o ff ac li ff , o ne sh ou ld n ot sp en d t im ew or ry in g a bo ut t he ex ac t"
v al ue of th er es ul ti ng s ta te s .
17.4 PARTIALLY OBSERVABLE MDPS
Th ed es cr ip ti on o f Ma rk ov d ec is io n p ro ce ss es i n Se ct io n 17.1 a ss um ed t ha t t he en vi ro nm en t
"w as f ul ly o bs er va bl e . Wi th t hi s a ss um pt io n , t he a ge nt a lw ay s k no ws w hi ch s ta te i t i s i n ."
"Th is ,c om bi ne dw it ht he Ma rk ov as su mp ti on fo rt he tr an si ti on mo de l ,m ea ns th at th eo pt im al"
"p ol ic yd ep en ds on ly on th ec ur re nt st at e . Wh en th ee nv ir on me nt is on ly pa rt ia ll yo bs er va bl e ,"
"t he s it ua ti on i s , o ne m ig ht s ay , m uc h l es s c le ar . Th e a ge nt d oe s n ot n ec es sa ri ly k no w w hi ch"
"s ta te it is in ,s oi tc an no te xe cu te th ea ct io nπ(s)r ec om me nd ed fo rt ha ts ta te . Fu rt he rm or e ,t he"
"u ti li ty o fa st at es an dt he op ti ma la ct io ni ns de pe nd n ot ju st on s ,b ut al so on ho wm uc ht he"
"PARTIALLY a ge nt k no ws w he ni ti si ns . Fo rt he se r ea so ns , p ar ti al ly o bs er va bl e MDPs(o r POMDPs—"
OBSERVABLEMDP
p ro no un ce d“p om-d ee-p ee s”)a re us ua ll yv ie we da sm uc hm or ed if fi cu lt th an or di na ry MDPs .
"We ca nn ot av oi d POMDPs ,h ow ev er ,b ec au se th er ea lw or ld is on e ."
17.4.1 De fi ni ti on of POMDPs
"To g et a h an dl e o n POMDPs , w e m us t f ir st d ef in e t he m p ro pe rl y . A POMDP h as t he s am e"
"e le me nt s a s a n MDP—t he t ra ns it io n m od el P(s(c id:2)|s ,a), a ct io ns A(s), a nd r ew ar d f un ct io n"
"R(s)—b ut , l ik e t he p ar ti al ly o bs er va bl e s ea rc h p ro bl em s o f Se ct io n 4.4, i ta ls o h as a se ns or"
"m od el P(e|s). He re ,a si n Ch ap te r 15,t he se ns or mo de ls pe ci fi es th ep ro ba bi li ty o fp er ce iv-"
"i ng e vi de nc e e i n s ta te s .3 Fo r e xa mp le , w e c an c on ve rt t he 4×3 w or ld o f Fi gu re 17.1 i nt o"
a POMDP b y a dd in g a n oi sy o r p ar ti al s en so r i ns te ad o f a ss um in g t ha t t he a ge nt k no ws i ts
"l oc at io n e xa ct ly . Su ch as en so rm ig ht me as ur e t he n um be r o fa dj ac en t w al ls , w hi ch ha pp en s"
"t o b e 2 i n a ll t he n on te rm in al s qu ar es e xc ep t f or t ho se i n t he t hi rd c ol um n , w he re t he v al ue"
i s 1;a no is yv er si on mi gh tg iv et he wr on gv al ue wi th pr ob ab il it y 0.1.
"In Ch ap te rs 4 a nd 11, w e s tu di ed n on de te rm in is ti c a nd p ar ti al ly o bs er va bl e p la nn in g"
p ro bl em s a nd id en ti fi ed t he b el ie fs ta te—t he s et of ac tu al s ta te s t he a ge nt m ig ht b ei n—a s a
"k ey co nc ep tf or de sc ri bi ng an dc al cu la ti ng so lu ti on s . In POMDPs ,t he be li ef st at eb be co me sa"
"p ro ba bi li ty d is tr ib ut io n o ve ra ll po ss ib le st at es ,j us ta si n Ch ap te r 15. Fo re xa mp le , t he in it ia l"
"3 As wi th th er ew ar df un ct io nf or MDPs ,t he se ns or mo de lc an al so de pe nd on th ea ct io na nd ou tc om es ta te ,b ut"
a ga in th is ch an ge is no tf un da me nt al .
Se ct io n 17.4. Pa rt ia ll y Ob se rv ab le MDPs 659
b el ie fs ta te fo rt he 4×3 POMDPc ou ld be th eu ni fo rm di st ri bu ti on o ve rt he ni ne no nt er mi na l
"s ta te s , i .e ., (c id:16)1,1, 1,1, 1,1,1, 1,1,0,0(c id:17). We w ri te b(s) f or t he p ro ba bi li ty a ss ig ne d t o t he"
9 9 9 9 9 9 9 9 9
a ct ua ls ta te sb yb el ie fs ta te b . Th ea ge nt ca nc al cu la te it sc ur re nt be li ef st at ea st he co nd it io na l
p ro ba bi li ty d is tr ib ut io n o ve r t he a ct ua l s ta te s g iv en t he s eq ue nc e o f p er ce pt s a nd a ct io ns s o
f ar . Th is is es se nt ia ll yt he fi lt er in gt as kd es cr ib ed in Ch ap te r 15. Th eb as ic re cu rs iv ef il te ri ng
e qu at io n (15.5 o n p ag e 572) s ho ws h ow t o c al cu la te t he n ew b el ie f s ta te f ro m t he p re vi ou s
"b el ie f s ta te a nd t he ne w e vi de nc e . Fo r POMDPs ,w ea ls o h av e a na ct io n t o c on si de r , b ut t he"
"r es ul t i se ss en ti al ly t he sa me . If b(s)w as th e p re vi ou s b el ie f s ta te , a nd t he ag en t d oe s a ct io n"
"a an dt he np er ce iv es ev id en ce e ,t he nt he ne wb el ie fs ta te is gi ve nb y"
(c id:12)
b(c id:2) (s(c id:2)
)=
αP(e|s(c id:2)
)
"P(s(c id:2)|s ,a)b(s),"
s
w he re αi s a no rm al iz in g c on st an t t ha t m ak es t he b el ie f s ta te s um t o 1. By an al og y w it h t he
"u pd at eo pe ra to rf or fi lt er in g(p ag e 572),w ec an wr it et hi sa s"
(c id:2)
"b = FORWARD(b ,a ,e). (17.11)"
"In th e 4×3 POMDP ,s up po se th ea ge nt mo ve s Le ft an di ts se ns or re po rt s 1 a dj ac en tw al l ;t he n"
"i t’s q ui te l ik el y (a lt ho ug h n ot g ua ra nt ee d , b ec au se b ot h t he m ot io n a nd t he s en so r a re n oi sy)"
"t ha tt he ag en ti sn ow in(3,1). Ex er ci se 17.13 a sk sy ou to ca lc ul at et he ex ac tp ro ba bi li ty va lu es"
f or th en ew be li ef st at e .
Th e f un da me nt al i ns ig ht r eq ui re d t o u nd er st an d POMDPs i s t hi s: t he o pt im al a ct io n
"d ep en ds o nl yo nt he ag en t’s c ur re nt b el ie f s ta te . Th at is ,t he op ti ma l p ol ic yc an be de sc ri be d"
∗
b y a m ap pi ng π (b) f ro m b el ie f s ta te s t o a ct io ns . It d oe s n ot d ep en d o n t he a ct ua l s ta te t he
"a ge nt is in . Th is is ag oo dt hi ng ,b ec au se th ea ge nt do es no tk no wi ts ac tu al st at e ;a ll it kn ow s"
"i st he be li ef st at e . He nc e ,t he de ci si on c yc le of a POMDPa ge nt ca nb eb ro ke n d ow ni nt ot he"
f ol lo wi ng th re es te ps:
∗
"1. Gi ve nt he cu rr en tb el ie fs ta te b ,e xe cu te th ea ct io na=π (b)."
2. Re ce iv ep er ce pt e .
"3. Se tt he cu rr en tb el ie fs ta te to FORWARD(b ,a ,e)a nd re pe at ."
"No ww ec an th in k o f POMDPs as re qu ir in g a se ar ch i nb el ie f-s ta te s pa ce , j us tl ik et he me th-"
o ds f or s en so rl es s a nd c on ti ng en cy p ro bl em s i n Ch ap te r 4. Th e m ai n d if fe re nc e i s t ha t t he
"POMDPb el ie f-s ta te s pa ce i sc on ti nu ou s , b ec au se a POMDPb el ie f s ta te is ap ro ba bi li ty d is-"
"t ri bu ti on . Fo r e xa mp le , a b el ie f s ta te f or t he 4×3 w or ld i s a p oi nt i n a n 11-d im en si on al"
"c on ti nu ou s s pa ce . An a ct io n c ha ng es t he b el ie f s ta te , n ot j us t t he p hy si ca l s ta te . He nc e , t he"
a ct io n i se va lu at ed a tl ea st in pa rt ac co rd in g t ot he in fo rm at io n t he ag en ta cq ui re s a sa re su lt .
POMDPs th er ef or e i nc lu de t he v al ue o f i nf or ma ti on (Se ct io n 16.6) a s o ne c om po ne nt o f t he
d ec is io n p ro bl em .
"Le t’s l oo k m or e c ar ef ul ly a t t he o ut co me o f a ct io ns . In p ar ti cu la r , l et’s c al cu la te t he"
(c id:2)
"p ro ba bi li ty t ha ta na ge nt in be li ef st at eb re ac he sb el ie fs ta te b a ft er ex ec ut in ga ct io na . No w ,"
"i f w e k ne w t he a ct io n a nd t he s ub se qu en t p er ce pt , t he n Eq ua ti on (17.11) w ou ld p ro vi de a"
(c id:2)
"d et er mi ni st ic u pd at e t o t he b el ie f s ta te: b = FORWARD(b ,a ,e). Of c ou rs e , t he s ub se qu en t"
(c id:2)
"p er ce pt i sn ot y et kn ow n , s ot he ag en t m ig ht ar ri ve i no ne of se ve ra l p os si bl e b el ie f s ta te s b ,"
"d ep en di ng o n t he p er ce pt t ha t i s r ec ei ve d . Th e p ro ba bi li ty o f p er ce iv in g e , g iv en t ha t a w as"
660 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
(c id:2)
"p er fo rm ed s ta rt in g i nb el ie f s ta te b , i s g iv en b y s um mi ng o ve ra ll t he a ct ua l s ta te s s t ha t t he"
a ge nt mi gh tr ea ch:
(c id:12)
"P(e|a ,b) = P(e|a ,s(c id:2) ,b)P(s(c id:2)|a ,b)"
(c id:12)s(c id:3)
=
"P(e|s(c id:2) )P(s(c id:2)|a ,b)"
(c id:12)s(c id:3)
(c id:12)
=
P(e|s(c id:2)
)
"P(s(c id:2)|s ,a)b(s)."
s(c id:3) s
Le t u s w ri te t he p ro ba bi li ty o f r ea ch in g
b(c id:2)
"f ro m b , g iv en a ct io n a , a s"
"P(b(c id:2)|b ,a))."
Th en t ha t
g iv es us
(c id:12)
"P(b(c id:2)|b ,a)"
=
"P(b(c id:2)|a ,b)"
=
"P(b(c id:2)|e ,a ,b)P(e|a ,b)"
(c id:12) e (c id:12) (c id:12)
=
"P(b(c id:2)|e ,a ,b) P(e|s(c id:2)"
)
"P(s(c id:2)|s ,a)b(s),"
(17.12)
e s(c id:3) s
"w he re P(b(c id:2)|e ,a ,b)i s 1 i fb(c id:2)"
"=FORWARD(b ,a ,e)a nd 0 o th er wi se ."
Eq ua ti on(17.12)c an be vi ew ed as de fi ni ng at ra ns it io nm od el fo rt he be li ef-s ta te sp ac e .
"We ca na ls od ef in ea re wa rd fu nc ti on f or be li ef st at es(i .e .,t he ex pe ct ed re wa rd fo rt he ac tu al"
s ta te st he ag en tm ig ht be in):
(c id:12)
ρ(b) = b(s)R(s).
s
"To ge th er ,"
"P(b(c id:2)|b ,a)"
a nd ρ(b) d ef in e a n o bs er va bl e MDP o n t he s pa ce o f b el ie f s ta te s . Fu r-
∗
"t he rm or e ,i tc an be sh ow nt ha ta no pt im al po li cy fo rt hi s MDP ,π (b),i sa ls oa no pt im al po li cy"
"f or th eo ri gi na l POMDP .In ot he rw or ds , s ol vi ng a POMDPo na ph ys ic al s ta te sp ac e c an be"
r ed uc ed to so lv in ga n MDPo nt he co rr es po nd in g b el ie f-s ta te sp ac e . Th is fa ct is pe rh ap sl es s
"s ur pr is in gi fw er em em be rt ha tt he be li ef st at ei sa lw ay so bs er va bl et ot he ag en t ,b yd ef in it io n ."
"No ti ce t ha t , a lt ho ug h w e h av e r ed uc ed POMDPs t o MDPs , t he MDPw e o bt ai n h as a"
c on ti nu ou s (a nd u su al ly h ig h-d im en si on al) s ta te s pa ce . No ne o f t he MDP a lg or it hm s d e-
s cr ib ed i n Se ct io ns 17.2 a nd 17.3 a pp li es d ir ec tl y t o s uc h MDPs . Th e n ex t t wo s ub se c-
t io ns d es cr ib e a v al ue i te ra ti on a lg or it hm d es ig ne d s pe ci fi ca ll y f or POMDPs a nd a n o nl in e
"d ec is io n-m ak in g a lg or it hm , s im il ar to th os ed ev el op ed f or g am es in Ch ap te r 5."
17.4.2 Va lu ei te ra ti on fo r POMDPs
Se ct io n 17.2 d es cr ib ed a v al ue i te ra ti on a lg or it hm t ha t c om pu te d o ne u ti li ty v al ue f or e ac h
"s ta te . Wi th i nf in it el y m an y b el ie f s ta te s , w e n ee d t o b e m or e c re at iv e . Co ns id er a n o pt im al"
∗
"p ol ic y π a nd i ts ap pl ic at io n i n a sp ec if ic b el ie f s ta te b: t he p ol ic y g en er at es a n a ct io n , t he n ,"
"f or ea ch su bs eq ue nt p er ce pt , t he be li ef st at ei su pd at ed a nd a ne wa ct io n i sg en er at ed , a nd so"
"o n . Fo rt hi ss pe ci fi cb ,t he re fo re ,t he po li cy is ex ac tl ye qu iv al en tt oa co nd it io na lp la n ,a sd e-"
f in ed in Ch ap te r 4 f or no nd et er mi ni st ic an dp ar ti al ly ob se rv ab le pr ob le ms . In st ea do ft hi nk in g
"a bo ut p ol ic ie s , l et us th in k a bo ut c on di ti on al p la ns a nd ho wt he ex pe ct ed u ti li ty o fe xe cu ti ng"
a fi xe dc on di ti on al p la nv ar ie sw it ht he in it ia lb el ie fs ta te . We ma ke tw oo bs er va ti on s:
Se ct io n 17.4. Pa rt ia ll y Ob se rv ab le MDPs 661
1. Le tt he ut il it yo fe xe cu ti ng af ix ed co nd it io na lp la np st ar ti ng in ph ys ic al st at es beα (s).
(c id:2) p
"Th en th ee xp ec te d u ti li ty o fe xe cu ti ng p in be li ef s ta te b is ju st b(s)α (s),o rb·α"
s p p
"i f w e t hi nk o f t he m b ot h a s v ec to rs . He nc e , t he e xp ec te d u ti li ty o f a f ix ed c on di ti on al"
"p la nv ar ie sl in ea rl y w it hb ;t ha ti s ,i tc or re sp on ds t oa hy pe rp la ne i nb el ie fs pa ce ."
"2. At a ny g iv en b el ie f s ta te b , t he o pt im al p ol ic y w il l c ho os e t o e xe cu te t he c on di ti on al"
p la nw it hh ig he st ex pe ct ed ut il it y ;a nd th ee xp ec te du ti li ty of bu nd er th eo pt im al po li cy
i sj us tt he ut il it yo ft ha tc on di ti on al p la n:
U(b) = Uπ∗ (b) = m ax b·α .
p
p
∗
"If th eo pt im al po li cyπ c ho os es to ex ec ut ep st ar ti ng at b ,t he ni ti sr ea so na bl et oe xp ec t"
"t ha t i t m ig ht c ho os e t o e xe cu te p i n b el ie f s ta te s t ha t a re v er y c lo se t o b ; i n f ac t , i f w e"
"b ou nd t he d ep th o f t he c on di ti on al p la ns , t he n t he re a re o nl y f in it el y m an y s uc h p la ns"
"a nd t he c on ti nu ou s s pa ce o f b el ie f s ta te s w il l g en er al ly b e d iv id ed i nt o r eg io ns , e ac h"
c or re sp on di ng t oa pa rt ic ul ar co nd it io na l p la nt ha ti so pt im al in th at re gi on .
"Fr om th es e t wo ob se rv at io ns , w es ee th at th eu ti li ty f un ct io n U(b)o nb el ie f s ta te s , b ei ng t he"
"m ax im um of ac ol le ct io n o fh yp er pl an es , w il lb ep ie ce wi se li ne ar an dc on ve x ."
"To il lu st ra te t hi s , w eu se as im pl e t wo-s ta te w or ld . Th es ta te s a re la be le d 0 a nd 1,w it h"
R(0)=0 a nd R(1)=1. Th er e a re t wo a ct io ns: St ay s ta ys p ut w it h p ro ba bi li ty 0.9 a nd Go
s wi tc he s t o t he o th er s ta te w it h p ro ba bi li ty 0.9. Fo rn ow w e w il l a ss um e t he d is co un t f ac to r
"γ=1. Th es en so r r ep or ts t he c or re ct s ta te w it h p ro ba bi li ty 0.6. Ob vi ou sl y , t he a ge nt s ho ul d"
St ay wh en it th in ks it’s in st at e 1 a nd Go wh en it th in ks it’s in st at e 0.
Th e a dv an ta ge o f a t wo-s ta te w or ld i s t ha t t he b el ie f s pa ce c an b e v ie we d a s o ne-
"d im en si on al , b ec au se t he t wo p ro ba bi li ti es m us t s um t o 1. In Fi gu re 17.8(a), t he x-a xi s"
"r ep re se nt st he be li ef st at e ,d ef in ed by b(1),t he pr ob ab il it yo fb ei ng in st at e 1. No wl et us co n-"
"s id er t he o ne-s te p p la ns [St ay] a nd [Go], e ac h o f w hi ch r ec ei ve s t he r ew ar d f or t he c ur re nt"
s ta te fo ll ow ed by th e(d is co un te d) r ew ar df or th es ta te re ac he d a ft er th ea ct io n:
α (0) = R(0)+γ(0.9 R(0)+0.1 R(1)) = 0.1
[St ay]
α (1) = R(1)+γ(0.9 R(1)+0.1 R(0)) = 1.9
[St ay]
α (0) = R(0)+γ(0.9 R(1)+0.1 R(0)) = 0.9
[Go]
α (1) = R(1)+γ(0.9 R(0)+0.1 R(1)) = 1.1
[Go]
"Th eh yp er pl an es(l in es ,i nt hi sc as e)f or b·α a nd b·α a re sh ow ni n Fi gu re 17.8(a)a nd"
[St ay] [Go]
t he ir m ax im um i s s ho wn i n b ol d . Th e b ol d l in e t he re fo re r ep re se nt s t he u ti li ty f un ct io n f or
"t he f in it e-h or iz on p ro bl em t ha t a ll ow s j us t o ne a ct io n , a nd i n e ac h “p ie ce” o f t he p ie ce wi se"
l in ea r u ti li ty f un ct io n t he o pt im al a ct io n i s t he f ir st a ct io n o f t he c or re sp on di ng c on di ti on al
"p la n . In th is ca se ,t he op ti ma lo ne-s te p p ol ic yi st o St ay wh en b(1) > 0.5 a nd Go ot he rw is e ."
On ce we ha ve u ti li ti es α (s)f or al lt he c on di ti on al p la ns p of de pt h 1 i ne ac h p hy si ca l
p
"s ta te s , w e c an c om pu te t he u ti li ti es f or c on di ti on al p la ns o f d ep th 2 b y c on si de ri ng e ac h"
"p os si bl e f ir st a ct io n , e ac h p os si bl e s ub se qu en t p er ce pt , a nd t he n e ac h w ay o f c ho os in g a"
d ep th-1 p la nt oe xe cu te fo re ac hp er ce pt:
[St ay ; i f Pe rc ep t=0 t he n St ay e ls e St ay]
[St ay ; i f Pe rc ep t=0 t he n St ay e ls e Go]...
662 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
3
2.5
2
1.5
1
0.5
0
0 0.2 0.4 0.6 0.8 1
y ti li t U
3
2.5
2
[St ay]
1.5
[Go]
1
0.5
0
0 0.2 0.4 0.6 0.8 1
Pr ob ab il it y o f s ta te 1
y ti li t U
Pr ob ab il it y o f s ta te 1
(a) (b)
3
2.5
2
1.5
1
0.5
0
0 0.2 0.4 0.6 0.8 1
y ti li t U
7.5
7
6.5
6
5.5
5
4.5
0 0.2 0.4 0.6 0.8 1
Pr ob ab il it y o f s ta te 1
y ti li t U
Pr ob ab il it y o f s ta te 1
(c) (d)
Fi gu re 17.8 (a)Ut il it y o ft wo o ne-s te pp la ns as a f un ct io no ft he in it ia lb el ie fs ta te b(1)
"f or th et wo-s ta te wo rl d , w it h t he co rr es po nd in gu ti li ty f un ct io ns ho wn in bo ld . (b)Ut il it ie s"
f or 8 d is ti nc t t wo-s te p p la ns . (c) Ut il it ie s f or fo ur un do mi na te dt wo-s te p p la ns . (d) Ut il it y
f un ct io nf or op ti ma le ig ht-s te pp la ns .
"Th er e a re e ig ht d is ti nc t d ep th-2 p la ns i n a ll , a nd t he ir u ti li ti es a re s ho wn i n Fi gu re 17.8(b)."
"No ti ce t ha t f ou r o f t he p la ns , s ho wn a s d as he d l in es , a re s ub op ti ma l a cr os s t he e nt ir e b el ie f"
"s pa ce—w e s ay t he se p la ns a re d om in at ed , a nd t he y n ee d n ot b e c on si de re d f ur th er . Th er e"
DOMINATEDPLAN
"a re f ou r u nd om in at ed p la ns , e ac h o f w hi ch i s o pt im al i n a s pe ci fi c r eg io n , a s s ho wn i n Fi g-"
u re 17.8(c). Th er eg io ns pa rt it io n t he be li ef-s ta te s pa ce .
"We re pe at t he pr oc es s f or de pt h 3,a nd so on . In ge ne ra l , l et p be ad ep th-d c on di ti on al"
p la nw ho se in it ia la ct io ni sa an dw ho se de pt h-d−1 s ub pl an f or pe rc ep t e is p .e ;t he n
(c id:31)
(c id:12) (c id:12)
α (s) = R(s)+γ
"P(s(c id:2)|s ,a) P(e|s(c id:2)"
)α
(s(c id:2)
) . (17.13)
p p .e
s(c id:3) e
"Th is re cu rs io nn at ur al ly gi ve su sa va lu ei te ra ti on al go ri th m ,w hi ch is sk et ch ed in Fi gu re 17.9."
Th es tr uc tu re of th ea lg or it hm an di ts er ro ra na ly si sa re si mi la rt ot ho se of th eb as ic va lu ei te r-
a ti on a lg or it hm i n Fi gu re 17.4 o np ag e 653; t he ma in di ff er en ce i st ha t i ns te ad o fc om pu ti ng
"o ne u ti li ty n um be r f or e ac h s ta te , POMDP-VALUE-ITERATION m ai nt ai ns a c ol le ct io n o f"
Se ct io n 17.4. Pa rt ia ll y Ob se rv ab le MDPs 663
"f un ct io n POMDP-VALUE-ITERATION(p om dp ,(c id:2))r et ur ns au ti li ty fu nc ti on"
"i np ut s:p om dp ,a POMDPw it hs ta te s S ,a ct io ns A(s),t ra ns it io nm od el P(s(c id:5)|s ,a),"
"s en so rm od el P(e|s),r ew ar ds R(s),d is co un tγ"
"(c id:2),t he ma xi mu me rr or al lo we di nt he ut il it yo fa ny st at e"
"l oc al va ri ab le s: U ,U(c id:5),s et so fp la ns pw it ha ss oc ia te du ti li ty ve ct or sαp"
"U(c id:5)←a se tc on ta in in gj us tt he em pt yp la n[],w it hα (s)= R(s)"
[]
r ep ea t
U ←U(c id:5)
"U(c id:5)←t he se to fa ll pl an sc on si st in go fa na ct io na nd ,f or ea ch po ss ib le ne xt pe rc ep t ,"
a pl an in U w it hu ti li ty ve ct or sc om pu te da cc or di ng to Eq ua ti on(17.13)
U(c id:5)←REMOVE-DOMINATED-PLANS(U(c id:5))
"u nt il MAX-DIFFERENCE(U ,U(c id:5)) < (c id:2)(1−γ)/γ"
r et ur n U
Fi gu re 17.9 A h ig h-l ev el s ke tc h o f t he v al ue i te ra ti on a lg or it hm f or POMDPs . Th e
REMOVE-DOMINATED-PLANSs te pa nd MAX-DIFFERENCEt es ta re ty pi ca ll yi mp le me nt ed
a sl in ea rp ro gr am s .
u nd om in at ed p la ns w it h t he ir u ti li ty h yp er pl an es . Th e a lg or it hm’s c om pl ex it y d ep en ds p ri-
"m ar il yo nh ow ma ny pl an sg et ge ne ra te d . Gi ve n |A|a ct io ns a nd|E|p os si bl eo bs er va ti on s , i t"
i se as yt os ho wt ha tt he re ar e|A|O(|E|d−1)d is ti nc td ep th-d pl an s .
Ev en fo rt he lo wl yt wo-s ta te
"w or ld w it h d=8, t he e xa ct n um be r i s 2255. Th e e li mi na ti on o f d om in at ed p la ns i s e ss en ti al"
f or re du ci ng t hi sd ou bl y e xp on en ti al g ro wt h: t he nu mb er of un do mi na te d p la ns wi th d=8 i s
j us t 144. Th eu ti li ty fu nc ti on f or th es e 144 p la ns is sh ow ni n Fi gu re 17.8(d).
"No ti ce t ha t e ve n t ho ug h s ta te 0 h as l ow er u ti li ty t ha n s ta te 1, t he i nt er me di at e b el ie f"
s ta te s h av e e ve n l ow er u ti li ty b ec au se t he a ge nt l ac ks t he i nf or ma ti on n ee de d t o c ho os e a
g oo d a ct io n . Th is i s w hy i nf or ma ti on h as v al ue i n t he s en se d ef in ed i n Se ct io n 16.6 a nd
o pt im al po li ci es in POMDPs of te ni nc lu de i nf or ma ti on-g at he ri ng a ct io ns .
"Gi ve ns uc ha ut il it yf un ct io n ,a ne xe cu ta bl ep ol ic yc an be ex tr ac te db yl oo ki ng at wh ic h"
h yp er pl an e i s o pt im al a t a ny g iv en b el ie f s ta te b a nd e xe cu ti ng t he f ir st a ct io n o f t he c or re-
"s po nd in g p la n . In Fi gu re 17.8(d), t he c or re sp on di ng o pt im al p ol ic y i s s ti ll t he s am e a s f or"
d ep th-1 p la ns: St ay wh en b(1) > 0.5 a nd Go ot he rw is e .
"In p ra ct ic e , t he v al ue i te ra ti on a lg or it hm i n Fi gu re 17.9 i s h op el es sl y i ne ff ic ie nt f or"
"l ar ge r p ro bl em s—e ve n t he 4×3 POMDPi s t oo h ar d . Th e m ai n r ea so n i s t ha t , g iv en n co n-"
"d it io na l p la ns a t l ev el d , t he a lg or it hm c on st ru ct s"
|A|·n|E|
c on di ti on al p la ns a t l ev el d+1
"b ef or ee li mi na ti ng th ed om in at ed on es . Si nc et he 1970 s ,w he nt hi sa lg or it hm wa sd ev el op ed ,"
t he re ha ve be en se ve ra la dv an ce si nc lu di ng mo re ef fi ci en tf or ms of va lu ei te ra ti on an dv ar io us
k in ds of po li cy it er at io na lg or it hm s . So me of th es ea re di sc us se di nt he no te sa tt he en do ft he
"c ha pt er . Fo rg en er al POMDPs ,h ow ev er , f in di ng o pt im al p ol ic ie s i sv er y d if fi cu lt (PSPACE-"
"h ar d , i n f ac t—i .e ., v er y h ar d i nd ee d). Pr ob le ms w it ha f ew d oz en s ta te s a re o ft en i nf ea si bl e ."
"Th en ex t s ec ti on d es cr ib es a di ff er en t , a pp ro xi ma te m et ho d f or so lv in g POMDPs ,o ne ba se d"
o nl oo k-a he ad s ea rc h .
664 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
A A A A A
t–2 t–1 t t+1 t+2
X X X X X U
t–1 t t+1 t+2 t+3 t+3
R R R R
t–1 t t+1 t+2
E E E E E
t–1 t t+1 t+2 t+3
Fi gu re 17.10 Th eg en er ic st ru ct ur eo fa dy na mi cd ec is io nn et wo rk .Va ri ab le sw it hk no wn
"v al ue sa re sh ad ed .Th ec ur re nt ti me is ta nd th ea ge nt mu st de ci de wh at to do—t ha ti s ,c ho os e"
a va lu ef or At . Th en et wo rk ha sb ee nu nr ol le di nt ot he fu tu re fo rt hr ee st ep sa nd re pr es en ts
"f ut ur er ew ar ds ,a sw el la st he ut il it yo ft he st at ea tt he lo ok-a he ad ho ri zo n ."
17.4.3 On li ne ag en ts f or POMDPs
"In th is se ct io n ,w eo ut li ne as im pl ea pp ro ac ht oa ge nt de si gn fo rp ar ti al ly ob se rv ab le ,s to ch as-"
t ic en vi ro nm en ts . Th eb as ic el em en ts of th ed es ig na re al re ad y f am il ia r:
• Th e t ra ns it io n a nd s en so r m od el s a re r ep re se nt ed b y a d yn am ic Ba ye si an n et wo rk
"(DBN),a sd es cr ib ed i n Ch ap te r 15."
"• Th ed yn am ic Ba ye si an n et wo rk i s e xt en de d w it hd ec is io n a nd u ti li ty n od es , a s u se d i n"
d ec is io n n et wo rk s i n Ch ap te r 16. Th e r es ul ti ng m od el i s c al le d a d yn am ic d ec is io n
"DYNAMICDECISION n et wo rk ,o r DDN ."
NETWORK
• A f il te ri ng a lg or it hm i s u se d t o i nc or po ra te e ac h n ew p er ce pt a nd a ct io n a nd t o u pd at e
t he be li ef st at er ep re se nt at io n .
• De ci si on s a re m ad e b y p ro je ct in g f or wa rd p os si bl e a ct io n s eq ue nc es a nd c ho os in g t he
b es to ne .
DBNs a re f ac to re d r ep re se nt at io ns i n t he t er mi no lo gy o f Ch ap te r 2; t he y t yp ic al ly h av e
a n e xp on en ti al c om pl ex it y a dv an ta ge o ve r a to mi c r ep re se nt at io ns a nd c an m od el q ui te s ub-
s ta nt ia l r ea l-w or ld p ro bl em s . Th ea ge nt de si gn i st he re fo re a pr ac ti ca l i mp le me nt at io n o ft he
u ti li ty-b as ed a ge nt sk et ch ed i n Ch ap te r 2.
"In t he DBN , t he s in gl e s ta te S b ec om es a s et o f s ta te v ar ia bl es X , a nd t he re m ay b e"
t t
"m ul ti pl ee vi de nc ev ar ia bl es E . We wi ll us e A t or ef er to th ea ct io na tt im et ,s ot he tr an si ti on"
t t
"m od el be co me s P(X |X ,A )a nd th es en so rm od el be co me s P(E |X ). We wi ll us e R t o"
t+1 t t t t t
r ef er to th er ew ar dr ec ei ve da tt im e t an d U t or ef er to th eu ti li ty o ft he st at ea tt im e t . (Bo th
t
"o ft he se ar er an do mv ar ia bl es .) Wi th th is no ta ti on ,a dy na mi cd ec is io nn et wo rk lo ok sl ik et he"
o ne sh ow ni n Fi gu re 17.10.
"Dy na mi cd ec is io nn et wo rk sc an be us ed as in pu ts fo ra ny POMDPa lg or it hm ,i nc lu di ng"
"t ho se fo rv al ue an dp ol ic yi te ra ti on me th od s . In th is se ct io n ,w ef oc us on lo ok-a he ad me th od s"
t ha tp ro je ct ac ti on se qu en ce sf or wa rd fr om th ec ur re nt be li ef st at ei nm uc ht he sa me wa ya sd o
t he g am e-p la yi ng a lg or it hm s o f Ch ap te r 5. Th e n et wo rk i n Fi gu re 17.10 h as b ee n p ro je ct ed
t hr ee s te ps i nt o t he f ut ur e ; t he c ur re nt a nd f ut ur e d ec is io ns A a nd t he f ut ur e o bs er va ti on s
Se ct io n 17.4. Pa rt ia ll y Ob se rv ab le MDPs 665
A i n P(X | E )
t t 1:t
E . . .
t+1
... ... ... ...
A t+1 i n P(X t+1 | E 1:t+1) . . .
... ... ...
E . . .
t+2
... ... ...
A t+2 i n P(X t+2 | E 1:t+2) . . .
... ... ...
E t+3 . . .
... ... ...
U(X ) . . .
t+3
10 4 6 3
Fi gu re 17.11 Pa rt of th el oo k-a he ad so lu ti on of th e DDNi n Fi gu re 17.10. Ea ch de ci si on
w il lb et ak en in th eb el ie fs ta te in di ca te d .
E a nd r ew ar ds R a re a ll u nk no wn . No ti ce t ha t t he n et wo rk i nc lu de s n od es f or t he r ew ar ds
"f or X a nd X , b ut t he u ti li ty f or X . Th is i s b ec au se t he a ge nt m us t m ax im iz e t he"
t+1 t+2 t+3
"(d is co un te d) s um o f a ll f ut ur e r ew ar ds , a nd U(X ) r ep re se nt s t he r ew ar d f or X a nd a ll"
t+3 t+3
"s ub se qu en tr ew ar ds . As in Ch ap te r 5,w ea ss um et ha t U i sa va il ab le on ly in so me ap pr ox im at e"
"f or m: i fe xa ct ut il it yv al ue sw er ea va il ab le ,l oo k-a he ad be yo nd de pt h 1 w ou ld be un ne ce ss ar y ."
Fi gu re 17.11 s ho ws p ar t o f t he s ea rc h t re e c or re sp on di ng t o t he t hr ee-s te p l oo k-a he ad
DDNi n Fi gu re 17.10. Ea ch of th et ri an gu la rn od es is ab el ie fs ta te in wh ic ht he ag en tm ak es
"a d ec is io n A f or i=0,1,2,.... Th e r ou nd (c ha nc e) n od es c or re sp on d t o c ho ic es b y t he"
t+i
"e nv ir on me nt , n am el y , w ha t e vi de nc e E a rr iv es . No ti ce t ha t t he re a re n o c ha nc e n od es"
t+i
c or re sp on di ng t o t he a ct io n o ut co me s ; t hi s i s b ec au se t he b el ie f-s ta te u pd at e f or a n a ct io n i s
d et er mi ni st ic r eg ar dl es s o ft he ac tu al ou tc om e .
Th e b el ie f s ta te a t e ac h t ri an gu la r n od e c an b e c om pu te d b y a pp ly in g a f il te ri ng a l-
"g or it hm t o t he s eq ue nc e o f p er ce pt s a nd a ct io ns l ea di ng t o i t . In t hi s w ay , t he a lg or it hm"
"t ak es i nt o a cc ou nt t he f ac t t ha t , f or d ec is io n A , t he a ge nt w il l h av e a va il ab le p er ce pt s"
t+i
"E , ..., E , e ve n t ho ug h a t t im e t i t d oe s n ot k no w w ha t t ho se p er ce pt s w il lb e . In t hi s"
t+1 t+i
"w ay ,a de ci si on-t he or et ic a ge nt au to ma ti ca ll y t ak es in to ac co un tt he va lu eo fi nf or ma ti on a nd"
w il le xe cu te in fo rm at io n-g at he ri ng a ct io ns wh er ea pp ro pr ia te .
A d ec is io n c an b e e xt ra ct ed f ro m t he s ea rc h t re e b y b ac ki ng u p t he u ti li ty v al ue s f ro m
"t he l ea ve s , t ak in g a n a ve ra ge a t t he c ha nc e n od es a nd t ak in g t he m ax im um a t t he d ec is io n"
"n od es . Th is is si mi la rt ot he EXPECTIMINIMAX a lg or it hm fo rg am et re es wi th ch an ce no de s ,"
e xc ep t t ha t (1) t he re c an a ls o b e r ew ar ds a t n on-l ea f s ta te s a nd (2) t he d ec is io n n od es c or re-
s po nd t o b el ie f s ta te s r at he r t ha n a ct ua l s ta te s . Th e t im e c om pl ex it y o f a n e xh au st iv e s ea rc h
"t od ep th di s O(|A|d ·|E|d),w he re|A|i st he nu mb er of av ai la bl e a ct io ns an d|E|i st he nu m-"
b er o f p os si bl e p er ce pt s . (No ti ce t ha t t hi s i s f ar l es s t ha n t he n um be r o f d ep th-d c on di ti on al
666 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
p la ns g en er at ed b y v al ue i te ra ti on .) Fo r p ro bl em s i n w hi ch t he d is co un t f ac to r γ i s n ot t oo
"c lo se t o 1, a s ha ll ow s ea rc h i s o ft en g oo d e no ug h t o g iv e n ea r-o pt im al d ec is io ns . It i s a ls o"
"p os si bl e t o a pp ro xi ma te t he a ve ra gi ng s te p a tt he c ha nc e n od es , b y s am pl in g f ro m t he s et o f"
p os si bl ep er ce pt si ns te ad of su mm in go ve ra ll po ss ib le pe rc ep ts . Th er ea re va ri ou so th er wa ys
"o ff in di ng go od ap pr ox im at e s ol ut io ns q ui ck ly , b ut we de fe rt he mt o Ch ap te r 21."
De ci si on-t he or et ic ag en ts ba se do nd yn am ic de ci si on ne tw or ks ha ve an um be ro fa dv an-
"t ag es co mp ar ed w it ho th er , s im pl er ag en td es ig ns p re se nt ed i ne ar li er ch ap te rs . In pa rt ic ul ar ,"
"t he yh an dl ep ar ti al ly ob se rv ab le ,u nc er ta in en vi ro nm en ts a nd ca ne as il yr ev is et he ir“p la ns”t o"
"h an dl e u ne xp ec te d e vi de nc e . Wi th ap pr op ri at e s en so rm od el s , t he yc an ha nd le s en so rf ai lu re"
a nd ca np la nt og at he ri nf or ma ti on . Th ey ex hi bi t“g ra ce fu l d eg ra da ti on” u nd er ti me pr es su re
"a nd i nc om pl ex e nv ir on me nt s , u si ng v ar io us a pp ro xi ma ti on t ec hn iq ue s . So wh at is mi ss in g ?"
"On ed ef ec to fo ur DDN-b as ed al go ri th mi si ts re li an ce on fo rw ar ds ea rc ht hr ou gh st at es pa ce ,"
r at he rt ha nu si ng th eh ie ra rc hi ca la nd ot he ra dv an ce dp la nn in gt ec hn iq ue sd es cr ib ed in Ch ap-
"t er 11. Th er eh av eb ee na tt em pt st oe xt en dt he se te ch ni qu es in to th ep ro ba bi li st ic do ma in ,b ut"
"s of ar th ey h av ep ro ve d t ob ei ne ff ic ie nt . As ec on d , r el at ed p ro bl em i st he ba si ca ll y p ro po si-"
t io na ln at ur e o ft he DDNl an gu ag e . We wo ul dl ik et ob ea bl et oe xt en ds om eo ft he id ea sf or
f ir st-o rd er p ro ba bi li st ic l an gu ag es t o t he p ro bl em o f d ec is io n m ak in g . Cu rr en t r es ea rc h h as
"s ho wn th at th is ex te ns io n i sp os si bl e a nd ha ss ig ni fi ca nt b en ef it s , a sd is cu ss ed i nt he no te sa t"
t he en do ft he ch ap te r .
17.5 DECISIONS WITH MULTIPLE AGENTS: GAME THEORY
Th is c ha pt er h as c on ce nt ra te d o n m ak in g d ec is io ns i n u nc er ta in e nv ir on me nt s . Bu t w ha t i f
t he un ce rt ai nt y i sd ue to ot he ra ge nt sa nd th ed ec is io ns th ey ma ke ? An dw ha ti ft he de ci si on s
o f t ho se a ge nt s a re i n t ur n i nf lu en ce d b y o ur d ec is io ns ? We a dd re ss ed t hi s q ue st io n o nc e
"b ef or e , w he n w es tu di ed g am es in Ch ap te r 5. Th er e , h ow ev er , w ew er ep ri ma ri ly c on ce rn ed"
"w it h t ur n-t ak in g g am es i n f ul ly o bs er va bl e e nv ir on me nt s , f or w hi ch m in im ax s ea rc h c an b e"
u se dt of in do pt im al mo ve s . In th is se ct io nw es tu dy th ea sp ec ts of ga me th eo ry th at an al yz e
GAMETHEORY
g am es w it h s im ul ta ne ou s m ov es a nd o th er s ou rc es o f p ar ti al o bs er va bi li ty . (Ga me t he or is ts
u se th et er ms pe rf ec ti nf or ma ti on an di mp er fe ct in fo rm at io nr at he rt ha nf ul ly an dp ar ti al ly
o bs er va bl e .) Ga me th eo ry ca nb eu se di na tl ea st tw ow ay s:
1. Ag en td es ig n: Ga me th eo ry ca na na ly ze th ea ge nt’s de ci si on sa nd co mp ut et he ex pe ct ed
u ti li ty f or e ac h d ec is io n (u nd er t he a ss um pt io n t ha t o th er a ge nt s a re a ct in g o pt im al ly
"a cc or di ng t o g am e t he or y). Fo re xa mp le , i n t he g am e t wo-f in ge r Mo rr a , t wo p la ye rs ,"
"O a nd E , s im ul ta ne ou sl y d is pl ay o ne o r t wo f in ge rs . Le t t he t ot al n um be r o f f in ge rs"
"b e f . If f i s o dd , O c ol le ct s f d ol la rs f ro m E ; a nd i f f i s e ve n , E c ol le ct s f d ol la rs"
f ro m O . Ga me th eo ry c an d et er mi ne t he b es t s tr at eg y a ga in st a r at io na l p la ye r a nd t he
e xp ec te dr et ur nf or ea ch pl ay er .4
"4 Mo rr ai sa re cr ea ti on al ve rs io no fa ni ns pe ct io ng am e .In su ch ga me s ,a ni ns pe ct or ch oo se sa da yt oi ns pe ct a"
"f ac il it y(s uc ha sa re st au ra nt or ab io lo gi ca lw ea po ns pl an t),a nd th ef ac il it yo pe ra to rc ho os es ad ay to hi de al lt he"
"n as ty st uf f .Th ei ns pe ct or wi ns if th ed ay sa re di ff er en t ,a nd th ef ac il it yo pe ra to rw in si ft he ya re th es am e ."
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 667
"2. Me ch an is m d es ig n: Wh en a n e nv ir on me nt i s i nh ab it ed b y m an y a ge nt s , i t m ig ht b e"
"p os si bl e t o d ef in e t he r ul es o f t he e nv ir on me nt (i .e ., t he g am e t ha t t he a ge nt s m us t"
p la y)s ot ha tt he co ll ec ti ve g oo do fa ll ag en ts is ma xi mi ze dw he ne ac ha ge nt ad op ts th e
"g am e-t he or et ic s ol ut io n t ha t m ax im iz es i ts o wn u ti li ty . Fo r e xa mp le , g am e t he or y c an"
h el p d es ig n t he p ro to co ls f or a c ol le ct io n o f In te rn et t ra ff ic r ou te rs s o t ha t e ac h r ou te r
h as an in ce nt iv e t oa ct in su ch a wa yt ha t g lo ba l t hr ou gh pu t i sm ax im iz ed . Me ch an is m
d es ig nc an al so be us ed to co ns tr uc t i nt el li ge nt m ul ti ag en ts ys te ms th at so lv ec om pl ex
p ro bl em si na di st ri bu te d f as hi on .
17.5.1 Si ng le-m ov eg am es
We st ar tb yc on si de ri ng a re st ri ct ed s et of ga me s: o ne sw he re a ll pl ay er st ak ea ct io ns im ul ta-
"n eo us ly a nd t he r es ul t o f t he g am e i s b as ed o n t hi s s in gl e s et o f a ct io ns . (Ac tu al ly , i t i s n ot"
c ru ci al th at th ea ct io ns ta ke pl ac ea te xa ct ly th es am et im e ;w ha tm at te rs is th at no pl ay er ha s
k no wl ed ge o ft he o th er pl ay er s’ c ho ic es .) Th er es tr ic ti on t o a si ng le m ov e (a nd t he v er y u se
"o f t he w or d “g am e”) m ig ht m ak e t hi s s ee m t ri vi al , b ut i n f ac t , g am e t he or y i s s er io us b us i-"
n es s . It i s u se d i n d ec is io n-m ak in g s it ua ti on s i nc lu di ng t he a uc ti on in g o f o il d ri ll in g r ig ht s
"a nd w ir el es s f re qu en cy s pe ct ru m r ig ht s , b an kr up tc y p ro ce ed in gs , p ro du ct d ev el op me nt a nd"
"p ri ci ng de ci si on s ,a nd na ti on al de fe ns e—s it ua ti on s i nv ol vi ng bi ll io ns of do ll ar sa nd hu nd re ds"
o ft ho us an ds o fl iv es . As in gl e-m ov eg am ei sd ef in ed by th re ec om po ne nt s:
• Pl ay er s o ra ge nt s w ho w il l b e m ak in g d ec is io ns . Tw o-p la ye r g am es h av e r ec ei ve d t he
PLAYER
"m os ta tt en ti on , a lt ho ug h n-p la ye r g am es f or n > 2 a re a ls o c om mo n . We gi ve p la ye rs"
"c ap it al iz ed n am es ,l ik e Al ic ea nd Bo bo r O a nd E ."
"• Ac ti on st ha tt he pl ay er sc an ch oo se . We wi ll gi ve ac ti on sl ow er ca se na me s ,l ik eo ne o r"
ACTION
t es ti fy . Th ep la ye rs ma yo rm ay no th av et he sa me se to fa ct io ns av ai la bl e .
• Ap ay of f f un ct io n t ha t g iv es t he u ti li ty t oe ac h p la ye r f or ea ch c om bi na ti on o f a ct io ns
PAYOFFFUNCTION
b y a ll t he p la ye rs . Fo rs in gl e-m ov e g am es t he p ay of f f un ct io n c an b e r ep re se nt ed b y a
"m at ri x , a r ep re se nt at io n k no wn a s t he s tr at eg ic f or m (a ls o c al le d n or ma l f or m). Th e"
STRATEGICFORM
p ay of fm at ri xf or tw o-f in ge r Mo rr ai sa sf ol lo ws:
O:o ne O:t wo
"E:o ne E = +2,O = −2 E = −3,O = +3"
"E:t wo E = −3,O = +3 E = +4,O = −4"
"Fo re xa mp le , t he l ow er-r ig ht c or ne r s ho ws t ha t w he n p la ye r O c ho os es a ct io n t wo a nd"
"E a ls oc ho os es tw o ,t he pa yo ff is+4 f or E a nd−4 f or O ."
Ea ch p la ye r i n a g am e m us t a do pt a nd t he n e xe cu te a s tr at eg y (w hi ch i s t he n am e u se d i n
STRATEGY
"g am et he or yf or ap ol ic y). Ap ur es tr at eg yi sa de te rm in is ti cp ol ic y ;f or as in gl e-m ov eg am e ,"
PURESTRATEGY
a p ur e s tr at eg y i s j us t a s in gl e a ct io n . Fo rm an y g am es a n a ge nt c an d o b et te r w it h a m ix ed
"s tr at eg y , w hi ch i s a r an do mi ze d p ol ic y t ha t s el ec ts a ct io ns a cc or di ng t o a pr ob ab il it y d is tr i-"
MIXEDSTRATEGY
b ut io n . Th e m ix ed s tr at eg y t ha t c ho os es a ct io n a w it h p ro ba bi li ty p a nd a ct io n b o th er wi se
"i s w ri tt en [p:a ;(1 − p):b]. Fo r e xa mp le , a m ix ed s tr at eg y f or t wo-f in ge r Mo rr a m ig ht b e"
[0.5:o ne ;0.5:t wo]. A s tr at eg y p ro fi le i s a n a ss ig nm en t o f a s tr at eg y t o e ac h p la ye r ; g iv en
STRATEGYPROFILE
"t he st ra te gy pr of il e ,t he ga me’s ou tc om ei sa nu me ri cv al ue fo re ac hp la ye r ."
OUTCOME
668 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
As ol ut io nt oa ga me is as tr at eg yp ro fi le in wh ic he ac hp la ye ra do pt sa ra ti on al st ra te gy .
SOLUTION
We w il l s ee t ha t t he m os t i mp or ta nt i ss ue i n g am e t he or y i s t o d ef in e w ha t “r at io na l” m ea ns
w he n e ac h a ge nt c ho os es o nl y p ar t o f t he s tr at eg y p ro fi le t ha t d et er mi ne s t he o ut co me . It i s
"i mp or ta nt t o r ea li ze t ha t o ut co me s a re a ct ua l r es ul ts o f p la yi ng a g am e , w hi le s ol ut io ns a re"
t he or et ic al c on st ru ct s u se d t o a na ly ze a g am e . We w il l s ee t ha t s om e g am es h av e a s ol ut io n
o nl y i n m ix ed s tr at eg ie s . Bu t t ha t d oe s n ot m ea n t ha t a p la ye r m us t l it er al ly b e a do pt in g a
m ix ed st ra te gy to be ra ti on al .
"Co ns id er t he f ol lo wi ng s to ry: Tw o a ll eg ed b ur gl ar s , Al ic e a nd Bo b , a re c au gh t r ed-"
h an de dn ea rt he sc en eo fa bu rg la ry a nd ar ei nt er ro ga te d s ep ar at el y . Ap ro se cu to ro ff er se ac h
"a d ea l: i f y ou t es ti fy a ga in st y ou r p ar tn er a s t he l ea de r o f a b ur gl ar y r in g , y ou’l l g o f re e f or"
"b ei ng t he co op er at iv e o ne , w hi le y ou rp ar tn er w il ls er ve 10 y ea rs i np ri so n . Ho we ve r , i f y ou"
"b ot h t es ti fy a ga in st e ac h o th er , y ou’l l b ot h g et 5 y ea rs . Al ic e a nd Bo ba ls ok no w t ha t i fb ot h"
r ef us e t o t es ti fy t he y w il l s er ve o nl y 1 y ea r e ac h f or t he l es se r c ha rg e o f p os se ss in g s to le n
PRISONER’S p ro pe rt y . No w Al ic e a nd Bo b f ac e t he s o-c al le d p ri so ne r’s d il em ma: s ho ul d t he y t es ti fy
DILEMMA
"o r r ef us e ? Be in g r at io na l a ge nt s , Al ic e a nd Bo b e ac h w an t t o m ax im iz e t he ir o wn e xp ec te d"
"u ti li ty . Le t’s as su me th at Al ic ei sc al lo us ly un co nc er ne da bo ut he rp ar tn er’s fa te ,s oh er ut il it y"
"d ec re as es i n p ro po rt io n t o t he n um be r o f y ea rs s he w il l s pe nd i n p ri so n , r eg ar dl es s o f w ha t"
"h ap pe ns to Bo b . Bo bf ee ls ex ac tl yt he sa me wa y . To he lp re ac ha ra ti on al d ec is io n , t he yb ot h"
c on st ru ct t he fo ll ow in gp ay of fm at ri x:
Al ic e:t es ti fy Al ic e:r ef us e
"Bo b:t es ti fy A= −5,B = −5 A= −10,B = 0"
"Bo b:r ef us e A = 0,B = −10 A = −1,B = −1"
Al ic e a na ly ze s t he p ay of f m at ri x a s f ol lo ws: “Su pp os e Bo b t es ti fi es . Th en I g et 5 y ea rs i f I
"t es ti fy a nd 10 y ea rs i f I d on’t , s o i n t ha t c as e t es ti fy in g i s b et te r . On t he o th er h an d , i f Bo b"
"r ef us es , t he n Ig et 0 y ea rs if It es ti fy an d 1 y ea ri f Ir ef us e ,s oi nt ha tc as ea sw el lt es ti fy in g i s"
"b et te r . So in ei th er ca se ,i t’s be tt er fo rm et ot es ti fy , s ot ha t’s wh at Im us td o .”"
DOMINANT Al ic e h as d is co ve re d t ha t t es ti fy i s a d om in an t s tr at eg y f or t he g am e . We s ay t ha t a
STRATEGY
(c id:2)
STRONG s tr at eg ys fo rp la ye rp st ro ng ly do mi na te ss tr at eg ys i ft he ou tc om ef or si sb et te rf or pt ha n
DOMINATION
(c id:2)
"t he o ut co me f or s , f or e ve ry c ho ic e o f s tr at eg ie s b y t he o th er p la ye r(s). St ra te gy s w ea kl y"
(c id:2) (c id:2)
d om in at es s i f s is b et te rt ha n s o n a tl ea st o ne s tr at eg y p ro fi le a nd n o w or se o n a ny ot he r .
WEAKDOMINATION
Ad om in an ts tr at eg yi sa st ra te gy th at do mi na te sa ll ot he rs . It is ir ra ti on al to pl ay ad om in at ed
"s tr at eg y , a nd i rr at io na l n ot t o p la y a d om in an t s tr at eg y i f o ne e xi st s . Be in g r at io na l , Al ic e"
c ho os es th ed om in an ts tr at eg y . We ne ed ju st ab it mo re te rm in ol og y: w es ay th at an ou tc om e
i s Pa re to op ti ma l 5 i ft he re i sn oo th er ou tc om e t ha ta ll pl ay er s w ou ld p re fe r . An o ut co me i s
PARETOOPTIMAL
Pa re to do mi na te db ya no th er ou tc om ei fa ll pl ay er s w ou ld pr ef er th eo th er ou tc om e .
PARETODOMINATED
"If Al ic e i s c le ve r a s w el l a s r at io na l , s he w il l c on ti nu e t o r ea so n a s f ol lo ws: Bo b’s"
"d om in an t s tr at eg y i sa ls ot ot es ti fy . Th er ef or e , h ew il lt es ti fy an dw ew il lb ot hg et fi ve ye ar s ."
"Wh en e ac h p la ye r h as a d om in an t s tr at eg y , t he c om bi na ti on o f t ho se s tr at eg ie s i s c al le d a"
DOMINANT
"STRATEGY d om in an t s tr at eg y e qu il ib ri um . In g en er al , a s tr at eg y p ro fi le f or ms a n e qu il ib ri um i f n o"
EQUILIBRIUM
"p la ye r c an be ne fi t b ys wi tc hi ng s tr at eg ie s , g iv en t ha t e ve ry o th er pl ay er s ti ck s w it ht he sa me"
EQUILIBRIUM
5 Pa re to op ti ma li ty is na me da ft er th ee co no mi st Vi lf re do Pa re to(1848–1923).
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 669
s tr at eg y . An eq ui li br iu m i se ss en ti al ly a l oc al o pt im um in t he sp ac e o f p ol ic ie s ; i ti st he t op
"o fa pe ak t ha ts lo pe s d ow nw ar d a lo ng e ve ry d im en si on , w he re a d im en si on c or re sp on ds t oa"
p la ye r’s s tr at eg yc ho ic es .
Th e m at he ma ti ci an Jo hn Na sh (1928–) p ro ve d t ha t e ve ry g am e h as a t l ea st o ne e qu i-
l ib ri um . Th e g en er al c on ce pt o f e qu il ib ri um i s n ow c al le d Na sh e qu il ib ri um i n h is h on or .
"Cl ea rl y , a d om in an t s tr at eg y e qu il ib ri um i s a Na sh e qu il ib ri um (Ex er ci se 17.16), b ut s om e"
NASHEQUILIBRIUM
g am es ha ve Na sh eq ui li br ia b ut no do mi na nt st ra te gi es .
Th e d il em ma i n t he p ri so ne r’s d il em ma i s t ha t t he e qu il ib ri um o ut co me i s w or se f or
"b ot h p la ye rs t ha n t he o ut co me t he y w ou ld g et i f t he y b ot h r ef us ed t ot es ti fy . In ot he r w or ds ,"
"(t es ti fy ,t es ti fy)i s Pa re to do mi na te db yt he(-1,-1)o ut co me of(r ef us e ,r ef us e). Is th er ea ny"
"w ay f or Al ic e a nd Bo b t o a rr iv e a t t he (-1, -1) o ut co me ? It i s c er ta in ly a n a ll ow ab le o pt io n"
"f or b ot h o f t he m t o r ef us e t o t es ti fy , b ut i s i s h ar d t o s ee h ow r at io na l a ge nt s c an g et t he re ,"
g iv en th ed ef in it io no ft he ga me . Ei th er pl ay er co nt em pl at in g p la yi ng r ef us e w il lr ea li ze th at
h e o r s he w ou ld d o b et te r b y p la yi ng t es ti fy . Th at i s t he a tt ra ct iv e p ow er o f a n e qu il ib ri um
p oi nt . Ga me th eo ri st s a gr ee t ha tb ei ng a Na sh eq ui li br iu m i s a ne ce ss ar y c on di ti on f or be in g
a so lu ti on—a lt ho ug h t he yd is ag re ew he th er it is as uf fi ci en t c on di ti on .
"It i s e as y e no ug h t o g et t o t he (r ef us e ,r ef us e) s ol ut io n i f w e m od if y t he g am e . Fo r"
"e xa mp le ,w ec ou ld ch an ge to ar ep ea te dg am ei nw hi ch th ep la ye rs kn ow th at th ey wi ll me et"
a ga in . Or th ea ge nt s m ig ht h av em or al b el ie fs t ha t e nc ou ra ge c oo pe ra ti on a nd fa ir ne ss . Th at
"m ea ns t he y h av e a d if fe re nt u ti li ty f un ct io n , n ec es si ta ti ng a d if fe re nt p ay of f m at ri x , m ak in g"
"i t a d if fe re nt g am e . We w il l s ee l at er t ha t a ge nt s w it h l im it ed c om pu ta ti on al p ow er s , r at he r"
"t ha nt he ab il it yt or ea so na bs ol ut el yr at io na ll y ,c an re ac hn on-e qu il ib ri um ou tc om es ,a sc an an"
"a ge nt th at kn ow st ha tt he ot he ra ge nt ha sl im it ed ra ti on al it y . In ea ch ca se ,w ea re co ns id er in g"
a di ff er en t g am et ha nt he on ed es cr ib ed b yt he pa yo ff ma tr ix ab ov e .
"No w l et’s l oo k a t a g am e t ha t h as n o d om in an t s tr at eg y . Ac me , a v id eo g am e c on so le"
"m an uf ac tu re r , h as t od ec id e w he th er i ts ne xt g am em ac hi ne w il lu se Bl u-r ay d is cs o r DVDs ."
"Me an wh il e , t he v id eo g am e s of tw ar e p ro du ce r Be st n ee ds t o d ec id e w he th er t o p ro du ce i ts"
n ex tg am eo n Bl u-r ay or DVD .Th ep ro fi ts fo rb ot hw il lb ep os it iv ei ft he ya gr ee an dn eg at iv e
"i ft he yd is ag re e , a ss ho wn in th ef ol lo wi ng pa yo ff ma tr ix:"
Ac me:b lu ra y Ac me:d vd
"Be st:b lu ra y A = +9,B = +9 A= −4,B = −1"
"Be st:d vd A = −3,B = −1 A= +5,B = +5"
"Th er e i s n o d om in an t s tr at eg y e qu il ib ri um f or t hi s g am e , b ut t he re a re t wo Na sh e qu il ib ri a:"
"(b lu ra y , b lu ra y) a nd (d vd , d vd). We k no w t he se a re Na sh e qu il ib ri a b ec au se i f e it he r p la ye r"
"u ni la te ra ll y m ov es to ad if fe re nt s tr at eg y , t ha tp la ye r w il lb ew or se o ff . No wt he ag en ts h av e"
"a p ro bl em: t he re a re m ul ti pl e a cc ep ta bl e s ol ut io ns , b ut i f e ac h a ge nt a im s f or a d if fe re nt"
"s ol ut io n , t he n b ot h a ge nt s w il l s uf fe r . Ho w c an t he y a gr ee o n a s ol ut io n ? On e a ns we r i s"
"t ha t b ot h s ho ul d c ho os e t he Pa re to-o pt im al s ol ut io n (b lu ra y , b lu ra y); t ha t i s , w e c an r es tr ic t"
t he de fi ni ti on o f“s ol ut io n” t ot he un iq ue Pa re to-o pt im al Na sh eq ui li br iu m p ro vi de d t ha t o ne
"e xi st s . Ev er y g am e h as a t l ea st o ne Pa re to-o pt im al s ol ut io n , b ut a g am e m ig ht h av e s ev er al ,"
"o r t he y m ig ht n ot b e e qu il ib ri um p oi nt s . Fo r e xa mp le , i f (b lu ra y , b lu ra y) h ad p ay of f (5,"
"5), t he n t he re w ou ld b e t wo e qu al Pa re to-o pt im al e qu il ib ri um p oi nt s . To c ho os e b et we en"
670 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"t he m t he a ge nt s c an e it he r g ue ss o r c om mu ni ca te , w hi ch c an b e d on e e it he r b y e st ab li sh in g"
a c on ve nt io n t ha t o rd er s t he s ol ut io ns b ef or e t he g am e b eg in s o r b y n eg ot ia ti ng t o r ea ch a
m ut ua ll y b en ef ic ia l s ol ut io n d ur in g t he g am e (w hi ch w ou ld m ea n i nc lu di ng c om mu ni ca ti ve
a ct io ns a sp ar to fa se qu en ti al g am e). Co mm un ic at io n t hu s a ri se s i ng am et he or y f or ex ac tl y
t he sa me re as on st ha ti ta ro se in mu lt ia ge nt pl an ni ng in Se ct io n 11.4. Ga me si nw hi ch pl ay er s
COORDINATION n ee dt oc om mu ni ca te li ke th is ar ec al le d c oo rd in at io n g am es .
GAME
A g am e c an h av e m or e t ha n o ne Na sh e qu il ib ri um ; h ow d o w e k no w t ha t e ve ry g am e
"m us t h av e a t l ea st o ne ? So me g am es h av e n o p ur e-s tr at eg y Na sh e qu il ib ri a . Co ns id er , f or"
"e xa mp le , a ny p ur e-s tr at eg y p ro fi le f or t wo-f in ge r Mo rr a (p ag e 666). If t he t ot al n um be r o f"
"f in ge rs is ev en ,t he n Ow il lw an tt os wi tc h ;o nt he ot he rh an d(s ot os pe ak),i ft he to ta li so dd ,"
"t he n E w il lw an tt os wi tc h . Th er ef or e , n op ur es tr at eg y p ro fi le ca nb ea ne qu il ib ri um a nd we"
m us tl oo kt om ix ed st ra te gi es i ns te ad .
"Bu tw hi ch mi xe d s tr at eg y ? In 1928, v on Ne um an n d ev el op ed a me th od f or fi nd in g t he"
"o pt im al m ix ed s tr at eg y f or t wo-p la ye r , z er o-s um g am es—g am es i n w hi ch t he s um o f t he"
ZERO-SUMGAME
"p ay of fs is al wa ys ze ro .6 Cl ea rl y ,Mo rr ai ss uc ha ga me . Fo rt wo-p la ye r , z er o-s um g am es ,w e"
"k no w t ha t t he p ay of fs a re e qu al a nd o pp os it e , s o w e n ee d c on si de r t he p ay of fs o f o nl y o ne"
"p la ye r , w ho wi ll be th em ax im iz er(j us ta si n Ch ap te r 5). Fo r Mo rr a ,w ep ic kt he ev en pl ay er"
"Et ob et he ma xi mi ze r ,s ow ec an de fi ne th ep ay of fm at ri xb yt he va lu es U (e ,o)—t he pa yo ff"
E
t o E i f E d oe se an d O d oe so . (Fo rc on ve ni en ce w ec al lp la ye r E “h er”a nd O “h im .”) Vo n
"Ne um an n’s me th od is ca ll ed th et he ma xi mi nt ec hn iq ue , a nd it wo rk sa sf ol lo ws:"
MAXIMIN
• Su pp os e w e c ha ng e t he r ul es a s f ol lo ws: f ir st E p ic ks h er s tr at eg y a nd r ev ea ls i t t o
"O . Th en O p ic ks h is s tr at eg y , w it h k no wl ed ge o f E’s s tr at eg y . Fi na ll y , w e e va lu at e"
t he e xp ec te d p ay of f o f t he g am e b as ed o n t he c ho se n s tr at eg ie s . Th is g iv es u s a t ur n-
t ak in g g am e t o w hi ch w e c an a pp ly t he s ta nd ar d m in im ax a lg or it hm f ro m Ch ap te r 5.
"Le t’s s up po se t hi s g iv es a n o ut co me U . Cl ea rl y , t hi s g am e f av or s O , s o t he t ru e"
"E ,O"
"u ti li ty U o f t he o ri gi na l g am e (f ro m E’s p oi nt o f v ie w) i s a t l ea st U . Fo re xa mp le ,"
"E ,O"
"i f w e j us t l oo k a t p ur e s tr at eg ie s , t he m in im ax g am e t re e h as a r oo t v al ue o f −3 (s ee"
"Fi gu re 17.12(a)), s ow ek no wt ha t U ≥ −3."
"• No ws up po se w ec ha ng et he ru le st of or ce O t or ev ea lh is st ra te gy fi rs t ,f ol lo we db y E ."
"Th en th em in im ax va lu eo ft hi sg am ei s U ,a nd be ca us et hi sg am ef av or s Ew ek no w"
"O ,E"
"t ha t U i s a t m os t U . Wi th p ur e s tr at eg ie s , t he v al ue i s +2(s ee Fi gu re 17.12(b)), s o"
"O ,E"
w ek no w U ≤ +2.
"Co mb in in g t he se t wo ar gu me nt s , w es ee t ha t t he tr ue u ti li ty U o ft he so lu ti on t ot he or ig in al"
g am em us ts at is fy
"U ≤ U ≤ U o ri nt hi sc as e , −3 ≤ U ≤ 2."
"E ,O O ,E"
"To pi np oi nt th ev al ue of U ,w en ee dt ot ur no ur an al ys is to mi xe ds tr at eg ie s . Fi rs t ,o bs er ve th e"
"f ol lo wi ng: o nc e t he f ir st p la ye r h as r ev ea le d h is o r h er s tr at eg y , t he s ec on d p la ye r m ig ht a s"
"w el lc ho os ea pu re st ra te gy . Th er ea so ni ss im pl e: i ft he se co nd pl ay er pl ay sa mi xe ds tr at eg y ,"
"[p:o ne ;(1−p):t wo],i ts ex pe ct ed ut il it yi sa li ne ar co mb in at io n (p·u +(1−p)·u )o f"
o ne t wo
6 o ra co ns ta nt—s ee pa ge 162.
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 671
(a) E -3 (b) O 2
o ne t wo o ne t wo
O -3 -3 E 2 4
o ne t wo o ne t wo o ne t wo o ne t wo
2 -3 -3 4 2 -3 -3 4
(c) E (d) O
[p: o ne ; (1 – p): t wo] [q: o ne ; (1 – q): t wo]
O E
o ne t wo o ne t wo
2 p – 3(1 – p) 3 p + 4(1 – p) 2 q – 3(1 – q) 3 q + 4(1 – q)
(e) U (f) U
+4 +4
+3 +3
t wo t wo
+2 +2
o ne o ne
+1 +1
0 p 0 q
1 1
–1 –1
–2 –2
–3 –3
Fi gu re 17.12 (a) a nd (b): Mi ni ma x g am e t re es f or t wo-f in ge r Mo rr a i f t he p la ye rs t ak e
t ur ns p la yi ng p ur e s tr at eg ie s . (c) a nd (d): Pa ra me te ri ze d g am e t re es w he re t he f ir st p la ye r
p la ys a m ix ed s tr at eg y . Th e p ay of fs d ep en d o n t he p ro ba bi li ty p ar am et er (p o r q) i n t he
"m ix ed st ra te gy . (e)a nd(f): Fo ra ny pa rt ic ul ar va lu eo ft he pr ob ab il it yp ar am et er ,t he se co nd"
"p la ye r w il l c ho os e t he “b et te r” o f t he t wo a ct io ns , s o t he v al ue o f t he f ir st p la ye r’s m ix ed"
s tr at eg yi sg iv en by th eh ea vy li ne s . Th ef ir st pl ay er wi ll ch oo se th ep ro ba bi li ty pa ra me te rf or
t he mi xe ds tr at eg ya tt he in te rs ec ti on po in t .
"t he ut il it ie so ft he pu re st ra te gi es , u a nd u . Th is li ne ar co mb in at io n c an ne ve rb eb et te r"
o ne t wo
"t ha nt he be tt er of u a nd u ,s ot he se co nd pl ay er ca nj us tc ho os et he be tt er on e ."
o ne t wo
"Wi th th is ob se rv at io n i nm in d ,t he mi ni ma xt re es ca nb et ho ug ht o fa sh av in g i nf in it el y"
"m an y b ra nc he s a t t he r oo t , c or re sp on di ng t o t he i nf in it el y m an y m ix ed s tr at eg ie s t he f ir st"
672 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
p la ye r c an c ho os e . Ea ch o f t he se l ea ds t o a n od e w it h t wo b ra nc he s c or re sp on di ng t o t he
p ur es tr at eg ie sf or th es ec on dp la ye r . We ca nd ep ic tt he se in fi ni te tr ee sf in it el yb yh av in go ne
“p ar am et er iz ed” c ho ic ea tt he ro ot:
"• If E c ho os es f ir st , t he s it ua ti on i sa s s ho wn i n Fi gu re 17.12(c). E c ho os es t he s tr at eg y"
"[p:o ne ;(1−p):t wo]a tt he ro ot ,a nd th en Oc ho os es ap ur es tr at eg y(a nd he nc ea mo ve)"
"g iv en th ev al ue of p . If Oc ho os es on e ,t he ex pe ct ed pa yo ff(t o E)i s 2 p−3(1−p)=5 p−"
"3; i f O c ho os es t wo , t he e xp ec te d p ay of f i s −3 p+4(1 −p)=4−7 p . We c an d ra w"
"t he se tw op ay of fs as st ra ig ht li ne so na gr ap h ,w he re p ra ng es fr om 0 t o 1 o nt he x-a xi s ,"
"a ss ho wn in Fi gu re 17.12(e). O ,t he mi ni mi ze r ,w il la lw ay sc ho os et he lo we ro ft he tw o"
"l in es ,a ss ho wn by th eh ea vy li ne si nt he fi gu re . Th er ef or e ,t he be st th at E c an do at th e"
"r oo ti st oc ho os e p to be at th ei nt er se ct io n p oi nt , w hi ch is wh er e"
5 p−3 = 4−7 p ⇒ p = 7/12.
Th eu ti li ty fo r E a tt hi sp oi nt is U = −1/12.
"E ,O"
"• If O m ov es f ir st , t he s it ua ti on i s a s s ho wn i n Fi gu re 17.12(d). O c ho os es t he s tr at eg y"
"[q:o ne ;(1−q):t wo]a tt he ro ot , a nd th en E c ho os es a mo ve gi ve nt he va lu eo fq . Th e"
"p ay of fs ar e 2 q−3(1−q)=5 q−3 a nd−3 q+4(1−q)=4−7 q .7 Ag ai n ,Fi gu re 17.12(f)"
s ho ws th at th eb es t O c an do at th er oo ti st oc ho os et he in te rs ec ti on p oi nt:
5 q−3 = 4−7 q ⇒ q = 7/12.
Th eu ti li ty fo r E a tt hi sp oi nt is U = −1/12.
"O ,E"
"No ww ek no w t ha t t he tr ue u ti li ty o ft he o ri gi na l g am el ie sb et we en −1/12 a nd −1/12, t ha t"
"i s , i t i s e xa ct ly −1/12! (Th e m or al i s t ha t i t i s b et te r t o b e O t ha n E i f y ou a re p la yi ng t hi s"
"g am e .) Fu rt he rm or e , t he tr ue ut il it y i sa tt ai ne d b yt he mi xe ds tr at eg y [7/12:o ne ;5/12:t wo],"
MAXIMIN w hi ch sh ou ld be pl ay ed by bo th pl ay er s . Th is st ra te gy is ca ll ed th em ax im in eq ui li br iu mo f
EQUILIBRIUM
"t he g am e , a nd i s a Na sh e qu il ib ri um . No te t ha t e ac h c om po ne nt s tr at eg y i n a n e qu il ib ri um"
"m ix ed s tr at eg y h as t he s am e e xp ec te d u ti li ty . In t hi s c as e , b ot h o ne a nd t wo h av e t he s am e"
"e xp ec te du ti li ty , −1/12,a st he mi xe ds tr at eg yi ts el f ."
Ou r r es ul t f or t wo-f in ge r Mo rr a i s a n e xa mp le o f t he g en er al r es ul t b y v on Ne um an n:
e ve ry tw o-p la ye rz er o-s um ga me ha sa ma xi mi ne qu il ib ri um wh en yo ua ll ow mi xe ds tr at eg ie s .
"Fu rt he rm or e , e ve ry Na sh e qu il ib ri um i n a z er o-s um g am e i s a m ax im in f or b ot h p la ye rs . A"
"p la ye r w ho a do pt s t he m ax im in s tr at eg y h as t wo g ua ra nt ee s: Fi rs t , n o o th er s tr at eg y c an d o"
b et te ra ga in st a no pp on en t w ho pl ay sw el l(a lt ho ug h s om eo th er st ra te gi es m ig ht be be tt er at
"e xp lo it in g a n o pp on en t w ho m ak es i rr at io na l m is ta ke s). Se co nd , t he p la ye r c on ti nu es t o d o"
j us ta sw el le ve ni ft he st ra te gy is re ve al ed to th eo pp on en t .
Th e g en er al a lg or it hm f or f in di ng m ax im in e qu il ib ri a i n z er o-s um g am es i s s om ew ha t
"m or ei nv ol ve dt ha n Fi gu re s 17.12(e)a nd(f)m ig ht su gg es t . Wh en th er ea re np os si bl ea ct io ns ,"
a m ix ed s tr at eg y i s a p oi nt i n n-d im en si on al s pa ce a nd t he l in es b ec om e h yp er pl an es . It’s
"a ls o p os si bl e f or s om e p ur e s tr at eg ie s f or t he s ec on d p la ye r t o b e d om in at ed b y o th er s , s o"
t ha t t he y a re n ot o pt im al a ga in st a ny s tr at eg y f or t he f ir st p la ye r . Af te r r em ov in g a ll s uc h
"s tr at eg ie s (w hi ch m ig ht h av e t o b e d on e r ep ea te dl y), t he o pt im al c ho ic e a t t he r oo t i s t he"
7 It i s a c oi nc id en ce t ha t t he se e qu at io ns a re t he s am e a s t ho se f or p ; t he c oi nc id en ce a ri se s b ec au se
"UE(o ne ,t wo)=UE(t wo ,o ne)= −3.Th is al so ex pl ai ns wh yt he op ti ma ls tr at eg yi st he sa me fo rb ot hp la ye rs ."
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 673
h ig he st (o r l ow es t) i nt er se ct io n p oi nt o f t he r em ai ni ng h yp er pl an es . Fi nd in g t hi s c ho ic e i s
a ne xa mp le of al in ea rp ro gr am mi ng pr ob le m: m ax im iz in ga no bj ec ti ve f un ct io n s ub je ct to
l in ea r c on st ra in ts . Su ch p ro bl em s c an b e s ol ve d b y s ta nd ar d t ec hn iq ue s i n t im e p ol yn om ia l
"i nt he nu mb er of ac ti on s(a nd in th en um be ro fb it su se dt os pe ci fy th er ew ar df un ct io n ,i fy ou"
w an tt og et te ch ni ca l).
"Th eq ue st io nr em ai ns ,w ha ts ho ul da ra ti on al ag en ta ct ua ll y d oi np la yi ng as in gl eg am e"
o f Mo rr a ? Th e r at io na l a ge nt w il l h av e d er iv ed t he f ac t t ha t [7/12:o ne ;5/12:t wo] i s t he
"m ax im in e qu il ib ri um s tr at eg y , a nd w il la ss um e t ha t t hi si sm ut ua l k no wl ed ge w it ha ra ti on al"
o pp on en t . Th ea ge nt co ul du se a 12-s id ed di eo ra ra nd om nu mb er ge ne ra to rt op ic kr an do ml y
"a cc or di ng to th is mi xe ds tr at eg y , i nw hi ch ca se th ee xp ec te d p ay of fw ou ld be-1/12 f or E . Or"
"t he a ge nt c ou ld j us t d ec id e t o p la y o ne , o r t wo . In e it he r c as e , t he e xp ec te d p ay of f r em ai ns"
"-1/12 f or E . Cu ri ou sl y ,u ni la te ra ll yc ho os in ga pa rt ic ul ar ac ti on do es no th ar mo ne’s ex pe ct ed"
"p ay of f ,b ut al lo wi ng th eo th er ag en tt ok no wt ha to ne ha sm ad es uc ha un il at er al de ci si on do es"
"a ff ec tt he ex pe ct ed p ay of f ,b ec au se t he nt he op po ne nt c an ad ju st hi ss tr at eg y a cc or di ng ly ."
Fi nd in ge qu il ib ri a i nn on-z er o-s um g am es is so me wh at mo re co mp li ca te d . Th eg en er al
a pp ro ac h h as tw os te ps: (1)En um er at ea ll po ss ib le s ub se ts o fa ct io ns t ha tm ig ht fo rm mi xe d
"s tr at eg ie s . Fo re xa mp le , f ir st t ry a ll s tr at eg y p ro fi le s w he re e ac h p la ye r u se s a s in gl e a ct io n ,"
"t he n t ho se w he re e ac h p la ye r u se s e it he r o ne o r t wo a ct io ns , a nd s o o n . Th is i s e xp on en ti al"
"i nt he nu mb er of ac ti on s , a nd so on ly ap pl ie st or el at iv el y s ma ll ga me s . (2)Fo re ac hs tr at eg y"
"p ro fi le en um er at ed in(1),c he ck to se ei fi ti sa ne qu il ib ri um . Th is is do ne by so lv in ga se to f"
e qu at io ns an di ne qu al it ie st ha ta re si mi la rt ot he on es us ed in th ez er o-s um ca se . Fo rt wo pl ay-
"e rs t he se e qu at io ns a re l in ea r a nd c an b e s ol ve d w it h b as ic l in ea r p ro gr am mi ng t ec hn iq ue s ,"
b ut fo rt hr ee or mo re pl ay er s t he ya re no nl in ea ra nd ma yb ev er yd if fi cu lt to so lv e .
17.5.2 Re pe at ed g am es
So fa rw eh av e l oo ke d o nl y a tg am es t ha t l as t a s in gl e m ov e . Th e s im pl es t k in d o f m ul ti pl e-
"m ov eg am ei st he re pe at ed ga me ,i nw hi ch pl ay er sf ac et he sa me ch oi ce re pe at ed ly , b ut ea ch"
REPEATEDGAME
t im e w it h k no wl ed ge o f t he h is to ry o f a ll p la ye rs’ p re vi ou s c ho ic es . A s tr at eg y p ro fi le f or a
r ep ea te d g am es pe ci fi es a na ct io n c ho ic e f or ea ch p la ye ra te ac ht im es te p f or ev er yp os si bl e
"h is to ry of pr ev io us ch oi ce s . As wi th MDPs ,p ay of fs ar ea dd it iv eo ve rt im e ."
Le t’s co ns id er th er ep ea te dv er si on of th ep ri so ne r’s di le mm a . Wi ll Al ic ea nd Bo bw or k
"t og et he r a nd r ef us e t o t es ti fy , k no wi ng t he y w il l m ee t a ga in ? Th e a ns we r d ep en ds o n t he"
"d et ai ls o f t he e ng ag em en t . Fo r e xa mp le , s up po se Al ic e a nd Bo b k no w t ha t t he y m us t p la y"
e xa ct ly 100 r ou nd so fp ri so ne r’s di le mm a . Th en th ey bo th kn ow th at th e 100 t hr ou nd wi ll no t
"b ea re pe at ed g am e—t ha ti s ,i ts ou tc om ec an ha ve no ef fe ct o nf ut ur e r ou nd s—a nd t he re fo re"
"t he yw il lb ot hc ho os e t he do mi na nt s tr at eg y , t es ti fy ,i nt ha tr ou nd . Bu to nc et he 100 t hr ou nd"
"i s d et er mi ne d , t he 99 t h r ou nd c an h av e n o e ff ec t o n s ub se qu en t r ou nd s , s o i t t oo w il l h av e"
"a do mi na nt s tr at eg y e qu il ib ri um a t (t es ti fy ,t es ti fy). By i nd uc ti on , b ot h p la ye rs w il lc ho os e"
"t es ti fy o ne ve ry ro un d ,e ar ni ng a to ta lj ai ls en te nc e o f 500 y ea rs ea ch ."
"We c an g et d if fe re nt s ol ut io ns b y c ha ng in g t he r ul es o f t he i nt er ac ti on . Fo r e xa mp le ,"
s up po se t ha t a ft er e ac h r ou nd t he re i s a 99% c ha nc e t ha t t he p la ye rs w il l m ee t a ga in . Th en
"t he e xp ec te d n um be r o f r ou nd s i s s ti ll 100, b ut n ei th er p la ye r k no ws f or s ur e w hi ch r ou nd"
674 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"w il lb et he la st . Un de rt he se co nd it io ns , m or ec oo pe ra ti ve b eh av io ri sp os si bl e . Fo re xa mp le ,"
o ne e qu il ib ri um s tr at eg y i s f or ea ch p la ye r t o r ef us e u nl es s t he o th er p la ye r h as e ve r p la ye d
PERPETUAL t es ti fy . Th is s tr at eg y c ou ld b e c al le d p er pe tu al p un is hm en t . Su pp os e b ot h p la ye rs h av e
PUNISHMENT
"a do pt ed th is st ra te gy ,a nd th is is mu tu al kn ow le dg e . Th en as lo ng as ne it he rp la ye rh as pl ay ed"
"t es ti fy ,t he na ta ny po in ti nt im et he ex pe ct ed f ut ur et ot al pa yo ff fo re ac hp la ye ri s"
(c id:12)∞
0.99 t·(−1) = −100.
t=0
Ap la ye rw ho de vi at es fr om th es tr at eg ya nd ch oo se s t es ti fy w il lg ai na sc or eo f 0 r at he rt ha n
"−1 o n t he v er y n ex t m ov e , b ut f ro m t he n o n b ot h p la ye rs w il l p la y t es ti fy a nd t he p la ye r’s"
t ot al ex pe ct ed f ut ur ep ay of fb ec om es
(c id:12)∞
0+ 0.99 t·(−5) = −495.
t=1
"Th er ef or e , a t e ve ry s te p , t he re i s n o i nc en ti ve t o d ev ia te f ro m (r ef us e ,r ef us e). Pe rp et ua l"
p un is hm en t i s t he “m ut ua ll y a ss ur ed d es tr uc ti on” s tr at eg y o f t he p ri so ne r’s d il em ma: o nc e
"e it he r p la ye r d ec id es t o t es ti fy , i t e ns ur es t ha t b ot h p la ye rs s uf fe r a g re at d ea l . Bu t i t w or ks"
a sa de te rr en to nl yi ft he ot he rp la ye rb el ie ve sy ou ha ve ad op te dt hi ss tr at eg y—o ra tl ea st th at
y ou mi gh th av ea do pt ed i t .
"Ot he rs tr at eg ie s a re mo re fo rg iv in g . Th em os tf am ou s , c al le dt it-f or-t at , c al ls fo rs ta rt-"
TIT-FOR-TAT
i ng wi th re fu se a nd th en ec ho in g t he ot he rp la ye r’s p re vi ou s m ov eo na ll su bs eq ue nt m ov es .
"So Al ic ew ou ld re fu se a sl on g a s Bo br ef us es a nd wo ul dt es ti fy t he mo ve af te r Bo bt es ti fi ed ,"
"b ut w ou ld g o b ac k t o r ef us in g i f Bo b d id . Al th ou gh v er y s im pl e , t hi s s tr at eg y h as p ro ve n t o"
b eh ig hl yr ob us ta nd ef fe ct iv ea ga in st aw id ev ar ie ty of st ra te gi es .
"We c an a ls o g et d if fe re nt s ol ut io ns b y c ha ng in g t he a ge nt s , r at he r t ha n c ha ng in g t he"
r ul es o f e ng ag em en t . Su pp os e t he a ge nt s a re f in it e-s ta te m ac hi ne s w it h n s ta te s a nd t he y
a re p la yi ng a g am e w it h m > n t ot al s te ps . Th e a ge nt s a re t hu s i nc ap ab le o f r ep re se nt in g
"t he n um be r o f r em ai ni ng s te ps , a nd m us t t re at i t a s a n u nk no wn . Th er ef or e , t he y c an no t d o"
"t he i nd uc ti on , a nd a re f re e t o a rr iv e a t t he m or e f av or ab le (r ef us e , r ef us e) e qu il ib ri um . In"
"t hi sc as e ,i gn or an ce i sb li ss—o rr at he r , h av in gy ou ro pp on en t b el ie ve th at yo ua re ig no ra nt is"
b li ss . Yo ur su cc es s i n t he se r ep ea te d g am es d ep en ds o nt he o th er p la ye r’s p er ce pt io n o f y ou
"a sa bu ll yo ra si mp le to n , a nd no to ny ou ra ct ua lc ha ra ct er is ti cs ."
17.5.3 Se qu en ti al g am es
"In th eg en er al ca se ,a ga me co ns is ts of as eq ue nc eo ft ur ns th at ne ed no tb ea ll th es am e . Su ch"
"g am es ar eb es tr ep re se nt ed by ag am et re e ,w hi ch ga me th eo ri st sc al lt he ex te ns iv ef or m . Th e"
EXTENSIVEFORM
"t re e i nc lu de s a ll t he s am e i nf or ma ti on w e s aw i n Se ct io n 5.1: a n i ni ti al s ta te S , a f un ct io n"
0
"PLAYER(s) t ha t t el ls w hi ch p la ye r h as t he m ov e , a f un ct io n ACTIONS(s) e nu me ra ti ng t he"
"p os si bl e a ct io ns , a f un ct io n RESULT(s ,a) t ha t d ef in es t he t ra ns it io n t o a n ew s ta te , a nd a"
"p ar ti al f un ct io n UTILITY(s ,p), w hi ch i s d ef in ed o nl y o n t er mi na l s ta te s , t o g iv e t he p ay of f"
f or ea ch pl ay er .
"To r ep re se nt s to ch as ti c g am es , s uc h a s b ac kg am mo n , w e a dd a d is ti ng ui sh ed p la ye r ,"
"c ha nc e , t ha t c an t ak e r an do m a ct io ns . Ch an ce’s “s tr at eg y” i s p ar t o f t he d ef in it io n o f t he"
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 675
"g am e , s pe ci fi ed a s a p ro ba bi li ty d is tr ib ut io n o ve r a ct io ns (t he o th er p la ye rs g et t o c ho os e"
"t he ir o wn s tr at eg y). To r ep re se nt g am es w it h n on de te rm in is ti c a ct io ns , s uc h a s b il li ar ds , w e"
"b re ak th ea ct io ni nt ot wo pi ec es: t he pl ay er’s a ct io ni ts el f h as ad et er mi ni st ic r es ul t , a nd th en"
c ha nc e h as at ur nt or ea ct to th ea ct io n i ni ts ow nc ap ri ci ou s w ay . To re pr es en t s im ul ta ne ou s
"m ov es ,a si nt he pr is on er’s di le mm ao rt wo-f in ge r Mo rr a ,w ei mp os ea na rb it ra ry or de ro nt he"
"p la ye rs ,b ut we ha ve th eo pt io no fa ss er ti ng th at th ee ar li er pl ay er’s ac ti on sa re no to bs er va bl e"
"t o t he s ub se qu en t p la ye rs: e .g ., Al ic e m us t c ho os e r ef us e o r t es ti fy f ir st , t he n Bo b c ho os es ,"
b ut Bo b d oe s n ot k no w w ha t c ho ic e Al ic e m ad e a t t ha t t im e (w e c an a ls o r ep re se nt t he f ac t
"t ha t t he m ov ei s r ev ea le d l at er). Ho we ve r , w e a ss um e t he p la ye rs a lw ay s r em em be r a ll t he ir"
o wn pr ev io us a ct io ns ;t hi sa ss um pt io n i sc al le d p er fe ct re ca ll .
Th e k ey i de a o f e xt en si ve f or m t ha t s et s i t a pa rt f ro m t he g am e t re es o f Ch ap te r 5 i s
t he r ep re se nt at io n o f p ar ti al o bs er va bi li ty . We s aw i n Se ct io n 5.6 t ha t a p la ye r i n a p ar ti al ly
o bs er va bl e g am e s uc h a s Kr ie gs pi el c an c re at e a g am e t re e o ve r t he s pa ce o f b el ie f s ta te s .
"Wi th t ha t t re e , w es aw t ha t i n s om ec as es a pl ay er c an f in da se qu en ce o f m ov es (a st ra te gy)"
"t ha tl ea ds to af or ce dc he ck ma te re ga rd le ss of wh at ac tu al st at ew es ta rt ed in ,a nd re ga rd le ss of"
"w ha ts tr at eg yt he op po ne nt us es . Ho we ve r ,t he te ch ni qu es of Ch ap te r 5 c ou ld no tt el la pl ay er"
w ha t t o d o w he n t he re i s n o g ua ra nt ee d c he ck ma te . If t he p la ye r’s b es t s tr at eg y d ep en ds
"o n t he o pp on en t’s s tr at eg y a nd v ic e v er sa , t he n m in im ax (o r a lp ha–b et a) b y i ts el f c an no t"
f in d a s ol ut io n . Th e e xt en si ve f or m d oe s a ll ow u s t o f in d s ol ut io ns b ec au se i t r ep re se nt s t he
b el ie f s ta te s (g am e t he or is ts c al l t he m i nf or ma ti on s et s) o f a ll p la ye rs a t o nc e . Fr om t ha t
INFORMATIONSETS
"r ep re se nt at io n w ec an fi nd eq ui li br iu m s ol ut io ns , j us ta sw e d id wi th no rm al-f or m g am es ."
"As as im pl e e xa mp le o fa se qu en ti al g am e , p la ce t wo ag en ts i nt he 4×3 w or ld o f Fi g-"
"u re 17.1 a nd ha ve th em mo ve si mu lt an eo us ly u nt il on ea ge nt re ac he sa ne xi ts qu ar e ,a nd ge ts"
t he p ay of f f or t ha t s qu ar e . If w e s pe ci fy t ha t n o m ov em en t o cc ur s w he n t he t wo a ge nt s t ry
t o m ov e i nt o t he s am e s qu ar e s im ul ta ne ou sl y (a c om mo n p ro bl em a t m an y t ra ff ic i nt er se c-
"t io ns), t he n c er ta in p ur e s tr at eg ie s c an g et s tu ck f or ev er . Th us , a ge nt s n ee d a m ix ed st ra te gy"
t op er fo rm w el li nt hi sg am e: r an do ml y c ho os eb et we en mo vi ng a he ad an ds ta yi ng p ut . Th is
i se xa ct ly wh at is do ne to re so lv ep ac ke tc ol li si on s i n Et he rn et ne tw or ks .
"Ne xt w e’l l c on si de r a v er y s im pl e v ar ia nt o f p ok er . Th e d ec k h as o nl y f ou r c ar ds , t wo"
a ce s a nd t wo k in gs . On e c ar d i s d ea lt t o e ac h p la ye r . Th e f ir st p la ye r t he n h as t he o pt io n
"t o r ai se t he s ta ke s o f t he g am e f ro m 1 p oi nt t o 2, o r t o c he ck . If p la ye r 1 c he ck s , t he g am e"
"i s o ve r . If h e r ai se s , t he n p la ye r 2 h as t he o pt io n t o c al l , a cc ep ti ng t ha t t he g am e i s w or th 2"
"p oi nt s , o r f ol d , c on ce di ng t he 1 p oi nt . If t he g am e d oe s n ot e nd w it h a f ol d , t he n t he p ay of f"
d ep en ds o n t he c ar ds: i t i s z er o f or b ot h p la ye rs i f t he y h av e t he s am e c ar d ; o th er wi se t he
p la ye rw it ht he ki ng pa ys th es ta ke st ot he pl ay er wi th th ea ce .
Th ee xt en si ve-f or m t re ef or th is ga me is sh ow ni n Fi gu re 17.13. No nt er mi na ls ta te sa re
"s ho wn as ci rc le s , w it ht he pl ay er to mo ve in si de th ec ir cl e ;p la ye r 0 i sc ha nc e . Ea ch ac ti on is"
"d ep ic te da sa na rr ow wi th al ab el ,c or re sp on di ng to ar ai se ,c he ck ,c al l ,o rf ol d ,o r ,f or ch an ce ,"
t he fo ur po ss ib le d ea ls(“AK”m ea ns th at pl ay er 1 g et sa na ce an dp la ye r 2 a ki ng). Te rm in al
s ta te s a re r ec ta ng le s l ab el ed b y t he ir p ay of f t o p la ye r 1 a nd p la ye r 2. In fo rm at io n s et s a re
"s ho wn a s l ab el ed d as he d b ox es ; f or e xa mp le , I i s t he i nf or ma ti on s et w he re i t i s p la ye r"
"1,1"
"1’s t ur n , a nd h e k no ws h e h as a n a ce (b ut d oe s n ot k no w w ha t p la ye r 2 h as). In i nf or ma ti on"
"s et I , i t i s p la ye r 2’s t ur n a nd s he k no ws t ha t s he h as a n a ce a nd t ha t p la ye r 1 h as r ai se d ,"
"2,1"
676 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
r c
"1 2 0,0!"
f
k
"I I +1,-1!"
"1,1 0,0! 2,1"
1/6: AA
r c
"1 2 +2,-2"
f
k
1/3: AK
"I +1,-1!"
"0 +1,-1! 2,2"
1/6: KK
r c
"1 2 0,0"
f
k
1/3: KA
I
"1,2"
"0,0!"
I
"+1,-1!"
"2,1"
r c
"1 22 -2,+2"
f
k
"-1,+1! +1,-1!"
Fi gu re 17.13 Ex te ns iv ef or mo fa si mp li fi ed ve rs io no fp ok er .
"b ut d oe s n ot k no w w ha t c ar d p la ye r 1 h as . (Du e t o t he l im it s o f t wo-d im en si on al p ap er , t hi s"
i nf or ma ti on s et is sh ow na st wo bo xe sr at he rt ha no ne .)
On ew ay to so lv ea ne xt en si ve ga me is to co nv er ti tt oa no rm al-f or m g am e . Re ca ll th at
"t he no rm al fo rm is am at ri x ,e ac hr ow of wh ic hi sl ab el ed wi th ap ur es tr at eg yf or pl ay er 1,a nd"
e ac h c ol um n b ya pu re s tr at eg y f or pl ay er 2. In an e xt en si ve g am ea pu re s tr at eg y f or pl ay er
"i co rr es po nd s t oa na ct io n f or ea ch in fo rm at io n s et in vo lv in g t ha tp la ye r . So in Fi gu re 17.13,"
"o ne p ur e s tr at eg y f or pl ay er 1 i s “r ai se w he n i n I (t ha t i s , w he n I h av e a n a ce), a nd c he ck"
"1,1"
"w he n i n I (w he n I h av e a k in g).” In t he p ay of f m at ri x b el ow , t hi s s tr at eg y i s c al le d r k ."
"1,2"
"Si mi la rl y , s tr at eg y c f f or p la ye r 2 m ea ns “c al l w he n I h av e a n a ce a nd f ol d w he n I h av e a"
"k in g .” Si nc e t hi s i s a z er o-s um g am e , t he m at ri x b el ow g iv es o nl y t he p ay of f f or p la ye r 1;"
p la ye r 2 a lw ay sh as th eo pp os it e p ay of f:
2:c c 2:c f 2:f f 2:f c
1:r r 0 -1/6 1 7/6
1:k r -1/3 -1/6 5/6 2/3
1:r k 1/3 0 1/6 1/2
1:k k 0 0 0 0
"Th is g am e i s s o s im pl e t ha t i t h as t wo p ur e-s tr at eg y e qu il ib ri a , s ho wn i n b ol d: c f f or p la ye r"
2 a nd r k o r k k f or p la ye r 1. Bu t i n g en er al w e c an s ol ve e xt en si ve g am es b y c on ve rt in g
t o n or ma l f or m a nd t he n f in di ng a s ol ut io n (u su al ly a m ix ed s tr at eg y) u si ng s ta nd ar d l in ea r
p ro gr am mi ng m et ho ds . Th at w or ks i n t he or y . Bu t i f a p la ye r h as I i nf or ma ti on s et s a nd
"a a ct io ns p er s et , t he n t ha t p la ye r w il l h av e a I p ur e s tr at eg ie s . In o th er w or ds , t he s iz e o f"
"t he n or ma l-f or m m at ri x i s e xp on en ti al i n t he n um be r o f i nf or ma ti on s et s , s o i n p ra ct ic e t he"
Se ct io n 17.5. De ci si on sw it h Mu lt ip le Ag en ts: Ga me Th eo ry 677
"a pp ro ac h w or ks o nl y f or ve ry s ma ll g am e t re es , o n t he o rd er o f a d oz en s ta te s . A g am e l ik e"
"Te xa sh ol d’e m p ok er ha sa bo ut 1018 s ta te s ,m ak in gt hi sa pp ro ac h c om pl et el yi nf ea si bl e ."
Wh at a re t he a lt er na ti ve s ? In Ch ap te r 5 w e s aw h ow a lp ha–b et a s ea rc h c ou ld h an dl e
"g am es o f p er fe ct i nf or ma ti on w it h h ug e g am e t re es b y g en er at in g t he t re e i nc re me nt al ly , b y"
"p ru ni ng so me br an ch es ,a nd by he ur is ti ca ll ye va lu at in gn on te rm in al no de s . Bu tt ha ta pp ro ac h"
"d oe s n ot w or k w el l f or ga me s w it h i mp er fe ct i nf or ma ti on , f or t wo r ea so ns: f ir st , i t i s h ar de r"
"t op ru ne ,b ec au se we ne ed to co ns id er mi xe ds tr at eg ie st ha tc om bi ne mu lt ip le br an ch es ,n ot a"
"p ur es tr at eg yt ha ta lw ay sc ho os es th eb es tb ra nc h . Se co nd ,i ti sh ar de rt oh eu ri st ic al ly ev al ua te"
"a no nt er mi na l n od e ,b ec au se w ea re de al in g w it hi nf or ma ti on s et s ,n ot in di vi du al s ta te s ."
Ko ll er e t a l . (1996) c om e t o t he r es cu e w it h a n a lt er na ti ve r ep re se nt at io n o f e xt en si ve
"g am es , c al le d t he s eq ue nc e f or m , t ha t i s o nl y l in ea r i n t he s iz e o f t he t re e , r at he r t ha n e x-"
SEQUENCEFORM
"p on en ti al . Ra th er t ha n r ep re se nt s tr at eg ie s , i t r ep re se nt s p at hs t hr ou gh t he t re e ; t he n um be r"
o f p at hs i s e qu al t o t he n um be r o f t er mi na l n od es . St an da rd l in ea r p ro gr am mi ng m et ho ds
c an a ga in b e a pp li ed t o t hi s r ep re se nt at io n . Th e r es ul ti ng s ys te m c an s ol ve p ok er v ar ia nt s
"w it h 25,000 s ta te s i n a m in ut e o rt wo . Th is i s a n e xp on en ti al s pe ed up o ve rt he n or ma l-f or m"
"a pp ro ac h , b ut st il lf al ls fa rs ho rt of ha nd li ng f ul lp ok er , w it h 1018 s ta te s ."
"If w e c an’t h an dl e 1018 s ta te s , p er ha ps w e c an s im pl if y t he p ro bl em b y c ha ng in g t he"
"g am et oa si mp le rf or m . Fo re xa mp le ,i f Ih ol da na ce an da mc on si de ri ng t he po ss ib il it y t ha t"
"t he ne xt ca rd wi ll gi ve me ap ai ro fa ce s ,t he n Id on’t ca re ab ou tt he su it of th en ex tc ar d ;a ny"
"s ui t w il l d o e qu al ly w el l . Th is s ug ge st s f or mi ng a n a bs tr ac ti on o f t he g am e , o ne i n w hi ch"
ABSTRACTION
s ui ts a re i gn or ed . Th e r es ul ti ng g am e t re e w il l b e s ma ll er b y a f ac to r o f 4!=24. Su pp os e I
c an s ol ve t hi s s ma ll er g am e ; h ow w il l t he s ol ut io n t o t ha t g am e r el at e t o t he o ri gi na l g am e ?
"If no pl ay er is go in gf or af lu sh(o rb lu ff in gs o),t he nt he su it s d on’t m at te rt oa ny pl ay er , a nd"
"t he so lu ti on f or th ea bs tr ac ti on w il la ls ob ea so lu ti on f or th eo ri gi na l g am e . Ho we ve r , i fa ny"
"p la ye ri sc on te mp la ti ng af lu sh ,t he nt he ab st ra ct io nw il lb eo nl ya na pp ro xi ma te so lu ti on(b ut"
i ti sp os si bl et oc om pu te bo un ds on th ee rr or).
"Th er ea re ma ny op po rt un it ie sf or ab st ra ct io n . Fo re xa mp le , a tt he po in ti na ga me wh er e"
"e ac h p la ye r h as t wo c ar ds , i f I h ol d a p ai r o f q ue en s , t he n t he o th er p la ye rs’ h an ds c ou ld b e"
"a bs tr ac te d i nt o t hr ee c la ss es: b et te r (o nl y a p ai r o f k in gs o r a p ai r o f a ce s), s am e (p ai r o f"
"q ue en s) o r w or se (e ve ry th in g e ls e). Ho we ve r , t hi s a bs tr ac ti on m ig ht b e t oo c oa rs e . A b et te r"
"a bs tr ac ti on w ou ld d iv id e w or se i nt o , s ay , m ed iu m p ai r (n in es t hr ou gh j ac ks), l ow p ai r , a nd"
n op ai r . Th es ee xa mp le s a re ab st ra ct io ns o fs ta te s ; i ti sa ls o p os si bl e t oa bs tr ac t a ct io ns . Fo r
"e xa mp le ,i ns te ad o fh av in ga be ta ct io nf or ea ch in te ge rf ro m 1 t o 1000,w ec ou ld re st ri ct t he"
"b et s t o 100, 101, 102 a nd 103. Or w e c ou ld c ut o ut o ne o f t he r ou nd s o f b et ti ng a lt og et he r ."
"We c an a ls o a bs tr ac t o ve r c ha nc e n od es , b y c on si de ri ng o nl y a s ub se t o f t he p os si bl e d ea ls ."
Th is is eq ui va le nt to th er ol lo ut te ch ni qu eu se di n Go pr og ra ms . Pu tt in ga ll th es ea bs tr ac ti on s
"t og et he r , w e c an r ed uc e t he 1018 s ta te s o f p ok er t o 107 s ta te s , a s iz e t ha t c an b e s ol ve d w it h"
c ur re nt te ch ni qu es .
Po ke rp ro gr am s b as ed on th is ap pr oa ch c an ea si ly d ef ea tn ov ic ea nd so me ex pe ri en ce d
"h um an p la ye rs , b ut a re n ot y et a t t he l ev el o f m as te r p la ye rs . Pa rt o f t he p ro bl em i s t ha t"
t he so lu ti on t he se pr og ra ms a pp ro xi ma te—t he e qu il ib ri um s ol ut io n—i s o pt im al on ly ag ai ns t
a n o pp on en t w ho a ls o p la ys t he e qu il ib ri um s tr at eg y . Ag ai ns t f al li bl e h um an p la ye rs i t i s
i mp or ta nt t o b e a bl e t o e xp lo it a n o pp on en t’s d ev ia ti on f ro m t he e qu il ib ri um s tr at eg y . As
678 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"Ga ut am Ra o(a ka“Th e Co un t”),t he wo rl d’s le ad in go nl in ep ok er pl ay er ,s ai d(Bi ll in gs e ta l .,"
"2003), “Yo u h av e a v er y s tr on g p ro gr am . On ce y ou a dd o pp on en t m od el in g t o i t , i t w il l k il l"
"e ve ry on e .” Ho we ve r ,g oo dm od el so fh um an fa ll ab il it y r em ai ne lu si ve ."
"In as en se ,e xt en si ve ga me fo rm is th eo ne of th em os tc om pl et er ep re se nt at io ns we ha ve"
"s ee n s o f ar: i t c an h an dl e p ar ti al ly o bs er va bl e , m ul ti ag en t , s to ch as ti c , s eq ue nt ia l , d yn am ic"
e nv ir on me nt s—m os t o f t he h ar d c as es f ro m t he l is t o f e nv ir on me nt p ro pe rt ie s o n p ag e 42.
"Ho we ve r ,t he re ar et wo li mi ta ti on so fg am et he or y . Fi rs t ,i td oe sn ot de al we ll wi th co nt in uo us"
s ta te s a nd a ct io ns (a lt ho ug h t he re h av e b ee n s om e e xt en si on s t o t he c on ti nu ou s c as e ; f or
"COURNOT e xa mp le ,t he th eo ry of Co ur no tc om pe ti ti on us es ga me th eo ry to so lv ep ro bl em sw he re tw o"
COMPETITION
"c om pa ni es c ho os e p ri ce s f or t he ir p ro du ct s f ro m a c on ti nu ou s s pa ce). Se co nd , g am e t he or y"
a ss um es t he g am ei s k no wn . Pa rt so f t he g am em ay b e s pe ci fi ed a su no bs er va bl e t os om e o f
"t he pl ay er s , b ut it mu st be kn ow n w ha tp ar ts a re un ob se rv ab le . In ca se s i nw hi ch th ep la ye rs"
"l ea rn t he u nk no wn s tr uc tu re o f t he g am e o ve r t im e , t he m od el b eg in s t o b re ak d ow n . Le t’s"
"e xa mi ne ea ch so ur ce of un ce rt ai nt y , a nd wh et he re ac hc an be re pr es en te d i ng am et he or y ."
Ac ti on s: Th er e i s n o e as y w ay t o r ep re se nt a g am e w he re t he p la ye rs h av e t o d is co ve r
w ha t a ct io ns a re a va il ab le . Co ns id er t he g am e b et we en c om pu te r v ir us w ri te rs a nd s ec ur it y
e xp er ts . Pa rt of th ep ro bl em i sa nt ic ip at in g w ha ta ct io nt he v ir us wr it er sw il lt ry ne xt .
St ra te gi es: Ga me t he or y i s v er y g oo d a t r ep re se nt in g t he i de a t ha t t he o th er p la ye rs’
s tr at eg ie s a re i ni ti al ly u nk no wn—a s l on g a s w e a ss um e a ll a ge nt s a re r at io na l . Th e t he or y
i ts el f d oe s n ot s ay w ha tt o d o w he n t he o th er p la ye rs a re l es s t ha n f ul ly r at io na l . Th e n ot io n
BAYES–NASH o fa Ba ye s–Na sh eq ui li br iu mp ar ti al ly ad dr es se st hi sp oi nt: i ti sa ne qu il ib ri um w it hr es pe ct
EQUILIBRIUM
"t oa pl ay er’s p ri or pr ob ab il it y d is tr ib ut io n o ve rt he ot he r p la ye rs’ s tr at eg ie s—i n o th er wo rd s ,"
i te xp re ss es a pl ay er’s b el ie fs ab ou tt he ot he rp la ye rs’l ik el ys tr at eg ie s .
"Ch an ce: If ag am ed ep en ds on th er ol lo fa di e ,i ti se as ye no ug ht om od el ac ha nc en od e"
w it hu ni fo rm d is tr ib ut io n o ve rt he ou tc om es . Bu tw ha ti fi ti s p os si bl e t ha t t he di e i su nf ai r ?
"We ca nr ep re se nt t ha tw it ha no th er ch an ce n od e , h ig he ru pi nt he tr ee ,w it ht wo br an ch es f or"
"“d ie i s f ai r” a nd “d ie i s u nf ai r ,” s uc h t ha t t he c or re sp on di ng n od es i n e ac h b ra nc h a re i n t he"
"s am ei nf or ma ti on s et(t ha ti s ,t he pl ay er sd on’t kn ow if th ed ie is fa ir or no t). An dw ha ti fw e"
"s us pe ct t he o th er o pp on en t d oe s k no w ? Th en we ad d a no th er c ha nc e n od e , w it h o ne b ra nc h"
"r ep re se nt in g t he ca se wh er et he op po ne nt d oe sk no w ,a nd on ew he re he do es n’t ."
"Ut il it ie s: Wh at i f w ed on’t k no w o ur op po ne nt’s u ti li ti es ? Ag ai n , t ha t c an b e m od el ed"
"w it h a c ha nc e n od e , s uc h t ha t t he o th er a ge nt k no ws i ts o wn u ti li ti es i n e ac h b ra nc h , b ut w e"
"d on’t . Bu t w ha t i f w e d on’t k no w o ur o wn u ti li ti es ? Fo r e xa mp le , h ow d o I k no w i f i t i s"
r at io na l t oo rd er th e Ch ef’s sa la di f Id on’t kn ow ho wm uc h Iw il ll ik ei t ? We ca nm od el th at
w it hy et an ot he rc ha nc en od es pe ci fy in g a nu no bs er va bl e “i nt ri ns ic q ua li ty” o ft he sa la d .
"Th us ,w es ee th at ga me th eo ry is go od at re pr es en ti ng mo st so ur ce so fu nc er ta in ty—b ut"
a t t he c os t o f d ou bl in g t he s iz e o f t he t re e e ve ry t im e w e a dd a no th er n od e ; a h ab it w hi ch
"q ui ck ly l ea ds t o i nt ra ct ab ly l ar ge t re es . Be ca us e o f t he se a nd o th er p ro bl em s , g am e t he or y"
"h as be en us ed pr im ar il yt oa na ly ze en vi ro nm en ts th at ar ea te qu il ib ri um ,r at he rt ha nt oc on tr ol"
a ge nt sw it hi na ne nv ir on me nt . Ne xt we sh al ls ee ho wi tc an he lp de si gn en vi ro nm en ts .
Se ct io n 17.6. Me ch an is m De si gn 679
17.6 MECHANISM DESIGN
"In t he p re vi ou s s ec ti on , w e a sk ed , “Gi ve n a g am e , w ha t i s a r at io na l s tr at eg y ?” In t hi s s ec-"
"t io n ,w ea sk ,“Gi ve nt ha ta ge nt sp ic kr at io na ls tr at eg ie s ,w ha tg am es ho ul dw ed es ig n ?” Mo re"
"s pe ci fi ca ll y ,w ew ou ld li ke to de si gn ag am ew ho se so lu ti on s , c on si st in go fe ac ha ge nt pu rs u-"
"i ng it so wn ra ti on al s tr at eg y , r es ul t i nt he ma xi mi za ti on o f s om eg lo ba l u ti li ty f un ct io n . Th is"
"p ro bl em i s c al le d m ec ha ni sm d es ig n , o r s om et im es i nv er se g am e t he or y . Me ch an is m d e-"
MECHANISMDESIGN
s ig ni sa st ap le of ec on om ic s a nd po li ti ca l s ci en ce . Ca pi ta li sm 101 s ay st ha ti fe ve ry on et ri es
"t o g et r ic h , t he t ot al w ea lt h o f s oc ie ty w il l i nc re as e . Bu t t he e xa mp le s w e w il l d is cu ss s ho w"
t ha tp ro pe rm ec ha ni sm de si gn is ne ce ss ar yt ok ee pt he in vi si bl eh an do nt ra ck . Fo rc ol le ct io ns
"o fa ge nt s ,m ec ha ni sm de si gn al lo ws us to co ns tr uc ts ma rt sy st em so ut of ac ol le ct io no fm or e"
l im it ed sy st em s—e ve nu nc oo pe ra ti ve s ys te ms—i nm uc ht he sa me wa yt ha tt ea ms of hu ma ns
c an ac hi ev eg oa ls be yo nd th er ea ch of an yi nd iv id ua l .
"Ex am pl es o f m ec ha ni sm d es ig n i nc lu de a uc ti on in g o ff c he ap a ir li ne t ic ke ts , r ou ti ng"
"TCPp ac ke ts be tw ee nc om pu te rs , d ec id in gh ow me di ca li nt er ns wi ll be as si gn ed to ho sp it al s ,"
a nd d ec id in g h ow r ob ot ic s oc ce r p la ye rs w il l c oo pe ra te w it h t he ir t ea mm at es . Me ch an is m
"d es ig n b ec am em or et ha na na ca de mi c s ub je ct i nt he 1990 s wh en s ev er al na ti on s , f ac ed wi th"
"t he pr ob le mo fa uc ti on in g o ff li ce ns es to br oa dc as ti nv ar io us fr eq ue nc yb an ds ,l os th un dr ed s"
"o f m il li on s o f d ol la rs i n p ot en ti al r ev en ue a s a r es ul t o f p oo r m ec ha ni sm d es ig n . Fo rm al ly ,"
a m ec ha ni sm c on si st s o f (1) a l an gu ag e f or d es cr ib in g t he s et o f a ll ow ab le s tr at eg ie s t ha t
MECHANISM
"a ge nt sm ay ad op t ,(2)a di st in gu is he da ge nt ,c al le dt he ce nt er ,t ha tc ol le ct sr ep or ts of st ra te gy"
CENTER
"c ho ic es f ro m t he a ge nt s i n t he g am e , a nd (3) a n o ut co me r ul e , k no wn t o a ll a ge nt s , t ha t t he"
"c en te ru se st od et er mi ne th ep ay of fs to ea ch ag en t , g iv en th ei rs tr at eg yc ho ic es ."
17.6.1 Au ct io ns
Le t’s co ns id er a uc ti on sf ir st . An au ct io n i sa me ch an is m f or se ll in g s om eg oo ds t om em be rs
AUCTION
"o f a p oo l o f b id de rs . Fo r s im pl ic it y , w e c on ce nt ra te o n a uc ti on s w it h a s in gl e i te m f or s al e ."
"Ea ch b id de r i h as a u ti li ty v al ue v f or h av in g t he i te m . In s om e c as es , e ac h b id de r h as a"
i
"p ri va te v al ue f or t he i te m . Fo r e xa mp le , t he f ir st i te m s ol d o n e Ba y w as a b ro ke n l as er"
"p oi nt er , w hi ch so ld fo r$14.83 t oa co ll ec to ro fb ro ke nl as er p oi nt er s . Th us ,w ek no wt ha tt he"
"c ol le ct or h as v ≥ $14.83, b ut m os t o th er p eo pl e w ou ld h av e v * $14.83. In o th er c as es ,"
i j
"s uc h a s a uc ti on in g d ri ll in g r ig ht s f or a n o il t ra ct , t he i te m h as a c om mo n v al ue—t he t ra ct"
"w il lp ro du ce s om ea mo un t o fm on ey , X , a nd a ll b id de rs v al ue a do ll ar eq ua ll y—b ut t he re i s"
"u nc er ta in ty a st ow ha tt he ac tu al v al ue of X i s . Di ff er en t b id de rs h av ed if fe re nt i nf or ma ti on ,"
"a nd he nc ed if fe re nt es ti ma te so ft he it em’s tr ue va lu e . In ei th er ca se ,b id de rs en du pw it ht he ir"
"o wn v . Gi ve n v , e ac h b id de r g et s a c ha nc e , a t t he a pp ro pr ia te t im e o rt im es i n t he a uc ti on ,"
i i
"t o m ak e a b id b . Th e h ig he st b id , b w in s t he i te m , b ut t he p ri ce p ai d n ee d n ot b e b ;"
i m ax m ax
t ha t’s pa rt of th em ec ha ni sm d es ig n .
"Th e b es t-k no wn a uc ti on m ec ha ni sm i s t he a sc en di ng-b id ,8 o r En gl is h a uc ti on , i n"
ASCENDING-BID
w hi ch t he c en te r s ta rt s b y a sk in g f or a m in im um (o r r es er ve) b id b . If s om e b id de r i s
ENGLISHAUCTION m in
"8 Th ew or d“a uc ti on”c om es fr om th e La ti na ug er e ,t oi nc re as e ."
680 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"w il li ng t o p ay t ha t a mo un t , t he c en te r t he n a sk s f or b + d , f or s om e i nc re me nt d , a nd"
m in
c on ti nu es u p f ro m t he re . Th e a uc ti on e nd s w he n n ob od y i s w il li ng t o b id a ny mo re ; t he n t he
"l as tb id de rw in st he it em ,p ay in g t he pr ic eh eb id ."
Ho w d o w e k no w i f t hi s i s a g oo d m ec ha ni sm ? On e g oa l i s t o m ax im iz e e xp ec te d
r ev en ue f or t he s el le r . An ot he r g oa l i s t o m ax im iz e a n ot io n o f g lo ba l u ti li ty . Th es e g oa ls
"o ve rl ap t os om e e xt en t , b ec au se o ne a sp ec t o fm ax im iz in g g lo ba l u ti li ty i st o e ns ur e t ha t t he"
w in ne r o f t he a uc ti on i s t he a ge nt w ho v al ue s t he i te m t he m os t (a nd t hu s i s w il li ng t o p ay
t he mo st). We sa ya na uc ti on i se ff ic ie nt if th e g oo ds g ot ot he ag en t w ho va lu es t he m m os t .
EFFICIENT
"Th ea sc en di ng-b id au ct io ni su su al ly bo th ef fi ci en ta nd re ve nu em ax im iz in g ,b ut if th er es er ve"
"p ri ce i s s et t oo h ig h , t he b id de r w ho v al ue s i t m os t m ay n ot b id , a nd i f t he r es er ve i s s et t oo"
"l ow ,t he se ll er lo se sn et re ve nu e ."
Pr ob ab ly t he m os t i mp or ta nt t hi ng s t ha t a n a uc ti on m ec ha ni sm c an d o i s e nc ou ra ge a
s uf fi ci en t n um be ro fb id de rs t oe nt er th e g am ea nd d is co ur ag e t he m f ro m e ng ag in g i n c ol lu-
s io n . Co ll us io ni sa nu nf ai ro ri ll eg al ag re em en tb yt wo or mo re bi dd er st om an ip ul at ep ri ce s .
COLLUSION
"It ca nh ap pe ni ns ec re tb ac kr oo m d ea ls or ta ci tl y , w it hi nt he r ul es of th em ec ha ni sm ."
"Fo r e xa mp le , i n 1999, Ge rm an y a uc ti on ed t en b lo ck s o f c el l-p ho ne s pe ct ru m w it h a"
"s im ul ta ne ou s a uc ti on (b id sw er et ak en on al lt en bl oc ks at th es am et im e),u si ng th er ul et ha t"
a ny bi dm us tb ea mi ni mu mo fa 10%r ai se ov er th ep re vi ou sb id on ab lo ck . Th er ew er eo nl y
"t wo c re di bl e b id de rs , a nd t he f ir st , Ma nn es ma n , e nt er ed t he b id o f 20 m il li on d eu ts ch ma rk"
o nb lo ck s 1-5 a nd 18.18 m il li on on bl oc ks 6-10. Wh y 18.18 M ?On eo f T-Mo bi le’s ma na ge rs
s ai d t he y “i nt er pr et ed Ma nn es ma n’s f ir st b id a s a n o ff er .” Bo th p ar ti es c ou ld c om pu te t ha t
a 10% r ai se o n 18.18 M i s 19.99 M ; t hu s Ma nn es ma n’s b id w as i nt er pr et ed a s s ay in g “w e
c an e ac h g et h al f t he b lo ck s f or 20 M ; l et’s n ot s po il i t b y b id di ng t he p ri ce s u p h ig he r .”
An d i n f ac t T-Mo bi le b id 20 M o n b lo ck s 6-10 a nd t ha t w as t he e nd o f t he b id di ng . Th e
"Ge rm an g ov er nm en t g ot l es s t ha n t he y e xp ec te d , b ec au se t he t wo c om pe ti to rs w er e a bl e t o"
u se t he b id di ng m ec ha ni sm t o c om e t o a t ac it a gr ee me nt o n h ow n ot t o c om pe te . Fr om
"t he g ov er nm en t’s p oi nt o f v ie w , a b et te r r es ul t c ou ld h av e b ee n o bt ai ne d b y a ny o f t he se"
"c ha ng es t o t he m ec ha ni sm: a h ig he r r es er ve p ri ce ; a s ea le d-b id f ir st-p ri ce a uc ti on , s o t ha t"
t he c om pe ti to rs c ou ld n ot c om mu ni ca te t hr ou gh t he ir b id s ; o r i nc en ti ve s t o b ri ng i n a t hi rd
"b id de r . Pe rh ap s t he 10% r ul e w as a n e rr or i n m ec ha ni sm d es ig n , b ec au se i t f ac il it at ed t he"
p re ci se si gn al in g f ro m Ma nn es ma nt o T-Mo bi le .
"In g en er al , b ot h t he s el le r a nd t he g lo ba l u ti li ty f un ct io n b en ef it i f t he re a re m or e b id-"
"d er s , a lt ho ug h g lo ba l u ti li ty c an s uf fe r i f y ou c ou nt t he c os t o f w as te d t im e o f b id de rs t ha t"
h av e n o c ha nc e o f w in ni ng . On e w ay t o e nc ou ra ge m or e b id de rs i s t o m ak e t he m ec ha ni sm
"e as ie r f or t he m . Af te r a ll , i f i t r eq ui re s t oo m uc h r es ea rc h o rc om pu ta ti on o n t he p ar t o f t he"
"b id de rs , t he y m ay d ec id e t o t ak e t he ir m on ey e ls ew he re . So i t i s d es ir ab le t ha t t he b id de rs"
h av ea do mi na nt st ra te gy . Re ca ll th at “d om in an t” m ea ns th at th es tr at eg y w or ks ag ai ns t a ll
"o th er s tr at eg ie s , w hi ch i n t ur n m ea ns t ha t a n a ge nt c an a do pt i t w it ho ut r eg ar d f or t he o th er"
"s tr at eg ie s . An ag en tw it ha do mi na nt st ra te gy c an ju st bi d ,w it ho ut w as ti ng ti me co nt em pl at-"
i ng o th er a ge nt s’ p os si bl e s tr at eg ie s . A m ec ha ni sm w he re a ge nt s h av e a d om in an t s tr at eg y
"i s c al le d a s tr at eg y-p ro of m ec ha ni sm . If , a s i s u su al ly t he c as e , t ha t s tr at eg y i nv ol ve s t he"
STRATEGY-PROOF
"b id de rs re ve al in gt he ir tr ue va lu e , v ,t he ni ti sc al le da tr ut h-r ev ea li ng , o rt ru th fu l ,a uc ti on ;"
TRUTH-REVEALING i
REVELATION t he te rm i nc en ti ve co mp at ib le is al so us ed . Th er ev el at io n p ri nc ip le st at es th at an ym ec ha-
PRINCIPLE
Se ct io n 17.6. Me ch an is m De si gn 681
"n is mc an be tr an sf or me di nt oa ne qu iv al en tt ru th-r ev ea li ng m ec ha ni sm ,s op ar to fm ec ha ni sm"
d es ig ni sf in di ng th es ee qu iv al en t m ec ha ni sm s .
It t ur ns o ut t ha t t he a sc en di ng-b id a uc ti on h as m os t o f t he d es ir ab le p ro pe rt ie s . Th e
"b id de r w it h t he h ig he st v al ue v g et s t he g oo ds a t a p ri ce o f b +d , w he re b i s t he h ig he st"
i o o
b id a mo ng a ll t he o th er a ge nt s a nd d i s t he a uc ti on ee r’s i nc re me nt .9 Bi dd er s h av e a s im pl e
d om in an ts tr at eg y: k ee pb id di ng as lo ng as th ec ur re nt co st is be lo wy ou rv . Th em ec ha ni sm
i
"i sn ot qu it et ru th-r ev ea li ng , b ec au se t he wi nn in gb id de rr ev ea ls on ly th at hi sv ≥ b +d ;w e"
i o
h av ea lo we rb ou nd on v b ut no ta ne xa ct am ou nt .
i
A d is ad va nt ag e (f ro m t he p oi nt o f v ie w o f t he s el le r) o f t he a sc en di ng-b id a uc ti on i s
t ha t i t c an d is co ur ag e c om pe ti ti on . Su pp os e t ha t i n a b id f or c el l-p ho ne s pe ct ru m t he re i s
o ne a dv an ta ge d c om pa ny t ha t e ve ry on e a gr ee s w ou ld b e a bl e t o l ev er ag e e xi st in g c us to me rs
"a nd i nf ra st ru ct ur e , a nd t hu s c an m ak e a la rg er p ro fi t t ha n a ny on e e ls e . Po te nt ia l c om pe ti to rs"
"c an s ee t ha t t he y h av e n o c ha nc e i n a n a sc en di ng-b id a uc ti on , b ec au se t he a dv an ta ge d c om-"
"p an y c an a lw ay s b id h ig he r . Th us , t he c om pe ti to rs m ay n ot e nt er a t a ll , a nd t he a dv an ta ge d"
c om pa ny en ds up wi nn in ga tt he re se rv ep ri ce .
An ot he rn eg at iv ep ro pe rt yo ft he En gl is ha uc ti on is it sh ig hc om mu ni ca ti on co st s . Ei th er
"t he au ct io n t ak es pl ac ei no ne ro om or al lb id de rs ha ve to ha ve h ig h-s pe ed , s ec ur ec om mu ni-"
c at io nl in es ;i ne it he rc as et he yh av et oh av et he ti me av ai la bl et og ot hr ou gh se ve ra lr ou nd so f
"b id di ng . An al te rn at iv e m ec ha ni sm ,w hi ch re qu ir es m uc hl es sc om mu ni ca ti on , i st he se al ed-"
"SEALED-BID b id au ct io n . Ea ch bi dd er ma ke s a si ng le b id an dc om mu ni ca te s i tt ot he au ct io ne er , w it ho ut"
AUCTION
"t he ot he rb id de rs s ee in g i t . Wi th th is me ch an is m , t he re is no l on ge r a si mp le d om in an t s tr at-"
e gy . If y ou r v al ue i s v a nd y ou b el ie ve t ha t t he m ax im um o f a ll t he o th er a ge nt s’ b id s w il l
i
"b e b , t he n y ou s ho ul d b id b + (c id:2), f or s om e s ma ll (c id:2), i f t ha t i s l es s t ha n v . Th us , y ou r b id"
o o i
"d ep en ds o n y ou r e st im at io n o f t he o th er a ge nt s’ b id s , r eq ui ri ng y ou t o d o m or e w or k . Al so ,"
n ot e t ha t t he a ge nt w it h t he h ig he st v m ig ht n ot w in t he a uc ti on . Th is i s o ff se t b y t he f ac t
i
"t ha tt he au ct io ni sm or ec om pe ti ti ve , r ed uc in g t he bi as to wa rd an ad va nt ag ed b id de r ."
A s ma ll c ha ng e i n t he m ec ha ni sm f or s ea le d-b id a uc ti on s p ro du ce s t he s ea le d-b id
"SEALED-BID s ec on d-p ri ce au ct io n ,a ls ok no wn as a Vi ck re ya uc ti on .10 In su ch au ct io ns ,t he wi nn er pa ys"
SECOND-PRICE
AUCTION
"t he p ri ce o f t he s ec on d-h ig he st b id , b , r at he r t ha n p ay in g h is o wn b id . Th is s im pl e m od if i-"
VICKREYAUCTION o
c at io n c om pl et el y e li mi na te s t he co mp le xd el ib er at io ns r eq ui re d f or st an da rd (o r f ir st-p ri ce)
"s ea le d-b id au ct io ns , b ec au se th ed om in an ts tr at eg yi sn ow si mp ly to bi dv ;t he me ch an is mi s"
i
"t ru th-r ev ea li ng . No te th at th eu ti li ty of ag en ti in te rm so fh is bi db ,h is va lu ev ,a nd th eb es t"
i i
"b id am on gt he ot he ra ge nt s , b ,i s"
o
(c id:24)
(v −b ) i fb > b
u = i o i o
i 0 o th er wi se .
"To s ee t ha t b = v i s a d om in an t s tr at eg y , n ot e t ha t w he n (v − b ) i s p os it iv e , a ny b id"
i i i o
"t ha t w in s t he a uc ti on i s o pt im al , a nd b id di ng v i n p ar ti cu la r w in s t he a uc ti on . On t he o th er"
i
"h an d , w he n (v −b )i sn eg at iv e , a ny bi d t ha t l os es t he a uc ti on i so pt im al , a nd b id di ng v i n"
i o i
"9 Th er ei sa ct ua ll ya sm al lc ha nc et ha tt he ag en tw it hh ig he st vi fa il st og et th eg oo ds ,i nt he ca se in wh ic h"
b o <v i <b o+d .Th ec ha nc eo ft hi sc an be ma de ar bi tr ar il ys ma ll by de cr ea si ng th ei nc re me nt d .
"10 Na me da ft er Wi ll ia m Vi ck re y(1914–1996), w ho wo nt he 1996 No be l Pr iz ei ne co no mi cs fo rt hi sw or ka nd"
d ie do fa he ar ta tt ac kt hr ee da ys la te r .
682 Ch ap te r 17. Ma ki ng Co mp le x De ci si on s
"p ar ti cu la rl os es th ea uc ti on . So bi dd in g v i so pt im al fo ra ll po ss ib le va lu es of b ,a nd in fa ct ,"
i o
v i st he on ly bi dt ha th as th is pr op er ty . Be ca us eo fi ts si mp li ci ty an dt he mi ni ma lc om pu ta ti on
i
"r eq ui re me nt s f or b ot h s el le r a nd b id de rs , t he Vi ck re y a uc ti on i s w id el y u se d i n c on st ru ct in g"
"d is tr ib ut ed AI s ys te ms . Al so , In te rn et s ea rc h e ng in es c on du ct o ve r a b il li on a uc ti on s a d ay"
"t o s el l a dv er ti se me nt s a lo ng w it h t he ir s ea rc h r es ul ts , a nd o nl in e a uc ti on s it es h an dl e $100"
"b il li on ay ea ri ng oo ds ,a ll us in gv ar ia nt so ft he Vi ck re ya uc ti on . No te th at th ee xp ec te dv al ue"
"t o t he s el le r i s b , w hi ch i s t he s am e e xp ec te d r et ur n a s t he l im it o f t he En gl is h a uc ti on a s"
o
t he in cr em en t d go es to ze ro . Th is is ac tu al ly a ve ry ge ne ra l r es ul t: t he r ev en ue eq ui va le nc e
REVENUE
"t he or em s ta te s t ha t , w it h a f ew m in or c av ea ts , a ny a uc ti on m ec ha ni sm w he re r is k-n eu tr al"
EQUIVALENCE
THEOREM
b id de rs h av e v al ue s v k no wn o nl y t o t he ms el ve s (b ut k no w a p ro ba bi li ty d is tr ib ut io n f ro m
i
"w hi ch th os ev al ue sa re sa mp le d),w il ly ie ld th es am ee xp ec te dr ev en ue . Th is pr in ci pl em ea ns"
"t ha tt he va ri ou sm ec ha ni sm sa re no tc om pe ti ng on th eb as is of re ve nu eg en er at io n , b ut ra th er"
o no th er qu al it ie s .
"Al th ou gh th es ec on d-p ri ce au ct io ni st ru th-r ev ea li ng , i tt ur ns ou tt ha te xt en di ng th ei de a"
t om ul ti pl eg oo ds a nd us in ga ne xt-p ri ce a uc ti on i sn ot tr ut h-r ev ea li ng . Ma ny In te rn et s ea rc h
e ng in es u se a m ec ha ni sm w he re t he y a uc ti on k s lo ts f or a ds o n a p ag e . Th e h ig he st b id de r
"w in s t he t op s po t , t he s ec on d h ig he st g et s t he s ec on d s po t , a nd s o o n . Ea ch w in ne r p ay s t he"
"p ri ce b id b y t he n ex t-l ow er b id de r , w it h t he u nd er st an di ng t ha t p ay me nt i s m ad e o nl y i f t he"
s ea rc he r a ct ua ll y c li ck s o n t he a d . Th e t op s lo ts a re c on si de re d m or e v al ua bl e b ec au se t he y
"a re m or e l ik el y t o b e n ot ic ed a nd c li ck ed o n . Im ag in e t ha t t hr ee b id de rs , b ,b a nd b , h av e"
1 2 3
"v al ua ti on s f or ac li ck o f v =200,v =180, a nd v =100, a nd t ha tk = 2 s lo ts a re a va il ab le ,"
1 2 3
w he re i t i s k no wn t ha t t he t op s po t i s c li ck ed o n 5% o f t he t im e a nd t he b ot to m s po t 2%. If
"a ll b id de rs b id t ru th fu ll y , t he n b w in s t he t op s lo t a nd p ay s 180, a nd h as a n e xp ec te d r et ur n"
1
o f(200−180)×0.05=1. Th es ec on ds lo tg oe st ob . Bu tb c an se et ha ti fs he we re to bi d
2 1
"a ny th in gi nt he ra ng e 101–179,s he wo ul dc on ce de th et op sl ot to b ,w in th es ec on ds lo t ,a nd"
2
"y ie ld an ex pe ct ed re tu rn of(200−100)×.02=2. Th us ,b c an do ub le he re xp ec te dr et ur nb y"
1
"b id di ng le ss th an he rt ru ev al ue in th is ca se . In ge ne ra l ,b id de rs in th is mu lt is lo ta uc ti on mu st"
s pe nd al ot of en er gy an al yz in g t he bi ds of ot he rs to de te rm in et he ir be st st ra te gy ; t he re is no
s im pl ed om in an ts tr at eg y . Ag ga rw al e ta l .(2006)s ho wt ha tt he re is au ni qu et ru th fu la uc ti on
"m ec ha ni sm f or t hi s m ul ti sl ot p ro bl em , i n w hi ch t he w in ne r o f s lo t j p ay s t he f ul l p ri ce f or"
s lo t j j us t f or t ho se a dd it io na l c li ck s t ha t a re a va il ab le a t s lo t j a nd n ot a t s lo t j + 1. Th e
"w in ne r p ay s t he p ri ce f or t he l ow er s lo t f or t he r em ai ni ng c li ck s . In o ur e xa mp le , b w ou ld"
1
"b id 200 t ru th fu ll y , a nd wo ul dp ay 180 f or th ea dd it io na l .05−.02=.03 c li ck si nt he to ps lo t ,"
"b ut w ou ld p ay o nl y t he c os t o f t he b ot to m s lo t , 100, f or t he r em ai ni ng .02 c li ck s . Th us , t he"
t ot al re tu rn to b w ou ld be(200−180)×.03+(200−100)×.02=2.6.
1
An ot he re xa mp le o fw he re a uc ti on s c an c om e i nt o p la y w it hi n AI i s w he na co ll ec ti on
o f a ge nt s a re d ec id in g w he th er t o c oo pe ra te o n a j oi nt p la n . Hu ns be rg er a nd Gr os z (2000)
s ho w t ha t t hi s c an b e a cc om pl is he d e ff ic ie nt ly w it h a n a uc ti on i n w hi ch t he a ge nt s b id f or
r ol es in th ej oi nt pl an .
Se ct io n 17.6. Me ch an is m De si gn 683
17.6.2 Co mm on go od s
"No w l et’s c on si de r a no th er t yp e o f g am e , i n w hi ch c ou nt ri es s et t he ir p ol ic y f or c on tr ol li ng"
a ir po ll ut io n . Ea ch co un tr y h as ac ho ic e: t he yc an re du ce p ol lu ti on a ta co st of-10 p oi nt s f or
"i mp le me nt in g t he ne ce ss ar y c ha ng es , o rt he yc an co nt in ue t op ol lu te , w hi ch gi ve st he ma ne t"
"u ti li ty o f-5(i na dd ed h ea lt h c os ts , e tc .) a nd al so co nt ri bu te s -1 p oi nt s t oe ve ry ot he rc ou nt ry"
"(b ec au se t he a ir i s s ha re d a cr os s c ou nt ri es). Cl ea rl y , t he d om in an t s tr at eg y f or e ac h c ou nt ry"
"i s“c on ti nu e t op ol lu te ,” b ut if th er ea re 100 c ou nt ri es a nd ea ch fo ll ow st hi sp ol ic y , t he ne ac h"
"c ou nt ry g et s a t ot al u ti li ty o f -104, w he re as i f e ve ry c ou nt ry r ed uc ed p ol lu ti on , t he y w ou ld"
TRAGEDYOFTHE e ac h h av e a u ti li ty o f -10. Th is s it ua ti on i s c al le d t he t ra ge dy o f t he c om mo ns: i f n ob od y
COMMONS
"h as t o p ay f or u si ng a c om mo n r es ou rc e , t he n i t t en ds t o b e e xp lo it ed i n a w ay t ha t l ea ds t o"
a l ow er t ot al u ti li ty f or a ll a ge nt s . It i s s im il ar t o t he p ri so ne r’s d il em ma: t he re i s a no th er
"s ol ut io n t o t he g am e t ha t i s b et te r f or a ll p ar ti es , b ut t he re a pp ea rs t o b e n o w ay f or r at io na l"
a ge nt st oa rr iv ea tt ha ts ol ut io n .
Th e s ta nd ar d a pp ro ac h f or d ea li ng w it h t he t ra ge dy o f t he c om mo ns i s t o c ha ng e t he
"m ec ha ni sm t oo ne t ha t c ha rg es e ac h a ge nt f or us in g t he c om mo ns . Mo re g en er al ly , w en ee d"
t o e ns ur e t ha t a ll e xt er na li ti es—e ff ec ts o n g lo ba l u ti li ty t ha t a re n ot r ec og ni ze d i n t he i n-
EXTERNALITIES
d iv id ua l a ge nt s’ t ra ns ac ti on s—a re m ad e e xp li ci t . Se tt in g t he p ri ce s c or re ct ly i s t he d if fi cu lt
"p ar t . In t he l im it , t hi s a pp ro ac h a mo un ts t o c re at in g a m ec ha ni sm i n w hi ch e ac h a ge nt i s"
"e ff ec ti ve ly r eq ui re dt om ax im iz eg lo ba lu ti li ty , b ut ca nd o s ob ym ak in ga lo ca ld ec is io n . Fo r"
"t hi s e xa mp le , a c ar bo n t ax w ou ld b e a n e xa mp le o f a m ec ha ni sm t ha t c ha rg es f or u se o f t he"
"c om mo ns in aw ay th at ,i fi mp le me nt ed w el l ,m ax im iz es gl ob al ut il it y ."
"As af in al ex am pl e ,c on si de rt he pr ob le mo fa ll oc at in gs om ec om mo ng oo ds . Su pp os ea"
"c it yd ec id es it wa nt st oi ns ta ll so me fr ee wi re le ss In te rn et t ra ns ce iv er s . Ho we ve r ,t he nu mb er"
o ft ra ns ce iv er s t he yc an af fo rd is le ss th an th en um be ro fn ei gh bo rh oo ds t ha tw an tt he m . Th e
"c it y w an ts t o a ll oc at e t he g oo ds e ff ic ie nt ly , t o t he n ei gh bo rh oo ds t ha t w ou ld v al ue t he m t he"
(c id:2)
"m os t . Th at i s , t he y w an t t o m ax im iz e t he g lo ba l u ti li ty V = v . Th e p ro bl em i s t ha t i f"
i i
t he yj us ta sk ea ch ne ig hb or ho od c ou nc il“h ow mu ch do yo uv al ue th is fr ee gi ft ?” t he yw ou ld
"a ll ha ve an in ce nt iv e t ol ie ,a nd re po rt ah ig hv al ue . It tu rn s o ut th er ei sa me ch an is m , k no wn"
"VICKREY-CLARKE- a s t he Vi ck re y-Cl ar ke-Gr ov es , o r VCG , m ec ha ni sm , t ha t m ak es i t a d om in an t s tr at eg y f or"
GROVES
e ac ha ge nt t or ep or t i ts tr ue ut il it y a nd th at ac hi ev es a ne ff ic ie nt a ll oc at io n o ft he go od s . Th e
VCG
t ri ck i s t ha t e ac h a ge nt p ay s a t ax e qu iv al en t t o t he l os s i n g lo ba l u ti li ty t ha t o cc ur s b ec au se
o ft he ag en t’s p re se nc ei nt he ga me . Th em ec ha ni sm w or ks li ke t hi s:
1. Th ec en te ra sk se ac ha ge nt to re po rt it sv al ue fo rr ec ei vi ng an it em . Ca ll th is b .
i
"2. Th ec en te ra ll oc at es th eg oo ds to as ub se to ft he bi dd er s . We ca ll th is su bs et A ,a nd us e"
"t he no ta ti on b (A) t o m ea nt he r es ul t t o i un de r t hi s a ll oc at io n: b i f i is in A(t ha t i s , i"
i i
"i s a w in ne r), a nd 0 o th er wi se . Th e c en te r c ho os es A t o m ax im iz e t ot al r ep or te d u ti li ty"
(c id:2)
B = b (A).
i i
3. Th e c en te r c al cu la te s (f or e ac h i) t he s um o f t he r ep or te d u ti li ti es f or a ll t he w in ne rs
(c id:2)
e xc ep t i . We us et he n ot at io n B−i = j(c id:14)=i b j(A). Th ec en te ra ls o c om pu te s (f or ea ch
i)t he al lo ca ti on t ha tw ou ld m ax im iz et ot al g lo ba l u ti li ty i fi we re no ti nt he ga me ; c al l
t ha ts um W−i .
4. Ea ch ag en ti pa ys at ax eq ua lt o W−i−B−i .
18
LEARNING FROM
EXAMPLES
In w hi ch w e d es cr ib e a ge nt s t ha t c an i mp ro ve t he ir b eh av io r t hr ou gh d il ig en t
s tu dy of th ei ro wn ex pe ri en ce s .
An ag en ti sl ea rn in gi fi ti mp ro ve si ts pe rf or ma nc eo nf ut ur et as ks af te rm ak in go bs er va ti on s
LEARNING
"a bo ut t he w or ld . Le ar ni ng c an r an ge f ro m t he t ri vi al , a s e xh ib it ed b y j ot ti ng d ow n a p ho ne"
"n um be r , t o t he p ro fo un d , a s e xh ib it ed b y Al be rt Ei ns te in , w ho i nf er re d a n ew t he or y o f t he"
"u ni ve rs e . In th is c ha pt er w ew il lc on ce nt ra te o n o ne c la ss o f l ea rn in g p ro bl em , w hi ch s ee ms"
"r es tr ic te d b ut a ct ua ll y h as v as t a pp li ca bi li ty: f ro m a c ol le ct io n o f i np ut–o ut pu t p ai rs , l ea rn a"
f un ct io n t ha tp re di ct st he ou tp ut fo rn ew in pu ts .
"Wh y w ou ld w e w an t a n a ge nt t o l ea rn ? If t he d es ig n o f t he a ge nt c an b e i mp ro ve d ,"
w hy wo ul dn’t th ed es ig ne rs j us tp ro gr am i nt ha ti mp ro ve me nt t ob eg in wi th ? Th er ea re th re e
"m ai n r ea so ns . Fi rs t , t he d es ig ne rs c an no t a nt ic ip at e a ll p os si bl e s it ua ti on s t ha t t he a ge nt"
"m ig ht f in d i ts el f i n . Fo r e xa mp le , a r ob ot d es ig ne d t o n av ig at e m az es m us t l ea rn t he l ay ou t"
"o f e ac h n ew m az e i t e nc ou nt er s . Se co nd , t he d es ig ne rs c an no t a nt ic ip at e a ll c ha ng es o ve r"
t im e ;a pr og ra md es ig ne dt op re di ct to mo rr ow’s st oc km ar ke t p ri ce sm us tl ea rn to ad ap tw he n
"c on di ti on s c ha ng e f ro m b oo m t o b us t . Th ir d , s om et im es h um an p ro gr am me rs h av e n o i de a"
"h ow to pr og ra ma so lu ti on th em se lv es . Fo re xa mp le ,m os tp eo pl ea re go od at re co gn iz in gt he"
"f ac es o f f am il y m em be rs , b ut e ve n t he b es t p ro gr am me rs a re u na bl e t o p ro gr am a c om pu te r"
"t o a cc om pl is h t ha t t as k , e xc ep t b y u si ng l ea rn in g a lg or it hm s . Th is c ha pt er f ir st g iv es a n"
"o ve rv ie w o f t he v ar io us f or ms o f l ea rn in g , t he n d es cr ib es o ne p op ul ar a pp ro ac h , d ec is io n-"
"t re e l ea rn in g , i n Se ct io n 18.3, f ol lo we d b ya th eo re ti ca l a na ly si s o fl ea rn in g i n Se ct io ns 18.4"
"a nd 18.5. We l oo k a t v ar io us l ea rn in g s ys te ms u se d i n p ra ct ic e: l in ea r m od el s , n on li ne ar"
"m od el s(i np ar ti cu la r , n eu ra ln et wo rk s),n on pa ra me tr ic mo de ls ,a nd su pp or tv ec to rm ac hi ne s ."
Fi na ll yw es ho wh ow en se mb le s o fm od el sc an ou tp er fo rm a si ng le mo de l .
18.1 FORMS OF LEARNING
"An yc om po ne nt o fa na ge nt c an be im pr ov ed by le ar ni ng f ro m d at a . Th ei mp ro ve me nt s , a nd"
"t he te ch ni qu es u se dt om ak et he m ,d ep en do nf ou rm aj or fa ct or s:"
• Wh ic hc om po ne nt is to be im pr ov ed .
693
694 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
• Wh at pr io rk no wl ed ge th ea ge nt al re ad yh as .
• Wh at re pr es en ta ti on i su se df or th ed at aa nd th ec om po ne nt .
• Wh at fe ed ba ck i sa va il ab le to le ar nf ro m .
Co mp on en ts to be le ar ne d
Ch ap te r 2 d es cr ib ed s ev er al ag en td es ig ns . Th ec om po ne nt s o ft he se ag en ts in cl ud e:
1. Ad ir ec tm ap pi ng fr om co nd it io ns o nt he cu rr en ts ta te to ac ti on s .
2. Am ea ns to in fe rr el ev an tp ro pe rt ie s o ft he wo rl df ro mt he pe rc ep t s eq ue nc e .
3. In fo rm at io n a bo ut t he w ay t he w or ld e vo lv es a nd a bo ut t he r es ul ts o f p os si bl e a ct io ns
t he ag en tc an ta ke .
4. Ut il it yi nf or ma ti on i nd ic at in g t he de si ra bi li ty o fw or ld st at es .
5. Ac ti on-v al ue i nf or ma ti on i nd ic at in g t he de si ra bi li ty o fa ct io ns .
6. Go al st ha td es cr ib e c la ss es of st at es wh os ea ch ie ve me nt m ax im iz es th ea ge nt’s u ti li ty .
"Ea ch of th es ec om po ne nt sc an be le ar ne d . Co ns id er ,f or ex am pl e ,a na ge nt tr ai ni ng to be co me"
a t ax i d ri ve r . Ev er y t im e t he i ns tr uc to r s ho ut s “Br ak e !” t he a ge nt m ig ht l ea rn a c on di ti on–
a ct io n r ul e f or w he n t o b ra ke (c om po ne nt 1); t he a ge nt a ls o l ea rn s e ve ry t im e t he i ns tr uc to r
"d oe s n ot s ho ut . By s ee in g m an y c am er a i ma ge s t ha t i t i s t ol d c on ta in b us es , i t c an l ea rn"
"t o r ec og ni ze t he m (2). By t ry in g a ct io ns a nd o bs er vi ng t he r es ul ts—f or e xa mp le , b ra ki ng"
"h ar d o n a w et r oa d—i t c an l ea rn t he e ff ec ts o f i ts a ct io ns (3). Th en , w he n i t r ec ei ve s n o t ip"
"f ro m p as se ng er s w ho h av e b ee n t ho ro ug hl y s ha ke n u p d ur in g t he t ri p , i t c an l ea rn a u se fu l"
c om po ne nt o fi ts ov er al lu ti li ty fu nc ti on (4).
Re pr es en ta ti on a nd pr io rk no wl ed ge
We h av e s ee n s ev er al e xa mp le s o f r ep re se nt at io ns f or a ge nt c om po ne nt s: p ro po si ti on al a nd
f ir st-o rd er l og ic al s en te nc es f or t he c om po ne nt s i n a l og ic al a ge nt ; Ba ye si an n et wo rk s f or
"t he i nf er en ti al c om po ne nt s o f a de ci si on-t he or et ic a ge nt , a nd s o o n . Ef fe ct iv e l ea rn in g a lg o-"
r it hm s h av e b ee n d ev is ed f or a ll o f t he se r ep re se nt at io ns . Th is c ha pt er (a nd m os t o f c ur re nt
m ac hi ne l ea rn in g r es ea rc h) c ov er s i np ut s t ha t f or m a f ac to re d r ep re se nt at io n—a v ec to r o f
a tt ri bu te v al ue s—a nd o ut pu ts t ha t c an b e e it he r a c on ti nu ou s n um er ic al v al ue o r a d is cr et e
v al ue . Ch ap te r 19 c ov er s f un ct io ns a nd p ri or k no wl ed ge c om po se d o f f ir st-o rd er l og ic s en-
"t en ce s , a nd Ch ap te r 20 c on ce nt ra te s o n Ba ye si an ne tw or ks ."
Th er e i s a no th er w ay t o l oo k a t t he v ar io us t yp es o f l ea rn in g . We s ay t ha t l ea rn in g
a (p os si bl y i nc or re ct) g en er al f un ct io n o r r ul e f ro m s pe ci fi c i np ut–o ut pu t p ai rs i s c al le d i n-
INDUCTIVE d uc ti ve l ea rn in g . We w il l s ee i n Ch ap te r 19 t ha t w e c an a ls o d o a na ly ti ca l o r d ed uc ti ve
LEARNING
"DEDUCTIVE l ea rn in g: g oi ng f ro m a k no wn g en er al r ul e t o a n ew r ul e t ha t i s l og ic al ly e nt ai le d , b ut i s"
LEARNING
u se fu lb ec au se it al lo ws mo re ef fi ci en tp ro ce ss in g .
Fe ed ba ck to le ar nf ro m
Th er ea re th re e t yp es of fe ed ba ck t ha td et er mi ne th et hr ee ma in ty pe so fl ea rn in g:
UNSUPERVISED In un su pe rv is ed le ar ni ng th ea ge nt le ar ns pa tt er ns in th ei np ut ev en th ou gh no ex pl ic it
LEARNING
f ee db ac k i ss up pl ie d . Th em os tc om mo nu ns up er vi se d l ea rn in g t as ki sc lu st er in g: d et ec ti ng
CLUSTERING
Se ct io n 18.2. Su pe rv is ed Le ar ni ng 695
"p ot en ti al ly u se fu l c lu st er s o f i np ut e xa mp le s . Fo r e xa mp le , a t ax i a ge nt m ig ht g ra du al ly"
d ev el op a c on ce pt o f “g oo d t ra ff ic d ay s” a nd “b ad t ra ff ic d ay s” w it ho ut e ve r b ei ng g iv en
l ab el ed ex am pl es of ea ch by at ea ch er .
REINFORCEMENT In r ei nf or ce me nt l ea rn in g t he a ge nt l ea rn s f ro m a s er ie s o f r ei nf or ce me nt s—r ew ar ds
LEARNING
"o rp un is hm en ts . Fo re xa mp le ,t he la ck of at ip at th ee nd of th ej ou rn ey gi ve st he ta xi ag en ta n"
i nd ic at io n t ha t i td id s om et hi ng w ro ng . Th e t wo po in ts f or a w in a t t he e nd o f a ch es s g am e
t el ls th ea ge nt it di ds om et hi ng ri gh t . It is up to th ea ge nt to de ci de wh ic ho ft he ac ti on sp ri or
t ot he re in fo rc em en t w er em os tr es po ns ib le f or it .
SUPERVISED In su pe rv is ed le ar ni ng th ea ge nt ob se rv es so me ex am pl ei np ut–o ut pu t p ai rs an dl ea rn s
LEARNING
"a fu nc ti on th at ma ps fr om in pu tt oo ut pu t . In co mp on en t 1 a bo ve ,t he in pu ts ar ep er ce pt s a nd"
"t he o ut pu t a re p ro vi de d b y a te ac he r w ho s ay s “Br ak e !” o r“Tu rn l ef t .” In c om po ne nt 2, t he"
i np ut sa re ca me ra im ag es an dt he ou tp ut sa ga in co me fr om at ea ch er wh os ay s“t ha t’s ab us .”
"In 3, t he th eo ry o fb ra ki ng i sa fu nc ti on f ro m s ta te s a nd br ak in g a ct io ns t os to pp in g d is ta nc e"
i n f ee t . In t hi s c as e t he o ut pu t v al ue i s a va il ab le d ir ec tl y f ro m t he a ge nt’s p er ce pt s (a ft er t he
f ac t);t he en vi ro nm en t i st he te ac he r .
"SEMI-SUPERVISED In p ra ct ic e , t he se d is ti nc ti on a re n ot a lw ay s s o c ri sp . In s em i-s up er vi se d l ea rn in g w e"
LEARNING
a re g iv en a f ew l ab el ed e xa mp le s a nd m us t m ak e w ha t w e c an o f a l ar ge c ol le ct io n o f u n-
l ab el ed e xa mp le s . Ev en t he l ab el s t he ms el ve s m ay n ot b e t he o ra cu la r t ru th s t ha t w e h op e
f or . Im ag in e t ha ty ou a re t ry in g t ob ui ld a sy st em t og ue ss a pe rs on’s a ge f ro m a ph ot o . Yo u
g at he r s om e l ab el ed e xa mp le s b y s na pp in g p ic tu re s o f p eo pl e a nd a sk in g t he ir a ge . Th at’s
s up er vi se d l ea rn in g . Bu t i n r ea li ty s om e o f t he p eo pl e l ie d a bo ut t he ir a ge . It’s n ot j us t
"t ha t t he re i s r an do m n oi se i n t he d at a ; r at he r t he i na cc ur ac ie s a re s ys te ma ti c , a nd t o u nc ov er"
"t he mi sa nu ns up er vi se d l ea rn in gp ro bl em in vo lv in g i ma ge s , s el f-r ep or te d a ge s ,a nd tr ue(u n-"
"k no wn)a ge s . Th us ,b ot hn oi se an dl ac ko fl ab el sc re at ea co nt in uu m b et we en su pe rv is ed a nd"
u ns up er vi se d l ea rn in g .
18.2 SUPERVISED LEARNING
Th et as ko fs up er vi se d l ea rn in g i st hi s:
Gi ve na tr ai ni ng se to f N e xa mp le in pu t–o ut pu t p ai rs
TRAININGSET
"(x ,y ),(x ,y ),...(x ,y ),"
1 1 2 2 N N
"w he re ea ch y w as ge ne ra te d b ya nu nk no wn fu nc ti on y =f(x),"
j
d is co ve ra fu nc ti on h th at ap pr ox im at es t he tr ue fu nc ti on f .
He re x a nd y c an b e a ny v al ue ; t he y n ee d n ot b e n um be rs . Th e f un ct io n h i sa h yp ot he si s .1
HYPOTHESIS
"Le ar ni ng is as ea rc ht hr ou gh t he sp ac eo fp os si bl eh yp ot he se s f or on et ha tw il lp er fo rm w el l ,"
e ve n o n n ew e xa mp le s b ey on d t he t ra in in g s et . To me as ur e t he a cc ur ac y o f a h yp ot he si s w e
g iv e i t a t es t s et o f e xa mp le s t ha t a re d is ti nc t f ro m t he t ra in in g s et . We s ay a h yp ot he si s
TESTSET
"1 An ot eo nn ot at io n:e xc ep tw he re no te d ,w ew il lu se jt oi nd ex th e Ne xa mp le s ;x jw il la lw ay sb et he in pu ta nd"
"y j t he ou tp ut . In ca se sw he re th ei np ut is sp ec if ic al ly av ec to ro fa tt ri bu te va lu es(b eg in ni ng wi th Se ct io n 18.3),"
w ew il lu se xj f or th ej th ex am pl ea nd we wi ll us ei to in de xt he na tt ri bu te so fe ac he xa mp le . Th ee le me nt so f
"x j a re wr it te nx j ,1,x j ,2,...,x j ,n ."
696 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
f(x) f(x) f(x) f(x)
x x x x
(a) (b) (c) (d)
"Fi gu re 18.1 (a) Ex am pl e(x ,f(x)) p ai rs an d a c on si st en t , l in ea rh yp ot he si s . (b)A c on-"
"s is te nt ,d eg re e-7 p ol yn om ia lh yp ot he si sf or th es am ed at as et . (c)Ad if fe re nt da ta se t ,w hi ch"
"a dm it s a n e xa ct d eg re e-6 p ol yn om ia l f it o r a n a pp ro xi ma te l in ea r f it . (d) A s im pl e , e xa ct"
s in us oi da lf it to th es am ed at as et .
g en er al iz es w el l i f i t c or re ct ly p re di ct s t he v al ue o f y f or n ov el e xa mp le s . So me ti me s t he
GENERALIZATION
"f un ct io n f i s s to ch as ti c—i t i s n ot s tr ic tl y a f un ct io n o f x , a nd w ha t w e h av e t o l ea rn i s a"
"c on di ti on al p ro ba bi li ty d is tr ib ut io n , P(Y |x)."
"Wh en t he o ut pu t y i s o ne o f a f in it e s et o f v al ue s (s uc h a s s un ny , c lo ud y o r r ai ny),"
"t he l ea rn in g p ro bl em i s c al le d c la ss if ic at io n , a nd i s c al le d Bo ol ea n o r b in ar y c la ss if ic at io n"
CLASSIFICATION
"i f t he re a re o nl y t wo v al ue s . Wh en y i s a n um be r (s uc h a s t om or ro w’s t em pe ra tu re), t he"
"l ea rn in g p ro bl em i s c al le d r eg re ss io n . (Te ch ni ca ll y , s ol vi ng a r eg re ss io n p ro bl em i s f in di ng"
REGRESSION
"a c on di ti on al e xp ec ta ti on o r a ve ra ge v al ue o f y , b ec au se t he p ro ba bi li ty t ha t w e h av e f ou nd"
e xa ct ly th er ig ht re al-v al ue d n um be rf or y i s 0.)
Fi gu re 18.1 s ho ws af am il ia re xa mp le: f it ti ng af un ct io no fa si ng le va ri ab le to so me da ta
"p oi nt s . Th ee xa mp le sa re po in ts i nt he (x ,y)p la ne , w he re y = f(x). We do n’t k no ww ha tf"
"i s , b ut we wi ll ap pr ox im at e i tw it ha fu nc ti on h se le ct ed f ro ma hy po th es is sp ac e , H ,w hi ch"
HYPOTHESISSPACE
"f or th is ex am pl ew ew il lt ak et ob et he se to fp ol yn om ia ls ,s uc ha sx 5+3 x 2+2. Fi gu re 18.1(a)"
s ho ws s om e d at a w it h a n e xa ct f it b y a s tr ai gh t l in e (t he p ol yn om ia l 0.4 x +3). Th e l in e i s
c al le da co ns is te nt hy po th es is be ca us ei ta gr ee sw it ha ll th ed at a . Fi gu re 18.1(b)s ho ws ah ig h-
CONSISTENT
d eg re e p ol yn om ia l t ha t i s a ls o c on si st en t w it h t he s am e d at a . Th is i ll us tr at es a f un da me nt al
p ro bl em in in du ct iv el ea rn in g: h ow do we ch oo se fr om am on gm ul ti pl ec on si st en th yp ot he se s ?
On e a ns we r i s t o p re fe r t he s im pl es t h yp ot he si s c on si st en t w it h t he d at a . Th is p ri nc ip le i s
"c al le d Oc kh am’s ra zo r ,a ft er th e 14 t h-c en tu ry En gl is hp hi lo so ph er Wi ll ia mo f Oc kh am ,w ho"
OCKHAM’SRAZOR
"u se di tt oa rg ue sh ar pl ya ga in st al ls or ts of co mp li ca ti on s . De fi ni ng si mp li ci ty is no te as y ,b ut"
"i ts ee ms cl ea rt ha ta de gr ee-1 p ol yn om ia l i ss im pl er th an ad eg re e-7 p ol yn om ia l , a nd th us(a)"
s ho ul db ep re fe rr ed t o(b). We wi ll ma ke th is in tu it io nm or ep re ci se in Se ct io n 18.4.3.
Fi gu re 18.1(c) s ho ws a s ec on d d at a s et . Th er e i s n o c on si st en t s tr ai gh t l in e f or t hi s
"d at a s et ; i n f ac t , i t r eq ui re s a d eg re e-6 p ol yn om ia l f or a n e xa ct f it . Th er e a re j us t 7 d at a"
"p oi nt s , s o a p ol yn om ia l w it h 7 p ar am et er s d oe s n ot s ee m t o b e f in di ng a ny p at te rn i n t he"
d at a a nd w e d o n ot e xp ec t i t t o g en er al iz e w el l . A s tr ai gh t l in e t ha t i s n ot c on si st en t w it h
"a ny o ft he d at a p oi nt s , b ut m ig ht ge ne ra li ze f ai rl y w el lf or un se en v al ue s o f x , i sa ls o s ho wn"
"i n (c). In g en er al , t he re i s a t ra de of f b et we en c om pl ex h yp ot he se s t ha t f it t he t ra in in g d at a"
w el l a nd s im pl er h yp ot he se s t ha t m ay g en er al iz e b et te r . In Fi gu re 18.1(d) w e e xp an d t he
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 697
"h yp ot he si s s pa ce H t o a ll ow p ol yn om ia ls o ve r b ot h x a nd s in(x), a nd f in d t ha t t he d at a i n"
(c) c an b e f it te d e xa ct ly b y a si mp le f un ct io n o f t he f or m a x+b+c si n(x). Th is s ho ws t he
i mp or ta nc eo ft he ch oi ce of hy po th es is sp ac e . We sa yt ha ta le ar ni ng pr ob le mi sr ea li za bl ei f
REALIZABLE
"t he hy po th es is sp ac ec on ta in st he tr ue fu nc ti on . Un fo rt un at el y , w ec an no ta lw ay st el lw he th er"
"a gi ve nl ea rn in g p ro bl em i sr ea li za bl e , b ec au se th et ru ef un ct io n i sn ot kn ow n ."
"In s om e c as es , a n a na ly st l oo ki ng a t a p ro bl em i s w il li ng t o m ak e m or e f in e-g ra in ed"
"d is ti nc ti on s a bo ut t he hy po th es is s pa ce , t os ay—e ve n b ef or es ee in g a ny da ta—n ot j us tt ha t a"
"h yp ot he si s i s p os si bl e o r i mp os si bl e , b ut r at he r h ow p ro ba bl e i t i s . Su pe rv is ed l ea rn in g c an"
∗
b ed on eb yc ho os in g t he hy po th es is h t ha ti sm os tp ro ba bl e g iv en th ed at a:
h∗ = a rg ma x P(h|d at a).
h∈H
By Ba ye s’r ul et hi si se qu iv al en tt o
h∗ = a rg ma x P(d at a|h)P(h).
h∈H
"Th en w e c an s ay t ha t t he p ri or p ro ba bi li ty P(h) i s h ig h f or a d eg re e-1 o r -2 p ol yn om ia l ,"
"l ow er f or a d eg re e-7 p ol yn om ia l , a nd e sp ec ia ll y l ow f or d eg re e-7 p ol yn om ia ls w it h l ar ge ,"
s ha rp sp ik es a si n Fi gu re 18.1(b). We al lo wu nu su al-l oo ki ng f un ct io ns w he nt he da ta sa yw e
"r ea ll yn ee dt he m ,b ut we di sc ou ra ge t he mb yg iv in gt he ma lo wp ri or pr ob ab il it y ."
"Wh y n ot l et H b e t he c la ss o f a ll Ja va p ro gr am s , o r Tu ri ng m ac hi ne s ? Af te ra ll , e ve ry"
"c om pu ta bl e f un ct io n c an b e r ep re se nt ed b y s om e Tu ri ng m ac hi ne , a nd t ha t i s t he b es t w e"
c an d o . On e p ro bl em w it h t hi s i de a i s t ha t i t d oe s n ot t ak e i nt o a cc ou nt t he c om pu ta ti on al
c om pl ex it y o fl ea rn in g . Th er ei sa tr ad eo ff b et we en t he ex pr es si ve ne ss o fa hy po th es is s pa ce
"a nd t he c om pl ex it y o f f in di ng a g oo d h yp ot he si s w it hi n t ha t s pa ce . Fo r e xa mp le , f it ti ng a"
s tr ai gh t l in e t o d at a i s a n e as y c om pu ta ti on ; f it ti ng h ig h-d eg re e p ol yn om ia ls i s s om ew ha t
h ar de r ; a nd f it ti ng Tu ri ng m ac hi ne s i s i n g en er al u nd ec id ab le . A s ec on d r ea so n t o p re fe r
"s im pl e h yp ot he si s s pa ce s i s t ha t p re su ma bl y w e w il l w an t t o u se h a ft er w e h av e l ea rn ed i t ,"
"a nd c om pu ti ng h(x) w he n h i s a l in ea r f un ct io n i s g ua ra nt ee d t o b e f as t , w hi le c om pu ti ng"
"a na rb it ra ry Tu ri ng ma ch in e p ro gr am i sn ot ev en gu ar an te ed t ot er mi na te . Fo rt he se r ea so ns ,"
m os tw or ko nl ea rn in gh as fo cu se d o ns im pl er ep re se nt at io ns .
We wi ll se et ha tt he ex pr es si ve ne ss–c om pl ex it yt ra de of fi sn ot as si mp le as it fi rs ts ee ms:
"i ti so ft en th ec as e ,a sw es aw wi th fi rs t-o rd er lo gi ci n Ch ap te r 8,t ha ta ne xp re ss iv e l an gu ag e"
"m ak es it po ss ib le fo ra si mp le hy po th es is to fi tt he da ta ,w he re as re st ri ct in gt he ex pr es si ve ne ss"
"o f t he l an gu ag e m ea ns t ha t a ny c on si st en t h yp ot he si s m us t b e v er y c om pl ex . Fo r e xa mp le ,"
"t he ru le so fc he ss ca nb ew ri tt en in ap ag eo rt wo of fi rs t-o rd er l og ic ,b ut re qu ir et ho us an ds of"
p ag es wh en wr it te ni np ro po si ti on al l og ic .
18.3 LEARNING DECISION TREES
De ci si on t re e i nd uc ti on i s o ne o f t he s im pl es t a nd y et m os t s uc ce ss fu l f or ms o f m ac hi ne
l ea rn in g . We fi rs td es cr ib e t he re pr es en ta ti on—t he h yp ot he si s s pa ce—a nd t he n s ho wh ow to
l ea rn ag oo dh yp ot he si s .
698 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
18.3.1 Th e d ec is io nt re e r ep re se nt at io n
A d ec is io n t re e r ep re se nt s a f un ct io n t ha t t ak es a s i np ut a v ec to r o f a tt ri bu te v al ue s a nd
DECISIONTREE
r et ur ns a “d ec is io n”—a s in gl e o ut pu t v al ue . Th e i np ut a nd o ut pu t v al ue s c an b e d is cr et e o r
c on ti nu ou s . Fo rn ow w ew il lc on ce nt ra te o n p ro bl em s w he re t he i np ut s h av e d is cr et e v al ue s
"a nd t he o ut pu t h as e xa ct ly t wo p os si bl e v al ue s ; t hi s i s Bo ol ea n c la ss if ic at io n , w he re e ac h"
e xa mp le in pu tw il lb ec la ss if ie da st ru e(a po si ti ve ex am pl e)o rf al se(a ne ga ti ve ex am pl e).
POSITIVE
A d ec is io n t re e r ea ch es i ts d ec is io n b y p er fo rm in g a s eq ue nc e o f t es ts . Ea ch i nt er na l
NEGATIVE
"n od e i n t he t re e c or re sp on ds t o a t es t o f t he v al ue o f o ne o f t he i np ut a tt ri bu te s , A , a nd"
i
"t he b ra nc he s f ro m t he n od e a re l ab el ed w it h t he p os si bl e v al ue s o f t he a tt ri bu te , A =v ."
i i k
Ea ch l ea f n od e i n t he t re e s pe ci fi es a va lu e t o b e r et ur ne d b y t he f un ct io n . Th e d ec is io n t re e
"r ep re se nt at io n i s n at ur al f or h um an s ; i nd ee d , m an y “Ho w To” m an ua ls (e .g ., f or c ar r ep ai r)"
a re wr it te ne nt ir el ya sa si ng le de ci si on t re es tr et ch in g o ve rh un dr ed s o fp ag es .
"As a n e xa mp le , w e w il l b ui ld a d ec is io n t re e t o d ec id e w he th er t o w ai t f or a t ab le a t a"
r es ta ur an t . Th e a im h er e i s t o l ea rn a d ef in it io n f or t he g oa l p re di ca te Wi ll Wa it . Fi rs t w e
GOALPREDICATE
l is tt he at tr ib ut es t ha tw ew il lc on si de ra sp ar to ft he in pu t:
1. Al te rn at e: w he th er th er ei sa su it ab le al te rn at iv e r es ta ur an t n ea rb y .
2. Ba r: w he th er th er es ta ur an t h as ac om fo rt ab le b ar ar ea to wa it in .
3. Fr i/Sa t: t ru eo n Fr id ay sa nd Sa tu rd ay s .
4. Hu ng ry: w he th er we ar eh un gr y .
"5. Pa tr on s: h ow ma ny pe op le ar ei nt he re st au ra nt (v al ue sa re No ne ,So me ,a nd Fu ll)."
"6. Pr ic e: t he re st au ra nt’s p ri ce ra ng e($,$$,$$$)."
7. Ra in in g: w he th er it is ra in in go ut si de .
8. Re se rv at io n: w he th er we ma de ar es er va ti on .
"9. Ty pe: t he ki nd of re st au ra nt (Fr en ch ,It al ia n ,Th ai ,o rb ur ge r)."
"10. Wa it Es ti ma te: t he wa it es ti ma te db yt he ho st(0–10 m in ut es ,10–30, 30–60, o r>60)."
"No te t ha t e ve ry v ar ia bl e h as a s ma ll s et o f p os si bl e v al ue s ; t he v al ue o f Wa it Es ti ma te , f or"
"e xa mp le , i sn ot a ni nt eg er , r at he r i ti so ne o ft he fo ur di sc re te v al ue s 0–10, 10–30, 30–60, o r"
>60. Th ed ec is io nt re eu su al ly us ed by on eo fu s(SR)f or th is do ma in is sh ow ni n Fi gu re 18.2.
No ti ce th at th et re ei gn or es th e Pr ic e a nd Ty pe a tt ri bu te s . Ex am pl es ar ep ro ce ss ed by th et re e
"s ta rt in g a tt he ro ot an df ol lo wi ng t he ap pr op ri at e b ra nc h u nt il al ea fi sr ea ch ed . Fo ri ns ta nc e ,"
a n e xa mp le w it h Pa tr on s=Fu ll a nd Wa it Es ti ma te=0–10 w il l b e c la ss if ie d a s p os it iv e
"(i .e .,y es ,w ew il lw ai tf or at ab le)."
18.3.2 Ex pr es si ve ne ss o fd ec is io nt re es
A Bo ol ea n d ec is io n t re e i s l og ic al ly e qu iv al en t t o t he a ss er ti on t ha t t he g oa l a tt ri bu te i s t ru e
i f a nd o nl y i f t he i np ut a tt ri bu te s s at is fy o ne o f t he p at hs l ea di ng t o a l ea f w it h v al ue t ru e .
"Wr it in gt hi so ut in pr op os it io na l l og ic ,w eh av e"
"Go al ⇔ (Pa th ∨Pa th ∨···),"
1 2
"w he re e ac h Pa th i s a co nj un ct io n o f a tt ri bu te-v al ue t es ts r eq ui re d t o f ol lo w t ha t p at h . Th us ,"
"t he w ho le e xp re ss io n i s e qu iv al en t t o d is ju nc ti ve n or ma l f or m (s ee p ag e 283), w hi ch m ea ns"
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 699
"t ha t a ny f un ct io n i n p ro po si ti on al l og ic c an b e e xp re ss ed a s a d ec is io n t re e . As a n e xa mp le ,"
t he ri gh tm os tp at hi n Fi gu re 18.2 i s
Pa th = (Pa tr on s=Fu ll ∧Wa it Es ti ma te=0–10).
"Fo r a w id e v ar ie ty o f p ro bl em s , t he d ec is io n t re e f or ma t y ie ld s a n ic e , c on ci se r es ul t . Bu t"
"s om e f un ct io ns c an no t b e r ep re se nt ed c on ci se ly . Fo re xa mp le , t he m aj or it y f un ct io n , w hi ch"
"r et ur ns t ru e i f a nd o nl y i f m or e t ha n h al f o f t he i np ut s a re t ru e , r eq ui re s a n e xp on en ti al ly"
"l ar ge d ec is io n t re e . In o th er w or ds , d ec is io n t re es a re g oo d f or s om e k in ds o f f un ct io ns a nd"
b ad f or ot he rs . Is t he re a ny k in d o fr ep re se nt at io n t ha t i s e ff ic ie nt f or a ll k in ds o ff un ct io ns ?
"Un fo rt un at el y , t he a ns we r i s n o . We c an s ho w t hi s i n a g en er al w ay . Co ns id er t he s et o f a ll"
Bo ol ea n f un ct io ns o nn at tr ib ut es . Ho wm an y d if fe re nt f un ct io ns a re i nt hi s s et ? Th is is j us t
"t he n um be r o f d if fe re nt t ru th t ab le s t ha t w e c an w ri te d ow n , b ec au se t he f un ct io n i s d ef in ed"
"b y i ts t ru th t ab le . A t ru th t ab le o ve r n a tt ri bu te s h as 2 n r ow s , o ne f or e ac h c om bi na ti on o f"
v al ue so ft he at tr ib ut es . We ca nc on si de rt he“a ns we r”c ol um no ft he ta bl ea sa 2 n-b it nu mb er
t ha td ef in es th ef un ct io n .
Th at me an st he re ar e 22 n
d if fe re nt fu nc ti on s(a nd th er ew il lb em or e
"t ha n t ha t n um be r o f t re es , s in ce m or e t ha n o ne t re e c an c om pu te t he s am e f un ct io n). Th is is"
"a s ca ry n um be r . Fo re xa mp le , w it h j us t t he t en Bo ol ea n a tt ri bu te s o f o ur r es ta ur an t p ro bl em"
"t he re a re 21024 o r a bo ut 10308 d if fe re nt f un ct io ns t o c ho os e f ro m , a nd f or 20 a tt ri bu te s t he re"
"a re ov er 10300,000. We wi ll ne ed s om ei ng en io us a lg or it hm s t of in dg oo d h yp ot he se s i ns uc h"
a la rg es pa ce .
18.3.3 In du ci ng d ec is io nt re es f ro m e xa mp le s
"An ex am pl ef or a Bo ol ea nd ec is io nt re ec on si st so fa n(x ,y)p ai r ,w he re xi sa ve ct or of va lu es"
"f or th ei np ut at tr ib ut es , a nd y i sa si ng le Bo ol ea no ut pu t v al ue . At ra in in g s et of 12 e xa mp le s"
Pa tr on s ?
No ne So me Fu ll
No Ye s Wa it Es ti ma te ?
>60 30-60 10-30 0-10
No Al te rn at e ? Hu ng ry ? Ye s
No Ye s No Ye s
Re se rv at io n ? Fr i/Sa t ? Ye s Al te rn at e ?
No Ye s No Ye s No Ye s
Ba r ? Ye s No Ye s Ye s Ra in in g ?
No Ye s No Ye s
No Ye s No Ye s
Fi gu re 18.2 Ad ec is io nt re ef or de ci di ng wh et he rt ow ai tf or at ab le .
700 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
In pu t At tr ib ut es Go al
Ex am pl e
Al t Ba r Fr i Hu n Pa t Pr ic e Ra in Re s Ty pe Es t Wi ll Wa it
x Ye s No No Ye s So me $$$ No Ye s Fr en ch 0–10 y =Ye s
1 1
x Ye s No No Ye s Fu ll $ No No Th ai 30–60 y =No
2 2
x No Ye s No No So me $ No No Bu rg er 0–10 y =Ye s
3 3
x Ye s No Ye s Ye s Fu ll $ Ye s No Th ai 10–30 y =Ye s
4 4
x Ye s No Ye s No Fu ll $$$ No Ye s Fr en ch >60 y =No
5 5
x No Ye s No Ye s So me $$ Ye s Ye s It al ia n 0–10 y =Ye s
6 6
x No Ye s No No No ne $ Ye s No Bu rg er 0–10 y =No
7 7
x No No No Ye s So me $$ Ye s Ye s Th ai 0–10 y =Ye s
8 8
x No Ye s Ye s No Fu ll $ Ye s No Bu rg er >60 y =No
9 9
x Ye s Ye s Ye s Ye s Fu ll $$$ No Ye s It al ia n 10–30 y =No
10 10
x No No No No No ne $ No No Th ai 0–10 y =No
11 11
x Ye s Ye s Ye s Ye s Fu ll $ No No Bu rg er 30–60 y =Ye s
12 12
Fi gu re 18.3 Ex am pl es fo rt he re st au ra nt do ma in .
i s s ho wn i n Fi gu re 18.3. Th e p os it iv e e xa mp le s a re t he o ne s i n w hi ch t he g oa l Wi ll Wa it i s
"t ru e(x ,x ,...);t he ne ga ti ve ex am pl es ar et he on es in wh ic hi ti sf al se (x ,x ,...)."
1 3 2 5
We w an t a t re e t ha t i s c on si st en t w it h t he e xa mp le s a nd i s a s s ma ll a s p os si bl e . Un-
"f or tu na te ly , n o m at te r h ow w e m ea su re s iz e , i t i s a n i nt ra ct ab le p ro bl em t o f in d t he s ma ll es t"
c on si st en t t re e ; t he re is no wa yt oe ff ic ie nt ly s ea rc h t hr ou gh
t he 22 n
t re es . Wi th so me si mp le
"h eu ri st ic s , h ow ev er ,w ec an fi nd ag oo da pp ro xi ma te s ol ut io n: a sm al l(b ut no ts ma ll es t)c on-"
s is te nt tr ee . Th e DECISION-TREE-LEARNING a lg or it hm ad op ts ag re ed yd iv id e-a nd-c on qu er
s tr at eg y: a lw ay s t es t t he m os t i mp or ta nt a tt ri bu te f ir st . Th is t es t d iv id es t he p ro bl em u p i nt o
"s ma ll er s ub pr ob le ms t ha t c an t he n b e s ol ve d r ec ur si ve ly . By “m os t i mp or ta nt a tt ri bu te ,” w e"
"m ea nt he on et ha tm ak es th em os td if fe re nc et ot he cl as si fi ca ti on of an ex am pl e . Th at wa y ,w e"
"h op et og et to th ec or re ct cl as si fi ca ti on wi th as ma ll nu mb er of te st s ,m ea ni ng th at al lp at hs in"
t he tr ee wi ll be sh or ta nd th et re ea sa wh ol ew il lb es ha ll ow .
"Fi gu re 18.4(a)s ho ws th at Ty pe i sa po or at tr ib ut e ,b ec au se it le av es us wi th fo ur po ss ib le"
"o ut co me s ,e ac ho fw hi ch ha st he sa me nu mb er of po si ti ve as ne ga ti ve ex am pl es . On th eo th er"
"h an d ,i n(b)w es ee th at Pa tr on s i sa fa ir ly im po rt an ta tt ri bu te ,b ec au se if th ev al ue is No ne o r"
"So me ,t he nw ea re le ft wi th ex am pl es et sf or wh ic hw ec an an sw er de fi ni ti ve ly(No a nd Ye s ,"
"r es pe ct iv el y). If th e v al ue is Fu ll ,w ea re le ft wi th am ix ed se to fe xa mp le s . In ge ne ra l , a ft er"
"t he f ir st a tt ri bu te t es t s pl it s u p t he e xa mp le s , e ac h o ut co me i s a n ew d ec is io n t re e l ea rn in g"
"p ro bl em in it se lf ,w it hf ew er ex am pl es an do ne le ss at tr ib ut e . Th er ea re fo ur ca se st oc on si de r"
f or th es er ec ur si ve p ro bl em s:
"1. If t he r em ai ni ng e xa mp le s a re a ll p os it iv e (o r a ll n eg at iv e), t he n w e a re d on e: w e c an"
a ns we r Ye s o r No . Fi gu re 18.4(b) s ho ws e xa mp le s o ft hi s h ap pe ni ng i n t he No ne a nd
So me b ra nc he s .
"2. If th er ea re so me po si ti ve an ds om en eg at iv ee xa mp le s ,t he nc ho os et he be st at tr ib ut et o"
s pl it th em . Fi gu re 18.4(b)s ho ws Hu ng ry b ei ng us ed to sp li tt he re ma in in ge xa mp le s .
"3. If th er ea re no ex am pl es le ft ,i tm ea ns th at no ex am pl eh as be en ob se rv ed f or th is co m-"
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 701
1 3 4 6 8 12 1 3 4 6 8 12
2 5 7 9 10 11 2 5 7 9 10 11
Ty pe ? Pa tr on s ?
Fr en ch It al ia n Th ai Bu rg er No ne So me Fu ll
1 6 4 8 3 12 1 3 6 8 4 12
5 10 2 11 7 9 7 11 2 5 9 10
No Ye s Hu ng ry ?
No Ye s
4 12
5 9 2 10
(a) (b)
Fi gu re 18.4 Sp li tt in g t he e xa mp le s b y t es ti ng o n a tt ri bu te s . At e ac h n od e w e s ho w t he
p os it iv e(l ig ht bo xe s) a nd n eg at iv e(d ar kb ox es)e xa mp le sr em ai ni ng . (a) Sp li tt in g o n Ty pe
b ri ng su sn on ea re rt od is ti ng ui sh in gb et we en po si ti ve an dn eg at iv ee xa mp le s . (b)Sp li tt in g
o n Pa tr on sd oe sa go od jo bo fs ep ar at in gp os it iv ea nd ne ga ti ve ex am pl es . Af te rs pl it ti ng on
"Pa tr on s ,Hu ng ry is af ai rl yg oo ds ec on dt es t ."
"b in at io n o fa tt ri bu te v al ue s , a nd w er et ur n a de fa ul t v al ue c al cu la te d f ro m t he p lu ra li ty"
c la ss if ic at io no fa ll th ee xa mp le st ha tw er eu se di nc on st ru ct in gt he no de’s pa re nt . Th es e
a re pa ss ed al on gi nt he va ri ab le p ar en t e xa mp le s .
"4. If t he re a re n o a tt ri bu te s l ef t , b ut b ot h p os it iv e a nd n eg at iv e e xa mp le s , i t m ea ns t ha t"
"t he se ex am pl es ha ve ex ac tl yt he sa me de sc ri pt io n ,b ut di ff er en tc la ss if ic at io ns . Th is ca n"
h ap pe n b ec au se t he re i s a n e rr or o r n oi se i n t he d at a ; b ec au se t he d om ai n i s n on de te r-
NOISE
m in is ti c ; o rb ec au se w ec an’t o bs er ve a na tt ri bu te t ha tw ou ld di st in gu is h t he ex am pl es .
Th eb es tw ec an do is re tu rn th ep lu ra li ty c la ss if ic at io n o ft he re ma in in ge xa mp le s .
Th e DECISION-TREE-LEARNING a lg or it hm i s s ho wn i n Fi gu re 18.5. No te t ha t t he s et o f
"e xa mp le s i sc ru ci al f or c on st ru ct in g t he tr ee , b ut no wh er ed ot he ex am pl es ap pe ar in th et re e"
"i ts el f . A t re e c on si st s o f j us t t es ts o n a tt ri bu te s i n t he i nt er io r n od es , v al ue s o f a tt ri bu te s o n"
"t he b ra nc he s , a nd o ut pu t v al ue s o n t he l ea f n od es . Th ed et ai ls o f t he IMPORTANCE f un ct io n"
a re g iv en i n Se ct io n 18.3.4. Th e o ut pu t o f t he l ea rn in g a lg or it hm o n o ur s am pl e t ra in in g
s et i s s ho wn i n Fi gu re 18.6. Th e t re e i s c le ar ly d if fe re nt f ro m t he o ri gi na l t re e s ho wn i n
Fi gu re 18.2. On e m ig ht c on cl ud e t ha t t he l ea rn in g a lg or it hm i s n ot d oi ng a v er y g oo d j ob
"o fl ea rn in g t he c or re ct f un ct io n . Th is wo ul d b et he wr on g c on cl us io n t od ra w , h ow ev er . Th e"
"l ea rn in ga lg or it hm lo ok sa tt he ex am pl es ,n ot at th ec or re ct fu nc ti on ,a nd in fa ct ,i ts hy po th es is"
"(s ee Fi gu re 18.6) n ot o nl y i s c on si st en t w it h a ll t he e xa mp le s , b ut i s c on si de ra bl y s im pl er"
t ha nt he or ig in al t re e ! Th el ea rn in g a lg or it hm h as no re as on t oi nc lu de t es ts fo r Ra in in g a nd
"Re se rv at io n , b ec au se i t c an c la ss if y a ll t he e xa mp le s w it ho ut t he m . It h as a ls o d et ec te d a n"
i nt er es ti ng a nd p re vi ou sl y u ns us pe ct ed p at te rn: t he f ir st a ut ho r w il l w ai t f or Th ai f oo d o n
w ee ke nd s . It i s a ls o b ou nd t om ak e s om e m is ta ke s f or ca se s w he re i th as s ee n n o e xa mp le s .
"Fo re xa mp le ,i th as ne ve rs ee na ca se wh er et he wa it is 0–10 m in ut es bu tt he re st au ra nt is fu ll ."
702 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"f un ct io n DECISION-TREE-LEARNING(e xa mp le s ,a tt ri bu te s ,p ar en t e xa mp le s) r et ur ns"
a tr ee
i fe xa mp le s i se mp ty th en re tu rn PLURALITY-VALUE(p ar en t e xa mp le s)
e ls ei fa ll ex am pl es h av et he sa me cl as si fi ca ti on th en re tu rn th ec la ss if ic at io n
e ls ei fa tt ri bu te s i se mp ty th en re tu rn PLURALITY-VALUE(e xa mp le s)
e ls e
A←a rg ma x
a∈a tt ri bu te s
"IMPORTANCE(a ,e xa mp le s)"
t re e←a ne wd ec is io nt re ew it hr oo tt es t A
f or ea ch va lu ev k o f Ad o
e xs←{e : e∈e xa mp le s a nd e .A = v k}
"s ub tr ee←DECISION-TREE-LEARNING(e xs ,a tt ri bu te s−A ,e xa mp le s)"
a dd ab ra nc ht ot re e w it hl ab el(A = v k)a nd su bt re es ub tr ee
r et ur nt re e
Fi gu re 18.5 Th e d ec is io n-t re e l ea rn in g a lg or it hm . Th e f un ct io n IMPORTANCE i s d e-
s cr ib ed in Se ct io n 18.3.4.Th ef un ct io n PLURALITY-VALUEs el ec ts th em os tc om mo no ut pu t
"v al ue am on ga se to fe xa mp le s ,b re ak in gt ie sr an do ml y ."
Pa tr on s ?
No ne So me Fu ll
No Ye s Hu ng ry ?
No Ye s
No Ty pe ?
Fr en ch It al ia n Th ai Bu rg er
Ye s No Fr i/Sa t ? Ye s
No Ye s
No Ye s
Fi gu re 18.6 Th ed ec is io nt re ei nd uc ed fr om th e 12-e xa mp le tr ai ni ng se t .
"In t ha t c as e i t s ay s n ot t o w ai t w he n Hu ng ry i s f al se , b ut I (SR)w ou ld c er ta in ly w ai t . Wi th"
m or et ra in in ge xa mp le st he le ar ni ng pr og ra m c ou ld co rr ec tt hi sm is ta ke .
We no te th er ei sa da ng er of ov er-i nt er pr et in g t he tr ee th at th ea lg or it hm s el ec ts . Wh en
"t he re ar es ev er al va ri ab le s o fs im il ar im po rt an ce , t he ch oi ce b et we en th em is so me wh at ar bi-"
"t ra ry: w it hs li gh tl y d if fe re nt i np ut e xa mp le s , a di ff er en t v ar ia bl e w ou ld be ch os en t os pl it o n"
"f ir st ,a nd th ew ho le tr ee wo ul dl oo kc om pl et el y d if fe re nt . Th ef un ct io n c om pu te d b yt he tr ee"
"w ou ld st il lb es im il ar ,b ut th es tr uc tu re o ft he tr ee ca nv ar y w id el y ."
"We ca ne va lu at e t he a cc ur ac y o fa le ar ni ng a lg or it hm w it ha l ea rn in gc ur ve , a ss ho wn"
LEARNINGCURVE
"i n Fi gu re 18.7. We ha ve 100 e xa mp le s a to ur di sp os al , w hi ch w e s pl it i nt o a tr ai ni ng s et a nd"
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 703
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20 40 60 80 100
t es
t se t
n o
t ce rr oc
n oi tr op or P
Tr ai ni ng s et s iz e
Fi gu re 18.7 A l ea rn in g c ur ve f or t he d ec is io n t re e l ea rn in g a lg or it hm o n 100 r an do ml y
g en er at ed ex am pl es in th er es ta ur an td om ai n .Ea ch da ta po in ti st he av er ag eo f 20 t ri al s .
a te st se t . We le ar na hy po th es is h wi th th et ra in in gs et an dm ea su re it sa cc ur ac yw it ht he te st
s et . We d o t hi s s ta rt in g w it h a t ra in in g s et o f s iz e 1 a nd i nc re as in g o ne a t a t im e u p t o s iz e
"99. Fo re ac h s iz e w ea ct ua ll y r ep ea t t he p ro ce ss o fr an do ml y s pl it ti ng 20 t im es , a nd av er ag e"
"t he r es ul ts o f t he 20 t ri al s . Th e c ur ve s ho ws t ha t a s t he t ra in in g s et s iz e g ro ws , t he a cc ur ac y"
"i nc re as es . (Fo rt hi s r ea so n , l ea rn in g c ur ve s a re a ls o c al le d h ap py gr ap hs .) In th is g ra ph w e"
"r ea ch 95%a cc ur ac y , a nd it lo ok sl ik et he cu rv em ig ht co nt in ue t oi nc re as ew it hm or ed at a ."
18.3.4 Ch oo si ng at tr ib ut e t es ts
Th e g re ed y s ea rc h u se d i n d ec is io n t re e l ea rn in g i s d es ig ne d t o a pp ro xi ma te ly m in im iz e t he
d ep th o f t he f in al t re e . Th e i de a i s t o p ic k t he a tt ri bu te t ha t g oe s a s f ar a s p os si bl e t ow ar d
p ro vi di ng a n e xa ct c la ss if ic at io n o f t he e xa mp le s . A p er fe ct a tt ri bu te d iv id es t he e xa mp le s
"i nt os et s ,e ac ho fw hi ch ar ea ll po si ti ve or al ln eg at iv ea nd th us wi ll be le av es of th et re e . Th e"
"Pa tr on s a tt ri bu te i sn ot pe rf ec t ,b ut it is fa ir ly go od . Ar ea ll yu se le ss at tr ib ut e , s uc ha s Ty pe ,"
l ea ve s t he e xa mp le s et s w it h r ou gh ly t he s am e p ro po rt io n o f p os it iv e a nd n eg at iv e e xa mp le s
a st he or ig in al s et .
"Al lw en ee d ,t he n ,i sa fo rm al me as ur eo f“f ai rl yg oo d”a nd“r ea ll yu se le ss”a nd we ca n"
i mp le me nt t he IMPORTANCE f un ct io n o f Fi gu re 18.5. We wi ll us et he n ot io n o fi nf or ma ti on
"g ai n , w hi ch i s d ef in ed i n t er ms o f e nt ro py , t he f un da me nt al q ua nt it y i n i nf or ma ti on t he or y"
ENTROPY
"(Sh an no na nd We av er ,1949)."
En tr op yi sa me as ur eo ft he un ce rt ai nt yo fa ra nd om va ri ab le ; a cq ui si ti on of in fo rm at io n
c or re sp on ds t o a r ed uc ti on i n e nt ro py . A r an do m v ar ia bl e w it h o nl y o ne v al ue—a c oi n t ha t
"a lw ay s c om es up he ad s—h as n ou nc er ta in ty a nd th us i ts en tr op y i sd ef in ed a sz er o ; t hu s , w e"
g ai n n o i nf or ma ti on b y o bs er vi ng i ts v al ue . Af li po f a fa ir c oi n i s e qu al ly l ik el y t o c om e u p
"h ea ds o r t ai ls , 0 o r 1, a nd w e w il l s oo n s ho w t ha t t hi s c ou nt s a s “1 b it” o f e nt ro py . Th e r ol l"
"o fa fa ir fo ur-s id ed d ie ha s 2 b it so fe nt ro py , b ec au se i tt ak es tw ob it st od es cr ib e o ne of fo ur"
e qu al ly pr ob ab le ch oi ce s . No wc on si de ra nu nf ai rc oi nt ha tc om es up he ad s 99%o ft he ti me .
"In tu it iv el y ,t hi sc oi nh as le ss un ce rt ai nt yt ha nt he fa ir co in—i fw eg ue ss he ad sw e’l lb ew ro ng"
"o nl y 1%o ft he ti me—s ow ew ou ld li ke it to ha ve an en tr op ym ea su re th at is cl os et oz er o ,b ut"
704 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"p os it iv e . In ge ne ra l ,t he en tr op yo fa ra nd om va ri ab le V w it hv al ue sv ,e ac hw it hp ro ba bi li ty"
k
"P(v ),i sd ef in ed as"
k
(c id:12) (c id:12)
1
En tr op y: H(V) = P(v )l og = − P(v )l og P(v ).
k 2 P(v ) k 2 k
k
k k
We ca nc he ck th at th ee nt ro py o fa fa ir co in fl ip is in de ed 1 b it:
H(Fa ir) = −(0.5 l og 0.5+0.5 l og 0.5) = 1.
2 2
"If th ec oi ni sl oa de dt og iv e 99%h ea ds , w eg et"
H(Lo ad ed)= −(0.99 l og 0.99+0.01 l og 0.01) ≈ 0.08 b it s .
2 2
It w il l h el p t o d ef in e B(q) a s t he e nt ro py o f a Bo ol ea n r an do m v ar ia bl e t ha t i s t ru e w it h
p ro ba bi li ty q:
B(q)=−(q lo g q+(1−q)l og (1−q)).
2 2
"Th us , H(Lo ad ed)=B(0.99) ≈ 0.08. No w l et’s g et b ac k t o d ec is io n t re e l ea rn in g . If a"
"t ra in in g s et c on ta in s p p os it iv e e xa mp le s a nd n n eg at iv e e xa mp le s , t he n t he e nt ro py o f t he"
g oa la tt ri bu te o nt he wh ol es et is
(c id:13) (c id:14)
p
H(Go al)= B .
p+n
"Th e r es ta ur an t t ra in in g s et i n Fi gu re 18.3 h as p = n = 6, s o t he c or re sp on di ng e nt ro py i s"
B(0.5)o re xa ct ly 1 b it . At es to na si ng le at tr ib ut e Am ig ht gi ve us on ly pa rt of th is 1 b it . We
c an me as ur ee xa ct ly ho wm uc hb yl oo ki ng at th ee nt ro py re ma in in ga ft er th ea tt ri bu te t es t .
"An at tr ib ut e Aw it hd di st in ct va lu es di vi de st he tr ai ni ng se t E i nt os ub se ts E ,...,E ."
1 d
"Ea ch s ub se t E h as p p os it iv e e xa mp le s a nd n n eg at iv e e xa mp le s , s o i f w e g o a lo ng t ha t"
k k k
"b ra nc h , w ew il ln ee d a na dd it io na l B(p /(p +n ))b it so fi nf or ma ti on t oa ns we rt he qu es-"
k k k
t io n . Ar an do ml yc ho se ne xa mp le fr om th et ra in in gs et ha st he kt hv al ue fo rt he at tr ib ut ew it h
"p ro ba bi li ty (p +n )/(p+n),s ot he ex pe ct ed en tr op y r em ai ni ng af te rt es ti ng at tr ib ut e Ai s"
k k
(c id:12)d
Re ma in de r(A) = p k+n k B( p k ).
p+n p k+n k
k=1
Th ei nf or ma ti on ga in fr om th ea tt ri bu te t es to n Ai st he ex pe ct ed re du ct io n i ne nt ro py:
INFORMATIONGAIN
Ga in(A) = B( p )−Re ma in de r(A).
p+n
In fa ct Ga in(A)i sj us tw ha tw en ee dt oi mp le me nt th e IMPORTANCE f un ct io n . Re tu rn in gt o
"t he at tr ib ut es c on si de re d i n Fi gu re 18.4,w eh av e"
$ %
"Ga in(Pa tr on s)= 1− 2 B(0)+ 4 B(4)+ 6 B(2) ≈ 0.541 b it s ,"
$ 12 2 12 4 12 6 %
"Ga in(Ty pe) = 1− 2 B(1)+ 2 B(1)+ 4 B(2)+ 4 B(2) = 0 b it s ,"
12 2 12 2 12 4 12 4
"c on fi rm in g o ur i nt ui ti on t ha t Pa tr on s i s a b et te r a tt ri bu te t o s pl it o n . In f ac t , Pa tr on s h as"
t he ma xi mu mg ai no fa ny of th ea tt ri bu te s a nd wo ul db ec ho se nb yt he de ci si on-t re e l ea rn in g
a lg or it hm a st he ro ot .
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 705
18.3.5 Ge ne ra li za ti on an do ve rf it ti ng
"On s om e p ro bl em s , t he DECISION-TREE-LEARNING a lg or it hm w il l g en er at e a l ar ge t re e"
w he n t he re i s a ct ua ll y n o p at te rn t o b e f ou nd . Co ns id er t he p ro bl em o f t ry in g t o p re di ct
w he th er t he r ol l o f a d ie w il l c om e u p a s 6 o rn ot . Su pp os e t ha t e xp er im en ts a re c ar ri ed o ut
w it h v ar io us d ic e a nd t ha t t he a tt ri bu te s d es cr ib in g e ac h t ra in in g e xa mp le i nc lu de t he c ol or
"o f t he d ie , i ts w ei gh t , t he t im e w he n t he r ol l w as d on e , a nd w he th er t he e xp er im en te rs h ad"
"t he ir f in ge rs c ro ss ed . If t he d ic e a re f ai r , t he r ig ht t hi ng t o l ea rn i s a t re e w it h a s in gl e n od e"
"t ha t s ay s “n o ,” Bu t t he DECISION-TREE-LEARNING a lg or it hm w il l s ei ze o n a ny p at te rn i t"
c an f in d i n t he i np ut . If i t t ur ns o ut t ha t t he re a re 2 r ol ls o f a 7-g ra m b lu e d ie w it h f in ge rs
"c ro ss ed a nd t he yb ot h c om e o ut 6, t he n t he a lg or it hm m ay co ns tr uc t a pa th t ha t p re di ct s 6 i n"
"t ha tc as e . Th is pr ob le mi sc al le d o ve rf it ti ng . Ag en er al p he no me no n , o ve rf it ti ng oc cu rs wi th"
OVERFITTING
"a ll ty pe so fl ea rn er s ,e ve nw he nt he ta rg et fu nc ti on is no ta ta ll ra nd om . In Fi gu re 18.1(b)a nd"
"(c),w es aw po ly no mi al fu nc ti on so ve rf it ti ng th ed at a . Ov er fi tt in gb ec om es mo re li ke ly as th e"
"h yp ot he si s s pa ce an dt he nu mb er of in pu ta tt ri bu te s g ro ws ,a nd le ss li ke ly as we in cr ea se t he"
n um be ro ft ra in in ge xa mp le s .
"DECISIONTREE Fo rd ec is io nt re es ,a te ch ni qu ec al le d d ec is io nt re ep ru ni ng co mb at so ve rf it ti ng . Pr un-"
PRUNING
"i ng w or ks b y e li mi na ti ng n od es t ha t a re n ot c le ar ly r el ev an t . We s ta rt w it h a f ul l t re e , a s"
g en er at ed b y DECISION-TREE-LEARNING . We t he n l oo k a t a t es t n od e t ha t h as o nl y l ea f
n od es a sd es ce nd an ts . If th et es ta pp ea rs t ob ei rr el ev an t—d et ec ti ng o nl yn oi se in th ed at a—
"t he n w ee li mi na te t he t es t , r ep la ci ng i t w it ha l ea f n od e . We re pe at t hi s p ro ce ss , c on si de ri ng"
"e ac ht es tw it ho nl yl ea fd es ce nd an ts , u nt il ea ch on eh as ei th er be en pr un ed o ra cc ep te d a si s ."
"Th eq ue st io ni s ,h ow do we de te ct th at an od ei st es ti ng an ir re le va nt at tr ib ut e ? Su pp os e"
"w ea re at an od ec on si st in go fp po si ti ve an dn ne ga ti ve ex am pl es . If th ea tt ri bu te is ir re le va nt ,"
w ew ou ld ex pe ct th at it wo ul ds pl it th ee xa mp le si nt os ub se ts th at ea ch ha ve ro ug hl yt he sa me
"p ro po rt io n o fp os it iv ee xa mp le sa st he wh ol es et , p/(p+n),a nd so th ei nf or ma ti on ga in wi ll"
"b ec lo se to ze ro .2 Th us ,t he in fo rm at io n g ai ni sa go od cl ue to ir re le va nc e . No w t he qu es ti on"
"i s ,h ow la rg ea ga in sh ou ld we re qu ir ei no rd er to sp li to na pa rt ic ul ar a tt ri bu te ?"
We ca n a ns we rt hi sq ue st io n b yu si ng a st at is ti ca l s ig ni fi ca nc e t es t . Su ch at es t b eg in s
SIGNIFICANCETEST
b ya ss um in gt ha tt he re is no un de rl yi ng p at te rn (t he so-c al le d n ul lh yp ot he si s). Th en th ea c-
NULLHYPOTHESIS
t ua ld at aa re an al yz ed t oc al cu la te t he ex te nt to wh ic ht he yd ev ia te f ro ma pe rf ec t a bs en ce o f
p at te rn . If th e d eg re e o fd ev ia ti on i ss ta ti st ic al ly u nl ik el y (u su al ly t ak en t o m ea na 5% p ro b-
"a bi li ty o r l es s), t he n t ha t i s c on si de re d t o b e g oo d e vi de nc e f or t he p re se nc e o f a s ig ni fi ca nt"
p at te rn in th ed at a . Th ep ro ba bi li ti es a re ca lc ul at ed fr om st an da rd di st ri bu ti on s o ft he am ou nt
o fd ev ia ti on o ne wo ul de xp ec tt os ee in ra nd om sa mp li ng .
"In t hi s c as e , t he n ul l h yp ot he si s i s t ha t t he a tt ri bu te i s i rr el ev an t a nd , h en ce , t ha t t he"
i nf or ma ti on g ai n f or a n i nf in it el y l ar ge s am pl e w ou ld b e z er o . We n ee d t o c al cu la te t he
"p ro ba bi li ty t ha t , u nd er t he n ul l h yp ot he si s , a s am pl e o f s iz e v=n + p w ou ld e xh ib it t he"
o bs er ve dd ev ia ti on fr om th ee xp ec te dd is tr ib ut io n o fp os it iv ea nd ne ga ti ve ex am pl es . We ca n
m ea su re th ed ev ia ti on b yc om pa ri ng th ea ct ua ln um be rs of po si ti ve an dn eg at iv ee xa mp le si n
2 Th eg ai nw il lb es tr ic tl yp os it iv ee xc ep tf or th eu nl ik el yc as ew he re al lt he pr op or ti on sa re e xa ct ly th es am e .
(Se e Ex er ci se 18.5.)
706 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"e ac hs ub se t , p a nd n ,w it ht he ex pe ct ed nu mb er s , pˆ a nd nˆ ,a ss um in gt ru ei rr el ev an ce:"
k k k k
p +n p +n
pˆ = p× k k nˆ =n× k k .
k k
p+n p+n
Ac on ve ni en t m ea su re of th et ot al de vi at io n i sg iv en by
(c id:12)d (p −pˆ )2 (n −nˆ )2
k k k k
Δ = + .
pˆ nˆ
k k
k=1
"Un de r t he n ul l h yp ot he si s , t he v al ue o f Δ i s d is tr ib ut ed a cc or di ng t o t he χ2 (c hi-s qu ar ed)"
d is tr ib ut io n w it h v −1 d eg re es o f f re ed om . We c an u se a χ2 t ab le o r a s ta nd ar d s ta ti st ic al
l ib ra ry r ou ti ne t o s ee i f a p ar ti cu la r Δ v al ue c on fi rm s o r r ej ec ts t he n ul l h yp ot he si s . Fo r
"e xa mp le , c on si de r t he r es ta ur an t t yp e a tt ri bu te , w it h f ou r v al ue s a nd t hu s t hr ee d eg re es o f"
f re ed om . Av al ue ofΔ=7.82 o rm or ew ou ld re je ct th en ul lh yp ot he si sa tt he 5%l ev el(a nd a
v al ue ofΔ=11.35 o rm or ew ou ld re je ct at th e 1%l ev el). Ex er ci se 18.8 a sk sy ou to ex te nd th e
"DECISION-TREE-LEARNING a lg or it hm t oi mp le me nt t hi s f or m o f p ru ni ng , w hi ch i s k no wn"
χ2 a sχ2 p ru ni ng .
PRUNING
"Wi th pr un in g ,n oi se in th ee xa mp le sc an be to le ra te d . Er ro rs in th ee xa mp le’s la be l(e .g .,"
"a ne xa mp le(x ,Ye s)t ha ts ho ul db e(x ,No))g iv ea li ne ar in cr ea se in pr ed ic ti on er ro r ,w he re as"
"e rr or si nt he de sc ri pt io ns o fe xa mp le s(e .g ., Pr ic e=$w he ni tw as ac tu al ly Pr ic e=$$)h av e"
a n a sy mp to ti c e ff ec t t ha t g et s w or se a s t he t re e s hr in ks d ow n t o s ma ll er s et s . Pr un ed t re es
p er fo rm s ig ni fi ca nt ly b et te r t ha n u np ru ne d t re es w he n t he d at a c on ta in a l ar ge a mo un t o f
"n oi se . Al so ,t he pr un ed tr ee sa re of te nm uc hs ma ll er an dh en ce ea si er to un de rs ta nd ."
"On ef in al wa rn in g: Yo um ig ht th in k t ha t χ2 p ru ni ng a nd in fo rm at io n g ai nl oo ks im il ar ,"
s o w hy n ot c om bi ne t he m u si ng a n a pp ro ac h c al le d e ar ly s to pp in g—h av e t he d ec is io n t re e
EARLYSTOPPING
"a lg or it hm s to pg en er at in g n od es wh en th er ei sn og oo da tt ri bu te t os pl it on ,r at he rt ha ng oi ng"
t o a ll t he t ro ub le o f g en er at in g n od es a nd t he n p ru ni ng t he m a wa y . Th e p ro bl em w it h e ar ly
"s to pp in g i s t ha t i t s to ps u s f ro m r ec og ni zi ng s it ua ti on s w he re t he re i s n o o ne g oo d a tt ri bu te ,"
"b ut th er ea re co mb in at io ns o fa tt ri bu te s t ha ta re in fo rm at iv e . Fo re xa mp le ,c on si de rt he XOR"
f un ct io n o f t wo bi na ry a tt ri bu te s . If t he re a re r ou gh ly e qu al n um be ro f e xa mp le s f or al lf ou r
"c om bi na ti on s o f i np ut v al ue s , t he n n ei th er a tt ri bu te w il lb ei nf or ma ti ve , y et t he co rr ec t t hi ng"
"t od o i st os pl it o no ne o ft he a tt ri bu te s (i t d oe sn’t m at te rw hi ch o ne), a nd t he n a tt he se co nd"
"l ev el w e w il l g et s pl it s t ha t a re i nf or ma ti ve . Ea rl y s to pp in g w ou ld m is s t hi s , b ut g en er at e-"
a nd-t he n-p ru ne h an dl es i tc or re ct ly .
18.3.6 Br oa de ni ng t he a pp li ca bi li ty of de ci si on tr ee s
"In or de rt oe xt en d d ec is io n t re e i nd uc ti on t oa wi de rv ar ie ty o fp ro bl em s , a nu mb er of is su es"
"m us t b e a dd re ss ed . We w il l b ri ef ly m en ti on s ev er al , s ug ge st in g t ha t a f ul l u nd er st an di ng i s"
b es to bt ai ne d b yd oi ng th ea ss oc ia te d e xe rc is es:
"• Mi ss in g d at a: In m an y d om ai ns , n ot a ll t he a tt ri bu te v al ue s w il l b e k no wn f or e ve ry"
"e xa mp le . Th e v al ue s m ig ht h av e g on e u nr ec or de d , o r t he y m ig ht b e t oo e xp en si ve t o"
"o bt ai n . Th is g iv es r is e t o t wo p ro bl em s: Fi rs t , g iv en a c om pl et e d ec is io n t re e , h ow"
"s ho ul d o ne c la ss if y a n e xa mp le t ha t i s m is si ng o ne o f t he t es t a tt ri bu te s ? Se co nd , h ow"
Se ct io n 18.3. Le ar ni ng De ci si on Tr ee s 707
s ho ul d o ne m od if y t he i nf or ma ti on-g ai n f or mu la w he n s om e e xa mp le s h av e u nk no wn
v al ue sf or th ea tt ri bu te ? Th es eq ue st io ns a re ad dr es se d i n Ex er ci se 18.9.
"• Mu lt iv al ue d a tt ri bu te s: Wh en a n a tt ri bu te h as m an y p os si bl e v al ue s , t he i nf or ma ti on"
g ai n m ea su re g iv es a n i na pp ro pr ia te i nd ic at io n o f t he a tt ri bu te’s u se fu ln es s . In t he e x-
"t re me c as e , a n a tt ri bu te s uc h a s Ex ac t Ti me h as a d if fe re nt v al ue f or e ve ry e xa mp le ,"
"w hi ch m ea ns e ac h s ub se t o f e xa mp le s i s a s in gl et on w it h a u ni qu e c la ss if ic at io n , a nd"
t he in fo rm at io ng ai nm ea su re wo ul dh av ei ts hi gh es tv al ue fo rt hi sa tt ri bu te . Bu tc ho os-
i ng th is sp li tf ir st is un li ke ly t oy ie ld th eb es tt re e . On es ol ut io n i st ou se th eg ai nr at io
GAINRATIO
"(Ex er ci se 18.10). An ot he rp os si bi li ty is to al lo wa Bo ol ea nt es to ft he fo rm A=v ,t ha t"
k
"i s , p ic ki ng o ut j us t o ne o f t he p os si bl e v al ue s f or a n a tt ri bu te , l ea vi ng t he r em ai ni ng"
v al ue st op os si bl y b et es te dl at er in th et re e .
• Co nt in uo us a nd i nt eg er-v al ue d i np ut a tt ri bu te s: Co nt in uo us o r i nt eg er-v al ue d a t-
"t ri bu te ss uc ha s He ig ht a nd We ig ht ,h av ea ni nf in it es et of po ss ib le va lu es . Ra th er th an"
"g en er at e i nf in it el y m an y b ra nc he s , d ec is io n-t re e l ea rn in g a lg or it hm s t yp ic al ly f in d t he"
"s pl it p oi nt t ha t g iv es t he h ig he st i nf or ma ti on g ai n . Fo r e xa mp le , a t a g iv en n od e i n"
SPLITPOINT
"t he t re e , i t m ig ht b e t he c as e t ha t t es ti ng o n We ig ht > 160 g iv es t he m os t i nf or ma-"
t io n . Ef fi ci en t m et ho ds e xi st f or f in di ng g oo d s pl it p oi nt s: s ta rt b y s or ti ng t he v al ue s
"o f t he a tt ri bu te , a nd t he n c on si de r o nl y s pl it p oi nt s t ha t a re b et we en t wo e xa mp le s i n"
"s or te do rd er th at ha ve di ff er en tc la ss if ic at io ns , w hi le ke ep in gt ra ck of th er un ni ng to ta ls"
o f p os it iv e a nd n eg at iv e e xa mp le s o n e ac h s id e o f t he s pl it p oi nt . Sp li tt in g i s t he m os t
e xp en si ve pa rt of re al-w or ld d ec is io n t re el ea rn in ga pp li ca ti on s .
• Co nt in uo us-v al ue d o ut pu t a tt ri bu te s: If w e a re t ry in g t o p re di ct a n um er ic al o ut pu t
"v al ue , s uc h a s t he p ri ce o f a n a pa rt me nt , t he n w e n ee d a r eg re ss io n t re e r at he r t ha n a"
REGRESSIONTREE
c la ss if ic at io n t re e . A r eg re ss io n t re e h as a t e ac h l ea f a l in ea r f un ct io n o f s om e s ub se t
"o f n um er ic al a tt ri bu te s , r at he r t ha n a s in gl e v al ue . Fo r e xa mp le , t he b ra nc h f or t wo-"
"b ed ro om a pa rt me nt s m ig ht e nd w it h a l in ea r f un ct io n o f s qu ar e f oo ta ge , n um be r o f"
"b at hr oo ms , a nd a ve ra ge i nc om e f or t he n ei gh bo rh oo d . Th e l ea rn in g a lg or it hm m us t"
d ec id e w he n t o s to p s pl it ti ng a nd b eg in a pp ly in g l in ea r r eg re ss io n (s ee Se ct io n 18.6)
o ve rt he at tr ib ut es .
A d ec is io n-t re e l ea rn in g s ys te m f or r ea l-w or ld a pp li ca ti on s m us t b e a bl e t o h an dl e a ll o f
"t he se p ro bl em s . Ha nd li ng c on ti nu ou s-v al ue d v ar ia bl es i se sp ec ia ll y i mp or ta nt , b ec au se b ot h"
p hy si ca l a nd f in an ci al p ro ce ss es p ro vi de n um er ic al d at a . Se ve ra l c om me rc ia l p ac ka ge s h av e
"b ee n b ui lt t ha t m ee t t he se c ri te ri a , a nd t he y h av e b ee n u se d t o d ev el op t ho us an ds o f f ie ld ed"
"s ys te ms . In ma ny ar ea so fi nd us tr ya nd co mm er ce ,d ec is io nt re es ar eu su al ly th ef ir st me th od"
t ri ed wh en ac la ss if ic at io n m et ho di st ob ee xt ra ct ed f ro m a da ta se t . On ei mp or ta nt p ro pe rt y
o fd ec is io nt re es is th at it is po ss ib le fo ra hu ma nt ou nd er st an dt he re as on fo rt he ou tp ut of th e
"l ea rn in ga lg or it hm . (In de ed ,t hi si sa le ga lr eq ui re me nt fo rf in an ci al de ci si on st ha ta re su bj ec t"
"t o a nt i-d is cr im in at io n l aw s .) Th is i s a p ro pe rt y n ot s ha re d b y s om e o th er r ep re se nt at io ns ,"
s uc ha sn eu ra ln et wo rk s .
708 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
18.4 EVALUATING AND CHOOSING THE BEST HYPOTHESIS
We w an t t o l ea rn a h yp ot he si s t ha t f it s t he f ut ur e d at a b es t . To m ak e t ha t p re ci se w e n ee d
STATIONARITY t o d ef in e “f ut ur e d at a” a nd “b es t .” We m ak e t he s ta ti on ar it y a ss um pt io n: t ha t t he re i s a
ASSUMPTION
p ro ba bi li ty d is tr ib ut io n o ve re xa mp le s t ha t r em ai ns s ta ti on ar y o ve rt im e . Ea ch e xa mp le d at a
"p oi nt(b ef or ew es ee it)i sa ra nd om va ri ab le E w ho se ob se rv ed va lu ee =(x ,y )i ss am pl ed"
j j j j
"f ro mt ha td is tr ib ut io n , a nd is in de pe nd en t o ft he pr ev io us e xa mp le s:"
"P(E j|E j−1,E j−2,...)= P(E j),"
a nd ea ch ex am pl eh as an id en ti ca l p ri or pr ob ab il it y d is tr ib ut io n:
P(E j)= P(E j−1) = P(E j−2) = ··· .
Ex am pl es th at sa ti sf yt he se as su mp ti on sa re ca ll ed in de pe nd en t a nd id en ti ca ll yd is tr ib ut ed o r
"i .i .d .. An i .i .d .a ss um pt io n c on ne ct s t he pa st to th ef ut ur e ; w it ho ut so me su ch co nn ec ti on , a ll"
I .I .D .
b et s a re o ff—t he f ut ur e c ou ld b e a ny th in g . (We w il l s ee l at er t ha t l ea rn in g c an s ti ll o cc ur i f
t he re ar e s lo wc ha ng es in th ed is tr ib ut io n .)
Th e n ex t s te p i s t o d ef in e “b es t f it .” We d ef in e t he e rr or r at e o f a h yp ot he si s a s t he
ERRORRATE
"p ro po rt io no fm is ta ke si tm ak es—t he pr op or ti on of ti me st ha th(x) (c id:7)= y fo ra n(x ,y)e xa mp le ."
"No w , j us t b ec au se a h yp ot he si s h h as a l ow e rr or r at e o n t he t ra in in g s et d oe s n ot m ea n t ha t"
i tw il lg en er al iz e w el l . Ap ro fe ss or k no ws th at an ex am wi ll no ta cc ur at el y e va lu at e s tu de nt s
"i f t he y h av e a lr ea dy s ee n t he e xa m q ue st io ns . Si mi la rl y , t o g et a n a cc ur at e e va lu at io n o f a"
"h yp ot he si s ,w en ee dt ot es ti to na se to fe xa mp le si th as no ts ee ny et . Th es im pl es ta pp ro ac hi s"
t he on ew eh av es ee na lr ea dy: r an do ml ys pl it th ea va il ab le da ta in to at ra in in gs et fr om wh ic h
t he le ar ni ng al go ri th mp ro du ce s h an da te st se to nw hi ch th ea cc ur ac yo fh is ev al ua te d . Th is
"HOLDOUT m et ho d , s om et im es c al le d h ol do ut cr os s-v al id at io n , h as th ed is ad va nt ag e t ha ti tf ai ls t ou se"
CROSS-VALIDATION
"a ll th ea va il ab le d at a ;i fw eu se ha lf th ed at af or th et es ts et ,t he nw ea re on ly tr ai ni ng o nh al f"
"t he d at a , a nd w e m ay g et a p oo r h yp ot he si s . On t he o th er h an d , i f w e r es er ve o nl y 10% o f"
"t he d at a f or t he t es t s et , t he n w e m ay , b y s ta ti st ic al c ha nc e , g et a p oo r e st im at e o f t he a ct ua l"
a cc ur ac y .
We ca ns qu ee ze mo re ou to ft he da ta an ds ti ll ge ta na cc ur at ee st im at eu si ng at ec hn iq ue
K-FOLD c al le dk-f ol dc ro ss-v al id at io n . Th ei de ai st ha te ac he xa mp le se rv es do ub le du ty—a st ra in in g
CROSS-VALIDATION
d at a a nd t es t d at a . Fi rs t w es pl it t he d at a i nt o k e qu al s ub se ts . We th en p er fo rm k r ou nd s o f
l ea rn in g ; o n e ac h r ou nd 1/k o f t he d at a i s h el d o ut a s a t es t s et a nd t he r em ai ni ng e xa mp le s
a re u se d a s t ra in in g d at a . Th e a ve ra ge t es t s et s co re o f t he k r ou nd s s ho ul d t he n b e a b et te r
e st im at e t ha n a s in gl e s co re . Po pu la r v al ue s f or k a re 5 a nd 10—e no ug h t o g iv e a n e st im at e
"t ha t i s s ta ti st ic al ly l ik el y t o b e a cc ur at e , a t a c os t o f 5 t o 10 t im es l on ge r c om pu ta ti on t im e ."
"LEAVE-ONE-OUT Th ee xt re me is k = n ,a ls ok no wn as le av e-o ne-o ut cr os s-v al id at io n o r LOOCV ."
CROSS-VALIDATION
"De sp it e t he b es t e ff or ts o f s ta ti st ic al m et ho do lo gi st s , u se rs f re qu en tl y i nv al id at e t he ir"
LOOCV
r es ul ts b y i na dv er te nt ly p ee ki ng a t t he t es t d at a . Pe ek in g c an h ap pe n l ik e t hi s: A l ea rn in g
PEEKING
"a lg or it hm ha sv ar io us“k no bs”t ha tc an be tw id dl ed to tu ne it sb eh av io r—f or ex am pl e ,v ar io us"
d if fe re nt c ri te ri a f or c ho os in g t he n ex t a tt ri bu te i n d ec is io n t re e l ea rn in g . Th e r es ea rc he r
"g en er at es hy po th es es f or va ri ou sd if fe re nt se tt in gs of th e k no bs ,m ea su re st he ir er ro rr at es on"
"t he te st se t ,a nd re po rt st he er ro rr at eo ft he be st hy po th es is . Al as ,p ee ki ng ha so cc ur re d ! Th e"
Se ct io n 18.4. Ev al ua ti ng an d Ch oo si ng t he Be st Hy po th es is 709
"r ea so ni st ha tt he hy po th es is wa ss el ec te do nt he ba si so fi ts te st se te rr or ra te ,s oi nf or ma ti on"
a bo ut th et es ts et ha sl ea ke di nt ot he le ar ni ng a lg or it hm .
Pe ek in gi sa co ns eq ue nc eo fu si ng te st-s et pe rf or ma nc et ob ot hc ho os ea hy po th es is an d
e va lu at e i t . Th e w ay t o a vo id t hi s i s t o r ea ll y h ol d t he t es t s et o ut—l oc k i t a wa y u nt il y ou
a re c om pl et el y d on e w it h l ea rn in g a nd s im pl y w is h t o o bt ai n a n i nd ep en de nt e va lu at io n o f
"t he f in al hy po th es is . (An d t he n , i f y ou d on’t l ik e t he r es ul ts ... y ou h av e t oo bt ai n , a nd l oc k"
"a wa y , a c om pl et el y n ew t es t s et i f y ou w an t t o g o b ac k a nd f in d a b et te r h yp ot he si s .) If t he"
"t es ts et is lo ck ed aw ay ,b ut yo us ti ll wa nt to me as ur ep er fo rm an ce on un se en da ta as aw ay of"
"s el ec ti ng ag oo dh yp ot he si s ,t he nd iv id et he av ai la bl ed at a(w it ho ut th et es ts et)i nt oa tr ai ni ng"
s et a nd a v al id at io n s et . Th e n ex t s ec ti on s ho ws h ow t o u se v al id at io n s et s t o f in d a g oo d
VALIDATIONSET
t ra de of fb et we en hy po th es is c om pl ex it ya nd go od ne ss o ff it .
18.4.1 Mo de l s el ec ti on: Co mp le xi ty v er su s g oo dn es so ff it
In Fi gu re 18.1(p ag e 696)w es ho we dt ha th ig he r-d eg re e p ol yn om ia ls ca nf it th et ra in in gd at a
"b et te r ,b ut wh en th ed eg re ei st oo hi gh th ey wi ll ov er fi t ,a nd pe rf or mp oo rl yo nv al id at io nd at a ."
Ch oo si ng th ed eg re eo ft he po ly no mi al is an in st an ce of th ep ro bl em of mo de ls el ec ti on . Yo u
MODELSELECTION
c an t hi nk o ft he t as k o ff in di ng t he b es t h yp ot he si s a st wo ta sk s: m od el s el ec ti on d ef in es t he
h yp ot he si s s pa ce an dt he no pt im iz at io n f in ds th eb es th yp ot he si s w it hi nt ha ts pa ce .
OPTIMIZATION
In th is s ec ti on w ee xp la in h ow t o s el ec t a mo ng m od el s t ha t a re p ar am et er iz ed b y s iz e .
"Fo re xa mp le ,w it hp ol yn om ia ls we ha ve si ze=1 f or li ne ar fu nc ti on s , s iz e=2 f or qu ad ra ti cs ,"
"a nd s o o n . Fo rd ec is io n t re es , t he s iz e c ou ld b e t he n um be r o f n od es i n t he t re e . In a ll c as es"
w ew an tt of in dt he va lu eo ft he si ze p ar am et er th at be st ba la nc es un de rf it ti ng a nd ov er fi tt in g
t og iv et he be st te st se ta cc ur ac y .
An al go ri th m t o p er fo rm m od el s el ec ti on a nd o pt im iz at io n i s s ho wn i n Fi gu re 18.8. It
WRAPPER
"i s a wr ap pe rt ha t t ak es a le ar ni ng a lg or it hm a s a n a rg um en t (DECISION-TREE-LEARNING ,"
"f or ex am pl e). Th ew ra pp er en um er at es m od el sa cc or di ng t oa pa ra me te r , s iz e . Fo re ac hs iz e ,"
i t u se s c ro ss v al id at io n o n Le ar ne r t o c om pu te t he a ve ra ge e rr or r at e o n t he t ra in in g a nd
"t es ts et s . We st ar tw it ht he sm al le st , s im pl es t m od el s (w hi ch pr ob ab ly u nd er fi tt he da ta), a nd"
"i te ra te , c on si de ri ng m or e c om pl ex m od el s a t e ac h s te p , u nt il t he m od el s s ta rt t o o ve rf it . In"
Fi gu re 18.9 w e s ee t yp ic al c ur ve s: t he t ra in in g s et e rr or d ec re as es m on ot on ic al ly (a lt ho ug h
"t he re m ay i n g en er al b e s li gh t r an do m v ar ia ti on), w hi le t he v al id at io n s et e rr or d ec re as es a t"
"f ir st , a nd t he n i nc re as es w he n t he m od el b eg in s t o o ve rf it . Th e c ro ss-v al id at io n p ro ce du re"
p ic ks th ev al ue of si ze w it ht he lo we st va li da ti on se te rr or ;t he bo tt om of th e U-s ha pe dc ur ve .
"We th en ge ne ra te a hy po th es is o ft ha t s iz e ,u si ng a ll th ed at a(w it ho ut h ol di ng o ut an yo fi t)."
"Fi na ll y ,o fc ou rs e ,w es ho ul de va lu at et he re tu rn ed h yp ot he si s o na se pa ra te te st se t ."
"Th is ap pr oa ch re qu ir es th at th el ea rn in ga lg or it hm ac ce pt a p ar am et er , s iz e ,a nd de li ve r"
"a hy po th es is of th at si ze . As we sa id ,f or de ci si on tr ee le ar ni ng ,t he si ze ca nb et he nu mb er of"
n od es . We c an m od if y DECISION-TREE-LEARNER s o t ha t i t t ak es t he n um be r o f n od es a s
"a n i np ut , b ui ld s t he t re e b re ad th-f ir st r at he r t ha n d ep th-f ir st (b ut a t e ac h l ev el i t s ti ll c ho os es"
"t he hi gh es tg ai na tt ri bu te f ir st),a nd st op sw he ni tr ea ch es th ed es ir ed nu mb er of no de s ."
710 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"f un ct io n CROSS-VALIDATION-WRAPPER(Le ar ne r ,k ,e xa mp le s)r et ur ns ah yp ot he si s"
"l oc al va ri ab le s: e rr T ,a na rr ay ,i nd ex ed by si ze ,s to ri ng tr ai ni ng-s et er ro rr at es"
"e rr V ,a na rr ay ,i nd ex ed by si ze ,s to ri ng va li da ti on-s et er ro rr at es"
f or si ze =1 t o∞d o
"e rr T[s iz e],e rr V[s iz e]←CROSS-VALIDATION(Le ar ne r ,s iz e ,k ,e xa mp le s)"
i fe rr T h as co nv er ge dt he nd o
b es t s iz e←t he va lu eo fs iz e w it hm in im um er r V[s iz e]
"r et ur n Le ar ne r(b es t s iz e ,e xa mp le s)"
"f un ct io n CROSS-VALIDATION(Le ar ne r ,s iz e ,k ,e xa mp le s)r et ur ns tw ov al ue s:"
"a ve ra ge tr ai ni ng se te rr or ra te ,a ve ra ge va li da ti on se te rr or ra te"
f ol d e rr T ←0;f ol d e rr V ←0
f or fo ld =1 t o k d o
"t ra in in g s et ,v al id at io n s et←PARTITION(e xa mp le s ,f ol d ,k)"
"h←Le ar ne r(s iz e ,t ra in in g s et)"
"f ol d e rr T←f ol d e rr T +ERROR-RATE(h ,t ra in in g s et)"
"f ol d e rr V ←f ol d e rr V +ERROR-RATE(h ,v al id at io n s et)"
"r et ur nf ol d e rr T/k ,f ol d e rr V/k"
Fi gu re 18.8 An al go ri th mt os el ec tt he mo de lt ha th as th el ow es te rr or ra te on va li da ti on
"d at a b y b ui ld in g m od el s o f i nc re as in g c om pl ex it y , a nd c ho os in g t he o ne w it h b es t e mp ir-"
"i ca l e rr or r at e o n v al id at io n d at a . He re e rr T m ea ns e rr or r at e o n t he t ra in in g d at a , a nd"
"e rr V m ea ns e rr or r at e o n t he v al id at io n d at a . Le ar ne r(s iz e ,e xa mp le s) r et ur ns a h yp ot h-"
"e si s w ho se c om pl ex it yi s s et b y t he p ar am et er si ze , a nd w hi ch i s t ra in ed o n t he e xa mp le s ."
"PARTITION(e xa mp le s ,f ol d ,k)s pl it se xa mp le si nt ot wo su bs et s: a va li da ti on se to fs iz e N/k"
a nd at ra in in gs et wi th al lt he ot he re xa mp le s .Th es pl it is di ff er en tf or ea ch va lu eo ff ol d .
18.4.2 Fr om e rr or r at es t o l os s
"So f ar , w e h av e b ee n t ry in g t o m in im iz e e rr or r at e . Th is i s c le ar ly b et te r t ha n m ax im iz in g"
"e rr or r at e , b ut i t i s n ot t he f ul l s to ry . Co ns id er t he p ro bl em o f c la ss if yi ng e ma il m es sa ge s"
a s s pa m o r n on-s pa m . It i s w or se t o c la ss if y n on-s pa m a s s pa m (a nd t hu s p ot en ti al ly m is s
a n i mp or ta nt m es sa ge) t he n t o c la ss if y s pa m a s n on-s pa m (a nd t hu s s uf fe r a f ew s ec on ds o f
"a nn oy an ce). So ac la ss if ie rw it ha 1%e rr or ra te , w he re al mo st a ll th ee rr or sw er ec la ss if yi ng"
"s pa m a s n on-s pa m , w ou ld b e b et te r t ha n a c la ss if ie r w it h o nl y a 0.5% e rr or r at e , i f m os t o f"
t ho se er ro rs we re cl as si fy in g n on-s pa m a ss pa m . We sa wi n Ch ap te r 16 t ha td ec is io n-m ak er s
"s ho ul d m ax im iz e e xp ec te d u ti li ty , a nd u ti li ty i s w ha t l ea rn er s s ho ul d m ax im iz e a s w el l . In"
m ac hi ne l ea rn in g i t i s t ra di ti on al t o e xp re ss u ti li ti es b y m ea ns o f a l os s f un ct io n . Th e l os s
LOSSFUNCTION
"f un ct io n L(x ,y ,yˆ) i s d ef in ed a s t he a mo un t o f u ti li ty l os t b y p re di ct in g h(x)=yˆw he n t he"
c or re ct an sw er is f(x)=y:
"L(x ,y ,yˆ) = Ut il it y(r es ul to fu si ng y g iv en an in pu tx)"
− Ut il it y(r es ul to fu si ng yˆg iv en an in pu tx)
Se ct io n 18.4. Ev al ua ti ng an d Ch oo si ng t he Be st Hy po th es is 711
60
50
40
30
20
10
0
1 2 3 4 5 6 7 8 9 10
e ta r
r or r E
Va li da ti on Se t Er ro r
Tr ai ni ng Se t Er ro r
Tr ee s iz e
"Fi gu re 18.9 Er ro rr at es on t ra in in g d at a (l ow er , d as he d l in e) a nd v al id at io nd at a (u pp er ,"
s ol id li ne)f or di ff er en ts iz ed ec is io nt re es . We s to pw he nt he tr ai ni ng se te rr or ra te as ym p-
"t ot es ,a nd th en ch oo se th et re ew it hm in im al er ro ro nt he va li da ti on se t ;i nt hi sc as et he tr ee"
o fs iz e 7 n od es .
"Th is is th e m os tg en er al f or mu la ti on o f t he lo ss f un ct io n . Of te na si mp li fi ed v er si on i s u se d ,"
"L(y ,yˆ), t ha t i s i nd ep en de nt o f x . We w il l u se t he s im pl if ie d v er si on f or t he r es t o f t hi s"
"c ha pt er , w hi ch m ea ns w e c an’t s ay t ha t i t i s w or se t o m is cl as si fy a l et te r f ro m Mo m t ha n i t"
"i s t o m is cl as si fy a l et te r f ro m o ur a nn oy in g c ou si n , b ut w e c an s ay i t i s 10 t im es w or se t o"
c la ss if yn on-s pa m a ss pa mt ha nv ic e-v er sa:
"L(s pa m ,n os pa m) = 1, L(n os pa m ,s pa m) = 10."
"No te th at L(y ,y)i sa lw ay sz er o ; b yd ef in it io n t he re is no lo ss w he ny ou gu es s e xa ct ly r ig ht ."
"Fo r f un ct io ns w it h d is cr et e o ut pu ts , w e c an e nu me ra te a l os s v al ue f or e ac h p os si bl e m is-"
"c la ss if ic at io n , b ut w e c an’t e nu me ra te a ll t he p os si bi li ti es f or r ea l-v al ue d d at a . If f(x) i s"
"137.035999, w ew ou ld b e f ai rl y h ap py w it h h(x) = 137.036, b ut j us t h ow h ap py s ho ul d w e"
b e ? In ge ne ra ls ma ll er ro rs a re be tt er th an la rg eo ne s ;t wo fu nc ti on s t ha ti mp le me nt th at id ea
"a re t he a bs ol ut e v al ue o f t he d if fe re nc e (c al le d t he L l os s), a nd t he s qu ar e o f t he d if fe re nc e"
1
"(c al le d t he L l os s). If w e a re c on te nt w it h t he i de a o f m in im iz in g e rr or r at e , w e c an u se"
2
"t he L l os s f un ct io n , w hi ch h as a l os s o f 1 f or a n i nc or re ct a ns we r a nd i s a pp ro pr ia te f or"
0/1
d is cr et e-v al ue d o ut pu ts:
"Ab so lu te va lu el os s: L (y ,yˆ) = |y−yˆ|"
1
"Sq ua re de rr or lo ss: L (y ,yˆ) = (y−yˆ)2"
2
"0/1 l os s: L (y ,yˆ)= 0 i fy = yˆ, e ls e 1"
0/1
Th e l ea rn in g a ge nt c an t he or et ic al ly m ax im iz e i ts e xp ec te d u ti li ty b y c ho os in g t he h yp ot h-
e si s t ha t m in im iz es e xp ec te d l os s o ve r a ll i np ut–o ut pu t p ai rs i t w il l s ee . It i s m ea ni ng le ss
"t o t al k a bo ut t hi s e xp ec ta ti on w it ho ut d ef in in g a pr io r p ro ba bi li ty d is tr ib ut io n , P(X ,Y)o ve r"
e xa mp le s . Le t E b et he s et o f a ll p os si bl e i np ut–o ut pu t e xa mp le s . Th en th e e xp ec te d g en er-
GENERALIZATION a li za ti on l os sf or ah yp ot he si s h(w it hr es pe ct to lo ss fu nc ti on L)i s
LOSS
712 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
(c id:12)
"Ge n Lo ss (h) = L(y ,h(x))P(x ,y) ,"
L
"(x ,y)∈E"
∗
"a nd th eb es th yp ot he si s , h ,i st he on ew it ht he mi ni mu me xp ec te dg en er al iz at io n l os s:"
∗
h = a rg mi n Ge n Lo ss (h).
L
h∈H
"Be ca us e P(x ,y)i s n ot kn ow n , t he le ar ni ng a ge nt c an on ly e st im at e g en er al iz at io n l os s w it h"
"e mp ir ic al lo ss on as et of ex am pl es , E:"
EMPIRICALLOSS
(c id:12)
1
"Em p Lo ss (h) = L(y ,h(x))."
"L ,E N"
"(x ,y)∈E"
Th ee st im at ed be st hy po th es is
hˆ∗
i st he nt he on ew it hm in im um em pi ri ca ll os s:
hˆ∗
= a rg mi n Em p Lo ss (h).
"L ,E"
h∈H
Th er ea re fo ur re as on sw hy
hˆ∗
"m ay di ff er fr om th et ru ef un ct io n , f: u nr ea li za bi li ty , v ar ia nc e ,"
"n oi se , a nd c om pu ta ti on al c om pl ex it y . Fi rs t , f m ay n ot b e r ea li za bl e—m ay n ot b e i n H—o r"
"m ay b e p re se nt i n s uc h a w ay t ha t o th er h yp ot he se s a re p re fe rr ed . Se co nd , a l ea rn in g a lg o-"
"r it hm w il l r et ur n d if fe re nt h yp ot he se s f or d if fe re nt s et s o f e xa mp le s , e ve n i f t ho se s et s a re"
"d ra wn f ro m t he s am e t ru e f un ct io n f , a nd t ho se h yp ot he se s w il l m ak e d if fe re nt p re di ct io ns"
"o n n ew e xa mp le s . Th eh ig he r t he v ar ia nc e a mo ng t he p re di ct io ns , t he h ig he r t he p ro ba bi li ty"
"o fs ig ni fi ca nt e rr or . No te th at e ve nw he nt he pr ob le m i sr ea li za bl e , t he re wi ll st il l b er an do m"
"v ar ia nc e , b ut t ha t v ar ia nc e d ec re as es t ow ar ds z er o a s t he n um be r o f t ra in in g e xa mp le s i n-"
"c re as es . Th ir d , f m ay b en on de te rm in is ti c o r n oi sy—i t m ay re tu rn d if fe re nt v al ue s f or f(x)"
NOISE
"e ac ht im ex oc cu rs . By de fi ni ti on , n oi se ca nn ot be pr ed ic te d ; i nm an yc as es ,i ta ri se sb ec au se"
"t he ob se rv ed la be ls ya re th er es ul to fa tt ri bu te so ft he en vi ro nm en tn ot li st ed in x . An df in al ly ,"
"w he n Hi sc om pl ex , i tc an be co mp ut at io na ll y i nt ra ct ab le t os ys te ma ti ca ll y s ea rc ht he wh ol e"
h yp ot he si s s pa ce . Th e b es t w e c an d o i s a l oc al s ea rc h (h il l c li mb in g o r g re ed y s ea rc h) t ha t
e xp lo re so nl yp ar to ft he sp ac e . Th at gi ve su sa na pp ro xi ma ti on er ro r . Co mb in in gt he so ur ce s
"o fe rr or , w e’r el ef tw it ha ne st im at io no fa na pp ro xi ma ti on o ft he tr ue fu nc ti on f ."
Tr ad it io na l m et ho ds i n s ta ti st ic s a nd t he e ar ly y ea rs o f m ac hi ne l ea rn in g c on ce nt ra te d
"SMALL-SCALE o n s ma ll-s ca le l ea rn in g , w he re t he n um be r o f t ra in in g e xa mp le s r an ge d f ro m d oz en s t o t he"
LEARNING
l ow t ho us an ds . He re t he g en er al iz at io n e rr or m os tl y c om es f ro m t he a pp ro xi ma ti on e rr or o f
"n ot ha vi ng th et ru ef i nt he hy po th es is sp ac e ,a nd fr om es ti ma ti on er ro ro fn ot ha vi ng en ou gh"
t ra in in g e xa mp le s t o l im it v ar ia nc e . In r ec en t y ea rs t he re h as b ee n m or e e mp ha si s o n l ar ge-
"LARGE-SCALE s ca le l ea rn in g , o ft en w it h m il li on s o f e xa mp le s . He re t he g en er al iz at io n e rr or i s d om in at ed"
LEARNING
b yl im it so fc om pu ta ti on: t he re is en ou gh da ta an da ri ch en ou gh mo de lt ha tw ec ou ld fi nd an
"h t ha t i s v er y c lo se t o t he t ru e f , b ut t he c om pu ta ti on t o f in d i t i s t oo c om pl ex , s o w e s et tl e"
f or as ub-o pt im al a pp ro xi ma ti on .
18.4.3 Re gu la ri za ti on
"In Se ct io n 18.4.1,w es aw ho wt od om od el se le ct io nw it hc ro ss-v al id at io n o nm od el si ze . An"
a lt er na ti ve ap pr oa ch is to se ar ch fo ra hy po th es is th at di re ct ly mi ni mi ze st he we ig ht ed su mo f
Se ct io n 18.5. Th e Th eo ry of Le ar ni ng 713
"e mp ir ic al lo ss an dt he co mp le xi ty o ft he hy po th es is , w hi ch we wi ll ca ll th et ot al co st:"
Co st(h) = Em p Lo ss(h)+λCo mp le xi ty(h)
hˆ∗
= a rg mi n Co st(h).
h∈H
"He re λ i s a p ar am et er , a p os it iv e n um be r t ha t s er ve s a s a c on ve rs io n r at e b et we en l os s a nd"
h yp ot he si s c om pl ex it y (w hi ch a ft er a ll a re n ot m ea su re d o n t he s am e s ca le). Th is a pp ro ac h
"c om bi ne s l os s a nd c om pl ex it y i nt o o ne m et ri c , a ll ow in g u s t o f in d t he b es t h yp ot he si s a ll a t"
o nc e . Un fo rt un at el y w e s ti ll n ee d t o d o a c ro ss-v al id at io n s ea rc h t o f in d t he h yp ot he si s t ha t
"g en er al iz es b es t , b ut t hi s t im e i t i s w it h d if fe re nt v al ue s o f λ r at he r t ha n s iz e . We s el ec t t he"
v al ue ofλt ha tg iv es us th eb es tv al id at io n s et sc or e .
Th is pr oc es s o fe xp li ci tl y p en al iz in g c om pl ex h yp ot he se s i sc al le d r eg ul ar iz at io n (b e-
REGULARIZATION
"c au se it lo ok sf or af un ct io nt ha ti sm or er eg ul ar ,o rl es sc om pl ex). No te th at th ec os tf un ct io n"
"r eq ui re s u s t o m ak e t wo c ho ic es: t he l os s f un ct io n a nd t he c om pl ex it y m ea su re , w hi ch i s"
c al le d a r eg ul ar iz at io n f un ct io n . Th e c ho ic e o f r eg ul ar iz at io n f un ct io n d ep en ds o n t he h y-
"p ot he si s s pa ce . Fo r e xa mp le , a g oo d r eg ul ar iz at io n f un ct io n f or p ol yn om ia ls i s t he s um o f"
t he sq ua re so ft he co ef fi ci en ts—k ee pi ng t he su ms ma ll wo ul dg ui de us aw ay fr om th ew ig gl y
p ol yn om ia ls in Fi gu re 18.1(b)a nd(c). We wi ll sh ow an ex am pl eo ft hi st yp eo fr eg ul ar iz at io n
i n Se ct io n 18.6.
An ot he rw ay to si mp li fy mo de ls is to re du ce th ed im en si on st ha tt he mo de ls wo rk wi th .
Ap ro ce ss o f f ea tu re s el ec ti on c an b ep er fo rm ed t od is ca rd a tt ri bu te s t ha ta pp ea r t ob ei rr el-
FEATURESELECTION
e va nt . χ2 p ru ni ng i sa ki nd of fe at ur es el ec ti on .
It i s i n f ac t p os si bl e t o h av e t he e mp ir ic al l os s a nd t he c om pl ex it y m ea su re d o n t he
"s am es ca le , w it ho ut t he co nv er si on f ac to r λ: t he yc an b ot hb em ea su re d i nb it s . Fi rs te nc od e"
"t he h yp ot he si s a s a Tu ri ng m ac hi ne p ro gr am , a nd c ou nt t he n um be r o f b it s . Th en c ou nt"
"t he n um be r o f b it s r eq ui re d t o e nc od e t he d at a , w he re a c or re ct ly p re di ct ed e xa mp le c os ts"
z er o b it s a nd t he c os t o fa n i nc or re ct ly p re di ct ed e xa mp le d ep en ds o n h ow l ar ge t he e rr or i s .
MINIMUM
Th e m in im um d es cr ip ti on l en gt h o r MDL h yp ot he si s m in im iz es t he t ot al n um be r o f b it s
DESCRIPTION
LENGTH
"r eq ui re d . Th is w or ks w el l i n t he l im it , b ut f or s ma ll er p ro bl em s t he re i s a d if fi cu lt y i n t ha t"
"t he c ho ic e o f e nc od in g f or t he p ro gr am—f or e xa mp le , h ow b es t t o e nc od e a d ec is io n t re e"
"a s a b it s tr in g—a ff ec ts t he o ut co me . In Ch ap te r 20 (p ag e 805), w e d es cr ib e a p ro ba bi li st ic"
i nt er pr et at io n o ft he MDLa pp ro ac h .
18.5 THE THEORY OF LEARNING
Th e m ai n u na ns we re d q ue st io n i n l ea rn in g i s t hi s: Ho w c an w e b e s ur e t ha t o ur l ea rn in g
a lg or it hm h as pr od uc ed a hy po th es is t ha tw il lp re di ct th ec or re ct va lu ef or pr ev io us ly u ns ee n
"i np ut s ? In fo rm al te rm s ,h ow do we kn ow th at th eh yp ot he si s h is cl os et ot he ta rg et fu nc ti on"
f i f w e d on’t k no w w ha t f i s ? Th es e q ue st io ns h av e b ee n p on de re d f or s ev er al c en tu ri es .
"In m or e r ec en t d ec ad es , o th er q ue st io ns h av e e me rg ed: h ow m an y e xa mp le s d o w e n ee d"
t o g et a g oo d h ? Wh at h yp ot he si s s pa ce s ho ul d w e u se ? If t he h yp ot he si s s pa ce i s v er y
"c om pl ex , c an w e e ve n f in d t he b es t h , o r d o w e h av e t o s et tl e f or a l oc al m ax im um i n t he"
714 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
s pa ce of hy po th es es ? Ho wc om pl ex sh ou ld hb e ? Ho wd ow ea vo id ov er fi tt in g ? Th is se ct io n
e xa mi ne st he se qu es ti on s .
We’l l s ta rt w it h t he q ue st io n o f h ow m an y e xa mp le s a re n ee de d f or l ea rn in g . We s aw
f ro m t he l ea rn in g c ur ve f or de ci si on t re e l ea rn in g o n t he r es ta ur an t p ro bl em (Fi gu re 18.7 o n
"p ag e 703) t ha t i mp ro ve s w it h m or e t ra in in g d at a . Le ar ni ng c ur ve s a re u se fu l , b ut t he y a re"
s pe ci fi ct oa pa rt ic ul ar le ar ni ng al go ri th m o na pa rt ic ul ar pr ob le m . Ar et he re so me mo re ge n-
e ra lp ri nc ip le s g ov er ni ng t he nu mb er of ex am pl es n ee de d i ng en er al ? Qu es ti on s l ik et hi s a re
"COMPUTATIONAL a dd re ss ed b yc om pu ta ti on al le ar ni ng th eo ry , w hi ch li es at th ei nt er se ct io n o f AI ,s ta ti st ic s ,"
LEARNINGTHEORY
a nd th eo re ti ca lc om pu te rs ci en ce . Th eu nd er ly in gp ri nc ip le is th at an yh yp ot he si st ha ti ss er i-
o us ly wr on gw il la lm os tc er ta in ly b e“f ou nd ou t”w it hh ig hp ro ba bi li ty a ft er as ma ll nu mb er
"o fe xa mp le s ,b ec au se it wi ll ma ke an in co rr ec tp re di ct io n . Th us ,a ny hy po th es is th at is co ns is-"
"t en tw it ha su ff ic ie nt ly la rg es et of tr ai ni ng ex am pl es is un li ke ly to be se ri ou sl yw ro ng: t ha ti s ,"
PROBABLY
i t m us t b e p ro ba bl y a pp ro xi ma te ly c or re ct . An y l ea rn in g a lg or it hm t ha t r et ur ns h yp ot he se s
APPROXIMATELY
CORRECT
t ha t a re pr ob ab ly a pp ro xi ma te ly c or re ct i sc al le d a PACl ea rn in ga lg or it hm ; w ec an us e t hi s
PACLEARNING
a pp ro ac h t op ro vi de bo un ds o nt he pe rf or ma nc e o fv ar io us le ar ni ng a lg or it hm s .
"PAC-l ea rn in g t he or em s , l ik e a ll t he or em s , a re l og ic al c on se qu en ce s o f a xi om s . Wh en"
"a t he or em (a s o pp os ed t o , s ay , a p ol it ic al p un di t) s ta te s s om et hi ng a bo ut t he f ut ur e b as ed o n"
"t he p as t , t he a xi om s h av e t o p ro vi de t he “j ui ce” t o m ak e t ha t c on ne ct io n . Fo r PACl ea rn in g ,"
"t he j ui ce i sp ro vi de d b yt he s ta ti on ar it y a ss um pt io n i nt ro du ce d o np ag e 708, w hi ch sa ys t ha t"
"f ut ur e e xa mp le s a re g oi ng t o b e d ra wn f ro m t he s am e f ix ed d is tr ib ut io n P(E)=P(X ,Y)"
"a s p as t e xa mp le s . (No te t ha t w e d o n ot h av e t o k no w w ha t d is tr ib ut io n t ha t i s , j us t t ha t i t"
"d oe sn’t c ha ng e .) In a dd it io n , t o k ee p t hi ng s s im pl e , w e w il l a ss um e t ha t t he t ru e f un ct io n f"
i sd et er mi ni st ic a nd is am em be ro ft he hy po th es is c la ss Ht ha ti sb ei ng co ns id er ed .
"Th e s im pl es t PAC t he or em s d ea l w it h Bo ol ea n f un ct io ns , f or w hi ch t he 0/1 l os s i s a p-"
"p ro pr ia te . Th e e rr or r at e o f a h yp ot he si s h , d ef in ed i nf or ma ll y e ar li er , i s d ef in ed f or ma ll y"
h er ea st he ex pe ct ed ge ne ra li za ti on e rr or fo re xa mp le sd ra wn fr om th es ta ti on ar yd is tr ib ut io n:
(c id:12)
"e rr or(h) = Ge n Lo ss (h) = L (y ,h(x))P(x ,y) ."
L 0/1 0/1
"x ,y"
"In o th er w or ds , e rr or(h) i s t he p ro ba bi li ty t ha t h m is cl as si fi es a n ew e xa mp le . Th is i s t he"
s am eq ua nt it yb ei ng me as ur ed ex pe ri me nt al ly b yt he le ar ni ng c ur ve ss ho wn ea rl ie r .
"A h yp ot he si s h i s c al le d a pp ro xi ma te ly c or re ct i f e rr or(h) ≤ (c id:2), w he re (c id:2) i s a s ma ll"
"c on st an t . We wi ll sh ow t ha tw ec an fi nd an N s uc h t ha t , a ft er se ei ng N e xa mp le s , w it hh ig h"
"p ro ba bi li ty , a ll c on si st en t h yp ot he se s w il l b e a pp ro xi ma te ly c or re ct . On e c an t hi nk o f a n"
a pp ro xi ma te ly c or re ct hy po th es is as be in g“c lo se”t ot he tr ue fu nc ti on in hy po th es is sp ac e: i t
(c id:2) l ie si ns id e w ha ti sc al le d t he(c id:2)-b al la ro un d t he tr ue fu nc ti on f . Th eh yp ot he si s s pa ce ou ts id e
-BALL
t hi sb al li sc al le d H .
b ad
We c an c al cu la te t he p ro ba bi li ty t ha t a “s er io us ly w ro ng” h yp ot he si s h ∈ H i s
b b ad
"c on si st en t w it h t he f ir st N e xa mp le s a s f ol lo ws . We k no w t ha t e rr or(h ) > (c id:2). Th us , t he"
b
p ro ba bi li ty t ha t i t a gr ee s w it h a g iv en e xa mp le i s a t m os t 1 − (c id:2). Si nc e t he e xa mp le s a re
"i nd ep en de nt , t he bo un df or N e xa mp le si s"
P(h a gr ee sw it h N e xa mp le s) ≤ (1−(c id:2))N .
b
Se ct io n 18.5. Th e Th eo ry of Le ar ni ng 715
Th e p ro ba bi li ty t ha t H c on ta in s a t l ea st o ne c on si st en t h yp ot he si s i s b ou nd ed b y t he s um
b ad
o ft he in di vi du al p ro ba bi li ti es:
"P(H c on ta in s a co ns is te nt h yp ot he si s)≤ |H |(1−(c id:2))N ≤ |H|(1−(c id:2))N ,"
b ad b ad
w he re w e h av e u se d t he f ac t t ha t |H | ≤ |H|. We w ou ld l ik e t o r ed uc e t he p ro ba bi li ty o f
b ad
t hi se ve nt be lo ws om es ma ll nu mb erδ:
|H|(1−(c id:2))N ≤ δ .
"Gi ve nt ha t 1−(c id:2) ≤ e−(c id:2),w ec an ac hi ev et hi si fw ea ll ow th ea lg or it hm t os ee"
(c id:13) (c id:14)
1 1
N ≥ l n +l n|H| (18.1)
(c id:2) δ
"e xa mp le s . Th us ,i fa le ar ni ng al go ri th m r et ur ns ah yp ot he si s t ha ti sc on si st en tw it ht hi sm an y"
"e xa mp le s , t he n w it h p ro ba bi li ty a t l ea st 1 − δ, i t h as e rr or a t m os t (c id:2). In o th er w or ds , i t i s"
"p ro ba bl y a pp ro xi ma te ly c or re ct . Th en um be ro fr eq ui re d e xa mp le s , a sa fu nc ti on o f(c id:2) a ndδ,"
SAMPLE i sc al le dt he sa mp le co mp le xi ty of th eh yp ot he si s s pa ce .
COMPLEXITY
"As w e s aw e ar li er , i f H i s t he s et o f a ll Bo ol ea n f un ct io ns o n n a tt ri bu te s , t he n |H| ="
"22 n . Th us , t he sa mp le c om pl ex it y o ft he sp ac e g ro ws as 2 n . Be ca us et he nu mb er of po ss ib le"
"e xa mp le s i s a ls o 2 n , t hi s s ug ge st s t ha t PAC-l ea rn in g i n t he c la ss o f a ll Bo ol ea n f un ct io ns"
"r eq ui re s s ee in g a ll , o r n ea rl y a ll , o f t he p os si bl e e xa mp le s . A m om en t’s t ho ug ht r ev ea ls t he"
r ea so n f or t hi s: H c on ta in s e no ug h h yp ot he se s t o c la ss if y a ny g iv en s et o f e xa mp le s i n a ll
"p os si bl ew ay s . In pa rt ic ul ar , f or an ys et of N e xa mp le s ,t he se to fh yp ot he se sc on si st en t w it h"
t ho se e xa mp le s c on ta in s e qu al n um be rs o f h yp ot he se s t ha t p re di ct x t o b e p os it iv e a nd
N+1
h yp ot he se s t ha tp re di ct x t ob en eg at iv e .
N+1
"To o bt ai n r ea l g en er al iz at io n t o u ns ee n e xa mp le s , t he n , i t s ee ms w e n ee d t o r es tr ic t"
"t he h yp ot he si s s pa ce H i n s om e w ay ; b ut o f c ou rs e , i f w e d o r es tr ic t t he s pa ce , w e m ig ht"
"e li mi na te th et ru ef un ct io na lt og et he r . Th er ea re th re ew ay st oe sc ap et hi sd il em ma . Th ef ir st ,"
"w hi ch w ew il lc ov er in Ch ap te r 19, i s t ob ri ng p ri or kn ow le dg e t ob ea r o nt he p ro bl em . Th e"
"s ec on d , w hi ch w e i nt ro du ce d i n Se ct io n 18.4.3, i s t o i ns is t t ha t t he a lg or it hm r et ur n n ot j us t"
"a ny co ns is te nt hy po th es is ,b ut pr ef er ab ly as im pl eo ne(a si sd on ei nd ec is io nt re el ea rn in g). In"
"c as es w he re f in di ng s im pl e c on si st en t h yp ot he se s i st ra ct ab le , t he s am pl e c om pl ex it y r es ul ts"
"a re g en er al ly b et te r t ha n f or a na ly se s b as ed o nl y o n c on si st en cy . Th e t hi rd e sc ap e , w hi ch"
"w e p ur su e n ex t , i s t o f oc us o n l ea rn ab le s ub se ts o f t he e nt ir e h yp ot he si s s pa ce o f Bo ol ea n"
f un ct io ns . Th is a pp ro ac h r el ie s o n t he a ss um pt io n t ha t t he r es tr ic te d l an gu ag e c on ta in s a
h yp ot he si s h t ha t i s c lo se e no ug h t o t he t ru e f un ct io n f ; t he b en ef it s a re t ha t t he r es tr ic te d
h yp ot he si ss pa ce al lo ws fo re ff ec ti ve ge ne ra li za ti on a nd is ty pi ca ll ye as ie rt os ea rc h . We no w
e xa mi ne on es uc hr es tr ic te d l an gu ag e i nm or ed et ai l .
18.5.1 PACl ea rn in g e xa mp le: Le ar ni ng d ec is io nl is ts
We n ow s ho w h ow t o a pp ly PAC l ea rn in g t o a n ew h yp ot he si s s pa ce: d ec is io n l is ts . A
DECISIONLISTS
"d ec is io n l is t c on si st s o f a s er ie s o f t es ts , e ac h o f w hi ch i s a c on ju nc ti on o f l it er al s . If a"
"t es t s uc ce ed s w he n a pp li ed t o a n e xa mp le d es cr ip ti on , t he d ec is io n l is t s pe ci fi es t he v al ue"
"t o b e r et ur ne d . If t he t es t f ai ls , p ro ce ss in g c on ti nu es w it h t he n ex t t es t i n t he l is t . De ci si on"
"l is ts r es em bl e d ec is io n t re es , b ut t he ir o ve ra ll s tr uc tu re i s s im pl er: t he y b ra nc h o nl y i n o ne"
716 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
No No
"Pa tr on s(x , So me) Pa tr on s(x , Fu ll) ^ Fr i/Sa t(x) No"
Ye s Ye s
Ye s Ye s
Fi gu re 18.10 Ad ec is io nl is tf or th er es ta ur an tp ro bl em .
"d ir ec ti on . In c on tr as t , t he i nd iv id ua l t es ts a re m or e c om pl ex . Fi gu re 18.10 s ho ws a d ec is io n"
l is tt ha tr ep re se nt s t he fo ll ow in gh yp ot he si s:
Wi ll Wa it ⇔ (Pa tr on s = So me)∨(Pa tr on s =Fu ll ∧Fr i/Sa t).
"If w e a ll ow t es ts o f a rb it ra ry s iz e , t he n d ec is io n l is ts c an r ep re se nt a ny Bo ol ea n f un ct io n"
"(Ex er ci se 18.14). On t he o th er h an d , i f w e r es tr ic t t he s iz e o f e ac h t es t t o a t m os t k l it er al s ,"
t he n i ti s p os si bl e f or th e l ea rn in g a lg or it hm t o g en er al iz e s uc ce ss fu ll y f ro m a sm al l n um be r
k-DL o fe xa mp le s . We ca ll th is la ng ua ge k-DL . Th ee xa mp le in Fi gu re 18.10 i si n 2-DL .It is ea sy to
"k-DT s ho w(Ex er ci se 18.14)t ha tk-DLi nc lu de sa sa su bs et th el an gu ag ek-DT ,t he se to fa ll de ci si on"
t re es o fd ep th a t m os t k . It is i mp or ta nt t o r em em be r t ha t t he p ar ti cu la r l an gu ag e r ef er re d t o
b y k-DL d ep en ds o n t he a tt ri bu te s u se d t o d es cr ib e t he e xa mp le s . We w il l u se t he n ot at io n
k-DL(n)t od en ot ea k-DLl an gu ag e u si ng n Bo ol ea na tt ri bu te s .
"Th e f ir st t as k i s t o s ho w t ha t k-DL i s l ea rn ab le—t ha t i s , t ha t a ny f un ct io n i n k-DL c an"
"b e a pp ro xi ma te d a cc ur at el y a ft er t ra in in g o n a r ea so na bl e n um be r o f e xa mp le s . To d o t hi s ,"
w e n ee d t o c al cu la te t he n um be r o f h yp ot he se s i n t he l an gu ag e . Le t t he l an gu ag e o f t es ts—
"c on ju nc ti on s o fa tm os tk l it er al s u si ng n at tr ib ut es—b e Co nj(n ,k). Be ca us e a de ci si on l is t"
"i sc on st ru ct ed o ft es ts ,a nd be ca us ee ac ht es tc an be at ta ch ed to ei th er a Ye s o ra No o ut co me"
"o rc an be ab se nt fr om th ed ec is io nl is t ,t he re ar ea tm os t 3|Co nj(n ,k)|"
d is ti nc ts et so fc om po ne nt
"t es ts . Ea ch of th es es et so ft es ts ca nb ei na ny or de r , s o"
"|k-DL(n)| ≤ 3|Co nj(n ,k)||Co nj(n ,k)|!."
Th en um be ro fc on ju nc ti on s o fk l it er al sf ro m n at tr ib ut es i sg iv en by
(c id:13) (c id:14)
(c id:12)k
2 n
"|Co nj(n ,k)| = = O(n k)."
i
i=0
"He nc e ,a ft er so me wo rk ,w eo bt ai n"
|k-DL(n)| = 2 O(n kl og 2(n k)) .
We ca np lu gt hi si nt o Eq ua ti on (18.1)t os ho wt ha tt he nu mb er of ex am pl es ne ed ed f or PAC-
l ea rn in g a k-DLf un ct io n i sp ol yn om ia l i nn:
(c id:13) (c id:14)
1 1
N ≥ l n +O(n kl og (n k)) .
(c id:2) δ 2
"Th er ef or e ,a ny al go ri th mt ha tr et ur ns ac on si st en td ec is io nl is tw il l PAC-l ea rn ak-DLf un ct io n"
"i na re as on ab le n um be ro fe xa mp le s ,f or sm al l k ."
Th e n ex t t as k i s t o f in d a n e ff ic ie nt a lg or it hm t ha t r et ur ns a c on si st en t d ec is io n l is t .
We w il l u se a g re ed y a lg or it hm c al le d DECISION-LIST-LEARNING t ha t r ep ea te dl y f in ds a
Se ct io n 18.6. Re gr es si on an d Cl as si fi ca ti on w it h Li ne ar Mo de ls 717
"f un ct io n DECISION-LIST-LEARNING(e xa mp le s)r et ur ns ad ec is io nl is t ,o rf ai lu re"
i fe xa mp le s i se mp ty th en re tu rn th et ri vi al de ci si on li st No
t←a te st th at ma tc he sa no ne mp ty su bs et ex am pl es o fe xa mp le s
t
s uc ht ha tt he me mb er so fe xa mp le s a re al lp os it iv eo ra ll ne ga ti ve
t
i ft he re is no su ch t t he nr et ur nf ai lu re
i ft he ex am pl es in ex am pl es a re po si ti ve th en o←Ye s e ls eo←No
t
r et ur na de ci si on li st wi th in it ia lt es tt a nd ou tc om eo a nd re ma in in gt es ts gi ve nb y
DECISION-LIST-LEARNING(e xa mp le s − e xa mp le s t)
Fi gu re 18.11 An al go ri th mf or le ar ni ng de ci si on li st s .
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20 40 60 80 100
t es
t se t
n o
t ce rr oc
n oi tr op or P
De ci si on t re e
De ci si on l is t
Tr ai ni ng s et s iz e
Fi gu re 18.12 Le ar ni ng cu rv ef or DECISION-LIST-LEARNINGa lg or it hm on th er es ta ur an t
d at a . Th ec ur ve fo r DECISION-TREE-LEARNINGi ss ho wn fo rc om pa ri so n .
"t es t t ha t a gr ee s e xa ct ly w it h s om e s ub se t o f t he t ra in in g s et . On ce i t f in ds s uc h a t es t , i t"
a dd s i t t o t he d ec is io n l is t u nd er c on st ru ct io n a nd r em ov es t he c or re sp on di ng e xa mp le s . It
"t he nc on st ru ct s t he re ma in de ro ft he de ci si on l is t , u si ng j us tt he re ma in in g e xa mp le s . Th is is"
r ep ea te d u nt il th er ea re no ex am pl es le ft . Th ea lg or it hm i ss ho wn in Fi gu re 18.11.
Th is a lg or it hm d oe s n ot s pe ci fy t he m et ho d f or s el ec ti ng t he n ex t t es t t o a dd t o t he
"d ec is io nl is t . Al th ou gh th ef or ma lr es ul ts gi ve ne ar li er do no td ep en do nt he se le ct io nm et ho d ,"
i t w ou ld s ee m r ea so na bl e t o p re fe r s ma ll t es ts t ha t m at ch l ar ge s et s o f u ni fo rm ly c la ss if ie d
"e xa mp le s ,s ot ha tt he ov er al ld ec is io nl is tw il lb ea sc om pa ct as po ss ib le . Th es im pl es ts tr at eg y"
"i st of in dt he sm al le st te st tt ha tm at ch es an yu ni fo rm ly cl as si fi ed su bs et ,r eg ar dl es so ft he si ze"
"o ft he su bs et . Ev en th is ap pr oa ch w or ks qu it ew el l ,a s Fi gu re 18.12 s ug ge st s ."
18.6 REGRESSION AND CLASSIFICATION WITH LINEAR MODELS
"No w i t i s t im e t o m ov e o n f ro m d ec is io n t re es a nd l is ts t o a d if fe re nt h yp ot he si s s pa ce , o ne"
t ha t h as b ee n u se d f or h un dr ed o f y ea rs: t he c la ss o f l in ea r f un ct io ns o f c on ti nu ou s-v al ue d
LINEARFUNCTION
718 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
1000
900
800
700
600
500
400
300
500 1000 1500 2000 2500 3000 3500
0001$
n i
e ci rp
e su o H
Lo ss
w
0
w
1
Ho us e s iz e i n s qu ar e f ee t
(a) (b)
"Fi gu re 18.13 (a) Da ta p oi nt s o f p ri ce v er su s f lo or s pa ce o f h ou se s f or s al e i n Be rk el ey ,"
"CA , i n Ju ly 2009, a lo ng w it h t he l in ea r f un ct io n h yp ot(c id:2)h es is t ha t m in im iz es s qu ar ed e rr or"
l os s: y = 0.232 x+246. (b) Pl ot o f t he l os s f un ct io n j(w 1 x j +w
0
−y j)2 f or v ar io us
"v al ue so fw ,w . No te th at th el os sf un ct io ni sc on ve x ,w it ha si ng le gl ob al mi ni mu m ."
0 1
"i np ut s . We’l l s ta rt w it h t he s im pl es t c as e: r eg re ss io n w it h a u ni va ri at e l in ea r f un ct io n , o th-"
e rw is e k no wn a s “f it ti ng a s tr ai gh t l in e .” Se ct io n 18.6.2 c ov er s t he m ul ti va ri at e c as e . Se c-
t io ns 18.6.3 a nd 18.6.4 s ho w h ow t o t ur n l in ea r f un ct io ns i nt o c la ss if ie rs b y a pp ly in g h ar d
a nd so ft th re sh ol ds .
18.6.1 Un iv ar ia te li ne ar re gr es si on
Au ni va ri at el in ea rf un ct io n(a st ra ig ht li ne)w it hi np ut xa nd ou tp ut yh as th ef or my=w x+
1
"w ,w he re w a nd w a re re al-v al ue d c oe ff ic ie nt s t ob el ea rn ed . We us et he l et te r w b ec au se"
0 0 1
w e t hi nk o f t he c oe ff ic ie nt s a s w ei gh ts ; t he v al ue o f y i s c ha ng ed b y c ha ng in g t he r el at iv e
WEIGHT
"w ei gh to fo ne te rm or an ot he r . We’l ld ef in e w to be th ev ec to r[w ,w ],a nd de fi ne"
0 1
h (x)=w x+w .
w 1 0
"Fi gu re 18.13(a) s ho ws a n e xa mp le o f a t ra in in g s et o f n p oi nt s i n t he x ,y p la ne , e ac h p oi nt"
r ep re se nt in g t he s iz e i n s qu ar e f ee t a nd t he p ri ce o f a h ou se o ff er ed f or s al e . Th e t as k o f
"f in di ng th eh t ha tb es tf it st he se da ta is ca ll ed l in ea rr eg re ss io n . To fi ta li ne to th ed at a ,a ll"
LINEARREGRESSION w
"w eh av et od oi sf in dt he va lu es of th ew ei gh ts[w ,w ]t ha tm in im iz et he em pi ri ca ll os s . It is"
0 1
"t ra di ti on al (g oi ng b ac k t o Ga us s 3)t o u se t he s qu ar ed l os s f un ct io n , L , s um me d o ve ra ll t he"
2
t ra in in g e xa mp le s:
(c id:12)N (c id:12)N (c id:12)N
"Lo ss(h )= L (y ,h (x )) = (y −h (x ))2 = (y −(w x +w ))2 ."
w 2 j w j j w j j 1 j 0
j=1 j=1 j=1
"3 Ga us ss ho we dt ha ti ft he yj v al ue sh av en or ma ll yd is tr ib ut ed no is e ,t he nt he mo st li ke ly va lu es of w 1 a nd w 0"
a re ob ta in ed by mi ni mi zi ng th es um of th es qu ar es of th ee rr or s .
Se ct io n 18.6. Re gr es si on an d Cl as si fi ca ti on w it h Li ne ar Mo de ls 719
(c id:2)
We w ou ld l ik e t o f in d w∗ = a rg mi n Lo ss(h ). Th e s um N (y − (w x + w ))2 i s
w w j=1 j 1 j 0
m in im iz ed wh en it sp ar ti al de ri va ti ve sw it hr es pe ct to w a nd w a re ze ro:
0 1
(c id:12)N (c id:12)N
∂ ∂
(y −(w x +w ))2 = 0 a nd (y −(w x +w ))2 = 0. (18.2)
j 1 j 0 j 1 j 0
∂w ∂w
0 1
j=1 j=1
Th es ee qu at io ns h av ea un iq ue so lu ti on:
(c id:2) (c id:2) (c id:2)
(c id:12) (c id:12)
N( x y )−( x )( y )
w = (c id:2)j j (c id:2)j j ; w =( y −w ( x ))/N . (18.3)
1 N( x 2)−( x )2 0 j 1 j
j j
"Fo rt he e xa mp le i n Fi gu re 18.13(a), t he s ol ut io n i s w =0.232, w = 246, a nd t he l in e w it h"
1 0
t ho se we ig ht si ss ho wn as ad as he dl in ei nt he fi gu re .
"Ma ny f or ms o f l ea rn in g i nv ol ve a dj us ti ng w ei gh ts t o m in im iz e a l os s , s o i t h el ps t o"
h av ea me nt al pi ct ur e o fw ha t’s go in go ni nw ei gh ts pa ce—t he s pa ce d ef in ed by al lp os si bl e
WEIGHTSPACE
"s et ti ng s o f t he w ei gh ts . Fo ru ni va ri at e l in ea r r eg re ss io n , t he w ei gh t s pa ce d ef in ed b y w a nd"
0
"w i st wo-d im en si on al , s ow ec an gr ap ht he lo ss as af un ct io n o fw a nd w i na 3 Dp lo t(s ee"
1 0 1
"Fi gu re 18.13(b)). We se et ha tt he lo ss fu nc ti on i sc on ve x ,a sd ef in ed on pa ge 133;t hi si st ru e"
"f or e ve ry l in ea r r eg re ss io n p ro bl em w it h a n L l os s f un ct io n , a nd i mp li es t ha t t he re a re n o"
2
l oc al m in im a . In s om e s en se t ha t’s t he e nd o f t he s to ry f or l in ea r m od el s ; i f w e n ee d t o f it
"l in es to da ta ,w ea pp ly Eq ua ti on(18.3).4"
"To g o b ey on d l in ea r m od el s , w e w il l n ee d t o f ac e t he f ac t t ha t t he e qu at io ns d ef in in g"
"m in im um l os s (a s i n Eq ua ti on (18.2)) w il l o ft en h av e n o c lo se d-f or m s ol ut io n . In st ea d , w e"
w il l f ac e a g en er al o pt im iz at io n s ea rc h p ro bl em i n a c on ti nu ou s w ei gh t s pa ce . As i nd ic at ed
"i n Se ct io n 4.2(p ag e 129), s uc h p ro bl em s c an b ea dd re ss ed b y a h il l-c li mb in g a lg or it hm t ha t"
"f ol lo ws t he g ra di en t o f t he f un ct io n t o b e o pt im iz ed . In t hi s c as e , b ec au se w e a re t ry in g t o"
"m in im iz e t he l os s , w e w il l u se g ra di en t d es ce nt . We c ho os e a ny s ta rt in g p oi nt i n w ei gh t"
GRADIENTDESCENT
"s pa ce—h er e , a p oi nt i n t he (w , w ) p la ne—a nd t he n m ov e t o a n ei gh bo ri ng p oi nt t ha t i s"
0 1
"d ow nh il l ,r ep ea ti ng u nt il we co nv er ge o nt he mi ni mu mp os si bl el os s:"
w ← a ny po in ti nt he pa ra me te rs pa ce
l oo pu nt il co nv er ge nc e d o
f or ea ch w i nw do
i
∂
w ← w −α Lo ss(w) (18.4)
i i
∂w
i
"Th ep ar am et er α,w hi ch we ca ll ed th es te ps iz ei n Se ct io n 4.2,i su su al ly c al le d t he le ar ni ng"
"r at ew he nw ea re tr yi ng to mi ni mi ze lo ss in al ea rn in gp ro bl em . It ca nb ea fi xe dc on st an t ,o r"
LEARNINGRATE
i tc an de ca yo ve rt im ea st he le ar ni ng p ro ce ss pr oc ee ds .
"Fo ru ni va ri at er eg re ss io n , t he lo ss fu nc ti on is aq ua dr at ic f un ct io n , s ot he pa rt ia ld er iv a-"
t iv e w il l b e a l in ea r f un ct io n . (Th e o nl y c al cu lu s y ou n ee d t o k no w i s t ha t ∂ x 2=2 x a nd
∂x
∂ x=1.) Le t’s f ir st w or k o ut t he p ar ti al d er iv at iv es—t he s lo pe s—i n t he s im pl if ie d c as e o f
∂x
4 Wi th so me ca ve at s: t he L 2 l os sf un ct io ni sa pp ro pr ia te wh en th er ei sn or ma ll y-d is tr ib ut ed no is et ha ti si nd e-
p en de nt of x ;a ll re su lt sr el yo nt he st at io na ri ty as su mp ti on ;e tc .
720 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"o nl yo ne tr ai ni ng e xa mp le , (x ,y):"
∂ ∂
Lo ss(w) = (y−h (x))2
w
∂w ∂w
i i
∂
= 2(y−h (x))× (y−h (x))
w w
∂w
i
∂
"= 2(y−h (x))× (y−(w x+w )), (18.5)"
w 1 0
∂w
i
a pp ly in g t hi st ob ot hw a nd w w eg et:
0 1
∂ ∂
Lo ss(w)= −2(y−h (x)); Lo ss(w) = −2(y−h (x))×x
w w
∂w ∂w
0 1
"Th en ,p lu gg in gt hi sb ac ki nt o Eq ua ti on(18.4),a nd fo ld in gt he 2 i nt ot he un sp ec if ie dl ea rn in g"
"r at eα,w eg et th ef ol lo wi ng le ar ni ng r ul ef or th ew ei gh ts:"
w ← w +α(y−h (x)); w ← w +α(y−h (x))×x
0 0 w 1 1 w
"Th es e u pd at es m ak e i nt ui ti ve s en se: i f h (x) > y , i .e ., t he o ut pu t o f t he h yp ot he si s i s t oo"
w
"l ar ge , r ed uc e w a b it , a nd r ed uc e w i f x w as a p os it iv e i np ut b ut i nc re as e w i f x w as a"
0 1 1
n eg at iv ei np ut .
"Th ep re ce di ng eq ua ti on sc ov er on et ra in in ge xa mp le . Fo r N t ra in in ge xa mp le s ,w ew an t"
t om in im iz et he su mo ft he in di vi du al lo ss es fo re ac he xa mp le . Th ed er iv at iv eo fa su mi st he
"s um of th ed er iv at iv es , s ow eh av e:"
(c id:12) (c id:12)
w ← w +α (y −h (x )); w ← w +α (y −h (x ))×x .
0 0 j w j 1 1 j w j j
j j
BATCHGRADIENT Th es e u pd at es c on st it ut e t he b at ch g ra di en t d es ce nt l ea rn in g r ul e f or u ni va ri at e l in ea r r e-
DESCENT
g re ss io n . Co nv er ge nc e t o t he u ni qu e g lo ba l m in im um i s g ua ra nt ee d (a s l on g a s w e p ic k α
s ma ll en ou gh) b ut ma yb ev er ys lo w: w eh av et oc yc le th ro ug h a ll th et ra in in g d at af or ev er y
"s te p ,a nd th er em ay be ma ny st ep s ."
"STOCHASTIC Th er e i s a no th er p os si bi li ty , c al le d s to ch as ti c g ra di en t d es ce nt , w he re w e c on si de r"
GRADIENTDESCENT
"o nl y a s in gl e t ra in in g p oi nt a t a t im e , t ak in g a s te p a ft er e ac h o ne u si ng Eq ua ti on (18.5)."
"St oc ha st ic g ra di en t d es ce nt c an b e u se d i n a n o nl in e s et ti ng , w he re n ew d at a a re c om in g i n"
"o ne a t a t im e , o r o ff li ne , w he re w e c yc le t hr ou gh t he s am e d at a a s m an y t im es a s i s n ec es-"
"s ar y ,t ak in ga st ep af te rc on si de ri ng ea ch si ng le ex am pl e . It is of te nf as te rt ha nb at ch gr ad ie nt"
"d es ce nt . Wi th af ix ed le ar ni ng r at e α, h ow ev er , i td oe s n ot g ua ra nt ee c on ve rg en ce ; i tc an o s-"
"c il la te ar ou nd th em in im um wi th ou ts et tl in gd ow n . In so me ca se s ,a sw es ee la te r ,a sc he du le"
o fd ec re as in g l ea rn in g r at es(a si ns im ul at ed an ne al in g) d oe sg ua ra nt ee c on ve rg en ce .
18.6.2 Mu lt iv ar ia te li ne ar re gr es si on
"MULTIVARIATE We ca ne as il ye xt en dt om ul ti va ri at el in ea rr eg re ss io n p ro bl em s , i nw hi ch ea ch ex am pl ex"
LINEARREGRESSION j
i sa nn-e le me nt ve ct or .5 Ou rh yp ot he si s s pa ce is th es et of fu nc ti on s o ft he fo rm
(c id:12)
h (x ) = w +w x +···+w x = w + w x .
"s w j 0 1 j ,1 n j ,n 0 i j ,i"
i
5 Th er ea de rm ay wi sh to co ns ul t Ap pe nd ix Af or ab ri ef su mm ar yo fl in ea ra lg eb ra .
Se ct io n 18.6. Re gr es si on an d Cl as si fi ca ti on w it h Li ne ar Mo de ls 721
"Th ew t er m ,t he in te rc ep t ,s ta nd so ut as di ff er en tf ro mt he ot he rs . We ca nf ix th at by in ve nt in g"
0
"a d um my i np ut a tt ri bu te , x , w hi ch i s d ef in ed a s a lw ay s e qu al t o 1. Th en h i s s im pl y t he"
"j ,0"
"d ot p ro du ct o f t he w ei gh ts a nd t he i np ut v ec to r (o r e qu iv al en tl y , t he m at ri x p ro du ct o f t he"
t ra ns po se o ft he we ig ht sa nd th ei np ut ve ct or):
(c id:12)
h (x ) = w·x = w(c id:12) x = w x .
"s w j j j i j ,i"
i
∗
"Th eb es tv ec to ro fw ei gh ts , w ,m in im iz es sq ua re d-e rr or l os so ve rt he ex am pl es:"
(c id:12)
"w∗ = a rg mi n L (y ,w·x )."
2 j j
w
j
Mu lt iv ar ia te li ne ar re gr es si on is ac tu al ly no tm uc hm or ec om pl ic at ed th an th eu ni va ri at ec as e
w ej us t c ov er ed . Gr ad ie nt d es ce nt w il lr ea ch t he(u ni qu e) m in im um o ft he lo ss f un ct io n ; t he
u pd at ee qu at io n f or ea ch we ig ht w i s
(c id:12) i
w ← w +α x (y −h (x )). (18.6)
"i i j ,i j w j"
j
It i s a ls o p os si bl e t o s ol ve a na ly ti ca ll y f or t he w t ha t m in im iz es l os s . Le t y b e t he v ec to r o f
"o ut pu ts f or t he t ra in in g e xa mp le s , a nd X b e t he d at a m at ri x , i .e ., t he m at ri x o f i np ut s w it h"
DATAMATRIX
o ne n-d im en si on al e xa mp le pe rr ow . Th en th es ol ut io n
w∗
=
(X(c id:12) X)−1 X(c id:12)
y
m in im iz es th es qu ar ed e rr or .
Wi th u ni va ri at e l in ea r r eg re ss io n w e d id n’t h av e t o w or ry a bo ut o ve rf it ti ng . Bu t w it h
m ul ti va ri at e l in ea r r eg re ss io n i n h ig h-d im en si on al s pa ce s i t i s p os si bl e t ha t s om e d im en si on
"t ha ti sa ct ua ll y i rr el ev an t a pp ea rs by ch an ce to be us ef ul ,r es ul ti ng i no ve rf it ti ng ."
"Th us ,i ti sc om mo nt ou se re gu la ri za ti on on mu lt iv ar ia te li ne ar fu nc ti on st oa vo id ov er-"
"f it ti ng . Re ca ll t ha t w it h r eg ul ar iz at io n w e m in im iz e t he t ot al c os t o f a h yp ot he si s , c ou nt in g"
b ot ht he em pi ri ca ll os sa nd th ec om pl ex it y o ft he hy po th es is:
Co st(h) = Em p Lo ss(h)+λCo mp le xi ty(h).
Fo r l in ea r f un ct io ns t he c om pl ex it y c an b e s pe ci fi ed a s a f un ct io n o f t he w ei gh ts . We c an
c on si de ra fa mi ly of re gu la ri za ti on f un ct io ns:
(c id:12)
Co mp le xi ty(h ) =L (w) = |w |q .
w q i
i
"As w it h l os s f un ct io ns ,6 w it h q=1 w e h av e L r eg ul ar iz at io n , w hi ch m in im iz es t he s um o f"
1
"t he ab so lu te v al ue s ; w it hq=2, L r eg ul ar iz at io n m in im iz es t he su m o fs qu ar es . Wh ic hr eg-"
2
"u la ri za ti on f un ct io n s ho ul d y ou p ic k ? Th at de pe nd s o nt he s pe ci fi c p ro bl em , b ut L r eg ul ar-"
1
"i za ti on h as an im po rt an t a dv an ta ge: i tt en ds to pr od uc e a s pa rs em od el . Th at is ,i to ft en s et s"
SPARSEMODEL
"m an yw ei gh ts to ze ro ,e ff ec ti ve ly de cl ar in gt he co rr es po nd in g a tt ri bu te st ob ei rr el ev an t—j us t"
a s DECISION-TREE-LEARNING d oe s(a lt ho ug h b ya di ff er en t m ec ha ni sm). Hy po th es es t ha t
"d is ca rd at tr ib ut es c an be ea si er fo ra hu ma nt ou nd er st an d , a nd ma yb el es sl ik el yt oo ve rf it ."
6 It is pe rh ap sc on fu si ng th at L 1 a nd L 2 a re us ed fo rb ot hl os sf un ct io ns an dr eg ul ar iz at io nf un ct io ns .Th ey ne ed
"n ot be us ed in pa ir s:y ou co ul du se L 2 l os sw it h L 1 r eg ul ar iz at io n ,o rv ic ev er sa ."
722 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
w w
2 2
w*
w*
w w
1 1
Fi gu re 18.14 Wh y L r eg ul ar iz at io nt en ds to pr od uc ea sp ar se mo de l . (a)Wi th L r eg u-
1 1
"l ar iz at io n(b ox),t he m in im al ac hi ev ab le lo ss(c on ce nt ri cc on to ur s)o ft en oc cu rs on a na xi s ,"
"m ea ni ng a w ei gh to f z er o . (b)Wi th L r eg ul ar iz at io n(c ir cl e), t he m in im al lo ss i sl ik el y t o"
2
"o cc ur an yw he re on th ec ir cl e ,g iv in gn op re fe re nc et oz er ow ei gh ts ."
Fi gu re 18.14 g iv es an in tu it iv ee xp la na ti on of wh y L r eg ul ar iz at io nl ea ds to we ig ht so f
1
"z er o , w hi le L r eg ul ar iz at io n d oe s n ot . No te t ha t m in im iz in g Lo ss(w)+λCo mp le xi ty(w)"
2
"i s e qu iv al en t t o m in im iz in g Lo ss(w) s ub je ct t o t he c on st ra in t t ha t Co mp le xi ty(w) ≤ c , f or"
"s om ec on st an t c th at is re la te d t o λ. No w ,i n Fi gu re 18.14(a) t he di am on d-s ha pe d b ox r ep re-"
s en ts t he se t o f p oi nt s w in t wo-d im en si on al w ei gh t s pa ce t ha t h av e L c om pl ex it y l es s t ha n
1
c ; o ur s ol ut io n w il l h av e t o b e s om ew he re i ns id e t hi s b ox . Th e c on ce nt ri c o va ls r ep re se nt
"c on to ur s o ft he lo ss fu nc ti on , w it ht he mi ni mu ml os sa tt he ce nt er . We wa nt to fi nd th ep oi nt"
"i nt he bo xt ha ti sc lo se st t ot he mi ni mu m ;y ou ca ns ee fr om th ed ia gr am t ha t ,f or an ar bi tr ar y"
"p os it io no ft he mi ni mu ma nd it sc on to ur s , i tw il lb ec om mo nf or th ec or ne ro ft he bo xt of in d"
"i ts wa yc lo se st to th em in im um ,j us tb ec au se th ec or ne rs ar ep oi nt y . An do fc ou rs et he co rn er s"
"a re t he p oi nt s t ha t h av e a v al ue o f z er o i n s om e d im en si on . In Fi gu re 18.14(b), w e’v e d on e"
"t he s am e f or t he L c om pl ex it y m ea su re , w hi ch r ep re se nt s a c ir cl e r at he r t ha n a d ia mo nd ."
2
"He re y ou c an s ee t ha t , i n g en er al , t he re i s n o r ea so n f or t he i nt er se ct io n t o a pp ea r o n o ne o f"
t he ax es ; t hu s L r eg ul ar iz at io n d oe s n ot te nd t op ro du ce z er ow ei gh ts . Th er es ul t i st ha t t he
2
n um be ro fe xa mp le sr eq ui re dt of in da go od hi sl in ea ri nt he nu mb er of ir re le va nt fe at ur es fo r
"L r eg ul ar iz at io n , b ut o nl y l og ar it hm ic w it h L r eg ul ar iz at io n . Em pi ri ca l e vi de nc e o nm an y"
2 1
p ro bl em ss up po rt s t hi sa na ly si s .
"An ot he rw ay to lo ok at it is th at L r eg ul ar iz at io n t ak es th ed im en si on al ax es se ri ou sl y ,"
1
"w hi le L t re at s t he m a s a rb it ra ry . Th e L f un ct io n i s s ph er ic al , w hi ch m ak es i t r ot at io na ll y"
2 2
"i nv ar ia nt: Im ag in e a s et o f p oi nt s i n a p la ne , m ea su re d b y t he ir x a nd y c oo rd in at es . No w"
"i ma gi ne r ot at in g t he a xe s b y 45 o . Yo u’d g et a d if fe re nt s et o f (x(c id:2) ,y(c id:2) ) v al ue s r ep re se nt in g"
"t he s am e p oi nt s . If y ou a pp ly L r eg ul ar iz at io n b ef or e a nd a ft er r ot at in g , y ou g et e xa ct ly"
2
(c id:2) (c id:2)
"t he s am e p oi nt a s t he a ns we r (a lt ho ug h t he p oi nt w ou ld b e d es cr ib ed w it h t he n ew (x ,y )"
c oo rd in at es). Th at is ap pr op ri at e w he nt he ch oi ce of ax es re al ly is ar bi tr ar y—w he n i td oe sn’t
m at te rw he th er yo ur tw od im en si on s a re di st an ce sn or th an de as t ;o rd is ta nc es no rt h-e as t a nd
Se ct io n 18.6. Re gr es si on an d Cl as si fi ca ti on w it h Li ne ar Mo de ls 723
"s ou th-e as t . Wi th L r eg ul ar iz at io ny ou’d ge ta di ff er en ta ns we r ,b ec au se th e L f un ct io ni sn ot"
1 1
r ot at io na ll y i nv ar ia nt . Th at i s a pp ro pr ia te w he n t he a xe s a re n ot i nt er ch an ge ab le ; i t d oe sn’t
m ak es en se to ro ta te“n um be ro fb at hr oo ms” 45 o t ow ar ds“l ot si ze .”
18.6.3 Li ne ar cl as si fi er s w it ha h ar dt hr es ho ld
"Li ne ar f un ct io ns c an b e u se d t o d o c la ss if ic at io n a s w el l a s r eg re ss io n . Fo r e xa mp le , Fi g-"
u re 18.15(a)s ho ws da ta po in ts of tw oc la ss es: e ar th qu ak es(w hi ch ar eo fi nt er es tt os ei sm ol o-
g is ts)a nd un de rg ro un d e xp lo si on s (w hi ch ar eo fi nt er es tt o a rm sc on tr ol ex pe rt s). Ea ch po in t
"i s d ef in ed b y t wo i np ut v al ue s , x a nd x , t ha t r ef er t o b od y a nd s ur fa ce w av e m ag ni tu de s"
1 2
"c om pu te d f ro m t he s ei sm ic s ig na l . Gi ve n t he se t ra in in g d at a , t he t as k o f c la ss if ic at io n i s t o"
"l ea rn a hy po th es is h th at w il lt ak e n ew (x ,x )p oi nt s a nd re tu rn e it he r 0 f or ea rt hq ua ke s o r"
1 2
1 f or ex pl os io ns .
7.5
7
6.5
6
5.5
5
4.5
4
3.5
3
2.5
4.5 5 5.5 6 6.5 7
x
2
7.5
7
6.5
6
5.5
5
4.5
4
3.5
3
2.5
4.5 5 5.5 6 6.5 7
x
1
x
2
x
1
(a) (b)
"Fi gu re 18.15 (a)Pl ot of tw os ei sm ic da ta pa ra me te rs ,b od yw av em ag ni tu de x a nd su r-"
1
"f ac e w av e m ag ni tu de x , f or ea rt hq ua ke s(w hi te c ir cl es) a nd nu cl ea re xp lo si on s(b la ck ci r-"
2
"c le s)o cc ur ri ng be tw ee n 1982 a nd 1990 i n As ia an dt he Mi dd le Ea st(Ke be as ye ta l .,1998)."
Al so sh ow ni sa de ci si on bo un da ry be tw ee nt he cl as se s . (b)Th es am ed om ai nw it hm or ed at a
p oi nt s .Th ee ar th qu ak es an de xp lo si on sa re no lo ng er li ne ar ly se pa ra bl e .
"DECISION A d ec is io n b ou nd ar y i s a l in e (o r a s ur fa ce , i n h ig he r d im en si on s) t ha t s ep ar at es t he"
BOUNDARY
"t wo c la ss es . In Fi gu re 18.15(a), t he d ec is io n b ou nd ar y i s a s tr ai gh t l in e . A l in ea r d ec is io n"
b ou nd ar yi sc al le da li ne ar se pa ra to ra nd da ta th at ad mi ts uc ha se pa ra to ra re ca ll ed l in ea rl y
LINEARSEPARATOR
LINEAR s ep ar ab le . Th el in ea rs ep ar at or in th is ca se is de fi ne db y
SEPARABILITY
x = 1.7 x −4.9 o r −4.9+1.7 x −x = 0.
2 1 1 2
"Th ee xp lo si on s ,w hi ch we wa nt to cl as si fy wi th va lu e 1,a re to th er ig ht of th is li ne wi th hi gh er"
"v al ue s o f x a nd l ow er v al ue s o f x , s o t he y a re p oi nt s f or w hi ch −4.9+1.7 x −x > 0,"
1 2 1 2
w hi le e ar th qu ak es h av e −4.9 + 1.7 x − x < 0. Us in g t he c on ve nt io n o f a d um my i np ut
1 2
"x =1,w ec an wr it et he cl as si fi ca ti on h yp ot he si s a s"
0
h (x)= 1 i fw·x ≥ 0 a nd 0 o th er wi se .
w
724 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"Al te rn at iv el y , w e c an t hi nk o f h a s t he r es ul t o f p as si ng t he l in ea r f un ct io n w·x t hr ou gh a"
THRESHOLD t hr es ho ld fu nc ti on:
FUNCTION
h (x)= Th re sh ol d(w·x)w he re Th re sh ol d(z)=1 i fz ≥0 a nd 0 o th er wi se .
w
Th et hr es ho ld f un ct io n i ss ho wn in Fi gu re 18.17(a).
"No w t ha t t he h yp ot he si s h (x) h as a w el l-d ef in ed m at he ma ti ca l f or m , w e c an t hi nk"
w
"a bo ut c ho os in g t he w ei gh ts w t o m in im iz e t he l os s . In Se ct io ns 18.6.1 a nd 18.6.2, w e d id"
t hi s b ot h i n c lo se d f or m (b y s et ti ng t he g ra di en t t o z er o a nd s ol vi ng f or t he w ei gh ts) a nd
"b y g ra di en t d es ce nt i n w ei gh t s pa ce . He re , w e c an no t d o e it he r o f t ho se t hi ng s b ec au se t he"
"g ra di en t i s z er o a lm os t e ve ry wh er e i n w ei gh t s pa ce e xc ep t a t t ho se p oi nt s w he re w·x=0,"
a nd at th os ep oi nt st he gr ad ie nt is un de fi ne d .
"Th er e i s , h ow ev er , a s im pl e w ei gh t u pd at e r ul e t ha t c on ve rg es t o a s ol ut io n—t ha t i s , a"
l in ea rs ep ar at or th at cl as si fi es th ed at ap er fe ct ly–p ro vi de d t he da ta ar el in ea rl ys ep ar ab le . Fo r
"a si ng le ex am pl e(x ,y),w eh av e"
w ← w +α(y−h (x))×x (18.7)
i i w i
"w hi ch is es se nt ia ll yi de nt ic al to th e Eq ua ti on(18.6),t he up da te ru le fo rl in ea rr eg re ss io n ! Th is"
"PERCEPTRON r ul ei sc al le dt he pe rc ep tr on le ar ni ng ru le ,f or re as on st ha tw il lb ec om ec le ar in Se ct io n 18.7."
LEARNINGRULE
"Be ca us e w ea re co ns id er in g a 0/1 c la ss if ic at io n p ro bl em , h ow ev er , t he be ha vi or i ss om ew ha t"
"d if fe re nt . Bo th th et ru ev al ue y an dt he hy po th es is ou tp ut h (x)a re ei th er 0 o r 1,s ot he re ar e"
w
t hr ee po ss ib il it ie s:
"• If th eo ut pu ti sc or re ct , i .e .,y=h (x),t he nt he we ig ht sa re no tc ha ng ed ."
w
"• If yi s 1 b ut h (x)i s 0,t he nw i si nc re as ed wh en th ec or re sp on di ng i np ut x i sp os it iv e"
w i i
"a nd d ec re as ed w he n x i s n eg at iv e . Th is m ak es s en se , b ec au se w e w an t t o m ak e w·x"
i
b ig ge rs ot ha th (x)o ut pu ts a 1.
w
"• If yi s 0 b ut h (x)i s 1,t he nw i sd ec re as ed wh en th ec or re sp on di ng in pu tx i sp os it iv e"
w i i
"a nd i nc re as ed w he n x i s n eg at iv e . Th is m ak es s en se , b ec au se w e w an t t o m ak e w·x"
i
s ma ll er so th at h (x)o ut pu ts a 0.
w
"Ty pi ca ll y t he l ea rn in g r ul e i s a pp li ed o ne e xa mp le a t a t im e , c ho os in g e xa mp le s a t r an do m"
(a s i n s to ch as ti c g ra di en t d es ce nt). Fi gu re 18.16(a) s ho ws a tr ai ni ng c ur ve f or th is l ea rn in g
TRAININGCURVE
r ul e a pp li ed t o t he e ar th qu ak e/e xp lo si on d at a s ho wn i n Fi gu re 18.15(a). A t ra in in g c ur ve
m ea su re s t he c la ss if ie r p er fo rm an ce o n a f ix ed t ra in in g s et a s t he l ea rn in g p ro ce ss p ro ce ed s
o n t ha t s am e t ra in in g s et . Th e c ur ve s ho ws t he u pd at e r ul e c on ve rg in g t o a z er o-e rr or l in ea r
"s ep ar at or . Th e“c on ve rg en ce”p ro ce ss is n’t ex ac tl yp re tt y ,b ut it al wa ys wo rk s . Th is pa rt ic ul ar"
"r un ta ke s 657 s te ps to co nv er ge ,f or ad at as et wi th 63 e xa mp le s ,s oe ac he xa mp le is pr es en te d"
"r ou gh ly 10 t im es on av er ag e . Ty pi ca ll y , t he va ri at io n a cr os sr un si sv er yl ar ge ."
We h av e s ai d t ha t t he p er ce pt ro n l ea rn in g r ul e c on ve rg es t o a p er fe ct l in ea r s ep ar at or
"w he n t he d at a p oi nt s a re l in ea rl y s ep ar ab le , b ut w ha t i f t he y a re n ot ? Th is s it ua ti on i s a ll"
"t oo c om mo n i n t he r ea l w or ld . Fo r e xa mp le , Fi gu re 18.15(b) a dd s b ac k i n t he d at a p oi nt s"
l ef t o ut b y Ke be as y e t a l . (1998) w he n t he y p lo tt ed t he d at a s ho wn i n Fi gu re 18.15(a). In
"Fi gu re 18.16(b), w e s ho w t he p er ce pt ro n l ea rn in g r ul e f ai li ng t o c on ve rg e e ve n a ft er 10,000"
"s te ps: e ve n t ho ug h i t h it s t he m in im um-e rr or s ol ut io n (t hr ee e rr or s) m an y t im es , t he a lg o-"
"r it hm k ee ps c ha ng in g t he w ei gh ts . In g en er al , t he p er ce pt ro n r ul e m ay n ot c on ve rg e t o a"
Se ct io n 18.6. Re gr es si on an d Cl as si fi ca ti on w it h Li ne ar Mo de ls 725
1
0.9
0.8
0.7
0.6
0.5
0.4
0 100 200 300 400 500 600 700
t ce rr oc
n oi tr op or P
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20000 40000 60000 80000 100000
Nu mb er o f w ei gh t u pd at es
t ce rr oc
n oi tr op or P
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20000 40000 60000 80000 100000
Nu mb er o f w ei gh t u pd at es
t ce rr oc
n oi tr op or P
Nu mb er o f w ei gh t u pd at es
(a) (b) (c)
Fi gu re 18.16 (a) Pl ot o f t ot al t ra in in g-s et ac cu ra cy vs . n um be ro f i te ra ti on st hr ou gh th e
"t ra in in g s et f or t he p er ce pt ro n l ea rn in g r ul e , g iv en t he e ar th qu ak e/e xp lo si on d at a i n Fi g-"
"u re 18.15(a). (b) Th e s am e p lo t f or t he n oi sy , n on-s ep ar ab le d at a i n Fi gu re 18.15(b); n ot e"
"t he ch an ge in sc al e o ft he x-a xi s . (c)Th es am e p lo ta si n(b),w it ha l ea rn in gr at es ch ed ul e"
α(t)=1000/(1000+t).
"s ta bl e s ol ut io n f or f ix ed l ea rn in g r at e α, b ut i f α d ec ay s a s O(1/t) w he re t i s t he i te ra ti on"
"n um be r ,t he nt he ru le ca nb es ho wn to co nv er ge t oa mi ni mu m-e rr or so lu ti on w he ne xa mp le s"
a re p re se nt ed i n a r an do m s eq ue nc e .7 It c an a ls o b e s ho wn t ha t f in di ng t he m in im um-e rr or
"s ol ut io n i s NP-h ar d ,s oo ne ex pe ct st ha tm an yp re se nt at io ns o ft he ex am pl es wi ll be re qu ir ed"
f or c on ve rg en ce t o b e a ch ie ve d . Fi gu re 18.16(b) s ho ws t he t ra in in g p ro ce ss w it h a l ea rn in g
"r at e s ch ed ul e α(t)=1000/(1000 + t): c on ve rg en ce i s n ot p er fe ct a ft er 100,000 i te ra ti on s ,"
b ut it is mu ch be tt er th an th ef ix ed-αc as e .
18.6.4 Li ne ar cl as si fi ca ti on wi th lo gi st ic re gr es si on
We h av e s ee n t ha t p as si ng t he o ut pu t o f a l in ea r f un ct io n t hr ou gh t he t hr es ho ld f un ct io n
c re at es a l in ea r c la ss if ie r ; y et t he h ar d n at ur e o f t he t hr es ho ld c au se s s om e p ro bl em s: t he
h yp ot he si s h (x)i sn ot di ff er en ti ab le a nd is in fa ct ad is co nt in uo us f un ct io n o fi ts in pu ts an d
w
i ts we ig ht s ;t hi sm ak es le ar ni ng wi th th ep er ce pt ro nr ul ea ve ry un pr ed ic ta bl e a dv en tu re . Fu r-
"t he rm or e , t he l in ea r c la ss if ie r a lw ay s a nn ou nc es a co mp le te ly c on fi de nt p re di ct io n o f 1 o r 0,"
"e ve n f or e xa mp le s t ha t a re v er y c lo se t o t he b ou nd ar y ; i n m an y s it ua ti on s , w e r ea ll y n ee d"
m or eg ra da te dp re di ct io ns .
Al lo ft he se is su es ca nb er es ol ve dt oa la rg ee xt en tb ys of te ni ng th et hr es ho ld fu nc ti on—
"a pp ro xi ma ti ng t he h ar d t hr es ho ld w it h a c on ti nu ou s , d if fe re nt ia bl e f un ct io n . In Ch ap te r 14"
"(p ag e 522), w e s aw t wo f un ct io ns t ha t l oo k l ik e s of t t hr es ho ld s: t he i nt eg ra l o f t he s ta nd ar d"
n or ma l d is tr ib ut io n (u se d f or t he p ro bi t m od el) a nd t he l og is ti c f un ct io n (u se d f or t he l og it
"m od el). Al th ou gh t he tw of un ct io ns a re ve ry si mi la ri ns ha pe , t he lo gi st ic f un ct io n"
1
Lo gi st ic(z) =
1+e−z
P P
"7 Te ch ni ca ll y , w e r eq ui re t ha t ∞ α(t)=∞ a nd ∞ α2(t) < ∞. Th e d ec ay α(t)=O(1/t) s at is fi es"
t=1 t=1
t he se co nd it io ns .
726 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
1 1
1
0.8
0.6
0.5 0.5 0.4
0.2 -4
-2
0 -2 0 x 2 4 6 10 8 6 4 2 0 x 2
1
0 0
-8 -6 -4 -2 0 2 4 6 8 -6 -4 -2 0 2 4 6
(a) (b) (c)
Fi gu re 18.17 (a) Th e h ar d t hr es ho ld f un ct io n Th re sh ol d(z) w it h 0/1 o ut pu t . No te
"t ha t t he f un ct io n i s n on di ff er en ti ab le a t z=0. (b) Th e l og is ti c f un ct io n , Lo gi st ic(z) ="
"1 , a ls o k no wn a s t he s ig mo id f un ct io n . (c) Pl ot o f a l og is ti c r eg re ss io n h yp ot he si s"
1+e−z
h w(x)=Lo gi st ic(w·x)f or th ed at as ho wn in Fi gu re 18.15(b).
h as m or e c on ve ni en t m at he ma ti ca l p ro pe rt ie s . Th e f un ct io n i s s ho wn i n Fi gu re 18.17(b).
"Wi th th el og is ti cf un ct io n r ep la ci ng t he th re sh ol d f un ct io n , w en ow ha ve"
1
h (x)= Lo gi st ic(w·x) = .
w 1+e−w·x
An ex am pl eo fs uc ha hy po th es is fo rt he tw o-i np ut ea rt hq ua ke/e xp lo si on p ro bl em is sh ow ni n
"Fi gu re 18.17(c). No ti ce t ha t t he o ut pu t , b ei ng a nu mb er be tw ee n 0 a nd 1, c an b ei nt er pr et ed"
a s a p ro ba bi li ty o f b el on gi ng t o t he c la ss l ab el ed 1. Th e h yp ot he si s f or ms a s of t b ou nd ar y
i n t he i np ut s pa ce a nd g iv es a p ro ba bi li ty o f 0.5 f or a ny i np ut a t t he c en te r o f t he b ou nd ar y
"r eg io n ,a nd ap pr oa ch es 0 o r 1 a sw em ov ea wa yf ro mt he bo un da ry ."
Th ep ro ce ss o ff it ti ng th ew ei gh ts o ft hi s m od el to mi ni mi ze l os so na da ta se ti sc al le d
LOGISTIC l og is ti cr eg re ss io n . Th er ei sn oe as yc lo se d-f or ms ol ut io nt of in dt he op ti ma lv al ue of ww it h
REGRESSION
"t hi sm od el ,b ut th eg ra di en t d es ce nt c om pu ta ti on i ss tr ai gh tf or wa rd . Be ca us eo ur hy po th es es"
"n o l on ge r o ut pu t j us t 0 o r 1, w e w il l u se t he L l os s f un ct io n ; a ls o , t o k ee p t he f or mu la s"
2
(c id:2)
"r ea da bl e , w e’l lu se g t os ta nd fo rt he lo gi st ic fu nc ti on , w it hg i ts de ri va ti ve ."
"Fo r a s in gl e e xa mp le (x ,y), t he d er iv at io n o f t he g ra di en t i s t he s am e a s f or l in ea r"
r eg re ss io n (Eq ua ti on (18.5)) u p t o t he p oi nt w he re t he a ct ua l f or m o f h is i ns er te d . (Fo rt hi s
(c id:2)
"d er iv at io n , w ew il ln ee dt he ch ai nr ul e: ∂g(f(x))/∂x=g (f(x))∂f(x)/∂x .) We ha ve"
CHAINRULE
∂ ∂
Lo ss(w) = (y−h (x))2
w
∂w ∂w
i i
∂
= 2(y−h (x))× (y−h (x))
w w
∂w
i
∂
= −2(y−h (x))×g(c id:2) (w·x)× w·x
w
∂w
i
= −2(y−h (x))×g(c id:2) (w·x)×x .
w i
Se ct io n 18.7. Ar ti fi ci al Ne ur al Ne tw or ks 727
1
0.9
0.8
0.7
0.6
0.5
0.4
0 1000 2000 3000 4000 5000
e lp ma xe
r ep
r or re
d er au q S
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20000 40000 60000 80000 100000
Nu mb er o f w ei gh t u pd at es
e lp ma xe
r ep
r or re
d er au q S
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20000 40000 60000 80000 100000
Nu mb er o f w ei gh t u pd at es
e lp ma xe
r ep
r or re
d er au q S
Nu mb er o f w ei gh t u pd at es
(a) (b) (c)
Fi gu re 18.18 Re pe at o f t he e xp er im en ts i n Fi gu re 18.16 u si ng l og is ti c r eg re ss io n a nd
"s qu ar ed er ro r . Th ep lo ti n(a)c ov er s 5000 i te ra ti on sr at he r t ha n 1000,w hi le(b)a nd(c)u se"
t he sa me sc al e .
"Th ed er iv at iv e g(c id:2) o ft he lo gi st ic f un ct io ns at is fi es g(c id:2) (z)=g(z)(1−g(z)), s ow eh av e"
g(c id:2) (w·x) = g(w·x)(1−g(w·x)) =h (x)(1−h (x))
w w
s ot he we ig ht up da te fo rm in im iz in gt he lo ss is
w ← w +α(y−h (x))×h (x)(1−h (x))×x . (18.8)
i i w w w i
Re pe at in g t he e xp er im en ts o f Fi gu re 18.16 w it h l og is ti c r eg re ss io n i ns te ad o f t he l in ea r
"t hr es ho ld c la ss if ie r , w e o bt ai n t he r es ul ts s ho wn i n Fi gu re 18.18. In (a), t he l in ea rl y s ep-"
"a ra bl e c as e , l og is ti c r eg re ss io n i s s om ew ha t s lo we r t o c on ve rg e , b ut b eh av es m uc h m or e"
"p re di ct ab ly . In (b) a nd (c), w he re t he d at a a re n oi sy a nd n on se pa ra bl e , l og is ti c r eg re ss io n"
c on ve rg es f ar mo re qu ic kl y a nd re li ab ly . Th es ea dv an ta ge s t en dt oc ar ry ov er in to re al-w or ld
a pp li ca ti on s a nd l og is ti c r eg re ss io n h as b ec om e o ne o f t he m os t p op ul ar c la ss if ic at io n t ec h-
"n iq ue sf or pr ob le ms in me di ci ne ,m ar ke ti ng an ds ur ve ya na ly si s ,c re di ts co ri ng ,p ub li ch ea lt h ,"
a nd ot he ra pp li ca ti on s .
18.7 ARTIFICIAL NEURAL NETWORKS
"We t ur n n ow t o w ha t s ee ms t o b e a s om ew ha t u nr el at ed t op ic: t he b ra in . In f ac t , a s w e"
"w il l s ee , t he t ec hn ic al i de as w e h av e d is cu ss ed s o f ar i n t hi s c ha pt er t ur n o ut t o b e u se fu l i n"
"b ui ld in gm at he ma ti ca lm od el so ft he br ai n’s ac ti vi ty ;c on ve rs el y , t hi nk in ga bo ut th eb ra in ha s"
h el pe di ne xt en di ng th es co pe of th et ec hn ic al i de as .
"Ch ap te r 1 t ou ch ed b ri ef ly o n t he b as ic f in di ng s o f n eu ro sc ie nc e—i n p ar ti cu la r , t he h y-"
p ot he si s t ha t m en ta l a ct iv it y c on si st s p ri ma ri ly o f e le ct ro ch em ic al a ct iv it y i n n et wo rk s o f
b ra in c el ls c al le d n eu ro ns . (Fi gu re 1.2 o n p ag e 11 s ho we d a s ch em at ic d ia gr am o f a ty pi ca l
"n eu ro n .) In sp ir ed b y t hi s h yp ot he si s , s om e o f t he e ar li es t AI w or k a im ed t o c re at e a rt if ic ia l"
"n eu ra l n et wo rk s . (Ot he r n am es f or t he f ie ld i nc lu de c on ne ct io ni sm , p ar al le l d is tr ib ut ed"
NEURALNETWORK
"p ro ce ss in g , a nd n eu ra l c om pu ta ti on .) Fi gu re 18.19 s ho ws a s im pl e m at he ma ti ca l m od el"
"o f t he n eu ro n d ev is ed b y Mc Cu ll oc h a nd Pi tt s (1943). Ro ug hl y s pe ak in g , i t “f ir es” w he n a"
"l in ea rc om bi na ti on of it si np ut se xc ee ds so me(h ar do rs of t) t hr es ho ld—t ha t i s ,i ti mp le me nt s"
728 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
Bi as We ig ht
a 0 = 1 w a j= g(i n j)
"0,j"
g
i n
w Σ j
"i ,j"
a a
i j
In pu t In pu t Ac ti va ti on Ou tp ut
Ou tp ut
Li nk s Fu nc ti on Fu nc ti on Li nk s
Fi gu re(c id:2)18.19 As im pl em at he ma ti ca lm od el fo ra ne ur on . Th eu ni t’s ou tp ut ac ti va ti on is
n
"a j=g( i=0 w i ,j ai),w he re ai is th eo ut pu ta ct iv at io no fu ni ti an dw i ,j i st he we ig ht on th e"
l in kf ro mu ni ti to th is un it .
a l in ea r c la ss if ie r o f t he k in d d es cr ib ed i n t he p re ce di ng s ec ti on . A n eu ra l n et wo rk i s j us t a
c ol le ct io n o f u ni ts c on ne ct ed t og et he r ; t he p ro pe rt ie s o f t he n et wo rk a re d et er mi ne d b y i ts
t op ol og y a nd th ep ro pe rt ie s o ft he“n eu ro ns .”
"Si nc e 1943, m uc h m or e d et ai le d a nd r ea li st ic m od el s h av e b ee n d ev el op ed , b ot h f or"
"n eu ro ns a nd f or l ar ge r s ys te ms i n t he b ra in , l ea di ng t o t he m od er n f ie ld o f c om pu ta ti on al"
"COMPUTATIONAL n eu ro sc ie nc e . On t he o th er h an d , r es ea rc he rs i n AI a nd s ta ti st ic s b ec am e i nt er es te d i n t he"
NEUROSCIENCE
"m or ea bs tr ac tp ro pe rt ie s o fn eu ra ln et wo rk s , s uc ha st he ir ab il it yt op er fo rm di st ri bu te d c om-"
"p ut at io n , t ot ol er at e n oi sy in pu ts , a nd to le ar n . Al th ou gh w eu nd er st an d n ow th at ot he rk in ds"
"o f s ys te ms—i nc lu di ng Ba ye si an n et wo rk s—h av e t he se p ro pe rt ie s , n eu ra l n et wo rk s r em ai n"
o ne o f t he m os t p op ul ar a nd e ff ec ti ve f or ms o f l ea rn in g s ys te m a nd a re w or th y o f s tu dy i n
t he ir ow nr ig ht .
18.7.1 Ne ur al n et wo rk s tr uc tu re s
Ne ur al n et wo rk s a re c om po se d o f n od es o r u ni ts (s ee Fi gu re 18.19) c on ne ct ed b y d ir ec te d
UNIT
l in ks . Al in kf ro mu ni ti to un it j s er ve st op ro pa ga te th ea ct iv at io na f ro mi to j .8 Ea ch li nk
LINK i
"a ls o h as an um er ic w ei gh tw a ss oc ia te d w it hi t , w hi ch d et er mi ne s t he s tr en gt h a nd si gn o f"
"ACTIVATION i ,j"
"t he co nn ec ti on . Ju st as in li ne ar re gr es si on m od el s ,e ac hu ni th as ad um my in pu ta =1 w it h"
WEIGHT 0
a na ss oc ia te d w ei gh tw . Ea ch un it j f ir st co mp ut es aw ei gh te ds um of it si np ut s:
"0,j"
(c id:12)n
i n = w a .
"j i ,j i"
i=0
ACTIVATION Th en it ap pl ie sa na ct iv at io n f un ct io ng t ot hi ss um to de ri ve th eo ut pu t:
FUNCTION (c id:31)
(c id:12)n
a = g(i n )= g w a . (18.9)
"j j i ,j i"
i=0
"8 An ot eo nn ot at io n: f or th is se ct io n ,w ea re fo rc ed to su sp en do ur us ua lc on ve nt io ns . In pu ta tt ri bu te sa re st il l"
"i nd ex ed b y i , s o t ha t a n “e xt er na l” a ct iv at io n a i i s g iv en b y i np ut x i ; b ut i nd ex j w il l r ef er t o i nt er na l u ni ts"
"r at he rt ha ne xa mp le s . Th ro ug ho ut th is se ct io n ,t he ma th em at ic al de ri va ti on sc on ce rn as in gl eg en er ic ex am pl ex ,"
o mi tt in gt he us ua ls um ma ti on so ve re xa mp le st oo bt ai nr es ul ts fo rt he wh ol ed at as et .
Se ct io n 18.7. Ar ti fi ci al Ne ur al Ne tw or ks 729
"Th ea ct iv at io n f un ct io n g i st yp ic al ly e it he ra ha rd th re sh ol d (Fi gu re 18.17(a)), i nw hi ch ca se"
"t he un it is ca ll ed ap er ce pt ro n ,o ra lo gi st ic fu nc ti on(Fi gu re 18.17(b)),i nw hi ch ca se th et er m"
PERCEPTRON
SIGMOID s ig mo id p er ce pt ro n i s s om et im es u se d . Bo th o f t he se n on li ne ar a ct iv at io n f un ct io n e ns ur e
PERCEPTRON
t he im po rt an tp ro pe rt yt ha tt he en ti re ne tw or ko fu ni ts ca nr ep re se nt an on li ne ar fu nc ti on(s ee
"Ex er ci se 18.22). As me nt io ne di nt he di sc us si on of lo gi st ic re gr es si on(p ag e 725),t he lo gi st ic"
a ct iv at io n f un ct io nh as th ea dd ed ad va nt ag e o fb ei ng di ff er en ti ab le .
"Ha vi ng d ec id ed o n t he m at he ma ti ca l m od el f or i nd iv id ua l “n eu ro ns ,” t he n ex t t as k i s"
t o c on ne ct t he m t og et he r t o f or m a n et wo rk . Th er e a re t wo f un da me nt al ly d is ti nc t w ay s t o
"FEED-FORWARD d o t hi s . A f ee d-f or wa rd n et wo rk h as c on ne ct io ns o nl y i n o ne d ir ec ti on—t ha t i s , i t f or ms a"
NETWORK
d ir ec te da cy cl ic gr ap h . Ev er yn od er ec ei ve si np ut fr om“u ps tr ea m”n od es an dd el iv er so ut pu t
t o“d ow ns tr ea m” n od es ; t he re ar en ol oo ps . Af ee d-f or wa rd n et wo rk re pr es en ts a fu nc ti on o f
"i ts cu rr en ti np ut ;t hu s ,i th as no in te rn al st at eo th er th an th ew ei gh ts th em se lv es . Ar ec ur re nt"
"RECURRENT n et wo rk , o n t he o th er h an d , f ee ds i ts o ut pu ts b ac k i nt o i ts o wn i np ut s . Th is m ea ns t ha t"
NETWORK
t he ac ti va ti on l ev el so ft he ne tw or kf or ma dy na mi ca l s ys te m t ha tm ay re ac h a st ab le st at eo r
"e xh ib it os ci ll at io ns or ev en ch ao ti cb eh av io r . Mo re ov er ,t he re sp on se of th en et wo rk to ag iv en"
"i np ut d ep en ds o n i ts i ni ti al s ta te , w hi ch m ay d ep en d o n p re vi ou s i np ut s . He nc e , r ec ur re nt"
n et wo rk s (u nl ik e f ee d-f or wa rd n et wo rk s) c an s up po rt s ho rt-t er m m em or y . Th is m ak es t he m
"m or e i nt er es ti ng a s m od el s o f t he b ra in , b ut a ls o m or e d if fi cu lt t o u nd er st an d . Th is s ec ti on"
w il l c on ce nt ra te o n f ee d-f or wa rd n et wo rk s ; s om e p oi nt er s f or f ur th er r ea di ng o n r ec ur re nt
n et wo rk sa re gi ve na tt he en do ft he ch ap te r .
"Fe ed-f or wa rd ne tw or ks ar eu su al ly ar ra ng ed in l ay er s ,s uc ht ha te ac hu ni tr ec ei ve si np ut"
LAYERS
"o nl yf ro mu ni ts in th ei mm ed ia te ly pr ec ed in gl ay er . In th en ex tt wo su bs ec ti on s , w ew il ll oo k"
"a t s in gl e-l ay er n et wo rk s , i n w hi ch e ve ry u ni t c on ne ct s d ir ec tl y f ro m t he n et wo rk’s i np ut s t o"
"i ts ou tp ut s , a nd mu lt il ay er ne tw or ks , w hi ch ha ve on eo rm or e l ay er so fh id de nu ni ts th at ar e"
HIDDENUNIT
"n ot c on ne ct ed t ot he o ut pu ts o f t he n et wo rk . So fa ri nt hi s c ha pt er , w eh av e c on si de re d o nl y"
"l ea rn in gp ro bl em sw it ha si ng le ou tp ut va ri ab le y ,b ut ne ur al ne tw or ks ar eo ft en us ed in ca se s"
"w he re m ul ti pl e o ut pu ts a re a pp ro pr ia te . Fo r e xa mp le , i f w e w an t t o t ra in a n et wo rk t o a dd"
"t wo in pu t b it s , e ac h a 0 o ra 1, w ew il ln ee d o ne ou tp ut f or th es um b it a nd on e f or th ec ar ry"
"b it . Al so , w he nt he le ar ni ng p ro bl em i nv ol ve s c la ss if ic at io n i nt om or et ha n t wo cl as se s—f or"
"e xa mp le ,w he nl ea rn in gt oc at eg or iz ei ma ge so fh an dw ri tt en d ig it s—i ti sc om mo nt ou se on e"
o ut pu tu ni tf or ea ch cl as s .
18.7.2 Si ng le-l ay er fe ed-f or wa rd n eu ra l n et wo rk s (p er ce pt ro ns)
An et wo rk wi th al lt he in pu ts co nn ec te dd ir ec tl yt ot he ou tp ut si sc al le da si ng le-l ay er ne ur al
"PERCEPTRON n et wo rk , o r a p er ce pt ro n n et wo rk . Fi gu re 18.20 s ho ws a s im pl e t wo-i np ut , t wo-o ut pu t"
NETWORK
"p er ce pt ro nn et wo rk . Wi th su ch an et wo rk ,w em ig ht ho pe to le ar nt he tw o-b it ad de rf un ct io n ,"
f or ex am pl e . He re ar ea ll th et ra in in gd at aw ew il ln ee d:
x x y (c ar ry) y (s um)
1 2 3 4
0 0 0 0
0 1 0 1
1 0 0 1
1 1 1 0
730 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
Th ef ir st th in gt on ot ic ei st ha ta pe rc ep tr on ne tw or kw it hm ou tp ut si sr ea ll ym se pa ra te
"n et wo rk s , b ec au se e ac h w ei gh t a ff ec ts o nl y o ne o f t he o ut pu ts . Th us , t he re w il l b e m s ep a-"
"r at e t ra in in g p ro ce ss es . Fu rt he rm or e , d ep en di ng o n t he t yp e o f a ct iv at io n f un ct io n u se d , t he"
t ra in in gp ro ce ss es wi ll be ei th er th e p er ce pt ro nl ea rn in gr ul e(Eq ua ti on(18.7)o np ag e 724)
o rg ra di en t d es ce nt ru le fo rt he l og is ti c r eg re ss io n (Eq ua ti on(18.8)o np ag e 727).
"If yo ut ry ei th er me th od on th et wo-b it-a dd er da ta ,s om et hi ng in te re st in g h ap pe ns . Un it"
"3 l ea rn s t he c ar ry f un ct io n e as il y , b ut u ni t 4 c om pl et el y f ai ls t o l ea rn t he s um f un ct io n . No ,"
u ni t 4 i sn ot d ef ec ti ve ! Th e p ro bl em i sw it h t he s um f un ct io n i ts el f . We sa wi n Se ct io n 18.6
t ha tl in ea rc la ss if ie rs(w he th er ha rd or so ft)c an re pr es en t l in ea rd ec is io nb ou nd ar ie si nt he in-
"p ut sp ac e . Th is wo rk sf in ef or th ec ar ry fu nc ti on ,w hi ch is al og ic al AND(s ee Fi gu re 18.21(a))."
"Th es um f un ct io n , h ow ev er , i s a n XOR (e xc lu si ve OR)o f t he t wo i np ut s . As Fi gu re 18.21(c)"
"i ll us tr at es , t hi sf un ct io n i sn ot li ne ar ly s ep ar ab le s ot he p er ce pt ro n c an no tl ea rn it ."
Th e l in ea rl y s ep ar ab le f un ct io ns c on st it ut e j us t a s ma ll f ra ct io n o f a ll Bo ol ea n f un c-
t io ns ; Ex er ci se 18.20 a sk sy ou t oq ua nt if y t hi sf ra ct io n . Th ei na bi li ty o fp er ce pt ro ns t ol ea rn
e ve n s uc h s im pl e f un ct io ns a s XOR w as a s ig ni fi ca nt s et ba ck t o t he n as ce nt n eu ra l n et wo rk
w w w
"1,3 1,3 3,5"
1 3 1 3 5
w w w
"1,4 1,4 3,6"
w w w
"2,3 2,3 4,5"
2 4 2 4 6
w w w
"2,4 2,4 4,6"
(a) (b)
Fi gu re 18.20 (a)Ap er ce pt ro nn et wo rk wi th tw oi np ut sa nd tw oo ut pu tu ni ts .(b)An eu ra l
"n et wo rk wi th tw oi np ut s ,o ne hi dd en la ye ro ft wo un it s ,a nd on eo ut pu tu ni t . No ts ho wn ar e"
t he du mm yi np ut sa nd th ei ra ss oc ia te dw ei gh ts .
x x x
1 1 1
1 1 1
?
0 0 0
0 1 x 2 0 1 x 2 0 1 x 2
(a)x a nd x (b)x o rx (c)x x or x
1 2 1 2 1 2
Fi gu re 18.21 Li ne ar se pa ra bi li ty in th re sh ol dp er ce pt ro ns . Bl ac kd ot si nd ic at ea po in ti n
"t he in pu ts pa ce wh er et he va lu eo ft he fu nc ti on is 1,a nd wh it ed ot si nd ic at ea po in tw he re th e"
"v al ue is 0. Th ep er ce pt ro nr et ur ns 1 o nt he re gi on on th en on-s ha de ds id eo ft he li ne . In(c),"
n os uc hl in ee xi st st ha tc or re ct ly cl as si fi es th ei np ut s .
Se ct io n 18.7. Ar ti fi ci al Ne ur al Ne tw or ks 731
1
0.9
0.8
0.7
0.6
0.5
0.4
0 10 20 30 40 50 60 70 80 90 100
t es
t se t
n o
t ce rr oc
n oi tr op or P
1
0.9
0.8
0.7
Pe rc ep tr on 0.6
De ci si on t re e
0.5
0.4
0 10 20 30 40 50 60 70 80 90 100
Tr ai ni ng s et s iz e
t es
t se t
n o
t ce rr oc
n oi tr op or P
Pe rc ep tr on
De ci si on t re e
Tr ai ni ng s et s iz e
(a) (b)
Fi gu re 18.22 Co mp ar in gt he pe rf or ma nc eo fp er ce pt ro ns an dd ec is io nt re es . (a)Pe rc ep-
t ro ns ar eb et te ra tl ea rn in gt he ma jo ri ty fu nc ti on of 11 i np ut s . (b)De ci si on tr ee sa re be tt er at
l ea rn in gt he Wi ll Wa it p re di ca te in th er es ta ur an te xa mp le .
"c om mu ni ty i n t he 1960 s . Pe rc ep tr on s a re f ar f ro m u se le ss , h ow ev er . Se ct io n 18.6.4 n ot ed"
"t ha t l og is ti c r eg re ss io n (i .e ., t ra in in g a si gm oi d p er ce pt ro n) i s e ve nt od ay a v er y p op ul ar a nd"
"e ff ec ti ve t oo l . Mo re ov er , a p er ce pt ro n c an r ep re se nt s om e q ui te “c om pl ex” Bo ol ea n f un c-"
"t io ns v er y c om pa ct ly . Fo r e xa mp le , t he m aj or it y f un ct io n , w hi ch o ut pu ts a 1 o nl y i f m or e"
"t ha n h al f o fi ts ni np ut s a re 1, c an be re pr es en te d b ya pe rc ep tr on w it he ac h w =1 a nd wi th"
i
w =−n/2. Ad ec is io nt re ew ou ld ne ed ex po ne nt ia ll ym an yn od es to re pr es en tt hi sf un ct io n .
0
Fi gu re 18.22 s ho ws t he l ea rn in g c ur ve f or a p er ce pt ro n o n t wo d if fe re nt p ro bl em s . On
"t he l ef t , w e s ho w t he c ur ve f or l ea rn in g t he m aj or it y f un ct io n w it h 11 Bo ol ea n i np ut s (i .e .,"
"t he fu nc ti on ou tp ut sa 1 i f 6 o rm or ei np ut sa re 1). As we wo ul de xp ec t ,t he pe rc ep tr on le ar ns"
"t he f un ct io n q ui te q ui ck ly , b ec au se t he m aj or it y f un ct io n i s l in ea rl y s ep ar ab le . On t he o th er"
"h an d ,t he de ci si on-t re e l ea rn er ma ke sn op ro gr es s , b ec au se t he ma jo ri ty fu nc ti on is ve ry ha rd"
"(a lt ho ug hn ot im po ss ib le) t or ep re se nt as ad ec is io nt re e . On th er ig ht ,w eh av et he re st au ra nt"
"e xa mp le . Th e s ol ut io n p ro bl em i s e as il y r ep re se nt ed a s a d ec is io n t re e , b ut i s n ot l in ea rl y"
s ep ar ab le . Th eb es tp la ne th ro ug h t he da ta co rr ec tl yc la ss if ie so nl y 65%.
18.7.3 Mu lt il ay er fe ed-f or wa rd n eu ra l n et wo rk s
"(Mc Cu ll oc h a nd Pi tt s ,1943)w er ew el la wa re th at as in gl et hr es ho ld u ni tw ou ld no ts ol ve al l"
"t he ir p ro bl em s . In f ac t , t he ir p ap er p ro ve s t ha t s uc h a u ni t c an r ep re se nt t he b as ic Bo ol ea n"
"f un ct io ns AND , OR ,a nd NOT a nd th en g oe s o nt oa rg ue t ha t a ny de si re d f un ct io na li ty c an be"
o bt ai ne db yc on ne ct in g l ar ge nu mb er so fu ni ts in to(p os si bl y r ec ur re nt)n et wo rk so fa rb it ra ry
d ep th . Th ep ro bl em w as th at no bo dy kn ew ho wt ot ra in su ch ne tw or ks .
Th is t ur ns o ut t o b e a n e as y p ro bl em i f w e t hi nk o f a n et wo rk t he r ig ht w ay: a s a
f un ct io n h (x)p ar am et er iz ed b yt he we ig ht s w . Co ns id er th es im pl en et wo rk s ho wn in Fi g-
w
"u re 18.20(b), w hi ch h as tw oi np ut u ni ts , t wo hi dd en u ni ts , a nd t wo ou tp ut u ni t . (In ad di ti on ,"
"e ac h u ni t h as a d um my i np ut f ix ed a t 1.) Gi ve n a n i np ut v ec to r x=(x ,x ), t he a ct iv at io ns"
1 2
732 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"h (x ,x) h (x ,x)"
W 1 2 W 1 2
1 1
0.8 0.8
0.6 0.6
0.4 0.4
0.2 0.2
4 4
0 2 0 2
-4 -2 x 10 2 4 -4 -2 0 x 2 -4 -2 x 10 2 4 -4 -2 0 x 2
(a) (b)
Fi gu re 18.23 (a)Th er es ul to fc om bi ni ng tw oo pp os it e-f ac in gs of tt hr es ho ld fu nc ti on st o
p ro du ce ar id ge .(b)Th er es ul to fc om bi ni ng tw or id ge st op ro du ce ab um p .
"o ft he in pu tu ni ts ar es et to(a ,a )=(x ,x ). Th eo ut pu ta tu ni t 5 i sg iv en by"
1 2 1 2
a = g(w w a +w a )
"5 0,5,+ 3,5 3 4,5 4"
= g(w w g(w +w a +w a )+w g(w 4+w a +w a ))
"0,5,+ 3,5 0,3 1,3 1 2,3 2 4,5 0 1,4 1 2,4 2"
= g(w w g(w +w x +w x )+w g(w 4+w x +w x )).
"0,5,+ 3,5 0,3 1,3 1 2,3 2 4,5 0 1,4 1 2,4 2"
"Th us , w e h av e t he o ut pu t e xp re ss ed a s a f un ct io n o f t he i np ut s a nd t he w ei gh ts . A s im il ar"
e xp re ss io n h ol ds f or u ni t 6. As l on g a s w e c an c al cu la te t he d er iv at iv es o f s uc h e xp re ss io ns
"w it h r es pe ct t o t he w ei gh ts , w e c an u se t he g ra di en t-d es ce nt l os s-m in im iz at io n m et ho d t o"
t ra in t he n et wo rk . Se ct io n 18.7.4 s ho ws e xa ct ly h ow t o d o t hi s . An d b ec au se t he f un ct io n
"r ep re se nt ed by an et wo rk ca nb eh ig hl yn on li ne ar—c om po se d , a si ti s ,o fn es te dn on li ne ar so ft"
NONLINEAR t hr es ho ld f un ct io ns—w e c an se en eu ra ln et wo rk sa sa to ol fo r d oi ng no nl in ea rr eg re ss io n .
REGRESSION
"Be fo re d el vi ng i nt o l ea rn in g r ul es , l et u s l oo k a t t he w ay s i n w hi ch n et wo rk s g en er at e"
"c om pl ic at ed f un ct io ns . Fi rs t ,r em em be rt ha te ac hu ni ti na si gm oi dn et wo rk r ep re se nt s a so ft"
"t hr es ho ld i n i ts i np ut s pa ce , a s s ho wn i n Fi gu re 18.17(c) (p ag e 726). Wi th o ne h id de n l ay er"
"a nd o ne o ut pu t l ay er , a s i n Fi gu re 18.20(b), e ac h o ut pu t u ni t c om pu te s a s of t-t hr es ho ld ed"
"l in ea r c om bi na ti on o f s ev er al s uc h f un ct io ns . Fo r e xa mp le , b y a dd in g t wo o pp os it e-f ac in g"
"s of tt hr es ho ld fu nc ti on sa nd th re sh ol di ng th er es ul t ,w ec an ob ta in a“r id ge”f un ct io na ss ho wn"
"i n Fi gu re 18.23(a). Co mb in in g t wo su ch r id ge s a tr ig ht a ng le s t oe ac h o th er(i .e ., c om bi ni ng"
"t he ou tp ut sf ro mf ou rh id de nu ni ts), w eo bt ai na“b um p”a ss ho wn in Fi gu re 18.23(b)."
"Wi th mo re hi dd en un it s , w ec an pr od uc e m or eb um ps of di ff er en ts iz es in mo re pl ac es ."
"In fa ct ,w it ha si ng le ,s uf fi ci en tl yl ar ge hi dd en la ye r ,i ti sp os si bl et or ep re se nt an yc on ti nu ou s"
"f un ct io n o ft he in pu ts w it ha rb it ra ry a cc ur ac y ; w it ht wo la ye rs , e ve nd is co nt in uo us f un ct io ns"
"c an be re pr es en te d .9 Un fo rt un at el y , f or an y p ar ti cu la r n et wo rk s tr uc tu re , i ti sh ar de rt oc ha r-"
a ct er iz ee xa ct ly wh ic hf un ct io ns c an be re pr es en te d a nd wh ic ho ne sc an no t .
"9 Th ep ro of is co mp le x ,b ut th em ai np oi nt is th at th er eq ui re dn um be ro fh id de nu ni ts gr ow se xp on en ti al ly wi th"
"t he nu mb er of in pu ts .Fo re xa mp le ,2 n/n hi dd en un it sa re ne ed ed to en co de al l Bo ol ea nf un ct io ns of ni np ut s ."
Se ct io n 18.7. Ar ti fi ci al Ne ur al Ne tw or ks 733
18.7.4 Le ar ni ng i nm ul ti la ye rn et wo rk s
"Fi rs t ,l et us di sp en se wi th on em in or co mp li ca ti on ar is in gi nm ul ti la ye rn et wo rk s: i nt er ac ti on s"
"a mo ng t he l ea rn in g p ro bl em s w he n t he n et wo rk h as m ul ti pl e o ut pu ts . In s uc h c as es , w e"
s ho ul dt hi nk of th en et wo rk as im pl em en ti ng av ec to rf un ct io nh r at he rt ha na sc al ar fu nc ti on
w
"h ; f or e xa mp le , t he n et wo rk i n Fi gu re 18.20(b) r et ur ns a v ec to r [a ,a ]. Si mi la rl y , t he"
w 5 6
t ar ge t o ut pu t w il lb e a ve ct or y . Wh er ea s a pe rc ep tr on n et wo rk d ec om po se s i nt o m s ep ar at e
"l ea rn in gp ro bl em sf or an m-o ut pu tp ro bl em ,t hi sd ec om po si ti on fa il si na mu lt il ay er ne tw or k ."
"Fo re xa mp le , b ot h a a nd a i n Fi gu re 18.20(b) d ep en d o n a ll o f t he i np ut-l ay er w ei gh ts , s o"
5 6
"u pd at es to th os ew ei gh ts wi ll de pe nd on er ro rs in bo th a a nd a . Fo rt un at el y ,t hi sd ep en de nc y"
5 6
i s v er y s im pl e i n t he c as e o f a ny l os s f un ct io n t ha t i s a dd it iv e a cr os s t he c om po ne nt s o f t he
"e rr or ve ct or y−h (x). Fo rt he L l os s ,w eh av e ,f or an yw ei gh tw ,"
w 2
(c id:12) (c id:12)
∂ ∂ ∂ ∂
Lo ss(w)= |y−h (x)|2 = (y −a )2 = (y −a )2 (18.10)
w k k k k
∂w ∂w ∂w ∂w
k k
w he re t he i nd ex k r an ge s o ve r n od es i n t he o ut pu t l ay er . Ea ch t er m i n t he f in al s um ma ti on
"i s j us t t he g ra di en t o f t he l os s f or t he k th o ut pu t , c om pu te d a s i f t he o th er o ut pu ts d id n ot"
"e xi st . He nc e , w e c an d ec om po se a n m-o ut pu t l ea rn in g p ro bl em i nt o m l ea rn in g p ro bl em s ,"
p ro vi de dw er em em be rt oa dd up th eg ra di en tc on tr ib ut io ns fr om ea ch of th em wh en up da ti ng
t he we ig ht s .
Th e m aj or c om pl ic at io n c om es f ro m t he a dd it io n o f h id de n l ay er s t o t he n et wo rk .
"Wh er ea s t he e rr or y − h a t t he o ut pu t l ay er i s c le ar , t he e rr or a t t he h id de n l ay er s s ee ms"
w
m ys te ri ou s b ec au se t he t ra in in g d at a d o n ot s ay w ha t v al ue t he h id de n n od es s ho ul d h av e .
"Fo rt un at el y , i t t ur ns o ut t ha t w e c an b ac k-p ro pa ga te t he e rr or f ro m t he o ut pu t l ay er t o t he"
BACK-PROPAGATION
h id de nl ay er s . Th eb ac k-p ro pa ga ti on pr oc es se me rg es di re ct ly fr om ad er iv at io no ft he ov er al l
"e rr or gr ad ie nt . Fi rs t ,w ew il ld es cr ib et he pr oc es sw it ha ni nt ui ti ve ju st if ic at io n ; t he n ,w ew il l"
s ho wt he de ri va ti on .
"At t he o ut pu t l ay er , t he w ei gh t-u pd at e r ul e i s i de nt ic al t o Eq ua ti on (18.8). We h av e"
"m ul ti pl e o ut pu t u ni ts , s o l et Er r b e t he k th c om po ne nt o f t he e rr or v ec to r y−h . We wi ll"
k w
a ls o f in d i t c on ve ni en t t o d ef in e a m od if ie d e rr or Δ =Er r
×g(c id:2)
"(i n ), s o t ha t t he w ei gh t-"
k k k
u pd at er ul eb ec om es
w ← w +α×a ×Δ . (18.11)
"j ,k j ,k j k"
"To up da te t he c on ne ct io ns b et we en t he i np ut u ni ts a nd t he h id de n u ni ts , w en ee d t o d ef in e a"
q ua nt it y a na lo go us t o t he e rr or t er m f or o ut pu t n od es . He re i s w he re w e d o t he e rr or b ac k-
p ro pa ga ti on . Th ei de ai st ha th id de nn od ej i s“r es po ns ib le”f or so me fr ac ti on of th ee rr or Δ
k
"i n e ac h o f t he o ut pu t n od es t o w hi ch i tc on ne ct s . Th us , t he Δ v al ue s a re d iv id ed a cc or di ng"
k
t ot he st re ng th o ft he co nn ec ti on b et we en th eh id de n n od ea nd t he ou tp ut n od e a nd ar ep ro p-
a ga te d b ac k t o p ro vi de t he Δ v al ue s f or t he h id de n l ay er . Th e p ro pa ga ti on r ul e f or t he Δ
j
v al ue si st he fo ll ow in g:
(c id:12)
(c id:2)
Δ = g (i n ) w Δ . (18.12)
"j j j ,k k"
k
734 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"f un ct io n BACK-PROP-LEARNING(e xa mp le s ,n et wo rk)r et ur ns an eu ra ln et wo rk"
"i np ut s:e xa mp le s ,a se to fe xa mp le s ,e ac hw it hi np ut ve ct or xa nd ou tp ut ve ct or y"
"n et wo rk ,a mu lt il ay er ne tw or kw it h Ll ay er s ,w ei gh ts wi ,j ,a ct iv at io nf un ct io ng"
"l oc al va ri ab le s: Δ,a ve ct or of er ro rs ,i nd ex ed by ne tw or kn od e"
r ep ea t
"f or ea ch we ig ht wi ,j i nn et wo rk d o"
"w i ,j←a sm al lr an do mn um be r"
"f or ea ch ex am pl e(x ,y)i ne xa mp le s d o"
/*Pr op ag at et he in pu ts fo rw ar dt oc om pu te th eo ut pu ts*/
f or ea ch no de ii nt he in pu tl ay er do
a i←x i
f or(c id:3)=2 t o Ld o
f or ea ch no(c id:2)d ej in la ye r(c id:3)d o
i nj←
i
"w i ,j a i"
a j←g(i nj)
/*Pr op ag at ed el ta sb ac kw ar df ro mo ut pu tl ay er to in pu tl ay er*/
f or ea ch no de j i nt he ou tp ut la ye rd o
Δ[j]←g(c id:5)(i nj) × (y j − a j)
f or(c id:3)=L−1 t o 1 d o
f or ea ch no de ii nl(c id:2)a ye r(c id:3)d o
Δ[i]←g(c id:5)(i ni)
j
"w i ,j Δ[j]"
/*Up da te ev er yw ei gh ti nn et wo rk us in gd el ta s*/
"f or ea ch we ig ht wi ,j i nn et wo rk d o"
"w i ,j←w i ,j + α × a i × Δ[j]"
u nt il so me st op pi ng cr it er io ni ss at is fi ed
r et ur nn et wo rk
Fi gu re 18.24 Th eb ac k-p ro pa ga ti on al go ri th mf or le ar ni ng in mu lt il ay er ne tw or ks .
No wt he we ig ht-u pd at er ul ef or th ew ei gh ts be tw ee nt he in pu ts an dt he hi dd en la ye ri se ss en-
t ia ll yi de nt ic al to th eu pd at er ul ef or th eo ut pu t l ay er:
w ← w +α×a ×Δ .
"i ,j i ,j i j"
Th eb ac k-p ro pa ga ti on p ro ce ss ca nb es um ma ri ze da sf ol lo ws:
"• Co mp ut et heΔv al ue sf or th eo ut pu tu ni ts , u si ng th eo bs er ve d e rr or ."
"• St ar ti ng w it h o ut pu t l ay er , r ep ea t t he f ol lo wi ng f or ea ch l ay er i n t he n et wo rk , u nt il t he"
e ar li es th id de nl ay er is re ac he d:
– Pr op ag at et heΔv al ue sb ac kt ot he pr ev io us la ye r .
– Up da te th ew ei gh ts be tw ee nt he tw ol ay er s .
Th ed et ai le d a lg or it hm i ss ho wn in Fi gu re 18.24.
"Fo r t he m at he ma ti ca ll y i nc li ne d , w e w il l n ow d er iv e t he b ac k-p ro pa ga ti on e qu at io ns"
f ro m f ir st p ri nc ip le s . Th e d er iv at io n i s q ui te s im il ar t o t he g ra di en t c al cu la ti on f or l og is ti c
Se ct io n 18.7. Ar ti fi ci al Ne ur al Ne tw or ks 735
"r eg re ss io n (l ea di ng u pt o Eq ua ti on (18.8) o np ag e 727), e xc ep t t ha t w eh av et ou se t he ch ai n"
r ul em or et ha no nc e .
"Fo ll ow in g Eq ua ti on (18.10), w e c om pu te j us t t he g ra di en t f or Lo ss = (y −a )2 a t"
k k k
t he k th ou tp ut . Th eg ra di en t o ft hi s l os s w it h r es pe ct t ow ei gh ts c on ne ct in g t he h id de n l ay er
t o t he o ut pu t l ay er w il l b e z er o e xc ep t f or w ei gh ts w t ha t c on ne ct t o t he k th o ut pu t u ni t .
"j ,k"
"Fo rt ho se we ig ht s , w eh av e"
∂Lo ss ∂a ∂g(i n )
k = −2(y −a ) k = −2(y −a ) k
k k k k
∂w ∂w ∂w
"j ,k j ,k j ,k ⎛ ⎞"
(c id:12)
∂i n ∂
= −2(y −a )g(c id:2) (i n ) k = −2(y −a )g(c id:2) (i n ) ⎝ w a ⎠
"k k k k k k j ,k j"
∂w ∂w
"j ,k j ,k"
j
"= −2(y −a )g(c id:2) (i n )a = −a Δ ,"
k k k j j k
w it hΔ d ef in ed as be fo re . To ob ta in th eg ra di en tw it hr es pe ct to th e w w ei gh ts co nn ec ti ng
"k i ,j"
"t he in pu tl ay er to th eh id de n ¡l ay er , w eh av et oe xp an do ut th e a ct iv at io ns a a nd re ap pl y t he"
j
c ha in ru le . We wi ll sh ow th ed er iv at io n i ng or yd et ai l b ec au se i ti si nt er es ti ng t os ee ho wt he
d er iv at iv eo pe ra to rp ro pa ga te s b ac kt hr ou gh t he ne tw or k:
∂Lo ss ∂a ∂g(i n )
k = −2(y −a ) k = −2(y −a ) k
k k k k
∂w ∂w ∂w
"i ,j i ,j i ,j⎛ ⎞"
(c id:12)
∂i n ∂
= −2(y −a )g(c id:2) (i n ) k = −2Δ ⎝ w a ⎠
"k k k k j ,k j"
∂w ∂w
"i ,j i ,j"
j
∂a ∂g(i n )
= −2Δ w j = −2Δ w j
"k j ,k k j ,k"
∂w ∂w
"i ,j i ,j"
∂i n
= −2Δ w g(c id:2) (i n ) j
"k j ,k j"
∂w
"i ,j (c id:31)"
(c id:12)
∂
= −2Δ w g(c id:2) (i n ) w a
"k j ,k j i ,j i"
∂w
"i ,j"
i
"= −2Δ w g(c id:2) (i n )a = −a Δ ,"
"k j ,k j i i j"
"w he reΔ i sd ef in ed as be fo re . Th us ,w eo bt ai nt he up da te ru le so bt ai ne de ar li er fr om in tu it iv e"
j
c on si de ra ti on s . It is al so cl ea rt ha tt he pr oc es s c an be co nt in ue d f or ne tw or ks wi th mo re th an
"o ne hi dd en la ye r , w hi ch ju st if ie st he ge ne ra la lg or it hm g iv en in Fi gu re 18.24."
"Ha vi ng m ad e i t t hr ou gh (o r s ki pp ed o ve r) a ll t he m at he ma ti cs , l et’s s ee h ow a s in gl e-"
"h id de n-l ay er n et wo rk p er fo rm s o n t he r es ta ur an t p ro bl em . Fi rs t , w e n ee d t o d et er mi ne t he"
"s tr uc tu re o f t he n et wo rk . We h av e 10 a tt ri bu te s d es cr ib in g e ac h e xa mp le , s o w e w il l n ee d"
10 i np ut u ni ts . Sh ou ld w e h av e o ne h id de n l ay er o r t wo ? Ho w m an y n od es i n e ac h l ay er ?
Sh ou ld th ey be fu ll yc on ne ct ed ? Th er ei sn og oo dt he or yt ha tw il lt el lu st he an sw er . (Se et he
"n ex ts ec ti on .) As al wa ys ,w ec an us ec ro ss-v al id at io n: t ry se ve ra ld if fe re nt st ru ct ur es a nd se e"
w hi ch on ew or ks be st . It tu rn so ut th at an et wo rk wi th on eh id de nl ay er co nt ai ni ng fo ur no de s
"i s a bo ut r ig ht f or t hi s p ro bl em . In Fi gu re 18.25, w e s ho w t wo c ur ve s . Th e f ir st i s a t ra in in g"
c ur ve s ho wi ng t he m ea n s qu ar ed e rr or o n a g iv en t ra in in g s et o f 100 r es ta ur an t e xa mp le s
736 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
14
12
10
8
6
4
2
0
0 50 100 150 200 250 300 350 400
t es
g ni ni ar t
n o
r or re
l at o T
1
0.9
0.8
0.7
0.6
0.5
0.4
0 10 20 30 40 50 60 70 80 90 100
Nu mb er o f e po ch s
t es
t se t
n o
t ce rr oc
n oi tr op or P De ci si on t re e
Mu lt il ay er n et wo rk
Tr ai ni ng s et s iz e
(a) (b)
Fi gu re 18.25 (a) Tr ai ni ng c ur ve s ho wi ng t he g ra du al r ed uc ti on i n e rr or a s w ei gh ts a re
"m od if ie d o ve r s ev er al e po ch s , f or a g iv en s et o f e xa mp le s i n t he r es ta ur an t d om ai n . (b)"
Co mp ar at iv el ea rn in gc ur ve ss ho wi ng th at de ci si on-t re el ea rn in gd oe ss li gh tl yb et te ro nt he
r es ta ur an tp ro bl em th an ba ck-p ro pa ga ti on in am ul ti la ye rn et wo rk .
d ur in gt he we ig ht-u pd at in gp ro ce ss . Th is de mo ns tr at es th at th en et wo rk do es in de ed co nv er ge
t o a p er fe ct f it t o t he t ra in in g d at a . Th e s ec on d c ur ve i s t he s ta nd ar d l ea rn in g c ur ve f or t he
"r es ta ur an t d at a . Th e n eu ra l n et wo rk d oe s l ea rn w el l , a lt ho ug h n ot q ui te a s f as t a s d ec is io n-"
"t re e l ea rn in g ; t hi s i s p er ha ps n ot s ur pr is in g , b ec au se t he d at a w er e g en er at ed f ro m a s im pl e"
d ec is io n t re ei nt he fi rs tp la ce .
"Ne ur al n et wo rk s a re c ap ab le o f f ar mo re c om pl ex l ea rn in g t as ks o f c ou rs e , a lt ho ug h i t"
m us t b e s ai d t ha t a c er ta in a mo un t o f t wi dd li ng i s n ee de d t o g et t he n et wo rk s tr uc tu re r ig ht
a nd to ac hi ev ec on ve rg en ce t os om et hi ng cl os et ot he gl ob al op ti mu mi nw ei gh ts pa ce . Th er e
a re l it er al ly t en s o f t ho us an ds o f p ub li sh ed a pp li ca ti on s o f n eu ra l n et wo rk s . Se ct io n 18.11.1
l oo ks at on es uc ha pp li ca ti on i nm or ed ep th .
18.7.5 Le ar ni ng n eu ra l n et wo rk s tr uc tu re s
"So fa r ,w eh av ec on si de re d t he pr ob le m o fl ea rn in g w ei gh ts , g iv en af ix ed ne tw or k s tr uc tu re ;"
"j us t a s w it h Ba ye si an n et wo rk s , w e a ls o n ee d t o u nd er st an d h ow t o f in d t he b es t n et wo rk"
"s tr uc tu re . If we ch oo se an et wo rk th at is to ob ig ,i tw il lb ea bl et om em or iz ea ll th ee xa mp le s"
"b y f or mi ng a l ar ge l oo ku p t ab le , b ut w il l n ot n ec es sa ri ly g en er al iz e w el l t o i np ut s t ha t h av e"
"n ot be en se en be fo re .10 In ot he rw or ds ,l ik ea ll st at is ti ca lm od el s ,n eu ra ln et wo rk sa re su bj ec t"
t oo ve rf it ti ng w he nt he re a re to o m an yp ar am et er s i nt he m od el . We sa wt hi s i n Fi gu re 18.1
"(p ag e 696), w he re t he h ig h-p ar am et er m od el s i n (b) a nd (c) f it a ll t he d at a , b ut m ig ht n ot"
g en er al iz e a sw el la st he lo w-p ar am et er mo de ls in(a)a nd(d).
"If we st ic kt of ul ly co nn ec te dn et wo rk s ,t he on ly ch oi ce st ob em ad ec on ce rn th en um be r"
10 It ha sb ee no bs er ve dt ha tv er yl ar ge ne tw or ks d og en er al iz ew el la sl on ga st he we ig ht sa re ke pt sm al l . Th is
r es tr ic ti on ke ep st he ac ti va ti on va lu es in th el in ea rr eg io no ft he si gm oi df un ct io ng(x)w he re xi sc lo se to ze ro .
"Th is ,i nt ur n ,m ea ns th at th en et wo rk be ha ve sl ik ea li ne ar fu nc ti on(Ex er ci se 18.22)w it hf ar fe we rp ar am et er s ."
Se ct io n 18.8. No np ar am et ri c Mo de ls 737
o f h id de n l ay er s a nd t he ir s iz es . Th e u su al a pp ro ac h i s t o t ry s ev er al a nd k ee p t he b es t . Th e
c ro ss-v al id at io n t ec hn iq ue s o f Ch ap te r 18 a re n ee de d i f w e a re t o a vo id p ee ki ng a t t he t es t
"s et . Th at is ,w ec ho os et he ne tw or ka rc hi te ct ur e t ha tg iv es th eh ig he st pr ed ic ti on a cc ur ac yo n"
t he va li da ti on s et s .
"If w e w an t t o c on si de r n et wo rk s t ha t a re n ot f ul ly c on ne ct ed , t he n w e n ee d t o f in d"
s om ee ff ec ti ve se ar ch me th od th ro ug ht he ve ry la rg es pa ce of po ss ib le co nn ec ti on to po lo gi es .
OPTIMALBRAIN Th e o pt im al b ra in d am ag e a lg or it hm b eg in s w it h a f ul ly c on ne ct ed n et wo rk a nd r em ov es
DAMAGE
"c on ne ct io ns f ro m i t . Af te r t he n et wo rk i s t ra in ed f or t he f ir st t im e , a n i nf or ma ti on-t he or et ic"
a pp ro ac h i de nt if ie s a n o pt im al s el ec ti on o f c on ne ct io ns t ha t c an b e d ro pp ed . Th e n et wo rk
"i s t he n r et ra in ed , a nd i f i ts p er fo rm an ce h as n ot d ec re as ed t he n t he p ro ce ss i s r ep ea te d . In"
"a dd it io nt or em ov in gc on ne ct io ns , i ti sa ls op os si bl e t or em ov eu ni ts th at ar en ot co nt ri bu ti ng"
m uc ht ot he re su lt .
Se ve ra la lg or it hm sh av eb ee np ro po se df or gr ow in ga la rg er ne tw or kf ro ma sm al le ro ne .
"On e , t he t il in g a lg or it hm , r es em bl es d ec is io n-l is t l ea rn in g . Th e i de a i s t o s ta rt w it h a s in gl e"
TILING
u ni t t ha t d oe s i ts b es t t o p ro du ce t he c or re ct o ut pu t o n a s m an y o f t he t ra in in g e xa mp le s a s
p os si bl e . Su bs eq ue nt un it sa re ad de dt ot ak ec ar eo ft he ex am pl es th at th ef ir st un it go tw ro ng .
Th ea lg or it hm a dd so nl ya sm an yu ni ts as ar en ee de dt oc ov er al lt he ex am pl es .
18.8 NONPARAMETRIC MODELS
Li ne ar re gr es si on a nd n eu ra l n et wo rk s u se t he tr ai ni ng d at a t oe st im at e a fi xe ds et o fp ar am-
"e te rs w . Th at de fi ne so ur hy po th es is h (x),a nd at th at po in tw ec an th ro wa wa yt he tr ai ni ng"
w
"d at a , b ec au se t he y a re a ll s um ma ri ze d b y w . A l ea rn in g m od el t ha t s um ma ri ze s d at a w it h a"
s et o f p ar am et er s o f f ix ed s iz e (i nd ep en de nt o f t he n um be r o f t ra in in g e xa mp le s) i s c al le d a
p ar am et ri cm od el .
PARAMETRICMODEL
"No m at te r h ow m uc h d at a y ou t hr ow a t a p ar am et ri c m od el , i t w on’t c ha ng e i ts m in d"
"a bo ut ho wm an yp ar am et er si tn ee ds . Wh en da ta se ts ar es ma ll ,i tm ak es se ns et oh av ea st ro ng"
"r es tr ic ti on on th ea ll ow ab le hy po th es es , t oa vo id ov er fi tt in g . Bu tw he nt he re ar et ho us an ds or"
"m il li on so rb il li on so fe xa mp le st ol ea rn fr om ,i ts ee ms li ke a be tt er id ea to le tt he da ta sp ea k"
f or t he ms el ve s r at he r t ha n f or ci ng t he m t o s pe ak t hr ou gh a t in y v ec to r o f p ar am et er s . If t he
"d at a s ay t ha t t he c or re ct a ns we r i s a v er y w ig gl y f un ct io n , w e s ho ul dn’t r es tr ic t o ur se lv es t o"
l in ea ro rs li gh tl y w ig gl yf un ct io ns .
NONPARAMETRIC An on pa ra me tr ic mo de li so ne th at ca nn ot be ch ar ac te ri ze db ya bo un de ds et of pa ra m-
MODEL
"e te rs . Fo re xa mp le , s up po se t ha t e ac h h yp ot he si s w eg en er at e s im pl y r et ai ns w it hi n i ts el f a ll"
o ft he tr ai ni ng e xa mp le s a nd us es al lo ft he mt op re di ct t he ne xt ex am pl e . Su ch ah yp ot he si s
f am il y w ou ld b en on pa ra me tr ic b ec au se t he e ff ec ti ve n um be r o f p ar am et er s i su nb ou nd ed—
INSTANCE-BASED i t g ro ws w it h t he n um be r o f e xa mp le s . Th is a pp ro ac h i s c al le d i ns ta nc e-b as ed l ea rn in g o r
LEARNING
m em or y-b as ed le ar ni ng . Th es im pl es ti ns ta nc e-b as ed le ar ni ng me th od is ta bl el oo ku p: t ak e
TABLELOOKUP
"a ll th et ra in in ge xa mp le s ,p ut th em in al oo ku pt ab le ,a nd th en wh en as ke df or h(x),s ee if xi s"
"i nt he t ab le ; i fi ti s , r et ur n t he co rr es po nd in g y . Th ep ro bl em w it ht hi sm et ho d i s t ha ti td oe s"
n ot ge ne ra li ze w el l: w he nx is no ti nt he ta bl ea ll it ca nd oi sr et ur ns om ed ef au lt v al ue .
738 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
7.5 7.5
7 7
6.5 6.5
6 6
5.5 5.5
x x
1 5 1 5
4.5 4.5
4 4
3.5 3.5
3 3
2.5 2.5
4.5 5 5.5 6 6.5 7 4.5 5 5.5 6 6.5 7
x x
2 2
(k=1) (k=5)
Fi gu re 18.26 (a)Ak-n ea re st-n ei gh bo rm od el sh ow in gt he ex te nt of th ee xp lo si on cl as sf or
"t he da ta in Fi gu re 18.15,w it hk=1. Ov er fi tt in gi sa pp ar en t . (b)Wi th k=5,t he ov er fi tt in g"
p ro bl em go es aw ay fo rt hi sd at as et .
18.8.1 Ne ar es tn ei gh bo r m od el s
"We ca ni mp ro ve on ta bl el oo ku pw it ha sl ig ht va ri at io n: g iv en aq ue ry x ,f in dt he ke xa mp le s"
q
NEAREST t ha t a re n ea re st t o x . Th is i s c al le d k-n ea re st n ei gh bo rs l oo ku p . We’l l u se t he n ot at io n
NEIGHBORS q
"NN(k ,x )t od en ot et he se to fk n ea re st ne ig hb or s ."
q
"To d o c la ss if ic at io n , f ir st f in d NN(k ,x ), t he n t ak e t he p lu ra li ty v ot e o f t he n ei gh bo rs"
q
"(w hi ch i s t he m aj or it y v ot e i n t he c as e o f b in ar y c la ss if ic at io n). To a vo id t ie s , k i s a lw ay s"
"c ho se n t o b e a n o dd n um be r . To d o r eg re ss io n , w e c an t ak e t he m ea n o r m ed ia n o f t he k"
"n ei gh bo rs , o rw ec an so lv ea li ne ar re gr es si on p ro bl em o nt he n ei gh bo rs ."
"In Fi gu re 18.26, w e s ho w t he d ec is io n b ou nd ar y o f k-n ea re st-n ei gh bo rs c la ss if ic at io n"
f or k= 1 a nd 5 o n t he e ar th qu ak e d at a s et f ro m Fi gu re 18.15. No np ar am et ri c m et ho ds a re
"s ti ll su bj ec tt ou nd er fi tt in ga nd ov er fi tt in g ,j us tl ik ep ar am et ri cm et ho ds . In th is ca se 1-n ea re st"
n ei gh bo rs is ov er fi tt in g ;i tr ea ct st oo mu ch to th eb la ck ou tl ie ri nt he up pe rr ig ht an dt he wh it e
"o ut li er a t (5.4, 3.7). Th e 5-n ea re st-n ei gh bo rs d ec is io n b ou nd ar y i s g oo d ; h ig he r k w ou ld"
"u nd er fi t . As us ua l , c ro ss-v al id at io n c an be us ed to se le ct th eb es tv al ue of k ."
Th e v er y w or d “n ea re st” i mp li es a d is ta nc e m et ri c . Ho w d o w e m ea su re t he d is ta nc e
"f ro m a q ue ry p oi nt x t o a n e xa mp le p oi nt x ? Ty pi ca ll y , d is ta nc es a re m ea su re d w it h a"
q j
"MINKOWSKI Mi nk ow sk id is ta nc eo r Lp n or m ,d ef in ed as"
DISTANCE (c id:12)
"Lp(x ,x ) = ( |x −x |p)1/p ."
"j q j ,i q ,i"
i
Wi th p=2 t hi s i s Eu cl id ea n d is ta nc e a nd w it hp=1 i ti s Ma nh at ta n d is ta nc e . Wi th Bo ol ea n
"a tt ri bu te v al ue s , t he n um be r o f a tt ri bu te s o n w hi ch t he t wo p oi nt s d if fe r i s c al le d t he Ha m-"
"m in gd is ta nc e . Of te n p=2 i su se d i ft he di me ns io ns a re me as ur in g s im il ar pr op er ti es , s uc h"
HAMMINGDISTANCE
"a st he wi dt h , h ei gh t a nd d ep th o fp ar ts o na co nv ey or b el t , a nd Ma nh at ta n d is ta nc e i su se d i f"
"t he y a re di ss im il ar , s uc h a s a ge , w ei gh t , a nd g en de r o fa pa ti en t . No te t ha t i fw eu se t he r aw"
n um be rs f ro m e ac h d im en si on t he n t he t ot al d is ta nc e w il l b e a ff ec te d b y a c ha ng e i n s ca le
"i n a ny d im en si on . Th at i s , i f w e c ha ng e d im en si on i f ro m m ea su re me nt s i n c en ti me te rs t o"
Se ct io n 18.8. No np ar am et ri c Mo de ls 739
"m il es wh il ek ee pi ng t he ot he rd im en si on s t he sa me ,w e’l lg et di ff er en t n ea re st n ei gh bo rs . To"
"a vo id th is ,i ti sc om mo nt oa pp ly no rm al iz at io nt ot he me as ur em en ts in ea ch di me ns io n . On e"
NORMALIZATION
s im pl e a pp ro ac h i s t o c om pu te t he m ea n μ a nd s ta nd ar d d ev ia ti on σ o f t he v al ue s i n e ac h
i i
"d im en si on , a nd r es ca le t he m s o t ha t x b ec om es (x − μ )/σ . A m or e c om pl ex m et ri c"
"j ,i j ,i i i"
MAHALANOBIS k no wn as th e Ma ha la no bi sd is ta nc et ak es in to ac co un tt he co va ri an ce b et we en di me ns io ns .
DISTANCE
"In l ow-d im en si on al s pa ce s w it h p le nt y o f d at a , n ea re st n ei gh bo rs w or ks v er y w el l: w e"
a re l ik el y t o h av e e no ug h n ea rb y d at a p oi nt s t o g et a g oo d a ns we r . Bu t a s t he n um be r o f
d im en si on s r is es w ee nc ou nt er a pr ob le m: t he n ea re st n ei gh bo rs i nh ig h-d im en si on al s pa ce s
a re us ua ll y n ot ve ry ne ar ! Co ns id er k-n ea re st-n ei gh bo rs o na da ta s et of N p oi nt s u ni fo rm ly
d is tr ib ut ed t hr ou gh ou t t he i nt er io r o f a n n-d im en si on al u ni t h yp er cu be . We’l l d ef in e t he k-
n ei gh bo rh oo d o fa po in ta st he sm al le st hy pe rc ub e t ha tc on ta in s t he k-n ea re st n ei gh bo rs . Le t
(c id:3)b et he av er ag es id el en gt ho fa ne ig hb or ho od . Th en th ev ol um eo ft he ne ig hb or ho od(w hi ch
"c on ta in s k p oi nt s) i s (c id:3)n a nd t he v ol um e o f t he f ul l c ub e (w hi ch c on ta in s N p oi nt s) i s 1. So ,"
"o na ve ra ge , (c id:3)n=k/N . Ta ki ng nt hr oo ts of bo th si de sw eg et(c id:3) = (k/N)1/n ."
"To b e c on cr et e , l et k=10 a nd N=1,000,000. In t wo d im en si on s (n=2; a u ni t"
"s qu ar e), t he a ve ra ge n ei gh bo rh oo d h as (c id:3)=0.003, a s ma ll f ra ct io n o f t he u ni t s qu ar e , a nd"
i n 3 d im en si on s (c id:3)i sj us t 2%o ft he ed ge le ng th of th eu ni tc ub e . Bu tb yt he ti me we ge tt o 17
"d im en si on s , (c id:3)i sh al ft he ed ge le ng th of th eu ni th yp er cu be , a nd in 200 d im en si on s i ti s 94%."
CURSEOF Th is pr ob le m h as be en ca ll ed th ec ur se of di me ns io na li ty .
DIMENSIONALITY
An ot he rw ay to lo ok at it: c on si de rt he po in ts th at fa ll wi th in at hi ns he ll ma ki ng up th e
o ut er 1% o f t he u ni t h yp er cu be . Th es e a re o ut li er s ; i n g en er al i t w il l b e h ar d t o f in d a g oo d
"v al ue f or th em be ca us e w ew il lb ee xt ra po la ti ng r at he rt ha ni nt er po la ti ng . In on ed im en si on ,"
t he se o ut li er s a re o nl y 2% o f t he p oi nt s o n t he u ni t l in e (t ho se p oi nt s w he re x < .01 o r
"x > .99), b ut i n 200 d im en si on s , o ve r 98% o f t he p oi nt s f al l w it hi n t hi s t hi n s he ll—a lm os t"
a ll th ep oi nt s a re ou tl ie rs . Yo uc an se ea ne xa mp le o fa po or ne ar es t-n ei gh bo rs f it on ou tl ie rs
i fy ou lo ok ah ea dt o Fi gu re 18.28(b).
"Th e NN(k ,x )f un ct io n i sc on ce pt ua ll y t ri vi al: g iv en as et of N e xa mp le sa nd aq ue ry"
q
"x ,i te ra te th ro ug ht he ex am pl es ,m ea su re th ed is ta nc et o x f ro me ac ho ne ,a nd ke ep th eb es t"
q q
"k . If we ar es at is fi ed wi th an im pl em en ta ti on t ha tt ak es O(N)e xe cu ti on ti me ,t he nt ha ti st he"
"e nd o f t he s to ry . Bu t i ns ta nc e-b as ed m et ho ds a re d es ig ne d f or l ar ge d at a s et s , s o w e w ou ld"
l ik e a n a lg or it hm w it h s ub li ne ar r un t im e . El em en ta ry a na ly si s o f a lg or it hm s t el ls u s t ha t
"e xa ct t ab le l oo ku p i s O(N) w it h a s eq ue nt ia l t ab le , O(l og N) w it h a b in ar y t re e , a nd O(1)"
w it h a h as h t ab le . We w il l n ow s ee t ha t b in ar y t re es a nd h as h t ab le s a re a ls o a pp li ca bl e f or
f in di ng ne ar es t n ei gh bo rs .
18.8.2 Fi nd in g n ea re st n ei gh bo rs w it h k-d tr ee s
"Ab al an ce db in ar yt re eo ve rd at aw it ha na rb it ra ry nu mb er of di me ns io ns is ca ll ed ak-d tr ee ,"
K-DTREE
"f or k-d im en si on al t re e . (In o ur n ot at io n , t he n um be r o f d im en si on s i s n , s o t he y w ou ld b e"
n-d t re es . Th e c on st ru ct io n o f a k-d t re e i s s im il ar t o t he c on st ru ct io n o f a o ne-d im en si on al
b al an ce db in ar yt re e . We st ar tw it ha se to fe xa mp le sa nd at th er oo tn od ew es pl it th em al on g
t he it hd im en si on b yt es ti ng w he th er x ≤ m . We ch os e t he va lu em to be th em ed ia n o ft he
i
e xa mp le sa lo ng th ei th di me ns io n ;t hu sh al ft he ex am pl es wi ll be in th el ef tb ra nc ho ft he tr ee
740 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
25 50 75 100 125 150 175 200
d oo hr ob hg ie n
f o
h tg ne l
e gd E
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
25 50 75 100 125 150 175 200
Nu mb er o f d im en si on s
l le hs
r oi re tx e
n i
s tn io p
f o
n oi tr op or P
Nu mb er o f d im en si on s
(a) (b)
Fi gu re 18.27 Th ec ur se of di me ns io na li ty:(a)Th el en gt ho ft he av er ag en ei gh bo rh oo df or
"10-n ea re st-n ei gh bo rs in au ni th yp er cu be wi th 1,000,000 p oi nt s ,a sa fu nc ti on of th en um be r"
o f d im en si on s . (b) Th e p ro po rt io n o f p oi nt s t ha t f al l w it hi n a t hi n s he ll c on si st in g o f t he
"o ut er 1%o ft he hy pe rc ub e ,a sa fu nc ti on of th en um be ro fd im en si on s .Sa mp le df ro m 10,000"
r an do ml yd is tr ib ut ed po in ts .
"a nd h al f i nt he r ig ht . We th en r ec ur si ve ly m ak ea tr ee f or th el ef t a nd r ig ht s et s o fe xa mp le s ,"
s to pp in g w he n t he re a re f ew er th an t wo e xa mp le s l ef t . To c ho os e a d im en si on t o s pl it o n a t
"e ac h n od e o f t he t re e , o ne c an s im pl y s el ec t d im en si on i m od n a t l ev el i o f t he t re e . (No te"
t ha tw em ay ne ed to sp li to na ny gi ve nd im en si on se ve ra lt im es as we pr oc ee dd ow nt he tr ee .)
An ot he rs tr at eg yi st os pl it on th ed im en si on t ha th as th ew id es ts pr ea do fv al ue s .
Ex ac t l oo ku p f ro m a k-d t re e i s j us t l ik e l oo ku p f ro m a b in ar y t re e (w it h t he s li gh t
c om pl ic at io nt ha ty ou ne ed to pa ya tt en ti on to wh ic hd im en si on yo ua re te st in ga te ac hn od e).
"Bu t n ea re st n ei gh bo r l oo ku p i s m or e c om pl ic at ed . As w e g o d ow n t he b ra nc he s , s pl it ti ng"
"t he e xa mp le s i n h al f , i n s om e c as es w e c an d is ca rd t he o th er h al f o f t he e xa mp le s . Bu t n ot"
a lw ay s . So me ti me s t he p oi nt w e a re q ue ry in g f or f al ls v er y c lo se t o t he d iv id in g b ou nd ar y .
"Th e q ue ry p oi nt i ts el f m ig ht b e o n t he l ef t h an d s id e o f t he b ou nd ar y , b ut o ne o r m or e o f"
t he k n ea re st n ei gh bo rs m ig ht a ct ua ll y b e o n t he r ig ht-h an d s id e . We h av e t o t es t f or t hi s
"p os si bi li ty b y c om pu ti ng t he d is ta nc e o f t he q ue ry p oi nt t o t he d iv id in g b ou nd ar y , a nd t he n"
s ea rc hi ng b ot hs id es i fw ec an’t f in dk e xa mp le so nt he le ft th at ar ec lo se rt ha nt hi sd is ta nc e .
"Be ca us e o ft hi sp ro bl em , k-d tr ee sa re ap pr op ri at e o nl yw he n t he re ar em an ym or ee xa mp le s"
"t ha n d im en si on s , p re fe ra bl y a t l ea st 2 n e xa mp le s . Th us , k-d t re es w or k w el l w it h u p t o 10"
d im en si on sw it ht ho us an ds of ex am pl es or up to 20 d im en si on sw it hm il li on so fe xa mp le s . If
"w ed on’t ha ve en ou gh ex am pl es , l oo ku pi sn of as te rt ha na li ne ar sc an of th ee nt ir ed at as et ."
18.8.3 Lo ca li ty-s en si ti ve ha sh in g
Ha sh t ab le s h av e t he p ot en ti al t o p ro vi de e ve n f as te r l oo ku p t ha n b in ar y t re es . Bu t h ow c an
"w ef in dn ea re st ne ig hb or s u si ng ah as ht ab le , w he nh as hc od es re ly on an ex ac tm at ch ? Ha sh"
"c od es r an do ml y d is tr ib ut e v al ue s a mo ng t he b in s , b ut w e w an t t o h av e n ea r p oi nt s g ro up ed"
LOCALITY-SENSITIVE t og et he ri nt he sa me bi n ;w ew an ta lo ca li ty-s en si ti ve h as h(LSH).
HASH
Se ct io n 18.8. No np ar am et ri c Mo de ls 741
"We c an’t u se h as he s t o s ol ve NN(k ,x ) e xa ct ly , b ut w it h a c le ve r u se o f r an do mi ze d"
q
"a lg or it hm s , w e c an f in d a n a pp ro xi ma te s ol ut io n . Fi rs t w e d ef in e t he a pp ro xi ma te n ea r-"
"APPROXIMATE n ei gh bo rs pr ob le m: g iv en a da ta s et of ex am pl e p oi nt s a nd a qu er y p oi nt x ,f in d , w it hh ig h"
NEAR-NEIGHBORS q
"p ro ba bi li ty , a n e xa mp le p oi nt (o rp oi nt s) t ha t i sn ea r x . To be m or ep re ci se , w er eq ui re t ha t"
q
"i f t he re i s a p oi nt x t ha t i s w it hi n a r ad iu s r o f x , t he n w it h h ig h p ro ba bi li ty t he a lg or it hm"
j q
w il lf in da po in tx j(c id:3) t ha ti sw it hi nd is ta nc ec ro fq . If th er ei sn op oi nt wi th in ra di us rt he nt he
a lg or it hm i sa ll ow ed t or ep or t f ai lu re . Th ev al ue s o f c an d “h ig h p ro ba bi li ty” a re pa ra me te rs
o ft he al go ri th m .
"To s ol ve a pp ro xi ma te n ea r n ei gh bo rs , w e w il l n ee d a h as h f un ct io n g(x) t ha t h as t he"
"p ro pe rt yt ha t ,f or an yt wo po in ts x"
j
"a nd x j(c id:3),t he pr ob ab il it yt ha tt he yh av et he sa me ha sh co de"
"i s s ma ll i f t he ir d is ta nc e i s m or e t ha n c r , a nd i s h ig h i f t he ir d is ta nc e i s l es s t ha n r . Fo r"
s im pl ic it y w e w il l t re at e ac h p oi nt a s a b it s tr in g . (An y f ea tu re s t ha t a re n ot Bo ol ea n c an b e
e nc od ed i nt oa se to f Bo ol ea nf ea tu re s .)
Th e i nt ui ti on w e r el y o n i s t ha t i f t wo p oi nt s a re c lo se t og et he r i n a n n-d im en si on al
"s pa ce ,t he nt he yw il ln ec es sa ri ly be cl os ew he np ro je ct ed do wn on to ao ne-d im en si on al sp ac e"
"(a li ne). In fa ct , w ec an di sc re ti ze t he li ne in to b in s—h as h b uc ke ts—s o t ha t , w it hh ig h p ro b-"
"a bi li ty , n ea rp oi nt s p ro je ct d ow nt o e xa ct ly t he s am e b in . Po in ts t ha t a re f ar aw ay f ro m e ac h"
"o th er wi ll te nd to pr oj ec t d ow ni nt o d if fe re nt b in sf or mo st pr oj ec ti on s , b ut t he re wi ll al wa ys"
"b e a f ew p ro je ct io ns t ha t c oi nc id en ta ll y p ro je ct f ar-a pa rt p oi nt s i nt o t he s am e b in . Th us , t he"
"b in f or po in t x c on ta in s m an y(b ut n ot a ll)p oi nt s t ha ta re n ea rt o x ,a s w el la ss om e p oi nt s"
q q
t ha ta re fa ra wa y .
Th et ri ck of LSHi st oc re at em ul ti pl er an do mp ro je ct io ns an dc om bi ne th em . Ar an do m
p ro je ct io n i s j us t a r an do m s ub se t o f t he b it-s tr in g r ep re se nt at io n . We c ho os e (c id:3) d if fe re nt
"r an do mp ro je ct io ns an dc re at e (c id:3)h as ht ab le s ,g (x),...,g (x). We th en en te ra ll th ee xa mp le s"
1 (c id:3)
"i nt oe ac hh as ht ab le . Th en wh en gi ve na qu er yp oi nt x ,w ef et ch th es et of po in ts in bi ng (q)"
q k
"f or ea ch k ,a nd un io n t he se s et st og et he r i nt oa se to fc an di da te p oi nt s , C . Th en we co mp ut e"
t he ac tu al di st an ce to x f or ea ch of th ep oi nt si n C a nd re tu rn th ek cl os es tp oi nt s . Wi th hi gh
q
"p ro ba bi li ty , e ac ho ft he po in ts th at ar en ea rt o x w il ls ho wu pi na tl ea st on eo ft he bi ns , a nd"
q
"a lt ho ug h s om e f ar-a wa y p oi nt s w il l s ho w u p a s w el l , w e c an i gn or e t ho se . Wi th l ar ge r ea l-"
"w or ld p ro bl em s , s uc h a s f in di ng t he n ea r n ei gh bo rs i n a d at a s et o f 13 m il li on We b i ma ge s"
"u si ng 512 d im en si on s(To rr al ba et al .,2008),l oc al it y-s en si ti ve ha sh in gn ee ds to ex am in eo nl y"
a f ew t ho us an d i ma ge s o ut o f 13 m il li on t o f in d n ea re st n ei gh bo rs ; a t ho us an d-f ol d s pe ed up
o ve re xh au st iv eo rk-d tr ee ap pr oa ch es .
18.8.4 No np ar am et ri c r eg re ss io n
No w w e’l l l oo k a t n on pa ra me tr ic a pp ro ac he s t o r eg re ss io n r at he r t ha n c la ss if ic at io n . Fi g-
"u re 18.28 s ho ws a n e xa mp le o f s om e d if fe re nt m od el s . In (a), w eh av e p er ha ps t he s im pl es t"
"m et ho d o f a ll , k no wn i nf or ma ll y a s “c on ne ct-t he-d ot s ,” a nd s up er ci li ou sl y a s “p ie ce wi se-"
"l in ea r n on pa ra me tr ic r eg re ss io n .” Th is m od el c re at es a f un ct io n h(x) t ha t , w he n g iv en a"
"q ue ry x , s ol ve s t he o rd in ar y l in ea r r eg re ss io n p ro bl em w it h j us t t wo p oi nt s: t he t ra in in g"
q
"e xa mp le s i mm ed ia te ly t o t he l ef t a nd r ig ht o f x . Wh en n oi se i s l ow , t hi s t ri vi al m et ho d i s"
q
"a ct ua ll yn ot to ob ad ,w hi ch is wh yi ti sa st an da rd fe at ur eo fc ha rt in gs of tw ar ei ns pr ea ds he et s ."
742 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
8 8
7 7
6 6
5 5
4 4
3 3
2 2
1 1
0 0
0 2 4 6 8 10 12 14 0 2 4 6 8 10 12 14
(a) (b)
8 8
7 7
6 6
5 5
4 4
3 3
2 2
1 1
0 0
0 2 4 6 8 10 12 14 0 2 4 6 8 10 12 14
(c) (d)
"Fi gu re 18.28 No np ar am et ri cr eg re ss io nm od el s:(a)c on ne ct th ed ot s ,(b)3-n ea re st ne ig h-"
"b or sa ve ra ge ,(c)3-n ea re st-n ei gh bo rs li ne ar re gr es si on , (d)l oc al ly we ig ht ed re gr es si on wi th"
a qu ad ra ti ck er ne lo fw id th k=10.
"Bu tw he nt he da ta ar en oi sy , t he re su lt in g f un ct io ni ss pi ky , a nd do es no tg en er al iz e w el l ."
NEAREST- k-n ea re st-n ei gh bo rs r eg re ss io n (Fi gu re 18.28(b)) i mp ro ve s o n c on ne ct-t he-d ot s . In-
NEIGHBORS
REGRESSION
"s te ad o f u si ng j us t t he t wo e xa mp le s t o t he l ef t a nd r ig ht o f a q ue ry p oi nt x , w e u se t he"
q
k n ea re st n ei gh bo rs (h er e 3). A l ar ge r v al ue o f k t en ds t o s mo ot h o ut t he m ag ni tu de o f
"t he sp ik es , a lt ho ug h t he re su lt in g f un ct io n h as di sc on ti nu it ie s . In(b), w eh av e t he k-n ea re st-"
(c id:2)
"n ei gh bo rs av er ag e: h(x)i st he me an va lu eo ft he kp oi nt s , y /k . No ti ce th at at th eo ut ly in g"
j
"p oi nt s ,n ea rx=0 a nd x=14,t he es ti ma te sa re po or be ca us ea ll th ee vi de nc ec om es fr om on e"
"s id e(t he in te ri or),a nd ig no re st he tr en d . In(c),w eh av ek-n ea re st-n ei gh bo r l in ea rr eg re ss io n ,"
w hi ch fi nd st he be st li ne th ro ug ht he ke xa mp le s . Th is do es ab et te rj ob of ca pt ur in gt re nd sa t
"t he ou tl ie rs , b ut is st il ld is co nt in uo us . In bo th(b)a nd(c),w e’r el ef tw it ht he qu es ti on of ho w"
"t oc ho os e a go od va lu ef or k . Th ea ns we r ,a su su al , i sc ro ss-v al id at io n ."
LOCALLYWEIGHTED Lo ca ll yw ei gh te dr eg re ss io n(Fi gu re 18.28(d))g iv es us th ea dv an ta ge so fn ea re st ne ig h-
REGRESSION
"b or s ,w it ho ut th ed is co nt in ui ti es . To av oi dd is co nt in ui ti es i nh(x),w en ee dt oa vo id di sc on ti-"
Se ct io n 18.8. No np ar am et ri c Mo de ls 743
1
0.5
0
-10 -5 0 5 10
"Fi gu re 18.29 A q ua dr at ic k er ne l , K(d)= m ax(0,1 − (2|x|/k)2), w it h k er ne l w id th"
"k=10,c en te re do nt he qu er yp oi nt x=0."
n ui ti es in th es et of ex am pl es we us et oe st im at eh(x). Th ei de ao fl oc al ly we ig ht ed re gr es si on
"i st ha ta te ac hq ue ry po in t x ,t he ex am pl es th at ar ec lo se to x a re we ig ht ed he av il y , a nd th e"
q q
e xa mp le st ha ta re fa rt he ra wa ya re we ig ht ed le ss he av il yo rn ot at al l . Th ed ec re as ei nw ei gh t
"o ve rd is ta nc ei sa lw ay sg ra du al , n ot su dd en ."
We d ec id e h ow m uc h t o w ei gh t e ac h e xa mp le w it h a f un ct io n k no wn a s a k er ne l . A
KERNEL
k er ne lf un ct io nl oo ks li ke ab um p ;i n Fi gu re 18.29 w es ee th es pe ci fi ck er ne lu se dt og en er at e
Fi gu re 18.28(d). We c an s ee t ha t t he w ei gh t p ro vi de d b y t hi s k er ne l i s h ig he st i n t he c en te r
"a nd re ac he sz er oa ta di st an ce of±5. Ca nw ec ho os ej us ta ny fu nc ti on fo ra ke rn el ? No . Fi rs t ,"
"n ot et ha tw ei nv ok ea ke rn el fu nc ti on Kw it h K(Di st an ce(x ,x )),w he re x i sa qu er yp oi nt"
j q q
"t ha t i s a g iv en d is ta nc e f ro m x , a nd w e w an t t o k no w h ow m uc h t o w ei gh t t ha t d is ta nc e ."
j
So K s ho ul d b e s ym me tr ic a ro un d 0 a nd h av e a m ax im um a t 0. Th e a re a u nd er t he k er ne l
"m us tr em ai nb ou nd ed a sw eg ot o±∞. Ot he rs ha pe s , s uc ha s Ga us si an s , h av eb ee nu se df or"
"k er ne ls , b ut t he l at es t r es ea rc h s ug ge st s t ha t t he c ho ic e o f s ha pe d oe sn’t m at te r m uc h . We"
"d o h av e t o b e c ar ef ul a bo ut t he w id th o f t he k er ne l . Ag ai n , t hi s i s a p ar am et er o f t he m od el"
"t ha ti sb es tc ho se n b yc ro ss-v al id at io n . Ju st as in ch oo si ng t he k f or ne ar es t n ei gh bo rs , i ft he"
k er ne ls a re to ow id ew e’l lg et un de rf it ti ng a nd if th ey ar et oo n ar ro w w e’l lg et ov er fi tt in g . In
"Fi gu re 18.29(d), t he va lu eo fk=10 g iv es as mo ot hc ur ve th at lo ok sa bo ut ri gh t—b ut m ay be"
i t d oe s n ot p ay e no ug h a tt en ti on t o t he o ut li er a t x=6; a n ar ro we r k er ne l w id th w ou ld b e
m or er es po ns iv et oi nd iv id ua l p oi nt s .
Do in g l oc al ly w ei gh te d r eg re ss io n w it h k er ne ls i s n ow s tr ai gh tf or wa rd . Fo r a g iv en
q ue ry po in tx w es ol ve th ef ol lo wi ng we ig ht ed re gr es si on p ro bl em u si ng gr ad ie nt de sc en t:
q (c id:12)
"w∗ = a rg mi n K(Di st an ce(x ,x ))(y −w·x )2 ,"
q j j j
w
j
w he re Di st an ce i s a ny o f t he d is ta nc e m et ri cs d is cu ss ed f or n ea re st n ei gh bo rs . Th en t he
a ns we ri sh(x
)=w∗·x
.
q q
No te th at we ne ed to so lv ea ne wr eg re ss io np ro bl em fo re ve ry qu er yp oi nt—t ha t’s wh at
"i t m ea ns t o b e l oc al . (In o rd in ar y l in ea r r eg re ss io n , w e s ol ve d t he r eg re ss io n p ro bl em o nc e ,"
"g lo ba ll y , a nd t he n u se d t he sa me h f or an y q ue ry p oi nt .) Mi ti ga ti ng a ga in st t hi se xt ra w or k"
w
744 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"i s t he f ac t t ha t e ac h r eg re ss io n p ro bl em w il l b e e as ie r t o s ol ve , b ec au se i t i nv ol ve s o nl y t he"
e xa mp le s w it hn on ze ro w ei gh t—t he e xa mp le s w ho se ke rn el s o ve rl ap t he qu er y p oi nt . Wh en
"k er ne lw id th sa re sm al l ,t hi sm ay be ju st af ew po in ts ."
Mo st no np ar am et ri cm od el sh av et he ad va nt ag et ha ti ti se as yt od ol ea ve-o ne-o ut cr os s-
"v al id at io n w it ho ut h av in g t o r ec om pu te e ve ry th in g . Wi th a k-n ea re st-n ei gh bo rs m od el , f or"
"i ns ta nc e , w he ng iv en at es te xa mp le(x ,y)w er et ri ev et he kn ea re st ne ig hb or so nc e ,c om pu te"
"t he p er-e xa mp le l os s L(y ,h(x)) f ro m t he m , a nd r ec or d t ha t a s t he l ea ve-o ne-o ut r es ul t f or"
e ve ry ex am pl et ha ti sn ot on eo ft he ne ig hb or s . Th en we re tr ie ve th ek+1 n ea re st ne ig hb or s
a nd r ec or d d is ti nc t r es ul ts f or l ea vi ng o ut e ac h o f t he k n ei gh bo rs . Wi th N e xa mp le s t he
"w ho le pr oc es si s O(k),n ot O(k N)."
18.9 SUPPORT VECTOR MACHINES
SUPPORTVECTOR Th es up po rt ve ct or ma ch in eo r SVMf ra me wo rk is cu rr en tl y t he mo st po pu la ra pp ro ac h f or
MACHINE
“o ff-t he-s he lf” s up er vi se d l ea rn in g: i fy ou do n’t ha ve an ys pe ci al iz ed p ri or kn ow le dg e a bo ut
"a d om ai n , t he n t he SVM i s a n e xc el le nt m et ho d t o t ry f ir st . Th er e a re t hr ee p ro pe rt ie s t ha t"
m ak e SVMs at tr ac ti ve:
1. SVMs co ns tr uc ta ma xi mu mm ar gi ns ep ar at or—a de ci si on bo un da ry wi th th el ar ge st
p os si bl ed is ta nc e t oe xa mp le po in ts . Th is he lp st he mg en er al iz e w el l .
"2. SVMs c re at e a l in ea r s ep ar at in g h yp er pl an e , b ut t he y h av e t he a bi li ty t o e mb ed t he"
"d at ai nt oa hi gh er-d im en si on al s pa ce , u si ng t he so-c al le d k er ne lt ri ck . Of te n ,d at at ha t"
a re no t l in ea rl y s ep ar ab le i n t he o ri gi na l i np ut s pa ce a re e as il y s ep ar ab le i nt he h ig he r-
d im en si on al s pa ce . Th e h ig h-d im en si on al l in ea r s ep ar at or i s a ct ua ll y n on li ne ar i n t he
o ri gi na l s pa ce . Th is me an st he hy po th es is s pa ce i sg re at ly e xp an de d o ve rm et ho ds t ha t
u se st ri ct ly l in ea rr ep re se nt at io ns .
3. SVMs ar ea no np ar am et ri cm et ho d—t he yr et ai nt ra in in ge xa mp le sa nd po te nt ia ll yn ee d
"t o s to re t he m a ll . On t he o th er h an d , i n p ra ct ic e t he y o ft en e nd u p r et ai ni ng o nl y a"
s ma ll fr ac ti on of th en um be ro fe xa mp le s—s om et im es a sf ew as a sm al lc on st an t t im es
t he n um be ro f d im en si on s . Th us SVMs co mb in e t he a dv an ta ge s o f n on pa ra me tr ic a nd
"p ar am et ri c m od el s: t he y h av e t he f le xi bi li ty t o r ep re se nt c om pl ex f un ct io ns , b ut t he y"
a re re si st an t t oo ve rf it ti ng .
Yo u c ou ld s ay t ha t SVMs a re s uc ce ss fu l b ec au se o f o ne k ey i ns ig ht a nd o ne n ea t t ri ck . We
"w il lc ov er ea ch in tu rn . In Fi gu re 18.30(a),w eh av ea bi na ry cl as si fi ca ti on pr ob le mw it ht hr ee"
"c an di da te d ec is io n b ou nd ar ie s , e ac h a l in ea r s ep ar at or . Ea ch o f t he m i s c on si st en t w it h a ll"
"t he e xa mp le s , s o f ro m t he p oi nt o f v ie w o f 0/1 l os s , e ac h w ou ld b e e qu al ly g oo d . Lo gi st ic"
r eg re ss io n w ou ld f in d s om e s ep ar at in g l in e ; t he e xa ct l oc at io n o f t he l in e d ep en ds o n a ll t he
e xa mp le p oi nt s . Th e k ey i ns ig ht o f SVMs i s t ha t s om e e xa mp le s a re m or e i mp or ta nt t ha n
"o th er s , a nd th at pa yi ng at te nt io n t ot he mc an le ad to be tt er ge ne ra li za ti on ."
Co ns id er t he l ow es t o f t he t hr ee s ep ar at in g l in es i n (a). It c om es v er y c lo se t o 5 o f t he
"b la ck e xa mp le s . Al th ou gh i tc la ss if ie s a ll th e e xa mp le s c or re ct ly , a nd th us m in im iz es l os s , i t"
Se ct io n 18.9. Su pp or t Ve ct or Ma ch in es 745
1 1
0.8 0.8
0.6 0.6
0.4 0.4
0.2 0.2
0 0
0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1
(a) (b)
Fi gu re 18.30 Su pp or tv ec to rm ac hi ne cl as si fi ca ti on: (a)Tw oc la ss es of po in ts(b la ck an d
w hi te c ir cl es) a nd t hr ee c an di da te l in ea r s ep ar at or s . (b) Th e m ax im um m ar gi n s ep ar at or
"(h ea vy l in e), i s a t t he m id po in t o f t he m ar gi n (a re a b et we en d as he d l in es). Th e s up po rt"
v ec to rs(p oi nt sw it hl ar ge ci rc le s)a re th ee xa mp le sc lo se st to th es ep ar at or .
s ho ul d m ak e y ou n er vo us t ha t s o m an y e xa mp le s a re c lo se t o t he l in e ; i t m ay b e t ha t o th er
b la ck ex am pl es wi ll tu rn ou tt of al lo nt he ot he rs id eo ft he li ne .
SVMs ad dr es st hi si ss ue: In st ea do fm in im iz in ge xp ec te de mp ir ic al lo ss on th et ra in in g
"d at a , SVMs a tt em pt t o m in im iz e e xp ec te d g en er al iz at io n l os s . We d on’t k no w w he re t he"
"a s-y et-u ns ee n p oi nt s m ay f al l , b ut u nd er t he p ro ba bi li st ic a ss um pt io n t ha t t he y a re d ra wn"
"f ro m t he s am e d is tr ib ut io n a s t he p re vi ou sl y s ee n e xa mp le s , t he re a re s om e a rg um en ts f ro m"
c om pu ta ti on al le ar ni ng th eo ry(Se ct io n 18.5)s ug ge st in gt ha tw em in im iz eg en er al iz at io nl os s
b y c ho os in g t he s ep ar at or t ha t i s f ar th es t a wa y f ro m t he e xa mp le s w e h av e s ee n s o f ar . We
"MAXIMUMMARGIN c al lt hi ss ep ar at or , s ho wn in Fi gu re 18.30(b) t he m ax im um ma rg in s ep ar at or . Th em ar gi n"
SEPARATOR
i s t he w id th o f t he a re a b ou nd ed b y d as he d l in es i n t he f ig ur e—t wi ce t he d is ta nc e f ro m t he
MARGIN
s ep ar at or to th en ea re st ex am pl ep oi nt .
"No w , h ow d o w e f in d t hi s s ep ar at or ? Be fo re s ho wi ng t he e qu at io ns , s om e n ot at io n:"
"Tr ad it io na ll y SVMs us e t he c on ve nt io n t ha t c la ss l ab el s a re +1 a nd -1, i ns te ad o ft he +1 a nd"
"0 w eh av e b ee n u si ng s o f ar . Al so , w he re w ep ut t he i nt er ce pt i nt o t he w ei gh t v ec to r w(a nd"
"a c or re sp on di ng d um my 1 v al ue i nt o x ), SVMs d o n ot d o t ha t ; t he y k ee p t he i nt er ce pt"
"j ,0"
"a s a s ep ar at e p ar am et er , b . Wi th t ha t i n m in d , t he s ep ar at or i s d ef in ed a s t he s et o f p oi nt s"
{x : w·x+b=0}. We c ou ld s ea rc h t he s pa ce o f w a nd b w it h g ra di en t d es ce nt t o f in d t he
p ar am et er s t ha tm ax im iz et he ma rg in wh il ec or re ct ly c la ss if yi ng a ll th ee xa mp le s .
"Ho we ve r , i t t ur ns o ut t he re i s a no th er a pp ro ac h t o s ol vi ng t hi s p ro bl em . We w on’t"
"s ho w t he d et ai ls , b ut w il l j us t s ay t ha t t he re i s a n a lt er na ti ve r ep re se nt at io n c al le d t he d ua l"
746 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"r ep re se nt at io n , i nw hi ch th eo pt im al so lu ti on i sf ou nd by so lv in g"
(c id:12) (c id:12)
1
a rg ma x α − α α y y (x ·x ) (18.13)
j j k j k j k
2
α
"j j ,k"
(c id:2)
QUADRATIC s ub je ct t o t he c on st ra in ts α ≥ 0 a nd α y =0. Th is i s a q ua dr at ic p ro gr am mi ng
PROGRAMMING j j j j
"o pt im iz at io n p ro bl em , f or wh ic ht he re a re go od so ft wa re p ac ka ge s . On ce we ha ve f ou nd t he"
(c id:2)
"v ec to r α w e c an g et b ac k t o w w it h t he e qu at io n w= α x , o r w e c an s ta y i n t he d ua l"
j j j
"r ep re se nt at io n . Th er ea re th re ei mp or ta nt pr op er ti es of Eq ua ti on(18.13). Fi rs t ,t he ex pr es si on"
"i sc on ve x ;i th as as in gl eg lo ba lm ax im um th at ca nb ef ou nd ef fi ci en tl y . Se co nd ,t he da ta en te r"
t he ex pr es si on on ly in th ef or mo fd ot pr od uc ts of pa ir so fp oi nt s . Th is se co nd pr op er ty is al so
"t ru eo ft he eq ua ti on f or th es ep ar at or it se lf ;o nc et he op ti ma lα h av eb ee nc al cu la te d , i ti s"
j
⎛ ⎞
(c id:12)
h(x) = s ig n⎝ α y (x·x )−b⎠ . (18.14)
j j j
j
Af in al im po rt an t p ro pe rt y i st ha tt he we ig ht s α a ss oc ia te d w it he ac hd at ap oi nt ar ez er oe x-
j
c ep tf or th e s up po rt ve ct or s—t he p oi nt s c lo se st t ot he se pa ra to r . (Th ey ar ec al le d“s up po rt”
SUPPORTVECTOR
v ec to rs b ec au se t he y “h ol d u p” t he s ep ar at in g p la ne .) Be ca us e t he re a re u su al ly m an yf ew er
"s up po rt ve ct or st ha ne xa mp le s ,SVMs ga in so me of th ea dv an ta ge s o fp ar am et ri cm od el s ."
Wh at if th ee xa mp le s a re no tl in ea rl y s ep ar ab le ? Fi gu re 18.31(a) s ho ws an in pu t s pa ce
"d ef in ed b y a tt ri bu te s x=(x ,x ), w it h p os it iv e e xa mp le s (y= +1) i ns id e a c ir cu la r r eg io n"
1 2
"a nd ne ga ti ve ex am pl es(y=−1)o ut si de . Cl ea rl y ,t he re is no li ne ar se pa ra to rf or th is pr ob le m ."
"No w ,s up po se we re-e xp re ss th ei np ut da ta—i .e .,w em ap ea ch in pu tv ec to rx to an ew ve ct or"
"o ff ea tu re v al ue s , F(x). In pa rt ic ul ar , l et us us et he th re ef ea tu re s"
√
"f =x 2 , f =x 2 , f = 2 x x . (18.15)"
1 1 2 2 3 1 2
"We w il l s ee s ho rt ly w he re t he se c am e f ro m , b ut f or n ow , j us t l oo k a t w ha t h ap pe ns . Fi g-"
"u re 18.31(b)s ho ws th ed at ai nt he ne w ,t hr ee-d im en si on al sp ac ed ef in ed by th et hr ee fe at ur es ;"
t he d at a a re l in ea rl y s ep ar ab le i n t hi s s pa ce ! Th is p he no me no n i s a ct ua ll y f ai rl y g en er al: i f
"d at aa re ma pp ed in to as pa ce o fs uf fi ci en tl y h ig h d im en si on , t he nt he yw il la lm os ta lw ay sb e"
"l in ea rl ys ep ar ab le—i fy ou lo ok at as et of po in ts fr om en ou gh d ir ec ti on s , y ou’l lf in da wa yt o"
"m ak et he ml in eu p . He re ,w eu se do nl yt hr ee di me ns io ns ;11 Ex er ci se 18.16 a sk sy ou to sh ow"
t ha tf ou rd im en si on s s uf fi ce fo rl in ea rl y s ep ar at in g a ci rc le a ny wh er ei nt he pl an e(n ot ju st at
"t he or ig in),a nd fi ve di me ns io ns su ff ic et ol in ea rl ys ep ar at e a ny el li ps e . In ge ne ra l(w it hs om e"
s pe ci al ca se se xc ep te d)i fw eh av e N d at ap oi nt st he nt he yw il la lw ay sb es ep ar ab le in sp ac es
o f N −1 d im en si on s o rm or e(Ex er ci se 18.25).
"No w , w e w ou ld n ot u su al ly e xp ec t t o f in d a l in ea r s ep ar at or i n t he i np ut s pa ce x , b ut"
w ec an fi nd li ne ar se pa ra to rs in th eh ig h-d im en si on al f ea tu re sp ac e F(x)s im pl yb yr ep la ci ng
x ·x i n Eq ua ti on(18.13)w it h F(x )·F(x ). Th is by it se lf is no tr em ar ka bl e—r ep la ci ng x by
j k j k
F(x)i na ny le ar ni ng al go ri th mh as th er eq ui re de ff ec t—b ut th ed ot pr od uc th as so me sp ec ia l
p ro pe rt ie s . It t ur ns o ut t ha t F(x )·F(x )c an o ft en b ec om pu te d w it ho ut f ir st co mp ut in g F
j k
"11 Th er ea de rm ay no ti ce th at we co ul dh av eu se dj us tf 1 a nd f 2,b ut th e 3 Dm ap pi ng il lu st ra te st he id ea be tt er ."
Se ct io n 18.9. Su pp or t Ve ct or Ma ch in es 747
1.5
1
0.5
0
-0.5
-1
-1.5
-1.5 -1 -0.5 0 0.5 1 1.5
x 2
√2 x x
1 2
3
2
1
0
-1
-2 2.5
-3 2
0
1.5 0.5
1 1 x 2
2
x 2 1.5 0.5 1 2
x
1
(a) (b)
Fi gu re 18.31 (a) A t wo-d im en si on al t ra in in g s et w it h p os it iv e e xa mp le s a s b la ck c ir-
"c le s a nd n eg at iv e e xa mp le s a s w hi te c ir cl es . Th e t ru e d ec is io n b ou nd ar y , x 2 + x 2 ≤ 1,"
1 2
i s a ls o s√h ow n . (b) Th e s am e d at a a ft er m ap pi ng i nt o a t hr ee-d im en si on al i np ut s pa ce
"(x 2,x 2, 2 x x ). Th ec ir cu la rd ec is io nb ou nd ar yi n(a)b ec om es al in ea rd ec is io nb ou nd ar y"
1 2 1 2
i nt hr ee di me ns io ns .Fi gu re 18.30(b)g iv es ac lo se up of th es ep ar at or in(b).
"f or ea ch po in t . In ou rt hr ee-d im en si on al f ea tu re sp ac ed ef in ed by Eq ua ti on(18.15),a li tt le bi t"
o fa lg eb ra s ho ws th at
F(x )·F(x ) = (x ·x )2 .
j k j k
√
"(Th at’s w hy t he 2 i s i n f .) Th e e xp re ss io n (x · x )2 i s c al le d a k er ne l f un ct io n ,12 a nd"
KERNELFUNCTION 3 j k
"i s u su al ly w ri tt en a s K(x ,x ). Th e k er ne l f un ct io n c an b e a pp li ed t o p ai rs o f i np ut d at a t o"
j k
"e va lu at e d ot pr od uc ts i ns om ec or re sp on di ng f ea tu re sp ac e . So ,w ec an fi nd li ne ar se pa ra to rs"
i nt he hi gh er-d im en si on al f ea tu re sp ac e F(x)s im pl yb yr ep la ci ng x ·x i n Eq ua ti on(18.13)
j k
"w it ha ke rn el fu nc ti on K(x ,x ). Th us ,w ec an le ar ni nt he hi gh er-d im en si on al s pa ce ,b ut we"
j k
c om pu te on ly ke rn el fu nc ti on s r at he rt ha nt he fu ll li st of fe at ur es f or ea ch da ta po in t .
"Th en ex ts te pi st os ee th at th er e’s no th in gs pe ci al ab ou tt he ke rn el K(x ,x )=(x ·x )2."
j k j k
"It c or re sp on ds t o a p ar ti cu la r h ig he r-d im en si on al f ea tu re s pa ce , b ut o th er k er ne l f un ct io ns"
"c or re sp on d t o o th er f ea tu re s pa ce s . A v en er ab le r es ul t i n m at he ma ti cs , Me rc er’s t he o-"
"r em (1909), t el ls u s t ha t a ny “r ea so na bl e”13 k er ne l f un ct io n c or re sp on ds t o s om e f ea tu re"
MERCER’STHEOREM
"s pa ce . Th es e f ea tu re s pa ce s c an b e v er y l ar ge , e ve n f or i nn oc uo us-l oo ki ng k er ne ls . Fo r e x-"
"POLYNOMIAL a mp le , t he p ol yn om ia l k er ne l , K(x ,x )=(1 + x · x )d , c or re sp on ds t o a f ea tu re s pa ce"
KERNEL j k j k
w ho se di me ns io n i se xp on en ti al i nd .
12 Th is us ag e o f “k er ne l f un ct io n” i ss li gh tl y d if fe re nt f ro mt he k er ne ls i n l oc al ly w ei gh te d r eg re ss io n . So me
"SVMk er ne ls ar ed is ta nc em et ri cs ,b ut no ta ll ar e ."
"13 He re ,“r ea so na bl e”m ea ns th at th em at ri x Kj k=K(x j ,x k)i sp os it iv ed ef in it e ."
748 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"Th is t he n i s t he c le ve r k er ne l t ri ck: Pl ug gi ng t he se k er ne ls i nt o Eq ua ti on (18.13),"
KERNELTRICK
"o pt im al l in ea r s ep ar at or s c an b e f ou nd e ff ic ie nt ly i n f ea tu re s pa ce s w it h b il li on s o f (o r , i n"
"s om ec as es , i nf in it el y m an y)d im en si on s . Th er es ul ti ng l in ea rs ep ar at or s , w he nm ap pe db ac k"
"t o t he o ri gi na l i np ut s pa ce , c an c or re sp on d t o a rb it ra ri ly w ig gl y , n on li ne ar d ec is io n b ou nd-"
a ri es be tw ee nt he po si ti ve an dn eg at iv ee xa mp le s .
"In t he c as e o f i nh er en tl y n oi sy d at a , w e m ay n ot w an t a l in ea r s ep ar at or i n s om e h ig h-"
"d im en si on al s pa ce . Ra th er , w e’d l ik e a d ec is io n s ur fa ce i n a l ow er-d im en si on al s pa ce t ha t"
"d oe s n ot c le an ly s ep ar at e t he c la ss es , b ut r ef le ct s t he r ea li ty o f t he n oi sy d at a . Th at i s p os-"
"s ib le w it ht he s of t m ar gi n c la ss if ie r , w hi ch a ll ow s e xa mp le s t o f al l o n t he w ro ng s id e o f t he"
SOFTMARGIN
"d ec is io n b ou nd ar y , b ut a ss ig ns t he m a p en al ty p ro po rt io na l t o t he d is ta nc e r eq ui re d t o m ov e"
t he mb ac ko nt he co rr ec ts id e .
Th e k er ne l m et ho d c an b e a pp li ed n ot o nl y w it h l ea rn in g a lg or it hm s t ha t f in d o pt im al
"l in ea r s ep ar at or s , b ut a ls o w it h a ny o th er a lg or it hm t ha t c an b e r ef or mu la te d t o w or k o nl y"
"w it h d ot p ro du ct s o f p ai rs o f d at a p oi nt s , a s i n Eq ua ti on s 18.13 a nd 18.14. On ce t hi s i s"
"d on e , t he d ot p ro du ct i s r ep la ce d b y a k er ne l f un ct io n a nd w e h av e a k er ne li ze d v er si on"
KERNELIZATION
o f t he a lg or it hm . Th is c an b e d on e e as il y f or k-n ea re st-n ei gh bo rs a nd p er ce pt ro n l ea rn in g
"(Se ct io n 18.7.2),a mo ng ot he rs ."
18.10 ENSEMBLE LEARNING
"So f ar w e h av e l oo ke d a t l ea rn in g m et ho ds i n w hi ch a s in gl e h yp ot he si s , c ho se n f ro m a"
"ENSEMBLE h yp ot he si s s pa ce , i s u se d t o m ak e p re di ct io ns . Th e i de a o f e ns em bl e l ea rn in g m et ho ds i s"
LEARNING
"t o s el ec t a c ol le ct io n , o r e ns em bl e , o f h yp ot he se s f ro m t he h yp ot he si s s pa ce a nd c om bi ne"
"t he ir p re di ct io ns . Fo r e xa mp le , d ur in g c ro ss-v al id at io n w e m ig ht g en er at e t we nt y d if fe re nt"
"d ec is io n t re es ,a nd ha ve th em vo te on th eb es tc la ss if ic at io n f or an ew ex am pl e ."
Th e m ot iv at io n f or e ns em bl e l ea rn in g i s s im pl e . Co ns id er a n e ns em bl e o f K=5 h y-
p ot he se sa nd su pp os et ha tw ec om bi ne th ei rp re di ct io ns us in gs im pl em aj or it yv ot in g . Fo rt he
"e ns em bl et om is cl as si fy a ne we xa mp le ,a tl ea st th re eo ft he fi ve hy po th es es h av et om is cl as-"
s if yi t . Th eh op ei st ha tt hi si sm uc hl es sl ik el yt ha na mi sc la ss if ic at io nb ya si ng le hy po th es is .
"Su pp os e w e a ss um e t ha t e ac h h yp ot he si s h i n t he e ns em bl e h as a n e rr or o f p—t ha t i s , t he"
k
"p ro ba bi li ty th at ar an do ml yc ho se ne xa mp le is mi sc la ss if ie db yh i sp . Fu rt he rm or e ,s up po se"
k
"w ea ss um et ha tt he er ro rs ma de by ea ch hy po th es is ar ei nd ep en de nt . In th at ca se ,i fp is sm al l ,"
t he n t he p ro ba bi li ty o f a l ar ge n um be r o f m is cl as si fi ca ti on s o cc ur ri ng i s m in us cu le . Fo r e x-
"a mp le ,a si mp le ca lc ul at io n(Ex er ci se 18.18)s ho ws th at us in ga ne ns em bl eo ff iv eh yp ot he se s"
"r ed uc es a n e rr or r at e o f 1 i n 10 d ow n t o a n e rr or r at e o f l es s t ha n 1 i n 100. No w , o bv io us ly"
"t he a ss um pt io n o f i nd ep en de nc e i su nr ea so na bl e , b ec au se h yp ot he se s a re li ke ly t ob em is le d"
i n t he s am e w ay b y a ny m is le ad in g a sp ec ts o f t he t ra in in g d at a . Bu t i ft he h yp ot he se s a re a t
"l ea st al it tl eb it di ff er en t ,t he re by re du ci ng th ec or re la ti on be tw ee nt he ir er ro rs ,t he ne ns em bl e"
l ea rn in g c an be ve ry us ef ul .
An ot he r w ay t o t hi nk a bo ut t he e ns em bl e i de a i s a s a g en er ic w ay o f e nl ar gi ng t he
"h yp ot he si ss pa ce . Th at is ,t hi nk of th ee ns em bl ei ts el fa sa hy po th es is an dt he ne wh yp ot he si s"
Se ct io n 18.10. En se mb le Le ar ni ng 749
–
–
– – – –
–
–
– – – –
–
– + – –
– –
– + + –
+ ++ + – –
– + + –
+ ++ + +
– – –
– – – – – – – – – –
– –
– –
Fi gu re 18.32 Il lu st ra ti on of th ei nc re as ed ex pr es si ve po we ro bt ai ne db y e ns em bl el ea rn-
"i ng . We t ak e t hr ee l in ea r t hr es ho ld h yp ot he se s , e ac h o f w hi ch c la ss if ie s p os it iv el y o n t he"
"u ns ha de d s id e , a nd c la ss if y a s p os it iv e a ny e xa mp le c la ss if ie d p os it iv el y b y a ll t hr ee . Th e"
r es ul ti ng tr ia ng ul ar re gi on is ah yp ot he si sn ot ex pr es si bl ei nt he or ig in al hy po th es is sp ac e .
s pa ce as th es et of al lp os si bl ee ns em bl es co ns tr uc ta bl ef ro mh yp ot he se si nt he or ig in al sp ac e .
Fi gu re 18.32 s ho ws ho wt hi sc an re su lt in am or ee xp re ss iv eh yp ot he si s s pa ce . If th eo ri gi na l
"h yp ot he si s s pa ce a ll ow s f or a s im pl e a nd e ff ic ie nt l ea rn in g a lg or it hm , t he n t he e ns em bl e"
m et ho dp ro vi de sa wa yt ol ea rn am uc hm or ee xp re ss iv ec la ss of hy po th es es wi th ou ti nc ur ri ng
m uc ha dd it io na l c om pu ta ti on al o ra lg or it hm ic c om pl ex it y .
"Th em os tw id el yu se de ns em bl em et ho di sc al le db oo st in g . To un de rs ta nd ho wi tw or ks ,"
BOOSTING
"WEIGHTEDTRAINING w e n ee d f ir st t o e xp la in t he i de a o f a w ei gh te d t ra in in g s et . In s uc h a t ra in in g s et , e ac h"
SET
"e xa mp le h as a n a ss oc ia te d w ei gh t w ≥ 0. Th e h ig he r t he w ei gh t o f a n e xa mp le , t he h ig he r"
j
i s t he i mp or ta nc e a tt ac he d t o i t d ur in g t he l ea rn in g o f a h yp ot he si s . It i s s tr ai gh tf or wa rd t o
m od if yt he le ar ni ng a lg or it hm sw eh av es ee ns of ar to op er at e w it hw ei gh te dt ra in in g s et s .14
"Bo os ti ng s ta rt s w it h w =1 f or al lt he ex am pl es (i .e ., a no rm al t ra in in g s et). Fr om t hi s"
j
"s et ,i tg en er at es th ef ir st hy po th es is , h . Th is hy po th es is wi ll cl as si fy so me of th et ra in in ge x-"
1
a mp le sc or re ct ly a nd so me in co rr ec tl y . We wo ul dl ik et he ne xt hy po th es is t od ob et te ro nt he
"m is cl as si fi ed ex am pl es ,s ow ei nc re as et he ir we ig ht sw hi le de cr ea si ng th ew ei gh ts of th ec or-"
"r ec tl y c la ss if ie d e xa mp le s . Fr om t hi s n ew w ei gh te d t ra in in g s et , w eg en er at e h yp ot he si s h ."
2
"Th ep ro ce ss co nt in ue si nt hi sw ay un ti lw eh av eg en er at ed K h yp ot he se s ,w he re K i sa ni np ut"
t ot he bo os ti ng al go ri th m . Th ef in al en se mb le hy po th es is is aw ei gh te d-m aj or it yc om bi na ti on
"o fa ll th e Kh yp ot he se s ,e ac hw ei gh te da cc or di ng to ho ww el li tp er fo rm ed on th et ra in in gs et ."
Fi gu re 18.33 s ho ws ho wt he al go ri th mw or ks co nc ep tu al ly . Th er ea re ma ny va ri an ts of th eb a-
"s ic bo os ti ng id ea ,w it hd if fe re nt wa ys of ad ju st in gt he we ig ht sa nd co mb in in gt he hy po th es es ."
"On es pe ci fi ca lg or it hm ,c al le d ADABOOST ,i ss ho wn in Fi gu re 18.34. ADABOOSTh as av er y"
i mp or ta nt p ro pe rt y: i f t he i np ut l ea rn in g a lg or it hm L i s a w ea k l ea rn in g a lg or it hm—w hi ch
WEAKLEARNING
"14 Fo rl ea rn in ga lg or it hm si nw hi ch th is is no tp os si bl e ,o ne ca ni ns te ad cr ea te ar ep li ca te dt ra in in gs et wh er e"
"t he jt he xa mp le ap pe ar sw j t im es ,u si ng ra nd om iz at io nt oh an dl ef ra ct io na lw ei gh ts ."
750 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
h = h = h = h =
1 2 3 4
h
Fi gu re 18.33 Ho wt he bo os ti ng al go ri th mw or ks . Ea ch sh ad ed re ct an gl ec or re sp on ds to
a ne xa mp le ; t he h ei gh to f t he re ct an gl ec or re sp on ds to t he we ig ht . Th ec he ck sa nd cr os se s
i nd ic at ew he th er th ee xa mp le wa sc la ss if ie dc or re ct ly by th ec ur re nt hy po th es is . Th es iz eo f
t he de ci si on tr ee in di ca te st he we ig ht of th at hy po th es is in th ef in al en se mb le .
m ea ns t ha t L a lw ay s r et ur ns a h yp ot he si s w it h a cc ur ac y o n t he t ra in in g s et t ha t i s s li gh tl y
"b et te rt ha nr an do mg ue ss in g(i .e .,50%+(c id:2)f or Bo ol ea nc la ss if ic at io n)—t he n ADABOOSTw il l"
"r et ur n a h yp ot he si s t ha t c la ss if ie s t he t ra in in g d at a p er fe ct ly f or l ar ge e no ug h K . Th us , t he"
a lg or it hm b oo st s t he a cc ur ac y o f t he o ri gi na l l ea rn in g a lg or it hm o n t he t ra in in g d at a . Th is
r es ul t h ol ds n o m at te r h ow i ne xp re ss iv e t he o ri gi na l h yp ot he si s s pa ce a nd n o m at te r h ow
c om pl ex th ef un ct io n b ei ng le ar ne d .
Le tu ss ee ho ww el lb oo st in gd oe so nt he re st au ra nt da ta . We wi ll ch oo se as ou ro ri gi na l
"h yp ot he si s s pa ce th ec la ss of de ci si on s tu mp s ,w hi ch ar ed ec is io n t re es wi th ju st on et es t ,a t"
DECISIONSTUMP
t he r oo t . Th e l ow er c ur ve i n Fi gu re 18.35(a) s ho ws t ha t u nb oo st ed d ec is io n s tu mp s a re n ot
"v er ye ff ec ti ve fo rt hi sd at as et ,r ea ch in ga pr ed ic ti on pe rf or ma nc eo fo nl y 81%o n 100 t ra in in g"
"e xa mp le s . Wh en b oo st in g i s a pp li ed (w it h K=5), t he p er fo rm an ce i s b et te r , r ea ch in g 93%"
a ft er 100 e xa mp le s .
An in te re st in g t hi ng h ap pe ns a st he en se mb le s iz e K i nc re as es . Fi gu re 18.35(b) s ho ws
t he t ra in in g s et p er fo rm an ce (o n 100 e xa mp le s) a s a f un ct io n o f K . No ti ce t ha t t he e rr or
"r ea ch es z er o w he n K i s 20; t ha t i s , a w ei gh te d-m aj or it y c om bi na ti on o f 20 d ec is io n s tu mp s"
"s uf fi ce st of it th e 100 e xa mp le se xa ct ly . As mo re st um ps ar ea dd ed to th ee ns em bl e , t he er ro r"
r em ai ns a t z er o . Th e g ra ph a ls o s ho ws t ha t t he t es t s et p er fo rm an ce c on ti nu es t o i nc re as e
"l on g a ft er t he t ra in in g s et e rr or h as r ea ch ed z er o . At K = 20, t he t es t p er fo rm an ce i s 0.95"
"(o r 0.05 e rr or), a nd t he p er fo rm an ce i nc re as es t o 0.98 a s l at e a s K = 137, b ef or e g ra du al ly"
d ro pp in g t o 0.95.
"Th is fi nd in g ,w hi ch is qu it er ob us ta cr os sd at as et sa nd hy po th es is sp ac es ,c am ea sq ui te"
a s ur pr is e w he n i t w as f ir st n ot ic ed . Oc kh am’s r az or t el ls u s n ot t o m ak e h yp ot he se s m or e
Se ct io n 18.10. En se mb le Le ar ni ng 751
"f un ct io n ADABOOST(e xa mp le s ,L ,K)r et ur ns aw ei gh te d-m aj or it yh yp ot he si s"
"i np ut s:e xa mp le s ,s et of N l ab el ed ex am pl es(x 1,y 1),...,(x N ,y N)"
"L ,a le ar ni ng al go ri th m"
"K ,t he nu mb er of hy po th es es in th ee ns em bl e"
"l oc al va ri ab le s: w ,a ve ct or of N e xa mp le we ig ht s ,i ni ti al ly 1/N"
"h ,a ve ct or of K h yp ot he se s"
"z ,a ve ct or of K h yp ot he si sw ei gh ts"
f or k =1 t o K d o
"h[k]←L(e xa mp le s ,w)"
e rr or←0
f or j =1 t o N d o
i fh[k](x j)(c id:7)= y j t he ne rr or←e rr or + w[j]
f or j =1 t o N d o
i fh[k](x j)=y j t he nw[j]←w[j]· e rr or/(1−e rr or)
w←NORMALIZE(w)
z[k]←l og(1−e rr or)/e rr or
"r et ur n WEIGHTED-MAJORITY(h ,z)"
Fi gu re 18.34 Th e ADABOOSTv ar ia nt of th eb oo st in gm et ho df or en se mb le le ar ni ng .Th e
a lg or it hm ge ne ra te sh yp ot he se sb ys uc ce ss iv el yr ew ei gh ti ng th et ra in in ge xa mp le s .Th ef un c-
t io n WEIGHTED-MAJORITY g en er at es a h yp ot he si s t ha t r et ur ns t he o ut pu t v al ue w it h t he
"h ig he st vo te fr om th eh yp ot he se si nh ,w it hv ot es we ig ht ed by z ."
1
0.95
0.9
0.85
0.8
0.75
0.7
0.65
0.6
0.55
0.5
0 20 40 60 80 100
t es
t se t
n o
t ce rr oc
n oi tr op or P
1
0.95
0.9
0.85
0.8
0.75
Bo os te d d ec is io n s tu mp s
De ci si on s tu mp 0.7
0.65
0.6
0 50 100 150 200
Tr ai ni ng s et s iz e
y ca ru cc a
t se t/g ni ni ar T
Tr ai ni ng e rr or
Te st e rr or
Nu mb er o f h yp ot he se s K
(a) (b)
Fi gu re 18.35 (a)Gr ap hs ho wi ng th ep er fo rm an ce of bo os te dd ec is io ns tu mp sw it h K=5
v er su su nb oo st ed de ci si on st um ps on th e r es ta ur an td at a . (b)Th ep ro po rt io nc or re ct on th e
"t ra in in gs et a nd t he t es t s et a s a f un ct io no f K , t he n um be ro f h yp ot he se si n t he e ns em bl e ."
"No ti ce th at th et es ts et ac cu ra cy im pr ov es sl ig ht ly ev en af te rt he tr ai ni ng ac cu ra cy re ac he s 1,"
"i .e .,a ft er th ee ns em bl ef it st he da ta ex ac tl y ."
752 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
"c om pl ex t ha n n ec es sa ry , b ut t he g ra ph t el ls u s t ha t t he p re di ct io ns i mp ro ve a s t he e ns em bl e"
h yp ot he si s g et sm or ec om pl ex ! Va ri ou s e xp la na ti on s h av e b ee n p ro po se d f or th is . On ev ie w
"i s t ha t b oo st in g a pp ro xi ma te s Ba ye si an l ea rn in g (s ee Ch ap te r 20), w hi ch c an b e s ho wn t o"
"b e a n o pt im al l ea rn in g a lg or it hm , a nd t he a pp ro xi ma ti on i mp ro ve s a s m or e h yp ot he se s a re"
a dd ed . An ot he r p os si bl e e xp la na ti on i s t ha t t he a dd it io n o f f ur th er h yp ot he se s e na bl es t he
"e ns em bl et ob em or ed ef in it ei ni ts di st in ct io nb et we en po si ti ve an dn eg at iv ee xa mp le s ,w hi ch"
h el ps it wh en it co me st oc la ss if yi ng n ew ex am pl es .
18.10.1 On li ne Le ar ni ng
"So fa r ,e ve ry th in g w eh av ed on ei nt hi sc ha pt er ha sr el ie do nt he as su mp ti on t ha tt he da ta ar e"
"i .i .d . (i nd ep en de nt an di de nt ic al ly di st ri bu te d). On th eo ne ha nd ,t ha ti sa se ns ib le as su mp ti on:"
"i ft he fu tu re be ar sn or es em bl an ce to th ep as t ,t he nh ow ca nw ep re di ct an yt hi ng ? On th eo th er"
"h an d ,i ti st oo st ro ng an as su mp ti on: i ti sr ar et ha to ur in pu ts ha ve ca pt ur ed al lt he in fo rm at io n"
t ha tw ou ld ma ke th ef ut ur et ru ly in de pe nd en t o ft he pa st .
In th is se ct io nw ee xa mi ne wh at to do wh en th ed at aa re no ti .i .d .;w he nt he yc an ch an ge
"o ve rt im e . In th is ca se ,i tm at te rs wh en we ma ke ap re di ct io n ,s ow ew il la do pt th ep er sp ec ti ve"
"c al le do nl in el ea rn in g: a na ge nt re ce iv es an in pu tx f ro mn at ur e ,p re di ct st he co rr es po nd in g"
ONLINELEARNING j
"y , a nd t he n i s t ol d t he c or re ct a ns we r . Th en t he p ro ce ss r ep ea ts w it h x , a nd s o o n . On e"
j j+1
"m ig ht t hi nk t hi s t as k i s h op el es s—i f n at ur e i s a dv er sa ri al , a ll t he p re di ct io ns m ay b e w ro ng ."
It tu rn so ut th at th er ea re so me gu ar an te es w ec an ma ke .
Le t u s c on si de r t he s it ua ti on w he re o ur i np ut c on si st s o f p re di ct io ns f ro m a p an el o f
"e xp er ts . Fo re xa mp le , e ac h d ay as et of K p un di ts p re di ct s w he th er th es to ck m ar ke tw il lg o"
"u po rd ow n , a nd o ur ta sk i st op oo l t ho se p re di ct io ns a nd m ak eo ur ow n . On ew ay to do t hi s"
"i s t o k ee p t ra ck o f h ow w el le ac h e xp er t p er fo rm s , a nd c ho os e t o b el ie ve t he m i n p ro po rt io n"
RANDOMIZED
WEIGHTED t ot he ir pa st pe rf or ma nc e . Th is is ca ll ed th e r an do mi ze dw ei gh te dm aj or it ya lg or it hm . We
MAJORITY
ALGORITHM c an de sc ri be d i tm or ef or ma ll y:
"1. In it ia li ze as et of we ig ht s{w ,...,w }a ll to 1."
1 K
"2. Re ce iv et he pr ed ic ti on s {yˆ ,...,yˆ }f ro mt he ex pe rt s ."
1 K (c id:2)
∗
"3. Ra nd om ly ch oo se an ex pe rt k ,i np ro po rt io n t oi ts we ig ht: P(k)=w k/( k(c id:3)w k(c id:3))."
4. Pr ed ic tyˆ k∗.
5. Re ce iv et he co rr ec ta ns we r y .
"6. Fo re ac he xp er t k s uc ht ha tyˆ (c id:7)= y ,u pd at ew ←βw"
k k k
"He reβ i sa nu mb er , 0 < β < 1,t ha tt el ls ho wm uc ht op en al iz ea ne xp er tf or ea ch mi st ak e ."
"We m ea su re t he s uc ce ss o f t hi s a lg or it hm i n t er ms o f r eg re t , w hi ch i s d ef in ed a s t he"
REGRET
"n um be r o f a dd it io na l m is ta ke s w e m ak e c om pa re d t o t he e xp er t w ho , i n h in ds ig ht , h ad t he"
∗
b es tp re di ct io n r ec or d . Le t M b et he nu mb er of mi st ak es ma de by th eb es te xp er t . Th en th e
"n um be ro fm is ta ke s , M ,m ad eb yt he ra nd om w ei gh te dm aj or it ya lg or it hm , i sb ou nd ed b y 15"
∗
M l n(1/β)+l n K
M < .
1−β
"15 Se e(Bl um ,1996)f or th ep ro of ."
Se ct io n 18.11. Pr ac ti ca l Ma ch in e Le ar ni ng 753
"Th is b ou nd h ol ds f or a ny s eq ue nc e o f e xa mp le s , e ve n o ne s c ho se n b y a dv er sa ri es t ry in g t o"
"d o t he ir w or st . To b e s pe ci fi c , w he n t he re a re K=10 e xp er ts , i f w e c ho os e β=1/2 t he n"
∗ ∗
"o ur n um be r o f m is ta ke s i s b ou nd ed b y 1.39 M +4.6, a nd i f β=3/4 b y 1.15 M +9.2. In"
"g en er al ,i fβi sc lo se to 1 t he nw ea re re sp on si ve to ch an ge ov er th el on gr un ;i ft he be st ex pe rt"
"c ha ng es , w ew il lp ic k u p o ni tb ef or e t oo l on g . Ho we ve r , w ep ay a pe na lt y a tt he b eg in ni ng ,"
w he n w e s ta rt w it h a ll e xp er ts t ru st ed e qu al ly ; w e m ay a cc ep t t he a dv ic e o f t he b ad e xp er ts
"f or to ol on g . Wh enβ i sc lo se rt o 0,t he se tw of ac to rs ar er ev er se d . No te th at we ca nc ho os eβ"
∗
NO-REGRET t og et as ym pt ot ic al ly c lo se to M i nt he lo ng ru n ; t hi si sc al le d n o-r eg re t l ea rn in g(b ec au se
LEARNING
t he av er ag ea mo un to fr eg re tp er tr ia lt en ds to 0 a st he nu mb er o ft ri al si nc re as es).
On li ne l ea rn in g i s h el pf ul w he n t he d at a m ay b e c ha ng in g r ap id ly o ve r t im e . It i s a ls o
"u se fu l f or ap pl ic at io ns t ha ti nv ol ve a la rg ec ol le ct io n o fd at at ha ti sc on st an tl y g ro wi ng , e ve n"
"i fc ha ng es ar eg ra du al . Fo re xa mp le ,w it ha da ta ba se of mi ll io ns of We bi ma ge s ,y ou wo ul dn’t"
"w an tt ot ra in ,s ay ,a li ne ar re gr es si on mo de lo na ll th ed at a , a nd th en re tr ai nf ro ms cr at ch ev er y"
t im ea ne wi ma ge is ad de d . It wo ul db em or ep ra ct ic al to ha ve an on li ne al go ri th mt ha ta ll ow s
"i ma ge s t o b e a dd ed i nc re me nt al ly . Fo r m os t l ea rn in g a lg or it hm s b as ed o n m in im iz in g l os s ,"
t he re is an on li ne ve rs io nb as ed on mi ni mi zi ng re gr et . It is a b on us th at ma ny of th es eo nl in e
a lg or it hm s c om ew it hg ua ra nt ee d b ou nd s o nr eg re t .
"To so me ob se rv er s , i ti ss ur pr is in g t ha tt he re ar es uc ht ig ht b ou nd s o nh ow we ll we ca n"
"d o c om pa re d t o a p an el o f e xp er ts . To ot he rs , t he r ea ll y s ur pr is in g t hi ng i s t ha t w he n p an el s"
"o f h um an e xp er ts c on gr eg at e—p re di ct in g s to ck m ar ke t p ri ce s , s po rt s o ut co me s , o r p ol it ic al"
c on te st s—t he v ie wi ng p ub li c i s s o w il li ng t o l is te n t o t he m p on ti fi ca te a nd s o u nw il li ng t o
q ua nt if y t he ir er ro rr at es .
18.11 PRACTICAL MACHINE LEARNING
"We ha ve in tr od uc ed aw id er an ge of ma ch in el ea rn in gt ec hn iq ue s ,e ac hi ll us tr at ed wi th si mp le"
"l ea rn in gt as ks . In th is se ct io n ,w ec on si de rt wo as pe ct so fp ra ct ic al ma ch in el ea rn in g . Th ef ir st"
i nv ol ve sf in di ng al go ri th ms ca pa bl eo fl ea rn in gt or ec og ni ze ha nd wr it te nd ig it sa nd sq ue ez in g
e ve ry l as t d ro p o f p re di ct iv e p er fo rm an ce o ut o f t he m . Th e s ec on d i nv ol ve s a ny th in g b ut—
"p oi nt in go ut th at ob ta in in g , c le an in g ,a nd re pr es en ti ng th ed at ac an be at le as ta si mp or ta nt as"
a lg or it hm e ng in ee ri ng .
18.11.1 Ca se st ud y: Ha nd wr it te nd ig it re co gn it io n
"Re co gn iz in g h an dw ri tt en d ig it s i s a n i mp or ta nt p ro bl em w it h m an y a pp li ca ti on s , i nc lu di ng"
"a ut om at ed s or ti ng o f m ai l b y p os ta l c od e , a ut om at ed r ea di ng o f c he ck s a nd t ax r et ur ns , a nd"
"d at ae nt ry fo rh an d-h el d c om pu te rs . It is an ar ea wh er er ap id p ro gr es sh as be en ma de ,i np ar t"
b ec au se o fb et te rl ea rn in g a lg or it hm s a nd in pa rt be ca us eo f t he av ai la bi li ty o fb et te rt ra in in g
s et s . Th e Un it ed St at es Na ti on al In st it ut e o f Sc ie nc e a nd Te ch no lo gy (NIST)h as a rc hi ve d a
"d at ab as e o f 60,000 l ab el ed d ig it s , e ac h 20×20=400 p ix el s w it h 8-b it g ra ys ca le v al ue s . It"
h as be co me on eo ft he st an da rd be nc hm ar kp ro bl em sf or co mp ar in gn ew le ar ni ng al go ri th ms .
So me ex am pl ed ig it sa re sh ow ni n Fi gu re 18.36.
754 Ch ap te r 18. Le ar ni ng fr om Ex am pl es
Fi gu re 18.36 Ex am pl es fr om th e NISTd at ab as eo fh an dw ri tt en di gi ts .To pr ow:e xa mp le s
o fd ig it s 0–9 t ha ta re ea sy to id en ti fy .Bo tt om ro w:m or ed if fi cu lt ex am pl es of th es am ed ig it s .
"Ma ny di ff er en t l ea rn in g a pp ro ac he s h av e b ee n t ri ed . On eo ft he f ir st , a nd p ro ba bl y t he"
"s im pl es t , i s t he 3-n ea re st-n ei gh bo r c la ss if ie r , w hi ch a ls o h as t he a dv an ta ge o f r eq ui ri ng n o"
"t ra in in g t im e . As a m em or y-b as ed a lg or it hm , h ow ev er , i t m us t s to re a ll 60,000 i ma ge s , a nd"
i ts ru nt im ep er fo rm an ce i ss lo w . It ac hi ev ed at es te rr or ra te of 2.4%.
A s in gl e-h id de n-l ay er n eu ra l n et wo rk w as d es ig ne d f or t hi s p ro bl em w it h 400 i np ut
"u ni ts(o ne pe rp ix el)a nd 10 o ut pu tu ni ts(o ne pe rc la ss). Us in gc ro ss-v al id at io n , i tw as fo un d"
t ha tr ou gh ly 300 h id de nu ni ts ga ve th eb es tp er fo rm an ce . Wi th fu ll in te rc on ne ct io ns b et we en
"l ay er s , t he re we re at ot al of 123,300 w ei gh ts . Th is ne tw or ka ch ie ve da 1.6%e rr or ra te ."
As er ie s o f s pe ci al iz ed n eu ra ln et wo rk s c al le d Le Ne tw er e d ev is ed t ot ak e a dv an ta ge
"o ft he st ru ct ur e o ft he pr ob le m—t ha t t he in pu t c on si st s o fp ix el si na tw o–d im en si on al a rr ay ,"
a nd t ha t s ma ll c ha ng es i n t he p os it io n o r s la nt o f a n i ma ge a re u ni mp or ta nt . Ea ch n et wo rk
"h ad an in pu tl ay er of 32×32 u ni ts ,o nt ow hi ch th e 20×20 p ix el sw er ec en te re ds ot ha te ac h"
i np ut un it is pr es en te dw it ha lo ca ln ei gh bo rh oo d o fp ix el s . Th is wa sf ol lo we db yt hr ee la ye rs
"o f h id de n u ni ts . Ea ch l ay er c on si st ed o f s ev er al p la ne s o f n×n a rr ay s , w he re n i s s ma ll er"
"t ha nt he pr ev io us la ye rs ot ha tt he ne tw or ki sd ow n-s am pl in gt he in pu t ,a nd wh er et he we ig ht s"
"o fe ve ry un it in ap la ne ar ec on st ra in ed t ob ei de nt ic al , s ot ha tt he pl an ei sa ct in g a sa fe at ur e"
d et ec to r: i tc an pi ck ou ta fe at ur es uc ha sa lo ng ve rt ic al li ne or as ho rt se mi-c ir cu la ra rc . Th e
o ut pu t l ay er ha d 10 u ni ts . Ma ny ve rs io ns o ft hi sa rc hi te ct ur e w er et ri ed ; a re pr es en ta ti ve o ne
"h ad h id de n l ay er s w it h 768, 192, a nd 30 u ni ts , r es pe ct iv el y . Th et ra in in g s et wa sa ug me nt ed"
"b ya pp ly in ga ff in et ra ns fo rm at io ns t ot he ac tu al in pu ts: s hi ft in g ,s li gh tl yr ot at in g ,a nd sc al in g"
"t he im ag es . (Of co ur se , t he tr an sf or ma ti on s h av et ob es ma ll , o re ls e a 6 w il lb et ra ns fo rm ed"
i nt oa 9!) Th eb es te rr or ra te ac hi ev ed by Le Ne tw as 0.9%.
"A b oo st ed n eu ra l n et wo rk c om bi ne d t hr ee c op ie s o f t he Le Ne t a rc hi te ct ur e , w it h t he"
"s ec on d o ne t ra in ed o n a m ix o f p at te rn s t ha t t he f ir st o ne g ot 50% w ro ng , a nd t he t hi rd o ne"
"t ra in ed on pa tt er ns fo rw hi ch th ef ir st tw od is ag re ed . Du ri ng t es ti ng ,t he th re en et sv ot ed wi th"
t he ma jo ri ty ru li ng . Th et es te rr or ra te wa s 0.7%.
"As up po rt ve ct or ma ch in e(s ee Se ct io n 18.9)w it h 25,000 s up po rt ve ct or sa ch ie ve da n"
"e rr or r at e o f 1.1%. Th is i s r em ar ka bl e b ec au se t he SVM t ec hn iq ue , l ik e t he s im pl e n ea re st-"
"n ei gh bo r a pp ro ac h , r eq ui re d a lm os tn ot ho ug ht o ri te ra te d e xp er im en ta ti on o nt he pa rt of th e"
"d ev el op er , y et it st il lc am ec lo se to th ep er fo rm an ce o f Le Ne t ,w hi ch ha dh ad ye ar so fd ev el-"
"o pm en t . In de ed , t he s up po rt v ec to r m ac hi ne m ak es n o u se o f t he s tr uc tu re o f t he p ro bl em ,"
a nd wo ul dp er fo rm j us ta sw el li ft he pi xe ls we re pr es en te d i n a pe rm ut ed or de r .
Se ct io n 18.11. Pr ac ti ca l Ma ch in e Le ar ni ng 755
VIRTUALSUPPORT A v ir tu al s up po rt v ec to r m ac hi ne s ta rt s w it h a r eg ul ar SVM a nd t he n i mp ro ve s i t
VECTORMACHINE
w it ha te ch ni qu et ha ti sd es ig ne dt ot ak ea dv an ta ge of th es tr uc tu re of th ep ro bl em . In st ea do f
"a ll ow in gp ro du ct s o fa ll pi xe lp ai rs ,t hi sa pp ro ac h c on ce nt ra te s o nk er ne ls f or me df ro mp ai rs"
"o fn ea rb y p ix el s . It al so au gm en ts t he tr ai ni ng s et wi th tr an sf or ma ti on s o ft he e xa mp le s , j us t"
"a s Le Ne td id . Av ir tu al SVMa ch ie ve dt he be st er ro rr at er ec or de d t od at e ,0.56%."
Sh ap em at ch in gi sa te ch ni qu ef ro mc om pu te rv is io nu se dt oa li gn co rr es po nd in gp ar ts
"o f t wo d if fe re nt i ma ge s o f o bj ec ts (Be lo ng ie e t a l ., 2002). Th e i de a i s t o p ic k o ut a s et"
"o f p oi nt s i n e ac h o f t he t wo i ma ge s , a nd t he n c om pu te , f or e ac h p oi nt i n t he f ir st i ma ge ,"
"w hi ch p oi nt i n t he s ec on d i ma ge i tc or re sp on ds t o . Fr om t hi s a li gn me nt , w et he n c om pu te a"
t ra ns fo rm at io n b et we en t he i ma ge s . Th e t ra ns fo rm at io n g iv es u s a m ea su re o f t he d is ta nc e
b et we en th ei ma ge s . Th is di st an ce me as ur ei sb et te rm ot iv at ed th an ju st co un ti ng th en um be r
"o f d if fe ri ng p ix el s , a nd i t t ur ns o ut t ha t a 3–n ea re st n ei gh bo r a lg or it hm u si ng t hi s d is ta nc e"
"m ea su re p er fo rm s v er y w el l . Tr ai ni ng o n o nl y 20,000 o f t he 60,000 d ig it s , a nd u si ng 100"
"s am pl e p oi nt s p er i ma ge e xt ra ct ed f ro m a Ca nn y e dg e d et ec to r , a s ha pe m at ch in g c la ss if ie r"
a ch ie ve d 0.63%t es te rr or .
Hu ma ns ar ee st im at ed to ha ve an er ro rr at eo fa bo ut 0.2%o nt hi sp ro bl em . Th is fi gu re
i s s om ew ha t s us pe ct b ec au se h um an s h av e n ot b ee n t es te d a s e xt en si ve ly a s h av e m ac hi ne
"l ea rn in g a lg or it hm s . On a s im il ar d at a s et o f d ig it s f ro m t he Un it ed St at es Po st al Se rv ic e ,"
h um an er ro rs we re at 2.5%.
"Th e f ol lo wi ng f ig ur e s um ma ri ze s t he e rr or r at es , r un t im e p er fo rm an ce , m em or y r e-"
"q ui re me nt s , a nd a mo un t o ft ra in in g t im ef or th e s ev en a lg or it hm s w eh av e d is cu ss ed . It al so"
"a dd s a no th er m ea su re , t he p er ce nt ag e o f d ig it s t ha t m us t b e r ej ec te d t o a ch ie ve 0.5% e rr or ."
"Fo r e xa mp le , i f t he SVM i s a ll ow ed t o r ej ec t 1.8% o f t he i np ut s—t ha t i s , p as s t he m o n f or"
s om eo ne e ls e t o m ak e t he f in al j ud gm en t—t he n i ts e rr or r at e o n t he r em ai ni ng 98.2% o f t he
i np ut si sr ed uc ed f ro m 1.1%t o 0.5%.
Th e f ol lo wi ng t ab le s um ma ri ze s t he e rr or r at e a nd s om e o f t he o th er c ha ra ct er is ti cs o f
t he se ve nt ec hn iq ue s w eh av ed is cu ss ed .
3 300 Bo os te d Vi rt ua l Sh ap e
NN Hi dd en Le Ne t Le Ne t SVM SVM Ma tc h
Er ro rr at e(p ct .) 2.4 1.6 0.9 0.7 1.1 0.56 0.63
Ru nt im e(m il li se c/d ig it) 1000 10 30 50 2000 200
Me mo ry re qu ir em en ts (Mb yt e) 12 .49 .012 .21 11
Tr ai ni ng ti me(d ay s) 0 7 14 30 10
%r ej ec te dt or ea ch 0.5%e rr or 8.1 3.2 1.8 0.5 1.8
18.11.2 Ca se st ud y: Wo rd se ns es a nd h ou se pr ic es
"In a t ex tb oo k w en ee d t o d ea l w it h s im pl e , t oy d at a t o g et t he i de as a cr os s: a s ma ll d at a s et ,"
"u su al ly i n t wo d im en si on s . Bu t i n p ra ct ic al a pp li ca ti on s o f m ac hi ne l ea rn in g , t he d at a s et"
"i s u su al ly l ar ge , m ul ti di me ns io na l , a nd m es sy . Th e d at a a re n ot h an de d t o t he a na ly st i n a"
"p re pa ck ag ed s et of(x ,y)v al ue s ;r at he rt he an al ys tn ee ds to go ou ta nd ac qu ir et he ri gh td at a ."
"Th er e i s a t as k t o b e a cc om pl is he d , a nd m os t o f t he e ng in ee ri ng p ro bl em i s d ec id in g w ha t"
d at a a re n ec es sa ry t o a cc om pl is h t he t as k ; a s ma ll er p ar t i s c ho os in g a nd i mp le me nt in g a n
19
KNOWLEDGE IN
LEARNING
In wh ic hw ee xa mi ne th ep ro bl em o fl ea rn in g w he ny ou kn ow so me th in g a lr ea dy .
"In al lo ft he ap pr oa ch es t ol ea rn in g d es cr ib ed i nt he pr ev io us c ha pt er , t he id ea is to co ns tr uc t"
"a fu nc ti on t ha th as th ei np ut–o ut pu t b eh av io ro bs er ve d i nt he da ta . In ea ch ca se ,t he le ar ni ng"
"m et ho ds ca nb eu nd er st oo da ss ea rc hi ng ah yp ot he si ss pa ce to fi nd as ui ta bl ef un ct io n ,s ta rt in g"
"f ro m o nl y a v er y b as ic a ss um pt io n a bo ut t he f or m o f t he f un ct io n , s uc h a s “s ec on d-d eg re e"
p ol yn om ia l” o r“d ec is io n t re e” a nd p er ha ps a p re fe re nc e f or s im pl er h yp ot he se s . Do in g t hi s
"a mo un ts t o s ay in g t ha t b ef or e y ou c an l ea rn s om et hi ng n ew , y ou m us t f ir st f or ge t (a lm os t)"
"e ve ry th in g y ou k no w . In t hi s c ha pt er , w e s tu dy l ea rn in g m et ho ds t ha t c an t ak e a dv an ta ge"
"o f p ri or k no wl ed ge a bo ut t he w or ld . In m os t c as es , t he p ri or k no wl ed ge i s r ep re se nt ed"
PRIORKNOWLEDGE
a s g en er al f ir st-o rd er l og ic al t he or ie s ; t hu s f or t he f ir st t im e w e b ri ng t og et he r t he w or k o n
k no wl ed ge re pr es en ta ti on a nd le ar ni ng .
19.1 A LOGICAL FORMULATION OF LEARNING
Ch ap te r 18 d ef in ed p ur e i nd uc ti ve l ea rn in g a s a p ro ce ss o f f in di ng a h yp ot he si s t ha t a gr ee s
"w it ht he ob se rv ed ex am pl es . He re ,w es pe ci al iz et hi sd ef in it io nt ot he ca se wh er et he hy po th-"
e si si sr ep re se nt ed by as et of lo gi ca ls en te nc es . Ex am pl ed es cr ip ti on sa nd cl as si fi ca ti on sw il l
"a ls o b e l og ic al s en te nc es , a nd a n ew e xa mp le c an b e c la ss if ie d b y i nf er ri ng a c la ss if ic at io n"
s en te nc e f ro m t he h yp ot he si s a nd t he e xa mp le d es cr ip ti on . Th is a pp ro ac h a ll ow s f or i nc re-
"m en ta lc on st ru ct io no fh yp ot he se s ,o ne se nt en ce at at im e . It al so al lo ws fo rp ri or kn ow le dg e ,"
b ec au se s en te nc es t ha t a re a lr ea dy k no wn c an a ss is t i n t he c la ss if ic at io n o f n ew e xa mp le s .
"Th el og ic al f or mu la ti on o fl ea rn in g m ay se em li ke al ot of ex tr aw or ka tf ir st ,b ut it tu rn s o ut"
t oc la ri fy m an yo ft he is su es i nl ea rn in g . It en ab le s u st og ow el lb ey on d t he s im pl el ea rn in g
m et ho ds of Ch ap te r 18 b yu si ng th ef ul lp ow er of lo gi ca li nf er en ce in th es er vi ce of le ar ni ng .
19.1.1 Ex am pl es a nd hy po th es es
Re ca ll fr om Ch ap te r 18 t he re st au ra nt l ea rn in gp ro bl em: l ea rn in ga ru le fo rd ec id in gw he th er
"t ow ai tf or at ab le . Ex am pl es we re de sc ri be db ya tt ri bu te ss uc ha s Al te rn at e ,Ba r ,Fr i/Sa t ,"
768
Se ct io n 19.1. ALo gi ca l Fo rm ul at io no f Le ar ni ng 769
"a nd s o o n . In a l og ic al s et ti ng , a n e xa mp le i s d es cr ib ed b y a l og ic al s en te nc e ; t he a tt ri bu te s"
"b ec om e u na ry p re di ca te s . Le t u s g en er ic al ly c al l t he i th e xa mp le X . Fo r i ns ta nc e , t he f ir st"
i
e xa mp le fr om Fi gu re 18.3(p ag e 700)i sd es cr ib ed b yt he se nt en ce s
Al te rn at e(X )∧¬Ba r(X )∧¬Fr i/Sa t(X )∧Hu ng ry(X )∧...
1 1 1 1
"We wi ll us et he no ta ti on D (X )t or ef er to th ed es cr ip ti on of X ,w he re D c an be an yl og ic al"
i i i i
e xp re ss io n t ak in g a s in gl e a rg um en t . Th e c la ss if ic at io n o f t he e xa mp le i s g iv en b y a l it er al
"u si ng th eg oa lp re di ca te , i nt hi sc as e"
Wi ll Wa it(X ) o r ¬Wi ll Wa it(X ).
1 1
Th ec om pl et et ra in in gs et ca nt hu sb ee xp re ss ed as th ec on ju nc ti on of al lt he ex am pl ed es cr ip-
t io ns an dg oa ll it er al s .
Th e a im o f i nd uc ti ve l ea rn in g i n g en er al i s t o f in d a h yp ot he si s t ha t c la ss if ie s t he e x-
a mp le s w el l a nd g en er al iz es w el l t o n ew e xa mp le s . He re we a re c on ce rn ed w it hh yp ot he se s
e xp re ss ed i nl og ic ;e ac hh yp ot he si s h w il lh av et he fo rm
j
"∀x Go al(x) ⇔ C (x),"
j
w he re C (x) i s a c an di da te d ef in it io n—s om e e xp re ss io n i nv ol vi ng t he a tt ri bu te p re di ca te s .
j
"Fo re xa mp le ,a de ci si on tr ee ca nb ei nt er pr et ed as al og ic al ex pr es si on of th is fo rm . Th us ,t he"
t re e i n Fi gu re 18.6 (p ag e 702) e xp re ss es t he f ol lo wi ng l og ic al d ef in it io n (w hi ch w e w il l c al l
h f or fu tu re re fe re nc e):
r
"∀r Wi ll Wa it(r) ⇔ Pa tr on s(r ,So me)"
"∨ Pa tr on s(r ,Fu ll)∧Hu ng ry(r)∧Ty pe(r ,Fr en ch)"
"∨ Pa tr on s(r ,Fu ll)∧Hu ng ry(r)∧Ty pe(r ,Th ai) (19.1)"
∧Fr i/Sa t(r)
"∨ Pa tr on s(r ,Fu ll)∧Hu ng ry(r)∧Ty pe(r ,Bu rg er)."
"Ea ch hy po th es is p re di ct s t ha ta ce rt ai n s et of ex am pl es—n am el y , t ho se th at s at is fy i ts ca nd i-"
d at e d ef in it io n—w il l b e e xa mp le s o f t he g oa l p re di ca te . Th is s et i s c al le d t he e xt en si on o f
EXTENSION
t he p re di ca te . Tw o h yp ot he se s w it h d if fe re nt e xt en si on s a re t he re fo re l og ic al ly i nc on si st en t
"w it h e ac h o th er , b ec au se t he y d is ag re e o n t he ir p re di ct io ns f or a t l ea st o ne e xa mp le . If t he y"
"h av et he sa me ex te ns io n , t he ya re lo gi ca ll y e qu iv al en t ."
"Th eh yp ot he si ss pa ce Hi st he se to fa ll hy po th es es{h ,...,h }t ha tt he le ar ni ng al go-"
1 n
"r it hm is de si gn ed t oe nt er ta in . Fo re xa mp le , t he DECISION-TREE-LEARNING a lg or it hm c an"
e nt er ta in a ny de ci si on t re eh yp ot he si s d ef in ed i nt er ms of th ea tt ri bu te s p ro vi de d ; i ts hy po th-
"e si s s pa ce t he re fo re c on si st s o f a ll t he se d ec is io n t re es . Pr es um ab ly , t he l ea rn in g a lg or it hm"
"b el ie ve st ha to ne of th eh yp ot he se s i sc or re ct ;t ha ti s ,i tb el ie ve st he se nt en ce"
h ∨h ∨h ∨...∨h . (19.2)
1 2 3 n
"As t he e xa mp le s a rr iv e , h yp ot he se s t ha t a re n ot c on si st en t w it h t he e xa mp le s c an b e r ul ed"
"o ut . Le tu se xa mi ne th is no ti on o fc on si st en cy m or ec ar ef ul ly . Ob vi ou sl y , i fh yp ot he si s h i s"
j
"c on si st en tw it ht he en ti re tr ai ni ng se t ,i th as to be co ns is te nt wi th ea ch ex am pl ei nt he tr ai ni ng"
s et . Wh at w ou ld i t m ea n f or i t t o b e i nc on si st en t w it h a n e xa mp le ? Th er e a re t wo p os si bl e
w ay st ha tt hi sc an ha pp en:
770 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"• An ex am pl e c an be af al se ne ga ti ve f or th eh yp ot he si s , i ft he hy po th es is s ay si ts ho ul d"
FALSENEGATIVE
"b en eg at iv eb ut in fa ct it is po si ti ve . Fo ri ns ta nc e , t he ne we xa mp le X d es cr ib ed b y"
13
"Pa tr on s(X ,Fu ll)∧¬Hu ng ry(X )∧...∧Wi ll Wa it(X )"
13 13 13
w ou ld be af al se ne ga ti ve fo rt he hy po th es is h g iv en ea rl ie r . Fr om h a nd th ee xa mp le
r r
"d es cr ip ti on , w e c an d ed uc e b ot h Wi ll Wa it(X ), w hi ch i s w ha t t he e xa mp le s ay s ,"
13
"a nd ¬Wi ll Wa it(X ), w hi ch i s w ha t t he h yp ot he si s p re di ct s . Th e h yp ot he si s a nd t he"
13
e xa mp le ar et he re fo re lo gi ca ll y i nc on si st en t .
"• An ex am pl e c an b e a f al se p os it iv e f or th e h yp ot he si s , i f t he h yp ot he si s s ay s i t s ho ul d"
FALSEPOSITIVE
b ep os it iv eb ut in fa ct it is ne ga ti ve .1
"If a n e xa mp le i s a fa ls e p os it iv e o r f al se n eg at iv e f or a h yp ot he si s , t he n t he e xa mp le a nd t he"
h yp ot he si s a re lo gi ca ll y i nc on si st en t w it he ac ho th er . As su mi ng th at th ee xa mp le is ac or re ct
"o bs er va ti on o ff ac t ,t he nt he hy po th es is c an be ru le do ut . Lo gi ca ll y , t hi si se xa ct ly an al og ou s"
"t o t he r es ol ut io n r ul e o f i nf er en ce (s ee Ch ap te r 9), w he re t he d is ju nc ti on o f h yp ot he se s c or-"
r es po nd s t oa cl au se a nd th ee xa mp le c or re sp on ds t oa li te ra l t ha tr es ol ve s a ga in st o ne of th e
"l it er al si nt he cl au se . An or di na ry lo gi ca li nf er en ce sy st em th er ef or ec ou ld ,i np ri nc ip le ,l ea rn"
"f ro m t he e xa mp le b y e li mi na ti ng o ne o r m or e h yp ot he se s . Su pp os e , f or e xa mp le , t ha t t he"
"e xa mp le is de no te db yt he se nt en ce I ,a nd th eh yp ot he si ss pa ce is h ∨h ∨h ∨h . Th en if"
1 1 2 3 4
"I i si nc on si st en tw it hh a nd h ,t he lo gi ca li nf er en ce sy st em ca nd ed uc et he ne wh yp ot he si s"
1 2 3
s pa ce h ∨h .
1 4
We t he re fo re c an c ha ra ct er iz e i nd uc ti ve l ea rn in g i n a l og ic al s et ti ng a s a p ro ce ss o f
"g ra du al ly e li mi na ti ng h yp ot he se s t ha t a re i nc on si st en t w it h t he e xa mp le s , n ar ro wi ng d ow n"
t he p os si bi li ti es . Be ca us e t he h yp ot he si s s pa ce i s u su al ly v as t (o re ve ni nf in it e i nt he c as e o f
"f ir st-o rd er l og ic), w e d o n ot r ec om me nd t ry in g t o b ui ld a l ea rn in g s ys te m u si ng r es ol ut io n-"
"b as ed th eo re mp ro vi ng an da co mp le te en um er at io no ft he hy po th es is sp ac e . In st ea d ,w ew il l"
d es cr ib e t wo ap pr oa ch es t ha tf in dl og ic al ly c on si st en t h yp ot he se s w it hm uc hl es se ff or t .
19.1.2 Cu rr en t-b es t-h yp ot he si s s ea rc h
"CURRENT-BEST- Th e i de a b eh in d c ur re nt-b es t-h yp ot he si s s ea rc h i s t o m ai nt ai n a s in gl e h yp ot he si s , a nd t o"
HYPOTHESIS
a dj us t i t a s n ew e xa mp le s a rr iv e i n o rd er t o m ai nt ai n c on si st en cy . Th e b as ic a lg or it hm w as
"d es cr ib ed b y Jo hn St ua rt Mi ll(1843), a nd ma yw el lh av ea pp ea re d e ve ne ar li er ."
"Su pp os e w e h av e s om e h yp ot he si s s uc h a s h , o f w hi ch w e h av e g ro wn q ui te f on d ."
r
"As l on g a s e ac h n ew e xa mp le i s c on si st en t , w e n ee d d o n ot hi ng . Th en a lo ng c om es a f al se"
"n eg at iv ee xa mp le , X . Wh at do we do ? Fi gu re 19.1(a) s ho ws h s ch em at ic al ly a sa re gi on:"
13 r
e ve ry th in gi ns id et he re ct an gl ei sp ar to ft he ex te ns io no fh . Th ee xa mp le st ha th av ea ct ua ll y
r
"b ee n s ee n s o f ar a re s ho wn a s “+” o r “–”, a nd w e s ee t ha t h c or re ct ly c at eg or iz es a ll t he"
r
"e xa mp le s a s p os it iv e o r n eg at iv e e xa mp le s o f Wi ll Wa it . In Fi gu re 19.1(b), a n ew e xa mp le"
(c ir cl ed)i sa fa ls en eg at iv e: t he hy po th es is sa ys it sh ou ld be ne ga ti ve bu ti ti sa ct ua ll yp os it iv e .
Th ee xt en si on of th eh yp ot he si sm us tb ei nc re as ed to in cl ud ei t . Th is is ca ll ed ge ne ra li za ti on ;
GENERALIZATION
"o ne po ss ib le ge ne ra li za ti on i ss ho wn in Fi gu re 19.1(c). Th en in Fi gu re 19.1(d),w es ee af al se"
"p os it iv e: t he h yp ot he si s s ay s t he n ew e xa mp le (c ir cl ed) s ho ul d b e p os it iv e , b ut i t a ct ua ll y i s"
1 Th et er ms“f al se p os it iv e”a nd “f al se ne ga ti ve” a re us ed i nm ed ic in e t od es cr ib e e rr on eo us r es ul ts fr om la b
t es ts .Ar es ul ti sa fa ls ep os it iv ei fi ti nd ic at es th at th ep at ie nt ha st he di se as ew he ni nf ac tn od is ea se is pr es en t .
Se ct io n 19.1. ALo gi ca l Fo rm ul at io no f Le ar ni ng 771
– – – –
– – – – – – – – – –
– – – – –
– – – – –
+ + + + +
+ + + + +
+ – + – + – + – + –
– – – – –
+ + + + +
+ + + + + – + + – + +
++ – ++ – ++ – ++ – ++ –
– – – – – – – – – –
(a) (b) (c) (d) (e)
Fi gu re 19.1 (a)Ac on si st en th yp ot he si s . (b)Af al se ne ga ti ve . (c)Th eh yp ot he si si sg en-
e ra li ze d .(d)Af al se po si ti ve .(e)Th eh yp ot he si si ss pe ci al iz ed .
"f un ct io n CURRENT-BEST-LEARNING(e xa mp le s ,h)r et ur ns ah yp ot he si so rf ai l"
i fe xa mp le s i se mp ty th en
r et ur nh
e←FIRST(e xa mp le s)
i fe i sc on si st en tw it hh t he n
"r et ur n CURRENT-BEST-LEARNING(REST(e xa mp le s),h)"
e ls ei fe i sa fa ls ep os it iv ef or h t he n
f or ea ch h(c id:5) i n s pe ci al iz at io ns of h c on si st en tw it he xa mp le s s ee ns of ar do
"h(c id:5)(c id:5)←CURRENT-BEST-LEARNING(REST(e xa mp le s),h(c id:5))"
i fh(c id:5)(c id:5) (c id:7)= f ai l t he nr et ur nh(c id:5)(c id:5)
e ls ei fe i sa fa ls en eg at iv ef or h t he n
f or ea ch h(c id:5) i ng en er al iz at io ns of h c on si st en tw it he xa mp le s s ee ns of ar do
"h(c id:5)(c id:5)←CURRENT-BEST-LEARNING(REST(e xa mp le s),h(c id:5))"
i fh(c id:5)(c id:5) (c id:7)= f ai l t he nr et ur nh(c id:5)(c id:5)
r et ur nf ai l
Fi gu re 19.2 Th e c ur re nt-b es t-h yp ot he si s l ea rn in g a lg or it hm . It s ea rc he s f or a c on si s-
t en t h yp ot he si s t ha t f it s a ll t he e xa mp le s a nd b ac kt ra ck s w he n n o c on si st en t s pe ci al iz a-
"t io n/g en er al iz at io nc an b e f ou nd . To s ta rt t he a lg or it hm , a ny h yp ot he si s c an b e p as se d i n ;"
i tw il lb es pe ci al iz ed or gn er al iz ed as ne ed ed .
n eg at iv e . Th ee xt en si on o ft he hy po th es is m us tb ed ec re as ed t oe xc lu de t he ex am pl e . Th is is
c al le ds pe ci al iz at io n ; i n Fi gu re 19.1(e)w es ee on ep os si bl e s pe ci al iz at io n o ft he h yp ot he si s .
SPECIALIZATION
Th e“m or eg en er al t ha n” a nd“m or e s pe ci fi c t ha n” r el at io ns b et we en h yp ot he se s p ro vi de t he
l og ic al st ru ct ur e o nt he hy po th es is s pa ce th at ma ke se ff ic ie nt se ar ch po ss ib le .
"We ca nn ow sp ec if yt he CURRENT-BEST-LEARNING a lg or it hm ,s ho wn in Fi gu re 19.2."
"No ti ce th at ea ch ti me we co ns id er ge ne ra li zi ng or sp ec ia li zi ng th eh yp ot he si s ,w em us tc he ck"
"f or co ns is te nc y w it ht he ot he re xa mp le s , b ec au se a na rb it ra ry i nc re as e/d ec re as e i nt he ex te n-"
s io nm ig ht in cl ud e/e xc lu de p re vi ou sl y s ee nn eg at iv e/p os it iv e e xa mp le s .
772 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
We ha ve d ef in ed g en er al iz at io n a nd s pe ci al iz at io n a s o pe ra ti on s t ha t c ha ng e t he e xt en-
s io n o f a h yp ot he si s . No w w e n ee d t o d et er mi ne e xa ct ly h ow t he y c an b e i mp le me nt ed a s
"s yn ta ct ic o pe ra ti on s t ha t c ha ng e t he c an di da te d ef in it io n a ss oc ia te d w it h t he h yp ot he si s , s o"
t ha ta pr og ra mc an ca rr yt he mo ut . Th is is do ne by fi rs tn ot in gt ha tg en er al iz at io na nd sp ec ia l-
"i za ti on a re a ls o l og ic al r el at io ns hi ps b et we en h yp ot he se s . If h yp ot he si s h , w it h d ef in it io n"
1
"C ,i sa ge ne ra li za ti on o fh yp ot he si s h w it hd ef in it io n C ,t he nw em us th av e"
1 2 2
∀x C (x) ⇒ C (x).
2 1
"Th er ef or e i n o rd er t o c on st ru ct a g en er al iz at io n o f h , w e s im pl y n ee d t o f in d a d ef in i-"
2
"t io n C t ha t i s l og ic al ly i mp li ed b y C . Th is i s e as il y d on e . Fo r e xa mp le , i f C (x) i s"
1 2 2
"Al te rn at e(x) ∧ Pa tr on s(x ,So me), t he n o ne p os si bl e g en er al iz at io n i s g iv en b y C (x) ≡"
1
"DROPPING Pa tr on s(x ,So me). Th is i s c al le d d ro pp in g c on di ti on s . In tu it iv el y , i t g en er at es a w ea ke r"
CONDITIONS
d ef in it io na nd th er ef or ea ll ow sa la rg er se to fp os it iv ee xa mp le s . Th er ea re an um be ro fo th er
"g en er al iz at io n o pe ra ti on s , d ep en di ng o n t he l an gu ag e b ei ng o pe ra te d o n . Si mi la rl y , w e c an"
s pe ci al iz e a hy po th es is b ya dd in g e xt ra c on di ti on s t oi ts ca nd id at e d ef in it io n o rb yr em ov in g
"d is ju nc ts f ro m a di sj un ct iv e d ef in it io n . Le tu ss ee ho wt hi s w or ks on th er es ta ur an t e xa mp le ,"
u si ng th ed at ai n Fi gu re 18.3.
"• Th ef ir st ex am pl e , X ,i sp os it iv e . Th ea tt ri bu te Al te rn at e(X )i st ru e ,s ol et th ei ni ti al"
1 1
h yp ot he si s b e
h : ∀x Wi ll Wa it(x) ⇔ Al te rn at e(x).
1
"• Th es ec on de xa mp le ,X ,i sn eg at iv e . h p re di ct si tt ob ep os it iv e ,s oi ti sa fa ls ep os it iv e ."
2 1
"Th er ef or e ,w en ee dt os pe ci al iz e h . Th is ca nb ed on eb ya dd in ga ne xt ra co nd it io nt ha t"
1
"w il lr ul eo ut X ,w hi le co nt in ui ng t oc la ss if y X a sp os it iv e . On ep os si bi li ty i s"
2 1
"h : ∀x Wi ll Wa it(x) ⇔ Al te rn at e(x)∧Pa tr on s(x ,So me)."
2
"• Th et hi rd ex am pl e ,X ,i sp os it iv e . h p re di ct si tt ob en eg at iv e ,s oi ti sa fa ls en eg at iv e ."
3 2
"Th er ef or e ,w en ee dt og en er al iz e h . We dr op th e Al te rn at e c on di ti on , y ie ld in g"
2
"h : ∀x Wi ll Wa it(x) ⇔ Pa tr on s(x ,So me)."
3
"• Th ef ou rt he xa mp le ,X ,i sp os it iv e . h p re di ct si tt ob en eg at iv e ,s oi ti sa fa ls en eg at iv e ."
4 3
"We t he re fo re n ee d t o g en er al iz e h . We c an no t d ro p t he Pa tr on s c on di ti on , b ec au se"
3
t ha t w ou ld y ie ld a n a ll-i nc lu si ve h yp ot he si s t ha t w ou ld b e i nc on si st en t w it h X . On e
2
p os si bi li ty i st oa dd ad is ju nc t:
"h : ∀x Wi ll Wa it(x) ⇔ Pa tr on s(x ,So me)"
4
"∨(Pa tr on s(x ,Fu ll)∧Fr i/Sa t(x))."
"Al re ad y ,t he hy po th es is i ss ta rt in gt ol oo kr ea so na bl e . Ob vi ou sl y , t he re ar eo th er po ss ib il it ie s"
c on si st en t w it ht he fi rs tf ou re xa mp le s ;h er ea re tw oo ft he m:
"h(c id:2) : ∀x Wi ll Wa it(x) ⇔ ¬Wa it Es ti ma te(x ,30-60)."
4
"h(c id:2)(c id:2) : ∀x Wi ll Wa it(x) ⇔ Pa tr on s(x ,So me)"
4
"∨(Pa tr on s(x ,Fu ll)∧Wa it Es ti ma te(x ,10-30))."
"Th e CURRENT-BEST-LEARNING a lg or it hm is de sc ri be dn on de te rm in is ti ca ll y , b ec au se at an y"
"p oi nt ,t he re ma yb es ev er al po ss ib le sp ec ia li za ti on so rg en er al iz at io ns th at ca nb ea pp li ed . Th e"
Se ct io n 19.1. ALo gi ca l Fo rm ul at io no f Le ar ni ng 773
f un ct io n VERSION-SPACE-LEARNING(e xa mp le s)r et ur ns av er si on sp ac e
"l oc al va ri ab le s: V ,t he ve rs io ns pa ce:t he se to fa ll hy po th es es"
V ←t he se to fa ll hy po th es es
f or ea ch ex am pl ee i ne xa mp le s d o
"i f V i sn ot em pt yt he n V ←VERSION-SPACE-UPDATE(V ,e)"
r et ur n V
"f un ct io n VERSION-SPACE-UPDATE(V ,e)r et ur ns an up da te dv er si on sp ac e"
V ←{h∈V : h is co ns is te nt wi th e}
Fi gu re 19.3 Th ev er si on sp ac el ea rn in ga lg or it hm .It fi nd sa su bs et of V t ha ti sc on si st en t
w it ha ll th ee xa mp le s .
"c ho ic es th at ar em ad ew il ln ot ne ce ss ar il y l ea dt ot he si mp le st hy po th es is , a nd ma yl ea dt oa n"
u nr ec ov er ab le s it ua ti on w he re no si mp le mo di fi ca ti on of th e h yp ot he si s i sc on si st en t w it ha ll
"o ft he da ta . In su ch ca se s , t he pr og ra mm us tb ac kt ra ck t oa pr ev io us c ho ic ep oi nt ."
Th e CURRENT-BEST-LEARNING a lg or it hm a nd i ts v ar ia nt s h av e b ee n u se d i n m an y
"m ac hi ne l ea rn in g s ys te ms , s ta rt in g w it h Pa tr ic k Wi ns to n’s (1970) “a rc h-l ea rn in g” p ro gr am ."
"Wi th al ar ge nu mb er of ex am pl es an da la rg es pa ce , h ow ev er ,s om ed if fi cu lt ie s a ri se:"
1. Ch ec ki ng al lt he pr ev io us ex am pl es ov er ag ai nf or ea ch mo di fi ca ti on is ve ry ex pe ns iv e .
"2. Th es ea rc hp ro ce ss ma yi nv ol ve ag re at de al of ba ck tr ac ki ng . As we sa wi n Ch ap te r 18,"
h yp ot he si s s pa ce ca nb ea do ub ly ex po ne nt ia ll y l ar ge pl ac e .
19.1.3 Le as t-c om mi tm en t s ea rc h
Ba ck tr ac ki ng a ri se s b ec au se t he c ur re nt-b es t-h yp ot he si s a pp ro ac h h as t o c ho os e a p ar ti cu la r
h yp ot he si s a s i ts b es t g ue ss e ve n t ho ug h i t d oe s n ot h av e e no ug h d at a y et t o b e s ur e o f t he
c ho ic e . Wh at w e c an d o i ns te ad i s t o k ee p a ro un d a ll a nd o nl y t ho se h yp ot he se s t ha t a re
c on si st en t w it h a ll t he d at a s o f ar . Ea ch n ew e xa mp le w il l e it he r h av e n o e ff ec t o r w il l g et
r id o f s om e o f t he h yp ot he se s . Re ca ll t ha t t he o ri gi na l h yp ot he si s s pa ce c an b e v ie we d a s a
d is ju nc ti ve s en te nc e
h ∨h ∨h ...∨h .
1 2 3 n
"As va ri ou sh yp ot he se sa re fo un dt ob ei nc on si st en tw it ht he ex am pl es ,t hi sd is ju nc ti on sh ri nk s ,"
r et ai ni ng o nl y t ho se h yp ot he se s n ot r ul ed o ut . As su mi ng t ha t t he o ri gi na l h yp ot he si s s pa ce
"d oe s i n f ac t c on ta in t he r ig ht a ns we r , t he r ed uc ed d is ju nc ti on m us t s ti ll c on ta in t he r ig ht a n-"
s we rb ec au se on ly in co rr ec th yp ot he se sh av eb ee nr em ov ed . Th es et of hy po th es es re ma in in g
"i sc al le dt he ve rs io ns pa ce ,a nd th el ea rn in ga lg or it hm (s ke tc he d i n Fi gu re 19.3)i sc al le dt he"
VERSIONSPACE
CANDIDATE v er si on sp ac el ea rn in ga lg or it hm (a ls ot he c an di da te el im in at io n a lg or it hm).
ELIMINATION
On e i mp or ta nt p ro pe rt y o f t hi s a pp ro ac h i s t ha t i t i s i nc re me nt al: o ne n ev er h as t o
g o b ac k a nd r ee xa mi ne t he o ld e xa mp le s . Al l r em ai ni ng h yp ot he se s a re g ua ra nt ee d t o b e
c on si st en t w it h t he m a lr ea dy . Bu t t he re i s a n o bv io us p ro bl em . We a lr ea dy s ai d t ha t t he
774 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
Th is r eg io n a ll i nc on si st en t
G 1 G 2 G 3 . . . G m
Mo re g en er al
Mo re s pe ci fi c
S 1 S 2 . . . S n
Th is r eg io n a ll i nc on si st en t
Fi gu re 19.4 Th ev er si on sp ac ec on ta in sa ll hy po th es es co ns is te nt wi th th ee xa mp le s .
"h yp ot he si ss pa ce is en or mo us ,s oh ow ca nw ep os si bl yw ri te do wn th is en or mo us di sj un ct io n ?"
Th e f ol lo wi ng s im pl e a na lo gy i s v er y h el pf ul . Ho w d o y ou r ep re se nt a ll t he r ea l n um-
"b er s b et we en 1 a nd 2? Af te r a ll , t he re a re a n i nf in it e n um be r o f t he m ! Th e a ns we r i s t o u se"
"a ni nt er va lr ep re se nt at io n t ha tj us ts pe ci fi es th eb ou nd ar ie s o ft he se t: [1,2]. It wo rk sb ec au se"
w eh av ea no rd er in g o nt he re al nu mb er s .
"We al so ha ve an or de ri ng on th eh yp ot he si ss pa ce ,n am el y ,g en er al iz at io n/s pe ci al iz at io n ."
"Th is i s a p ar ti al o rd er in g , w hi ch m ea ns t ha t e ac h b ou nd ar y w il l n ot b e a p oi nt b ut r at he r a"
s et o f h yp ot he se s c al le d a b ou nd ar y s et . Th e g re at t hi ng i s t ha t w e c an r ep re se nt t he e nt ir e
BOUNDARYSET
v er si on s pa ce u si ng j us t t wo bo un da ry s et s: a mo st ge ne ra l b ou nd ar y (t he G-s et) a nd am os t
G-SET
s pe ci fi c b ou nd ar y (t he S-s et). Ev er yt hi ng i n b et we en i sg ua ra nt ee d t o b e c on si st en t w it h t he
S-SET
"e xa mp le s . Be fo re we pr ov et hi s ,l et us re ca p:"
• Th e c ur re nt v er si on s pa ce i s t he s et o f h yp ot he se s c on si st en t w it h a ll t he e xa mp le s s o
"f ar . It is re pr es en te d b yt he S-s et an d G-s et ,e ac ho fw hi ch is a se to fh yp ot he se s ."
"• Ev er y m em be r o f t he S-s et i s c on si st en t w it h a ll o bs er va ti on s s o f ar , a nd t he re a re n o"
c on si st en t h yp ot he se s t ha ta re mo re sp ec if ic .
"• Ev er y m em be r o f t he G-s et i s c on si st en t w it h a ll o bs er va ti on s s o f ar , a nd t he re a re n o"
c on si st en t h yp ot he se s t ha ta re mo re ge ne ra l .
We wa nt th ei ni ti al ve rs io ns pa ce(b ef or ea ny ex am pl es ha ve be en se en)t or ep re se nt al lp os si-
b le hy po th es es . We do th is by se tt in gt he G-s et to co nt ai n Tr ue (t he hy po th es is t ha tc on ta in s
"e ve ry th in g), a nd th e S-s et to co nt ai n Fa ls e (t he hy po th es is w ho se ex te ns io n i se mp ty)."
Fi gu re 19.4 s ho ws th eg en er al st ru ct ur eo ft he bo un da ry-s et r ep re se nt at io no ft he ve rs io n
"s pa ce . To sh ow th at th er ep re se nt at io n i ss uf fi ci en t ,w en ee d t he fo ll ow in gt wo pr op er ti es:"
Se ct io n 19.1. ALo gi ca l Fo rm ul at io no f Le ar ni ng 775
1. Ev er yc on si st en th yp ot he si s(o th er th an th os ei nt he bo un da ry se ts)i sm or es pe ci fi ct ha n
"s om em em be ro ft he G-s et ,a nd mo re ge ne ra l t ha ns om em em be ro f t he S-s et . (Th at is ,"
t he re a re n o “s tr ag gl er s” l ef t o ut si de .) Th is f ol lo ws d ir ec tl y f ro m t he d ef in it io ns o f S
"a nd G . If t he re w er e a s tr ag gl er h , t he n i t w ou ld h av e t o b e n o m or e s pe ci fi c t ha n a ny"
"m em be r o f G , i n w hi ch c as e i t b el on gs i n G ; o r n o m or e g en er al t ha n a ny m em be r o f"
"S ,i nw hi ch ca se it be lo ng si n S ."
2. Ev er yh yp ot he si s m or es pe ci fi c t ha n s om em em be ro ft he G-s et an d m or eg en er al t ha n
"s om em em be ro ft he S-s et is ac on si st en t h yp ot he si s . (Th at is , t he re a re no“h ol es” b e-"
t we en t he b ou nd ar ie s .) An y h b et we en S a nd G m us t r ej ec t a ll t he n eg at iv e e xa mp le s
"r ej ec te db ye ac hm em be ro f G(b ec au se it is mo re sp ec if ic),a nd mu st ac ce pt al lt he po s-"
"i ti ve ex am pl es ac ce pt ed by an ym em be ro f S (b ec au se it is mo re ge ne ra l). Th us ,h mu st"
"a gr ee w it h a ll t he e xa mp le s , a nd t he re fo re c an no t b e i nc on si st en t . Fi gu re 19.5 s ho ws"
"t he s it ua ti on: t he re a re n o k no wn e xa mp le s o ut si de S b ut i ns id e G , s o a ny h yp ot he si s"
i nt he ga pm us tb ec on si st en t .
"We h av e t he re fo re s ho wn t ha t i f S a nd G a re m ai nt ai ne d a cc or di ng t o t he ir d ef in it io ns , t he n"
t he y p ro vi de a s at is fa ct or y r ep re se nt at io n o ft he v er si on s pa ce . Th eo nl y r em ai ni ng p ro bl em
i s h ow t o u pd at e S a nd G f or a n ew e xa mp le (t he j ob o f t he VERSION-SPACE-UPDATE
"f un ct io n). Th is m ay a pp ea r r at he r c om pl ic at ed a t f ir st , b ut f ro m t he d ef in it io ns a nd w it h t he"
"h el po f Fi gu re 19.4,i ti sn ot to oh ar dt or ec on st ru ct t he al go ri th m ."
– –
– G
– 1
–
–
– – + + S G 2 –
+ + + 1 –
+
+
+ + +
–
–
– –
Fi gu re 19.5 Th e e xt en si on s o f t he m em be rs o f G a nd S . No k no wn e xa mp le s l ie i n
b et we en th et wo se ts of bo un da ri es .
"We ne ed to wo rr ya bo ut th em em be rs S a nd G o ft he S-a nd G-s et s . Fo re ac ho ne ,t he"
i i
n ew ex am pl em ay be af al se po si ti ve or af al se ne ga ti ve .
"1. Fa ls ep os it iv e f or S : Th is me an s S i st oo g en er al , b ut t he re a re n o c on si st en t s pe ci al-"
i i
"i za ti on so f S (b yd ef in it io n), s ow et hr ow it ou to ft he S-s et ."
i
"2. Fa ls en eg at iv ef or S : Th is me an s S i st oo sp ec if ic ,s ow er ep la ce it by al li ts im me di at e"
i i
"g en er al iz at io ns , p ro vi de d t he ya re mo re sp ec if ic th an so me me mb er of G ."
"3. Fa ls ep os it iv ef or G : Th is me an s G i st oo ge ne ra l ,s ow er ep la ce it by al li ts im me di at e"
i i
"s pe ci al iz at io ns , p ro vi de d t he ya re mo re ge ne ra lt ha ns om em em be ro f S ."
776 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"4. Fa ls en eg at iv e f or G : Th is me an s G i st oo sp ec if ic , b ut th er e a re no c on si st en t g en er-"
i i
a li za ti on s o f G (b yd ef in it io n) s ow et hr ow it ou to ft he G-s et .
i
We co nt in ue th es eo pe ra ti on s f or ea ch ne we xa mp le un ti lo ne of th re et hi ng sh ap pe ns:
"1. We ha ve e xa ct ly o ne h yp ot he si s l ef t i nt he v er si on s pa ce , i n w hi ch c as e w er et ur n i ta s"
t he un iq ue h yp ot he si s .
"2. Th e v er si on s pa ce c ol la ps es—e it he r S o r G b ec om es e mp ty , i nd ic at in g t ha t t he re a re"
n oc on si st en t h yp ot he se s f or th et ra in in g s et . Th is is th es am ec as ea st he fa il ur e o ft he
s im pl ev er si on of th ed ec is io n t re ea lg or it hm .
3. We r un o ut o f e xa mp le s a nd h av e s ev er al h yp ot he se s r em ai ni ng i n t he v er si on s pa ce .
Th is m ea ns t he v er si on s pa ce r ep re se nt s a d is ju nc ti on o f h yp ot he se s . Fo r a ny n ew
"e xa mp le ,i fa ll th ed is ju nc ts ag re e ,t he nw ec an re tu rn th ei rc la ss if ic at io no ft he ex am pl e ."
"If th ey di sa gr ee , o ne po ss ib il it y i st ot ak et he ma jo ri ty vo te ."
We le av ea sa ne xe rc is et he ap pl ic at io n o ft he VERSION-SPACE-LEARNING a lg or it hm t ot he
r es ta ur an t d at a .
Th er ea re tw op ri nc ip al d ra wb ac ks to th ev er si on-s pa ce a pp ro ac h:
"• If th ed om ai nc on ta in sn oi se or in su ff ic ie nt at tr ib ut es fo re xa ct cl as si fi ca ti on ,t he ve rs io n"
s pa ce wi ll al wa ys co ll ap se .
"• If we al lo wu nl im it ed di sj un ct io n i nt he hy po th es is s pa ce ,t he S-s et wi ll al wa ys co nt ai n"
"a s in gl e m os t-s pe ci fi c h yp ot he si s , n am el y , t he d is ju nc ti on o f t he d es cr ip ti on s o f t he"
"p os it iv ee xa mp le ss ee nt od at e . Si mi la rl y ,t he G-s et wi ll co nt ai nj us tt he ne ga ti on of th e"
d is ju nc ti on o ft he de sc ri pt io ns o ft he ne ga ti ve ex am pl es .
"• Fo r s om e h yp ot he si s s pa ce s , t he n um be r o f e le me nt s i n t he S-s et o r G-s et m ay g ro w"
"e xp on en ti al ly in th en um be ro fa tt ri bu te s ,e ve nt ho ug he ff ic ie nt le ar ni ng al go ri th ms ex is t"
f or th os eh yp ot he si s s pa ce s .
"To d at e , n o c om pl et el y s uc ce ss fu l s ol ut io n h as b ee n f ou nd f or t he p ro bl em o f n oi se . Th e"
p ro bl em o fd is ju nc ti on c an be ad dr es se d b ya ll ow in g o nl yl im it ed fo rm so fd is ju nc ti on o rb y
"GENERALIZATION i nc lu di ng a g en er al iz at io n h ie ra rc hy o f m or e g en er al p re di ca te s . Fo r e xa mp le , i ns te ad o f"
HIERARCHY
"u si ng t he di sj un ct io n Wa it Es ti ma te(x ,30-60)∨Wa it Es ti ma te(x ,>60), w em ig ht u se t he"
s in gl e l it er al Lo ng Wa it(x). Th e s et o f g en er al iz at io n a nd s pe ci al iz at io n o pe ra ti on s c an b e
e as il ye xt en de dt oh an dl et hi s .
"Th e p ur e v er si on s pa ce a lg or it hm w as f ir st a pp li ed i n t he Me ta-DENDRAL s ys te m ,"
w hi ch w as d es ig ne d t o l ea rn r ul es f or p re di ct in g h ow m ol ec ul es w ou ld b re ak i nt o p ie ce s i n
"a m as s s pe ct ro me te r (Bu ch an an a nd Mi tc he ll , 1978). Me ta-DENDRAL w as a bl e t o g en er at e"
r ul es th at we re su ff ic ie nt ly no ve lt ow ar ra nt pu bl ic at io ni na jo ur na lo fa na ly ti ca lc he mi st ry—
t he f ir st r ea l s ci en ti fi c k no wl ed ge g en er at ed b y a c om pu te r p ro gr am . It w as a ls o u se d i n t he
"e le ga nt LEXs ys te m(Mi tc he ll et al .,1983),w hi ch wa sa bl et ol ea rn to so lv es ym bo li ci nt eg ra-"
t io n p ro bl em s b y s tu dy in g i ts o wn s uc ce ss es a nd f ai lu re s . Al th ou gh v er si on s pa ce m et ho ds
"a re p ro ba bl y n ot p ra ct ic al i n m os t r ea l-w or ld l ea rn in g p ro bl em s , m ai nl y b ec au se o f n oi se ,"
t he yp ro vi de ag oo dd ea lo fi ns ig ht i nt ot he lo gi ca ls tr uc tu re o fh yp ot he si s s pa ce .
Se ct io n 19.2. Kn ow le dg ei n Le ar ni ng 777
Pr io r
k no wl ed ge
Kn ow le dg e-b as ed
Ob se rv at io ns Hy po th es es Pr ed ic ti on s
i nd uc ti ve l ea rn in g
"Fi gu re 19.6 A c um ul at iv e l ea rn in g p ro ce ss u se s , a nd a dd s t o , i ts s to ck o f b ac kg ro un d"
k no wl ed ge ov er ti me .
19.2 KNOWLEDGE IN LEARNING
Th ep re ce di ng se ct io nd es cr ib ed th es im pl es ts et ti ng fo ri nd uc ti ve le ar ni ng . To un de rs ta nd th e
"r ol e o f p ri or k no wl ed ge , w e n ee d t o t al k a bo ut t he l og ic al r el at io ns hi ps a mo ng h yp ot he se s ,"
"e xa mp le de sc ri pt io ns , a nd cl as si fi ca ti on s . Le t De sc ri pt io ns d en ot et he co nj un ct io n o fa ll th e"
"e xa mp le de sc ri pt io ns i nt he tr ai ni ng se t ,a nd le t Cl as si fi ca ti on s d en ot et he co nj un ct io n o fa ll"
t he ex am pl ec la ss if ic at io ns . Th en a Hy po th es is t ha t“e xp la in s t he ob se rv at io ns” m us ts at is fy
t he fo ll ow in gp ro pe rt y (r ec al lt ha t |=m ea ns“l og ic al ly e nt ai ls”):
Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s . (19.3)
"ENTAILMENT We ca ll t hi s k in d o f r el at io ns hi p a n e nt ai lm en t c on st ra in t , i nw hi ch Hy po th es is i s t he“u n-"
CONSTRAINT
"k no wn .” Pu re i nd uc ti ve l ea rn in g m ea ns s ol vi ng t hi s c on st ra in t , w he re Hy po th es is i s d ra wn"
"f ro m s om e p re de fi ne d h yp ot he si s s pa ce . Fo r e xa mp le , i f w e c on si de r a d ec is io n t re e a s a"
"l og ic al fo rm ul a(s ee Eq ua ti on(19.1)o np ag e 769),t he na de ci si on tr ee th at is co ns is te nt wi th"
a ll t he e xa mp le s w il l s at is fy Eq ua ti on (19.3). If w ep la ce n o r es tr ic ti on s o n t he l og ic al f or m
"o ft he hy po th es is , o fc ou rs e ,t he n Hy po th es is = Cl as si fi ca ti on s a ls os at is fi es th ec on st ra in t ."
"Oc kh am’s r az or t el ls u s t o p re fe r s ma ll , c on si st en t h yp ot he se s , s o w e t ry t o d o b et te r t ha n"
s im pl ym em or iz in gt he ex am pl es .
Th is si mp le kn ow le dg e-f re ep ic tu re of in du ct iv el ea rn in gp er si st ed un ti lt he ea rl y 1980 s .
Th em od er na pp ro ac hi st od es ig na ge nt st ha ta lr ea dy kn ow so me th in ga nd ar et ry in gt ol ea rn
"s om em or e . Th is ma yn ot so un dl ik ea te rr if ic al ly de ep in si gh t ,b ut it ma ke sq ui te ad if fe re nc e"
t o t he w ay w e d es ig n a ge nt s . It m ig ht a ls o h av e s om e r el ev an ce t o o ur t he or ie s a bo ut h ow
s ci en ce it se lf wo rk s . Th eg en er al id ea is sh ow ns ch em at ic al ly i n Fi gu re 19.6.
An au to no mo us l ea rn in g a ge nt t ha tu se sb ac kg ro un d k no wl ed ge m us ts om eh ow o bt ai n
"t he b ac kg ro un d k no wl ed ge i n t he f ir st p la ce , i n o rd er f or i t t o b e u se d i n t he n ew l ea rn in g"
e pi so de s . Th is m et ho d m us t i ts el f b e a l ea rn in g p ro ce ss . Th e a ge nt’s l if e h is to ry w il l t he re-
"f or e b e c ha ra ct er iz ed b y c um ul at iv e , o r i nc re me nt al , d ev el op me nt . Pr es um ab ly , t he a ge nt"
"c ou ld s ta rt o ut w it h n ot hi ng , p er fo rm in g i nd uc ti on s i n v ac uo l ik e a g oo d l it tl e p ur e i nd uc-"
"t io n p ro gr am . Bu t o nc e i t h as e at en f ro m t he Tr ee o f Kn ow le dg e , i t c an n o l on ge r p ur su e"
s uc h n ai ve s pe cu la ti on s a nd s ho ul d u se i ts b ac kg ro un d k no wl ed ge t o l ea rn m or e a nd m or e
e ff ec ti ve ly . Th eq ue st io n i st he nh ow to ac tu al ly do th is .
778 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
19.2.1 So me si mp le ex am pl es
Le tu sc on si de rs om ec om mo ns en se ex am pl es of le ar ni ng wi th ba ck gr ou nd kn ow le dg e . Ma ny
a pp ar en tl y r at io na l c as es o f i nf er en ti al b eh av io r i n t he f ac e o f o bs er va ti on s c le ar ly d o n ot
f ol lo wt he si mp le pr in ci pl es o fp ur ei nd uc ti on .
• So me ti me s o ne l ea ps t o g en er al c on cl us io ns a ft er o nl y o ne o bs er va ti on . Ga ry La rs on
"o nc e d re w a c ar to on i n w hi ch a b es pe ct ac le d c av em an , Zo g , i s r oa st in g h is l iz ar d o n"
t he e nd o f a p oi nt ed s ti ck . He i s w at ch ed b y a n a ma ze d c ro wd o f h is l es s i nt el le ct ua l
"c on te mp or ar ie s ,w ho ha ve be en us in gt he ir ba re ha nd st oh ol dt he ir vi ct ua ls ov er th ef ir e ."
Th is en li gh te ni ng e xp er ie nc e i se no ug h t oc on vi nc e t he wa tc he rs o fa ge ne ra l p ri nc ip le
o fp ai nl es s c oo ki ng .
• Or co ns id er th ec as eo ft he tr av el er to Br az il me et in gh er fi rs t Br az il ia n . On he ar in gh im
"s pe ak Po rt ug ue se , s he i mm ed ia te ly c on cl ud es t ha t Br az il ia ns s pe ak Po rt ug ue se , y et on"
"d is co ve ri ng t ha t h is n am e i s Fe rn an do , s he d oe s n ot c on cl ud e t ha t a ll Br az il ia ns a re"
"c al le d Fe rn an do . Si mi la r e xa mp le s a pp ea r i n s ci en ce . Fo r e xa mp le , w he n a f re sh ma n"
p hy si cs s tu de nt m ea su re s t he d en si ty a nd c on du ct an ce o f a s am pl e o f c op pe r a t a p ar-
"t ic ul ar t em pe ra tu re , s he i s q ui te c on fi de nt i n g en er al iz in g t ho se v al ue s t o a ll p ie ce s o f"
"c op pe r . Ye tw he ns he me as ur es it sm as s ,s he do es no te ve nc on si de rt he hy po th es is th at"
"a ll pi ec es o fc op pe rh av e t ha t m as s . On th eo th er ha nd , i tw ou ld be qu it e r ea so na bl e t o"
m ak es uc ha ge ne ra li za ti on o ve ra ll pe nn ie s .
"• Fi na ll y , c on si de r t he c as e o f a p ha rm ac ol og ic al ly i gn or an t b ut d ia gn os ti ca ll y s op hi st i-"
c at ed m ed ic al s tu de nt o bs er vi ng a c on su lt in g s es si on b et we en a p at ie nt a nd a n e xp er t
"i nt er ni st . Af te r a s er ie s o f q ue st io ns a nd a ns we rs , t he e xp er t t el ls t he p at ie nt t o t ak e a"
c ou rs e o f a p ar ti cu la r a nt ib io ti c . Th e m ed ic al s tu de nt i nf er s t he g en er al r ul e t ha t t ha t
p ar ti cu la ra nt ib io ti c i se ff ec ti ve fo ra pa rt ic ul ar ty pe of i nf ec ti on .
Th es e a re a ll c as es i n w hi ch t he u se o f b ac kg ro un d k no wl ed ge a ll ow s m uc h f as te r l ea rn in g
t ha no ne mi gh te xp ec tf ro ma pu re in du ct io n p ro gr am .
19.2.2 So me ge ne ra l s ch em es
"In e ac h o f t he p re ce di ng e xa mp le s , o ne c an a pp ea l t o p ri or k no wl ed ge t o t ry t o j us ti fy t he"
g en er al iz at io ns c ho se n . We wi ll no wl oo ka tw ha tk in ds of en ta il me nt c on st ra in ts a re op er at-
"i ng in ea ch ca se . Th ec on st ra in ts w il li nv ol ve t he Ba ck gr ou nd k no wl ed ge , i na dd it io n t ot he"
Hy po th es is a nd th eo bs er ve d De sc ri pt io ns a nd Cl as si fi ca ti on s .
"In t he c as e o f l iz ar d t oa st in g , t he c av em en g en er al iz e b y e xp la in in g t he s uc ce ss o f t he"
p oi nt ed s ti ck: i t s up po rt s t he l iz ar d w hi le k ee pi ng t he h an d a wa y f ro m t he f ir e . Fr om t hi s
"e xp la na ti on ,t he yc an in fe ra ge ne ra lr ul e: t ha ta ny lo ng ,r ig id ,s ha rp ob je ct ca nb eu se dt ot oa st"
"s ma ll , s of t-b od ie d e di bl es . Th is ki nd o fg en er al iz at io n p ro ce ss h as be en ca ll ed e xp la na ti on-"
EXPLANATION-
"b as ed l ea rn in g , o r EBL .No ti ce t ha t t he g en er al r ul e f ol lo ws l og ic al ly f ro m t he b ac kg ro un d"
BASED
LEARNING
"k no wl ed ge po ss es se db yt he ca ve me n . He nc e ,t he en ta il me nt co ns tr ai nt ss at is fi ed by EBLa re"
t he fo ll ow in g:
Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s
Ba ck gr ou nd |= Hy po th es is .
Se ct io n 19.2. Kn ow le dg ei n Le ar ni ng 779
"Be ca us e EBL u se s Eq ua ti on (19.3), i t w as i ni ti al ly t ho ug ht t o b e a w ay t o l ea rn f ro m e x-"
a mp le s . Bu t b ec au se i t r eq ui re s t ha t t he b ac kg ro un d k no wl ed ge b e s uf fi ci en t t o e xp la in t he
"Hy po th es is , w hi ch i n t ur n e xp la in s t he o bs er va ti on s , t he a ge nt d oe s n ot a ct ua ll y l ea rn a ny-"
t hi ng f ac tu al ly n ew f ro m t he e xa mp le . Th ea ge nt c ou ld h av e d er iv ed t he e xa mp le f ro m w ha t
"i t a lr ea dy k ne w , a lt ho ug h t ha t m ig ht h av e r eq ui re d a n u nr ea so na bl e a mo un t o f c om pu ta ti on ."
"EBL i s n ow v ie we d a s a m et ho d f or c on ve rt in g f ir st-p ri nc ip le s t he or ie s i nt o u se fu l , s pe ci al-"
p ur po se k no wl ed ge . We de sc ri be al go ri th ms f or EBLi n Se ct io n 19.3.
"Th e s it ua ti on o f o ur t ra ve le r i n Br az il i s q ui te d if fe re nt , f or s he c an no t n ec es sa ri ly e x-"
"p la in w hy Fe rn an do s pe ak s t he w ay h e d oe s , u nl es s s he k no ws h er p ap al b ul ls . Mo re ov er ,"
t he s am e g en er al iz at io n w ou ld b e f or th co mi ng f ro m a t ra ve le r e nt ir el y i gn or an t o f c ol on ia l
"h is to ry . Th e r el ev an t p ri or k no wl ed ge i n t hi s c as e i s t ha t , w it hi n a ny g iv en c ou nt ry , m os t"
"p eo pl e t en d t o s pe ak t he s am e l an gu ag e ; o n t he o th er h an d , Fe rn an do i s n ot a ss um ed t o b e"
"t he na me of al l Br az il ia ns b ec au se t hi sk in do fr eg ul ar it y d oe sn ot ho ld fo rn am es . Si mi la rl y ,"
t he fr es hm an p hy si cs s tu de nt a ls ow ou ld b eh ar dp ut to ex pl ai n t he pa rt ic ul ar v al ue s t ha t s he
"d is co ve rs fo rt he co nd uc ta nc e a nd de ns it yo fc op pe r . Sh ed oe sk no w ,h ow ev er ,t ha tt he ma te-"
r ia l o f w hi ch a n o bj ec t i s c om po se d a nd i ts t em pe ra tu re t og et he r d et er mi ne i ts c on du ct an ce .
"In ea ch ca se ,t he pr io rk no wl ed ge Ba ck gr ou nd c on ce rn st he re le va nc eo fa se to ff ea tu re st o"
RELEVANCE
"t he go al p re di ca te . Th is kn ow le dg e , t og et he r w it ht he ob se rv at io ns , a ll ow st he ag en t t oi nf er"
"a ne w ,g en er al ru le th at ex pl ai ns t he ob se rv at io ns:"
"Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s ,"
(19.4)
Ba ck gr ou nd ∧De sc ri pt io ns ∧Cl as si fi ca ti on s |= Hy po th es is .
"RELEVANCE-BASED We ca ll th is ki nd of ge ne ra li za ti on r el ev an ce-b as ed l ea rn in g ,o r RBL(a lt ho ug h t he na me is"
LEARNING
"n ot s ta nd ar d). No ti ce t ha t w he re as RBLd oe s m ak e u se o ft he c on te nt o ft he o bs er va ti on s , i t"
d oe sn ot pr od uc eh yp ot he se st ha tg ob ey on dt he lo gi ca lc on te nt of th eb ac kg ro un dk no wl ed ge
a nd t he o bs er va ti on s . It i s a d ed uc ti ve f or m o f l ea rn in g a nd c an no t b y i ts el f a cc ou nt f or t he
c re at io n o fn ew kn ow le dg es ta rt in g f ro ms cr at ch .
"In t he c as e o f t he m ed ic al s tu de nt w at ch in g t he e xp er t , w e a ss um e t ha t t he s tu de nt’s"
p ri or k no wl ed ge i s s uf fi ci en t t o i nf er t he p at ie nt’s d is ea se D f ro m t he s ym pt om s . Th is i s
"n ot , h ow ev er , e no ug h t o e xp la in t he f ac t t ha t t he d oc to r p re sc ri be s a pa rt ic ul ar m ed ic in e M ."
"Th e s tu de nt n ee ds t o p ro po se a no th er r ul e , n am el y , t ha t M g en er al ly i s e ff ec ti ve a ga in st D ."
"Gi ve nt hi sr ul ea nd th es tu de nt’s pr io rk no wl ed ge ,t he st ud en tc an no we xp la in wh yt he ex pe rt"
p re sc ri be s M i n t hi s p ar ti cu la r c as e . We c an g en er al iz e t hi s e xa mp le t o c om e u p w it h t he
e nt ai lm en t c on st ra in t
Ba ck gr ou nd ∧Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s . (19.5)
"Th at is ,t he ba ck gr ou nd k no wl ed ge a nd th en ew hy po th es is c om bi ne to ex pl ai n t he ex am pl es ."
"As wi th pu re in du ct iv el ea rn in g ,t he le ar ni ng al go ri th ms ho ul dp ro po se hy po th es es th at ar ea s"
"s im pl e a s p os si bl e , c on si st en t w it h t hi s c on st ra in t . Al go ri th ms t ha t s at is fy c on st ra in t (19.5)"
KNOWLEDGE-BASED
"a re ca ll ed k no wl ed ge-b as ed in du ct iv el ea rn in g ,o r KBIL ,a lg or it hm s ."
INDUCTIVE
LEARNING
"KBIL a lg or it hm s , w hi ch a re d es cr ib ed i n d et ai l i n Se ct io n 19.5, h av e b ee n s tu di ed"
"INDUCTIVELOGIC m ai nl y i n t he f ie ld o f i nd uc ti ve l og ic p ro gr am mi ng , o r ILP . In ILP s ys te ms , p ri or k no wl-"
PROGRAMMING
e dg ep la ys tw ok ey ro le si nr ed uc in g t he co mp le xi ty o fl ea rn in g:
780 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
1. Be ca us ea ny hy po th es is g en er at ed m us tb ec on si st en t w it ht he pr io rk no wl ed ge a sw el l
"a s w it h t he n ew o bs er va ti on s , t he e ff ec ti ve h yp ot he si s s pa ce s iz e i s r ed uc ed t o i nc lu de"
o nl yt ho se th eo ri es th at ar ec on si st en t w it hw ha ti sa lr ea dy k no wn .
"2. Fo r a ny g iv en s et o f o bs er va ti on s , t he s iz e o f t he h yp ot he si s r eq ui re d t o c on st ru ct a n"
"e xp la na ti on f or t he o bs er va ti on s c an b e m uc h r ed uc ed , b ec au se t he p ri or k no wl ed ge"
w il l b e a va il ab le t o h el p o ut t he n ew r ul es i n e xp la in in g t he o bs er va ti on s . Th e s ma ll er
"t he hy po th es is , t he ea si er it is to fi nd ."
"In a dd it io n t o a ll ow in g t he u se o f p ri or k no wl ed ge i n i nd uc ti on , ILP s ys te ms c an f or mu la te"
"h yp ot he se s i n g en er al f ir st-o rd er l og ic , r at he r t ha n i n t he r es tr ic te d a tt ri bu te-b as ed l an gu ag e"
o f Ch ap te r 18. Th is me an s t ha tt he y c an le ar n i ne nv ir on me nt s t ha t c an no t b e u nd er st oo d b y
s im pl er sy st em s .
19.3 EXPLANATION-BASED LEARNING
Ex pl an at io n-b as ed l ea rn in g i s a m et ho d f or e xt ra ct in g g en er al r ul es f ro m i nd iv id ua l o bs er-
"v at io ns . As a n e xa mp le , c on si de r t he p ro bl em o f d if fe re nt ia ti ng a nd s im pl if yi ng a lg eb ra ic"
e xp re ss io ns (Ex er ci se 9.17). If w e d if fe re nt ia te a n e xp re ss io n s uc h a s X 2 w it h r es pe ct t o
"X , w e o bt ai n 2 X . (We u se a c ap it al l et te r f or t he a ri th me ti c u nk no wn X , t o d is ti ng ui sh i t"
"f ro m t he l og ic al v ar ia bl e x .) In a l og ic al r ea so ni ng s ys te m , t he g oa l m ig ht b e e xp re ss ed a s"
"ASK(De ri va ti ve(X 2,X)=d , KB),w it hs ol ut io nd = 2 X ."
An yo ne wh ok no ws di ff er en ti al ca lc ul us ca ns ee th is so lu ti on“b yi ns pe ct io n”a sa re su lt
"o fp ra ct ic ei ns ol vi ng su ch pr ob le ms . As tu de nt en co un te ri ng su ch pr ob le ms fo rt he fi rs tt im e ,"
"o r a p ro gr am w it h n o e xp er ie nc e , w il l h av e a m uc h m or e d if fi cu lt j ob . Ap pl ic at io n o f t he"
"s ta nd ar d r ul es o f d if fe re nt ia ti on e ve nt ua ll y y ie ld s t he e xp re ss io n 1 × (2 × (X(2−1))), a nd"
"e ve nt ua ll y t hi s s im pl if ie s t o 2 X . In t he a ut ho rs’ l og ic p ro gr am mi ng i mp le me nt at io n , t hi s"
"t ak es 136 p ro of s te ps , o f w hi ch 99 a re o n d ea d-e nd b ra nc he s i n t he p ro of . Af te r s uc h a n"
"e xp er ie nc e , w e w ou ld l ik e t he p ro gr am t o s ol ve t he s am e p ro bl em m uc h m or e q ui ck ly t he"
n ex tt im ei ta ri se s .
Th e t ec hn iq ue o f m em oi za ti on h as l on g b ee n u se d i n c om pu te r s ci en ce t o s pe ed u p
MEMOIZATION
p ro gr am s b y s av in g t he r es ul ts o f c om pu ta ti on . Th e b as ic i de a o f m em o f un ct io ns i s t o
"a cc um ul at e a d at ab as e o f i np ut–o ut pu t p ai rs ; w he n t he f un ct io n i s c al le d , i t f ir st c he ck s t he"
d at ab as e t o s ee w he th er i t c an a vo id s ol vi ng t he p ro bl em f ro m s cr at ch . Ex pl an at io n-b as ed
"l ea rn in g t ak es t hi s a g oo d d ea l f ur th er , b y c re at in g g en er al r ul es t ha t c ov er a n e nt ir e c la ss"
"o f c as es . In t he c as e o f d if fe re nt ia ti on , m em oi za ti on w ou ld r em em be r t ha t t he d er iv at iv e o f"
"X 2 w it hr es pe ct t o X i s 2 X ,b ut wo ul dl ea ve th ea ge nt to ca lc ul at e t he de ri va ti ve of Z 2 w it h"
r es pe ct t o Z f ro m s cr at ch . We w ou ld l ik e t o b e a bl e t o e xt ra ct t he g en er al r ul e t ha t f or a ny
"a ri th me ti c u nk no wn u , t he d er iv at iv e o f u 2 w it h r es pe ct t o u i s 2 u . (An e ve n m or e g en er al"
"r ul e f or u n c an a ls o b e p ro du ce d , b ut t he c ur re nt e xa mp le s uf fi ce s t o m ak e t he p oi nt .) In"
"l og ic al te rm s ,t hi si se xp re ss ed b yt he ru le"
"Ar it hm et ic Un kn ow n(u) ⇒ De ri va ti ve(u 2,u)=2 u ."
Se ct io n 19.3. Ex pl an at io n-Ba se d Le ar ni ng 781
"If th e k no wl ed ge b as e c on ta in s s uc h a ru le , t he n a ny ne w c as e t ha t i sa ni ns ta nc e o ft hi s r ul e"
c an be so lv ed im me di at el y .
"Th is is ,o fc ou rs e ,m er el ya tr iv ia le xa mp le of av er yg en er al p he no me no n . On ce so me-"
"t hi ng i s u nd er st oo d , i t c an b e g en er al iz ed a nd r eu se d i n o th er c ir cu ms ta nc es . It b ec om es a n"
“o bv io us” s te pa nd ca nt he nb eu se da sa bu il di ng b lo ck in so lv in g p ro bl em s s ti ll m or ec om-
"p le x . Al fr ed No rt h Wh it eh ea d (1911), c o-a ut ho r w it h Be rt ra nd Ru ss el l o f Pr in ci pi a Ma th e-"
"m at ic a , w ro te “Ci vi li za ti on a dv an ce s b y e xt en di ng t he n um be r o f i mp or ta nt o pe ra ti on s t ha t"
"w ec an do wi th ou tt hi nk in g a bo ut th em ,”p er ha ps hi ms el fa pp ly in g EBLt oh is un de rs ta nd in g"
o f e ve nt s s uc h a s Zo g’s d is co ve ry . If y ou h av e u nd er st oo d t he b as ic i de a o f t he d if fe re nt i-
"a ti on e xa mp le , t he n y ou r b ra in i s a lr ea dy b us il y t ry in g t o e xt ra ct t he g en er al p ri nc ip le s o f"
e xp la na ti on-b as ed l ea rn in g f ro mi t . No ti ce th at yo uh ad n’t a lr ea dy i nv en te d EBLb ef or e y ou
"s aw t he e xa mp le . Li ke t he c av em en w at ch in g Zo g , y ou (a nd w e) n ee de d a n e xa mp le b ef or e"
w e c ou ld g en er at e t he b as ic p ri nc ip le s . Th is i s b ec au se e xp la in in g w hy s om et hi ng i s a g oo d
i de ai sm uc he as ie rt ha nc om in gu pw it ht he id ea in th ef ir st pl ac e .
19.3.1 Ex tr ac ti ng g en er al r ul es f ro m e xa mp le s
Th eb as ic i de a b eh in d EBLi sf ir st t oc on st ru ct a ne xp la na ti on o ft he o bs er va ti on u si ng p ri or
"k no wl ed ge , a nd t he n t o e st ab li sh a de fi ni ti on o f t he c la ss o f c as es f or wh ic h t he sa me e xp la-"
n at io n s tr uc tu re c an b e u se d . Th is d ef in it io n p ro vi de s t he b as is f or a r ul e c ov er in g a ll o f t he
"c as es in th ec la ss . Th e“e xp la na ti on” c an be al og ic al pr oo f , b ut mo re ge ne ra ll y i tc an be an y"
r ea so ni ng o rp ro bl em-s ol vi ng p ro ce ss w ho se s te ps a re we ll d ef in ed . Th e k ey is t ob e a bl e t o
i de nt if y t he ne ce ss ar y c on di ti on s f or th os es am es te ps to ap pl yt oa no th er ca se .
We w il l u se f or o ur r ea so ni ng s ys te m t he s im pl e b ac kw ar d-c ha in in g t he or em p ro ve r
"d es cr ib ed i n Ch ap te r 9. Th ep ro of tr ee fo r De ri va ti ve(X 2,X)=2 X i st oo la rg et ou se as an"
"e xa mp le , s o w e w il l u se a s im pl er p ro bl em t o i ll us tr at e t he g en er al iz at io n m et ho d . Su pp os e"
o ur pr ob le m i st os im pl if y 1×(0+X). Th ek no wl ed ge ba se in cl ud es t he fo ll ow in gr ul es:
"Re wr it e(u ,v)∧Si mp li fy(v ,w) ⇒ Si mp li fy(u ,w)."
"Pr im it iv e(u) ⇒ Si mp li fy(u ,u)."
Ar it hm et ic Un kn ow n(u) ⇒ Pr im it iv e(u).
Nu mb er(u) ⇒ Pr im it iv e(u).
"Re wr it e(1×u ,u)."
"Re wr it e(0+u ,u)."
.
.
.
Th e p ro of t ha t t he a ns we r i s X i s s ho wn i n t he t op h al f o f Fi gu re 19.7. Th e EBL m et ho d
a ct ua ll y c on st ru ct s t wo pr oo ft re es si mu lt an eo us ly . Th es ec on dp ro of tr ee us es a v ar ia bi li ze d
g oa l i nw hi ch t he c on st an ts f ro m t he o ri gi na l g oa l a re r ep la ce d b y v ar ia bl es . As th e o ri gi na l
"p ro of p ro ce ed s , t he v ar ia bi li ze d p ro of p ro ce ed s i n s te p , u si ng e xa ct ly t he s am e r ul e a pp li ca-"
"t io ns . Th is c ou ld c au se s om e o f t he v ar ia bl es t o b ec om e i ns ta nt ia te d . Fo re xa mp le , i n o rd er"
"t ou se th er ul e Re wr it e(1×u ,u),t he va ri ab le xi nt he su bg oa l Re wr it e(x×(y+z),v)m us t"
(c id:2)
"b eb ou nd t o 1. Si mi la rl y , y m us tb eb ou nd t o 0 i nt he su bg oa l Re wr it e(y+z ,v )i no rd er to"
"u se th er ul e Re wr it e(0+u ,u). On ce we ha ve th e g en er al iz ed p ro of t re e , w et ak e t he le av es"
782 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"Si mp li fy(1 × (0+X),w)"
"Re wr it e(1×(0+X),v) Si mp li fy(0+X ,w)"
"Ye s ,{v / 0+X}"
"Re wr it e(0+X ,v') Si mp li fy(X ,w)"
"Ye s ,{v' / X} {w / X}"
Pr im it iv e(X)
Ar it hm et ic Un kn ow n(X)
"Si mp li fy(x ×(y+z),w) Ye s ,{ }"
"Re wr it e(x ×(y+z),v) Si mp li fy(y+z ,w)"
"Ye s ,{x / 1, v / y+z}"
"Re wr it e(y+z ,v') Si mp li fy(z ,w)"
"Ye s ,{y / 0, v'/ z} {w / z}"
Pr im it iv e(z)
Ar it hm et ic Un kn ow n(z)
"Ye s ,{ }"
Fi gu re 19.7 Pr oo ft re es fo rt he si mp li fi ca ti on pr ob le m . Th ef ir st tr ee sh ow st he pr oo ff or
"t he or ig in al pr ob le mi ns ta nc e ,f ro mw hi ch we ca nd er iv e"
"Ar it hm et ic Un kn ow n(z) ⇒ Si mp li fy(1×(0+z),z)."
Th es ec on dt re es ho ws th ep ro of fo ra pr ob le mi ns ta nc ew it ha ll co ns ta nt sr ep la ce db yv ar i-
"a bl es ,f ro mw hi ch we ca nd er iv ea va ri et yo fo th er ru le s ."
(w it ht he ne ce ss ar y b in di ng s) a nd fo rm ag en er al r ul ef or th e g oa lp re di ca te:
"Re wr it e(1×(0+z),0+z)∧Re wr it e(0+z ,z)∧Ar it hm et ic Un kn ow n(z)"
"⇒ Si mp li fy(1×(0+z),z)."
No ti ce th at th ef ir st tw oc on di ti on s o nt he le ft-h an d s id ea re t ru e r eg ar dl es s o ft he va lu e o fz .
"We ca nt he re fo re dr op th em fr om th er ul e ,y ie ld in g"
"Ar it hm et ic Un kn ow n(z) ⇒ Si mp li fy(1×(0+z),z)."
"In ge ne ra l , c on di ti on s c an be dr op pe d f ro mt he fi na lr ul ei ft he yi mp os en oc on st ra in ts o nt he"
"v ar ia bl es o n t he r ig ht-h an d s id e o f t he r ul e , b ec au se t he r es ul ti ng r ul e w il l s ti ll b e t ru e a nd"
"w il l b e m or e e ff ic ie nt . No ti ce t ha t w e c an no t d ro p t he c on di ti on Ar it hm et ic Un kn ow n(z),"
b ec au se n ot a ll p os si bl e v al ue s o f z a re a ri th me ti c u nk no wn s . Va lu es o th er t ha n a ri th me ti c
"u nk no wn sm ig ht re qu ir ed if fe re nt f or ms of si mp li fi ca ti on: f or ex am pl e ,i f z w er e 2×3,t he n"
t he co rr ec ts im pl if ic at io n o f 1×(0+(2×3))w ou ld be 6 a nd no t 2×3.
"To re ca p ,t he ba si c EBLp ro ce ss wo rk sa sf ol lo ws:"
"1. Gi ve na ne xa mp le ,c on st ru ct ap ro of th at th eg oa lp re di ca te ap pl ie st ot he ex am pl eu si ng"
t he av ai la bl e b ac kg ro un d k no wl ed ge .
Se ct io n 19.3. Ex pl an at io n-Ba se d Le ar ni ng 783
"2. In p ar al le l , c on st ru ct a g en er al iz ed p ro of t re e f or t he v ar ia bi li ze d g oa l u si ng t he s am e"
i nf er en ce st ep sa si nt he or ig in al pr oo f .
3. Co ns tr uc t a n ew r ul e w ho se l ef t-h an d s id e c on si st s o f t he l ea ve s o f t he p ro of t re e a nd
w ho se r ig ht-h an d s id e i s t he v ar ia bi li ze d g oa l (a ft er a pp ly in g t he n ec es sa ry b in di ng s
f ro mt he ge ne ra li ze d p ro of).
4. Dr op an yc on di ti on s f ro mt he le ft-h an d s id et ha ta re tr ue re ga rd le ss of th ev al ue so ft he
v ar ia bl es in th eg oa l .
19.3.2 Im pr ov in g e ff ic ie nc y
Th eg en er al iz ed p ro of tr ee in Fi gu re 19.7 a ct ua ll yy ie ld sm or et ha no ne ge ne ra li ze d r ul e . Fo r
"e xa mp le , i f w e t er mi na te , o r p ru ne , t he g ro wt h o f t he r ig ht-h an d b ra nc h i n t he p ro of t re e"
"w he ni tr ea ch es th e Pr im it iv e s te p ,w eg et th er ul e"
"Pr im it iv e(z) ⇒ Si mp li fy(1×(0+z),z)."
"Th is ru le is as va li da s , b ut m or eg en er al t ha n , t he ru le u si ng Ar it hm et ic Un kn ow n ,b ec au se"
i tc ov er sc as es wh er e z i sa nu mb er . We ca ne xt ra ct as ti ll mo re ge ne ra lr ul eb yp ru ni ng af te r
"t he st ep Si mp li fy(y+z ,w),y ie ld in g t he ru le"
"Si mp li fy(y+z ,w) ⇒ Si mp li fy(1×(y+z),w)."
"In ge ne ra l ,a ru le ca nb ee xt ra ct ed fr om an yp ar ti al su bt re eo ft he ge ne ra li ze dp ro of tr ee . No w"
w eh av ea pr ob le m: w hi ch of th es er ul es do we ch oo se ?
Th e c ho ic e o f w hi ch r ul e t o g en er at e c om es d ow n t o t he q ue st io n o f e ff ic ie nc y . Th er e
a re th re ef ac to rs in vo lv ed i nt he an al ys is of ef fi ci en cy ga in sf ro m EBL:
"1. Ad di ng l ar ge n um be rs o f r ul es c an s lo w d ow n t he r ea so ni ng p ro ce ss , b ec au se t he i n-"
f er en ce me ch an is m m us ts ti ll ch ec kt ho se ru le se ve ni nc as es w he re th ey do no ty ie ld a
"s ol ut io n . In ot he rw or ds ,i ti nc re as es t he b ra nc hi ng fa ct or in th es ea rc hs pa ce ."
"2. To co mp en sa te f or t he s lo wd ow n i n r ea so ni ng , t he d er iv ed r ul es m us t o ff er s ig ni fi ca nt"
i nc re as es i ns pe ed fo rt he ca se st ha tt he yd oc ov er . Th es ei nc re as es c om ea bo ut ma in ly
"b ec au se t he d er iv ed r ul es a vo id d ea d e nd s t ha t w ou ld o th er wi se b e t ak en , b ut a ls o b e-"
c au se th ey sh or te nt he pr oo fi ts el f .
"3. De ri ve dr ul es sh ou ld be as ge ne ra la sp os si bl e , s ot ha tt he ya pp ly to th el ar ge st po ss ib le"
s et of ca se s .
Ac om mo na pp ro ac ht oe ns ur in gt ha td er iv ed ru le sa re ef fi ci en ti st oi ns is to nt he op er at io na l-
"i ty of ea ch su bg oa l i nt he ru le . As ub go al i so pe ra ti on al i fi ti s“e as y”t os ol ve . Fo re xa mp le ,"
OPERATIONALITY
"t he s ub go al Pr im it iv e(z) i s e as y t o s ol ve , r eq ui ri ng a t m os t t wo s te ps , w he re as t he s ub go al"
"Si mp li fy(y +z ,w) c ou ld l ea d t o a n a rb it ra ry a mo un t o f i nf er en ce , d ep en di ng o n t he v al ue s"
o f y a nd z . If a t es t f or o pe ra ti on al it y i s c ar ri ed o ut a t e ac h s te p i n t he c on st ru ct io n o f t he
"g en er al iz ed pr oo f ,t he nw ec an pr un et he re st of ab ra nc ha ss oo na sa no pe ra ti on al su bg oa li s"
"f ou nd , k ee pi ng ju st th eo pe ra ti on al s ub go al as ac on ju nc t o ft he ne wr ul e ."
"Un fo rt un at el y , t he re i s u su al ly a t ra de of f b et we en o pe ra ti on al it y a nd g en er al it y . Mo re"
"s pe ci fi c s ub go al s a re g en er al ly e as ie r t o s ol ve b ut c ov er f ew er c as es . Al so , o pe ra ti on al it y"
"i s a m at te r o f d eg re e: o ne o r t wo s te ps i s d ef in it el y o pe ra ti on al , b ut w ha t a bo ut 10 o r 100?"
784 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"Fi na ll y , t he c os t o f s ol vi ng a g iv en s ub go al d ep en ds o n w ha t o th er r ul es a re a va il ab le i n t he"
"k no wl ed ge b as e . It c an g o u p o r d ow n a s m or e r ul es a re a dd ed . Th us , EBL s ys te ms r ea ll y"
f ac e a v er y c om pl ex o pt im iz at io n p ro bl em i n t ry in g t o m ax im iz e t he e ff ic ie nc y o f a g iv en
i ni ti al kn ow le dg e b as e . It is so me ti me sp os si bl e t od er iv ea ma th em at ic al mo de lo ft he ef fe ct
o n o ve ra ll e ff ic ie nc y o f a dd in g a g iv en r ul e a nd t o u se t hi s m od el t o s el ec t t he b es t r ul e t o
"a dd . Th e a na ly si s c an b ec om e v er y c om pl ic at ed , h ow ev er , e sp ec ia ll y w he n r ec ur si ve r ul es"
"a re i nv ol ve d . On e p ro mi si ng a pp ro ac h i s t o a dd re ss t he p ro bl em o f e ff ic ie nc y e mp ir ic al ly ,"
s im pl yb ya dd in gs ev er al ru le sa nd se ei ng wh ic ho ne sa re us ef ul an da ct ua ll ys pe ed th in gs up .
Em pi ri ca l a na ly si s o f e ff ic ie nc y i s a ct ua ll y a t t he h ea rt o f EBL . Wh at w e h av e b ee n
c al li ng l oo se ly t he “e ff ic ie nc y o f a gi ve n k no wl ed ge b as e” i sa ct ua ll y t he a ve ra ge-c as e c om-
"p le xi ty o n a d is tr ib ut io n o f p ro bl em s . By g en er al iz in g f ro m p as t e xa mp le p ro bl em s , EBL"
m ak es t he k no wl ed ge b as e m or e e ff ic ie nt f or t he k in d o f p ro bl em s t ha t i t i s r ea so na bl e t o
e xp ec t . Th is w or ks a s l on g a s t he d is tr ib ut io n o f p as t e xa mp le s i s r ou gh ly t he s am e a s f or
f ut ur e e xa mp le s—t he s am e a ss um pt io n u se d f or PAC-l ea rn in g i n Se ct io n 18.5. If t he EBL
"s ys te m i s c ar ef ul ly e ng in ee re d , i t i s p os si bl e t o o bt ai n s ig ni fi ca nt s pe ed up s . Fo r e xa mp le , a"
v er y l ar ge Pr ol og-b as ed n at ur al l an gu ag e s ys te m d es ig ne d f or s pe ec h-t o-s pe ec h t ra ns la ti on
b et we en Sw ed is h a nd En gl is h w as a bl e t o a ch ie ve r ea l-t im e p er fo rm an ce o nl y b y t he a pp li-
"c at io no f EBLt ot he pa rs in gp ro ce ss (Sa mu el ss on an d Ra yn er , 1991)."
19.4 LEARNING USING RELEVANCE INFORMATION
Ou rt ra ve le ri n Br az il se em st ob ea bl et om ak ea co nf id en tg en er al iz at io nc on ce rn in gt he la n-
"g ua ge sp ok en by ot he r Br az il ia ns . Th ei nf er en ce is sa nc ti on ed by he rb ac kg ro un dk no wl ed ge ,"
"n am el y , t ha t p eo pl e i n a g iv en c ou nt ry (u su al ly) s pe ak t he s am e l an gu ag e . We c an e xp re ss"
t hi si nf ir st-o rd er lo gi ca sf ol lo ws:2
"Na ti on al it y(x ,n)∧Na ti on al it y(y ,n)∧La ng ua ge(x ,l) ⇒ La ng ua ge(y ,l).(19.6)"
"(Li te ra l t ra ns la ti on: “If x a nd y h av e t he s am en at io na li ty n a nd x s pe ak s l an gu ag e l , t he n y"
"a ls os pe ak si t .”) It is no td if fi cu lt to sh ow th at ,f ro mt hi ss en te nc e a nd th eo bs er va ti on t ha t"
"Na ti on al it y(Fe rn an do ,Br az il)∧La ng ua ge(Fe rn an do ,Po rt ug ue se),"
t he fo ll ow in gc on cl us io n i se nt ai le d(s ee Ex er ci se 19.1):
"Na ti on al it y(x ,Br az il) ⇒ La ng ua ge(x ,Po rt ug ue se)."
"Se nt en ce ss uc ha s(19.6)e xp re ss a st ri ct f or mo fr el ev an ce: g iv en na ti on al it y , l an gu ag e"
i sf ul ly de te rm in ed . (Pu ta no th er wa y: l an gu ag ei sa fu nc ti on of na ti on al it y .) Th es es en te nc es
FUNCTIONAL a re ca ll ed f un ct io na ld ep en de nc ie so rd et er mi na ti on s . Th ey oc cu rs oc om mo nl y i nc er ta in
DEPENDENCY
"k in ds o f a pp li ca ti on s (e .g ., d ef in in g d at ab as e d es ig ns) t ha t a s pe ci al s yn ta x i s u se d t o w ri te"
DETERMINATION
t he m . We ad op tt he no ta ti on o f Da vi es(1985):
"Na ti on al it y(x ,n) ’ La ng ua ge(x ,l)."
"2 We as su me fo rt he sa ke of si mp li ci ty th at ap er so ns pe ak so nl yo ne la ng ua ge . Cl ea rl y ,t he ru le wo ul dh av et o"
b ea me nd ed fo rc ou nt ri es su ch as Sw it ze rl an da nd In di a .
Se ct io n 19.4. Le ar ni ng Us in g Re le va nc e In fo rm at io n 785
"As u su al , t hi s i s s im pl y a s yn ta ct ic s ug ar in g , b ut i t m ak es i t c le ar t ha t t he d et er mi na ti on i s"
r ea ll y a r el at io ns hi p b et we en t he p re di ca te s: n at io na li ty d et er mi ne s l an gu ag e . Th e r el ev an t
p ro pe rt ie s d et er mi ni ng c on du ct an ce a nd de ns it y c an be ex pr es se d s im il ar ly:
"Ma te ri al(x ,m)∧Te mp er at ur e(x ,t) ’ Co nd uc ta nc e(x ,ρ);"
"Ma te ri al(x ,m)∧Te mp er at ur e(x ,t) ’ De ns it y(x ,d)."
Th ec or re sp on di ng ge ne ra li za ti on sf ol lo wl og ic al ly fr om th ed et er mi na ti on sa nd ob se rv at io ns .
19.4.1 De te rm in in g t he h yp ot he si s s pa ce
"Al th ou gh t he d et er mi na ti on s s an ct io n g en er al c on cl us io ns c on ce rn in g a ll Br az il ia ns , o r a ll"
"p ie ce s o f c op pe r a t a g iv en t em pe ra tu re , t he y c an no t , o f c ou rs e , y ie ld a g en er al p re di ct iv e"
"t he or y f or a ll n at io na li ti es , o r f or a ll t em pe ra tu re s a nd m at er ia ls , f ro m a s in gl e e xa mp le ."
Th ei rm ai ne ff ec tc an be se en as li mi ti ng th es pa ce of hy po th es es th at th el ea rn in ga ge nt ne ed
"c on si de r . In p re di ct in g c on du ct an ce , f or e xa mp le , o ne n ee d c on si de r o nl y m at er ia l a nd t em-"
"p er at ur e a nd c an i gn or e m as s , o wn er sh ip , d ay o f t he w ee k , t he c ur re nt p re si de nt , a nd s o o n ."
Hy po th es es c an c er ta in ly i nc lu de t er ms t ha t a re i n t ur n d et er mi ne d b y m at er ia l a nd t em pe r-
"a tu re , s uc h a s m ol ec ul ar s tr uc tu re , t he rm al e ne rg y , o r f re e-e le ct ro n d en si ty . De te rm in at io ns"
s pe ci fy as uf fi ci en tb as is vo ca bu la ry fr om wh ic ht oc on st ru ct hy po th es es co nc er ni ng th et ar ge t
p re di ca te . Th is s ta te me nt c an b e p ro ve n b y s ho wi ng t ha t a g iv en d et er mi na ti on i s l og ic al ly
e qu iv al en t t oa st at em en t t ha tt he co rr ec t d ef in it io n o ft he ta rg et p re di ca te i so ne of th es et of
a ll de fi ni ti on se xp re ss ib le u si ng th ep re di ca te s o nt he le ft-h an d s id eo ft he de te rm in at io n .
"In tu it iv el y , i t i s c le ar t ha t a r ed uc ti on i n t he h yp ot he si s s pa ce s iz e s ho ul d m ak e i t e as-"
i er t o l ea rn t he t ar ge t p re di ca te . Us in g t he b as ic r es ul ts o f c om pu ta ti on al l ea rn in g t he or y
"(Se ct io n 18.5), w e c an q ua nt if y t he p os si bl e g ai ns . Fi rs t , r ec al l t ha t f or Bo ol ea n f un ct io ns ,"
"l og(|H|) e xa mp le s a re r eq ui re d t o c on ve rg e t o a r ea so na bl e h yp ot he si s , w he re |H| i s t he"
s iz e o f t he h yp ot he si s s pa ce . If t he l ea rn er h as n Bo ol ea n f ea tu re s w it h w hi ch t o c on st ru ct
"h yp ot he se s , t he n , i n t he a bs en ce o f f ur th er r es tr ic ti on s , |H| = O(22 n ), s o t he n um be r o f e x-"
"a mp le s i s O(2 n). If th e d et er mi na ti on c on ta in s d pr ed ic at es i nt he le ft-h an d s id e , t he l ea rn er"
"w il lr eq ui re on ly O(2 d)e xa mp le s ,a re du ct io n o f O(2 n−d)."
19.4.2 Le ar ni ng a nd u si ng r el ev an ce in fo rm at io n
"As w e s ta te d i n t he i nt ro du ct io n t o t hi s c ha pt er , p ri or k no wl ed ge i s u se fu l i n l ea rn in g ; b ut"
"i t t oo h as t o b e l ea rn ed . In o rd er t o p ro vi de a c om pl et e s to ry o f r el ev an ce-b as ed l ea rn in g ,"
w e m us t t he re fo re p ro vi de a l ea rn in g a lg or it hm f or d et er mi na ti on s . Th e l ea rn in g a lg or it hm
w en ow pr es en ti sb as ed on as tr ai gh tf or wa rd a tt em pt to fi nd th es im pl es td et er mi na ti on c on-
s is te nt w it h t he o bs er va ti on s . A d et er mi na ti on P ’ Q s ay s t ha t i f a ny e xa mp le s m at ch o n
"P , t he n t he y m us t a ls o m at ch o n Q . A d et er mi na ti on i s t he re fo re c on si st en t w it h a s et o f"
e xa mp le s i f e ve ry p ai r t ha t m at ch es o n t he p re di ca te s o n t he l ef t-h an d s id e a ls o m at ch es o n
"t he g oa l p re di ca te . Fo r e xa mp le , s up po se w e h av e t he f ol lo wi ng e xa mp le s o f c on du ct an ce"
m ea su re me nt s o nm at er ia ls am pl es:
786 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"f un ct io n MINIMAL-CONSISTENT-DET(E ,A)r et ur ns as et of at tr ib ut es"
"i np ut s:E ,a se to fe xa mp le s"
"A ,a se to fa tt ri bu te s ,o fs iz en"
f or i =0 t on d o
f or ea ch su bs et Ai of Ao fs iz ei d o
"i f CONSISTENT-DET ?(Ai ,E)t he nr et ur n Ai"
"f un ct io n CONSISTENT-DET ?(A ,E)r et ur ns at ru th va lu e"
"i np ut s:A ,a se to fa tt ri bu te s"
"E ,a se to fe xa mp le s"
"l oc al va ri ab le s: H ,a ha sh ta bl e"
f or ea ch ex am pl ee i n E d o
i fs om ee xa mp le in H h as th es am ev al ue sa se f or th ea tt ri bu te s A
b ut ad if fe re nt cl as si fi ca ti on th en re tu rn fa ls e
"s to re th ec la ss of e i n H ,i nd ex ed by th ev al ue sf or at tr ib ut es Ao ft he ex am pl ee"
r et ur nt ru e
Fi gu re 19.8 An al go ri th mf or fi nd in ga mi ni ma lc on si st en td et er mi na ti on .
Sa mp le Ma ss Te mp er at ur e Ma te ri al Si ze Co nd uc ta nc e
S 1 12 26 Co pp er 3 0.59
S 1 12 100 Co pp er 3 0.57
S 2 24 26 Co pp er 6 0.59
S 3 12 26 Le ad 2 0.05
S 3 12 100 Le ad 2 0.04
S 4 24 26 Le ad 4 0.05
Th e m in im al c on si st en t d et er mi na ti on i s Ma te ri al ∧Te mp er at ur e ’ Co nd uc ta nc e . Th er e
"i s a n on mi ni ma l b ut c on si st en t d et er mi na ti on , n am el y , Ma ss ∧ Si ze ∧ Te mp er at ur e ’"
Co nd uc ta nc e . Th is is co ns is te nt wi th th ee xa mp le sb ec au se ma ss an ds iz ed et er mi ne de ns it y
"a nd , i no ur da ta s et , w ed on ot h av e t wo di ff er en t m at er ia ls w it ht he s am ed en si ty . As us ua l ,"
w ew ou ld ne ed al ar ge rs am pl es et in or de rt oe li mi na te an ea rl yc or re ct hy po th es is .
Th er e a re s ev er al p os si bl e a lg or it hm s f or f in di ng m in im al c on si st en t d et er mi na ti on s .
"Th em os to bv io us ap pr oa ch is to co nd uc ta se ar ch th ro ug ht he sp ac eo fd et er mi na ti on s ,c he ck-"
"i ng al ld et er mi na ti on s w it ho ne pr ed ic at e , t wo pr ed ic at es , a nd so on , u nt il a co ns is te nt d et er-"
"m in at io n i sf ou nd . We wi ll as su me as im pl e a tt ri bu te-b as ed r ep re se nt at io n , l ik e t ha tu se df or"
d ec is io n t re e l ea rn in g i n Ch ap te r 18. A d et er mi na ti on d w il l b e r ep re se nt ed b y t he s et o f
"a tt ri bu te so nt he le ft-h an ds id e ,b ec au se th et ar ge tp re di ca te is as su me dt ob ef ix ed . Th eb as ic"
a lg or it hm i so ut li ne di n Fi gu re 19.8.
Th e t im e c om pl ex it y o f t hi s a lg or it hm d ep en ds o n t he s iz e o f t he s ma ll es t c on si st en t
d et er mi na ti on . Su pp os e t hi sd et er mi na ti on h as p at tr ib ut es o ut of th e n to ta la tt r(c id:20)i b(c id:21)u te s . Th en
t he al go ri th mw il ln ot fi nd it un ti ls ea rc hi ng th es ub se ts of Ao fs iz ep . Th er ea re n = O(n p)
p
Se ct io n 19.4. Le ar ni ng Us in g Re le va nc e In fo rm at io n 787
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20 40 60 80 100 120 140
t es
t se t
n o
t ce rr oc
n oi tr op or P
RBDTL
DTL
Tr ai ni ng s et s iz e
Fi gu re 19.9 A p er fo rm an ce c om pa ri so n b et we en DECISION-TREE-LEARNING a nd
RBDTL o n r an do ml y g en er at ed d at a f or a t ar ge t f un ct io n t ha t d ep en ds o n o nl y 5 o f 16
a tt ri bu te s .
s uc h s ub se ts ; h en ce t he a lg or it hm i s e xp on en ti al i nt he s iz e o ft he m in im al d et er mi na ti on . It
"t ur ns o ut t ha t t he p ro bl em i s NP-c om pl et e , s o w e c an no t e xp ec t t o d o b et te r i n t he g en er al"
"c as e . In mo st do ma in s , h ow ev er , t he re w il lb es uf fi ci en t l oc al st ru ct ur e (s ee Ch ap te r 14 f or a"
d ef in it io no fl oc al ly st ru ct ur ed d om ai ns)t ha t p wi ll be sm al l .
"Gi ve na na lg or it hm f or le ar ni ng de te rm in at io ns , a le ar ni ng a ge nt ha sa wa yt oc on st ru ct"
"a mi ni ma lh yp ot he si sw it hi nw hi ch to le ar nt he ta rg et pr ed ic at e . Fo re xa mp le ,w ec an co mb in e"
MINIMAL-CONSISTENT-DET w it ht he DECISION-TREE-LEARNING a lg or it hm . Th is yi el ds
a r el ev an ce-b as ed d ec is io n-t re e l ea rn in g a lg or it hm RBDTL t ha t f ir st i de nt if ie s a m in im al
s et o f r el ev an t a tt ri bu te s a nd t he n p as se s t hi s s et t o t he d ec is io n t re e a lg or it hm f or l ea rn in g .
"Un li ke DECISION-TREE-LEARNING , RBDTL s im ul ta ne ou sl y l ea rn s a nd us es re le va nc e i n-"
f or ma ti on in or de rt om in im iz ei ts hy po th es is sp ac e . We ex pe ct th at RBDTLw il ll ea rn fa st er
"t ha n DECISION-TREE-LEARNING ,a nd th is is in fa ct th ec as e . Fi gu re 19.9 s ho ws th el ea rn in g"
p er fo rm an ce f or t he t wo a lg or it hm s o n r an do ml y g en er at ed d at a f or a f un ct io n t ha t d ep en ds
"o no nl y 5 o f 16 a tt ri bu te s . Ob vi ou sl y , i nc as es w he re al l t he a va il ab le a tt ri bu te s a re r el ev an t ,"
RBDTL w il ls ho wn oa dv an ta ge .
"Th is se ct io nh as on ly sc ra tc he d t he su rf ac eo ft he fi el do f d ec la ra ti ve b ia s ,w hi ch ai ms"
DECLARATIVEBIAS
t ou nd er st an d h ow p ri or kn ow le dg e c an b eu se d t o i de nt if y t he a pp ro pr ia te h yp ot he si s s pa ce
w it hi nw hi ch to se ar ch fo rt he co rr ec tt ar ge td ef in it io n . Th er ea re ma ny un an sw er ed qu es ti on s:
• Ho wc an th ea lg or it hm s b ee xt en de dt oh an dl en oi se ?
• Ca nw eh an dl e c on ti nu ou s-v al ue d v ar ia bl es ?
"• Ho wc an ot he rk in ds of pr io rk no wl ed ge be us ed ,b es id es de te rm in at io ns ?"
"• Ho w c an t he a lg or it hm s b e g en er al iz ed t o c ov er a ny f ir st-o rd er t he or y , r at he r t ha n j us t"
a na tt ri bu te-b as ed r ep re se nt at io n ?
So me of th es eq ue st io ns a re ad dr es se d i nt he ne xt se ct io n .
788 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
19.5 INDUCTIVE LOGIC PROGRAMMING
In du ct iv el og ic pr og ra mm in g(ILP)c om bi ne si nd uc ti ve me th od sw it ht he po we ro ff ir st-o rd er
"r ep re se nt at io ns , c on ce nt ra ti ng i n p ar ti cu la r o n t he r ep re se nt at io n o f h yp ot he se s a s l og ic p ro-"
"g ra ms .3 It h as g ai ne d p op ul ar it y f or t hr ee r ea so ns . Fi rs t , ILP o ff er s a r ig or ou s a pp ro ac h t o"
"t he g en er al k no wl ed ge-b as ed i nd uc ti ve l ea rn in g p ro bl em . Se co nd , i t o ff er s c om pl et e a lg o-"
"r it hm s f or i nd uc in g g en er al , f ir st-o rd er t he or ie s f ro m e xa mp le s , w hi ch c an t he re fo re l ea rn"
s uc ce ss fu ll y i n d om ai ns w he re a tt ri bu te-b as ed a lg or it hm s a re h ar d t o a pp ly . An e xa mp le i s
i n l ea rn in g h ow p ro te in s tr uc tu re s f ol d (Fi gu re 19.10). Th e t hr ee-d im en si on al c on fi gu ra ti on
"o f a p ro te in m ol ec ul e c an no t b e r ep re se nt ed r ea so na bl y b y a s et o f a tt ri bu te s , b ec au se t he"
"c on fi gu ra ti on i nh er en tl y r ef er s t o r el at io ns hi ps b et we en o bj ec ts , n ot t o a tt ri bu te s o f a s in gl e"
"o bj ec t . Fi rs t-o rd er l og ic i s a n a pp ro pr ia te l an gu ag e f or d es cr ib in g t he r el at io ns hi ps . Th ir d ,"
i nd uc ti ve l og ic p ro gr am mi ng p ro du ce s h yp ot he se s t ha t a re (r el at iv el y) e as y f or h um an s t o
"r ea d . Fo r e xa mp le , t he En gl is h t ra ns la ti on i n Fi gu re 19.10 c an b e s cr ut in iz ed a nd c ri ti ci ze d"
b yw or ki ng bi ol og is ts . Th is me an st ha ti nd uc ti ve l og ic pr og ra mm in gs ys te ms ca np ar ti ci pa te
"i nt he sc ie nt if ic cy cl eo fe xp er im en ta ti on , h yp ot he si sg en er at io n ,d eb at e ,a nd re fu ta ti on . Su ch"
"p ar ti ci pa ti on w ou ld no tb ep os si bl e f or sy st em st ha tg en er at e “b la ck-b ox” c la ss if ie rs , s uc ha s"
n eu ra ln et wo rk s .
19.5.1 An ex am pl e
Re ca ll fr om Eq ua ti on(19.5)t ha tt he ge ne ra lk no wl ed ge-b as ed in du ct io np ro bl em is to“s ol ve”
t he en ta il me nt co ns tr ai nt
Ba ck gr ou nd ∧Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s
"f or th eu nk no wn Hy po th es is , g iv en t he Ba ck gr ou nd k no wl ed ge a nd e xa mp le s d es cr ib ed b y"
"De sc ri pt io ns a nd Cl as si fi ca ti on s . To i ll us tr at e t hi s , w e w il l u se t he p ro bl em o f l ea rn in g"
f am il y r el at io ns hi ps f ro m e xa mp le s . Th e d es cr ip ti on s w il l c on si st o f a n e xt en de d f am il y
"t re e , d es cr ib ed i n t er ms o f Mo th er , Fa th er , a nd Ma rr ie d r el at io ns a nd Ma le a nd Fe ma le"
"p ro pe rt ie s . As a n e xa mp le , w e w il l u se t he f am il y t re e f ro m Ex er ci se 8.14, s ho wn h er e i n"
Fi gu re 19.11. Th ec or re sp on di ng d es cr ip ti on s a re as fo ll ow s:
"Fa th er(Ph il ip ,Ch ar le s) Fa th er(Ph il ip ,An ne) ..."
"Mo th er(Mu m ,Ma rg ar et) Mo th er(Mu m ,El iz ab et h) ..."
"Ma rr ie d(Di an a ,Ch ar le s) Ma rr ie d(El iz ab et h ,Ph il ip) ..."
Ma le(Ph il ip) Ma le(Ch ar le s) ...
Fe ma le(Be at ri ce) Fe ma le(Ma rg ar et) ...
Th es en te nc es in Cl as si fi ca ti on s d ep en do nt he ta rg et co nc ep tb ei ng le ar ne d . We mi gh tw an t
"t o l ea rn Gr an dp ar en t , Br ot he r In La w , o r An ce st or , f or e xa mp le . Fo r Gr an dp ar en t , t he"
"3 It mi gh tb ea pp ro pr ia te at th is po in tf or th er ea de rt or ef er to Ch ap te r 7 f or so me of th eu nd er ly in gc on ce pt s ,"
"i nc lu di ng Ho rn cl au se s ,c on ju nc ti ve no rm al fo rm ,u ni fi ca ti on ,a nd re so lu ti on ."
Se ct io n 19.5. In du ct iv e Lo gi c Pr og ra mm in g 789
c om pl et es et of Cl as si fi ca ti on s c on ta in s 20×20=400 c on ju nc ts o ft he fo rm
"Gr an dp ar en t(Mu m ,Ch ar le s) Gr an dp ar en t(El iz ab et h ,Be at ri ce) ..."
"¬Gr an dp ar en t(Mu m ,Ha rr y) ¬Gr an dp ar en t(Sp en ce r ,Pe te r) ..."
We co ul do fc ou rs el ea rn fr om as ub se to ft hi sc om pl et es et .
Th e o bj ec t o f a n i nd uc ti ve l ea rn in g p ro gr am i s t o c om e u p w it h a s et o f s en te nc es f or
"t he Hy po th es is s uc ht ha tt he en ta il me nt co ns tr ai nt is sa ti sf ie d . Su pp os e ,f or th em om en t ,t ha t"
t he a ge nt h as no b ac kg ro un d k no wl ed ge: Ba ck gr ou nd i se mp ty . Th en on ep os si bl e s ol ut io n
H:5[111-113]
H:1[19-37] H:6[79-88]
H:3[71-84]
H:4[61-64]
H:1[8-17]
H:5[66-70]
H:2[26-33]
E:2[96-98]
E:1[57-59]
H:4[93-108]
H:2[41-64]
H:7[99-106] H:3[40-50]
2 m hr - Fo ur-h el ic al u p-a nd-d ow n b un dl e 1 o md - EF-Ha nd
(a) (b)
"Fi gu re 19.10 (a) a nd (b) s ho w p os it iv e a nd n eg at iv e e xa mp le s , r es pe ct iv el y , o f t he"
“f ou r-h el ic al u p-a nd-d ow n b un dl e” c on ce pt i n t he d om ai n o f p ro te in f ol di ng . Ea ch
e xa mp le s tr uc tu re i s c od ed i nt o a l og ic al e xp re ss io n o f a bo ut 100 c on ju nc ts s uc h a s
"To ta l Le ng th(D 2 m hr ,118)∧Nu mb er He li ce s(D 2 m hr ,6)∧....Fr om th es ed es cr ip ti on sa nd"
"f ro m c la ss if ic at io ns s uc h a s Fo ld(FOUR-HELICAL-UP-AND-DOWN-BUNDLE ,D 2 m hr),"
"t he ILPs ys te m PROGOL(Mu gg le to n ,1995)l ea rn ed th ef ol lo wi ng ru le:"
"Fo ld(FOUR-HELICAL-UP-AND-DOWN-BUNDLE ,p)⇐"
"He li x(p ,h 1)∧Le ng th(h 1,HIGH)∧Po si ti on(p ,h 1,n)"
"∧(1≤n≤3)∧Ad ja ce nt(p ,h ,h )∧He li x(p ,h )."
1 2 2
"Th is ki nd of ru le co ul dn ot be le ar ne d ,o re ve nr ep re se nt ed ,b ya na tt ri bu te-b as ed me ch an is m"
s uc ha sw es aw i np re vi ou sc ha pt er s . Th er ul ec an be tr an sl at ed in to En gl is ha s“ Pr ot ei np
h as fo ld cl as s“Fo ur-h el ic al up-a nd-d ow n-b un dl e”i fi tc on ta in sa lo ng he li xh a ta se co nd ar y
1
s tr uc tu re po si ti on be tw ee n 1 a nd 3 a nd h i sn ex tt oa se co nd he li x .”
1
790 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
f or Hy po th es is i st he fo ll ow in g:
"Gr an dp ar en t(x ,y) ⇔ [∃z Mo th er(x ,z)∧Mo th er(z ,y)]"
"∨ [∃z Mo th er(x ,z)∧Fa th er(z ,y)]"
"∨ [∃z Fa th er(x ,z)∧Mo th er(z ,y)]"
"∨ [∃z Fa th er(x ,z)∧Fa th er(z ,y)]."
"No ti ce th at an at tr ib ut e-b as ed l ea rn in ga lg or it hm ,s uc ha s DECISION-TREE-LEARNING ,w il l"
"g et no wh er e i ns ol vi ng t hi sp ro bl em . In or de rt oe xp re ss Gr an dp ar en t a sa na tt ri bu te (i .e ., a"
"u na ry pr ed ic at e), w ew ou ld ne ed to ma ke p ai rs of pe op le in to ob je ct s:"
"Gr an dp ar en t((c id:16)Mu m ,Ch ar le s(c id:17))..."
Th en we ge ts tu ck in tr yi ng to re pr es en tt he ex am pl ed es cr ip ti on s . Th eo nl yp os si bl ea tt ri bu te s
a re ho rr ib le th in gs su ch as
"Fi rs t El em en t Is Mo th er Of El iz ab et h((c id:16)Mu m ,Ch ar le s(c id:17))."
Th e d ef in it io n o f Gr an dp ar en t i n t er ms o f t he se a tt ri bu te s s im pl y b ec om es a l ar ge d is ju nc-
t io no fs pe ci fi cc as es th at do es no tg en er al iz et on ew ex am pl es at al l . At tr ib ut e-b as ed le ar ni ng
"a lg or it hm sa re in ca pa bl e o fl ea rn in gr el at io na l p re di ca te s . Th us ,o ne of th ep ri nc ip al a dv an-"
"t ag es o f ILP a lg or it hm s i s t he ir a pp li ca bi li ty t o a m uc h w id er r an ge o f p ro bl em s , i nc lu di ng"
r el at io na l p ro bl em s .
Th er ea de r w il l c er ta in ly h av e n ot ic ed t ha t a l it tl e b it o fb ac kg ro un d k no wl ed ge w ou ld
"h el p i n t he r ep re se nt at io n o f t he Gr an dp ar en t d ef in it io n . Fo r e xa mp le , i f Ba ck gr ou nd i n-"
c lu de dt he se nt en ce
"Pa re nt(x ,y) ⇔ [Mo th er(x ,y)∨Fa th er(x ,y)],"
t he nt he de fi ni ti on of Gr an dp ar en t w ou ld be re du ce dt o
"Gr an dp ar en t(x ,y) ⇔ [∃z Pa re nt(x ,z)∧Pa re nt(z ,y)]."
Th is s ho ws h ow b ac kg ro un d k no wl ed ge c an d ra ma ti ca ll y r ed uc e t he s iz e o f h yp ot he se s r e-
q ui re dt oe xp la in th eo bs er va ti on s .
It i s a ls o p os si bl e f or ILP a lg or it hm s t o c re at e n ew p re di ca te s i n o rd er t o f ac il it at e t he
"e xp re ss io n o f e xp la na to ry h yp ot he se s . Gi ve n t he e xa mp le d at a s ho wn e ar li er , i t i s e nt ir el y"
"r ea so na bl e f or t he ILP p ro gr am t o p ro po se a n a dd it io na l p re di ca te , w hi ch w e w ou ld c al l"
Ge or ge Mu m
Sp en ce r Ky dd El iz ab et h Ph il ip Ma rg ar et
Di an a Ch ar le s An ne Ma rk An dr ew Sa ra h Ed wa rd So ph ie
Wi ll ia m Ha rr y Pe te r Za ra Be at ri ce Eu ge ni e Lo ui se Ja me s
Fi gu re 19.11 At yp ic al fa mi ly tr ee .
Se ct io n 19.5. In du ct iv e Lo gi c Pr og ra mm in g 791
"“Pa re nt ,” i n o rd er t o s im pl if y t he d ef in it io ns o f t he t ar ge t p re di ca te s . Al go ri th ms t ha t c an"
"CONSTRUCTIVE g en er at e n ew p re di ca te s a re c al le d c on st ru ct iv e i nd uc ti on al go ri th ms . Cl ea rl y , c on st ru ct iv e"
INDUCTION
i nd uc ti on i s a n ec es sa ry p ar t o f t he p ic tu re o f c um ul at iv e l ea rn in g . It h as b ee n o ne o f t he
"h ar de st pr ob le ms in ma ch in el ea rn in g ,b ut so me ILPt ec hn iq ue sp ro vi de ef fe ct iv em ec ha ni sm s"
f or ac hi ev in g i t .
"In t he r es t o f t hi s c ha pt er , w e w il l s tu dy t he t wo p ri nc ip al a pp ro ac he s t o ILP . Th e f ir st"
"u se s a g en er al iz at io n o f d ec is io n t re e m et ho ds , a nd t he s ec on d u se s t ec hn iq ue s b as ed o n"
i nv er ti ng a re so lu ti on p ro of .
19.5.2 To p-d ow n i nd uc ti ve l ea rn in gm et ho ds
Th ef ir st ap pr oa ch to ILPw or ks by st ar ti ng wi th av er yg en er al r ul ea nd gr ad ua ll ys pe ci al iz in g
"i t s o t ha t i t f it s t he d at a . Th is i s e ss en ti al ly w ha t h ap pe ns i n d ec is io n-t re e l ea rn in g , w he re a"
d ec is io n t re e i s g ra du al ly g ro wn u nt il i t i s c on si st en t w it h t he o bs er va ti on s . To d o ILP w e
"u se f ir st-o rd er l it er al s i ns te ad o fa tt ri bu te s , a nd t he h yp ot he si s i sa se t o fc la us es i ns te ad o f a"
"d ec is io n t re e . Th is se ct io n d es cr ib es FOIL (Qu in la n , 1990),o ne of th ef ir st ILPp ro gr am s ."
"Su pp os e w e a re t ry in g t o l ea rn a d ef in it io n o f t he Gr an df at he r(x ,y) p re di ca te , u si ng"
"t he s am e f am il y d at a a s b ef or e . As w it h d ec is io n-t re e l ea rn in g , w e c an d iv id e t he e xa mp le s"
i nt op os it iv ea nd ne ga ti ve ex am pl es . Po si ti ve ex am pl es ar e
"(c id:16)Ge or ge ,An ne(c id:17), (c id:16)Ph il ip ,Pe te r(c id:17), (c id:16)Sp en ce r ,Ha rr y(c id:17), ..."
a nd ne ga ti ve ex am pl es ar e
"(c id:16)Ge or ge ,El iz ab et h(c id:17), (c id:16)Ha rr y ,Za ra(c id:17), (c id:16)Ch ar le s ,Ph il ip(c id:17), ..."
"No ti ce th at ea ch ex am pl e i sa pa ir o fo bj ec ts , b ec au se Gr an df at he r i sa bi na ry p re di ca te . In"
"a ll ,t he re ar e 12 p os it iv ee xa mp le si nt he fa mi ly tr ee an d 388 n eg at iv ee xa mp le s(a ll th eo th er"
p ai rs of pe op le).
"FOILc on st ru ct sa se to fc la us es ,e ac hw it h Gr an df at he r(x ,y)a st he he ad . Th ec la us es"
"m us t c la ss if y t he 12 p os it iv e e xa mp le s a s i ns ta nc es o f t he Gr an df at he r(x ,y) r el at io ns hi p ,"
"w hi le ru li ng ou tt he 388 n eg at iv ee xa mp le s . Th ec la us es ar e Ho rn cl au se s ,w it ht he ex te ns io n"
t ha tn eg at ed li te ra ls a re al lo we di nt he bo dy o fa cl au se a nd ar ei nt er pr et ed u si ng ne ga ti on a s
"f ai lu re , a si n Pr ol og . Th ei ni ti al cl au se ha sa ne mp ty bo dy:"
"⇒ Gr an df at he r(x ,y)."
"Th is cl au se c la ss if ie s e ve ry e xa mp le a s p os it iv e , s o i tn ee ds t o b es pe ci al iz ed . We do t hi s b y"
a dd in gl it er al so ne at at im et ot he le ft-h an d s id e . He re ar et hr ee po te nt ia l a dd it io ns:
"Fa th er(x ,y) ⇒ Gr an df at he r(x ,y)."
"Pa re nt(x ,z) ⇒ Gr an df at he r(x ,y)."
"Fa th er(x ,z) ⇒ Gr an df at he r(x ,y)."
(No ti ce th at we ar ea ss um in gt ha ta cl au se de fi ni ng Pa re nt i sa lr ea dy pa rt of th eb ac kg ro un d
k no wl ed ge .) Th ef ir st of th es et hr ee cl au se si nc or re ct ly c la ss if ie sa ll of th e 12 p os it iv ee xa m-
p le s a s n eg at iv e a nd c an t hu s b ei gn or ed . Th es ec on d a nd t hi rd a gr ee w it ha ll of t he p os it iv e
"e xa mp le s , b ut th es ec on di si nc or re ct o na la rg er fr ac ti on o f t he ne ga ti ve ex am pl es—t wi ce as"
"m an y ,b ec au se i ta ll ow sm ot he rs as we ll as fa th er s . He nc e ,w ep re fe rt he th ir dc la us e ."
792 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"No w w e n ee d t o s pe ci al iz e t hi s c la us e f ur th er , t o r ul e o ut t he c as es i n w hi ch x i s t he"
"f at he ro fs om ez ,b ut z i sn ot ap ar en to fy . Ad di ng th es in gl el it er al Pa re nt(z ,y)g iv es"
"Fa th er(x ,z)∧Pa re nt(z ,y) ⇒ Gr an df at he r(x ,y),"
"w hi ch c or re ct ly c la ss if ie s a ll t he e xa mp le s . FOIL w il l f in d a nd c ho os e t hi s l it er al , t he re by"
"s ol vi ng t he l ea rn in g t as k . In g en er al , t he s ol ut io n i s a s et o f Ho rn c la us es , e ac h o f w hi ch"
"i mp li es t he t ar ge t p re di ca te . Fo r e xa mp le , i f w e d id n’t h av e t he Pa re nt p re di ca te i n o ur"
"v oc ab ul ar y , t he nt he so lu ti on m ig ht be"
"Fa th er(x ,z)∧Fa th er(z ,y) ⇒ Gr an df at he r(x ,y)"
"Fa th er(x ,z)∧Mo th er(z ,y) ⇒ Gr an df at he r(x ,y)."
"No te th at ea ch of th es ec la us es co ve rs so me of th ep os it iv ee xa mp le s ,t ha tt og et he rt he yc ov er"
"a ll t he p os it iv e e xa mp le s , a nd t ha t NEW-CLAUSE i s d es ig ne d i n s uc h a w ay t ha t n o c la us e"
w il li nc or re ct ly c ov er an eg at iv ee xa mp le . In ge ne ra l FOIL w il lh av et os ea rc ht hr ou gh m an y
u ns uc ce ss fu l c la us es b ef or ef in di ng ac or re ct so lu ti on .
Th is ex am pl e i sa ve ry s im pl ei ll us tr at io n o fh ow FOIL o pe ra te s . As ke tc h o f t he co m-
"p le te a lg or it hm i s s ho wn i n Fi gu re 19.12. Es se nt ia ll y , t he a lg or it hm r ep ea te dl y c on st ru ct s a"
"c la us e ,l it er al by li te ra l ,u nt il it ag re es wi th so me su bs et o ft he po si ti ve ex am pl es an dn on eo f"
t he n eg at iv e e xa mp le s . Th en t he p os it iv e e xa mp le s c ov er ed b y t he c la us e a re r em ov ed f ro m
"t he t ra in in g s et , a nd t he p ro ce ss c on ti nu es u nt il n o p os it iv e e xa mp le s r em ai n . Th e t wo m ai n"
"s ub ro ut in es to be ex pl ai ne da re NEW-LITERALS ,w hi ch co ns tr uc ts al lp os si bl en ew li te ra ls to"
"a dd to th ec la us e , a nd CHOOSE-LITERAL ,w hi ch se le ct sa li te ra lt oa dd ."
NEW-LITERALS t ak es a c la us e a nd c on st ru ct s a ll p os si bl e “u se fu l” l it er al s t ha t c ou ld
b ea dd ed to th ec la us e . Le tu su se as an ex am pl et he cl au se
"Fa th er(x ,z) ⇒ Gr an df at he r(x ,y)."
Th er ea re th re ek in ds of li te ra ls th at ca nb ea dd ed:
"1. Li te ra ls us in gp re di ca te s: t he li te ra lc an be ne ga te do ru nn eg at ed ,a ny ex is ti ng pr ed ic at e"
"(i nc lu di ng th eg oa lp re di ca te)c an be us ed ,a nd th ea rg um en ts mu st al lb ev ar ia bl es . An y"
"v ar ia bl ec an be us ed fo ra ny ar gu me nt of th ep re di ca te ,w it ho ne re st ri ct io n: e ac hl it er al"
m us ti nc lu de at le as to ne va ri ab le fr om an ea rl ie rl it er al or fr om th eh ea do ft he cl au se .
"Li te ra ls s uc h a s Mo th er(z ,u), Ma rr ie d(z ,z), ¬Ma le(y), a nd Gr an df at he r(v ,x) a re"
"a ll ow ed , w he re as Ma rr ie d(u ,v) i s n ot . No ti ce t ha t t he u se o f t he p re di ca te f ro m t he"
h ea do ft he cl au se al lo ws FOIL t ol ea rn re cu rs iv e d ef in it io ns .
2. Eq ua li ty a nd i ne qu al it y l it er al s: t he se r el at e v ar ia bl es a lr ea dy a pp ea ri ng i n t he c la us e .
"Fo re xa mp le , w e m ig ht a dd z (c id:7)= x . Th es e l it er al s c an a ls o i nc lu de u se r-s pe ci fi ed c on-"
"s ta nt s . Fo rl ea rn in g a ri th me ti c w em ig ht us e 0 a nd 1,a nd fo rl ea rn in g l is tf un ct io ns w e"
m ig ht us et he em pt yl is t[].
"3. Ar it hm et ic c om pa ri so ns: w he n d ea li ng w it h f un ct io ns o f c on ti nu ou s v ar ia bl es , l it er al s"
"s uc h a s x > y a nd y ≤ z c an b e a dd ed . As i n d ec is io n-t re e l ea rn in g , a c on st an t"
t hr es ho ld v al ue ca nb ec ho se n t om ax im iz et he di sc ri mi na to ry p ow er of th et es t .
"Th er es ul ti ng br an ch in gf ac to ri nt hi ss ea rc hs pa ce is ve ry la rg e(s ee Ex er ci se 19.6),b ut FOIL"
"c an a ls o u se t yp e i nf or ma ti on t o r ed uc e i t . Fo re xa mp le , i f t he d om ai n i nc lu de d n um be rs a s"
Se ct io n 19.5. In du ct iv e Lo gi c Pr og ra mm in g 793
"f un ct io n FOIL(e xa mp le s ,t ar ge t)r et ur ns as et of Ho rn cl au se s"
"i np ut s:e xa mp le s ,s et of ex am pl es"
"t ar ge t ,a li te ra lf or th eg oa lp re di ca te"
"l oc al va ri ab le s: c la us es ,s et of cl au se s ,i ni ti al ly em pt y"
w hi le ex am pl es c on ta in sp os it iv ee xa mp le sd o
"c la us e←NEW-CLAUSE(e xa mp le s ,t ar ge t)"
r em ov ep os it iv ee xa mp le sc ov er ed by cl au se f ro me xa mp le s
a dd cl au se t oc la us es
r et ur nc la us es
"f un ct io n NEW-CLAUSE(e xa mp le s ,t ar ge t)r et ur ns a Ho rn cl au se"
"l oc al va ri ab le s: c la us e ,a cl au se wi th ta rg et a sh ea da nd an em pt yb od y"
"l ,a li te ra lt ob ea dd ed to th ec la us e"
"e xt en de d e xa mp le s ,a se to fe xa mp le sw it hv al ue sf or ne wv ar ia bl es"
e xt en de d e xa mp le s←e xa mp le s
w hi le ex te nd ed e xa mp le s c on ta in sn eg at iv ee xa mp le sd o
"l←CHOOSE-LITERAL(NEW-LITERALS(c la us e),e xt en de d e xa mp le s)"
a pp en dl t ot he bo dy of cl au se
e xt en de d e xa mp le s←s et of ex am pl es cr ea te db ya pp ly in g EXTEND-EXAMPLE
t oe ac he xa mp le in ex te nd ed e xa mp le s
r et ur nc la us e
"f un ct io n EXTEND-EXAMPLE(e xa mp le ,l it er al)r et ur ns as et of ex am pl es"
i fe xa mp le s at is fi es li te ra l
t he nr et ur nt he se to fe xa mp le sc re at ed by ex te nd in ge xa mp le w it h
e ac hp os si bl ec on st an tv al ue fo re ac hn ew va ri ab le in li te ra l
e ls er et ur nt he em pt ys et
Fi gu re 19.12 Sk et ch o f t he FOIL a lg or it hm f or le ar ni ng s et s o f f ir st-o rd er Ho rn c la us es
f ro me xa mp le s . NEW-LITERALSa nd CHOOSE-LITERALa re ex pl ai ne di nt he te xt .
"w el la sp eo pl e ,t yp er es tr ic ti on sw ou ld pr ev en t NEW-LITERALS f ro mg en er at in gl it er al ss uc h"
"a s Pa re nt(x ,n),w he re xi sa pe rs on an dn is an um be r ."
CHOOSE-LITERALu se sa he ur is ti cs om ew ha ts im il ar to in fo rm at io ng ai n(s ee pa ge 704)
"t o d ec id e w hi ch l it er al t o a dd . Th e e xa ct d et ai ls a re n ot i mp or ta nt h er e , a nd a n um be r o f"
d if fe re nt v ar ia ti on s h av e b ee n t ri ed . On e i nt er es ti ng a dd it io na l f ea tu re o f FOIL i s t he u se o f
Oc kh am’s ra zo rt oe li mi na te so me hy po th es es . If ac la us eb ec om es lo ng er(a cc or di ng to so me
"m et ri c) t ha n t he t ot al l en gt h o f t he p os it iv e e xa mp le s t ha t t he c la us e e xp la in s , t ha t c la us e i s"
n ot co ns id er ed as ap ot en ti al hy po th es is . Th is te ch ni qu ep ro vi de sa wa yt oa vo id ov er co mp le x
c la us es th at fi tn oi se in th ed at a .
FOIL a nd it s r el at iv es h av eb ee n u se d t ol ea rn a wi de va ri et y o fd ef in it io ns . On eo ft he
"m os ti mp re ss iv ed em on st ra ti on s (Qu in la na nd Ca me ro n-Jo ne s ,1993)i nv ol ve ds ol vi ng al on g"
s eq ue nc e o f e xe rc is es o n l is t-p ro ce ss in g f un ct io ns f ro m Br at ko’s (1986) Pr ol og t ex tb oo k . In
794 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"e ac h c as e , t he p ro gr am w as ab le t ol ea rn a co rr ec t d ef in it io n o ft he fu nc ti on f ro m a sm al ls et"
"o fe xa mp le s , u si ng th ep re vi ou sl y l ea rn ed fu nc ti on s a sb ac kg ro un d k no wl ed ge ."
19.5.3 In du ct iv e l ea rn in gw it hi nv er se d ed uc ti on
Th e s ec on d m aj or a pp ro ac h t o ILP i nv ol ve s i nv er ti ng t he n or ma l d ed uc ti ve p ro of p ro ce ss .
INVERSE In ve rs e r es ol ut io n i s b as ed o n t he o bs er va ti on t ha t i f t he e xa mp le Cl as si fi ca ti on s f ol lo w
RESOLUTION
"f ro m Ba ck gr ou nd ∧Hy po th es is ∧De sc ri pt io ns ,t he no ne mu st be ab le to pr ov et hi sf ac tb y"
"r es ol ut io n (b ec au se re so lu ti on is co mp le te). If we ca n“r un t he pr oo fb ac kw ar d ,”t he nw ec an"
"f in d a Hy po th es is s uc h t ha t t he p ro of g oe s t hr ou gh . Th e k ey , t he n , i s t o f in d a wa y t o i nv er t"
t he re so lu ti on p ro ce ss .
We wi ll sh ow ab ac kw ar dp ro of pr oc es sf or in ve rs er es ol ut io n t ha tc on si st so fi nd iv id ua l
b ac kw ar d s te ps . Re ca ll t ha t a n o rd in ar y r es ol ut io n s te p t ak es t wo c la us es C a nd C a nd
1 2
r es ol ve s t he m t o p ro du ce t he r es ol ve nt C . An i nv er se r es ol ut io n s te p t ak es a r es ol ve nt C
"a nd p ro du ce s t wo c la us es C a nd C , s uc h t ha t C i s t he r es ul t o f r es ol vi ng C a nd C ."
1 2 1 2
"Al te rn at iv el y , i t m ay t ak e a r es ol ve nt C a nd c la us e C a nd p ro du ce a c la us e C s uc h t ha t C"
1 2
i st he re su lt of re so lv in g C a nd C .
1 2
"Th e e ar ly s te ps i n a n i nv er se r es ol ut io n p ro ce ss a re s ho wn i n Fi gu re 19.13, w he re w e"
"f oc us o n t he p os it iv e e xa mp le Gr an dp ar en t(Ge or ge ,An ne). Th ep ro ce ss b eg in s a t t he e nd"
o f t he p ro of (s ho wn a t t he b ot to m o f t he f ig ur e). We t ak e t he r es ol ve nt C t o b e e mp ty
"c la us e(i .e . a co nt ra di ct io n) a nd C t ob e¬Gr an dp ar en t(Ge or ge ,An ne),w hi ch is th en eg a-"
2
t io n o f t he g oa l e xa mp le . Th e f ir st i nv er se s te p t ak es C a nd C a nd g en er at es t he c la us e
2
"Gr an dp ar en t(Ge or ge ,An ne) f or C . Th e n ex t s te p t ak es t hi s c la us e a s C a nd t he c la us e"
1
"Pa re nt(El iz ab et h ,An ne)a s C ,a nd ge ne ra te s t he cl au se"
2
"¬Pa re nt(El iz ab et h ,y)∨Gr an dp ar en t(Ge or ge ,y)"
"a s C . Th ef in al st ep t re at s t hi s c la us e a s t he r es ol ve nt . Wi th Pa re nt(Ge or ge ,El iz ab et h)a s"
1
"C ,o ne po ss ib le c la us e C i st he hy po th es is"
2 1
"Pa re nt(x ,z)∧Pa re nt(z ,y) ⇒ Gr an dp ar en t(x ,y)."
"No ww eh av ea re so lu ti on pr oo ft ha tt he hy po th es is ,d es cr ip ti on s ,a nd ba ck gr ou nd kn ow le dg e"
"e nt ai lt he cl as si fi ca ti on Gr an dp ar en t(Ge or ge ,An ne)."
"Cl ea rl y , i nv er se r es ol ut io n i nv ol ve s a s ea rc h . Ea ch i nv er se r es ol ut io n s te p i s n on de-"
"t er mi ni st ic , b ec au se f or a ny C , t he re c an b e m an y o r e ve n a n i nf in it e n um be r o f c la us es"
"C a nd C t ha t r es ol ve t o C . Fo r e xa mp le , i ns te ad o f c ho os in g ¬Pa re nt(El iz ab et h ,y) ∨"
1 2
"Gr an dp ar en t(Ge or ge ,y) f or C i n t he l as t s te p o f Fi gu re 19.13, t he i nv er se r es ol ut io n s te p"
1
m ig ht ha ve ch os en an yo ft he fo ll ow in gs en te nc es:
"¬Pa re nt(El iz ab et h ,An ne)∨Gr an dp ar en t(Ge or ge ,An ne)."
"¬Pa re nt(z ,An ne)∨Gr an dp ar en t(Ge or ge ,An ne)."
"¬Pa re nt(z ,y)∨Gr an dp ar en t(Ge or ge ,y)."
.
.
.
"(Se e Ex er ci se s 19.4 a nd 19.5.) Fu rt he rm or e , t he c la us es t ha t p ar ti ci pa te i n e ac h s te p c an b e"
"c ho se nf ro mt he Ba ck gr ou nd k no wl ed ge ,f ro mt he ex am pl e De sc ri pt io ns ,f ro mt he ne ga te d"
Se ct io n 19.5. In du ct iv e Lo gi c Pr og ra mm in g 795
"Cl as si fi ca ti on s ,o rf ro mh yp ot he si ze dc la us es th at ha ve al re ad yb ee ng en er at ed in th ei nv er se"
r es ol ut io n t re e . Th el ar ge n um be r o fp os si bi li ti es m ea ns a la rg e b ra nc hi ng f ac to r (a nd t he re-
f or ea ni ne ff ic ie nt se ar ch)w it ho ut ad di ti on al co nt ro ls . An um be ro fa pp ro ac he s t ot am in gt he
s ea rc hh av eb ee nt ri ed in im pl em en te d ILPs ys te ms:
"1. Re du nd an t c ho ic es c an b e e li mi na te d—f or e xa mp le , b y g en er at in g o nl y t he m os t s pe-"
c if ic hy po th es es po ss ib le an db yr eq ui ri ng th at al lt he hy po th es iz ed cl au se sb ec on si st en t
"w it he ac ho th er , a nd wi th th eo bs er va ti on s . Th is la st cr it er io nw ou ld ru le ou tt he cl au se"
"¬Pa re nt(z ,y)∨Gr an dp ar en t(Ge or ge ,y),l is te db ef or e ."
"2. Th e p ro of s tr at eg y c an b e r es tr ic te d . Fo r e xa mp le , w e s aw i n Ch ap te r 9 t ha t l in ea r"
"r es ol ut io ni sa co mp le te ,r es tr ic te ds tr at eg y . Li ne ar re so lu ti on pr od uc es pr oo ft re es th at"
"h av e a l in ea r b ra nc hi ng s tr uc tu re—t he w ho le t re e f ol lo ws o ne l in e , w it h o nl y s in gl e"
c la us es br an ch in g o ff th at li ne(a si n Fi gu re 19.13).
"3. Th er ep re se nt at io nl an gu ag ec an be re st ri ct ed ,f or ex am pl eb ye li mi na ti ng fu nc ti on sy m-"
"b ol s o r b y a ll ow in g o nl y Ho rn c la us es . Fo r i ns ta nc e , PROGOL o pe ra te s w it h Ho rn"
INVERSE c la us es us in gi nv er se en ta il me nt . Th ei de ai st oc ha ng et he en ta il me nt co ns tr ai nt
ENTAILMENT
Ba ck gr ou nd ∧Hy po th es is ∧De sc ri pt io ns |= Cl as si fi ca ti on s
t ot he lo gi ca ll y e qu iv al en t f or m
Ba ck gr ou nd ∧De sc ri pt io ns ∧¬Cl as si fi ca ti on s |= ¬Hy po th es is .
"Fr om t hi s , o ne c an u se a p ro ce ss s im il ar t o t he n or ma l Pr ol og Ho rn-c la us e d ed uc ti on ,"
"w it hn eg at io n-a s-f ai lu re t od er iv e Hy po th es is . Be ca us ei ti sr es tr ic te d t o Ho rn cl au se s ,"
"t hi si sa ni nc om pl et e m et ho d , b ut i tc an be mo re ef fi ci en tt ha n f ul l r es ol ut io n . It is al so"
"p os si bl et oa pp ly co mp le te in fe re nc e w it hi nv er se en ta il me nt (In ou e ,2001)."
4. In fe re nc ec an be do ne wi th mo de lc he ck in gr at he rt ha nt he or em pr ov in g . Th e PROGOL
"s ys te m (Mu gg le to n , 1995) u se s a f or m o f m od el c he ck in g t o l im it t he s ea rc h . Th at"
"Pa re nt(El iz ab et h ,y) Gr an dp ar en t(Ge or ge ,y) Pa re nt(El iz ab et h ,An ne)"
{y/An ne}
"Gr an dp ar en t(Ge or ge ,An ne) Gr an dp ar en t(Ge or ge ,An ne)"
>
"Pa re nt(Ge or ge ,El iz ab et h)"
"{x/Ge or ge , z/El iz ab et h}"
"> Pa re nt(z ,y) Gr an dp ar en t(x ,y) > ¬Pa re nt(x ,z) ¬"
¬
¬
Fi gu re 19.13 Ea rl y s te ps i n a n i nv er se r es ol ut io n p ro ce ss . Th e s ha de d c la us es a re
g en er at ed b y i nv er se r es ol ut io n s te ps f ro m t he c la us e t o t he r ig ht a nd t he c la us e b el ow .
Th e u ns ha de d c la us es a re f ro m t he De sc ri pt io ns a nd Cl as si fi ca ti on s (i nc lu di ng n eg at ed
Cl as si fi ca ti on s).
796 Ch ap te r 19. Kn ow le dg ei n Le ar ni ng
"i s , l ik e a ns we r s et p ro gr am mi ng , i t g en er at es p os si bl e v al ue s f or l og ic al v ar ia bl es , a nd"
c he ck sf or co ns is te nc y .
5. In fe re nc ec an be do ne wi th gr ou nd pr op os it io na l c la us es ra th er th an in fi rs t-o rd er lo gi c .
"Th e LINUSs ys te m(La vr au ca nd Du ze ro sk i ,1994)w or ks by tr an sl at in gf ir st-o rd er th e-"
"o ri es i nt o p ro po si ti on al l og ic , s ol vi ng t he m w it h a p ro po si ti on al l ea rn in g s ys te m , a nd"
t he n t ra ns la ti ng b ac k . Wo rk in g w it h p ro po si ti on al f or mu la s c an b e m or e e ff ic ie nt o n
"s om ep ro bl em s , a sw es aw wi th SATPLAN i n Ch ap te r 10."
19.5.4 Ma ki ng d is co ve ri es w it hi nd uc ti ve l og ic pr og ra mm in g
"An in ve rs e r es ol ut io n p ro ce du re t ha t i nv er ts a c om pl et e r es ol ut io n s tr at eg y i s , i n p ri nc ip le , a"
"c om pl et e a lg or it hm f or l ea rn in g f ir st-o rd er t he or ie s . Th at i s , i f s om e u nk no wn Hy po th es is"
"g en er at es a s et o f e xa mp le s , t he n a n i nv er se r es ol ut io n p ro ce du re c an g en er at e Hy po th es is"
f ro m t he e xa mp le s . Th is o bs er va ti on s ug ge st s a n i nt er es ti ng p os si bi li ty: Su pp os e t ha t t he
a va il ab le e xa mp le s i nc lu de a va ri et y o ft ra je ct or ie s o ff al li ng b od ie s . Wo ul da ni nv er se r es o-
l ut io np ro gr am be th eo re ti ca ll y c ap ab le of in fe rr in gt he la wo fg ra vi ty ? Th ea ns we ri sc le ar ly
"y es ,b ec au se th el aw of gr av it ya ll ow so ne to ex pl ai nt he ex am pl es ,g iv en su it ab le ba ck gr ou nd"
"m at he ma ti cs . Si mi la rl y ,o ne ca ni ma gi ne th at el ec tr om ag ne ti sm ,q ua nt um me ch an ic s ,a nd th e"
"t he or yo fr el at iv it ya re al so wi th in th es co pe of ILPp ro gr am s . Of co ur se ,t he ya re al so wi th in"
t he s co pe o f a m on ke y w it h a t yp ew ri te r ; w e s ti ll n ee d b et te r h eu ri st ic s a nd n ew w ay s t o
s tr uc tu re t he se ar ch sp ac e .
On et hi ng th at in ve rs er es ol ut io n s ys te ms w il ld of or yo ui si nv en tn ew pr ed ic at es . Th is
"a bi li ty is of te ns ee na ss om ew ha tm ag ic al ,b ec au se co mp ut er sa re of te nt ho ug ht of as“m er el y"
"w or ki ng w it h w ha t t he y a re g iv en .” In f ac t , n ew p re di ca te s f al l d ir ec tl y o ut o f t he i nv er se"
"r es ol ut io n s te p . Th es im pl es tc as ea ri se s i nh yp ot he si zi ng t wo ne wc la us es C a nd C ,g iv en"
1 2
"a cl au se C . Th er es ol ut io no f C a nd C e li mi na te sa li te ra lt ha tt he tw oc la us es sh ar e ;h en ce ,"
1 2
i ti sq ui te p os si bl e t ha tt he el im in at ed l it er al co nt ai ne d a pr ed ic at e t ha td oe s n ot ap pe ar in C .
"Th us , w he nw or ki ng b ac kw ar d , o ne p os si bi li ty i s t og en er at e a ne wp re di ca te f ro m w hi ch t o"
r ec on st ru ct t he mi ss in gl it er al .
Fi gu re 19.14 s ho ws an ex am pl ei nw hi ch th en ew pr ed ic at e P i sg en er at ed in th ep ro ce ss
"o fl ea rn in g a de fi ni ti on f or An ce st or . On ce ge ne ra te d , P c an be us ed in la te ri nv er se re so lu-"
"t io ns te ps . Fo re xa mp le ,a la te rs te pm ig ht hy po th es iz et ha t Mo th er(x ,y) ⇒ P(x ,y). Th us ,"
t he ne wp re di ca te P h as it sm ea ni ng co ns tr ai ne db yt he ge ne ra ti on of hy po th es es t ha ti nv ol ve
"i t . An ot he r e xa mp le m ig ht l ea d t o t he c on st ra in t Fa th er(x ,y) ⇒ P(x ,y). In o th er w or ds ,"
t he p re di ca te P i s w ha t w e u su al ly t hi nk o f a s t he Pa re nt r el at io ns hi p . As w e m en ti on ed
"e ar li er , t he i nv en ti on o f n ew p re di ca te s c an s ig ni fi ca nt ly r ed uc e t he s iz e o f t he d ef in it io n o f"
"t he go al pr ed ic at e . He nc e ,b yi nc lu di ng th ea bi li ty to in ve nt ne wp re di ca te s ,i nv er se re so lu ti on"
s ys te ms ca no ft en so lv el ea rn in g p ro bl em st ha ta re in fe as ib le w it ho th er te ch ni qu es .
So me of t he d ee pe st r ev ol ut io ns i n s ci en ce c om e f ro m t he i nv en ti on o f n ew p re di ca te s
"a nd f un ct io ns—f or e xa mp le , Ga li le o’s i nv en ti on o f a cc el er at io n o r Jo ul e’s i nv en ti on o f t he r-"
"m al e ne rg y . On ce t he se t er ms a re a va il ab le , t he d is co ve ry o f n ew l aw s b ec om es (r el at iv el y)"
"e as y . Th e d if fi cu lt p ar t l ie s i n r ea li zi ng t ha t s om e n ew e nt it y , w it h a s pe ci fi c r el at io ns hi p"
"t o e xi st in g e nt it ie s , w il l a ll ow a n e nt ir e b od y o f o bs er va ti on s t o b e e xp la in ed w it h a m uc h"
Se ct io n 19.6. Su mm ar y 797
"Fa th er(x ,y) P(x ,y)"
{x/Ge or ge}
>
"Fa th er(Ge or ge ,y) An ce st or(Ge or ge ,y) >"
"P(Ge or ge ,y) An ce st or(Ge or ge ,y) > ¬ ¬"
Fi gu re 19.14 An in ve rs er es ol ut io ns te pt ha tg en er at es an ew pr ed ic at e P .
s im pl er an dm or ee le ga nt th eo ry th an pr ev io us ly e xi st ed .
"As ye t ,ILPs ys te ms ha ve no tm ad ed is co ve ri es on th el ev el of Ga li le oo r Jo ul e ,b ut th ei r"
"d is co ve ri es h av e b ee n d ee me d p ub li sh ab le i n t he s ci en ti fi c l it er at ur e . Fo r e xa mp le , i n t he"
"Jo ur na lo f Mo le cu la r Bi ol og y ,Tu rc ot te et al .(2001)d es cr ib et he au to ma te dd is co ve ry of ru le s"
f or pr ot ei n f ol di ng b y t he ILP p ro gr am PROGOL . Ma ny o f t he r ul es d is co ve re d b y PROGOL
"c ou ld h av eb ee nd er iv ed fr om k no wn pr in ci pl es , b ut mo st ha dn ot be en pr ev io us ly p ub li sh ed"
a s p ar t o f a s ta nd ar d b io lo gi ca l d at ab as e . (Se e Fi gu re 19.10 f or a n e xa mp le .). In r el at ed
"w or k , Sr in iv as an e t a l . (1994) d ea lt w it h t he p ro bl em o f d is co ve ri ng m ol ec ul ar-s tr uc tu re-"
b as ed ru le sf or th em ut ag en ic it yo fn it ro ar om at ic co mp ou nd s . Th es ec om po un ds ar ef ou nd in
"a ut om ob il ee xh au st fu me s . Fo r 80%o ft he co mp ou nd si na st an da rd da ta ba se ,i ti sp os si bl et o"
"i de nt if y f ou ri mp or ta nt fe at ur es , a nd li ne ar re gr es si on o n t he se fe at ur es ou tp er fo rm s ILP .Fo r"
"t he re ma in in g 20%,t he fe at ur es al on ea re no tp re di ct iv e , a nd ILPi de nt if ie sr el at io ns hi ps t ha t"
"a ll ow i t t o o ut pe rf or m l in ea r r eg re ss io n , n eu ra l n et s , a nd d ec is io n t re es . Mo st i mp re ss iv el y ,"
Ki ng et al .(2009)e nd ow ed ar ob ot wi th th ea bi li ty to pe rf or mm ol ec ul ar bi ol og ye xp er im en ts
"a nd e xt en de d ILP t ec hn iq ue s t o i nc lu de e xp er im en t d es ig n , t he re by c re at in g a n a ut on om ou s"
s ci en ti st th at ac tu al ly di sc ov er ed ne wk no wl ed ge ab ou tt he fu nc ti on al ge no mi cs of ye as t . Fo r
a ll th es ee xa mp le si ta pp ea rs th at th ea bi li ty bo th to re pr es en tr el at io ns an dt ou se ba ck gr ou nd
k no wl ed ge co nt ri bu te t o ILP’s hi gh pe rf or ma nc e . Th ef ac tt ha tt he ru le sf ou nd by ILPc an be
i nt er pr et ed b y h um an s c on tr ib ut es t o t he a cc ep ta nc e o f t he se t ec hn iq ue s i n b io lo gy j ou rn al s
r at he rt ha nj us tc om pu te rs ci en ce jo ur na ls .
ILPh as m ad e c on tr ib ut io ns t o o th er s ci en ce s b es id es b io lo gy . On e o f t he m os t i mp or-
"t an t i s n at ur al l an gu ag e p ro ce ss in g , w he re ILP h as b ee n u se d t o e xt ra ct c om pl ex r el at io na l"
i nf or ma ti on f ro mt ex t . Th es er es ul ts ar es um ma ri ze di n Ch ap te r 23.
19.6 SUMMARY
Th is c ha pt er h as i nv es ti ga te d v ar io us w ay s i n w hi ch p ri or k no wl ed ge c an h el p a n a ge nt t o
l ea rn f ro m n ew e xp er ie nc es . Be ca us e m uc h p ri or k no wl ed ge i s e xp re ss ed i n t er ms o f r el a-
"t io na l m od el s r at he r t ha n a tt ri bu te-b as ed m od el s , w e h av e a ls o c ov er ed s ys te ms t ha t a ll ow"
l ea rn in g o fr el at io na l m od el s . Th ei mp or ta nt po in ts ar e:
"• Th e u se o f p ri or k no wl ed ge i n l ea rn in g l ea ds t o a p ic tu re o f c um ul at iv e l ea rn in g , i n"
w hi ch le ar ni ng a ge nt si mp ro ve th ei rl ea rn in g a bi li ty as th ey ac qu ir em or ek no wl ed ge .
• Pr io rk no wl ed ge h el ps l ea rn in g b ye li mi na ti ng o th er wi se c on si st en t h yp ot he se s a nd by
20
LEARNING
PROBABILISTIC MODELS
In wh ic hw ev ie wl ea rn in g a sa fo rm of un ce rt ai n r ea so ni ng f ro mo bs er va ti on s .
Ch ap te r 13 p oi nt ed ou tt he pr ev al en ce of un ce rt ai nt yi nr ea le nv ir on me nt s . Ag en ts ca nh an dl e
"u nc er ta in ty b yu si ng th em et ho ds of pr ob ab il it y a nd de ci si on t he or y , b ut fi rs tt he ym us tl ea rn"
t he ir p ro ba bi li st ic t he or ie s o f t he w or ld f ro m e xp er ie nc e . Th is c ha pt er e xp la in s h ow t he y
"c an d o t ha t , b y f or mu la ti ng t he l ea rn in g t as k i ts el f a s a p ro ce ss o f p ro ba bi li st ic i nf er en ce"
"(Se ct io n 20.1). We wi ll se et ha ta Ba ye si an vi ew of le ar ni ng is ex tr em el yp ow er fu l ,p ro vi di ng"
"g en er al s ol ut io ns t o t he p ro bl em s o f n oi se , o ve rf it ti ng , a nd o pt im al p re di ct io n . It a ls o t ak es"
i nt oa cc ou nt th ef ac tt ha ta le ss-t ha n-o mn is ci en ta ge nt ca nn ev er be ce rt ai na bo ut wh ic ht he or y
"o ft he wo rl di sc or re ct ,y et mu st st il lm ak ed ec is io ns b yu si ng so me th eo ry of th ew or ld ."
We de sc ri be me th od sf or le ar ni ng pr ob ab il it y m od el s—p ri ma ri ly Ba ye si an ne tw or ks—
"i n Se ct io ns 20.2 a nd 20.3. So me o f t he m at er ia l i n t hi s c ha pt er i s f ai rl y m at he ma ti ca l , a l-"
t ho ug ht he ge ne ra ll es so ns ca nb eu nd er st oo dw it ho ut pl un gi ng in to th ed et ai ls . It ma yb en ef it
t he re ad er to re vi ew Ch ap te rs 13 a nd 14 a nd pe ek at Ap pe nd ix A .
20.1 STATISTICAL LEARNING
"Th e k ey c on ce pt s i n t hi s c ha pt er , j us t a s i n Ch ap te r 18, a re d at a a nd h yp ot he se s . He re , t he"
"d at aa re ev id en ce—t ha ti s ,i ns ta nt ia ti on so fs om eo ra ll of th er an do mv ar ia bl es de sc ri bi ng th e"
"d om ai n . Th e h yp ot he se s i n t hi s c ha pt er a re p ro ba bi li st ic t he or ie s o f h ow t he d om ai n w or ks ,"
i nc lu di ng l og ic al th eo ri es a sa sp ec ia l c as e .
Co ns id er a s im pl e e xa mp le . Ou r f av or it e Su rp ri se c an dy c om es i n t wo f la vo rs: c he rr y
(y um)a nd li me(u gh). Th em an uf ac tu re rh as ap ec ul ia rs en se of hu mo ra nd wr ap se ac hp ie ce
"o f c an dy i n t he s am e o pa qu e w ra pp er , r eg ar dl es s o f f la vo r . Th e c an dy i s s ol d i n v er y l ar ge"
"b ag s ,o fw hi ch th er ea re kn ow nt ob ef iv ek in ds—a ga in , i nd is ti ng ui sh ab le f ro mt he ou ts id e:"
"h : 100%c he rr y ,"
1
"h : 75%c he rr y+25%l im e ,"
2
"h : 50%c he rr y+50%l im e ,"
3
"h : 25%c he rr y+75%l im e ,"
4
h : 100%l im e .
5
802
Se ct io n 20.1. St at is ti ca l Le ar ni ng 803
"Gi ve n a n ew b ag o f c an dy , t he r an do m v ar ia bl e H (f or h yp ot he si s) d en ot es t he t yp e o f t he"
"b ag , w it h p os si bl e v al ue s h t hr ou gh h . H i s n ot d ir ec tl y o bs er va bl e , o f c ou rs e . As t he"
1 5
"p ie ce s o f c an dy a re o pe ne d a nd i ns pe ct ed , d at a a re r ev ea le d—D , D , ..., D , w he re e ac h"
1 2 N
D i s a r an do m v ar ia bl e w it h p os si bl e v al ue s c he rr y a nd l im e . Th e b as ic t as k f ac ed b y t he
i
"a ge nt i s t o p re di ct t he f la vo r o f t he n ex t p ie ce o f c an dy .1 De sp it e i ts a pp ar en t t ri vi al it y , t hi s"
s ce na ri o s er ve s t o i nt ro du ce m an y o f t he m aj or i ss ue s . Th e a ge nt r ea ll y d oe s n ee d t o i nf er a
"t he or yo fi ts wo rl d ,a lb ei ta ve ry si mp le on e ."
"Ba ye si an le ar ni ng si mp ly ca lc ul at es th ep ro ba bi li ty o fe ac hh yp ot he si s ,g iv en th ed at a ,"
BAYESIANLEARNING
"a nd m ak es p re di ct io ns o n t ha t b as is . Th at i s , t he p re di ct io ns a re m ad e b y u si ng a ll t he h y-"
"p ot he se s ,w ei gh te db yt he ir pr ob ab il it ie s , r at he rt ha nb yu si ng ju st as in gl e“b es t”h yp ot he si s ."
"In t hi s w ay , l ea rn in g i s r ed uc ed t o p ro ba bi li st ic i nf er en ce . Le t D r ep re se nt a ll t he d at a , w it h"
o bs er ve d v al ue d ;t he nt he pr ob ab il it y o fe ac hh yp ot he si s i so bt ai ne db y Ba ye s’r ul e:
P(h |d) = αP(d|h )P(h ). (20.1)
i i i
"No w ,s up po se w ew an tt om ak ea pr ed ic ti on a bo ut an un kn ow nq ua nt it y X . Th en we ha ve"
(c id:12) (c id:12)
"P(X|d)= P(X|d ,h )P(h |d) = P(X|h )P(h |d), (20.2)"
i i i i
i i
w he re w e h av e a ss um ed t ha t e ac h h yp ot he si s d et er mi ne s a p ro ba bi li ty d is tr ib ut io n o ve r X .
Th is e qu at io n s ho ws t ha t p re di ct io ns a re w ei gh te d a ve ra ge s o ve rt he p re di ct io ns o f t he i nd i-
v id ua l h yp ot he se s . Th e h yp ot he se s t he ms el ve s a re e ss en ti al ly “i nt er me di ar ie s” b et we en t he
r aw da ta an dt he pr ed ic ti on s . Th ek ey qu an ti ti es in th e Ba ye si an ap pr oa ch ar et he h yp ot he si s
"p ri or ,P(h ),a nd th el ik el ih oo do ft he da ta un de re ac hh yp ot he si s , P(d|h )."
HYPOTHESISPRIOR i i
"Fo r o ur c an dy e xa mp le , w e w il l a ss um e f or t he t im e b ei ng t ha t t he p ri or d is tr ib ut io n"
LIKELIHOOD
"o ve r h ,...,h i s g iv en b y (c id:16)0.1,0.2,0.4,0.2,0.1(c id:17), a s a dv er ti se d b y t he m an uf ac tu re r . Th e"
1 5
l ik el ih oo d o f t he d at a i s c al cu la te d u nd er t he a ss um pt io n t ha t t he o bs er va ti on s a re i .i .d . (s ee
"p ag e 708),s ot ha t"
(c id:25)
P(d|h ) = P(d |h ). (20.3)
i j i
j
"Fo r e xa mp le , s up po se t he b ag i s r ea ll y a n a ll-l im e b ag (h ) a nd t he f ir st 10 c an di es a re a ll"
5
"l im e ;t he n P(d|h )i s 0.510,b ec au se h al ft he ca nd ie s i na nh b ag ar el im e .2 Fi gu re 20.1(a)"
3 3
s ho ws h ow t he p os te ri or p ro ba bi li ti es o f t he f iv e h yp ot he se s c ha ng e a s t he s eq ue nc e o f 10
"l im e c an di es i s o bs er ve d . No ti ce t ha t t he p ro ba bi li ti es s ta rt o ut a t t he ir p ri or v al ue s , s o h"
3
i s i ni ti al ly t he m os t l ik el y c ho ic e a nd r em ai ns s o a ft er 1 l im e c an dy i s u nw ra pp ed . Af te r 2
"l im ec an di es a re un wr ap pe d , h i sm os tl ik el y ; a ft er 3 o rm or e , h (t he dr ea de da ll-l im eb ag)"
4 5
"i s t he m os t l ik el y . Af te r 10 i n a r ow , w e a re f ai rl y c er ta in o f o ur f at e . Fi gu re 20.1(b) s ho ws"
"t he pr ed ic te d p ro ba bi li ty t ha tt he ne xt ca nd yi sl im e ,b as ed o n Eq ua ti on(20.2). As we wo ul d"
"e xp ec t ,i ti nc re as es m on ot on ic al ly t ow ar d 1."
1 St at is ti ca ll ys op hi st ic at ed re ad er sw il lr ec og ni ze th is sc en ar io as av ar ia nt of th eu rn-a nd-b al ls et up . We fi nd
"u rn sa nd ba ll sl es sc om pe ll in gt ha nc an dy ;f ur th er mo re ,c an dy le nd si ts el ft oo th er ta sk s ,s uc ha sd ec id in gw he th er"
t ot ra de th eb ag wi th af ri en d—s ee Ex er ci se 20.2.
"2 We st at ed ea rl ie rt ha tt he ba gs of ca nd ya re ve ry la rg e ;o th er wi se ,t he i .i .d .a ss um pt io nf ai ls to ho ld .Te ch ni ca ll y ,"
i ti sm or ec or re ct(b ut le ss hy gi en ic)t or ew ra pe ac hc an dy af te ri ns pe ct io na nd re tu rn it to th eb ag .
804 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
1
0.8
0.6
0.4
0.2
0
0 2 4 6 8 10
s is eh to py h
f o
y ti li ba bo rp
r oi re ts o P
1
P(h | d)
1
P(h | d)
P(h 2 | d) 0.9 3
P(h | d)
P(h 4 | d) 0.8
5
0.7
0.6
0.5
0.4
0 2 4 6 8 10
Nu mb er o f o bs er va ti on s i n d
e mi l
s i y dn ac
t xe n
t ah t
y ti li ba bo r P
Nu mb er o f o bs er va ti on s i n d
(a) (b)
"Fi gu re 20.1 (a) Po st er io r p ro ba bi li ti es P(h i|d 1,...,d N) f ro m Eq ua ti on (20.1). Th e"
"n um be r o f o bs er va ti on s N r an ge s f ro m 1 t o 10, a nd e ac h o bs er va ti on i s o f a l im e c an dy ."
"(b)Ba ye si an pr ed ic ti on P(d N+1=l im e|d 1,...,d N)f ro m Eq ua ti on(20.2)."
Th e e xa mp le s ho ws t ha t t he Ba ye si an p re di ct io n e ve nt ua ll y a gr ee s w it h t he t ru e h y-
p ot he si s . Th is i s c ha ra ct er is ti c o f Ba ye si an l ea rn in g . Fo r a ny f ix ed p ri or t ha t d oe s n ot r ul e
"o ut t he t ru e h yp ot he si s , t he p os te ri or p ro ba bi li ty o f a ny f al se h yp ot he si s w il l , u nd er c er ta in"
"t ec hn ic al c on di ti on s , e ve nt ua ll y v an is h . Th is ha pp en s s im pl yb ec au se t he pr ob ab il it y o fg en-"
e ra ti ng “u nc ha ra ct er is ti c” d at a i nd ef in it el y i s v an is hi ng ly s ma ll . (Th is p oi nt i s a na lo go us t o
"o ne m ad e i n t he d is cu ss io n o f PAC l ea rn in g i n Ch ap te r 18.) Mo re i mp or ta nt , t he Ba ye si an"
"p re di ct io n i s o pt im al , w he th er th e d at a s et be sm al lo rl ar ge . Gi ve nt he h yp ot he si s p ri or , a ny"
o th er pr ed ic ti on i se xp ec te d t ob ec or re ct le ss of te n .
"Th e o pt im al it y o f Ba ye si an l ea rn in g c om es a t a p ri ce , o f c ou rs e . Fo r r ea l l ea rn in g"
"p ro bl em s , t he h yp ot he si s s pa ce i s u su al ly v er y l ar ge o ri nf in it e , a s w es aw i n Ch ap te r 18. In"
"s om ec as es , t he su mm at io ni n Eq ua ti on (20.2)(o ri nt eg ra ti on , i nt he co nt in uo us c as e)c an be"
"c ar ri ed ou tt ra ct ab ly , b ut in mo st ca se sw em us tr es or tt oa pp ro xi ma te o rs im pl if ie dm et ho ds ."
Av er yc om mo na pp ro xi ma ti on—o ne th at is us ua ll ya do pt ed in sc ie nc e—i st om ak ep re-
"d ic ti on sb as ed on as in gl em os tp ro ba bl eh yp ot he si s—t ha t i s ,a nh t ha tm ax im iz es P(h |d)."
i i
MAXIMUMA Th is is of te nc al le da ma xi mu ma po st er io ri or MAP(p ro no un ce d“e m-a y-p ee”)h yp ot he si s .
POSTERIORI
Pr ed ic ti on s m ad ea cc or di ng t oa n MAPh yp ot he si s h a re ap pr ox im at el y Ba ye si an t ot he
MAP
"e xt en tt ha t P(X|d)≈ P(X|h ). In ou rc an dy ex am pl e ,h =h a ft er th re el im ec an-"
MAP MAP 5
"d ie si na ro w ,s ot he MAPl ea rn er th en pr ed ic ts t ha tt he fo ur th c an dy is li me wi th pr ob ab il it y"
1.0—a m uc h m or e d an ge ro us p re di ct io n t ha n t he Ba ye si an p re di ct io n o f 0.8 s ho wn i n Fi g-
"u re 20.1(b). As mo re da ta ar ri ve ,t he MAPa nd Ba ye si an p re di ct io ns b ec om ec lo se r , b ec au se"
t he co mp et it or s t ot he MAPh yp ot he si s b ec om el es sa nd le ss pr ob ab le .
"Al th ou gh o ur e xa mp le d oe sn’t s ho w i t , f in di ng MAP h yp ot he se s i s o ft en m uc h e as ie r"
"t ha n Ba ye si an le ar ni ng ,b ec au se it re qu ir es so lv in ga no pt im iz at io np ro bl em in st ea do fa la rg e"
s um ma ti on(o ri nt eg ra ti on) p ro bl em . We wi ll se ee xa mp le so f t hi sl at er in th ec ha pt er .
Se ct io n 20.1. St at is ti ca l Le ar ni ng 805
"In b ot h Ba ye si an l ea rn in g a nd MAP l ea rn in g , t he h yp ot he si s p ri or P(h ) p la ys a n i m-"
i
p or ta nt r ol e . We s aw i n Ch ap te r 18 t ha t o ve rf it ti ng c an o cc ur w he n t he h yp ot he si s s pa ce
"i s t oo e xp re ss iv e , s o t ha t i t c on ta in s m an y h yp ot he se s t ha t f it t he d at a s et w el l . Ra th er t ha n"
"p la ci ng a n a rb it ra ry l im it o n t he h yp ot he se s t o b e c on si de re d , Ba ye si an a nd MAP l ea rn in g"
"m et ho ds u se t he p ri or t o p en al iz e c om pl ex it y . Ty pi ca ll y , m or e c om pl ex h yp ot he se s h av e a"
l ow er p ri or p ro ba bi li ty—i n p ar t b ec au se t he re a re u su al ly m an y m or e c om pl ex h yp ot he se s
"t ha n s im pl e h yp ot he se s . On th e o th er ha nd , m or e c om pl ex h yp ot he se s h av e a gr ea te r c ap ac-"
"i ty t o f it t he d at a . (In t he e xt re me c as e , a l oo ku p t ab le c an r ep ro du ce t he d at a e xa ct ly w it h"
"p ro ba bi li ty 1.) He nc e , t he h yp ot he si s p ri or em bo di es a tr ad eo ff b et we en t he co mp le xi ty o fa"
h yp ot he si s a nd it sd eg re eo ff it to th ed at a .
"We ca ns ee th ee ff ec to ft hi st ra de of fm os tc le ar ly in th el og ic al ca se ,w he re H c on ta in s"
"o nl yd et er mi ni st ic h yp ot he se s . In th at ca se ,P(d|h )i s 1 i fh i sc on si st en t a nd 0 o th er wi se ."
i i
"Lo ok in g a t Eq ua ti on (20.1), w e s ee t ha t h w il l t he n b e t he s im pl es t l og ic al t he or y t ha t"
MAP
"i s c on si st en t w it h t he d at a . Th er ef or e , m ax im um a p os te ri or i l ea rn in g p ro vi de s a n at ur al"
e mb od im en to f Oc kh am’s ra zo r .
An ot he r i ns ig ht i nt o t he t ra de of f b et we en c om pl ex it y a nd d eg re e o f f it i s o bt ai ne d b y
t ak in g t he l og ar it hm o f Eq ua ti on (20.1). Ch oo si ng h t o m ax im iz e P(d|h )P(h ) i s
MAP i i
e qu iv al en t t om in im iz in g
−l og P(d|h )−l og P(h ).
2 i 2 i
Us in g t he c on ne ct io n b et we en i nf or ma ti on e nc od in g a nd p ro ba bi li ty t ha t w e i nt ro du ce d i n
"Ch ap te r 18.3.4,w es ee th at th e− l og P(h )t er me qu al st he nu mb er of bi ts re qu ir ed to sp ec-"
2 i
"i fy th eh yp ot he si sh . Fu rt he rm or e , − l og P(d|h )i st he ad di ti on al nu mb er of bi ts re qu ir ed"
i 2 i
"t o s pe ci fy t he d at a , g iv en t he h yp ot he si s . (To s ee t hi s , c on si de r t ha t n o b it s a re r eq ui re d"
i f t he h yp ot he si s p re di ct s t he d at a e xa ct ly—a s w it h h a nd t he s tr in g o f l im e c an di es—a nd
5
"l og 1=0.) He nc e , MAP l ea rn in g i s c ho os in g t he h yp ot he si s t ha t p ro vi de s m ax im um c om-"
2
p re ss io n o ft he da ta . Th es am et as ki sa dd re ss ed m or ed ir ec tl y b yt he m in im um de sc ri pt io n
"l en gt h ,o r MDL ,l ea rn in gm et ho d . Wh er ea s MAPl ea rn in ge xp re ss es si mp li ci ty by as si gn in g"
"h ig he rp ro ba bi li ti es t os im pl er hy po th es es , MDLe xp re ss es i td ir ec tl y b yc ou nt in g t he bi ts in"
a bi na ry en co di ng o ft he hy po th es es a nd da ta .
A f in al s im pl if ic at io n i s p ro vi de d b y a ss um in g a u ni fo rm p ri or o ve r t he s pa ce o f h y-
"p ot he se s . In t ha t c as e , MAP l ea rn in g r ed uc es t o c ho os in g a n h t ha t m ax im iz es P(d|h )."
i i
"MAXIMUM- Th is is ca ll ed am ax im um-l ik el ih oo d(ML)h yp ot he si s , h . Ma xi mu m-l ik el ih oo d l ea rn in g"
LIKELIHOOD ML
"i s v er y c om mo n i n s ta ti st ic s , a d is ci pl in e i n w hi ch m an y r es ea rc he rs d is tr us t t he s ub je ct iv e"
n at ur eo fh yp ot he si s p ri or s . It is ar ea so na bl e a pp ro ac h w he nt he re is no re as on to pr ef er on e
"h yp ot he si s o ve ra no th er a pr io ri—f or e xa mp le , w he na ll hy po th es es a re e qu al ly c om pl ex . It"
"p ro vi de s a g oo d a pp ro xi ma ti on t o Ba ye si an a nd MAP l ea rn in g w he n t he d at a s et i s l ar ge ,"
"b ec au se t he d at a s wa mp s t he p ri or d is tr ib ut io n o ve r h yp ot he se s , b ut i t h as p ro bl em s (a s w e"
s ha ll se e)w it hs ma ll da ta se ts .
806 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
20.2 LEARNING WITH COMPLETE DATA
"Th eg en er al ta sk of le ar ni ng ap ro ba bi li ty m od el ,g iv en da ta t ha ta re as su me dt ob eg en er at ed"
"f ro m t ha t m od el , i s c al le d d en si ty e st im at io n . (Th e t er m a pp li ed o ri gi na ll y t o p ro ba bi li ty"
DENSITYESTIMATION
"d en si ty fu nc ti on s f or co nt in uo us v ar ia bl es , b ut is us ed no w f or di sc re te di st ri bu ti on s t oo .)"
"Th is s ec ti on c ov er s t he s im pl es t c as e , w he re w e h av e c om pl et e d at a . Da ta a re c om-"
COMPLETEDATA
p le te w he n e ac h d at a p oi nt c on ta in s v al ue s f or ev er y v ar ia bl e i n t he p ro ba bi li ty m od el b ei ng
PARAMETER l ea rn ed . We f oc us o n p ar am et er l ea rn in g—f in di ng t he n um er ic al p ar am et er s f or a p ro ba-
LEARNING
"b il it y m od el w ho se s tr uc tu re i s f ix ed . Fo r e xa mp le , w e m ig ht b e i nt er es te d i n l ea rn in g t he"
c on di ti on al p ro ba bi li ti es i n a Ba ye si an n et wo rk w it h a g iv en s tr uc tu re . We w il l a ls o l oo k
b ri ef ly at th ep ro bl em o fl ea rn in g s tr uc tu re a nd at no np ar am et ri c d en si ty es ti ma ti on .
20.2.1 Ma xi mu m-l ik el ih oo dp ar am et er l ea rn in g: Di sc re te m od el s
Su pp os ew eb uy ab ag of li me an dc he rr yc an dy fr om an ew ma nu fa ct ur er wh os el im e–c he rr y
p ro po rt io ns a re c om pl et el y u nk no wn ; t he f ra ct io n c ou ld b e a ny wh er e b et we en 0 a nd 1. In
"t ha t c as e , w e h av e a c on ti nu um o f h yp ot he se s . Th e p ar am et er i n t hi s c as e , w hi ch w e c al l"
"θ, i s t he p ro po rt io n o f c he rr y c an di es , a nd t he h yp ot he si s i s h . (Th e p ro po rt io n o f l im es i s"
θ
"j us t 1−θ.) If w e a ss um e t ha t a ll p ro po rt io ns a re e qu al ly l ik el y a p ri or i , t he n a m ax im um-"
"l ik el ih oo d a pp ro ac h i s r ea so na bl e . If w e m od el t he s it ua ti on w it h a Ba ye si an n et wo rk , w e"
"n ee dj us to ne ra nd om va ri ab le , Fl av or (t he fl av or of ar an do ml yc ho se nc an dy fr om th eb ag)."
"It ha sv al ue sc he rr y a nd li me ,w he re th ep ro ba bi li ty of ch er ry i sθ(s ee Fi gu re 20.2(a)). No w"
"s up po se w eu nw ra p N c an di es , o fw hi ch c ar e c he rr ie s a nd (c id:3)=N −c ar e l im es . Ac co rd in g"
"t o Eq ua ti on(20.3), t he li ke li ho od o ft hi sp ar ti cu la r d at as et is"
(c id:25)N
P(d|h ) = P(d |h ) = θc·(1−θ)(c id:3) .
θ j θ
j=1
Th e m ax im um-l ik el ih oo d h yp ot he si s i s g iv en b y t he v al ue o f θ t ha t m ax im iz es t hi s e xp re s-
"s io n . Th es am ev al ue is ob ta in ed b ym ax im iz in gt he lo gl ik el ih oo d ,"
LOGLIKELIHOOD
(c id:12)N
L(d|h ) = l og P(d|h ) = l og P(d |h )= c lo gθ+(c id:3)l og(1−θ).
θ θ j θ
j=1
"(By ta ki ng l og ar it hm s , w er ed uc e t he pr od uc t t oa su m o ve rt he d at a , w hi ch is us ua ll y e as ie r"
"t om ax im iz e .) To fi nd th em ax im um-l ik el ih oo d v al ue ofθ,w ed if fe re nt ia te Lw it hr es pe ct t o"
θ a nd se tt he re su lt in g e xp re ss io n t oz er o:
d L(d|h ) c (c id:3) c c
θ = − = 0 ⇒ θ = = .
dθ θ 1−θ c+(c id:3) N
"In En gl is h , t he n , t he m ax im um-l ik el ih oo d h yp ot he si s h a ss er ts t ha t t he a ct ua l p ro po rt io n"
ML
o fc he rr ie s i nt he ba gi se qu al to th eo bs er ve d p ro po rt io n i nt he ca nd ie su nw ra pp ed s of ar !
"It a pp ea rs t ha t w e h av e d on e a l ot o f w or k t o d is co ve r t he o bv io us . In f ac t , t ho ug h ,"
"w eh av el ai do ut on es ta nd ar dm et ho df or ma xi mu m-l ik el ih oo d p ar am et er le ar ni ng ,a me th od"
w it hb ro ad ap pl ic ab il it y:
Se ct io n 20.2. Le ar ni ng wi th Co mp le te Da ta 807
P(F=c he rr y)
θ
P(F=c he rr y) Fl av or
θ
F P(W=r ed| F)
θ
Fl av or c he rr y 1
θ
l im e 2
Wr ap pe r
(a) (b)
Fi gu re 20.2 (a)Ba ye si an ne tw or km od el fo rt he ca se of ca nd ie sw it ha nu nk no wn pr op or-
t io no fc he rr ie sa nd li me s . (b)Mo de lf or th ec as ew he re th ew ra pp er co lo rd ep en ds(p ro ba-
b il is ti ca ll y)o nt he ca nd yf la vo r .
1. Wr it ed ow na ne xp re ss io nf or th el ik el ih oo do ft he da ta as af un ct io no ft he pa ra me te r(s).
2. Wr it ed ow nt he de ri va ti ve of th el og li ke li ho od w it hr es pe ct to ea ch pa ra me te r .
3. Fi nd th ep ar am et er va lu es su ch th at th ed er iv at iv es ar ez er o .
"Th e t ri ck ie st s te p i s u su al ly t he l as t . In o ur e xa mp le , i t w as t ri vi al , b ut w e w il l s ee t ha t i n"
m an yc as es we ne ed to re so rt to it er at iv es ol ut io na lg or it hm so ro th er nu me ri ca lo pt im iz at io n
"t ec hn iq ue s , a s d es cr ib ed i n Ch ap te r 4. Th e e xa mp le a ls o i ll us tr at es a s ig ni fi ca nt p ro bl em"
w it h m ax im um-l ik el ih oo d l ea rn in g i n g en er al: w he n t he d at a s et i s s ma ll e no ug h t ha t s om e
"e ve nt sh av en ot ye tb ee no bs er ve d—f or in st an ce ,n oc he rr yc an di es—t he ma xi mu m-l ik el ih oo d"
h yp ot he si s a ss ig ns z er o p ro ba bi li ty t o t ho se e ve nt s . Va ri ou s t ri ck s a re u se d t o a vo id t hi s
"p ro bl em ,s uc ha si ni ti al iz in g t he co un ts fo re ac he ve nt to 1 i ns te ad of 0."
Le tu s l oo k a ta no th er e xa mp le . Su pp os e t hi s n ew c an dy m an uf ac tu re r w an ts t og iv e a
l it tl eh in tt ot he co ns um er an du se sc an dy wr ap pe rs co lo re dr ed an dg re en . Th e Wr ap pe r f or
"e ac hc an dy is se le ct ed pr ob ab il is ti ca ll y , a cc or di ng to so me un kn ow nc on di ti on al di st ri bu ti on ,"
d ep en di ng o n t he f la vo r . Th e c or re sp on di ng p ro ba bi li ty m od el i s s ho wn i n Fi gu re 20.2(b).
"No ti ce t ha t i t h as t hr ee p ar am et er s: θ, θ , a nd θ . Wi th t he se p ar am et er s , t he l ik el ih oo d o f"
1 2
"s ee in g , s ay , a c he rr y c an dy i n a g re en w ra pp er c an b e o bt ai ne d f ro m t he s ta nd ar d s em an ti cs"
f or Ba ye si an ne tw or ks(p ag e 513):
"P(Fl av or =c he rr y ,Wr ap pe r =g re en|h )"
"θ,θ1,θ2"
"= P(Fl av or =c he rr y|h )P(Wr ap pe r =g re en|Fl av or =c he rr y ,h )"
"θ,θ1,θ2 θ,θ1,θ2"
= θ·(1−θ ).
1
"No ww eu nw ra p N c an di es , o fw hi ch ca re ch er ri es a nd (c id:3)a re li me s . Th ew ra pp er co un ts a re"
"a sf ol lo ws: r o ft he ch er ri es ha ve re dw ra pp er sa nd g h av eg re en ,w hi le r o ft he li me sh av e"
c c (c id:3)
r ed an dg h av eg re en . Th el ik el ih oo d o ft he da ta is gi ve nb y
(c id:3)
P(d|h ) = θc(1−θ)(c id:3)·θr c(1−θ )g c ·θr(c id:3)(1−θ )g(c id:3) .
"θ,θ1,θ2 1 1 2 2"
808 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
"Th is lo ok sp re tt yh or ri bl e , b ut ta ki ng lo ga ri th ms he lp s:"
L=[c lo gθ+(c id:3)l og(1−θ)]+[r cl ogθ 1+g cl og(1−θ 1)]+[r(c id:3)l ogθ 2+g(c id:3)l og(1−θ 2)].
"Th eb en ef it of ta ki ng lo gs is cl ea r: t he lo gl ik el ih oo di st he su mo ft hr ee te rm s ,e ac ho fw hi ch"
c on ta in sa si ng le pa ra me te r . Wh en we ta ke de ri va ti ve sw it hr es pe ct to ea ch pa ra me te ra nd se t
"t he mt oz er o ,w eg et th re ei nd ep en de nt e qu at io ns , e ac hc on ta in in g j us to ne pa ra me te r:"
∂L = c − (c id:3) = 0 ⇒ θ = c
∂θ θ 1−θ c+(c id:3)
∂L = r c − g c = 0 ⇒ θ = r c
∂θ1 θ1 1−θ1 1 r c+g c
∂L = r(c id:3) − g(c id:3) = 0 ⇒ θ = r(c id:3) .
∂θ2 θ2 1−θ2 2 r(c id:3)+g(c id:3)
"Th e s ol ut io n f or θ i s t he s am e a s b ef or e . Th e s ol ut io n f or θ , t he p ro ba bi li ty t ha t a c he rr y"
1
"c an dy h as a r ed w ra pp er , i s t he o bs er ve d f ra ct io n o f c he rr y c an di es w it h r ed w ra pp er s , a nd"
s im il ar ly fo rθ .
2
"Th es er es ul ts ar ev er yc om fo rt in g , a nd it is ea sy to se et ha tt he yc an be ex te nd ed t oa ny"
Ba ye si an ne tw or kw ho se co nd it io na lp ro ba bi li ti es ar er ep re se nt ed as ta bl es . Th em os ti mp or-
"t an t p oi nt i s t ha t , w it h c om pl et e d at a , t he m ax im um-l ik el ih oo d p ar am et er l ea rn in g p ro bl em"
"f or a Ba ye si an ne tw or kd ec om po se si nt os ep ar at el ea rn in gp ro bl em s ,o ne fo re ac hp ar am et er ."
"(Se e Ex er ci se 20.6 f or th en on ta bu la te dc as e ,w he re ea ch pa ra me te ra ff ec ts se ve ra lc on di ti on al"
"p ro ba bi li ti es .) Th es ec on d p oi nt i st ha t t he pa ra me te rv al ue s f or av ar ia bl e , g iv en i ts pa re nt s ,"
a re j us t t he o bs er ve d f re qu en ci es o f t he v ar ia bl e v al ue s f or e ac h s et ti ng o f t he p ar en t v al ue s .
"As be fo re ,w em us tb ec ar ef ul to av oi dz er oe sw he nt he da ta se t i ss ma ll ."
20.2.2 Na iv e Ba ye s m od el s
Pr ob ab ly t he m os t c om mo n Ba ye si an n et wo rk m od el u se d i n m ac hi ne l ea rn in g i s t he n ai ve
"Ba ye sm od el fi rs ti nt ro du ce d o np ag e 499. In th is m od el , t he“c la ss” v ar ia bl e C (w hi ch i st o"
b ep re di ct ed) i st he ro ot an dt he“a tt ri bu te” v ar ia bl es X a re th el ea ve s . Th em od el is“n ai ve”
i
"b ec au se i t a ss um es t ha t t he a tt ri bu te s a re c on di ti on al ly i nd ep en de nt o f e ac h o th er , g iv en t he"
c la ss . (Th e m od el i n Fi gu re 20.2(b) i s a n ai ve Ba ye s m od el w it h c la ss Fl av or a nd j us t o ne
"a tt ri bu te , Wr ap pe r .) As su mi ng Bo ol ea nv ar ia bl es , t he pa ra me te rs a re"
"θ=P(C=t ru e),θ =P(X =t ru e|C=t ru e),θ =P(X =t ru e|C=f al se)."
i 1 i i 2 i
Th e m ax im um-l ik el ih oo d p ar am et er v al ue s a re f ou nd i n e xa ct ly t he s am e w ay a s f or Fi g-
"u re 20.2(b). On ce th em od el ha sb ee nt ra in ed in th is wa y ,i tc an be us ed to cl as si fy ne we xa m-"
"p le sf or wh ic ht he cl as sv ar ia bl e C i su no bs er ve d . Wi th ob se rv ed at tr ib ut ev al ue s x ,...,x ,"
1 n
t he pr ob ab il it y o fe ac hc la ss is gi ve nb y
(c id:25)
"P(C|x ,...,x )= α P(C) P(x |C)."
1 n i
i
A d et er mi ni st ic p re di ct io n c an b e o bt ai ne d b y c ho os in g t he m os t l ik el y c la ss . Fi gu re 20.3
s ho ws t he l ea rn in g c ur ve f or t hi s m et ho d w he n i t i s a pp li ed t o t he r es ta ur an t p ro bl em f ro m
Ch ap te r 18. Th e m et ho d l ea rn s f ai rl y w el l b ut n ot a s w el l a s d ec is io n-t re e l ea rn in g ; t hi s i s
p re su ma bl y b ec au se t he t ru e h yp ot he si s—w hi ch i s a d ec is io n t re e—i s n ot r ep re se nt ab le e x-
a ct ly u si ng a na iv e Ba ye sm od el . Na iv e Ba ye sl ea rn in g t ur ns ou t t od os ur pr is in gl y w el li na
w id e r an ge o f a pp li ca ti on s ; t he b oo st ed v er si on (Ex er ci se 20.4) i s o ne o f t he m os t e ff ec ti ve
Se ct io n 20.2. Le ar ni ng wi th Co mp le te Da ta 809
1
0.9
0.8
0.7
0.6
0.5
0.4
0 20 40 60 80 100
t es
t se t
n o
t ce rr oc
n oi tr op or P
De ci si on t re e
Na iv e Ba ye s
Tr ai ni ng s et s iz e
Fi gu re 20.3 Th el ea rn in gc ur ve fo rn ai ve Ba ye sl ea rn in ga pp li ed to th er es ta ur an tp ro bl em
f ro m Ch ap te r 18;t he le ar ni ng cu rv ef or de ci si on-t re el ea rn in gi ss ho wn fo rc om pa ri so n .
g en er al-p ur po se l ea rn in g a lg or it hm s . Na iv e Ba ye s l ea rn in g s ca le s w el l t o v er y l ar ge p ro b-
"l em s: w it hn Bo ol ea n a tt ri bu te s , t he re a re j us t 2 n+1 p ar am et er s , a nd n os ea rc h i s r eq ui re d"
"t of in dh ,t he m ax im um-l ik el ih oo d n ai ve Ba ye sh yp ot he si s . Fi na ll y , n ai ve Ba ye sl ea rn in g"
ML
s ys te ms h av e n o d if fi cu lt y w it h n oi sy o r m is si ng d at a a nd c an g iv e p ro ba bi li st ic p re di ct io ns
w he na pp ro pr ia te .
20.2.3 Ma xi mu m-l ik el ih oo dp ar am et er l ea rn in g: Co nt in uo us m od el s
Co nt in uo us p ro ba bi li ty m od el s s uc h a s t he l in ea r Ga us si an m od el w er e i nt ro du ce d i n Se c-
"t io n 14.3. Be ca us ec on ti nu ou sv ar ia bl es ar eu bi qu it ou si nr ea l-w or ld ap pl ic at io ns , i ti si mp or-"
t an tt ok no wh ow to le ar nt he pa ra me te rs of co nt in uo us m od el s f ro md at a . Th ep ri nc ip le s f or
m ax im um-l ik el ih oo d l ea rn in ga re id en ti ca l i nt he co nt in uo us a nd di sc re te ca se s .
Le t u s b eg in w it h a v er y s im pl e c as e: l ea rn in g t he p ar am et er s o f a Ga us si an d en si ty
"f un ct io n o na si ng le va ri ab le . Th at is ,t he da ta ar eg en er at ed a sf ol lo ws:"
P(x) =
√1 e−(x 2− σμ 2)2
.
2πσ
Th e p ar am et er s o f t hi s m od el a re t he m ea n μ a nd t he s ta nd ar d d ev ia ti on σ. (No ti ce t ha t t he
"n or ma li zi ng “c on st an t” d ep en ds o n σ, s o w e c an no t i gn or e i t .) Le t t he o bs er ve d v al ue s b e"
"x ,...,x . Th en th el og li ke li ho od i s"
1 N
L =
(c id:12)N
l og
√1 e−(x j 2− σ2μ)2
=
N(−l og√
2π−l ogσ)−
(c id:12)N (x
j
−μ)2
.
2πσ 2σ2
j=1 j=1
"Se tt in gt he de ri va ti ve s t oz er oa su su al ,w eo bt ai n"
(c id:2) P
∂L = − 1 N (x −μ) = 0 ⇒ μ = j xj
∂μ σ2 j=1 (c id:2)j (c id:9)NP
(20.4)
∂L = −N + 1 N (x −μ)2 = 0 ⇒ σ =
j(x j−μ)2
.
∂σ σ σ3 j=1 j N
"Th at is ,t he ma xi mu m-l ik el ih oo d v al ue of th em ea ni st he sa mp le av er ag ea nd th em ax im um-"
"l ik el ih oo d v al ue o f t he s ta nd ar d d ev ia ti on i s t he s qu ar e r oo t o f t he s am pl e v ar ia nc e . Ag ai n ,"
t he se ar ec om fo rt in g r es ul ts th at co nf ir m“c om mo ns en se” p ra ct ic e .
810 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
1
0.8
P(y |x)
4 0.6
3.5
3
2.5
0.4
2
1.5
1
0.5 0.81 0.2
0 0.6
0 0.2 0 x .4 0.6 0.8 1 0 0.20.4 y 0
0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1
y
x
(a) (b)
Fi gu re 20.4 (a)Al in ea r Ga us si an mo de ld es cr ib ed as y=θ x+θ p lu s Ga us si an no is e
1 2
w it hf ix ed va ri an ce .(b)As et of 50 d at ap oi nt sg en er at ed fr om th is mo de l .
No wc on si de ra li ne ar Ga us si an mo de lw it ho ne co nt in uo us p ar en t X a nd ac on ti nu ou s
"c hi ld Y . As e xp la in ed o n p ag e 520, Y h as a Ga us si an d is tr ib ut io n w ho se m ea n d ep en ds"
l in ea rl y o n t he v al ue o f X a nd w ho se s ta nd ar d d ev ia ti on i s f ix ed . To l ea rn t he c on di ti on al
"d is tr ib ut io n P(Y |X),w ec an ma xi mi ze th ec on di ti on al l ik el ih oo d"
P(y|x) =
√1 e−(y−(θ1 2σx 2+θ2))2
. (20.5)
2πσ
"He re ,t he pa ra me te rs ar eθ ,θ ,a ndσ. Th ed at aa re ac ol le ct io no f(x ,y )p ai rs ,a si ll us tr at ed"
1 2 j j
"i n Fi gu re 20.4. Us in gt he us ua lm et ho ds(Ex er ci se 20.5),w ec an fi nd th em ax im um-l ik el ih oo d"
v al ue s o f t he p ar am et er s . Th e p oi nt h er e i s d if fe re nt . If w e c on si de r j us t t he p ar am et er s θ
1
"a nd θ t ha t d ef in e t he li ne ar r el at io ns hi p b et we en x a nd y , i t b ec om es c le ar th at m ax im iz in g"
2
t he l og l ik el ih oo d w it h r es pe ct t o t he se p ar am et er s i s t he s am e a s m in im iz in g t he n um er at or
"(y − (θ x + θ ))2 i n t he e xp on en t o f Eq ua ti on (20.5). Th is i s t he L l os s , t he s qu ar ed e r-"
1 2 2
r or b et we en t he a ct ua l v al ue y a nd t he p re di ct io n θ x+θ . Th is i s t he q ua nt it y m in im iz ed
1 2
b y t he s ta nd ar d l in ea r r eg re ss io n p ro ce du re d es cr ib ed i n Se ct io n 18.6. No w w e c an u nd er-
s ta nd wh y: m in im iz in gt he su mo fs qu ar ed er ro rs gi ve st he ma xi mu m-l ik el ih oo d s tr ai gh t-l in e
"m od el ,p ro vi de d t ha tt he da ta ar eg en er at ed w it h Ga us si an no is eo ff ix ed va ri an ce ."
20.2.4 Ba ye si an pa ra me te r l ea rn in g
"Ma xi mu m-l ik el ih oo d l ea rn in g g iv es r is e t o s om e v er y s im pl e p ro ce du re s , b ut i t h as s om e"
"s er io us d ef ic ie nc ie s w it h s ma ll d at a s et s . Fo r e xa mp le , a ft er s ee in g o ne c he rr y c an dy , t he"
"m ax im um-l ik el ih oo d h yp ot he si s i s t ha t t he b ag i s 100% c he rr y (i .e ., θ=1.0). Un le ss o ne’s"
"h yp ot he si s p ri or i s t ha t b ag s m us t b e e it he r a ll c he rr y o r a ll l im e , t hi s i s n ot a r ea so na bl e"
c on cl us io n . It i s m or e l ik el y t ha t t he b ag i s a m ix tu re o f l im e a nd c he rr y . Th e Ba ye si an
a pp ro ac h t o p ar am et er l ea rn in g s ta rt s b y d ef in in g a p ri or p ro ba bi li ty d is tr ib ut io n o ve r t he
"p os si bl e h yp ot he se s . We c al l t hi s t he h yp ot he si s p ri or . Th en , a s d at a a rr iv es , t he p os te ri or"
HYPOTHESISPRIOR
p ro ba bi li ty d is tr ib ut io n i su pd at ed .
Se ct io n 20.2. Le ar ni ng wi th Co mp le te Da ta 811
2.5
2
1.5
1
0.5
0
0 0.2 0.4 0.6 0.8 1
)θ
=
Θ(P
6
"[5,5]"
5
"[2,2] 4"
3
"[1,1]"
2
1
0
0 0.2 0.4 0.6 0.8 1
Pa ra me te rθ
)θ
=
Θ(P
"[30,10]"
"[6,2]"
"[3,1]"
Pa ra me te rθ
(a) (b)
"Fi gu re 20.5 Ex am pl es of th eb et a[a ,b]d is tr ib ut io nf or di ff er en tv al ue so f[a ,b]."
"Th e c an dy e xa mp le i n Fi gu re 20.2(a) h as o ne p ar am et er , θ: t he p ro ba bi li ty t ha t a r an-"
"d om ly s el ec te d p ie ce o f c an dy i s c he rr y-f la vo re d . In t he Ba ye si an v ie w , θ i s t he (u nk no wn)"
v al ue o f a r an do m v ar ia bl e Θ t ha t d ef in es t he h yp ot he si s s pa ce ; t he h yp ot he si s p ri or i s j us t
"t he pr io rd is tr ib ut io n P(Θ). Th us ,P(Θ=θ)i st he pr io rp ro ba bi li ty th at th eb ag ha sa fr ac ti on"
θ o fc he rr yc an di es .
"If t he p ar am et er θ c an b e a ny v al ue b et we en 0 a nd 1, t he n P(Θ) m us t b e a c on ti nu ou s"
d is tr ib ut io nt ha ti sn on ze ro on ly be tw ee n 0 a nd 1 a nd th at in te gr at es to 1. Th eu ni fo rm de ns it y
"P(θ) = Un if or m[0,1](θ) i s o ne c an di da te . (Se e Ch ap te r 13.) It t ur ns o ut t ha t t he u ni fo rm"
d en si ty i sa me mb er of th ef am il yo fb et ad is tr ib ut io ns . Ea ch be ta di st ri bu ti on i sd ef in ed by
BETADISTRIBUTION
t wo hy pe rp ar am et er s 3 a an db su ch th at
HYPERPARAMETER
"b et a[a ,b](θ) ="
αθa−1(1−θ)b−1
", (20.6)"
"f orθi nt he ra ng e[0,1]. Th en or ma li za ti on co ns ta ntα,w hi ch ma ke st he di st ri bu ti on in te gr at e"
"t o 1,d ep en ds o na an db . (Se e Ex er ci se 20.7.) Fi gu re 20.5 s ho ws wh at th ed is tr ib ut io n l oo ks"
"l ik e f or va ri ou s v al ue s o f a an d b . Th e m ea nv al ue o f t he d is tr ib ut io n i s a/(a+b), s o l ar ge r"
v al ue s o f a s ug ge st a b el ie f t ha t Θ i s c lo se r t o 1 t ha n t o 0. La rg er v al ue s o f a+b m ak e t he
"d is tr ib ut io n m or e p ea ke d , s ug ge st in g g re at er c er ta in ty a bo ut t he v al ue o f Θ. Th us , t he b et a"
f am il yp ro vi de s a us ef ul ra ng eo fp os si bi li ti es f or th eh yp ot he si s p ri or .
"Be si de s i ts f le xi bi li ty , t he b et a f am il y h as a no th er w on de rf ul p ro pe rt y: i f Θ h as a pr io r"
"b et a[a ,b], t he n , a ft er a d at a p oi nt i s o bs er ve d , t he p os te ri or d is tr ib ut io n f or Θ i s a ls o a b et a"
"d is tr ib ut io n . In o th er w or ds , b et a i s c lo se d u nd er u pd at e . Th e b et a f am il y i s c al le d t he"
c on ju ga te p ri or f or t he f am il y o f d is tr ib ut io ns f or a Bo ol ea n v ar ia bl e .4 Le t’s s ee h ow t hi s
CONJUGATEPRIOR
w or ks . Su pp os ew eo bs er ve ac he rr yc an dy ;t he nw eh av e
"3 Th ey ar ec al le dh yp er pa ra me te rs be ca us et he yp ar am et er iz ea di st ri bu ti on ov erθ,w hi ch is it se lf ap ar am et er ."
4 Ot he rc on ju ga te pr io rs in cl ud et he Di ri ch le tf am il yf or th ep ar am et er so fa di sc re te mu lt iv al ue dd is tr ib ut io n
a nd th e No rm al–Wi sh ar tf am il yf or th ep ar am et er so fa Ga us si an di st ri bu ti on .Se e Be rn ar do an d Sm it h(1994).
812 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
Θ
Fl av or Fl av or Fl av or
1 2 3
Wr ap pe r Wr ap pe r Wr ap pe r
1 2 3
Θ Θ
1 2
Fi gu re 20.6 ABa ye si an ne tw or kt ha tc or re sp on ds to a Ba ye si an le ar ni ng pr oc es s . Po st e-
"r io rd is tr ib ut io ns fo rt he pa ra me te rv ar ia bl es Θ,Θ ,a ndΘ c an be in fe rr ed fr om th ei rp ri or"
1 2
d is tr ib ut io ns an dt he ev id en ce in th e Fl av or ia nd Wr ap pe ri v ar ia bl es .
P(θ|D =c he rr y) = αP(D =c he rr y|θ)P(θ)
1 1
"= α(c id:2) θ·b et a[a ,b](θ) = α(c id:2) θ·θa−1(1−θ)b−1"
=
α(c id:2) θa(1−θ)b−1
"= b et a[a+1,b](θ)."
"Th us , a ft er s ee in g a ch er ry c an dy , w es im pl y i nc re me nt t he a pa ra me te r t og et t he p os te ri or ;"
"s im il ar ly , a ft er s ee in g a l im e c an dy , w ei nc re me nt t he b p ar am et er . Th us , w e c an v ie w t he a"
"a nd b hy pe rp ar am et er s a s v ir tu al c ou nt s , i nt he se ns e t ha ta pr io r b et a[a ,b] b eh av es e xa ct ly"
VIRTUALCOUNTS
"a si fw eh ad s ta rt ed o ut wi th au ni fo rm p ri or b et a[1,1] a nd se en a−1 a ct ua l c he rr y c an di es"
a nd b−1 a ct ua ll im ec an di es .
"By ex am in in ga se qu en ce of be ta di st ri bu ti on s f or in cr ea si ng va lu es of aa nd b ,k ee pi ng"
"t he p ro po rt io ns f ix ed , w e c an s ee v iv id ly h ow t he p os te ri or d is tr ib ut io n o ve r t he p ar am et er"
"Θ c ha ng es a s d at a a rr iv e . Fo re xa mp le , s up po se t he a ct ua l b ag o fc an dy i s 75% c he rr y . Fi g-"
"u re 20.5(b) s ho ws t he s eq ue nc e b et a[3,1], b et a[6,2], b et a[30,10]. Cl ea rl y , t he d is tr ib ut io n"
"i sc on ve rg in gt oa na rr ow pe ak ar ou nd th et ru ev al ue of Θ. Fo rl ar ge da ta se ts ,t he n ,Ba ye si an"
l ea rn in g(a tl ea st in th is ca se)c on ve rg es to th es am ea ns we ra sm ax im um-l ik el ih oo dl ea rn in g .
No wl et us co ns id er am or ec om pl ic at ed c as e . Th en et wo rk i n Fi gu re 20.2(b)h as th re e
"p ar am et er s , θ,θ ,a ndθ ,w he reθ i st he pr ob ab il it y o fa re dw ra pp er on ac he rr yc an dy a nd"
1 2 1
θ i s t he p ro ba bi li ty o f a r ed w ra pp er o n a l im e c an dy . Th e Ba ye si an h yp ot he si s p ri or m us t
2
"c ov er a ll t hr ee p ar am et er s—t ha t i s , w e n ee d t o s pe ci fy P(Θ,Θ ,Θ ). Us ua ll y , w e a ss um e"
1 2
PARAMETER p ar am et er in de pe nd en ce:
INDEPENDENCE
"P(Θ,Θ ,Θ ) = P(Θ)P(Θ )P(Θ )."
1 2 1 2
Se ct io n 20.2. Le ar ni ng wi th Co mp le te Da ta 813
"Wi th t hi s a ss um pt io n , e ac h p ar am et er c an h av e i ts o wn be ta d is tr ib ut io n t ha t i s u pd at ed s ep-"
a ra te ly a s d at a a rr iv e . Fi gu re 20.6 s ho ws h ow w e c an i nc or po ra te t he h yp ot he si s p ri or a nd
"a ny d at a i nt o o ne Ba ye si an n et wo rk . Th e n od es Θ,Θ ,Θ h av e n o p ar en ts . Bu t e ac h t im e"
1 2
"w em ak ea no bs er va ti on o fa wr ap pe ra nd co rr es po nd in g f la vo ro fa pi ec eo fc an dy , w ea dd a"
"n od e Fl av or ,w hi ch is de pe nd en t o nt he fl av or pa ra me te r Θ:"
i
P(Fl av or =c he rr y|Θ=θ)= θ .
i
"We al so ad da no de Wr ap pe r ,w hi ch is de pe nd en t o nΘ a ndΘ :"
i 1 2
"P(Wr ap pe r =r ed |Fl av or =c he rr y ,Θ =θ ) = θ"
i i 1 1 1
"P(Wr ap pe r =r ed |Fl av or =l im e ,Θ =θ )= θ ."
i i 2 2 2
"No w , t he e nt ir e Ba ye si an l ea rn in g p ro ce ss c an b e f or mu la te d a s a n i nf er en ce p ro bl em . We"
"a dd n ew e vi de nc e n od es , t he n q ue ry t he u nk no wn n od es (i n t hi s c as e , Θ,Θ ,Θ ). Th is f or-"
1 2
m ul at io n o f l ea rn in g a nd p re di ct io n m ak es i t c le ar t ha t Ba ye si an l ea rn in g r eq ui re s n o e xt ra
"“p ri nc ip le s o fl ea rn in g .” Fu rt he rm or e , t he re is , i ne ss en ce , j us to ne le ar ni ng a lg or it hm —t he"
"i nf er en ce a lg or it hm f or Ba ye si an n et wo rk s . Of co ur se , t he na tu re of th es en et wo rk s i ss om e-"
w ha td if fe re nt f ro m t ho se o f Ch ap te r 14 b ec au se o ft he p ot en ti al ly h ug e n um be ro fe vi de nc e
v ar ia bl es r ep re se nt in g t he t ra in in g s et a nd t he p re va le nc e o f c on ti nu ou s-v al ue d p ar am et er
v ar ia bl es .
20.2.5 Le ar ni ng Ba ye s n et s tr uc tu re s
"So fa r , w eh av ea ss um ed t ha tt he st ru ct ur e o ft he Ba ye sn et is gi ve na nd we ar ej us tt ry in g t o"
l ea rn t he p ar am et er s . Th e s tr uc tu re o f t he n et wo rk r ep re se nt s b as ic c au sa l k no wl ed ge a bo ut
"t he d om ai n t ha t i s o ft en e as y f or a n e xp er t , o r e ve n a n ai ve u se r , t o s up pl y . In s om e c as es ,"
"h ow ev er , t he c au sa l m od el m ay b e u na va il ab le o r s ub je ct t o d is pu te—f or e xa mp le , c er ta in"
c or po ra ti on s h av e l on g c la im ed t ha t s mo ki ng d oe s n ot c au se c an ce r—s o i t i s i mp or ta nt t o
u nd er st an d h ow t he s tr uc tu re o f a Ba ye s n et c an b e l ea rn ed f ro m d at a . Th is s ec ti on g iv es a
b ri ef sk et ch of th em ai ni de as .
Th e m os t o bv io us a pp ro ac h i s t o s ea rc h f or a g oo d m od el . We c an s ta rt w it h a m od el
"c on ta in in g n o l in ks a nd b eg in a dd in g p ar en ts f or e ac h n od e , f it ti ng t he p ar am et er s w it h t he"
m et ho ds w e h av e j us t c ov er ed a nd m ea su ri ng t he a cc ur ac y o f t he r es ul ti ng m od el . Al te rn a-
"t iv el y , w e c an s ta rt w it h a n i ni ti al g ue ss a t t he s tr uc tu re a nd u se h il l-c li mb in g o r s im ul at ed"
"a nn ea li ng s ea rc h t o m ak e m od if ic at io ns , r et un in g t he p ar am et er s a ft er e ac h c ha ng e i n t he"
"s tr uc tu re . Mo di fi ca ti on s c an i nc lu de r ev er si ng , a dd in g , o r d el et in g l in ks . We m us t n ot i n-"
"t ro du ce c yc le s i n t he p ro ce ss , s o m an y a lg or it hm s a ss um e t ha t a n o rd er in g i s g iv en f or t he"
"v ar ia bl es , a nd t ha t a n od e c an h av e p ar en ts o nl y a mo ng t ho se n od es t ha t c om e e ar li er i n t he"
"o rd er in g (j us t a si nt he co ns tr uc ti on p ro ce ss i n Ch ap te r 14). Fo rf ul lg en er al it y , w ea ls on ee d"
t os ea rc ho ve rp os si bl e o rd er in gs .
Th er e a re t wo a lt er na ti ve m et ho ds f or de ci di ng w he n a g oo d s tr uc tu re h as b ee n f ou nd .
Th ef ir st is to te st wh et he rt he co nd it io na li nd ep en de nc ea ss er ti on si mp li ci ti nt he st ru ct ur ea re
"a ct ua ll y s at is fi ed i nt he d at a . Fo re xa mp le , t he u se of a na iv e Ba ye sm od el f or th er es ta ur an t"
p ro bl em a ss um es th at
"P(Fr i/Sa t ,Ba r |Wi ll Wa it) = P(Fr i/Sa t|Wi ll Wa it)P(Ba r |Wi ll Wa it)"
814 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
a nd we ca nc he ck in th ed at at ha tt he sa me eq ua ti on h ol ds be tw ee nt he co rr es po nd in g c on di-
"t io na l f re qu en ci es . Bu t e ve n i f t he s tr uc tu re d es cr ib es t he t ru e c au sa l n at ur e o f t he d om ai n ,"
"s ta ti st ic al f lu ct ua ti on s i n t he d at a s et m ea n t ha t t he e qu at io n w il l n ev er b e s at is fi ed e xa ct ly ,"
s o w e n ee d t o p er fo rm a s ui ta bl e s ta ti st ic al t es t t o s ee i f t he re i s s uf fi ci en t e vi de nc e t ha t t he
i nd ep en de nc e h yp ot he si s i s v io la te d . Th e c om pl ex it y o f t he r es ul ti ng n et wo rk w il l d ep en d
"o n t he t hr es ho ld u se d f or th is t es t—t he s tr ic te r t he i nd ep en de nc e t es t , t he m or e l in ks w il l b e"
a dd ed an dt he gr ea te rt he da ng er of ov er fi tt in g .
An a pp ro ac h m or e c on si st en t w it h t he i de as i n t hi s c ha pt er i s t o a ss es s t he d eg re e t o
w hi ch t he p ro po se d m od el e xp la in s t he d at a (i n a p ro ba bi li st ic s en se). We m us t b e c ar ef ul
"h ow w e m ea su re t hi s , h ow ev er . If w e j us t t ry t o f in d t he m ax im um-l ik el ih oo d h yp ot he si s ,"
"w ew il l e nd u p w it h a fu ll y c on ne ct ed n et wo rk , b ec au se a dd in g m or e p ar en ts t o a no de c an-"
n ot d ec re as e t he l ik el ih oo d (Ex er ci se 20.8). We a re f or ce d t o p en al iz e m od el c om pl ex it y i n
s om e w ay . Th e MAP (o r MDL) a pp ro ac h s im pl y s ub tr ac ts a p en al ty f ro m t he l ik el ih oo d o f
e ac h s tr uc tu re (a ft er p ar am et er t un in g) b ef or e c om pa ri ng d if fe re nt s tr uc tu re s . Th e Ba ye si an
a pp ro ac h p la ce s a jo in t p ri or ov er st ru ct ur es a nd p ar am et er s . Th er e a re u su al ly f ar to o m an y
"s tr uc tu re s t o s um o ve r (s up er ex po ne nt ia l i n t he n um be r o f v ar ia bl es), s o m os t p ra ct it io ne rs"
u se MCMCt os am pl eo ve rs tr uc tu re s .
Pe na li zi ng co mp le xi ty(w he th er by MAPo r Ba ye si an me th od s)i nt ro du ce sa ni mp or ta nt
c on ne ct io n b et we en t he o pt im al s tr uc tu re a nd t he n at ur e o f t he r ep re se nt at io n f or t he c on di-
"t io na l d is tr ib ut io ns i n t he n et wo rk . Wi th t ab ul ar d is tr ib ut io ns , t he c om pl ex it y p en al ty f or a"
"n od e’s d is tr ib ut io n g ro ws ex po ne nt ia ll y w it h t he nu mb er o f p ar en ts , b ut w it h , s ay , n oi sy-OR"
"d is tr ib ut io ns , i tg ro ws o nl y l in ea rl y . Th is m ea ns t ha t l ea rn in g w it h n oi sy-OR (o ro th er c om-"
p ac tl yp ar am et er iz ed)m od el st en ds to pr od uc el ea rn ed st ru ct ur es wi th mo re pa re nt st ha nd oe s
l ea rn in g w it ht ab ul ar di st ri bu ti on s .
20.2.6 De ns it y e st im at io nw it hn on pa ra me tr ic m od el s
It is po ss ib le to le ar na pr ob ab il it ym od el wi th ou tm ak in ga ny as su mp ti on sa bo ut it ss tr uc tu re
a nd p ar am et er iz at io n b y a do pt in g t he n on pa ra me tr ic m et ho ds o f Se ct io n 18.8. Th e t as k o f
"NONPARAMETRIC n on pa ra me tr ic d en si ty e st im at io n i s t yp ic al ly d on e i n c on ti nu ou s d om ai ns , s uc h a s t ha t"
DENSITYESTIMATION
s ho wn i n Fi gu re 20.7(a). Th ef ig ur e s ho ws a pr ob ab il it y d en si ty f un ct io n o n a sp ac e d ef in ed
b y t wo c on ti nu ou s v ar ia bl es . In Fi gu re 20.7(b) w e s ee a s am pl e o f d at a p oi nt s f ro m t hi s
"d en si ty fu nc ti on . Th eq ue st io n i s ,c an we re co ve rt he mo de lf ro mt he sa mp le s ?"
Fi rs t w e w il l c on si de r k-n ea re st-n ei gh bo rs m od el s . (In Ch ap te r 18 w e s aw n ea re st-
n ei gh bo r m od el s f or c la ss if ic at io n a nd r eg re ss io n ; h er e w e s ee t he m f or d en si ty e st im at io n .)
"Gi ve na sa mp le of da ta po in ts ,t oe st im at et he un kn ow np ro ba bi li ty d en si ty at aq ue ry po in tx"
w ec an si mp ly me as ur et he de ns it yo ft he da ta po in ts in th en ei gh bo rh oo do fx . Fi gu re 20.7(b)
s ho ws t wo q ue ry p oi nt s (s ma ll s qu ar es). Fo r e ac h q ue ry p oi nt w e h av e d ra wn t he s ma ll es t
c ir cl e t ha t e nc lo se s 10 n ei gh bo rs—t he 10-n ea re st-n ei gh bo rh oo d . We ca ns ee t ha tt he c en tr al
"c ir cl e i s l ar ge , m ea ni ng t he re i s a l ow d en si ty t he re , a nd t he c ir cl e o n t he r ig ht i s s ma ll ,"
m ea ni ng th er ei sa hi gh de ns it yt he re . In Fi gu re 20.8 w es ho wt hr ee pl ot so fd en si ty es ti ma ti on
"u si ng k-n ea re st-n ei gh bo rs , f or d if fe re nt v al ue s o f k . It s ee ms c le ar t ha t (b) i s a bo ut r ig ht ,"
w hi le(a)i st oo sp ik y(k i st oo sm al l)a nd(c)i st oo sm oo th(k i st oo bi g).
Se ct io n 20.2. Le ar ni ng wi th Co mp le te Da ta 815
De ns it y
18
16 1
14
0.9
12
10 0.8
8
6 0.7
4
1 0.6
2 0.8
0 0 0.6 0.5
0.2 0.4
0.4 0.6 0.2 0.4
0.8 0
1
0.3
0 0.2 0.4 0.6 0.8 1
(a) (b)
Fi gu re 20.7 (a)A 3 Dp lo to ft he mi xt ur eo f Ga us si an sf ro m Fi gu re 20.11(a). (b)A 128-
"p oi nt sa mp le of po in ts fr om th em ix tu re ,t og et he rw it ht wo qu er yp oi nt s(s ma ll sq ua re s)a nd"
t he ir 10-n ea re st-n ei gh bo rh oo ds(m ed iu ma nd la rg ec ir cl es).
De ns it y De ns it y De ns it y
1 1 1
0.8 0.8 0.8
0.6 0.6 0.6
0 0.20.40.60.8 00.20.4 0 0.20.40.60.8 00.20.4 0 0.20.40.60.8 00.20.4
(a) (b) (c)
"Fi gu re 20.8 De ns it y e st im at io n u si ng k-n ea re st-n ei gh bo rs , a pp li ed t o t he d at a i n Fi g-"
"u re 20.7(b), f or k=3, 10, a nd 40 r es pe ct iv el y . k = 3 i s t oo s pi ky , 40 i s t oo s mo ot h , a nd"
10 i sj us ta bo ut ri gh t .Th eb es tv al ue fo rk ca nb ec ho se nb yc ro ss-v al id at io n .
De ns it y De ns it y De ns it y
1 1 1
0.8 0.8 0.8
0.6 0.6 0.6
0 0.20.40.60.8 00.20.4 0 0.20.40.60.8 00.20.4 0 0.20.40.60.8 00.20.4
(a) (b) (c)
"Fi gu re 20.9 Ke rn el de ns it ye st im at io nf or th ed at ai n Fi gu re 20.7(b),u si ng Ga us si an ke r-"
"n el sw it hw=0.02,0.07,a nd 0.20 r es pe ct iv el y .w=0.07 i sa bo ut ri gh t ."
816 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
"An ot he r p os si bi li ty i s t o u se k er ne l f un ct io ns , a s w e d id f or l oc al ly w ei gh te d r eg re s-"
"s io n . To ap pl ya ke rn el mo de lt od en si ty es ti ma ti on ,a ss um et ha te ac hd at ap oi nt ge ne ra te si ts"
"o wn li tt le de ns it yf un ct io n , u si ng a Ga us si an ke rn el . Th ee st im at ed de ns it ya ta qu er yp oi nt x"
i st he nt he av er ag e d en si ty as gi ve nb ye ac hk er ne lf un ct io n:
(c id:12)N
1
"P(x) = K(x ,x )."
j
N
j=1
We wi ll as su me sp he ri ca l Ga us si an sw it hs ta nd ar d d ev ia ti on w a lo ng ea ch ax is:
"K(x ,x j) ="
"√1 e−D( 2 x w ,x 2 j)2"
","
(w 2 2π)d
w he re d i s t he n um be r o f d im en si on s i n x a nd D i s t he Eu cl id ea n d is ta nc e f un ct io n . We
s ti ll h av e t he p ro bl em o f c ho os in g a s ui ta bl e v al ue f or k er ne l w id th w ; Fi gu re 20.9 s ho ws
"v al ue st ha ta re to os ma ll ,j us tr ig ht , a nd to ol ar ge . Ag oo dv al ue of wc an be ch os en by us in g"
c ro ss-v al id at io n .
20.3 LEARNING WITH HIDDEN VARIABLES: THE EM ALGORITHM
Th e p re ce di ng s ec ti on d ea lt w it h t he f ul ly o bs er va bl e c as e . Ma ny r ea l-w or ld p ro bl em s h av e
"h id de nv ar ia bl es (s om et im es c al le d l at en t v ar ia bl es), w hi ch a re n ot o bs er va bl e i n t he d at a"
LATENTVARIABLE
"t ha t a re a va il ab le f or l ea rn in g . Fo r e xa mp le , m ed ic al r ec or ds o ft en i nc lu de t he o bs er ve d"
"s ym pt om s , t he p hy si ci an’s d ia gn os is , t he t re at me nt a pp li ed , a nd p er ha ps t he o ut co me o f t he"
"t re at me nt , b ut t he y s el do m c on ta in a d ir ec t o bs er va ti on o f t he d is ea se i ts el f ! (No te t ha t t he"
"d ia gn os is is no tt he di se as e ;i ti sa ca us al co ns eq ue nc eo ft he ob se rv ed sy mp to ms ,w hi ch ar ei n"
"t ur nc au se db yt he di se as e .) On em ig ht as k ,“If th ed is ea se is no to bs er ve d ,w hy no tc on st ru ct"
"a m od el w it ho ut i t ?” Th e a ns we r a pp ea rs i n Fi gu re 20.10, w hi ch s ho ws a s ma ll , f ic ti ti ou s"
d ia gn os ti c m od el fo rh ea rt di se as e . Th er ea re th re eo bs er va bl ep re di sp os in g f ac to rs an dt hr ee
o bs er va bl e s ym pt om s (w hi ch a re t oo d ep re ss in g t o n am e). As su me t ha t e ac h v ar ia bl e h as
"t hr ee p os si bl e v al ue s (e .g ., n on e , m od er at e , a nd s ev er e). Re mo vi ng t he h id de n v ar ia bl e"
f ro m t he n et wo rk i n (a) y ie ld s t he n et wo rk i n (b); t he t ot al n um be r o f p ar am et er s i nc re as es
"f ro m 78 t o 708. Th us , l at en t v ar ia bl es c an d ra ma ti ca ll y r ed uc e t he n um be r o f p ar am et er s"
"r eq ui re d t os pe ci fy a Ba ye si an ne tw or k . Th is ,i nt ur n ,c an dr am at ic al ly r ed uc e t he am ou nt of"
d at an ee de dt ol ea rn th ep ar am et er s .
"Hi dd en v ar ia bl es a re i mp or ta nt , b ut t he y d o c om pl ic at e t he l ea rn in g p ro bl em . In Fi g-"
"u re 20.10(a), f or e xa mp le , i t i s n ot o bv io us h ow t o l ea rn t he c on di ti on al d is tr ib ut io n f or"
"He ar t Di se as e ,g iv en it sp ar en ts , b ec au se we do no tk no wt he va lu eo f He ar t Di se as e i ne ac h"
c as e ; t he s am e p ro bl em a ri se s i n l ea rn in g t he d is tr ib ut io ns f or t he s ym pt om s . Th is s ec ti on
"EXPECTATION– d es cr ib es a n a lg or it hm c al le d e xp ec ta ti on–m ax im iz at io n , o r EM , t ha t s ol ve s t hi s p ro bl em"
MAXIMIZATION
i n a ve ry g en er al w ay . We wi ll s ho w t hr ee e xa mp le s a nd t he n p ro vi de a g en er al d es cr ip ti on .
"Th e a lg or it hm s ee ms l ik e m ag ic a t f ir st , b ut o nc e t he i nt ui ti on h as b ee n d ev el op ed , o ne c an"
f in da pp li ca ti on s f or EMi na hu ge ra ng eo fl ea rn in g p ro bl em s .
Se ct io n 20.3. Le ar ni ng wi th Hi dd en Va ri ab le s: Th e EMAl go ri th m 817
2 2 2 2 2 2
Sm ok in g Di et Ex er ci se Sm ok in g Di et Ex er ci se
54 He ar t Di se as e
6 6 6 54 162 486
Sy mp to m Sy mp to m Sy mp to m Sy mp to m Sy mp to m Sy mp to m
1 2 3 1 2 3
(a) (b)
"Fi gu re 20.10 (a)As im pl e d ia gn os ti cn et wo rk fo rh ea rt di se as e , w hi ch is as su me dt ob e"
a h id de n v ar ia bl e . Ea ch v ar ia bl e h as t hr ee p os si bl e v al ue s a nd i s l ab el ed w it h t he n um be r
o f i nd ep en de nt p ar am et er s i n i ts c on di ti on al d is tr ib ut io n ; t he t ot al n um be r i s 78. (b) Th e
e qu iv al en t n et wo rk w it h He ar t Di se as e r em ov ed . No te t ha t t he s ym pt om v ar ia bl es a re n o
l on ge rc on di ti on al ly in de pe nd en tg iv en th ei rp ar en ts .Th is ne tw or kr eq ui re s 708 p ar am et er s .
20.3.1 Un su pe rv is ed c lu st er in g: Le ar ni ng m ix tu re s o f Ga us si an s
UNSUPERVISED Un su pe rv is ed c lu st er in g i s t he p ro bl em o f d is ce rn in g m ul ti pl e c at eg or ie s i n a c ol le ct io n o f
CLUSTERING
"o bj ec ts . Th ep ro bl em is un su pe rv is ed be ca us et he ca te go ry la be ls ar en ot gi ve n . Fo re xa mp le ,"
s up po se w e r ec or d t he s pe ct ra o f a h un dr ed t ho us an d s ta rs ; a re t he re d if fe re nt t yp es o f s ta rs
"r ev ea le d b y t he s pe ct ra , a nd , i f s o , h ow m an y t yp es a nd w ha t a re t he ir c ha ra ct er is ti cs ? We"
"a re a ll f am il ia r w it h t er ms s uc h a s “r ed g ia nt” a nd “w hi te d wa rf ,” b ut t he s ta rs d o n ot c ar ry"
t he se l ab el s o n t he ir h at s—a st ro no me rs h ad t o p er fo rm u ns up er vi se d c lu st er in g t o i de nt if y
"t he se c at eg or ie s . Ot he r e xa mp le s i nc lu de t he i de nt if ic at io n o f s pe ci es , g en er a , o rd er s , a nd"
s o o n i n t he Li nnæa n t ax on om y a nd t he c re at io n o f n at ur al k in ds f or o rd in ar y o bj ec ts (s ee
Ch ap te r 12).
"Un su pe rv is ed c lu st er in g b eg in sw it hd at a . Fi gu re 20.11(b) s ho ws 500 d at ap oi nt s ,e ac h"
o fw hi ch sp ec if ie s t he va lu es o ft wo co nt in uo us a tt ri bu te s . Th ed at ap oi nt s m ig ht co rr es po nd
"t o s ta rs , a nd t he a tt ri bu te s m ig ht c or re sp on d t o s pe ct ra l i nt en si ti es a t t wo p ar ti cu la r f re qu en-"
"c ie s . Ne xt ,w en ee dt ou nd er st an dw ha tk in do fp ro ba bi li ty d is tr ib ut io n m ig ht ha ve ge ne ra te d"
"MIXTURE t he d at a . Cl us te ri ng p re su me s t ha t t he d at a a re g en er at ed f ro m a m ix tu re d is tr ib ut io n , P ."
DISTRIBUTION
"Su ch a d is tr ib ut io n h as k c om po ne nt s , e ac h o f w hi ch i s a d is tr ib ut io n i n i ts o wn r ig ht . A"
COMPONENT
d at ap oi nt is ge ne ra te db yf ir st ch oo si ng ac om po ne nt an dt he ng en er at in g a sa mp le fr om th at
"c om po ne nt . Le tt he ra nd om v ar ia bl e C d en ot et he co mp on en t , w it hv al ue s 1,...,k ;t he nt he"
m ix tu re di st ri bu ti on i sg iv en by
(c id:12)k
"P(x) = P(C=i) P(x|C=i),"
i=1
"w he re x r ef er s t o t he v al ue s o f t he a tt ri bu te s f or a d at a p oi nt . Fo rc on ti nu ou s d at a , a n at ur al"
"c ho ic ef or th ec om po ne nt di st ri bu ti on si st he mu lt iv ar ia te Ga us si an ,w hi ch gi ve st he so-c al le d"
MIXTUREOF m ix tu re of Ga us si an sf am il yo fd is tr ib ut io ns . Th ep ar am et er s o fa mi xt ur eo f Ga us si an s a re
GAUSSIANS
818 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
1 1 1
0.8 0.8 0.8
0.6 0.6 0.6
0.4 0.4 0.4
0.2 0.2 0.2
0 0 0
0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1
(a) (b) (c)
Fi gu re 20.11 (a)AGa us si an mi xt ur em od el wi th th re ec om po ne nt s ;t he we ig ht s(l ef t-t o-
"r ig ht)a re 0.2,0.3,a nd 0.5.(b)500 d at ap oi nt ss am pl ed fr om th em od el in(a).(c)Th em od el"
r ec on st ru ct ed by EMf ro mt he da ta in(b).
"w =P(C=i) (t he w ei gh t o f e ac h c om po ne nt), μ (t he m ea n o f e ac h c om po ne nt), a nd Σ"
i i i
(t he c ov ar ia nc e o f e ac h c om po ne nt). Fi gu re 20.11(a) s ho ws a m ix tu re o f t hr ee Ga us si an s ;
t hi s m ix tu re i s i n f ac t t he s ou rc e o f t he d at a i n (b) a s w el l a s b ei ng t he m od el s ho wn i n
Fi gu re 20.7(a)o np ag e 815.
"Th e u ns up er vi se d c lu st er in g p ro bl em , t he n , i s t o r ec ov er a m ix tu re m od el l ik e t he o ne"
"i n Fi gu re 20.11(a)f ro mr aw da ta li ke th at in Fi gu re 20.11(b). Cl ea rl y ,i fw ek ne ww hi ch co m-"
"p on en tg en er at ed e ac hd at ap oi nt ,t he ni tw ou ld be ea sy to re co ve rt he co mp on en t Ga us si an s:"
w ec ou ld ju st se le ct al lt he da ta po in ts fr om ag iv en co mp on en ta nd th en ap pl y(a mu lt iv ar ia te
v er si on of)Eq ua ti on(20.4)(p ag e 809)f or fi tt in gt he pa ra me te rs of a Ga us si an to as et of da ta .
"On t he o th er h an d , i f w e k ne w t he p ar am et er s o f e ac h c om po ne nt , t he n w e c ou ld , a t l ea st i n"
"a p ro ba bi li st ic s en se , a ss ig n e ac h d at a p oi nt t o a c om po ne nt . Th e p ro bl em i s t ha t w e k no w"
n ei th er th ea ss ig nm en ts n or th ep ar am et er s .
Th e b as ic i de a o f EM i n t hi s c on te xt i s t o p re te nd t ha t w e k no w t he p ar am et er s o f t he
m od el an dt he nt oi nf er th ep ro ba bi li ty th at ea ch da ta po in tb el on gs to ea ch co mp on en t . Af te r
"t ha t ,w er ef it th ec om po ne nt st ot he da ta ,w he re ea ch co mp on en ti sf it te dt ot he en ti re da ta se t"
w it h e ac h p oi nt w ei gh te d b y t he p ro ba bi li ty t ha t i t b el on gs t o t ha t c om po ne nt . Th e p ro ce ss
"i te ra te s u nt il c on ve rg en ce . Es se nt ia ll y , w ea re“c om pl et in g” t he da ta b yi nf er ri ng p ro ba bi li ty"
d is tr ib ut io ns ov er th eh id de nv ar ia bl es—w hi ch co mp on en te ac hd at ap oi nt be lo ng st o—b as ed
"o nt he cu rr en tm od el . Fo rt he mi xt ur eo f Ga us si an s , w ei ni ti al iz e t he mi xt ur e-m od el p ar am e-"
t er sa rb it ra ri ly a nd th en it er at et he fo ll ow in gt wo st ep s:
"1. E-s te p: Co mp ut e t he p ro ba bi li ti es p =P(C=i|x ), t he p ro ba bi li ty t ha t d at um x"
i j j j
"w as ge ne ra te db yc om po ne nt i . By Ba ye s’r ul e ,w eh av ep =αP(x |C=i)P(C=i)."
i j j
"Th e t er m P(x |C=i) i s j us t t he p ro ba bi li ty a t x o f t he i th Ga us si an , a nd t he t er m"
j j (c id:2)
"P(C=i) i s j us t t he w ei gh t p ar am et er f or t he i th Ga us si an . De fi ne n = p , t he"
i j i j
e ff ec ti ve nu mb er of da ta po in ts cu rr en tl y a ss ig ne d t oc om po ne nt i .
"2. M-s te p: Co mp ut et he ne wm ea n ,c ov ar ia nc e , a nd co mp on en tw ei gh ts us in gt he fo ll ow-"
i ng st ep si ns eq ue nc e:
Se ct io n 20.3. Le ar ni ng wi th Hi dd en Va ri ab le s: Th e EMAl go ri th m 819
(c id:12)
μ ← p x /n
i i j j i
j
(c id:12)
Σ ← p (x −μ )(x −μ )(c id:12) /n
i i j j i j i i
j
w ← n /N
i i
"w he re N i s t he t ot al n um be r o f d at a p oi nt s . Th e E-s te p , o r e xp ec ta ti on s te p , c an b e v ie we d"
"a sc om pu ti ng th ee xp ec te dv al ue sp o ft he hi dd en in di ca to rv ar ia bl es Z ,w he re Z i s 1 i f"
INDICATORVARIABLE i j i j i j
"d at um x w as ge ne ra te db yt he it hc om po ne nt an d 0 o th er wi se . Th e M-s te p ,o rm ax im iz at io n"
j
"s te p , f in ds t he n ew v al ue s o f t he p ar am et er s t ha t m ax im iz e t he l og l ik el ih oo d o f t he d at a ,"
g iv en th ee xp ec te dv al ue so ft he hi dd en i nd ic at or va ri ab le s .
Th ef in al mo de lt ha t EMl ea rn sw he ni ti sa pp li ed to th ed at ai n Fi gu re 20.11(a)i ss ho wn
i n Fi gu re 20.11(c); i t i s v ir tu al ly i nd is ti ng ui sh ab le f ro m t he o ri gi na l m od el f ro m w hi ch t he
d at a w er e g en er at ed . Fi gu re 20.12(a) p lo ts t he l og l ik el ih oo d o f t he d at a a cc or di ng t o t he
c ur re nt mo de la s EMp ro gr es se s .
"Th er e a re t wo p oi nt s t o n ot ic e . Fi rs t , t he l og l ik el ih oo d f or t he f in al l ea rn ed m od el"
"s li gh tl y e xc ee ds t ha t o f t he o ri gi na l m od el , f ro m w hi ch t he d at a w er e g en er at ed . Th is m ig ht"
"s ee m s ur pr is in g , b ut i t s im pl y r ef le ct s t he f ac t t ha t t he d at a w er e g en er at ed r an do ml y a nd"
m ig ht n ot p ro vi de a n e xa ct r ef le ct io n o f t he u nd er ly in g m od el . Th e s ec on d p oi nt i s t ha t EM
i nc re as es t he lo gl ik el ih oo d o ft he da ta at ev er yi te ra ti on . Th is fa ct ca nb ep ro ve di ng en er al .
"Fu rt he rm or e , u nd er c er ta in c on di ti on s (t ha t h ol d i n o st c as es), EM c an b e p ro ve n t o r ea ch"
"a l oc al m ax im um i n l ik el ih oo d . (In r ar e c as es , i t c ou ld r ea ch a s ad dl e p oi nt o r e ve n a l oc al"
"m in im um .) In th is s en se , EMr es em bl es a gr ad ie nt-b as ed h il l-c li mb in g a lg or it hm , b ut no ti ce"
t ha ti th as no“s te ps iz e”p ar am et er .
700
600
500
400
300
200
100
0
-100
-200
0 5 10 15 20
Ld oo hi le ki l-g o L
-1975
-1980
-1985
-1990
-1995
-2000
-2005
-2010
-2015
-2020
-2025
0 20 40 60 80 100 120
It er at io n n um be r
Ld oo hi le ki l-g o L
It er at io n n um be r
(a) (b)
"Fi gu re 20.12 Gr ap hs sh ow in gt he lo gl ik el ih oo do ft he da ta , L , a sa fu nc ti on of th e EM"
i te ra ti on .Th eh or iz on ta ll in es ho ws th el og li ke li ho od ac co rd in gt ot he tr ue mo de l .(a)Gr ap h
f or t he Ga us si an m ix tu re m od el i n Fi gu re 20.11. (b) Gr ap h f or t he Ba ye si an n et wo rk i n
Fi gu re 20.13(a).
820 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
P(Ba g=1)
θ
Ba g C
Ba g P(F=c he rr y| B)
θ
1 F 1
θ
2 F 2
Fl av or Wr ap pe r Ho le X
(a) (b)
"Fi gu re 20.13 (a)Am ix tu re mo de lf or ca nd y . Th ep ro po rt io ns of di ff er en tf la vo rs ,w ra p-"
"p er s ,p re se nc eo fh ol es de pe nd on th eb ag ,w hi ch is no to bs er ve d . (b)Ba ye si an ne tw or kf or"
a Ga us si an mi xt ur e . Th em ea na nd co va ri an ce of th eo bs er va bl ev ar ia bl es Xd ep en do nt he
c om po ne nt C .
"Th in gs d o n ot a lw ay s g o a s w el l a s Fi gu re 20.12(a) m ig ht s ug ge st . It c an h ap pe n , f or"
"e xa mp le ,t ha to ne Ga us si an co mp on en ts hr in ks so th at it co ve rs ju st as in gl ed at ap oi nt . Th en"
i ts v ar ia nc e w il l g o t o z er o a nd i ts l ik el ih oo d w il l g o t o i nf in it y ! An ot he r p ro bl em i s t ha t
"t wo co mp on en ts c an“m er ge ,”a cq ui ri ng id en ti ca lm ea ns an dv ar ia nc es an ds ha ri ng th ei rd at a"
"p oi nt s . Th es e k in ds o f d eg en er at e l oc al m ax im a a re s er io us p ro bl em s , e sp ec ia ll y i n h ig h"
d im en si on s . On e s ol ut io n i s t o p la ce p ri or s o n t he m od el p ar am et er s a nd t o a pp ly t he MAP
v er si on o f EM . An ot he r i s t o r es ta rt a c om po ne nt w it h n ew r an do m p ar am et er s i f i t g et s t oo
s ma ll or to oc lo se to an ot he rc om po ne nt . Se ns ib le in it ia li za ti on a ls oh el ps .
20.3.2 Le ar ni ng Ba ye si an ne tw or ks w it hh id de n v ar ia bl es
"To l ea rn a Ba ye si an n et wo rk w it h h id de n v ar ia bl es , w e a pp ly t he s am e i ns ig ht s t ha t w or ke d"
f or mi xt ur es of Ga us si an s . Fi gu re 20.13 r ep re se nt s a si tu at io n i nw hi ch th er ea re tw ob ag so f
c an di es t ha t h av e b ee n m ix ed t og et he r . Ca nd ie s a re d es cr ib ed b y t hr ee f ea tu re s: i n a dd it io n
"t o t he Fl av or a nd t he Wr ap pe r , s om e c an di es h av e a Ho le i n t he m id dl e a nd s om e d o n ot ."
Th e d is tr ib ut io n o f c an di es i n e ac h b ag i s d es cr ib ed b y a n ai ve Ba ye s m od el: t he f ea tu re s
"a re i nd ep en de nt , g iv en t he b ag , b ut t he c on di ti on al p ro ba bi li ty d is tr ib ut io n f or e ac h f ea tu re"
d ep en ds o n t he b ag . Th e p ar am et er s a re a s f ol lo ws: θ i s t he p ri or p ro ba bi li ty t ha t a c an dy
"c om es f ro m Ba g 1; θ a nd θ a re t he p ro ba bi li ti es t ha t t he f la vo r i s c he rr y , g iv en t ha t t he"
F 1 F 2
c an dy c om es f ro m Ba g 1 o r Ba g 2 r es pe ct iv el y ; θ a nd θ g iv e t he p ro ba bi li ti es t ha t t he
W 1 W 2
w ra pp er is re d ;a nd θ a ndθ g iv et he pr ob ab il it ie s t ha tt he ca nd y h as ah ol e . No ti ce th at
H 1 H 2
"t he o ve ra ll m od el i s a m ix tu re m od el . (In f ac t , w e c an a ls o m od el t he m ix tu re o f Ga us si an s"
"a s a Ba ye si an n et wo rk , a s s ho wn i n Fi gu re 20.13(b).) In t he f ig ur e , t he b ag i s a h id de n"
"v ar ia bl e b ec au se , o nc e t he ca nd ie s h av e b ee n m ix ed to ge th er , w en o l on ge r k no w w hi ch b ag"
"e ac h c an dy c am e f ro m . In s uc h a c as e , c an w e r ec ov er t he d es cr ip ti on s o f t he t wo b ag s b y"
Se ct io n 20.3. Le ar ni ng wi th Hi dd en Va ri ab le s: Th e EMAl go ri th m 821
o bs er vi ng ca nd ie sf ro mt he mi xt ur e ? Le tu sw or kt hr ou gh an it er at io no f EMf or th is pr ob le m .
"Fi rs t ,l et’s lo ok at th ed at a . We ge ne ra te d 1000 s am pl es fr om a mo de lw ho se tr ue pa ra me te rs"
a re as fo ll ow s:
"θ=0.5, θ =θ =θ =0.8, θ =θ =θ =0.3. (20.7)"
F 1 W 1 H 1 F 2 W 2 H 2
"Th at i s , t he c an di es a re e qu al ly l ik el y t o c om e f ro m e it he r b ag ; t he f ir st i s m os tl y c he rr ie s"
w it h r ed w ra pp er s a nd h ol es ; t he s ec on d i s m os tl y l im es w it h g re en w ra pp er s a nd n o h ol es .
Th ec ou nt sf or th ee ig ht po ss ib le k in ds of ca nd ya re as fo ll ow s:
W =r ed W =g re en
H=1 H=0 H=1 H=0
F =c he rr y 273 93 104 90
F =l im e 79 100 94 167
"We st ar tb yi ni ti al iz in g t he pa ra me te rs . Fo rn um er ic al s im pl ic it y , w ea rb it ra ri ly c ho os e 5"
"θ(0)=0.6, θ(0) =θ(0) =θ(0) =0.6, θ(0) =θ(0) =θ(0) =0.4. (20.8)"
F 1 W 1 H 1 F 2 W 2 H 2
"Fi rs t , l et u s w or k o n t he θ p ar am et er . In t he f ul ly o bs er va bl e c as e , w e w ou ld e st im at e t hi s"
d ir ec tl y f ro mt he o bs er ve d c ou nt s o fc an di es f ro mb ag s 1 a nd 2. Be ca us e t he ba gi sa hi dd en
"v ar ia bl e , w e c al cu la te t he e xp ec te d c ou nt s i ns te ad . Th e e xp ec te d c ou nt Nˆ(Ba g=1) i s t he"
"s um ,o ve ra ll ca nd ie s , o ft he pr ob ab il it y t ha tt he ca nd yc am e f ro mb ag 1:"
(c id:12)N
"θ(1) = Nˆ(Ba g=1)/N = P(Ba g=1|f la vo r ,w ra pp er ,h ol es )/N ."
j j j
j=1
Th es ep ro ba bi li ti es c an be co mp ut ed b ya ny in fe re nc e a lg or it hm f or Ba ye si an n et wo rk s . Fo r
"a n ai ve Ba ye s m od el s uc h a s t he o ne i n o ur e xa mp le , w e c an d o t he i nf er en ce “b y h an d ,”"
u si ng Ba ye s’r ul ea nd ap pl yi ng c on di ti on al i nd ep en de nc e:
(c id:12)N
θ(1) =
1 (c id:2)P(f la vo rj|Ba g=1)P(w ra pp er j|Ba g=1)P(h ol es j|Ba g=1)P(Ba g=1)
.
N
j=1
i P(f la vo rj|Ba g=i)P(w ra pp er j|Ba g=i)P(h ol es j|Ba g=i)P(Ba g=i)
"Ap pl yi ng t hi sf or mu la t o , s ay , t he 273 r ed-w ra pp ed c he rr y c an di es w it hh ol es , w eg et a co n-"
t ri bu ti on o f
273 θ(0) θ(0) θ(0) θ(0)
· F 1 W 1 H 1 ≈ 0.22797.
1000 θ(0) θ(0) θ(0) θ(0)+θ(0) θ(0) θ(0) (1−θ(0))
F 1 W 1 H 1 F 2 W 2 H 2
"Co nt in ui ng wi th th eo th er se ve nk in ds of ca nd yi nt he ta bl eo fc ou nt s ,w eo bt ai nθ(1)=0.6124."
"No wl et us co ns id er th eo th er pa ra me te rs , s uc ha s θ . In th ef ul ly ob se rv ab le c as e ,w e"
F 1
w ou ld es ti ma te th is di re ct ly fr om th eo bs er ve dc ou nt so fc he rr ya nd li me ca nd ie sf ro mb ag 1.
Th ee xp ec te d c ou nt of ch er ry ca nd ie sf ro mb ag 1 i sg iv en by
(c id:12)
"P(Ba g=1|Fl av or =c he rr y ,w ra pp er ,h ol es )."
j j j
j:Fl av or j=c he rr y
"5 It is be tt er in pr ac ti ce to ch oo se th em ra nd om ly ,t oa vo id lo ca lm ax im ad ue to sy mm et ry ."
822 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
"Ag ai n , t he se p ro ba bi li ti es c an b e c al cu la te d b y a ny Ba ye s n et a lg or it hm . Co mp le ti ng t hi s"
"p ro ce ss , w eo bt ai nt he ne wv al ue so fa ll th ep ar am et er s:"
"θ(1)=0.6124, θ(1) =0.6684, θ(1) =0.6483, θ(1) =0.6558,"
F 1 W 1 H 1 (20.9)
(1) (1) (1)
"θ =0.3887,θ =0.3817, θ =0.3827."
F 2 W 2 H 2
Th e l og l ik el ih oo d o f t he d at a i nc re as es f ro m a bo ut −2044 i ni ti al ly t o a bo ut −2021 a ft er
"t he f ir st i te ra ti on , a s s ho wn i n Fi gu re 20.12(b). Th at i s , t he u pd at e i mp ro ve s t he l ik el ih oo d"
"i ts el f b y a f ac to r o f a bo ut e 23 ≈ 1010. By t he t en th i te ra ti on , t he l ea rn ed m od el i s a b et te r"
"f it th an th eo ri gi na l m od el(L= −1982.214). Th er ea ft er , p ro gr es s b ec om es v er ys lo w . Th is"
"i s n ot u nc om mo n w it h EM , a nd m an y p ra ct ic al s ys te ms c om bi ne EM w it h a g ra di en t-b as ed"
a lg or it hm s uc ha s Ne wt on–Ra ph so n (s ee Ch ap te r 4)f or th el as tp ha se of le ar ni ng .
Th e g en er al l es so n f ro m t hi s e xa mp le i s t ha t t he p ar am et er u pd at es f or Ba ye si an n et-
w or k l ea rn in g w it h h id de n v ar ia bl es a re d ir ec tl y a va il ab le f ro m t he r es ul ts o f i nf er en ce o n
"e ac h e xa mp le . Mo re ov er , o nl y l oc al p os te ri or p ro ba bi li ti es a re n ee de d f or e ac h p ar am e-"
"t er . He re , “l oc al” m ea ns t ha t t he CPT f or e ac h v ar ia bl e X c an b e l ea rn ed f ro m p os te ri or"
i
p ro ba bi li ti es i nv ol vi ng j us t X a nd i ts p ar en ts U . De fi ni ng θ t o b e t he CPT p ar am et er
i i i jk
"P(X =x |U =u ),t he up da te is gi ve nb yt he no rm al iz ed ex pe ct ed c ou nt sa sf ol lo ws:"
i i j i i k
"θ ← Nˆ(X =x ,U =u )/Nˆ(U =u )."
i jk i i j i i k i i k
"Th ee xp ec te dc ou nt sa re ob ta in ed by su mm in go ve rt he ex am pl es ,c om pu ti ng th ep ro ba bi li ti es"
"P(X =x ,U =u ) f or e ac h b y u si ng a ny Ba ye s n et i nf er en ce a lg or it hm . Fo r t he e xa ct"
i i j i i k
a lg or it hm s—i nc lu di ng v ar ia bl ee li mi na ti on—a ll th es ep ro ba bi li ti es a re ob ta in ab le di re ct ly as
"a by-p ro du ct o fs ta nd ar d i nf er en ce , w it hn on ee d f or ex tr ac om pu ta ti on s s pe ci fi c t ol ea rn in g ."
"Mo re ov er , t he in fo rm at io n n ee de d f or le ar ni ng i sa va il ab le l oc al ly fo re ac hp ar am et er ."
20.3.3 Le ar ni ng h id de n Ma rk ov mo de ls
Ou r f in al a pp li ca ti on o f EM i nv ol ve s l ea rn in g t he t ra ns it io n p ro ba bi li ti es i n h id de n Ma rk ov
m od el s (HMMs). Re ca ll f ro m Se ct io n 15.3 t ha t a h id de n Ma rk ov m od el c an b e r ep re se nt ed
"b y a d yn am ic Ba ye s n et w it h a s in gl e d is cr et e s ta te v ar ia bl e , a s i ll us tr at ed i n Fi gu re 20.14."
"Ea ch d at a p oi nt c on si st s o f a n o bs er va ti on s eq ue nc e o f f in it e l en gt h , s o t he p ro bl em i s t o"
l ea rn t he t ra ns it io n p ro ba bi li ti es f ro m a s et o f o bs er va ti on s eq ue nc es (o r f ro m j us t o ne l on g
s eq ue nc e).
"We h av e a lr ea dy w or ke d o ut h ow t o l ea rn Ba ye s n et s , b ut t he re i s o ne c om pl ic at io n:"
"i n Ba ye s n et s , e ac h p ar am et er i s d is ti nc t ; i n a h id de n Ma rk ov m od el , o n t he o th er h an d , t he"
"i nd iv id ua lt ra ns it io np ro ba bi li ti es fr om st at ei to st at ej at ti me t ,θ =P(X =j|X =i),"
i jt t+1 t
"a re r ep ea te d a cr os s t im e—t ha t i s , θ =θ f or a ll t . To e st im at e t he t ra ns it io n p ro ba bi li ty"
i jt i j
"f ro m s ta te i t o s ta te j , w e s im pl y c al cu la te t he e xp ec te d p ro po rt io n o f t im es t ha t t he s ys te m"
u nd er go es a tr an si ti on t os ta te j w he ni ns ta te i:
(c id:12) (c id:12)
"θ ← Nˆ(X =j ,X =i)/ Nˆ(X =i)."
i j t+1 t t
t t
Th ee xp ec te dc ou nt sa re co mp ut ed by an HMMi nf er en ce al go ri th m . Th ef or wa rd–b ac kw ar d
a lg or it hm s ho wn i n Fi gu re 15.4 c an b e m od if ie d v er y e as il y t o c om pu te t he n ec es sa ry p ro b-
a bi li ti es . On e i mp or ta nt p oi nt i s t ha t t he p ro ba bi li ti es r eq ui re d a re o bt ai ne d b y s mo ot hi ng
Se ct io n 20.3. Le ar ni ng wi th Hi dd en Va ri ab le s: Th e EMAl go ri th m 823
P(R 0) R t 0 P 0(R .71) P(R 0) R t 0 P 0(R .71) R t 1 P 0(R .72) R t 2 P 0(R .73 ) R t 3 P 0(R .74 )
0.7 f 0.3 0.7 f 0.3 f 0.3 f 0.3 f 0.3
Ra in Ra in Ra in Ra in Ra in Ra in Ra in
0 1 0 1 2 3 4
Um br el la 1 Um br el la 1 Um br el la 2 Um br el la 3 Um br el la 4
R 1 P(U 1) R 1 P(U 1) R 2 P(U 2) R 3 P(U 3) R 4 P(U 4)
t 0.9 t 0.9 t 0.9 t 0.9 t 0.9
f 0.2 f 0.2 f 0.2 f 0.2 f 0.2
Fi gu re 20.14 An u nr ol le d d yn am ic Ba ye si an n et wo rk t ha t r ep re se nt s a h id de n Ma rk ov
m od el(r ep ea to f Fi gu re 15.16).
"r at he r t ha n f il te ri ng ; t ha t i s , w e n ee d t o p ay a tt en ti on t o s ub se qu en t e vi de nc e i n e st im at in g"
t he pr ob ab il it y t ha ta pa rt ic ul ar tr an si ti on o cc ur re d . Th e e vi de nc e i na mu rd er ca se is us ua ll y
"o bt ai ne d a ft er th ec ri me(i .e .,t he tr an si ti on f ro ms ta te i to st at ej)h as ta ke np la ce ."
20.3.4 Th e g en er al f or m o ft he EM a lg or it hm
We h av e s ee n s ev er al i ns ta nc es o f t he EM a lg or it hm . Ea ch i nv ol ve s c om pu ti ng e xp ec te d
"v al ue s o fh id de n v ar ia bl es f or ea ch e xa mp le a nd t he n r ec om pu ti ng t he p ar am et er s , u si ng t he"
e xp ec te d v al ue s a s i f t he y w er e o bs er ve d v al ue s . Le t x b e a ll t he o bs er ve d v al ue s i n a ll t he
"e xa mp le s , l et Z d en ot e a ll t he h id de n v ar ia bl es f or a ll t he e xa mp le s , a nd l et θ b e a ll t he"
p ar am et er s f or th ep ro ba bi li ty m od el . Th en th e EMa lg or it hm i s
(c id:12)
"θ(i+1) = a rg ma x P(Z=z|x ,θ(i))L(x ,Z=z|θ)."
θ
z
Th is eq ua ti on is th e EMa lg or it hm in an ut sh el l . Th e E-s te pi st he co mp ut at io no ft he su mm a-
"t io n ,w hi ch is th ee xp ec ta ti on of th el og li ke li ho od of th e“c om pl et ed”d at aw it hr es pe ct to th e"
"d is tr ib ut io n P(Z=z|x ,θ(i)),w hi ch is th ep os te ri or ov er th eh id de nv ar ia bl es ,g iv en th ed at a ."
Th e M-s te p i s t he m ax im iz at io n o f t hi s e xp ec te d l og l ik el ih oo d w it h r es pe ct t o t he p ar am e-
"t er s . Fo rm ix tu re so f Ga us si an s ,t he hi dd en va ri ab le sa re th e Z s ,w he re Z i s 1 i fe xa mp le j"
i j i j
"w as ge ne ra te db yc om po ne nt i . Fo r Ba ye sn et s ,Z i st he va lu eo fu no bs er ve d v ar ia bl e X i n"
i j i
"e xa mp le j . Fo r HMMs ,Z i st he st at eo ft he se qu en ce i ne xa mp le j a tt im et . St ar ti ng fr om"
j t
"t he g en er al f or m , i ti s p os si bl e t od er iv e a n EM a lg or it hm f or a sp ec if ic a pp li ca ti on o nc e t he"
a pp ro pr ia te h id de nv ar ia bl es h av eb ee ni de nt if ie d .
"As s oo n a s w e u nd er st an d t he g en er al i de a o f EM , i t b ec om es e as y t o d er iv e a ll s or ts"
"o f v ar ia nt s a nd i mp ro ve me nt s . Fo r e xa mp le , i n m an y c as es t he E-s te p—t he c om pu ta ti on o f"
"p os te ri or s o ve r t he h id de n v ar ia bl es—i s i nt ra ct ab le , a s i n l ar ge Ba ye s n et s . It t ur ns o ut t ha t"
o ne c an u se a n a pp ro xi ma te E-s te p a nd s ti ll o bt ai n a n e ff ec ti ve l ea rn in g a lg or it hm . Wi th a
"s am pl in ga lg or it hm s uc ha s MCMC(s ee Se ct io n 14.5),t he le ar ni ng p ro ce ss is ve ry in tu it iv e:"
e ac h s ta te (c on fi gu ra ti on o f h id de n a nd o bs er ve d v ar ia bl es) v is it ed b y MCMC i s t re at ed e x-
"a ct ly as if it we re ac om pl et eo bs er va ti on . Th us ,t he pa ra me te rs c an be up da te d d ir ec tl y a ft er"
"e ac h MCMCt ra ns it io n . Ot he rf or ms of ap pr ox im at e i nf er en ce , s uc ha sv ar ia ti on al a nd lo op y"
"m et ho ds , h av ea ls op ro ve de ff ec ti ve fo rl ea rn in g v er yl ar ge n et wo rk s ."
824 Ch ap te r 20. Le ar ni ng Pr ob ab il is ti c Mo de ls
20.3.5 Le ar ni ng Ba ye s n et s tr uc tu re s w it hh id de n v ar ia bl es
"In Se ct io n 20.2.5, w e d is cu ss ed t he p ro bl em o f l ea rn in g Ba ye s n et s tr uc tu re s w it h c om pl et e"
"d at a . Wh en u no bs er ve d v ar ia bl es m ay b e i nf lu en ci ng t he d at a t ha t a re o bs er ve d , t hi ng s g et"
"m or ed if fi cu lt . In th es im pl es tc as e ,a hu ma ne xp er tm ig ht te ll th el ea rn in ga lg or it hm th at ce r-"
"t ai nh id de n v ar ia bl es e xi st , l ea vi ng i tt ot he al go ri th m t of in da pl ac ef or th em in th en et wo rk"
"s tr uc tu re . Fo re xa mp le ,a na lg or it hm mi gh tt ry to le ar nt he st ru ct ur es ho wn in Fi gu re 20.10(a)"
"o np ag e 817,g iv en th ei nf or ma ti on th at He ar t Di se as e (a th re e-v al ue dv ar ia bl e)s ho ul db ei n-"
"c lu de di nt he mo de l . As in th ec om pl et e-d at ac as e ,t he ov er al la lg or it hm ha sa no ut er lo op th at"
s ea rc he so ve rs tr uc tu re sa nd an in ne rl oo pt ha tf it st he ne tw or kp ar am et er sg iv en th es tr uc tu re .
"If t he l ea rn in g a lg or it hm i s n ot t ol d w hi ch h id de n v ar ia bl es e xi st , t he n t he re a re t wo"
c ho ic es: e it he r p re te nd t ha t t he d at a i s r ea ll y c om pl et e—w hi ch m ay f or ce t he a lg or it hm t o
l ea rn a pa ra me te r-i nt en si ve m od el s uc h a st he on ei n Fi gu re 20.10(b)—o r i nv en t n ew hi dd en
v ar ia bl es in or de rt os im pl if yt he mo de l . Th el at te ra pp ro ac hc an be im pl em en te db yi nc lu di ng
"n ew mo di fi ca ti on ch oi ce si nt he st ru ct ur es ea rc h: i na dd it io nt om od if yi ng li nk s ,t he al go ri th m"
"c an ad do rd el et ea hi dd en va ri ab le or ch an ge it sa ri ty . Of co ur se ,t he al go ri th mw il ln ot kn ow"
t ha t t he n ew v ar ia bl e i t h as i nv en te d i s c al le d He ar t Di se as e ; n or w il l i t h av e m ea ni ng fu l
"n am es fo rt he va lu es . Fo rt un at el y , n ew ly in ve nt ed hi dd en va ri ab le sw il lu su al ly be co nn ec te d"
"t op re ex is ti ng va ri ab le s ,s oa hu ma ne xp er tc an of te ni ns pe ct th el oc al co nd it io na ld is tr ib ut io ns"
i nv ol vi ng t he ne wv ar ia bl ea nd as ce rt ai n i ts me an in g .
"As in th ec om pl et e-d at ac as e ,p ur em ax im um-l ik el ih oo ds tr uc tu re le ar ni ng wi ll re su lt in"
"a co mp le te ly c on ne ct ed n et wo rk (m or eo ve r , o ne w it hn o h id de n v ar ia bl es), s o s om e f or m o f"
c om pl ex it y p en al ty is re qu ir ed . We ca na ls oa pp ly MCMCt os am pl em an yp os si bl e n et wo rk
"s tr uc tu re s , t he re by a pp ro xi ma ti ng Ba ye si an l ea rn in g . Fo r e xa mp le , w ec an le ar nm ix tu re s o f"
Ga us si an sw it ha nu nk no wn nu mb er of co mp on en ts by sa mp li ng ov er th en um be r ;t he ap pr ox-
i ma te po st er io rd is tr ib ut io nf or th en um be ro f Ga us si an si s g iv en by th es am pl in gf re qu en ci es
o ft he MCMCp ro ce ss .
"Fo r t he c om pl et e-d at a c as e , t he i nn er l oo p t o l ea rn t he p ar am et er s i s v er y f as t—j us t a"
m at te r o f e xt ra ct in g c on di ti on al f re qu en ci es f ro m t he d at a s et . Wh en t he re a re h id de n v ar i-
"a bl es , t he i nn er l oo p m ay i nv ol ve m an y i te ra ti on s o f EM o ra g ra di en t-b as ed a lg or it hm , a nd"
"e ac hi te ra ti on in vo lv es th ec al cu la ti on of po st er io rs in a Ba ye sn et ,w hi ch is it se lf an NP-h ar d"
"p ro bl em . To d at e , t hi s a pp ro ac h h as p ro ve d i mp ra ct ic al f or l ea rn in g c om pl ex m od el s . On e"
"p os si bl ei mp ro ve me nt is th es o-c al le d s tr uc tu ra l EMa lg or it hm , w hi ch op er at es in mu ch th e"
STRUCTURALEM
s am e w ay a s o rd in ar y (p ar am et ri c) EM e xc ep t t ha t t he a lg or it hm c an u pd at e t he s tr uc tu re
a s w el l a s t he p ar am et er s . Ju st a s o rd in ar y EM u se s t he c ur re nt p ar am et er s t o c om pu te t he
e xp ec te d c ou nt s i n t he E-s te p a nd t he n a pp li es t ho se c ou nt s i n t he M-s te p t o c ho os e n ew
"p ar am et er s ,s tr uc tu ra l EMu se st he cu rr en ts tr uc tu re to co mp ut ee xp ec te dc ou nt sa nd th en ap-"
p li es th os e c ou nt s i nt he M-s te pt oe va lu at e t he li ke li ho od f or po te nt ia l n ew st ru ct ur es . (Th is
"c on tr as ts w it h t he o ut er-l oo p/i nn er-l oo p m et ho d , w hi ch c om pu te s n ew e xp ec te d c ou nt s f or"
"e ac h p ot en ti al s tr uc tu re .) In t hi s w ay , s tr uc tu ra l EM m ay m ak e s ev er al s tr uc tu ra l a lt er at io ns"
"t ot he ne tw or kw it ho ut on ce re co mp ut in gt he ex pe ct ed co un ts ,a nd is ca pa bl eo fl ea rn in gn on-"
"t ri vi al Ba ye s n et s tr uc tu re s . No ne th el es s , m uc h w or k r em ai ns t o b e d on e b ef or e w e c an s ay"
t ha tt he st ru ct ur e-l ea rn in g p ro bl em i ss ol ve d .
21
REINFORCEMENT
LEARNING
"In w hi ch w e e xa mi ne h ow a n a ge nt c an l ea rn f ro m s uc ce ss a nd f ai lu re , f ro m r e-"
w ar da nd pu ni sh me nt .
21.1 INTRODUCTION
"Ch ap te rs 18,19,a nd 20 c ov er ed me th od st ha tl ea rn fu nc ti on s ,l og ic al th eo ri es ,a nd pr ob ab il it y"
"m od el sf ro m e xa mp le s . In th is ch ap te r , w ew il ls tu dy ho wa ge nt s c an le ar n w ha tt od oi nt he"
a bs en ce of la be le de xa mp le so fw ha tt od o .
"Co ns id er , f or e xa mp le , t he p ro bl em o f l ea rn in g t o p la y c he ss . A s up er vi se d l ea rn in g"
"a ge nt n ee ds t ob e t ol d t he c or re ct m ov ef or ea ch p os it io n i t e nc ou nt er s , b ut s uc h f ee db ac k i s"
"s el do m a va il ab le . In t he a bs en ce o f f ee db ac k f ro m a t ea ch er , a n a ge nt c an l ea rn a t ra ns it io n"
"m od el fo ri ts ow nm ov es an dc an p er ha ps l ea rn t op re di ct t he op po ne nt’s m ov es , b ut wi th ou t"
"s om ef ee db ac ka bo ut wh at is go od an dw ha ti sb ad ,t he ag en tw il lh av en og ro un ds fo rd ec id-"
i ng w hi ch m ov et o m ak e . Th ea ge nt n ee ds t ok no w t ha t s om et hi ng g oo d h as h ap pe ne d w he n
"i t (a cc id en ta ll y) c he ck ma te s t he o pp on en t , a nd t ha t s om et hi ng b ad h as h ap pe ne d w he n i t i s"
"c he ck ma te d—o r v ic e v er sa , i f t he g am e i s s ui ci de c he ss . Th is k in d o f f ee db ac k i s c al le d a"
"r ew ar d ,o rr ei nf or ce me nt . In ga me sl ik ec he ss ,t he re in fo rc em en ti sr ec ei ve do nl ya tt he en d"
REINFORCEMENT
"o f t he g am e . In o th er e nv ir on me nt s , t he r ew ar ds c om e m or e f re qu en tl y . In p in g-p on g , e ac h"
"p oi nt s co re d c an b e c on si de re d a r ew ar d ; w he n l ea rn in g t o c ra wl , a ny f or wa rd m ot io n i s a n"
"a ch ie ve me nt . Ou r f ra me wo rk f or a ge nt s r eg ar ds t he r ew ar d a s p ar t o f t he i np ut p er ce pt , b ut"
t he a ge nt m us t b e “h ar dw ir ed” t o r ec og ni ze t ha t p ar t a s a r ew ar d r at he r t ha n a s j us t a no th er
"s en so ry i np ut . Th us , a ni ma ls se em to be ha rd wi re d t or ec og ni ze p ai na nd hu ng er as ne ga ti ve"
r ew ar ds a nd p le as ur e a nd fo od i nt ak e a sp os it iv e r ew ar ds . Re in fo rc em en t h as b ee n c ar ef ul ly
s tu di ed by an im al ps yc ho lo gi st s f or ov er 60 y ea rs .
"Re wa rd s w er e i nt ro du ce d i n Ch ap te r 17, w he re t he y s er ve d t o d ef in e o pt im al p ol ic ie s"
i n Ma rk ov d ec is io n p ro ce ss es (MDPs). An o pt im al p ol ic y i s a p ol ic y t ha t m ax im iz es t he
e xp ec te dt ot al re wa rd . Th et as ko fr ei nf or ce me nt le ar ni ng is to us eo bs er ve dr ew ar ds to le ar n
a n o pt im al (o rn ea rl y o pt im al) p ol ic y f or t he e nv ir on me nt . Wh er ea s i n Ch ap te r 17 t he a ge nt
"h as ac om pl et em od el of th ee nv ir on me nt a nd kn ow st he re wa rd fu nc ti on ,h er ew ea ss um en o"
830
Se ct io n 21.1. In tr od uc ti on 831
p ri or kn ow le dg e o fe it he r . Im ag in ep la yi ng a ne w g am ew ho se ru le s y ou do n’t k no w ; a ft er a
"h un dr ed o rs o m ov es , y ou r o pp on en t a nn ou nc es , “Yo u l os e .” Th is i s r ei nf or ce me nt l ea rn in g"
i na nu ts he ll .
"In m an y c om pl ex d om ai ns , r ei nf or ce me nt l ea rn in g i s t he o nl y f ea si bl e w ay t o t ra in a"
"p ro gr am t op er fo rm a th ig hl ev el s . Fo re xa mp le ,i ng am ep la yi ng , i ti sv er yh ar df or ah um an"
"t op ro vi de ac cu ra te an dc on si st en te va lu at io ns of la rg en um be rs of po si ti on s , w hi ch wo ul db e"
"n ee de d t o t ra in a n e va lu at io n f un ct io n d ir ec tl y f ro m e xa mp le s . In st ea d , t he p ro gr am c an b e"
"t ol d w he n i t h as w on o r l os t , a nd i t c an u se t hi s i nf or ma ti on t o l ea rn a n e va lu at io n f un ct io n"
t ha tg iv es re as on ab ly ac cu ra te es ti ma te so ft he pr ob ab il it yo fw in ni ng fr om an yg iv en po si ti on .
"Si mi la rl y ,i ti se xt re me ly di ff ic ul tt op ro gr am an ag en tt of ly ah el ic op te r ;y et gi ve na pp ro pr ia te"
"n eg at iv er ew ar ds fo rc ra sh in g , w ob bl in g ,o rd ev ia ti ng fr om a se tc ou rs e ,a na ge nt ca nl ea rn to"
f ly by it se lf .
Re in fo rc em en tl ea rn in gm ig ht be co ns id er ed t oe nc om pa ss al lo f AI:a na ge nt is pl ac ed
i n a n e nv ir on me nt a nd m us t l ea rn t o b eh av e s uc ce ss fu ll y t he re in . To k ee p t he c ha pt er m an-
"a ge ab le , w ew il lc on ce nt ra te o ns im pl ee nv ir on me nt s a nd si mp le ag en td es ig ns . Fo rt he mo st"
"p ar t , w e w il l a ss um e a f ul ly o bs er va bl e e nv ir on me nt , s o t ha t t he c ur re nt s ta te i s s up pl ie d b y"
"e ac h p er ce pt . On t he o th er h an d , w e w il l a ss um e t ha t t he a ge nt d oe s n ot k no w h ow t he e n-"
"v ir on me nt w or ks or wh at it sa ct io ns d o ,a nd we wi ll al lo w f or pr ob ab il is ti c a ct io n o ut co me s ."
"Th us , t he a ge nt f ac es a n u nk no wn Ma rk ov d ec is io n p ro ce ss . We w il l c on si de r t hr ee o f t he"
a ge nt de si gn sf ir st in tr od uc ed i n Ch ap te r 2:
• Au ti li ty-b as ed ag en tl ea rn sa ut il it yf un ct io no ns ta te sa nd us es it to se le ct ac ti on st ha t
m ax im iz et he ex pe ct ed ou tc om eu ti li ty .
"• A Q-l ea rn in g a ge nt l ea rn s a n a ct io n-u ti li ty f un ct io n , o r Q-f un ct io n , g iv in g t he e x-"
Q-LEARNING
p ec te du ti li ty of ta ki ng ag iv en ac ti on in ag iv en st at e .
Q-FUNCTION
• Ar ef le xa ge nt le ar ns ap ol ic yt ha tm ap sd ir ec tl y f ro ms ta te st oa ct io ns .
"Au ti li ty-b as ed a ge nt mu st al so ha ve am od el o ft he en vi ro nm en t i no rd er to ma ke de ci si on s ,"
"b ec au se i tm us tk no wt he st at es t ow hi ch it sa ct io ns w il ll ea d . Fo re xa mp le , i no rd er to ma ke"
"u se of ab ac kg am mo ne va lu at io nf un ct io n , a ba ck ga mm on pr og ra mm us tk no ww ha ti ts le ga l"
m ov es a re a nd h ow t he y a ff ec t t he b oa rd p os it io n . On ly i n t hi s w ay c an i t a pp ly t he u ti li ty
"f un ct io n t o t he o ut co me s ta te s . A Q-l ea rn in g a ge nt , o n t he o th er h an d , c an c om pa re t he"
"e xp ec te du ti li ti es fo ri ts av ai la bl e c ho ic es wi th ou tn ee di ng to kn ow th ei ro ut co me s , s oi td oe s"
"n ot n ee d a m od el o f t he e nv ir on me nt . On t he o th er h an d , b ec au se t he y d o n ot k no w w he re"
"t he ir ac ti on sl ea d ,Q-l ea rn in ga ge nt sc an no tl oo ka he ad ;t hi sc an se ri ou sl yr es tr ic tt he ir ab il it y"
"t ol ea rn , a sw es ha ll se e ."
"We be gi n i n Se ct io n 21.2 w it h p as si ve l ea rn in g , w he re t he a ge nt’s p ol ic y i s f ix ed a nd"
PASSIVELEARNING
t he ta sk is to le ar nt he ut il it ie so fs ta te s(o rs ta te–a ct io n p ai rs);t hi sc ou ld al so in vo lv el ea rn in g
"a mo de lo ft he en vi ro nm en t . Se ct io n 21.3 c ov er s a ct iv e l ea rn in g , w he re th ea ge nt m us ta ls o"
ACTIVELEARNING
l ea rn w ha t t o d o . Th e p ri nc ip al i ss ue i s e xp lo ra ti on: a n a ge nt m us t e xp er ie nc e a s m uc h a s
EXPLORATION
p os si bl e o fi ts en vi ro nm en t i no rd er to le ar n h ow to be ha ve i n i t . Se ct io n 21.4 d is cu ss es h ow
a n a ge nt c an u se i nd uc ti ve l ea rn in g t o l ea rn m uc h f as te r f ro m i ts e xp er ie nc es . Se ct io n 21.5
c ov er s m et ho ds f or le ar ni ng d ir ec t p ol ic y r ep re se nt at io ns i n r ef le xa ge nt s . An un de rs ta nd in g
o f Ma rk ov de ci si on pr oc es se s (Ch ap te r 17)i se ss en ti al fo rt hi sc ha pt er .
832 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
21.2 PASSIVE REINFORCEMENT LEARNING
"To ke ep t hi ng s s im pl e , w es ta rt w it h t he c as e o f a p as si ve l ea rn in g a ge nt u si ng a s ta te-b as ed"
"r ep re se nt at io n i n a f ul ly o bs er va bl e e nv ir on me nt . In p as si ve l ea rn in g , t he a ge nt’s p ol ic y π"
"i s f ix ed: i n s ta te s , i t a lw ay s e xe cu te s t he a ct io n π(s). It s g oa l i s s im pl y t o l ea rn h ow g oo d"
"t he p ol ic y i s—t ha t i s , t o l ea rn t he u ti li ty f un ct io n Uπ(s). We w il l u se a s o ur e xa mp le t he"
4×3 w or ld i nt ro du ce d i n Ch ap te r 17. Fi gu re 21.1 s ho ws a p ol ic y f or t ha t w or ld a nd t he
"c or re sp on di ng u ti li ti es . Cl ea rl y , t he p as si ve l ea rn in g t as k i s s im il ar t o t he p ol ic y e va lu at io n"
"t as k , p ar t o f t he p ol ic y i te ra ti on a lg or it hm d es cr ib ed i n Se ct io n 17.3. Th e m ai n d if fe re nc e"
i s t ha t t he p as si ve l ea rn in g a ge nt d oe s n ot k no w t he t ra ns it io n m od el
"P(s(c id:2)|s ,a),"
w hi ch
(c id:2)
s pe ci fi es t he p ro ba bi li ty o f r ea ch in g s ta te s f ro m s ta te s a ft er d oi ng a ct io n a ; n or d oe s i t
"k no wt he re wa rd fu nc ti on R(s),w hi ch sp ec if ie st he re wa rd fo re ac hs ta te ."
3 +1
3 0.812 0.868 0.918 + 1
2 –1 2 0.762 0.660 –1
1 1 0.705 0.655 0.611 0.388
1 2 3 4 1 2 3 4
(a) (b)
Fi gu re 21.1 (a) A p ol ic y π f or t he 4×3 w or ld ; t hi s p ol ic y h ap pe ns t o b e o pt im al w it h
r ew ar ds of R(s)= −0.04 i nt he no nt er mi na ls ta te sa nd no di sc ou nt in g . (b)Th eu ti li ti es of
"t he st at es in th e 4×3 w or ld ,g iv en po li cyπ."
"Th ea ge nt ex ec ut es as et of tr ia ls in th ee nv ir on me nt us in gi ts po li cyπ. In ea ch tr ia l ,t he"
TRIAL
"a ge nt s ta rt s i n s ta te (1,1) a nd e xp er ie nc es a s eq ue nc e o f s ta te t ra ns it io ns u nt il i t r ea ch es o ne"
"o ft he te rm in al s ta te s , (4,2)o r(4,3). It sp er ce pt s s up pl y b ot ht he cu rr en t s ta te an dt he re wa rd"
r ec ei ve di nt ha ts ta te . Ty pi ca lt ri al sm ig ht lo ok li ke th is:
"(1,1) (c id:2)(1,2) (c id:2)(1,3) (c id:2)(1,2) (c id:2)(1,3) (c id:2)(2,3) (c id:2)(3,3) (c id:2)(4,3)"
-.04 -.04 -.04 -.04 -.04 -.04 -.04 +1
"(1,1) (c id:2)(1,2) (c id:2)(1,3) (c id:2)(2,3) (c id:2)(3,3) (c id:2)(3,2) (c id:2)(3,3) (c id:2)(4,3)"
-.04 -.04 -.04 -.04 -.04 -.04 -.04 +1
"(1,1) (c id:2)(2,1) (c id:2)(3,1) (c id:2)(3,2) (c id:2)(4,2) ."
-.04 -.04 -.04 -.04 -1
No te th at e ac h s ta te p er ce pt i s s ub sc ri pt ed w it ht he r ew ar d r ec ei ve d . Th eo bj ec t i st ou se t he
i nf or ma ti on ab ou tr ew ar ds to le ar nt he ex pe ct ed ut il it y Uπ(s)a ss oc ia te dw it he ac hn on te rm i-
n al s ta te s . Th eu ti li ty i s d ef in ed t o b e t he e xp ec te d s um o f (d is co un te d) r ew ar ds o bt ai ne d i f
Se ct io n 21.2. Pa ss iv e Re in fo rc em en t Le ar ni ng 833
"p ol ic yπ i sf ol lo we d . As in Eq ua ti on(17.2)o np ag e 650,w ew ri te"
""" #"
(c id:12)∞
Uπ(s) = E γt R(S ) (21.1)
t
t=0
"w he re R(s)i st he re wa rd fo ra st at e , S (a ra nd om va ri ab le)i st he st at er ea ch ed at ti me tw he n"
t
"e xe cu ti ng p ol ic y π, a nd S =s . We wi ll in cl ud e a d is co un tf ac to r γ i na ll o f o ur eq ua ti on s ,"
0
b ut fo rt he 4×3 w or ld we wi ll se tγ=1.
21.2.1 Di re ct ut il it y e st im at io n
DIRECTUTILITY A s im pl e m et ho d f or d ir ec t u ti li ty e st im at io n w as i nv en te d i n t he l at e 1950 s i n t he a re a o f
ESTIMATION
ADAPTIVECONTROL a da pt iv e c on tr ol t he or y b y Wi dr ow a nd Ho ff (1960). Th e i de a i s t ha t t he u ti li ty o f a s ta te
THEORY
"i s t he e xp ec te d t ot al r ew ar d f ro m t ha t s ta te o nw ar d (c al le d t he e xp ec te d r ew ar d-t o-g o), a nd"
REWARD-TO-GO
"e ac ht ri al pr ov id es a s am pl eo ft hi sq ua nt it y f or ea ch st at ev is it ed . Fo re xa mp le , t he fi rs tt ri al"
"i n t he s et o f t hr ee g iv en e ar li er p ro vi de s a s am pl e t ot al r ew ar d o f 0.72 f or s ta te (1,1), t wo"
"s am pl es o f 0.76 a nd 0.84 f or(1,2), t wo sa mp le s o f 0.80 a nd 0.88 f or(1,3), a nd s o o n . Th us ,"
"a tt he en do fe ac hs eq ue nc e ,t he al go ri th mc al cu la te st he ob se rv ed re wa rd-t o-g of or ea ch st at e"
"a nd up da te st he es ti ma te du ti li ty fo rt ha ts ta te ac co rd in gl y , j us tb yk ee pi ng a ru nn in ga ve ra ge"
"f or ea ch st at ei na ta bl e . In th el im it of in fi ni te ly ma ny tr ia ls ,t he sa mp le av er ag ew il lc on ve rg e"
t ot he tr ue ex pe ct at io n i n Eq ua ti on(21.1).
It i s c le ar t ha t d ir ec t u ti li ty e st im at io n i s j us t a n i ns ta nc e o f s up er vi se d l ea rn in g w he re
e ac h e xa mp le h as t he s ta te a s i np ut a nd t he o bs er ve d r ew ar d-t o-g o a s o ut pu t . Th is m ea ns
"t ha t w e h av e r ed uc ed r ei nf or ce me nt l ea rn in g t o a s ta nd ar d i nd uc ti ve l ea rn in g p ro bl em , a s"
d is cu ss ed i n Ch ap te r 18. Se ct io n 21.4 d is cu ss es t he us eo fm or ep ow er fu l k in ds o fr ep re se n-
t at io ns f or t he u ti li ty f un ct io n . Le ar ni ng t ec hn iq ue s f or t ho se r ep re se nt at io ns c an b e a pp li ed
d ir ec tl yt ot he ob se rv ed da ta .
Di re ct u ti li ty e st im at io n s uc ce ed s i n r ed uc in g t he r ei nf or ce me nt l ea rn in g p ro bl em t o
"a n i nd uc ti ve l ea rn in g p ro bl em , a bo ut w hi ch m uc h i s k no wn . Un fo rt un at el y , i t m is se s a v er y"
"i mp or ta nt s ou rc e o f i nf or ma ti on , n am el y , t he f ac t t ha t t he u ti li ti es o f s ta te s a re n ot i nd ep en-"
d en t ! Th eu ti li ty o fe ac hs ta te eq ua ls i ts ow nr ew ar dp lu s t he ex pe ct ed u ti li ty o fi ts su cc es so r
"s ta te s . Th at i s , t he u ti li ty v al ue s o be y t he Be ll ma n e qu at io ns f or a f ix ed p ol ic y (s ee a ls o"
Eq ua ti on(17.10)):
(c id:12)
"Uπ(s) = R(s)+γ P(s(c id:2)|s ,π(s))Uπ(s(c id:2) ). (21.2)"
s(c id:3)
"By ig no ri ng th ec on ne ct io ns b et we en st at es ,d ir ec tu ti li ty e st im at io n m is se so pp or tu ni ti es f or"
"l ea rn in g . Fo r e xa mp le , t he s ec on d o f t he t hr ee t ri al s g iv en e ar li er r ea ch es t he s ta te (3,2),"
"w hi ch h as n ot p re vi ou sl y b ee n v is it ed . Th e n ex t t ra ns it io n r ea ch es (3,3), w hi ch i s k no wn"
f ro m t he f ir st t ri al t o h av e a h ig h u ti li ty . Th e Be ll ma n e qu at io n s ug ge st s i mm ed ia te ly t ha t
"(3,2)i sa ls ol ik el yt oh av ea hi gh ut il it y , b ec au se i tl ea ds to(3,3),b ut di re ct ut il it ye st im at io n"
"l ea rn s n ot hi ng u nt il t he e nd o f t he t ri al . Mo re b ro ad ly , w e c an v ie w d ir ec t u ti li ty e st im at io n"
"a s s ea rc hi ng f or U i n a h yp ot he si s s pa ce t ha t i s m uc h l ar ge r t ha n i t n ee ds t o b e , i n t ha t i t"
"i nc lu de s m an y f un ct io ns t ha t v io la te t he Be ll ma n e qu at io ns . Fo r t hi s r ea so n , t he a lg or it hm"
o ft en co nv er ge s v er ys lo wl y .
834 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
f un ct io n PASSIVE-ADP-AGENT(p er ce pt)r et ur ns an ac ti on
"i np ut s:p er ce pt ,a pe rc ep ti nd ic at in gt he cu rr en ts ta te s(c id:5)a nd re wa rd si gn al r(c id:5)"
"p er si st en t: π,a fi xe dp ol ic y"
"m dp ,a n MDPw it hm od el P ,r ew ar ds R ,d is co un tγ"
"U ,a ta bl eo fu ti li ti es ,i ni ti al ly em pt y"
"Ns a ,a ta bl eo ff re qu en ci es fo rs ta te–a ct io np ai rs ,i ni ti al ly ze ro"
"Ns(c id:3)|s a ,a ta bl eo fo ut co me fr eq ue nc ie sg iv en st at e–a ct io np ai rs ,i ni ti al ly ze ro"
"s ,a ,t he pr ev io us st at ea nd ac ti on ,i ni ti al ly nu ll"
i fs(c id:5)i sn ew th en U[s(c id:5)]←r(c id:5);R[s(c id:5)]←r(c id:5)
i fs i sn ot nu ll th en
"i nc re me nt Ns a[s ,a]a nd Ns(c id:3)|s a[s(c id:5),s ,a]"
"f or ea ch t s uc ht ha t Ns(c id:3)|s a[t ,s ,a]i sn on ze ro do"
"P(t|s ,a)←Ns(c id:3)|s a[t ,s ,a]/Ns a[s ,a]"
"U ←POLICY-EVALUATION(π,U ,m dp)"
"i fs(c id:5).TERMINAL ?t he ns ,a←n ul le ls es ,a←s(c id:5),π[s(c id:5)]"
r et ur na
Fi gu re 21.2 Ap as si ve re in fo rc em en tl ea rn in ga ge nt ba se do na da pt iv ed yn am ic pr og ra m-
"m in g . Th e POLICY-EVALUATION f un ct io n s ol ve s t he f ix ed-p ol ic y Be ll ma n e qu at io ns , a s"
d es cr ib ed on pa ge 657.
21.2.2 Ad ap ti ve dy na mi cp ro gr am mi ng
ADAPTIVEDYNAMIC An a da pt iv e d yn am ic p ro gr am mi ng (o r ADP) a ge nt t ak es a dv an ta ge o f t he c on st ra in ts
PROGRAMMING
a mo ng t he u ti li ti es o f s ta te s b y l ea rn in g t he t ra ns it io n m od el t ha t c on ne ct s t he m a nd s ol v-
i ng t he c or re sp on di ng Ma rk ov d ec is io n p ro ce ss u si ng a d yn am ic p ro gr am mi ng m et ho d . Fo r
"a pa ss iv el ea rn in ga ge nt ,t hi sm ea ns pl ug gi ng th el ea rn ed tr an si ti on mo de l P(s(c id:2)|s ,π(s))a nd"
t he o bs er ve d r ew ar ds R(s) i nt o t he Be ll ma n e qu at io ns (21.2) t o c al cu la te t he u ti li ti es o f t he
"s ta te s . As w e r em ar ke d i n o ur d is cu ss io n o f p ol ic y i te ra ti on i n Ch ap te r 17, t he se e qu at io ns"
a re l in ea r (n o m ax im iz at io n i nv ol ve d) s o t he y c an b e s ol ve d u si ng a ny l in ea r a lg eb ra p ac k-
"a ge . Al te rn at iv el y , w e c an a do pt t he a pp ro ac h o f m od if ie d p ol ic y i te ra ti on (s ee p ag e 657),"
u si ng a s im pl if ie d v al ue i te ra ti on p ro ce ss t o u pd at e t he u ti li ty e st im at es a ft er e ac h c ha ng e t o
"t he l ea rn ed m od el . Be ca us e t he m od el u su al ly c ha ng es o nl y s li gh tl y w it h e ac h o bs er va ti on ,"
t he v al ue i te ra ti on p ro ce ss c an u se t he p re vi ou s u ti li ty e st im at es a s i ni ti al v al ue s a nd s ho ul d
c on ve rg e q ui te qu ic kl y .
"Th e p ro ce ss o f l ea rn in g t he m od el i ts el f i s e as y , b ec au se t he e nv ir on me nt i s f ul ly o b-"
s er va bl e . Th is me an st ha tw eh av ea su pe rv is ed le ar ni ng ta sk wh er et he in pu ti sa st at e–a ct io n
"p ai r a nd t he o ut pu t i s t he r es ul ti ng s ta te . In t he s im pl es t c as e , w e c an r ep re se nt t he t ra n-"
s it io n m od el a s a t ab le o f p ro ba bi li ti es . We k ee p t ra ck o f h ow o ft en e ac h a ct io n o ut co me
o cc ur s a nd e st im at e t he t ra ns it io n p ro ba bi li ty
"P(s(c id:2)|s ,a)"
f ro m t he f re qu en cy w it h w hi ch
s(c id:2)
"i s r ea ch ed w he n e xe cu ti ng a i n s . Fo re xa mp le , i n t he t hr ee t ri al s g iv en o n p ag e 832, Ri gh t"
"i s e xe cu te d t hr ee t im es i n (1,3) a nd t wo o ut o f t hr ee t im es t he r es ul ti ng s ta te i s (2,3), s o"
"P((2,3)|(1,3),Ri gh t)i se st im at ed to be 2/3."
Se ct io n 21.2. Pa ss iv e Re in fo rc em en t Le ar ni ng 835
1
0.8
0.6
0.4
0.2
0
0 20 40 60 80 100
s et am it se
y ti li t U
0.6
"(4,3)"
"(3,3) 0.5"
"(1,3)"
0.4
"(1,1)"
"(3,2)"
0.3
0.2
0.1
0
0 20 40 60 80 100
Nu mb er o f t ri al s
y ti li tu
n i
r or re
SMR
Nu mb er o f t ri al s
(a) (b)
"Fi gu re 21.3 Th ep as si ve ADPl ea rn in gc ur ve sf or th e 4×3 w or ld ,g iv en th eo pt im al po li cy"
"s ho wn in Fi gu re 21.1. (a)Th eu ti li ty es ti ma te sf or as el ec te ds ub se to fs ta te s , a sa f un ct io n"
o ft he nu mb er of tr ia ls . No ti ce th el ar ge ch an ge so cc ur ri ng ar ou nd th e 78 t ht ri al—t hi si st he
"f ir st t im e t ha t t he a ge nt f al ls i nt o t he −1 t er mi na l s ta te a t (4,2). (b) Th e r oo t-m ea n-s qu ar e"
"e rr or(s ee Ap pe nd ix A)i nt he es ti ma te fo r U(1,1),a ve ra ge do ve r 20 r un so f 100 t ri al se ac h ."
Th e f ul l a ge nt p ro gr am f or a p as si ve ADP a ge nt i s s ho wn i n Fi gu re 21.2. It s p er fo r-
m an ce o n t he 4×3 w or ld i s s ho wn i n Fi gu re 21.3. In t er ms o f h ow q ui ck ly i ts v al ue e s-
"t im at es i mp ro ve , t he ADP a ge nt i s l im it ed o nl y b y i ts a bi li ty t o l ea rn t he t ra ns it io n m od el ."
"In t hi s s en se , i t p ro vi de s a s ta nd ar d a ga in st w hi ch t o m ea su re o th er r ei nf or ce me nt l ea rn in g"
"a lg or it hm s . It is ,h ow ev er , i nt ra ct ab le f or la rg e s ta te sp ac es . In ba ck ga mm on , f or ex am pl e , i t"
w ou ld in vo lv e s ol vi ng ro ug hl y 1050 e qu at io ns i n 1050 u nk no wn s .
Ar ea de rf am il ia rw it ht he Ba ye si an le ar ni ng i de as of Ch ap te r 20 w il lh av en ot ic ed t ha t
t he a lg or it hm i n Fi gu re 21.2 i s u si ng m ax im um-l ik el ih oo d e st im at io n t o l ea rn t he t ra ns it io n
"m od el ; m or eo ve r , b y c ho os in g a p ol ic y b as ed s ol el y o n t he e st im at ed m od el i t i s a ct in g a s"
"i f t he m od el w er e c or re ct . Th is i s n ot n ec es sa ri ly a g oo d i de a ! Fo r e xa mp le , a t ax i a ge nt"
t ha t d id n’t k no w a bo ut h ow t ra ff ic l ig ht s m ig ht i gn or e a r ed l ig ht o nc e o r t wi ce w it ho ut n o
"i ll e ff ec ts a nd t he n f or mu la te a p ol ic y t o i gn or e r ed l ig ht s f ro m t he n o n . In st ea d , i t m ig ht"
"b e a g oo d i de a t o c ho os e a p ol ic y t ha t , w hi le n ot o pt im al f or t he m od el e st im at ed b y m ax i-"
"m um li ke li ho od , w or ks re as on ab ly we ll fo rt he wh ol er an ge of m od el st ha th av ea re as on ab le"
c ha nc eo fb ei ng th et ru em od el . Th er ea re tw om at he ma ti ca la pp ro ac he s t ha th av et hi sf la vo r .
BAYESIAN
"Th e f ir st a pp ro ac h , Ba ye si an r ei nf or ce me nt l ea rn in g , a ss um es a p ri or p ro ba bi li ty"
REINFORCEMENT
LEARNING P(h)f or ea ch hy po th es is h ab ou tw ha tt he tr ue mo de li s ;t he po st er io rp ro ba bi li ty P(h|e)i s
"o bt ai ne di nt he us ua lw ay by Ba ye s’r ul eg iv en th eo bs er va ti on st od at e . Th en ,i ft he ag en th as"
"d ec id ed t os to p l ea rn in g , t he o pt im al p ol ic y i st he on e t ha t g iv es t he hi gh es t e xp ec te d u ti li ty ."
"Le t uπ b e t he e xp ec te d u ti li ty , a ve ra ge d o ve r a ll p os si bl e s ta rt s ta te s , o bt ai ne d b y e xe cu ti ng"
h
p ol ic yπ i nm od el h . Th en we ha ve
(c id:12)
π∗ = a rg ma x P(h|e)uπ .
h
π
h
836 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"In s om es pe ci al c as es , t hi s p ol ic y c an e ve n b e c om pu te d ! If t he a ge nt w il lc on ti nu e l ea rn in g"
"i n t he f ut ur e , h ow ev er , t he n f in di ng a n o pt im al p ol ic y b ec om es c on si de ra bl y m or e d if fi cu lt ,"
b ec au se t he a ge nt m us t c on si de r t he e ff ec ts o f f ut ur e o bs er va ti on s o n i ts b el ie fs a bo ut t he
t ra ns it io n m od el . Th ep ro bl em b ec om es a POMDPw ho se be li ef s ta te s a re di st ri bu ti on s o ve r
m od el s . Th is c on ce pt p ro vi de s a n a na ly ti ca l f ou nd at io n f or u nd er st an di ng t he e xp lo ra ti on
p ro bl em d es cr ib ed i n Se ct io n 21.3.
"ROBUSTCONTROL Th es ec on d a pp ro ac h , d er iv ed f ro m r ob us tc on tr ol th eo ry , a ll ow sf or as et of po ss ib le"
THEORY
m od el s Ha nd de fi ne sa no pt im al ro bu st po li cy as on et ha tg iv es th eb es to ut co me in th ew or st
c as eo ve r H:
π∗ = a rg ma xm in uπ .
h
π h
"Of te n , t he se t H w il lb et he se to fm od el s t ha te xc ee ds om el ik el ih oo d t hr es ho ld o n P(h|e),"
"s o t he r ob us t a nd Ba ye si an a pp ro ac he s a re r el at ed . So me ti me s , t he r ob us t s ol ut io n c an b e"
"c om pu te d e ff ic ie nt ly . Th er e a re , m or eo ve r , r ei nf or ce me nt l ea rn in g a lg or it hm s t ha t t en d t o"
"p ro du ce r ob us ts ol ut io ns , a lt ho ug hw ed on ot co ve rt he mh er e ."
21.2.3 Te mp or al-d if fe re nc e l ea rn in g
So lv in g t he u nd er ly in g MDP a s i n t he p re ce di ng s ec ti on i s n ot t he o nl y w ay t o b ri ng t he
Be ll ma n e qu at io ns t o b ea r o n t he l ea rn in g p ro bl em . An ot he r w ay i s t o u se t he o bs er ve d
t ra ns it io ns t o a dj us t t he u ti li ti es o f t he o bs er ve d s ta te s s o t ha t t he y a gr ee w it h t he c on st ra in t
"e qu at io ns . Co ns id er , f or e xa mp le , t he t ra ns it io n f ro m (1,3) t o (2,3) i n t he s ec on d t ri al o n"
"p ag e 832. Su pp os e t ha t , a s a r es ul t o f t he f ir st tr ia l , t he u ti li ty e st im at es a re Uπ(1,3)=0.84"
"a nd Uπ(2,3)=0.92. No w ,i ft hi s t ra ns it io n o cc ur re d a ll th e t im e ,w ew ou ld e xp ec t t he ut il i-"
t ie st oo be yt he eq ua ti on
"Uπ(1,3) = −0.04+Uπ(2,3),"
"s o Uπ(1,3)w ou ld be 0.88. Th us ,i ts cu rr en te st im at eo f 0.84 m ig ht be al it tl el ow an ds ho ul d"
(c id:2)
"b e i nc re as ed . Mo re g en er al ly , w he n a t ra ns it io n o cc ur s f ro m s ta te s t o s ta te s , w ea pp ly t he"
f ol lo wi ng up da te to Uπ(s):
Uπ(s) ← Uπ(s)+α(R(s)+γUπ(s(c id:2) )−Uπ(s)). (21.3)
"He re ,αi st he le ar ni ng ra te pa ra me te r . Be ca us et hi su pd at er ul eu se st he di ff er en ce in ut il it ie s"
"TEMPORAL- b et we en su cc es si ve st at es , i ti so ft en ca ll ed th et em po ra l-d if fe re nc e , o r TD ,e qu at io n ."
DIFFERENCE
Al l t em po ra l-d if fe re nc e m et ho ds w or k b y a dj us ti ng t he u ti li ty e st im at es t ow ar ds t he
i de al eq ui li br iu m t ha th ol ds lo ca ll y w he nt he ut il it y e st im at es a re co rr ec t . In th ec as eo fp as-
"s iv el ea rn in g , t he eq ui li br iu m i sg iv en b y Eq ua ti on (21.2). No w Eq ua ti on (21.3) d oe s i n f ac t"
"c au se t he ag en tt or ea ch th ee qu il ib ri um g iv en by Eq ua ti on (21.2), b ut th er e i ss om es ub tl et y"
(c id:2)
"i nv ol ve d . Fi rs t , n ot ic e t ha t t he u pd at e i nv ol ve s o nl y t he o bs er ve d s uc ce ss or s , w he re as t he"
a ct ua le qu il ib ri um co nd it io ns in vo lv ea ll po ss ib le ne xt st at es . On em ig ht th in kt ha tt hi sc au se s
"a ni mp ro pe rl y l ar ge ch an ge in Uπ(s)w he na ve ry ra re tr an si ti on o cc ur s ;b ut ,i nf ac t ,b ec au se"
"r ar e t ra ns it io ns o cc ur o nl y r ar el y , t he a ve ra ge v al ue o f Uπ(s) w il l c on ve rg e t o t he c or re ct"
"v al ue . Fu rt he rm or e , i f w e c ha ng e α f ro m a f ix ed p ar am et er t o a f un ct io n t ha t d ec re as es a s"
"t he nu mb er of ti me sa st at e h as be en v is it ed i nc re as es , t he n Uπ(s)i ts el f w il lc on ve rg e t ot he"
Se ct io n 21.2. Pa ss iv e Re in fo rc em en t Le ar ni ng 837
f un ct io n PASSIVE-TD-AGENT(p er ce pt)r et ur ns an ac ti on
"i np ut s:p er ce pt ,a pe rc ep ti nd ic at in gt he cu rr en ts ta te s(c id:5)a nd re wa rd si gn al r(c id:5)"
"p er si st en t: π,a fi xe dp ol ic y"
"U ,a ta bl eo fu ti li ti es ,i ni ti al ly em pt y"
"Ns ,a ta bl eo ff re qu en ci es fo rs ta te s ,i ni ti al ly ze ro"
"s ,a ,r ,t he pr ev io us st at e ,a ct io n ,a nd re wa rd ,i ni ti al ly nu ll"
i fs(c id:5)i sn ew th en U[s(c id:5)]←r(c id:5)
i fs i sn ot nu ll th en
i nc re me nt Ns[s]
U[s]←U[s] + α(Ns[s])(r + γU[s(c id:5)] − U[s])
"i fs(c id:5).TERMINAL ?t he ns ,a ,r←n ul le ls es ,a ,r←s(c id:5),π[s(c id:5)],r(c id:5)"
r et ur na
Fi gu re 21.4 Ap as si ve re in fo rc em en tl ea rn in ga ge nt th at le ar ns ut il it ye st im at es us in gt em-
"p or al di ff er en ce s .Th es te p-s iz ef un ct io nα(n)i sc ho se nt oe ns ur ec on ve rg en ce ,a sd es cr ib ed"
i nt he te xt .
c or re ct v al ue .1 Th is gi ve su st he ag en tp ro gr am s ho wn in Fi gu re 21.4. Fi gu re 21.5 i ll us tr at es
t he pe rf or ma nc e o ft he pa ss iv e TDa ge nt on th e 4×3 w or ld . It do es no tl ea rn qu it ea sf as ta s
"t he ADPa ge nt a nd s ho ws m uc hh ig he r v ar ia bi li ty , b ut i ti sm uc h s im pl er an d r eq ui re s m uc h"
l es sc om pu ta ti on pe ro bs er va ti on . No ti ce th at TDd oe sn ot ne ed at ra ns it io nm od el to pe rf or m
i ts up da te s . Th ee nv ir on me nt s up pl ie st he co nn ec ti on b et we en ne ig hb or in g s ta te si nt he fo rm
o fo bs er ve d t ra ns it io ns .
Th e ADPa pp ro ac h a nd th e TDa pp ro ac h a re ac tu al ly c lo se ly r el at ed . Bo th tr yt om ak e
l oc al a dj us tm en ts t ot he u ti li ty e st im at es i no rd er to ma ke ea ch s ta te “a gr ee” w it hi ts su cc es-
s or s . On e d if fe re nc e i s t ha t TD a dj us ts a s ta te t o a gr ee w it h i ts o bs er ve d s uc ce ss or (Eq ua-
"t io n (21.3)), w he re as ADP a dj us ts t he s ta te t o a gr ee w it h a ll o f t he s uc ce ss or s t ha t m ig ht"
"o cc ur , w ei gh te d b y t he ir p ro ba bi li ti es (Eq ua ti on (21.2)). Th is d if fe re nc e d is ap pe ar s w he n"
"t he e ff ec ts o f TD a dj us tm en ts a re a ve ra ge d o ve r a l ar ge n um be r o f t ra ns it io ns , b ec au se t he"
f re qu en cy of ea ch su cc es so ri nt he se to ft ra ns it io ns is ap pr ox im at el yp ro po rt io na lt oi ts pr ob-
a bi li ty . A m or e i mp or ta nt d if fe re nc e i s t ha t w he re as TD m ak es a s in gl e a dj us tm en t p er o b-
"s er ve d t ra ns it io n , ADP m ak es a s m an y a s i t n ee ds t o r es to re c on si st en cy b et we en t he u ti li ty"
e st im at es U a nd t he e nv ir on me nt m od el P . Al th ou gh t he o bs er ve d t ra ns it io n m ak es o nl y a
"l oc al c ha ng e i n P , i ts e ff ec ts m ig ht n ee d t o b e p ro pa ga te d t hr ou gh ou t U . Th us , TD c an b e"
v ie we da sa cr ud eb ut ef fi ci en tf ir st ap pr ox im at io n t o ADP .
"Ea ch a dj us tm en t m ad e b y ADP c ou ld b e s ee n , f ro m t he TD p oi nt o f v ie w , a s a r e-"
s ul t o f a “p se ud oe xp er ie nc e” g en er at ed b y s im ul at in g t he c ur re nt e nv ir on me nt m od el . It
i s p os si bl e t o e xt en d t he TD a pp ro ac h t o u se a n e nv ir on me nt m od el t o g en er at e s ev er al
"p se ud oe xp er ie nc es—t ra ns it io ns th at th e TDa ge nt ca ni ma gi ne mi gh th ap pe n ,g iv en it sc ur re nt"
"m od el . Fo re ac ho bs er ve dt ra ns it io n , t he TDa ge nt ca ng en er at e a la rg en um be ro fi ma gi na ry"
"1 Th et ec hn ic al c on di ti on sa re gi ve n o np ag e 725. In Fi gu re 21.5 w eh av eu se dα(n)=60/(59+n), w hi ch"
s at is fi es th ec on di ti on s .
838 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
1
0.8
0.6
0.4
0.2
0
0 100 200 300 400 500
s et am it se
y ti li t U
0.6
"(4,3)"
"(3,3) 0.5"
"(1,3)"
"(1,1) 0.4"
"(2,1)"
0.3
0.2
0.1
0
0 20 40 60 80 100
Nu mb er o f t ri al s
y ti li tu
n i
r or re
SMR
Nu mb er o f t ri al s
(a) (b)
Fi gu re 21.5 Th e TD l ea rn in gc ur ve sf or th e 4×3 w or ld . (a) Th eu ti li ty e st im at es f or a
"s el ec te ds ub se to fs ta te s ,a sa fu nc ti on of th en um be ro ft ri al s . (b)Th er oo t-m ea n-s qu ar ee rr or"
"i nt he es ti ma te fo r U(1,1),a ve ra ge do ve r 20 r un so f 500 t ri al se ac h . On ly th ef ir st 100 t ri al s"
a re sh ow nt oe na bl ec om pa ri so nw it h Fi gu re 21.3.
"t ra ns it io ns . In th is wa y ,t he re su lt in gu ti li ty es ti ma te sw il la pp ro xi ma te mo re an dm or ec lo se ly"
"t ho se of ADP—o fc ou rs e , a tt he ex pe ns eo fi nc re as ed c om pu ta ti on t im e ."
"In a s im il ar v ei n , w ec an g en er at e m or e e ff ic ie nt v er si on s o f ADPb y d ir ec tl y a pp ro xi-"
m at in g t he a lg or it hm s f or va lu e i te ra ti on o rp ol ic y i te ra ti on . Ev en t ho ug h t he v al ue i te ra ti on
"a lg or it hm i s e ff ic ie nt , i t i s i nt ra ct ab le i f w e h av e , s ay , 10100 s ta te s . Ho we ve r , m an y o f t he"
n ec es sa ry a dj us tm en ts t o t he s ta te v al ue s o n e ac h i te ra ti on w il l b e e xt re me ly t in y . On e p os-
s ib le a pp ro ac h t o g en er at in g r ea so na bl y g oo d a ns we rs q ui ck ly i s t o b ou nd t he n um be r o f
a dj us tm en ts ma de af te re ac ho bs er ve dt ra ns it io n . On ec an al so us ea he ur is ti ct or an kt he po s-
PRIORITIZED s ib le ad ju st me nt ss oa st oc ar ry ou to nl yt he mo st si gn if ic an t o ne s . Th ep ri or it iz ed sw ee pi ng
SWEEPING
h eu ri st ic p re fe rs to ma ke ad ju st me nt s t os ta te sw ho se l ik el ys uc ce ss or s h av ej us tu nd er go ne a
"l ar ge a dj us tm en t i n t he ir o wn u ti li ty e st im at es . Us in g h eu ri st ic s l ik e t hi s , a pp ro xi ma te ADP"
"a lg or it hm su su al ly ca nl ea rn ro ug hl ya sf as ta sf ul l ADP ,i nt er ms of th en um be ro ft ra in in gs e-"
"q ue nc es , b ut ca nb es ev er al or de rs of ma gn it ud em or ee ff ic ie nt in te rm so fc om pu ta ti on . (Se e"
Ex er ci se 21.3.) Th is e na bl es t he m t o h an dl e s ta te s pa ce s t ha t a re f ar t oo l ar ge f or f ul l ADP .
Ap pr ox im at e ADPa lg or it hm s h av ea na dd it io na l a dv an ta ge: i nt he ea rl ys ta ge s o fl ea rn in g a
"n ew e nv ir on me nt , t he e nv ir on me nt m od el P o ft en w il l b e f ar f ro m c or re ct , s o t he re i s l it tl e"
p oi nt in ca lc ul at in ga ne xa ct ut il it yf un ct io nt om at ch it . An ap pr ox im at io na lg or it hm ca nu se
a mi ni mu ma dj us tm en ts iz et ha td ec re as es as th ee nv ir on me nt m od el be co me sm or ea cc ur at e .
Th is e li mi na te s t he v er y l on g v al ue i te ra ti on s t ha t c an o cc ur e ar ly i n l ea rn in g d ue t o l ar ge
c ha ng es i nt he mo de l .
Se ct io n 21.3. Ac ti ve Re in fo rc em en t Le ar ni ng 839
21.3 ACTIVE REINFORCEMENT LEARNING
Ap as si ve le ar ni ng ag en th as af ix ed po li cy th at de te rm in es it sb eh av io r . An ac ti ve ag en tm us t
d ec id e w ha ta ct io ns t ot ak e . Le tu sb eg in wi th th ea da pt iv e d yn am ic pr og ra mm in g a ge nt a nd
c on si de rh ow it mu st be mo di fi ed to ha nd le th is ne wf re ed om .
"Fi rs t , t he a ge nt w il l n ee d t o l ea rn a c om pl et e m od el w it h o ut co me p ro ba bi li ti es f or a ll"
"a ct io ns , r at he rt ha nj us t t he mo de lf or th ef ix ed po li cy . Th es im pl el ea rn in g m ec ha ni sm u se d"
"b y PASSIVE-ADP-AGENT w il l d o j us t f in e f or t hi s . Ne xt , w e n ee d t o t ak e i nt o a cc ou nt t he"
f ac t t ha tt he a ge nt h as ac ho ic e o fa ct io ns . Th eu ti li ti es i tn ee ds t ol ea rn a re th os e d ef in ed b y
"t he op ti ma lp ol ic y ;t he yo be yt he Be ll ma ne qu at io ns gi ve no np ag e 652,w hi ch we re pe at he re"
f or co nv en ie nc e:
(c id:12)
U(s) = R(s)+γ m ax
"P(s(c id:2)|s ,a)U(s(c id:2)"
). (21.4)
a
s(c id:3)
Th es e e qu at io ns c an b e s ol ve d t o o bt ai n t he u ti li ty f un ct io n U u si ng t he v al ue i te ra ti on o r
p ol ic yi te ra ti on al go ri th ms fr om Ch ap te r 17. Th ef in al is su ei sw ha tt od oa te ac hs te p . Ha vi ng
"o bt ai ne d a u ti li ty f un ct io n U t ha t i s o pt im al f or t he l ea rn ed m od el , t he a ge nt c an e xt ra ct a n"
"o pt im al a ct io n b y o ne-s te p l oo k-a he ad t o m ax im iz e t he e xp ec te d u ti li ty ; a lt er na ti ve ly , i f i t"
"u se s p ol ic y i te ra ti on , t he o pt im al p ol ic y i s a lr ea dy a va il ab le , s o i t s ho ul d s im pl y e xe cu te t he"
a ct io nt he op ti ma lp ol ic yr ec om me nd s . Or sh ou ld it ?
21.3.1 Ex pl or at io n
Fi gu re 21.6 s ho ws t he r es ul ts o f o ne s eq ue nc e o f t ri al s f or a n ADP a ge nt t ha t f ol lo ws t he
r ec om me nd at io n o f t he o pt im al p ol ic y f or t he l ea rn ed m od el a t e ac h s te p . Th e a ge nt d oe s
"n ot l ea rn t he t ru e u ti li ti es o r t he t ru e o pt im al p ol ic y ! Wh at h ap pe ns i ns te ad i s t ha t , i n t he"
"39 t h t ri al , i t f in ds a p ol ic y t ha t r ea ch es t he +1 r ew ar d a lo ng t he l ow er r ou te v ia (2,1), (3,1),"
"(3,2), a nd (3,3). (Se e Fi gu re 21.6(b).) Af te r e xp er im en ti ng w it h m in or v ar ia ti on s , f ro m t he"
"276 t h t ri al o nw ar d i t s ti ck s t o t ha t p ol ic y , n ev er l ea rn in g t he u ti li ti es o f t he o th er s ta te s a nd"
"n ev er fi nd in gt he op ti ma lr ou te vi a(1,2),(1,3),a nd(2,3). We ca ll th is ag en tt he gr ee dy ag en t ."
GREEDYAGENT
Re pe at ed ex pe ri me nt ss ho wt ha tt he gr ee dy ag en tv er ys el do mc on ve rg es to th eo pt im al po li cy
f or th is en vi ro nm en t a nd so me ti me sc on ve rg es t or ea ll yh or re nd ou s p ol ic ie s .
Ho wc an it be th at ch oo si ng th eo pt im al ac ti on le ad st os ub op ti ma lr es ul ts ? Th ea ns we r
i s t ha t t he l ea rn ed m od el i s n ot t he s am e a s t he t ru e e nv ir on me nt ; w ha t i s o pt im al i n t he
"l ea rn ed m od el ca nt he re fo re b es ub op ti ma l i nt he tr ue en vi ro nm en t . Un fo rt un at el y , t he ag en t"
"d oe s n ot k no w w ha t t he t ru e e nv ir on me nt i s , s o i t c an no t c om pu te t he o pt im al a ct io n f or th e"
"t ru ee nv ir on me nt . Wh at ,t he n ,i st ob ed on e ?"
Wh at t he g re ed y a ge nt h as o ve rl oo ke d i s t ha t a ct io ns d o m or e t ha n p ro vi de r ew ar ds
a cc or di ng t ot he cu rr en tl ea rn ed mo de l ;t he ya ls oc on tr ib ut e t ol ea rn in g t he tr ue mo de lb ya f-
"f ec ti ng th ep er ce pt s t ha ta re re ce iv ed . By im pr ov in gt he mo de l ,t he ag en tw il lr ec ei ve gr ea te r"
r ew ar ds i n t he f ut ur e .2 An a ge nt t he re fo re m us t m ak e a t ra de of f b et we en e xp lo it at io n t o
EXPLOITATION
m ax im iz e i ts r ew ar d—a s r ef le ct ed i ni ts c ur re nt u ti li ty e st im at es—a nd e xp lo ra ti on t o m ax i-
EXPLORATION
2 No ti ce th ed ir ec ta na lo gy to th et he or yo fi nf or ma ti on va lu ei n Ch ap te r 16.
840 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
2
1.5
1
0.5
0
0 50 100 150 200 250 300 350 400 450 500
s so l
y ci lo p
",r or re"
SMR
3 +1
RMS e rr or
Po li cy l os s
2 –1
1
1 2 3 4
Nu mb er o f t ri al s
(a) (b)
Fi gu re 21.6 Pe rf or ma nc eo fa g re ed y ADP a ge nt th at ex ec ut es th e a ct io nr ec om me nd ed
b yt he op ti ma lp ol ic yf or th el ea rn ed mo de l . (a)RMSe rr or in th eu ti li ty es ti ma te sa ve ra ge d
o ve r t he n in e n on te rm in al s qu ar es . (b) Th e s ub op ti ma l p ol ic y t o w hi ch t he g re ed y a ge nt
c on ve rg es in th is pa rt ic ul ar se qu en ce of tr ia ls .
m iz ei ts lo ng-t er m w el l-b ei ng . Pu re ex pl oi ta ti on r is ks ge tt in gs tu ck in ar ut . Pu re ex pl or at io n
t oi mp ro ve on e’s kn ow le dg ei so fn ou se if on en ev er pu ts th at kn ow le dg ei nt op ra ct ic e . In th e
"r ea l w or ld , o ne c on st an tl y h as t o d ec id e b et we en c on ti nu in g i n a c om fo rt ab le e xi st en ce a nd"
s tr ik in g o ut in to th eu nk no wn i nt he ho pe s o fd is co ve ri ng a ne wa nd be tt er li fe . Wi th g re at er
"u nd er st an di ng , l es se xp lo ra ti on i sn ec es sa ry ."
Ca nw eb e a li tt le m or e p re ci se t ha n t hi s ? Is th er e a n o pt im al e xp lo ra ti on p ol ic y ? Th is
q ue st io nh as be en st ud ie di nd ep th in th es ub fi el do fs ta ti st ic al de ci si on th eo ry th at de al sw it h
s o-c al le d b an di tp ro bl em s . (Se es id eb ar .)
BANDITPROBLEM
Al th ou gh b an di t p ro bl em s a re e xt re me ly d if fi cu lt t o s ol ve e xa ct ly t o o bt ai n a n o pt im al
"e xp lo ra ti on m et ho d , i t i s n on et he le ss p os si bl e t o c om e u p w it h a r ea so na bl e s ch em e t ha t"
"w il l e ve nt ua ll y l ea d t o o pt im al b eh av io r b y t he a ge nt . Te ch ni ca ll y , a ny s uc h s ch em e n ee ds"
"t o b e g re ed y i n t he l im it o f i nf in it e e xp lo ra ti on , o r GLIE . A GLIE s ch em e m us t t ry e ac h"
GLIE
a ct io n i n e ac h s ta te a n u nb ou nd ed n um be r o f t im es t o a vo id h av in g a f in it e p ro ba bi li ty t ha t
a n o pt im al a ct io n i sm is se d b ec au se o f a n u nu su al ly b ad s er ie s o f o ut co me s . An ADPa ge nt
u si ng su ch as ch em ew il le ve nt ua ll yl ea rn th et ru ee nv ir on me nt m od el . AGLIEs ch em em us t
"a ls oe ve nt ua ll yb ec om eg re ed y ,s ot ha tt he ag en t’s ac ti on sb ec om eo pt im al wi th re sp ec tt ot he"
l ea rn ed(a nd he nc et he tr ue)m od el .
Th er ea re se ve ra l GLIEs ch em es ;o ne of th es im pl es t i st oh av e t he ag en tc ho os e a ra n-
d om a ct io n a f ra ct io n 1/t o f t he t im e a nd t o f ol lo w t he g re ed y p ol ic y o th er wi se . Wh il e t hi s
"d oe s e ve nt ua ll y c on ve rg e t o a n o pt im al p ol ic y , i t c an b e e xt re me ly s lo w . A m or e s en si bl e"
"a pp ro ac h w ou ld g iv e s om e w ei gh t t o a ct io ns t ha t t he a ge nt h as n ot t ri ed v er y o ft en , w hi le"
t en di ng t o a vo id a ct io ns t ha t a re b el ie ve d t o b e o f l ow u ti li ty . Th is c an b e i mp le me nt ed b y
a lt er in g t he c on st ra in t e qu at io n (21.4) s o t ha t i t a ss ig ns a h ig he r u ti li ty e st im at e t o r el at iv el y
Se ct io n 21.3. Ac ti ve Re in fo rc em en t Le ar ni ng 841
EXPLORATION AND BANDITS
"In La s Ve ga s , a o ne-a rm ed b an di t i s a s lo t m ac hi ne . A g am bl er c an i ns er t a c oi n ,"
"p ul lt he le ve r , a nd c ol le ct t he wi nn in gs (i fa ny). An n-a rm ed ba nd it ha sn le ve rs ."
Th e g am bl er m us t c ho os e w hi ch l ev er t o p la y o n e ac h s uc ce ss iv e c oi n—t he o ne
"t ha th as pa id of fb es t ,o rm ay be on et ha th as no tb ee nt ri ed ?"
Th en-a rm ed ba nd it p ro bl em i sa fo rm al m od el fo rr ea l p ro bl em s i nm an yv i-
"t al ly i mp or ta nt a re as , s uc h a s d ec id in g o n t he a nn ua l b ud ge t f or AI r es ea rc h a nd"
d ev el op me nt . Ea ch a rm c or re sp on ds t o a n a ct io n (s uc h a s a ll oc at in g $20 m il li on
"f or th ed ev el op me nt of ne w AIt ex tb oo ks),a nd th ep ay of ff ro mp ul li ng th ea rm co r-"
"r es po nd s t o t he b en ef it s o bt ai ne d f ro m t ak in g t he a ct io n (i mm en se). Ex pl or at io n ,"
w he th er i t i s e xp lo ra ti on o f a n ew r es ea rc h f ie ld o re xp lo ra ti on o f a n ew s ho pp in g
"m al l ,i sr is ky , i se xp en si ve , a nd ha su nc er ta in p ay of fs ; o nt he ot he rh an d , f ai lu re to"
e xp lo re at al lm ea ns th at on en ev er di sc ov er s a ny ac ti on st ha ta re wo rt hw hi le .
"To fo rm ul at ea ba nd it pr ob le mp ro pe rl y ,o ne mu st de fi ne ex ac tl yw ha ti sm ea nt"
b y o pt im al b eh av io r . Mo st d ef in it io ns i n t he l it er at ur e a ss um e t ha t t he a im i s t o
m ax im iz et he ex pe ct ed to ta lr ew ar do bt ai ne d o ve rt he ag en t’s li fe ti me . Th es ed ef i-
n it io ns re qu ir et ha tt he ex pe ct at io nb et ak en ov er th ep os si bl ew or ld st ha tt he ag en t
"c ou ld be in ,a sw el la so ve rt he po ss ib le re su lt so fe ac ha ct io ns eq ue nc ei na ny gi ve n"
"w or ld . He re , a“w or ld” i sd ef in ed by th et ra ns it io n m od el"
"P(s(c id:2)|s ,a)."
"Th us , i no r-"
"d er to a ct o pt im al ly , t he a ge nt n ee ds a pr io r d is tr ib ut io n o ve r t he p os si bl e m od el s ."
Th er es ul ti ng o pt im iz at io n p ro bl em sa re us ua ll yw il dl yi nt ra ct ab le .
"In so me ca se s—f or ex am pl e ,w he nt he pa yo ff of ea ch ma ch in ei si nd ep en de nt"
a nd d is co un te d r ew ar ds a re u se d—i t i s p os si bl e t o c al cu la te a Gi tt in s i nd ex f or
"e ac h s lo t m ac hi ne (Gi tt in s , 1989). Th e i nd ex i s a f un ct io n o nl y o f t he n um be r o f"
t im es th es lo tm ac hi ne ha sb ee np la ye da nd ho wm uc hi th as pa id of f . Th ei nd ex fo r
"e ac hm ac hi ne in di ca te sh ow wo rt hw hi le it is to in ve st mo re ;g en er al ly sp ea ki ng ,t he"
h ig he r t he e xp ec te d r et ur n a nd t he h ig he r t he u nc er ta in ty i n t he u ti li ty o f a g iv en
"c ho ic e , t he b et te r . Ch oo si ng t he m ac hi ne w it h t he h ig he st i nd ex v al ue g iv es a n"
"o pt im al ex pl or at io np ol ic y . Un fo rt un at el y ,n ow ay ha sb ee nf ou nd to ex te nd Gi tt in s"
i nd ic es to se qu en ti al d ec is io n p ro bl em s .
On e c an u se t he t he or y o f n-a rm ed b an di ts t o a rg ue f or t he r ea so na bl en es s
o f t he s el ec ti on s tr at eg y i n g en et ic a lg or it hm s . (Se e Ch ap te r 4.) If y ou c on si de r
"e ac h a rm i n a n n-a rm ed b an di t p ro bl em t o b e a p os si bl e s tr in g o f g en es , a nd t he"
"i nv es tm en t o f a c oi n i n o ne a rm t o b e t he r ep ro du ct io n o f t ho se g en es , t he n i t c an"
"b ep ro ve nt ha tg en et ic al go ri th ms al lo ca te co in so pt im al ly ,g iv en an ap pr op ri at es et"
o fi nd ep en de nc e a ss um pt io ns .
842 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"u ne xp lo re d s ta te–a ct io n p ai rs . Es se nt ia ll y , t hi sa mo un ts t oa no pt im is ti cp ri or ov er th ep os si-"
b le en vi ro nm en ts a nd ca us es t he ag en tt ob eh av e i ni ti al ly a s i ft he re w er ew on de rf ul r ew ar ds
s ca tt er ed a ll ov er th e p la ce . Le tu s u se U+(s)t od en ot e t he o pt im is ti c e st im at e o f t he u ti li ty
"(i .e .,t he ex pe ct ed r ew ar d-t o-g o) o ft he st at e s ,a nd le t N(s ,a)b et he nu mb er of ti me sa ct io n"
a h as b ee n t ri ed i n s ta te s . Su pp os e w e a re u si ng v al ue i te ra ti on i n a n ADP l ea rn in g a ge nt ;
t he nw en ee dt or ew ri te th eu pd at ee qu at io n (Eq ua ti on(17.6) o np ag e 652)t oi nc or po ra te t he
o pt im is ti ce st im at e . Th ef ol lo wi ng eq ua ti on d oe st hi s:
(c id:13) (c id:14)
(c id:2)
"U+(s) ← R(s)+γ m ax f P(s(c id:2)|s ,a)U+(s(c id:2) ), N(s ,a) . (21.5)"
a s(c id:3)
"EXPLORATION He re , f(u ,n) i s c al le d t he e xp lo ra ti on f un ct io n . It d et er mi ne s h ow g re ed (p re fe re nc e f or"
FUNCTION
h ig h v al ue s o f u) i s t ra de d o ff a ga in st c ur io si ty (p re fe re nc e f or a ct io ns t ha t h av e n ot b ee n
"t ri ed o ft en a nd h av e l ow n). Th e f un ct io n f(u ,n) s ho ul d b e i nc re as in g i n u a nd d ec re as in g"
"i nn . Ob vi ou sl y , t he re ar em an yp os si bl e f un ct io ns t ha tf it th es e c on di ti on s . On ep ar ti cu la rl y"
s im pl ed ef in it io ni s
(c id:24)
R+ i fn< N
"f(u ,n) = e"
u o th er wi se
w he re R+ i sa no pt im is ti ce st im at eo ft he be st po ss ib le re wa rd ob ta in ab le in an ys ta te an d N
e
i s a f ix ed p ar am et er . Th is w il l h av e t he e ff ec t o f m ak in g t he a ge nt t ry e ac h a ct io n–s ta te p ai r
a tl ea st N t im es .
e
Th e f ac t t ha t U+ r at he r t ha n U a pp ea rs o n t he r ig ht-h an d s id e o f Eq ua ti on (21.5) i s
"v er yi mp or ta nt . As ex pl or at io n p ro ce ed s ,t he st at es an da ct io ns ne ar th es ta rt st at em ig ht we ll"
"b e t ri ed a l ar ge n um be r o f t im es . If w e u se d U , t he m or e p es si mi st ic u ti li ty e st im at e , t he n"
t he a ge nt w ou ld s oo n b ec om e d is in cl in ed t o e xp lo re f ur th er a fi el d . Th e u se o f U+ m ea ns
"t ha t t he b en ef it s o f e xp lo ra ti on a re p ro pa ga te d b ac k f ro m t he e dg es o f u ne xp lo re d r eg io ns ,"
"s o t ha t a ct io ns t ha t l ea d t ow ar d u ne xp lo re d r eg io ns a re w ei gh te d m or e h ig hl y , r at he r t ha n"
j us t a ct io ns t ha t a re t he ms el ve s u nf am il ia r . Th ee ff ec t o f t hi s e xp lo ra ti on p ol ic y c an b e s ee n
"c le ar ly in Fi gu re 21.7,w hi ch sh ow sa ra pi dc on ve rg en ce t ow ar do pt im al pe rf or ma nc e , u nl ik e"
t ha to ft he gr ee dy ap pr oa ch . Av er yn ea rl yo pt im al po li cy is fo un da ft er ju st 18 t ri al s . No ti ce
t ha t t he u ti li ty e st im at es t he ms el ve s d o n ot c on ve rg e a s q ui ck ly . Th is i s b ec au se t he a ge nt
"s to ps e xp lo ri ng t he u nr ew ar di ng p ar ts o f t he s ta te s pa ce f ai rl y s oo n , v is it in g t he m o nl y “b y"
"a cc id en t”t he re af te r . Ho we ve r ,i tm ak es pe rf ec ts en se fo rt he ag en tn ot to ca re ab ou tt he ex ac t"
u ti li ti es o fs ta te st ha ti tk no ws ar eu nd es ir ab le a nd ca nb ea vo id ed .
21.3.2 Le ar ni ng a na ct io n-u ti li ty f un ct io n
"No wt ha tw eh av ea n a ct iv e ADPa ge nt , l et us co ns id er h ow t oc on st ru ct a na ct iv et em po ra l-"
d if fe re nc e l ea rn in g a ge nt . Th e m os t o bv io us c ha ng e f ro m t he p as si ve c as e i s t ha t t he a ge nt
"i s n o l on ge r e qu ip pe d w it h a f ix ed p ol ic y , s o , i f i t l ea rn s a u ti li ty f un ct io n U , i t w il l n ee d t o"
l ea rn a m od el i n o rd er t o b e a bl e t o c ho os e a n a ct io n b as ed o n U v ia o ne-s te p l oo k-a he ad .
Th em od el ac qu is it io n p ro bl em fo rt he TDa ge nt is id en ti ca lt ot ha tf or th e ADPa ge nt . Wh at
"o ft he TDu pd at er ul ei ts el f ? Pe rh ap ss ur pr is in gl y , t he up da te ru le(21.3)r em ai ns un ch an ge d ."
"Th is mi gh ts ee m o dd , f or th ef ol lo wi ng r ea so n: Su pp os et he ag en t t ak es as te p t ha tn or ma ll y"
Se ct io n 21.3. Ac ti ve Re in fo rc em en t Le ar ni ng 843
2.2
2
1.8
1.6
1.4
1.2
1
0.8
0.6
0 20 40 60 80 100
s et am it se
y ti li t U
"(1,1) 1.4"
"(1,2)"
"(1,3) 1.2"
"(2,3)"
"(3,2) 1"
"(3,3)"
"(4,3) 0.8"
0.6
0.4
0.2
0
0 20 40 60 80 100
Nu mb er o f t ri al s
s so l
y ci lo p
",r or re"
SMR
RMS e rr or
Po li cy l os s
Nu mb er o f t ri al s
(a) (b)
Fi gu re 21.7 Pe rf or ma nc eo ft he ex pl or at or y ADPa ge nt . u si ng R+ = 2 a nd Ne = 5. (a)
Ut il it y e st im at es f or s el ec te d s ta te s o ve rt im e . (b) Th e RMS e rr or i n u ti li ty v al ue s a nd t he
a ss oc ia te dp ol ic yl os s .
"l ea ds to ag oo dd es ti na ti on ,b ut be ca us eo fn on de te rm in is m i nt he en vi ro nm en tt he ag en te nd s"
u pi na ca ta st ro ph ic st at e . Th e TDu pd at er ul ew il lt ak et hi sa ss er io us ly as if th eo ut co me ha d
"b ee n t he n or ma l r es ul t o f t he a ct io n , w he re as o ne m ig ht s up po se t ha t , b ec au se t he o ut co me"
"w as a f lu ke , t he a ge nt s ho ul d n ot w or ry a bo ut i t t oo m uc h . In f ac t , o f c ou rs e , t he u nl ik el y"
o ut co me w il l o cc ur o nl y i nf re qu en tl y i n a l ar ge s et o f t ra in in g s eq ue nc es ; h en ce i n t he l on g
"r un i ts e ff ec ts w il l b e w ei gh te d p ro po rt io na ll y t o i ts p ro ba bi li ty , a s w e w ou ld h op e . On ce"
"a ga in ,i tc an be sh ow nt ha tt he TDa lg or it hm w il lc on ve rg e t ot he sa me va lu es as ADPa st he"
n um be ro ft ra in in gs eq ue nc es t en ds to in fi ni ty .
"Th er e i s a n a lt er na ti ve TD m et ho d , c al le d Q-l ea rn in g , w hi ch l ea rn s a n a ct io n-u ti li ty"
"r ep re se nt at io n i ns te ad o f l ea rn in g u ti li ti es . We w il l u se t he n ot at io n Q(s ,a) t o d en ot e t he"
v al ue of do in ga ct io na in st at es . Q-v al ue sa re di re ct ly re la te d t ou ti li ty va lu es as fo ll ow s:
"U(s) = m ax Q(s ,a). (21.6)"
a
"Q-f un ct io ns m ay s ee m l ik e j us t a no th er w ay o f s to ri ng u ti li ty i nf or ma ti on , b ut t he y h av e a"
v er y i mp or ta nt p ro pe rt y: a TD a ge nt t ha t l ea rn s a Q-f un ct io n d oe s n ot n ee d a m od el o f t he
f or m
"P(s(c id:2)|s ,a),"
"e it he r f or l ea rn in g o r f or a ct io n s el ec ti on . Fo r t hi s r ea so n , Q-l ea rn in g i s"
"c al le d a m od el-f re e m et ho d . As w it h u ti li ti es , w e c an w ri te a c on st ra in t e qu at io n t ha t m us t"
h ol da te qu il ib ri um w he nt he Q-v al ue sa re co rr ec t:
MODEL-FREE
(c id:12)
"Q(s ,a) = R(s)+γ"
"P(s(c id:2)|s ,a)m ax Q(s(c id:2) ,a(c id:2)"
). (21.7)
a(c id:3)
s(c id:3)
"As i n t he ADP l ea rn in g a ge nt , w e c an u se t hi s e qu at io n d ir ec tl y a s a n u pd at e e qu at io n f or"
"a n i te ra ti on p ro ce ss t ha t c al cu la te s e xa ct Q-v al ue s , g iv en a n e st im at ed m od el . Th is d oe s ,"
"h ow ev er , r eq ui re t ha t a m od el a ls o b e l ea rn ed , b ec au se t he e qu at io n u se s"
"P(s(c id:2)|s ,a)."
Th e
"t em po ra l-d if fe re nc e a pp ro ac h , o n t he o th er h an d , r eq ui re s n o m od el o f s ta te t ra ns it io ns—a ll"
844 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
f un ct io n Q-LEARNING-AGENT(p er ce pt)r et ur ns an ac ti on
"i np ut s:p er ce pt ,a pe rc ep ti nd ic at in gt he cu rr en ts ta te s(c id:5)a nd re wa rd si gn al r(c id:5)"
"p er si st en t: Q ,a ta bl eo fa ct io nv al ue si nd ex ed by st at ea nd ac ti on ,i ni ti al ly ze ro"
"Ns a ,a ta bl eo ff re qu en ci es fo rs ta te–a ct io np ai rs ,i ni ti al ly ze ro"
"s ,a ,r ,t he pr ev io us st at e ,a ct io n ,a nd re wa rd ,i ni ti al ly nu ll"
"i f TERMINAL ?(s)t he n Q[s ,No ne]←r(c id:5)"
i fs i sn ot nu ll th en
"i nc re me nt Ns a[s ,a]"
"Q[s ,a]←Q[s ,a] + α(Ns a[s ,a])(r + γ m ax a(c id:3) Q[s(c id:5),a(c id:5)] − Q[s ,a])"
"s ,a ,r←s(c id:5),a rg ma x"
a(c id:3)
"f(Q[s(c id:5),a(c id:5)],Ns a[s(c id:5),a(c id:5)]),r(c id:5)"
r et ur na
Fi gu re 21.8 An ex pl or at or y Q-l ea rn in ga ge nt . It is an ac ti ve le ar ne rt ha tl ea rn st he va lu e
"Q(s ,a)o f e ac h a ct io ni n e ac h s it ua ti on . It us es t he s am e e xp lo ra ti on fu nc ti on f a s t he e x-"
"p lo ra to ry ADPa ge nt ,b ut av oi ds ha vi ng to le ar nt he tr an si ti on mo de lb ec au se th e Q-v al ue of"
a st at ec an be re la te dd ir ec tl yt ot ho se of it sn ei gh bo rs .
i tn ee ds ar et he Qv al ue s . Th eu pd at ee qu at io n f or TDQ-l ea rn in gi s
"Q(s ,a) ← Q(s ,a)+α(R(s)+γ m ax Q(s(c id:2) ,a(c id:2) )−Q(s ,a)), (21.8)"
a(c id:3)
(c id:2)
w hi ch is ca lc ul at ed w he ne ve ra ct io n a is ex ec ut ed in st at es le ad in g t os ta te s .
Th e c om pl et e a ge nt d es ig n f or a n e xp lo ra to ry Q-l ea rn in g a ge nt u si ng TD i s s ho wn i n
Fi gu re 21.8. No ti ce t ha t i t u se s e xa ct ly t he s am e e xp lo ra ti on f un ct io n f a s t ha t u se d b y t he
e xp lo ra to ry ADP a ge nt—h en ce t he n ee d t o k ee p s ta ti st ic s o n a ct io ns t ak en (t he t ab le N). If
"a si mp le re xp lo ra ti on p ol ic y i su se d—s ay , a ct in g r an do ml y o ns om e f ra ct io n o fs te ps , w he re"
t he fr ac ti on de cr ea se s o ve rt im e—t he nw ec an di sp en se w it ht he st at is ti cs .
Q-l ea rn in gh as ac lo se re la ti ve ca ll ed SARSA(f or St at e-Ac ti on-Re wa rd-St at e-Ac ti on).
SARSA
Th eu pd at er ul ef or SARSAi sv er ys im il ar to Eq ua ti on(21.8):
"Q(s ,a) ← Q(s ,a)+α(R(s)+γ Q(s(c id:2) ,a(c id:2) )−Q(s ,a)), (21.9)"
(c id:2) (c id:2)
w he re a i s t he a ct io n a ct ua ll y t ak en i n s ta te s . Th e r ul e i s a pp li ed a t t he e nd o f e ac h
(c id:2) (c id:2)
"s , a , r , s , a q ui nt up le t—h en ce t he n am e . Th e d if fe re nc e f ro m Q-l ea rn in g i s q ui te s ub tl e:"
w he re as Q-l ea rn in g b ac ks u p t he b es t Q-v al ue f ro m t he s ta te r ea ch ed i n t he o bs er ve d t ra ns i-
"t io n , SARSAw ai ts un ti la na ct io n i sa ct ua ll y t ak en an d b ac ks up th e Q-v al ue fo rt ha ta ct io n ."
"No w , f or a g re ed y a ge nt t ha t a lw ay s t ak es t he a ct io n w it h b es t Q-v al ue , t he t wo a lg or it hm s"
"a re i de nt ic al . Wh en e xp lo ra ti on i s h ap pe ni ng , h ow ev er , t he y d if fe r s ig ni fi ca nt ly . Be ca us e"
"Q-l ea rn in g u se st he be st Q-v al ue , i tp ay sn oa tt en ti on t ot he a ct ua l p ol ic yb ei ng f ol lo we d—i t"
"i sa no ff-p ol ic yl ea rn in ga lg or it hm ,w he re as SARSAi sa no n-p ol ic ya lg or it hm . Q-l ea rn in gi s"
OFF-POLICY
"m or ef le xi bl et ha n SARSA ,i nt he se ns et ha ta Q-l ea rn in ga ge nt ca nl ea rn ho wt ob eh av ew el l"
ON-POLICY
"e ve nw he ng ui de db ya ra nd om or ad ve rs ar ia l e xp lo ra ti on p ol ic y . On th eo th er ha nd ,SARSA"
"i sm or er ea li st ic: f or ex am pl e ,i ft he ov er al lp ol ic yi se ve np ar tl yc on tr ol le db yo th er ag en ts ,i t"
i sb et te rt ol ea rn a Q-f un ct io nf or wh at wi ll ac tu al ly ha pp en r at he rt ha nw ha tt he ag en tw ou ld
l ik et oh ap pe n .
Se ct io n 21.4. Ge ne ra li za ti on i n Re in fo rc em en t Le ar ni ng 845
"Bo th Q-l ea rn in g a nd SARSA l ea rn t he o pt im al p ol ic y f or t he 4×3 w or ld , b ut d o s o"
a t a m uc h s lo we r r at e t ha n t he ADP a ge nt . Th is i s b ec au se t he l oc al u pd at es d o n ot e nf or ce
c on si st en cy am on ga ll th e Q-v al ue sv ia th em od el . Th ec om pa ri so nr ai se sa ge ne ra lq ue st io n:
i s i t b et te r t o l ea rn a m od el a nd a u ti li ty f un ct io n o r t o l ea rn a n a ct io n-u ti li ty f un ct io n w it h
"n o m od el ? In o th er w or ds , w ha t i s t he b es t w ay t o r ep re se nt t he a ge nt f un ct io n ? Th is i s"
"a n i ss ue a t t he f ou nd at io ns o f a rt if ic ia l i nt el li ge nc e . As w e s ta te d i n Ch ap te r 1, o ne o f t he"
k ey h is to ri ca l c ha ra ct er is ti cs o f m uc h o f AI r es ea rc h i s i ts (o ft en u ns ta te d) a dh er en ce t o t he
k no wl ed ge-b as ed a pp ro ac h . Th is a mo un ts t o a n a ss um pt io n t ha t t he b es t w ay t o r ep re se nt
t he a ge nt f un ct io n i s t o b ui ld a r ep re se nt at io n o f s om e a sp ec ts o f t he e nv ir on me nt i n w hi ch
t he ag en ti ss it ua te d .
"So me r es ea rc he rs , b ot h i ns id e a nd o ut si de AI , h av e c la im ed t ha t t he a va il ab il it y o f"
m od el-f re e m et ho ds s uc h a s Q-l ea rn in g m ea ns t ha tt he k no wl ed ge-b as ed a pp ro ac h i su nn ec-
"e ss ar y . Th er ei s ,h ow ev er ,l it tl et og oo nb ut in tu it io n . Ou ri nt ui ti on ,f or wh at it’s wo rt h ,i st ha t"
"a s t he e nv ir on me nt b ec om es m or e c om pl ex , t he a dv an ta ge s o f a k no wl ed ge-b as ed a pp ro ac h"
"b ec om e m or e a pp ar en t . Th is i s b or ne o ut e ve n i n g am es s uc h a s c he ss , c he ck er s (d ra ug ht s),"
"a nd b ac kg am mo n (s ee n ex t s ec ti on), w he re e ff or ts t o l ea rn a n e va lu at io n f un ct io n b y m ea ns"
o fa mo de lh av em et wi th mo re su cc es st ha n Q-l ea rn in g m et ho ds .
21.4 GENERALIZATION IN REINFORCEMENT LEARNING
"So fa r , w eh av e a ss um ed t ha t t he u ti li ty f un ct io ns a nd Q-f un ct io ns l ea rn ed b y t he a ge nt s a re"
r ep re se nt ed i n t ab ul ar f or m w it h o ne o ut pu t v al ue f or e ac h i np ut t up le . Su ch a n a pp ro ac h
"w or ks re as on ab ly w el lf or sm al l s ta te sp ac es , b ut t he ti me to c on ve rg en ce a nd(f or ADP)t he"
"t im ep er it er at io ni nc re as er ap id ly as th es pa ce ge ts la rg er . Wi th ca re fu ll yc on tr ol le d , a pp ro x-"
"i ma te ADP m et ho ds , i t m ig ht b e p os si bl e t o h an dl e 10,000 s ta te s o r m or e . Th is s uf fi ce s f or"
"t wo-d im en si on al m az e-l ik e e nv ir on me nt s , b ut m or e r ea li st ic w or ld s a re o ut o f t he q ue st io n ."
"Ba ck ga mm on a nd c he ss a re t in y s ub se ts o f t he r ea l w or ld , y et t he ir s ta te s pa ce s c on ta in o n"
"t he o rd er o f 1020 a nd 1040 s ta te s , r es pe ct iv el y . It w ou ld b e a bs ur d t o s up po se t ha t o ne m us t"
v is it al lt he se st at es ma ny ti me si no rd er to le ar nh ow to pl ay t he ga me !
"FUNCTION On e w ay t o h an dl e s uc h p ro bl em s i s t o u se f un ct io n a pp ro xi ma ti on , w hi ch s im pl y"
APPROXIMATION
m ea ns u si ng a ny s or t o f r ep re se nt at io n f or t he Q-f un ct io n o th er t ha n a l oo ku p t ab le . Th e
r ep re se nt at io n i sv ie we d a sa pp ro xi ma te b ec au se i tm ig ht n ot b et he c as e t ha t t he t ru e u ti li ty
"f un ct io n o r Q-f un ct io n c an be re pr es en te d i nt he ch os en f or m . Fo re xa mp le , i n Ch ap te r 5 w e"
d es cr ib ed a n e va lu at io n f un ct io n f or c he ss t ha t i s r ep re se nt ed a s a we ig ht ed l in ea r f un ct io n
"o fa se to ff ea tu re s(o rb as is fu nc ti on s)f ,...,f :"
BASISFUNCTION 1 n
Uˆ (s) = θ f (s)+θ f (s)+···+θ f (s).
θ 1 1 2 2 n n
"A r ei nf or ce me nt l ea rn in g a lg or it hm c an l ea rn v al ue s f or t he p ar am et er s θ=θ ,...,θ s uc h"
1 n
"t ha t t he e va lu at io n f un ct io n Uˆ a pp ro xi ma te s t he t ru e u ti li ty f un ct io n . In st ea d o f , s ay , 1040"
θ
"v al ue s i n a t ab le , t hi s f un ct io n a pp ro xi ma to r i s c ha ra ct er iz ed b y , s ay , n=20 p ar am et er s—"
"a n e no rm ou s c om pr es si on . Al th ou gh n o o ne k no ws t he t ru e u ti li ty f un ct io n f or c he ss , n o"
o ne b el ie ve s t ha t i t c an b e r ep re se nt ed e xa ct ly i n 20 n um be rs . If t he a pp ro xi ma ti on i s g oo d
846 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"e no ug h , h ow ev er , t he ag en tm ig ht st il lp la ye xc el le nt c he ss .3 Fu nc ti on a pp ro xi ma ti on m ak es"
"i tp ra ct ic al to re pr es en tu ti li ty fu nc ti on sf or ve ry la rg es ta te sp ac es ,b ut th at is no ti ts pr in ci pa l"
b en ef it . Th e c om pr es si on a ch ie ve d b y a f un ct io n a pp ro xi ma to r a ll ow s t he l ea rn in g a ge nt t o
"g en er al iz e f ro m s ta te s i t h as v is it ed t o s ta te s i t h as n ot v is it ed . Th at i s , t he m os t i mp or ta nt"
"a sp ec to ff un ct io na pp ro xi ma ti on is no tt ha ti tr eq ui re sl es ss pa ce ,b ut th at it al lo ws fo ri nd uc-"
t iv e g en er al iz at io n o ve r i np ut s ta te s . To g iv e y ou s om e i de a o f t he p ow er o f t hi s e ff ec t: b y
"e xa mi ni ng on ly on ei ne ve ry 1012 o ft he po ss ib le ba ck ga mm on st at es ,i ti sp os si bl et ol ea rn a"
"u ti li ty fu nc ti on t ha ta ll ow sa pr og ra mt op la ya sw el la sa ny hu ma n(Te sa ur o ,1992)."
"On th ef li p s id e , o f c ou rs e , t he re i st he p ro bl em t ha t t he re c ou ld f ai l t ob e a ny f un ct io n"
i n t he c ho se n h yp ot he si s s pa ce t ha t a pp ro xi ma te s t he t ru e u ti li ty f un ct io n s uf fi ci en tl y w el l .
"As i n a ll i nd uc ti ve l ea rn in g , t he re i s a t ra de of f b et we en t he s iz e o f t he h yp ot he si s s pa ce a nd"
t he ti me it ta ke st ol ea rn th ef un ct io n . Al ar ge rh yp ot he si s s pa ce in cr ea se s t he li ke li ho od t ha t
"a go od ap pr ox im at io n c an be fo un d , b ut al so me an st ha tc on ve rg en ce i sl ik el yt ob ed el ay ed ."
"Le tu sb eg in wi th th es im pl es tc as e ,w hi ch is di re ct ut il it ye st im at io n . (Se e Se ct io n 21.2.)"
"Wi th f un ct io n a pp ro xi ma ti on , t hi s i s a n i ns ta nc e o f s up er vi se d l ea rn in g . Fo re xa mp le , s up-"
p os ew er ep re se nt th eu ti li ti es fo rt he 4×3 w or ld us in ga si mp le li ne ar fu nc ti on . Th ef ea tu re s
"o ft he sq ua re s a re ju st th ei r x an dy c oo rd in at es , s ow eh av e"
"Uˆ (x ,y) =θ +θ x+θ y . (21.10)"
θ 0 1 2
"Th us ,i f(θ ,θ ,θ )=(0.5,0.2,0.1),t he n Uˆ (1,1)=0.8. Gi ve na co ll ec ti on o ft ri al s , w eo b-"
0 1 2 θ
"t ai na se to fs am pl ev al ue so f Uˆ (x ,y),a nd we ca nf in dt he be st fi t ,i nt he se ns eo fm in im iz in g"
θ
"t he sq ua re de rr or , u si ng st an da rd l in ea rr eg re ss io n . (Se e Ch ap te r 18.)"
"Fo r r ei nf or ce me nt l ea rn in g , i t m ak es m or e s en se t o u se a n o nl in e l ea rn in g a lg or it hm"
t ha t u pd at es t he p ar am et er s a ft er e ac h t ri al . Su pp os e w e r un a t ri al a nd t he t ot al r ew ar d
"o bt ai ne d s ta rt in g a t (1,1) i s 0.4. Th is s ug ge st s t ha t Uˆ (1,1), c ur re nt ly 0.8, i s t oo l ar ge a nd"
θ
m us t b e r ed uc ed . Ho w s ho ul d t he p ar am et er s b e a dj us te d t o a ch ie ve t hi s ? As w it h n eu ra l-
"n et wo rk l ea rn in g , w e w ri te a n e rr or f un ct io n a nd c om pu te i ts g ra di en t w it h r es pe ct t o t he"
"p ar am et er s . If u (s) i s t he o bs er ve d t ot al r ew ar d f ro m s ta te s o nw ar d i n t he j th t ri al , t he n"
j
t he er ro ri sd ef in ed a s(h al f) t he sq ua re d d if fe re nc e o ft he pr ed ic te d t ot al an dt he ac tu al t ot al:
E (s) = (Uˆ (s)−u (s))2/2. Th er at eo fc ha ng eo ft he er ro rw it hr es pe ct to ea ch pa ra me te r
j θ j
"θ i s∂E /∂θ ,s ot om ov et he pa ra me te ri nt he di re ct io n o fd ec re as in g t he er ro r ,w ew an t"
i j i
∂E (s) ∂Uˆ (s)
θ ← θ −α j = θ +α(u (s)−Uˆ (s)) θ . (21.11)
i i i j θ
∂θ ∂θ
i i
"Th is i s c al le d t he Wi dr ow–Ho ff r ul e , o r t he d el ta r ul e , f or o nl in e l ea st-s qu ar es . Fo r t he"
WIDROW–HOFFRULE
"l in ea rf un ct io na pp ro xi ma to r Uˆ (s)i n Eq ua ti on(21.10),w eg et th re es im pl eu pd at er ul es:"
DELTARULE θ
"θ ← θ +α(u (s)−Uˆ (s)),"
0 0 j θ
"θ ← θ +α(u (s)−Uˆ (s))x ,"
1 1 j θ
θ ← θ +α(u (s)−Uˆ (s))y .
2 2 j θ
"3 We do kn ow th at th ee xa ct ut il it yf un ct io nc an be re pr es en te di na pa ge or tw oo f Li sp ,Ja va ,o r C++. Th at is ,"
i tc an be re pr es en te db ya pr og ra mt ha ts ol ve st he ga me ex ac tl ye ve ry ti me it is ca ll ed . We ar ei nt er es te do nl yi n
f un ct io na pp ro xi ma to rs th at us ea re as on ab le a mo un to fc om pu ta ti on . It mi gh ti nf ac tb eb et te rt ol ea rn av er y
s im pl ef un ct io na pp ro xi ma to ra nd co mb in ei tw it ha ce rt ai na mo un to fl oo k-a he ad se ar ch .Th et ra de of fs in vo lv ed
a re cu rr en tl yn ot we ll un de rs to od .
Se ct io n 21.4. Ge ne ra li za ti on i n Re in fo rc em en t Le ar ni ng 847
"We c an a pp ly t he se r ul es t o t he e xa mp le w he re Uˆ (1,1) i s 0.8 a nd u (1,1) i s 0.4. θ , θ ,"
θ j 0 1
"a ndθ a re al ld ec re as ed b y 0.4α,w hi ch re du ce s t he er ro rf or(1,1). No ti ce th at c ha ng in g t he"
2
p ar am et er sθi nr es po ns et oa no bs er ve dt ra ns it io nb et we en tw os ta te sa ls oc ha ng es th ev al ue s
o f Uˆ f or e ve ry o th er s ta te ! Th is i s w ha t w e m ea n b y s ay in g t ha t f un ct io n a pp ro xi ma ti on
θ
a ll ow sa re in fo rc em en t l ea rn er to ge ne ra li ze f ro mi ts ex pe ri en ce s .
"We e xp ec t t ha t t he a ge nt w il l l ea rn f as te r i f i t u se s a f un ct io n a pp ro xi ma to r , p ro vi de d"
"t ha t t he h yp ot he si s s pa ce i s n ot t oo l ar ge , b ut i nc lu de s s om e f un ct io ns t ha t a re a r ea so na bl y"
g oo d f it t o t he t ru e u ti li ty f un ct io n . Ex er ci se 21.5 a sk s y ou t o e va lu at e t he p er fo rm an ce o f
"d ir ec tu ti li ty es ti ma ti on , b ot hw it ha nd wi th ou tf un ct io n a pp ro xi ma ti on . Th ei mp ro ve me nt in"
"t he 4×3 w or ld is no ti ce ab le bu tn ot dr am at ic ,b ec au se th is is av er ys ma ll st at es pa ce to be gi n"
"w it h . Th ei mp ro ve me nt is mu ch gr ea te ri na 10×10 w or ld wi th a+1 r ew ar da t(10,10). Th is"
w or ld i s w el l s ui te d f or a l in ea r u ti li ty f un ct io n b ec au se t he t ru e u ti li ty f un ct io n i s s mo ot h
"a nd n ea rl y l in ea r . (Se e Ex er ci se 21.8.) If w e p ut t he +1 r ew ar d a t (5,5), t he t ru e u ti li ty i s"
m or e l ik e a p yr am id a nd t he f un ct io n a pp ro xi ma to r i n Eq ua ti on (21.10) w il l f ai l m is er ab ly .
"Al l i s n ot l os t , h ow ev er ! Re me mb er t ha t w ha t m at te rs f or l in ea r f un ct io n a pp ro xi ma ti on"
i s t ha t t he f un ct io n b e l in ea r i n t he p ar am et er s—t he f ea tu re s t he ms el ve s c an b e a rb it ra ry
"n o(c id:10)n li ne ar fu nc ti on so ft he st at ev ar ia bl es . He nc e ,w ec an in cl ud ea te rm su ch asθ 3 f 3(x ,y) ="
θ (x−x )2+(y−y )2 t ha tm ea su re st he di st an ce to th eg oa l .
3 g g
We ca na pp ly th es ei de as eq ua ll yw el lt ot em po ra l-d if fe re nc el ea rn er s . Al lw en ee dd oi s
a dj us tt he pa ra me te rs t ot ry to re du ce t he te mp or al di ff er en ce b et we en su cc es si ve s ta te s . Th e
n ew v er si on s o f t he TD a nd Q-l ea rn in g e qu at io ns (21.3 o n p ag e 836 a nd 21.8 o n p ag e 844)
a re gi ve nb y
∂Uˆ (s)
θ ← θ +α[R(s)+γUˆ (s(c id:2) )−Uˆ (s)] θ (21.12)
i i θ θ
∂θ
i
f or ut il it ie sa nd
"∂Qˆ (s ,a)"
"θ ← θ +α[R(s)+γ m ax Qˆ (s(c id:2) ,a(c id:2) )−Qˆ (s ,a)] θ (21.13)"
i i θ θ
a(c id:3) ∂θ
i
"f or Q-v al ue s . Fo rp as si ve TDl ea rn in g ,t he up da te ru le ca nb es ho wn to co nv er ge to th ec lo se st"
p os si bl e 4 a pp ro xi ma ti on t ot he tr ue fu nc ti on w he nt he fu nc ti on a pp ro xi ma to r i s l in ea r i nt he
"p ar am et er s . Wi th a ct iv e l ea rn in g a nd n on li ne ar f un ct io ns s uc h a s n eu ra l n et wo rk s , a ll b et s"
a re o ff: Th er e a re s om e v er y s im pl e c as es i n w hi ch t he p ar am et er s c an g o o ff t o i nf in it y
e ve n t ho ug h t he re a re g oo d s ol ut io ns i n t he h yp ot he si s s pa ce . Th er e a re m or e s op hi st ic at ed
"a lg or it hm s t ha tc an a vo id t he se p ro bl em s , b ut a tp re se nt r ei nf or ce me nt l ea rn in g w it hg en er al"
f un ct io n a pp ro xi ma to rs r em ai ns ad el ic at e a rt .
Fu nc ti on a pp ro xi ma ti on c an a ls o b e v er y h el pf ul f or l ea rn in g a m od el o f t he e nv ir on-
m en t . Re me mb er th at le ar ni ng a mo de lf or an o bs er va bl e e nv ir on me nt i sa su pe rv is ed l ea rn-
"i ng pr ob le m ,b ec au se th en ex tp er ce pt gi ve st he ou tc om es ta te . An yo ft he su pe rv is ed le ar ni ng"
"m et ho ds in Ch ap te r 18 c an be us ed ,w it hs ui ta bl ea dj us tm en ts fo rt he fa ct th at we ne ed to pr e-"
d ic ta co mp le te st at ed es cr ip ti on ra th er th an ju st a Bo ol ea nc la ss if ic at io no ra si ng le re al va lu e .
"Fo r a p ar ti al ly o bs er va bl e e nv ir on me nt , t he l ea rn in g p ro bl em i s m uc h m or e d if fi cu lt . If w e"
k no ww ha tt he hi dd en va ri ab le sa re an dh ow th ey ar ec au sa ll yr el at ed to ea ch ot he ra nd to th e
4 Th ed ef in it io no fd is ta nc eb et we en ut il it yf un ct io ns is ra th er te ch ni ca l ;s ee Ts it si kl is an d Va n Ro y(1997).
848 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"o bs er va bl ev ar ia bl es ,t he nw ec an fi xt he st ru ct ur eo fa dy na mi c Ba ye si an ne tw or ka nd us et he"
"EMa lg or it hm t ol ea rn t he p ar am et er s , a s w as de sc ri be d i n Ch ap te r 20. In ve nt in g t he hi dd en"
v ar ia bl es a nd l ea rn in g t he m od el s tr uc tu re a re s ti ll o pe n p ro bl em s . So me pr ac ti ca l e xa mp le s
a re de sc ri be d i n Se ct io n 21.6.
21.5 POLICY SEARCH
Th e f in al a pp ro ac h w e w il l c on si de r f or r ei nf or ce me nt l ea rn in g p ro bl em s i s c al le d p ol ic y
"s ea rc h . In s om e w ay s , p ol ic y s ea rc h i s t he s im pl es t o f a ll t he m et ho ds i n t hi s c ha pt er: t he"
POLICYSEARCH
"i de ai st ok ee pt wi dd li ng t he po li cy as lo ng as it sp er fo rm an ce i mp ro ve s ,t he ns to p ."
Le tu s b eg in w it ht he p ol ic ie s t he ms el ve s . Re me mb er th at a po li cy π i sa fu nc ti on t ha t
m ap ss ta te st oa ct io ns . We ar ei nt er es te dp ri ma ri ly in p ar am et er iz ed r ep re se nt at io ns o fπ t ha t
h av e f ar f ew er p ar am et er s t ha n t he re a re s ta te s i n t he s ta te s pa ce (j us t a s i n t he p re ce di ng
"s ec ti on). Fo r e xa mp le , w e c ou ld r ep re se nt π b y a c ol le ct io n o f p ar am et er iz ed Q-f un ct io ns ,"
"o ne fo re ac ha ct io n , a nd ta ke th ea ct io nw it ht he hi gh es tp re di ct ed v al ue:"
"π(s) = m ax Qˆ (s ,a). (21.14)"
θ
a
"Ea ch Q-f un ct io n c ou ld b e a l in ea r f un ct io n o f t he p ar am et er s θ, a s i n Eq ua ti on (21.10),"
o r i t c ou ld b e a n on li ne ar f un ct io n s uc h a s a n eu ra l n et wo rk . Po li cy s ea rc h w il l t he n a d-
j us t t he p ar am et er s θ t o i mp ro ve t he p ol ic y . No ti ce t ha t i f t he p ol ic y i s r ep re se nt ed b y Q-
"f un ct io ns , t he n p ol ic y s ea rc h r es ul ts i n a p ro ce ss t ha t l ea rn s Q-f un ct io ns . Th is p ro ce ss i s"
"n ot t he s am e a s Q-l ea rn in g ! In Q-l ea rn in g w it h f un ct io n a pp ro xi ma ti on , t he a lg or it hm f in ds"
"a v al ue o f θ s uc h t ha t Qˆ i s “c lo se” t o Q∗ , t he o pt im al Q-f un ct io n . Po li cy s ea rc h , o n t he"
θ
"o th er h an d , f in ds a v al ue o f θ t ha t r es ul ts i n g oo d p er fo rm an ce ; t he v al ue s f ou nd b y t he t wo"
"m et ho ds m ay d if fe r v er y s ub st an ti al ly . (Fo r e xa mp le , t he a pp ro xi ma te Q-f un ct io n d ef in ed"
"b y Qˆ (s ,a)=Q∗ (s ,a)/10 g iv es o pt im al p er fo rm an ce , e ve n t ho ug h i t i s n ot a t a ll c lo se t o"
θ
∗
"Q .) An ot he rc le ar in st an ce o ft he d if fe re nc e i st he ca se w he re π(s)i sc al cu la te d u si ng , s ay ,"
d ep th-10 l oo k-a he ad s ea rc h w it h a na pp ro xi ma te u ti li ty f un ct io n Uˆ . Av al ue o f θ t ha t g iv es
θ
g oo dr es ul ts ma yb ea lo ng wa yf ro mm ak in g
Uˆ
r es em bl et he tr ue ut il it yf un ct io n .
θ
On e p ro bl em w it h p ol ic y r ep re se nt at io ns o f t he k in d g iv en i n Eq ua ti on (21.14) i s t ha t
t he po li cy i sa di sc on ti nu ou s f un ct io n o ft he pa ra me te rs w he nt he ac ti on s a re di sc re te . (Fo ra
"c on ti nu ou sa ct io ns pa ce ,t he po li cy ca nb ea sm oo th fu nc ti on of th ep ar am et er s .) Th at is ,t he re"
w il lb ev al ue so fθs uc ht ha ta ni nf in it es im al ch an ge inθc au se st he po li cy to sw it ch fr om on e
"a ct io n t o a no th er . Th is m ea ns t ha t t he v al ue o f t he p ol ic y m ay a ls o c ha ng e d is co nt in uo us ly ,"
"w hi ch ma ke sg ra di en t-b as ed se ar ch di ff ic ul t . Fo rt hi sr ea so n ,p ol ic ys ea rc hm et ho ds of te nu se"
"a st oc ha st ic po li cy re pr es en ta ti on π (s ,a),w hi ch sp ec if ie st he pr ob ab il it yo fs el ec ti ng ac ti on"
STOCHASTICPOLICY θ
a in st at es . On ep op ul ar re pr es en ta ti on i st he s of tm ax fu nc ti on:
SOFTMAXFUNCTION
(c id:12)
"π (s ,a) = e Qˆ θ(s ,a)/ e Qˆ θ(s ,a(c id:3)) ."
θ
a(c id:3)
"So ft ma x b ec om es n ea rl y d et er mi ni st ic i f o ne a ct io n i s m uc h b et te r t ha n t he o th er s , b ut i t"
"a lw ay s g iv es a di ff er en ti ab le f un ct io n o f θ; h en ce , t he v al ue o f t he p ol ic y (w hi ch d ep en ds i n"
Se ct io n 21.5. Po li cy Se ar ch 849
a c on ti nu ou s f as hi on o n t he a ct io n s el ec ti on p ro ba bi li ti es) i s a d if fe re nt ia bl e f un ct io n o f θ.
So ft ma xi sa ge ne ra li za ti on o ft he lo gi st ic f un ct io n(p ag e 725)t om ul ti pl ev ar ia bl es .
No wl et us lo ok at me th od sf or im pr ov in gt he po li cy . We st ar tw it ht he si mp le st ca se: a
"d et er mi ni st ic p ol ic y a nd a d et er mi ni st ic e nv ir on me nt . Le t ρ(θ) b e t he p ol ic y v al ue , i .e ., t he"
POLICYVALUE
e xp ec te dr ew ar d-t o-g ow he nπ i se xe cu te d . If we ca nd er iv ea ne xp re ss io nf orρ(θ)i nc lo se d
θ
"f or m ,t he nw eh av ea st an da rd op ti mi za ti on pr ob le m ,a sd es cr ib ed in Ch ap te r 4. We ca nf ol lo w"
"t he p ol ic y g ra di en t v ec to r ∇ ρ(θ) p ro vi de d ρ(θ) i s d if fe re nt ia bl e . Al te rn at iv el y , i f ρ(θ) i s"
POLICYGRADIENT θ
"n ot a va il ab le i n c lo se d f or m , w e c an e va lu at e π s im pl y b y e xe cu ti ng i t a nd o bs er vi ng t he"
θ
"a cc um ul at ed re wa rd . We ca nf ol lo wt he em pi ri ca lg ra di en tb yh il lc li mb in g—i .e .,e va lu at in g"
"t he c ha ng e i n p ol ic y v al ue f or s ma ll i nc re me nt s i n e ac h p ar am et er . Wi th t he u su al c av ea ts ,"
t hi sp ro ce ss wi ll co nv er ge t oa lo ca lo pt im um in po li cy sp ac e .
"Wh en t he e nv ir on me nt (o r t he p ol ic y) i s s to ch as ti c , t hi ng s g et m or e d if fi cu lt . Su pp os e"
"w e a re t ry in g t o d o h il l c li mb in g , w hi ch r eq ui re s c om pa ri ng ρ(θ) a nd ρ(θ +Δθ) f or s om e"
"s ma ll Δθ. Th e p ro bl em i s t ha t t he t ot al r ew ar d o n e ac h t ri al m ay v ar y w id el y , s o e st im at es"
o f t he p ol ic y v al ue f ro m a s ma ll n um be r o f t ri al s w il l b e q ui te u nr el ia bl e ; t ry in g t o c om pa re
"t wo su ch e st im at es w il lb ee ve n m or eu nr el ia bl e . On es ol ut io n i ss im pl y t o r un lo ts o ft ri al s ,"
m ea su ri ng t he s am pl e v ar ia nc e a nd u si ng i t t o d et er mi ne t ha t e no ug h t ri al s h av e b ee n r un
"t o g et a r el ia bl e i nd ic at io n o f t he d ir ec ti on o f i mp ro ve me nt f or ρ(θ). Un fo rt un at el y , t hi s i s"
"i mp ra ct ic al f or ma ny re al pr ob le ms wh er ee ac ht ri al ma yb ee xp en si ve , t im e-c on su mi ng , a nd"
p er ha ps ev en da ng er ou s .
"Fo rt he ca se of as to ch as ti c p ol ic yπ (s ,a),i ti sp os si bl et oo bt ai na nu nb ia se de st im at e"
θ
"o f t he g ra di en t a t θ, ∇ ρ(θ), d ir ec tl y f ro m t he r es ul ts o f t ri al s e xe cu te d a t θ. Fo rs im pl ic it y ,"
θ
w ew il ld er iv e t hi se st im at e f or th es im pl e c as eo fa no ns eq ue nt ia l e nv ir on me nt i nw hi ch t he
"r ew ar d R(a) i s o bt ai ne d i mm ed ia te ly a ft er d oi ng a ct io n a i n t he s ta rt s ta te s . In t hi s c as e ,"
0
"t he po li cy va lu ei sj us tt he ex pe ct ed v al ue of th er ew ar d ,a nd w eh av e"
(c id:12) (c id:12)
"∇ ρ(θ)= ∇ π (s ,a)R(a) = (∇ π (s ,a))R(a)."
θ θ θ 0 θ θ 0
a a
No w w e p er fo rm a s im pl e t ri ck s o t ha t t hi s s um ma ti on c an b e a pp ro xi ma te d b y s am pl es
"g en er at ed f ro m t he p ro ba bi li ty d is tr ib ut io n d ef in ed b y π (s ,a). Su pp os e t ha t w e h av e N"
θ 0
t ri al si na ll an dt he ac ti on ta ke no nt he jt ht ri al is a . Th en
j
"(c id:12) (∇ π (s ,a))R(a) 1 (c id:12)N (∇ π (s ,a ))R(a )"
"∇ ρ(θ)= π (s ,a)· θ θ 0 ≈ θ θ 0 j j ."
θ θ 0
"π (s ,a) N π (s ,a )"
θ 0 θ 0 j
a j=1
"Th us , t he t ru e g ra di en t o f t he p ol ic y v al ue i s a pp ro xi ma te d b y a s um o f t er ms i nv ol vi ng"
"t he g ra di en t o f t he a ct io n-s el ec ti on p ro ba bi li ty i n e ac h t ri al . Fo r t he s eq ue nt ia l c as e , t hi s"
g en er al iz es t o
"1 (c id:12)N (∇ π (s ,a ))R (s)"
∇ ρ(θ)≈ θ θ j j
θ
"N π (s ,a )"
θ j
j=1
"f or e ac h s ta te s v is it ed , w he re a i s e xe cu te d i n s o n t he j th t ri al a nd R (s) i s t he t ot al"
j j
r ew ar d r ec ei ve d f ro m s ta te s o nw ar ds i n t he j th t ri al . Th e r es ul ti ng a lg or it hm i s c al le d
"REINFORCE (Wi ll ia ms , 1992); i t i s u su al ly m uc h m or e e ff ec ti ve t ha n h il l c li mb in g u si ng"
"l ot so ft ri al sa te ac hv al ue ofθ. It is st il lm uc hs lo we rt ha nn ec es sa ry , h ow ev er ."
850 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"Co ns id er t he f ol lo wi ng t as k: g iv en t wo b la ck ja ck 5 p ro gr am s , d et er mi ne w hi ch i s b es t ."
On e w ay t o d o t hi s i s t o h av e e ac h p la y a ga in st a s ta nd ar d “d ea le r” f or a c er ta in n um be r o f
"h an ds an dt he nt om ea su re th ei rr es pe ct iv ew in ni ng s . Th ep ro bl em wi th th is ,a sw eh av es ee n ,"
i st ha tt he wi nn in gs of ea ch pr og ra m f lu ct ua te wi de ly de pe nd in g o nw he th er it re ce iv es go od
o r b ad c ar ds . An o bv io us s ol ut io n i s t o g en er at e a c er ta in n um be r o f h an ds i n a dv an ce a nd
"h av e e ac h p ro gr am p la y t he s am e s et o f h an ds . In t hi s w ay , w e e li mi na te t he m ea su re me nt"
"CORRELATED e rr or d ue t o d if fe re nc es i n t he c ar ds r ec ei ve d . Th is i de a , c al le d c or re la te d s am pl in g , u n-"
SAMPLING
"d er li es a p ol ic y-s ea rc h a lg or it hm c al le d PEGASUS (Ng a nd Jo rd an , 2000). Th e a lg or it hm i s"
a pp li ca bl e t o d om ai ns f or w hi ch a s im ul at or i s a va il ab le s o t ha t t he “r an do m” o ut co me s o f
a ct io ns c an be re pe at ed . Th ea lg or it hm w or ks by ge ne ra ti ng i na dv an ce N s eq ue nc es o fr an-
"d om nu mb er s , e ac ho fw hi ch ca nb eu se dt or un at ri al of an yp ol ic y . Po li cy se ar ch is ca rr ie d"
o ut by ev al ua ti ng ea ch ca nd id at ep ol ic yu si ng th es am es et of ra nd om se qu en ce st od et er mi ne
t he ac ti on ou tc om es . It ca nb es ho wn th at th en um be ro fr an do ms eq ue nc es re qu ir ed to en su re
t ha tt he va lu eo fe ve ry po li cy is we ll es ti ma te d d ep en ds o nl yo nt he co mp le xi ty o ft he po li cy
"s pa ce ,a nd no ta ta ll on th ec om pl ex it yo ft he un de rl yi ng d om ai n ."
21.6 APPLICATIONS OF REINFORCEMENT LEARNING
We no wt ur nt oe xa mp le so fl ar ge-s ca le a pp li ca ti on s o fr ei nf or ce me nt l ea rn in g . We co ns id er
"a pp li ca ti on si ng am ep la yi ng ,w he re th et ra ns it io nm od el is kn ow na nd th eg oa li st ol ea rn th e"
"u ti li ty fu nc ti on , a nd in ro bo ti cs , w he re th em od el is us ua ll y u nk no wn ."
21.6.1 Ap pl ic at io ns to g am ep la yi ng
Th ef ir st si gn if ic an t a pp li ca ti on o fr ei nf or ce me nt l ea rn in g w as al so th ef ir st si gn if ic an t l ea rn-
"i ng p ro gr am o f a ny k in d—t he c he ck er s p ro gr am w ri tt en b y Ar th ur Sa mu el (1959, 1967)."
"Sa mu el f ir st u se d a w ei gh te d l in ea r f un ct io n f or t he e va lu at io n o f p os it io ns , u si ng u p t o 16"
t er ms at an yo ne ti me . He ap pl ie da ve rs io no f Eq ua ti on(21.12)t ou pd at et he we ig ht s . Th er e
"w er es om es ig ni fi ca nt di ff er en ce s ,h ow ev er ,b et we en hi sp ro gr am an dc ur re nt me th od s . Fi rs t ,"
h eu pd at ed th ew ei gh ts us in gt he di ff er en ce be tw ee nt he cu rr en ts ta te an dt he ba ck ed-u pv al ue
"g en er at ed b yf ul ll oo k-a he ad i nt he se ar ch tr ee . Th is wo rk sf in e ,b ec au se i ta mo un ts to vi ew-"
i ng t he s ta te s pa ce a t a d if fe re nt g ra nu la ri ty . A s ec on d d if fe re nc e w as t ha t t he p ro gr am d id
"n ot us ea ny ob se rv ed re wa rd s ! Th at is ,t he va lu es of te rm in al st at es re ac he di ns el f-p la yw er e"
"i gn or ed . Th is me an st ha ti ti st he or et ic al ly p os si bl ef or Sa mu el’s pr og ra mn ot to co nv er ge , o r"
t o c on ve rg e o n a s tr at eg y d es ig ne d t o l os e r at he r t ha n t o w in . He ma na ge d t o a vo id t hi s f at e
"b y i ns is ti ng t ha t t he w ei gh t f or m at er ia l a dv an ta ge s ho ul d a lw ay s b e p os it iv e . Re ma rk ab ly ,"
t hi s w as s uf fi ci en t t o d ir ec t t he p ro gr am i nt o a re as o f w ei gh t s pa ce c or re sp on di ng t o g oo d
c he ck er s p la y .
Ge rr y Te sa ur o’s b ac kg am mo n p ro gr am TD-GAMMON (1992) f or ce fu ll y i ll us tr at es t he
"p ot en ti al o f r ei nf or ce me nt l ea rn in g t ec hn iq ue s . In e ar li er w or k (Te sa ur o a nd Se jn ow sk i ,"
"1989), Te sa ur o t ri ed l ea rn in g a n eu ra l n et wo rk r ep re se nt at io n o f Q(s ,a) d ir ec tl y f ro m e x-"
5 Al so kn ow na st we nt y-o ne or po nt oo n .
Se ct io n 21.6. Ap pl ic at io ns o f Re in fo rc em en t Le ar ni ng 851
θ
x
Fi gu re 21.9 Se tu pf or th ep ro bl em of ba la nc in ga lo ng po le on to po fa mo vi ng ca rt . Th e
"c ar tc an be je rk ed le ft or ri gh tb ya co nt ro ll er th at ob se rv es x ,θ,x˙,a ndθ˙."
a mp le s o f m ov es l ab el ed w it h r el at iv e v al ue s b y a h um an e xp er t . Th is a pp ro ac h p ro ve d
"e xt re me ly t ed io us f or th e e xp er t . It re su lt ed i na pr og ra m , c al le d NEUROGAMMON ,t ha tw as"
"s tr on g b y c om pu te r s ta nd ar ds , b ut n ot c om pe ti ti ve w it h h um an e xp er ts . Th e TD-GAMMON"
p ro je ct w as a n a tt em pt t o l ea rn f ro m s el f-p la y a lo ne . Th e o nl y r ew ar d s ig na l w as g iv en a t
t he e nd o f e ac h g am e . Th e e va lu at io n f un ct io n w as r ep re se nt ed b y a f ul ly c on ne ct ed n eu ra l
n et wo rk w it h a s in gl e h id de n l ay er c on ta in in g 40 n od es . Si mp ly b y r ep ea te d a pp li ca ti on o f
"Eq ua ti on (21.12), TD-GAMMON l ea rn ed t op la yc on si de ra bl y b et te rt ha n NEUROGAMMON ,"
e ve nt ho ug ht he in pu tr ep re se nt at io n c on ta in ed j us tt he ra w b oa rd po si ti on wi th no co mp ut ed
"f ea tu re s . Th is to ok ab ou t 200,000 t ra in in gg am es an dt wo we ek so fc om pu te rt im e . Al th ou gh"
"t ha t m ay s ee m l ik e a l ot o f g am es , i t i s o nl y a v an is hi ng ly s ma ll f ra ct io n o f t he s ta te s pa ce ."
"Wh en pr ec om pu te df ea tu re sw er ea dd ed to th ei np ut re pr es en ta ti on ,a ne tw or kw it h 80 h id de n"
"n od es w as ab le , a ft er 300,000 t ra in in g g am es , t or ea ch a st an da rd o fp la y c om pa ra bl e t ot ha t"
"o f t he t op t hr ee h um an p la ye rs w or ld wi de . Ki t Wo ol se y , a t op p la ye r a nd a na ly st , s ai d t ha t"
“Th er ei sn oq ue st io n i nm ym in dt ha ti ts po si ti on al j ud gm en t i sf ar be tt er th an mi ne .”
21.6.2 Ap pl ic at io nt o r ob ot c on tr ol
"Th e s et up f or t he f am ou s c ar t–p ol e b al an ci ng p ro bl em , a ls o k no wn a s t he i nv er te d p en du-"
CART–POLE
"INVERTED l um , i s s ho wn i n Fi gu re 21.9. Th e p ro bl em i s t o c on tr ol t he p os it io n x o f t he c ar t s o t ha t"
PENDULUM
"t he p ol e s ta ys r ou gh ly u pr ig ht (θ ≈ π/2), w hi le s ta yi ng w it hi n t he l im it s o f t he c ar t t ra ck"
a s s ho wn . Se ve ra l t ho us an d p ap er s i n r ei nf or ce me nt l ea rn in g a nd c on tr ol t he or y h av e b ee n
p ub li sh ed o n t hi s s ee mi ng ly s im pl e p ro bl em . Th e c ar t–p ol e p ro bl em d if fe rs f ro m t he p ro b-
l em sd es cr ib ed ea rl ie ri nt ha tt he st at ev ar ia bl es
"x ,θ,x˙,a ndθ˙"
a re co nt in uo us . Th ea ct io ns ar e
"BANG-BANG u su al ly di sc re te: j er kl ef to rj er kr ig ht ,t he so-c al le d b an g-b an gc on tr ol re gi me ."
CONTROL
Th e e ar li es t w or k o n l ea rn in g f or t hi s p ro bl em w as c ar ri ed o ut b y Mi ch ie a nd Ch am-
b er s(1968). Th ei r BOXES a lg or it hm w as ab le to ba la nc et he po le fo ro ve ra nh ou ra ft er on ly
"a bo ut 30 t ri al s . Mo re ov er ,u nl ik em an ys ub se qu en ts ys te ms , BOXESw as im pl em en te dw it ha"
852 Ch ap te r 21. Re in fo rc em en t Le ar ni ng
"r ea lc ar ta nd po le ,n ot as im ul at io n . Th ea lg or it hm fi rs td is cr et iz ed t he fo ur-d im en si on al s ta te"
s pa ce in to bo xe s—h en ce t he na me . It th en ra nt ri al su nt il th e p ol ef el lo ve ro rt he ca rt hi tt he
e nd of th et ra ck . Ne ga ti ve re in fo rc em en t w as as so ci at ed w it ht he fi na la ct io ni nt he fi na lb ox
a nd t he n p ro pa ga te d b ac k t hr ou gh t he s eq ue nc e . It w as f ou nd t ha t t he d is cr et iz at io n c au se d
s om e p ro bl em s w he n t he a pp ar at us w as i ni ti al iz ed i n a p os it io n d if fe re nt f ro m t ho se u se d i n
"t ra in in g , s ug ge st in g t ha t g en er al iz at io n w as n ot p er fe ct . Im pr ov ed g en er al iz at io n a nd f as te r"
l ea rn in g c an be ob ta in ed u si ng an al go ri th m t ha t a da pt iv el y p ar ti ti on s t he st at es pa ce ac co rd-
"i ng to th eo bs er ve dv ar ia ti on in th er ew ar d ,o rb yu si ng ac on ti nu ou s-s ta te , n on li ne ar fu nc ti on"
"a pp ro xi ma to rs uc ha sa ne ur al ne tw or k . No wa da ys ,b al an ci ng a tr ip le in ve rt ed pe nd ul um i sa"
c om mo ne xe rc is e—a fe at fa rb ey on dt he ca pa bi li ti es o fm os th um an s .
St il l m or e i mp re ss iv e i s t he a pp li ca ti on o f r ei nf or ce me nt l ea rn in g t o h el ic op te r f li gh t
"(Fi gu re 21.10). Th is w or k h as g en er al ly u se d p ol ic y s ea rc h (Ba gn el l a nd Sc hn ei de r , 2001)"
a s w el l a s t he PEGASUS a lg or it hm w it h s im ul at io n b as ed o n a l ea rn ed t ra ns it io n m od el (Ng
"e ta l .,2004). Fu rt he rd et ai ls ar eg iv en in Ch ap te r 25."
Fi gu re 21.10 Su pe ri mp os ed ti me-l ap se i ma ge so f a n a ut on om ou sh el ic op te rp er fo rm in g
a v er y d if fi cu lt “n os e-i n c ir cl e” m an eu ve r . Th e h el ic op te r i s u nd er t he c on tr ol o f a p ol ic y
d ev el op ed by th e PEGASUS p ol ic y-s ea rc ha lg or it hm . A s im ul at or mo de lw as d ev el op ed by
o bs er vi ng th ee ff ec ts of va ri ou sc on tr ol ma ni pu la ti on so nt he re al he li co pt er ;t he nt he al go-
r it hm wa sr un on th es im ul at or mo de lo ve rn ig ht .Av ar ie ty of co nt ro ll er sw er ed ev el op ed fo r
"d if fe re nt ma ne uv er s . In a ll c as es , p er fo rm an ce f ar e xc ee de d t ha t o f a n e xp er t h um an p il ot"
u si ng re mo te co nt ro l .(Im ag ec ou rt es yo f An dr ew Ng .)
22
NATURAL LANGUAGE
PROCESSING
In w hi ch w e s ee h ow t o m ak e u se o f t he c op io us k no wl ed ge t ha t i s e xp re ss ed i n
n at ur al la ng ua ge .
Ho mo sa pi en si ss et ap ar tf ro mo th er sp ec ie sb yt he ca pa ci ty fo rl an gu ag e . So me wh er ea ro un d
"100,000 y ea rs ag o ,h um an sl ea rn ed ho wt os pe ak ,a nd ab ou t 7,000 y ea rs ag ol ea rn ed to wr it e ."
"Al th ou gh ch im pa nz ee s , d ol ph in s , a nd ot he ra ni ma ls ha ve sh ow nv oc ab ul ar ie s o fh un dr ed s o f"
"s ig ns ,o nl yh um an sc an re li ab ly co mm un ic at ea nu nb ou nd ed nu mb er of qu al it at iv el yd if fe re nt"
m es sa ge so na ny to pi cu si ng di sc re te si gn s .
"Of c ou rs e , t he re a re o th er a tt ri bu te s t ha t a re u ni qu el y h um an: n o o th er s pe ci es w ea rs"
"c lo th es , c re at es r ep re se nt at io na l a rt , o r w at ch es t hr ee h ou rs o f t el ev is io n a d ay . Bu t w he n"
"Al an Tu ri ng p ro po se d h is Te st (s ee Se ct io n 1.1.1), h e b as ed i t o n l an gu ag e , n ot a rt o r TV ."
Th er e a re t wo m ai n r ea so ns w hy w e w an t o ur c om pu te r a ge nt s t o b e a bl e t o p ro ce ss n at ur al
"l an gu ag es: f ir st ,t oc om mu ni ca te wi th hu ma ns ,a to pi cw et ak eu pi n Ch ap te r 23,a nd se co nd ,"
"t oa cq ui re i nf or ma ti on f ro mw ri tt en la ng ua ge , t he fo cu so ft hi sc ha pt er ."
"Th er e a re o ve r a t ri ll io n p ag es o f i nf or ma ti on o n t he We b , a lm os t a ll o f i t i n n at ur al"
KNOWLEDGE l an gu ag e . An a ge nt t ha t w an ts t o d o k no wl ed ge a cq ui si ti on n ee ds t o u nd er st an d (a t l ea st
ACQUISITION
"p ar ti al ly) t he a mb ig uo us , m es sy l an gu ag es t ha t h um an s u se . We e xa mi ne t he p ro bl em f ro m"
"t he p oi nt o f v ie w o f s pe ci fi c i nf or ma ti on-s ee ki ng t as ks: t ex t c la ss if ic at io n , i nf or ma ti on r e-"
"t ri ev al ,a nd in fo rm at io ne xt ra ct io n . On ec om mo nf ac to ri na dd re ss in gt he se ta sk si st he us eo f"
l an gu ag em od el s: m od el st ha tp re di ct th ep ro ba bi li ty d is tr ib ut io n o fl an gu ag e e xp re ss io ns .
LANGUAGEMODEL
22.1 LANGUAGE MODELS
"Fo rm al la ng ua ge s ,s uc ha st he pr og ra mm in gl an gu ag es Ja va or Py th on ,h av ep re ci se ly de fi ne d"
LANGUAGE l an gu ag e m od el s . A l an gu ag e c an b e d ef in ed a s a s et o f s tr in gs ; “p ri nt(2 + 2)” i s a
"l eg al p ro gr am i nt he l an gu ag e Py th on , w he re as “2)+(2 p ri nt”i sn ot . Si nc e t he re a re a n"
"i nf in it en um be ro fl eg al pr og ra ms ,t he yc an no tb ee nu me ra te d ; i ns te ad th ey ar es pe ci fi ed by a"
s et o f r ul es c al le d a g ra mm ar . Fo rm al la ng ua ge s a ls o h av e r ul es t ha t d ef in e t he m ea ni ng o r
GRAMMAR
"SEMANTICS s em an ti cs of ap ro gr am ;f or ex am pl e ,t he ru le ss ay th at th e“m ea ni ng” o f “2 + 2”i s 4,a nd"
t he me an in go f“1/0”i st ha ta ne rr or is si gn al ed .
860
Se ct io n 22.1. La ng ua ge Mo de ls 861
"Na tu ra l l an gu ag es , s uc h a s En gl is h o r Sp an is h , c an no t b e c ha ra ct er iz ed a s a d ef in it iv e"
"s et o f s en te nc es . Ev er yo ne a gr ee s t ha t “No t t o b e i nv it ed i s s ad” i s a s en te nc e o f En gl is h ,"
"b ut pe op le d is ag re e o nt he gr am ma ti ca li ty o f“To be no ti nv it ed i ss ad .” Th er ef or e , i ti sm or e"
f ru it fu l t od ef in ea na tu ra l l an gu ag e m od el a sa pr ob ab il it y d is tr ib ut io n o ve rs en te nc es r at he r
"t ha n a d ef in it iv e s et . Th at i s , r at he r t ha n a sk in g i f a s tr in g o f w or ds i s o r i s n ot a m em be ro f"
"t he se td ef in in gt he la ng ua ge , w ei ns te ad as kf or P(S=w or ds)—w ha ti st he pr ob ab il it y t ha t"
a ra nd om s en te nc ew ou ld be wo rd s .
Na tu ra ll an gu ag es ar ea ls oa mb ig uo us . “He sa wh er du ck”c an me an ei th er th at he sa w
AMBIGUITY
"a w at er fo wl b el on gi ng t o h er , o r t ha t h e s aw h er m ov e t o e va de s om et hi ng . Th us , a ga in , w e"
"c an no t s pe ak o fa si ng le m ea ni ng f or as en te nc e , b ut r at he r o f a pr ob ab il it y d is tr ib ut io n o ve r"
p os si bl e m ea ni ng s .
"Fi na ll y , n at ur al l an gu ag es a re d if fi cu lt t o d ea l w it h b ec au se t he y a re v er y l ar ge , a nd"
"c on st an tl y c ha ng in g . Th us , o ur l an gu ag e m od el s a re , a t b es t , a n a pp ro xi ma ti on . We s ta rt"
w it ht he si mp le st po ss ib le a pp ro xi ma ti on s a nd mo ve up fr om th er e .
22.1.1 N-g ra m c ha ra ct er m od el s
"Ul ti ma te ly ,a wr it te nt ex ti sc om po se do fc ha ra ct er s—l et te rs , d ig it s ,p un ct ua ti on , a nd sp ac es"
CHARACTERS
"i n En gl is h (a nd m or e e xo ti c c ha ra ct er s i n s om e o th er l an gu ag es). Th us , o ne o f t he s im pl es t"
"l an gu ag em od el si sa pr ob ab il it y d is tr ib ut io n o ve rs eq ue nc es of ch ar ac te rs . As in Ch ap te r 15,"
"w e w ri te P(c ) f or t he p ro ba bi li ty o f a s eq ue nc e o f N c ha ra ct er s , c t hr ou gh c . In o ne"
1:N 1 N
"We bc ol le ct io n ,P(“t he”)=0.027 a nd P(“z gq”)=0.000000002. As eq ue nc eo fw ri tt en sy m-"
"b ol so fl en gt h n is ca ll ed an n-g ra m(f ro m t he Gr ee kr oo tf or wr it in go rl et te rs), w it hs pe ci al"
"c as e “u ni gr am” f or 1-g ra m , “b ig ra m” f or 2-g ra m , a nd “t ri gr am” f or 3-g ra m . A m od el o ft he"
N p ro ba bi li ty d is tr ib ut io n o f n-l et te rs eq ue nc es i s t hu s c al le d a n n-g ra m m od el . (Bu tb e c ar e-
-GRAMMODEL
"f ul: w e c an h av e n-g ra m m od el s o ve r s eq ue nc es o f w or ds , s yl la bl es , o r o th er u ni ts ; n ot j us t"
o ve rc ha ra ct er s .)
An n-g ra m m od el is de fi ne da sa Ma rk ov ch ai no fo rd er n−1. Re ca ll fr om pa ge 568
t ha t i n a Ma rk ov c ha in t he p ro ba bi li ty o f c ha ra ct er c d ep en ds o nl y o n t he i mm ed ia te ly p re-
i
"c ed in g c ha ra ct er s , n ot o n a ny o th er c ha ra ct er s . So i n a t ri gr am m od el (Ma rk ov c ha in o f"
o rd er 2)w eh av e
P(c i|c 1:i−1) = P(c i|c i−2:i−1).
We c an d ef in e t he p ro ba bi li ty o f a s eq ue nc e o f c ha ra ct er s P(c ) u nd er t he t ri gr am m od el
1:N
b yf ir st fa ct or in g w it ht he ch ai nr ul ea nd th en us in gt he Ma rk ov as su mp ti on:
(c id:25)N (c id:25)N
P(c 1:N) = P(c i|c 1:i−1)= P(c i|c i−2:i−1).
i=1 i=1
"Fo ra tr ig ra mc ha ra ct er mo de li na la ng ua ge wi th 100 c ha ra ct er s ,P(C i|C i−2:i−1)h as am il li on"
"e nt ri es , a nd ca nb ea cc ur at el y e st im at ed b yc ou nt in g c ha ra ct er se qu en ce s i na bo dy of te xt of"
"10 m il li on c ha ra ct er s o r m or e . We c al l a b od y o f t ex t a c or pu s (p lu ra l c or po ra), f ro m t he"
CORPUS
La ti nw or df or bo dy .
862 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
Wh at ca nw ed ow it hn-g ra mc ha ra ct er mo de ls ? On et as kf or wh ic ht he ya re we ll su it ed
"LANGUAGE i sl an gu ag ei de nt if ic at io n: g iv en at ex t ,d et er mi ne wh at na tu ra ll an gu ag ei ti sw ri tt en in . Th is"
IDENTIFICATION
"i s a re la ti ve ly e as y t as k ; e ve nw it h s ho rt t ex ts s uc h a s “He ll o , w or ld” o r“Wi e g eh t e s d ir ,” i t"
i se as y t oi de nt if y t he fi rs ta s En gl is h a nd th es ec on d a s Ge rm an . Co mp ut er sy st em s i de nt if y
"l an gu ag es w it h g re at er t ha n 99% a cc ur ac y ; o cc as io na ll y , c lo se ly r el at ed l an gu ag es , s uc h a s"
"Sw ed is ha nd No rw eg ia n ,a re co nf us ed ."
On e a pp ro ac h t o l an gu ag e i de nt if ic at io n i s t o f ir st b ui ld a t ri gr am c ha ra ct er m od el o f
"e ac h c an di da te l an gu ag e , P(c i|c i−2:i−1,(c id:3)), w he re th e v ar ia bl e (c id:3)r an ge s o ve rl an gu ag es . Fo r"
"e ac h (c id:3) t he m od el i s b ui lt b y c ou nt in g t ri gr am s i n a co rp us o f t ha t l an gu ag e . (Ab ou t 100,000"
"c ha ra ct er s o f e ac h l an gu ag e a re n ee de d .) Th at g iv es u s a m od el o f P(Te xt|La ng ua ge), b ut"
"w ew an tt os el ec tt he mo st pr ob ab le la ng ua ge gi ve nt he te xt ,s ow ea pp ly Ba ye s’r ul ef ol lo we d"
b yt he Ma rk ov as su mp ti on t og et th em os tp ro ba bl e l an gu ag e:
(c id:3)∗ = a rg ma x P((c id:3)|c )
1:N
(c id:3)
= a rg ma x P((c id:3))P(c |(c id:3))
1:N
(c id:3)
(c id:25)N
"= a rg ma x P((c id:3)) P(c i|c i−2:i−1,(c id:3))"
(c id:3)
i=1
"Th et ri gr am m od el c an be l ea rn ed f ro m a co rp us , b ut w ha ta bo ut t he pr io rp ro ba bi li ty P((c id:3))?"
"We ma yh av e s om ee st im at e o ft he se v al ue s ; f or ex am pl e , i fw ea re se le ct in g a ra nd om We b"
p ag ew ek no wt ha t En gl is hi st he mo st li ke ly la ng ua ge an dt ha tt he pr ob ab il it yo f Ma ce do ni an
w il l b e l es s t ha n 1%. Th e e xa ct n um be r w es el ec t f or th es e p ri or s i s n ot c ri ti ca l b ec au se t he
t ri gr am mo de lu su al ly se le ct so ne la ng ua ge th at is se ve ra lo rd er so fm ag ni tu de mo re pr ob ab le
t ha na ny ot he r .
"Ot he r t as ks f or c ha ra ct er m od el s i nc lu de s pe ll in g c or re ct io n , g en re c la ss if ic at io n , a nd"
"n am ed-e nt it y r ec og ni ti on . Ge nr e c la ss if ic at io n m ea ns d ec id in g i f a t ex t i s a n ew s s to ry , a"
"l eg al d oc um en t , a s ci en ti fi c a rt ic le , e tc . Wh il e m an y f ea tu re s h el p m ak e t hi s c la ss if ic at io n ,"
"c ou nt s o f p un ct ua ti on a nd o th er c ha ra ct er n-g ra m f ea tu re s g o a l on g w ay (Ke ss le r e t a l .,"
1997). Na me d-e nt it y r ec og ni ti on i s t he t as k o f f in di ng n am es o f t hi ng s i n a d oc um en t a nd
"d ec id in g w ha tc la ss th ey be lo ng t o . Fo re xa mp le , i nt he te xt“Mr . So pe rs te en w as pr es cr ib ed"
"a ci ph ex ,”w es ho ul dr ec og ni ze th at“Mr . So pe rs te en”i st he na me of ap er so na nd“a ci ph ex”i s"
t he na me of ad ru g . Ch ar ac te r-l ev el m od el sa re go od fo rt hi st as kb ec au se t he yc an as so ci at e
t he ch ar ac te rs eq ue nc e “e x ”(“e x”f ol lo we db ya sp ac e)w it ha dr ug na me an d“s te en ”w it h
"a pe rs on na me ,a nd th er eb yi de nt if yw or ds th at th ey ha ve ne ve rs ee nb ef or e ."
22.1.2 Sm oo th in g n-g ra m m od el s
Th e m aj or c om pl ic at io n o f n-g ra m m od el s i s t ha t t he t ra in in g c or pu s p ro vi de s o nl y a n e st i-
m at eo ft he tr ue pr ob ab il it y d is tr ib ut io n . Fo rc om mo nc ha ra ct er s eq ue nc es s uc ha s“ t h”a ny
"En gl is hc or pu sw il lg iv ea go od es ti ma te: a bo ut 1.5%o fa ll tr ig ra ms . On th eo th er ha nd ,“ h t”"
i s v er y u nc om mo n—n o d ic ti on ar y w or ds s ta rt w it h h t . It i s l ik el y t ha t t he s eq ue nc e w ou ld
h av e a co un t o fz er o i na tr ai ni ng c or pu s o fs ta nd ar d En gl is h . Do es t ha t m ea nw es ho ul d a s-
"s ig n P(“ t h”)=0? If we di d ,t he nt he te xt“Th ep ro gr am i ss ue sa nh tt pr eq ue st” w ou ld ha ve"
Se ct io n 22.1. La ng ua ge Mo de ls 863
"a n En gl is hp ro ba bi li ty of ze ro ,w hi ch se em sw ro ng . We ha ve ap ro bl em in ge ne ra li za ti on: w e"
w an t o ur la ng ua ge m od el s t o g en er al iz e w el l t ot ex ts t he y h av en’t s ee n y et . Ju st b ec au se w e
h av en ev er se en“ h tt p”b ef or e d oe sn ot me an th at ou rm od el sh ou ld c la im th at it i si mp os si-
"b le . Th us , w e w il l a dj us t o ur l an gu ag e m od el s o t ha t s eq ue nc es t ha t h av e a c ou nt o f z er o i n"
t he tr ai ni ng c or pu sw il lb ea ss ig ne da sm al ln on ze ro pr ob ab il it y (a nd th eo th er co un ts wi ll be
a dj us te d d ow nw ar d s li gh tl y s ot ha t t he pr ob ab il it y s ti ll s um st o 1). Th ep ro ce ss o d a dj us ti ng
t he pr ob ab il it y o fl ow-f re qu en cy c ou nt si sc al le d s mo ot hi ng .
SMOOTHING
Th es im pl es tt yp eo fs mo ot hi ng wa ss ug ge st ed by Pi er re-Si mo n La pl ac ei nt he 18 t hc en-
"t ur y: h es ai dt ha t ,i nt he la ck of fu rt he ri nf or ma ti on ,i fa ra nd om Bo ol ea nv ar ia bl e X h as be en"
f al se in al ln ob se rv at io ns so fa rt he nt he es ti ma te fo r P(X=t ru e)s ho ul db e 1/(n+2). Th at
"i s ,h ea ss um es th at wi th tw om or et ri al s , o ne mi gh tb et ru ea nd o ne fa ls e . La pl ac es mo ot hi ng"
"(a ls oc al le da dd-o ne sm oo th in g)i sa st ep in th er ig ht di re ct io n ,b ut pe rf or ms re la ti ve ly po or ly ."
"Ab et te ra pp ro ac hi sa ba ck of fm od el ,i nw hi ch we st ar tb ye st im at in gn-g ra mc ou nt s ,b ut fo r"
BACKOFFMODEL
"a ny pa rt ic ul ar se qu en ce th at ha sa lo w(o rz er o)c ou nt ,w eb ac ko ff to(n−1)-g ra ms . Li ne ar"
LINEAR
"i nt er po la ti on s mo ot hi ng i s a b ac ko ff m od el t ha t c om bi ne s t ri gr am , b ig ra m , a nd u ni gr am"
INTERPOLATION
SMOOTHING
m od el sb yl in ea ri nt er po la ti on . It de fi ne st he pr ob ab il it y e st im at ea s
"P* (c i|c i−2:i−1)= λ 3 P(c i|c i−2:i−1)+λ 2 P(c i|c i−1)+λ 1 P(c i),"
"w he re λ +λ +λ =1. Th e p ar am et er v al ue s λ c an b e f ix ed , o r t he y c an b e t ra in ed w it h"
3 2 1 i
a n e xp ec ta ti on–m ax im iz at io n a lg or it hm . It i s a ls o p os si bl e t o h av e t he v al ue s o f λ d ep en d
i
"o n t he c ou nt s: i f w e h av e a h ig h c ou nt o f t ri gr am s , t he n w e w ei gh t he m r el at iv el y m or e ; i f"
"o nl ya lo wc ou nt ,t he nw ep ut mo re we ig ht on th eb ig ra ma nd un ig ra mm od el s . On ec am po f"
"r es ea rc he rs h as d ev el op ed e ve rm or e s op hi st ic at ed s mo ot hi ng m od el s , w hi le t he o th er c am p"
s ug ge st sg at he ri ng al ar ge rc or pu ss ot ha te ve ns im pl es mo ot hi ng mo de ls wo rk we ll . Bo th ar e
g et ti ng at th es am eg oa l: r ed uc in g t he va ri an ce in th el an gu ag e m od el .
On ec om pl ic at io n: n ot e t ha t t he e xp re ss io n P(c i|c i−2:i−1) a sk s f or P(c 1|c-1:0) w he n
"i = 1, b ut t he re a re n o c ha ra ct er s b ef or e c . We c an i nt ro du ce a rt if ic ia l c ha ra ct er s , f or"
1
"e xa mp le , d ef in in g c t o b e a s pa ce c ha ra ct er o r a s pe ci al “b eg in t ex t” c ha ra ct er . Or w e c an"
0
"f al l b ac k o n l ow er-o rd er Ma rk ov m od el s , i n e ff ec t d ef in in g c-1:0 t o b e t he e mp ty s eq ue nc e"
a nd th us P(c 1|c-1:0)=P(c 1).
22.1.3 Mo de l e va lu at io n
"Wi th s o m an y p os si bl e n-g ra m m od el s—u ni gr am , b ig ra m , t ri gr am , i nt er po la te d s mo ot hi ng"
"w it hd if fe re nt v al ue s o f λ,e tc .—h ow do we kn ow w ha tm od el to ch oo se ? We ca ne va lu at e a"
m od el w it h c ro ss-v al id at io n . Sp li t t he c or pu s i nt o a t ra in in g c or pu s a nd a v al id at io n c or pu s .
De te rm in e t he p ar am et er s o f t he m od el f ro m t he t ra in in g d at a . Th en e va lu at e t he m od el o n
t he va li da ti on c or pu s .
"Th e e va lu at io n c an b e a t as k-s pe ci fi c m et ri c , s uc h a s m ea su ri ng a cc ur ac y o n l an gu ag e"
i de nt if ic at io n . Al te rn at iv el y w ec an ha ve a ta sk-i nd ep en de nt m od el o fl an gu ag e q ua li ty: c al-
c ul at e t he p ro ba bi li ty a ss ig ne d t o t he v al id at io n c or pu s b y t he m od el ; t he h ig he r t he p ro ba-
b il it y t he b et te r . Th is m et ri c i s i nc on ve ni en t b ec au se t he p ro ba bi li ty o f a l ar ge c or pu s w il l
"b e a v er y s ma ll n um be r , a nd f lo at in g-p oi nt u nd er fl ow b ec om es a n i ss ue . A d if fe re nt w ay o f"
"d es cr ib in g t he pr ob ab il it y o fa se qu en ce is wi th am ea su re ca ll ed pe rp le xi ty ,d ef in ed as"
PERPLEXITY
864 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
−1
Pe rp le xi ty(c 1:N)= P(c 1:N) N .
"Pe rp le xi ty c an be th ou gh t o fa st he re ci pr oc al o fp ro ba bi li ty , n or ma li ze d b ys eq ue nc e l en gt h ."
It ca na ls ob et ho ug ht of as th ew ei gh te da ve ra ge br an ch in g f ac to ro fa mo de l . Su pp os et he re
"a re 100 c ha ra ct er s i n o ur l an gu ag e , a nd o ur m od el s ay s t he y a re a ll e qu al ly l ik el y . Th en f or"
"a se qu en ce o fa ny le ng th , t he pe rp le xi ty w il lb e 100. If so me ch ar ac te rs a re mo re li ke ly t ha n"
"o th er s , a nd th em od el re fl ec ts th at ,t he nt he mo de lw il lh av ea pe rp le xi ty l es st ha n 100."
22.1.4 N-g ra m w or dm od el s
No w w et ur n t o n-g ra m m od el s o ve rw or ds r at he r t ha n c ha ra ct er s . Al lt he s am e m ec ha ni sm
a pp li es e qu al ly t ow or da nd ch ar ac te r m od el s . Th em ai nd if fe re nc e i st ha tt he vo ca bu la ry—
VOCABULARY
t he s et o f s ym bo ls t ha t m ak e u p t he c or pu s a nd t he m od el—i s l ar ge r . Th er e a re o nl y a bo ut
"100 c ha ra ct er s i n m os t l an gu ag es , a nd s om et im es w e b ui ld c ha ra ct er m od el s t ha t a re e ve n"
"m or e r es tr ic ti ve , f or e xa mp le b y t re at in g “A” a nd “a” a s t he s am e s ym bo l o r b y t re at in g a ll"
p un ct ua ti on a st he sa me sy mb ol . Bu tw it hw or dm od el sw eh av ea tl ea st te ns of th ou sa nd s o f
"s ym bo ls ,a nd so me ti me sm il li on s . Th ew id er an ge is be ca us ei ti sn ot cl ea rw ha tc on st it ut es a"
"w or d . In En gl is ha se qu en ce of le tt er ss ur ro un de db ys pa ce si sa wo rd ,b ut in so me la ng ua ge s ,"
"l ik e Ch in es e ,w or ds ar en ot se pa ra te db ys pa ce s ,a nd ev en in En gl is hm an yd ec is io ns mu st be"
m ad et oh av ea cl ea rp ol ic yo nw or db ou nd ar ie s: h ow ma ny wo rd sa re in“n e’e r-d o-w el l”? Or
i n“(Te l:1-800-960-5660 x 123)”?
OUTOF Wo rd n-g ra mm od el sn ee dt od ea lw it ho ut of vo ca bu la ry wo rd s . Wi th ch ar ac te rm od-
VOCABULARY
"e ls , w e d id n’t h av e t o w or ry a bo ut s om eo ne i nv en ti ng a n ew l et te r o f t he a lp ha be t .1 Bu t"
w it hw or dm od el s t he re is al wa ys th ec ha nc e o fa ne ww or dt ha tw as no ts ee n i nt he tr ai ni ng
"c or pu s , s o w e n ee d t o m od el t ha t e xp li ci tl y i n o ur l an gu ag e m od el . Th is c an b e d on e b y"
"a dd in g j us t o ne n ew w or d t o t he v oc ab ul ar y: <UNK>, s ta nd in g f or t he u nk no wn w or d . We"
"c an e st im at e n-g ra m c ou nt s f or <UNK> b y t hi s t ri ck: g o t hr ou gh t he t ra in in g c or pu s , a nd"
"t he f ir st t im e a ny i nd iv id ua l w or d a pp ea rs i t i s p re vi ou sl y u nk no wn , s o r ep la ce i t w it h t he"
s ym bo l <UNK>. Al ls ub se qu en t a pp ea ra nc es o f t he w or d r em ai n u nc ha ng ed . Th en c om pu te
"n-g ra m c ou nt s f or th e c or pu s a s u su al , t re at in g <UNK>j us t l ik e a ny ot he r w or d . Th en w he n"
"a nu nk no wn w or da pp ea rs i na te st se t , w el oo k u pi ts pr ob ab il it y u nd er <UNK>. So me ti me s"
"m ul ti pl e u nk no wn-w or d s ym bo ls a re u se d , f or d if fe re nt c la ss es . Fo r e xa mp le , a ny s tr in g o f"
"d ig it sm ig ht be re pl ac ed w it h<NUM>,o ra ny em ai la dd re ss w it h<EMAIL>."
"To g et a f ee li ng f or w ha t w or d m od el s c an d o , w e b ui lt u ni gr am , b ig ra m , a nd t ri gr am"
m od el so ve rt he wo rd si nt hi sb oo ka nd th en ra nd om ly sa mp le ds eq ue nc es o fw or ds fr om th e
m od el s . Th er es ul ts ar e
Un ig ra m: l og ic al a re as ar ec on fu si on a ma yr ig ht tr ie sa ge nt go al th ew as ...
Bi gr am: s ys te ms ar ev er ys im il ar co mp ut at io na l a pp ro ac h w ou ld be re pr es en te d ...
Tr ig ra m: p la nn in g a nd sc he du li ng a re in te gr at ed t he su cc es s o fn ai ve b ay es mo de li s ...
"Ev en wi th th is sm al ls am pl e ,i ts ho ul db ec le ar th at th eu ni gr am mo de li sa po or ap pr ox im at io n"
"o fe it he r En gl is ho rt he co nt en to fa n AIt ex tb oo k ,a nd th at th eb ig ra ma nd tr ig ra mm od el sa re"
1 Wi th th ep os si bl ee xc ep ti on of th eg ro un db re ak in gw or ko f T .Ge is el(1955).
Se ct io n 22.2. Te xt Cl as si fi ca ti on 865
m uc hb et te r . Th em od el sa gr ee wi th th is as se ss me nt: t he pe rp le xi ty w as 891 f or th eu ni gr am
"m od el ,142 f or th eb ig ra m m od el an d 91 f or th et ri gr am mo de l ."
"Wi th t he b as ic s o f n-g ra m m od el s—b ot h c ha ra ct er- a nd w or d-b as ed—e st ab li sh ed , w e"
c an tu rn no wt os om el an gu ag e t as ks .
22.2 TEXT CLASSIFICATION
"TEXT We no wc on si de ri nd ep th th et as ko ft ex tc la ss if ic at io n ,a ls ok no wn as ca te go ri za ti on: g iv en"
CLASSIFICATION
"a te xt of so me ki nd ,d ec id ew hi ch of ap re de fi ne ds et of cl as se si tb el on gs to . La ng ua ge id en-"
"t if ic at io n a nd g en re c la ss if ic at io n a re ex am pl es o ft ex tc la ss if ic at io n , a si ss en ti me nt a na ly si s"
(c la ss if yi ng a mo vi eo rp ro du ct re vi ew as po si ti ve or ne ga ti ve)a nd sp am de te ct io n(c la ss if y-
SPAMDETECTION
"i ng an em ai lm es sa ge as sp am or no t-s pa m). Si nc e“n ot-s pa m” i sa wk wa rd ,r es ea rc he rs h av e"
c oi ne d t he t er m h am f or no t-s pa m . We c an t re at s pa m d et ec ti on a s a p ro bl em i n s up er vi se d
l ea rn in g . A t ra in in g s et i s r ea di ly a va il ab le: t he p os it iv e (s pa m) e xa mp le s a re i n m y s pa m
"f ol de r , t he ne ga ti ve(h am)e xa mp le sa re in my in bo x . He re is an ex ce rp t:"
Sp am:Wh ol es al e Fa sh io n Wa tc he s-57%t od ay .De si gn er wa tc he sf or ch ea p ...
Sp am:Yo uc an bu y Vi ag ra Fr$1.85 Al l Me di ca ti on sa tu nb ea ta bl ep ri ce s ! ...
Sp am:WECANTREATANYTHINGYOUSUFFERFROMJUSTTRUSTUS ...
"Sp am:St a .r te ar n*i ng th es al ar yy o ,u d-e se rv eb yo’b ta in in gt he pr op e ,r cr ed e’n ti al s !"
Ha m:Th ep ra ct ic al si gn if ic an ce of hy pe rt re ew id th in id en ti fy in gm or e ...
Ha m:Ab st ra ct:We wi ll mo ti va te th ep ro bl em of so ci al id en ti ty cl us te ri ng:...
"Ha m:Go od to se ey ou my fr ie nd .He y Pe te r ,It wa sg oo dt oh ea rf ro my ou ...."
Ha m:PDSi mp li es co nv ex it yo ft he re su lt in go pt im iz at io np ro bl em(Ke rn el Ri dg e ...
Fr om t hi s e xc er pt w e c an s ta rt t o g et a n i de a o f w ha t m ig ht b e g oo d f ea tu re s t o i nc lu de i n
t he s up er vi se d l ea rn in g m od el . Wo rd n-g ra ms s uc h a s “f or ch ea p” a nd “Yo u c an b uy” s ee m
t o b e i nd ic at or s o f s pa m (a lt ho ug h t he y w ou ld h av e a n on ze ro p ro ba bi li ty i n h am a s w el l).
Ch ar ac te r-l ev el f ea tu re s a ls o s ee m i mp or ta nt: s pa m i sm or e l ik el y t ob e a ll up pe rc as e a nd t o
h av ep un ct ua ti on em be dd ed in wo rd s . Ap pa re nt ly th es pa mm er st ho ug ht th at th ew or db ig ra m
"“y ou d es er ve” w ou ld b e t oo i nd ic at iv e o f s pa m , a nd t hu s w ro te “y o ,u d-e se rv e” i ns te ad . A"
c ha ra ct er m od el s ho ul d d et ec t t hi s . We c ou ld e it he r c re at e a f ul l c ha ra ct er n-g ra m m od el
"o f s pa m a nd h am , o r w e c ou ld h an dc ra ft f ea tu re s s uc h a s “n um be r o f p un ct ua ti on m ar ks"
e mb ed de di nw or ds .”
No te t ha t w e h av e t wo c om pl em en ta ry w ay s o f t al ki ng a bo ut c la ss if ic at io n . In t he
"l an gu ag e-m od el in g a pp ro ac h , w ed ef in eo ne n-g ra ml an gu ag em od el fo r P(Me ss ag e|s pa m)"
"b yt ra in in go nt he sp am fo ld er ,a nd on em od el fo r P(Me ss ag e|h am)b yt ra in in go nt he in bo x ."
Th en we ca nc la ss if y a ne wm es sa ge wi th an ap pl ic at io n o f Ba ye s’r ul e:
a rg ma x P(c|m es sa ge) = a rg ma x P(m es sa ge|c)P(c).
"c∈{s pa m ,h am} c∈{s pa m ,h am}"
w he re P(c)i se st im at ed j us tb y c ou nt in g t he to ta l n um be ro fs pa m a nd h am m es sa ge s . Th is
"a pp ro ac h w or ks we ll fo rs pa md et ec ti on , j us ta si td id fo rl an gu ag e i de nt if ic at io n ."
866 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
In t he m ac hi ne-l ea rn in g a pp ro ac h w e r ep re se nt t he m es sa ge a s a s et o f f ea tu re/v al ue
p ai rs a nd a pp ly a c la ss if ic at io n a lg or it hm h t o t he f ea tu re v ec to r X . We c an m ak e t he
l an gu ag e-m od el in g a nd ma ch in e-l ea rn in g a pp ro ac he sc om pa ti bl eb yt hi nk in go ft he n-g ra ms
a s f ea tu re s . Th is i s e as ie st t o s ee w it h a u ni gr am m od el . Th e f ea tu re s a re t he w or ds i n t he
"v oc ab ul ar y: “a ,” “a ar dv ar k ,” ..., a nd t he v al ue s a re t he n um be r o f t im es e ac h w or d a pp ea rs"
"i nt he me ss ag e . Th at ma ke st he fe at ur ev ec to rl ar ge an ds pa rs e . If th er ea re 100,000 w or ds in"
"t he la ng ua ge mo de l ,t he nt he fe at ur ev ec to rh as le ng th 100,000,b ut fo ra sh or te ma il me ss ag e"
a lm os ta ll th ef ea tu re s w il lh av ec ou nt z er o . Th is un ig ra m r ep re se nt at io n h as be en c al le d t he
b ag of wo rd sm od el . Yo uc an th in k o ft he mo de la sp ut ti ng t he wo rd so ft he tr ai ni ng c or pu s
BAGOFWORDS
i n a b ag a nd t he n s el ec ti ng w or ds o ne a t a t im e . Th e n ot io n o f o rd er o f t he w or ds i s l os t ; a
u ni gr am mo de lg iv es th es am ep ro ba bi li ty t oa ny pe rm ut at io n o fa te xt . Hi gh er-o rd er n-g ra m
m od el sm ai nt ai ns om el oc al no ti on of wo rd or de r .
"Wi th bi gr am sa nd tr ig ra ms th en um be ro ff ea tu re s i ss qu ar ed o rc ub ed , a nd we ca na dd"
"i n o th er , n on-n-g ra m f ea tu re s: t he t im e t he m es sa ge w as s en t , w he th er a URL o r a n i ma ge"
"i s p ar t o f t he m es sa ge , a n ID n um be r f or t he s en de r o f t he m es sa ge , t he s en de r’s n um be r o f"
"p re vi ou ss pa ma nd ha mm es sa ge s ,a nd so on . Th ec ho ic eo ff ea tu re si st he mo st im po rt an tp ar t"
o fc re at in ga go od sp am de te ct or—m or ei mp or ta nt th an th ec ho ic eo fa lg or it hm fo rp ro ce ss in g
"t he f ea tu re s . In p ar t t hi s i s b ec au se t he re i s a l ot o f t ra in in g d at a , s o i f w e c an p ro po se a"
"f ea tu re , t he d at a c an a cc ur at el y d et er mi ne i f i t i s g oo d o r n ot . It i s n ec es sa ry t o c on st an tl y"
"u pd at e f ea tu re s , b ec au se s pa m d et ec ti on i s a n a dv er sa ri al t as k ; t he s pa mm er s m od if y t he ir"
s pa mi nr es po ns e t ot he sp am de te ct or’s c ha ng es .
"It ca n b e e xp en si ve t o r un a lg or it hm s o n a v er y l ar ge f ea tu re v ec to r , s o o ft en a pr oc es s"
o ff ea tu re se le ct io ni su se dt ok ee po nl yt he fe at ur es th at be st di sc ri mi na te be tw ee ns pa ma nd
FEATURESELECTION
"h am . Fo re xa mp le ,t he bi gr am“o ft he”i sf re qu en ti n En gl is h , a nd ma yb ee qu al ly fr eq ue nt in"
"s pa m a nd h am , s ot he re i sn o s en se i nc ou nt in g i t . Of te n t he t op h un dr ed o rs of ea tu re s d o a"
g oo dj ob of di sc ri mi na ti ng b et we en cl as se s .
"On ce w e h av e c ho se n a s et o f f ea tu re s , w e c an a pp ly a ny o f t he s up er vi se d l ea rn in g"
"t ec hn iq ue s w e h av e s ee n ; p op ul ar o ne s f or t ex t c at eg or iz at io n i nc lu de k-n ea re st-n ei gh bo rs ,"
"s up po rt v ec to r m ac hi ne s , d ec is io n t re es , n ai ve Ba ye s , a nd l og is ti c r eg re ss io n . Al l o f t he se"
"h av e b ee n a pp li ed t o s pa m d et ec ti on , u su al ly w it h a cc ur ac y i n t he 98%–99% r an ge . Wi th a"
"c ar ef ul ly d es ig ne d f ea tu re se t ,a cc ur ac y c an ex ce ed 99.9%."
22.2.1 Cl as si fi ca ti on by d at a c om pr es si on
An ot he r w ay t o t hi nk a bo ut c la ss if ic at io n i s a s a p ro bl em i n d at a c om pr es si on . A l os sl es s
DATACOMPRESSION
"c om pr es si on al go ri th mt ak es as eq ue nc eo fs ym bo ls ,d et ec ts re pe at ed pa tt er ns in it ,a nd wr it es"
"a d es cr ip ti on o f t he s eq ue nc e t ha t i s m or e c om pa ct t ha n t he o ri gi na l . Fo r e xa mp le , t he t ex t"
“0.142857142857142857”m ig ht be co mp re ss ed to“0.[142857]*3.” Co mp re ss io na lg or it hm s
"w or kb yb ui ld in g d ic ti on ar ie s o fs ub se qu en ce s o ft he te xt ,a nd th en re fe rr in g t oe nt ri es i nt he"
"d ic ti on ar y . Th ee xa mp le he re ha do nl yo ne di ct io na ry e nt ry , “142857.”"
"In e ff ec t , c om pr es si on a lg or it hm s a re c re at in g a l an gu ag e m od el . Th e LZWa lg or it hm"
i np ar ti cu la rd ir ec tl ym od el sa ma xi mu m-e nt ro py pr ob ab il it yd is tr ib ut io n . To do cl as si fi ca ti on
"b yc om pr es si on , w ef ir st lu mp to ge th er al lt he sp am tr ai ni ng me ss ag es an dc om pr es st he ma s"
Se ct io n 22.3. In fo rm at io n Re tr ie va l 867
"a un it . We do th es am ef or th eh am . Th en wh en gi ve n a ne wm es sa ge t oc la ss if y , w ea pp en d"
i tt ot he sp am me ss ag es an dc om pr es st he re su lt . We al so ap pe nd i tt ot he ha ma nd co mp re ss
t ha t . Wh ic he ve r c la ss c om pr es se s b et te r—a dd s t he f ew er nu mb er o f a dd it io na l b yt es f or th e
n ew m es sa ge—i s t he p re di ct ed c la ss . Th e i de a i s t ha t a s pa m m es sa ge w il l t en d t o s ha re
d ic ti on ar ye nt ri es wi th ot he rs pa mm es sa ge sa nd th us wi ll co mp re ss be tt er wh en ap pe nd ed to
a co ll ec ti on t ha ta lr ea dy c on ta in st he sp am di ct io na ry .
Ex pe ri me nt sw it hc om pr es si on-b as ed c la ss if ic at io no ns om eo ft he st an da rd co rp or af or
"t ex tc la ss if ic at io n—t he 20-Ne ws gr ou ps d at as et ,t he Re ut er s-10 Co rp or a , t he In du st ry Se ct or"
"c or po ra—i nd ic at et ha tw he re as ru nn in go ff-t he-s he lf co mp re ss io na lg or it hm sl ik eg zi p ,RAR ,"
"a nd LZW c an b e q ui te s lo w , t he ir a cc ur ac y i s c om pa ra bl e t o t ra di ti on al c la ss if ic at io n a lg o-"
"r it hm s . Th is i s i nt er es ti ng i n i ts o wn r ig ht , a nd a ls o s er ve s t o p oi nt o ut t ha t t he re i s p ro mi se"
f or al go ri th ms th at us ec ha ra ct er n-g ra ms di re ct ly wi th no pr ep ro ce ss in g o ft he te xt or fe at ur e
s el ec ti on: t he ys ee mt ob ec ap ti ri ng s om er ea lp at te rn s .
22.3 INFORMATION RETRIEVAL
INFORMATION In fo rm at io n r et ri ev al i s t he t as k o f f in di ng d oc um en ts t ha t a re r el ev an t t o a u se r’s n ee d f or
RETRIEVAL
i nf or ma ti on . Th e b es t-k no wn e xa mp le s o f i nf or ma ti on r et ri ev al s ys te ms a re s ea rc h e ng in es
o nt he Wo rl d Wi de We b . AWe bu se rc an ty pe aq ue ry su ch as[AIb oo k]2 i nt oa se ar ch en gi ne
"a nd s ee a l is t o f r el ev an t p ag es . In t hi s s ec ti on , w e w il l s ee h ow s uc h s ys te ms a re b ui lt . An"
i nf or ma ti on r et ri ev al(h en ce fo rt h IR)s ys te mc an be ch ar ac te ri ze d b y
IR
1. Ac or pu so fd oc um en ts . Ea ch sy st em mu st de ci de wh at it wa nt st ot re at as ad oc um en t:
"a pa ra gr ap h , a pa ge ,o ra mu lt ip ag e t ex t ."
2. Qu er ie s p os ed i n a q ue ry l an gu ag e . A q ue ry s pe ci fi es w ha t t he u se r w an ts t o k no w .
QUERYLANGUAGE
"Th e q ue ry l an gu ag e c an b e j us t a l is t o f w or ds , s uc h a s [AI b oo k]; o r i t c an s pe ci fy"
"a p hr as e o f w or ds t ha t m us t b e a dj ac en t , a s i n [“AI b oo k”]; i t c an c on ta in Bo ol ea n"
o pe ra to rs as in[AIANDb oo k];i tc an in cl ud en on-Bo ol ea no pe ra to rs su ch as[AINEAR
b oo k]o r[AIb oo ks it e:w ww .a aa i .o rg].
3. Ar es ul ts et . Th is is th es ub se to fd oc um en ts th at th e IRs ys te mj ud ge st ob er el ev an tt o
RESULTSET
"t he qu er y . By re le va nt , w em ea nl ik el y t ob eo fu se to th ep er so n w ho po se d t he qu er y ,"
RELEVANT
f or th ep ar ti cu la ri nf or ma ti on n ee de xp re ss ed in th eq ue ry .
4. A p re se nt at io n o f t he r es ul t s et . Th is c an b e a s s im pl e a s a r an ke d l is t o f d oc um en t
PRESENTATION
t it le s o r a s c om pl ex a s a r ot at in g c ol or m ap o f t he r es ul t s et p ro je ct ed o nt o a t hr ee-
"d im en si on al s pa ce ,r en de re d a sa tw o-d im en si on al d is pl ay ."
BOOLEANKEYWORD Th e e ar li es t IR s ys te ms w or ke d o n a Bo ol ea n k ey wo rd m od el . Ea ch w or d i n t he d oc um en t
MODEL
c ol le ct io n i st re at ed a s a Bo ol ea n f ea tu re t ha t i s t ru e o fa do cu me nt i ft he w or d o cc ur s i n t he
d oc um en t a nd f al se i f i t d oe s n ot . So t he f ea tu re “r et ri ev al” i s t ru e f or t he c ur re nt c ha pt er
b ut f al se f or Ch ap te r 15. Th e q ue ry l an gu ag e i s t he l an gu ag e o f Bo ol ea n e xp re ss io ns o ve r
2 We de no te a se ar ch q ue ry a s[q ue ry]. Sq ua re br ac ke ts a re us ed r at he rt ha n q uo ta ti on m ar ks so th at w ec an
d is ti ng ui sh th eq ue ry[“t wo wo rd s”]f ro m[t wo wo rd s].
868 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
"f ea tu re s . A d oc um en t i s r el ev an t o nl y i f t he e xp re ss io n e va lu at es t o t ru e . Fo r e xa mp le , t he"
q ue ry[i nf or ma ti on ANDr et ri ev al]i st ru ef or th ec ur re nt ch ap te ra nd fa ls ef or Ch ap te r 15.
"Th is m od el h as t he a dv an ta ge o f b ei ng s im pl e t o e xp la in a nd i mp le me nt . Ho we ve r ,"
"i t h as s om e d is ad va nt ag es . Fi rs t , t he d eg re e o f r el ev an ce o f a d oc um en t i s a s in gl e b it , s o"
"t he re i s n o g ui da nc e a s t o h ow t o o rd er t he r el ev an t d oc um en ts f or p re se nt at io n . Se co nd ,"
Bo ol ea n e xp re ss io ns a re u nf am il ia r t o u se rs w ho a re n ot p ro gr am me rs o r l og ic ia ns . Us er s
f in d i t u ni nt ui ti ve t ha t w he n t he y w an t t o k no w a bo ut f ar mi ng i n t he s ta te s o f Ka ns as a nd
"Ne br as ka t he y n ee d t o i ss ue t he q ue ry [f ar mi ng (Ka ns as OR Ne br as ka)]. Th ir d , i t c an b e"
"h ar d t o f or mu la te a na pp ro pr ia te q ue ry , e ve n f or as ki ll ed u se r . Su pp os e w et ry[i nf or ma ti on"
AND r et ri ev al AND m od el s AND o pt im iz at io n] a nd g et a n e mp ty r es ul t s et . We c ou ld t ry
"[i nf or ma ti on ORr et ri ev al ORm od el s ORo pt im iz at io n], b ut if th at r et ur ns t oo m an yr es ul ts ,"
i ti sd if fi cu lt to kn ow wh at to tr yn ex t .
22.3.1 IR s co ri ng f un ct io ns
Mo st IRs ys te ms ha ve ab an do ne dt he Bo ol ea nm od el an du se mo de ls ba se do nt he st at is ti cs of
"BM 25 SCORING w or dc ou nt s . We de sc ri be th e BM 25 s co ri ng fu nc ti on ,w hi ch co me sf ro mt he Ok ap ip ro je ct"
FUNCTION
"o f St ep he n Ro be rt so n a nd Ka re n Sp ar ck Jo ne s a t Lo nd on’s Ci ty Co ll eg e , a nd h as b ee n u se d"
i ns ea rc he ng in es s uc ha st he op en-s ou rc e Lu ce ne pr oj ec t .
As co ri ng fu nc ti on ta ke sa do cu me nt an da qu er ya nd re tu rn sa nu me ri cs co re ;t he mo st
"r el ev an t d oc um en ts h av e t he h ig he st s co re s . In t he BM 25 f un ct io n , t he s co re i s a l in ea r"
w ei gh te d c om bi na ti on o fs co re s f or ea ch o ft he w or ds t ha t m ak eu p t he qu er y . Th re ef ac to rs
"a ff ec t t he w ei gh t o f a q ue ry t er m: Fi rs t , t he f re qu en cy w it h w hi ch a q ue ry t er m a pp ea rs i n"
"a d oc um en t (a ls o k no wn a s TF f or t er m f re qu en cy). Fo r t he q ue ry [f ar mi ng i n Ka ns as],"
"d oc um en ts t ha t m en ti on “f ar mi ng” f re qu en tl y w il l h av e h ig he r s co re s . Se co nd , t he i nv er se"
"d oc um en t f re qu en cy o ft he te rm , o r IDF . Th ew or d“i n” a pp ea rs i na lm os te ve ry d oc um en t ,"
"s oi th as ah ig h d oc um en t f re qu en cy , a nd th us a lo wi nv er se d oc um en t f re qu en cy , a nd t hu si t"
"i sn ot as im po rt an tt ot he qu er ya s“f ar mi ng”o r“Ka ns as .” Th ir d ,t he le ng th of th ed oc um en t ."
"Am il li on-w or dd oc um en tw il lp ro ba bl ym en ti on al lt he qu er y w or ds ,b ut ma yn ot ac tu al ly be"
a bo ut th eq ue ry . As ho rt do cu me nt t ha tm en ti on sa ll th ew or ds i sa mu ch be tt er ca nd id at e .
Th e BM 25 f un ct io n t ak es a ll t hr ee o f t he se i nt o a cc ou nt . We a ss um e w e h av e c re at ed
"a n i nd ex o f t he N d oc um en ts i n t he c or pu s s o t ha t w e c an l oo k u p TF(q ,d ), t he c ou nt o f"
i j
t he n um be r o f t im es w or d q a pp ea rs i n d oc um en t d . We a ls o a ss um e a t ab le o f d oc um en t
i j
"f re qu en cy c ou nt s , DF(q ), t ha t g iv es t he n um be r o f d oc um en ts t ha t c on ta in t he w or d q ."
i i
"Th en ,g iv en ad oc um en t d a nd aq ue ry co ns is ti ng o ft he wo rd s q ,w eh av e"
j 1:N
"(c id:12)N TF(q ,d )·(k+1)"
"BM 25(d ,q ) = IDF(q )· i j ,"
"j 1:N i TF(q ,d )+k·(1−b+b· |d j| )"
i=1 i j L
"w he re |d | i s t he l en gt h o f d oc um en t d i n w or ds , a nd L i s t he a ve ra ge d oc um en t l en gt h"
j (c id:2) j
"i n t he c or pu s: L = |d |/N . We h av e t wo p ar am et er s , k a nd b , t ha t c an b e t un ed b y"
i i
c ro ss-v al id at io n ; t yp ic al v al ue s a re k = 2.0 a nd b = 0.75. IDF(q )i s t he i nv er se d oc um en t
i
Se ct io n 22.3. In fo rm at io n Re tr ie va l 869
"f re qu en cy o fw or d q ,g iv en by"
i
N −DF(q )+0.5
i
IDF(q )= l og .
i
DF(q )+0.5
i
"Of c ou rs e , i t w ou ld b e i mp ra ct ic al t o a pp ly t he BM 25 s co ri ng f un ct io n t o e ve ry d oc um en t"
"i n t he c or pu s . In st ea d , s ys te ms c re at e a n i nd ex a he ad o f t im e t ha t l is ts , f or e ac h v oc ab ul ar y"
INDEX
"w or d ,t he do cu me nt st ha tc on ta in th ew or d . Th is is ca ll ed th eh it li st fo rt he wo rd . Th en wh en"
HITLIST
"g iv en a q ue ry , w e i nt er se ct t he h it l is ts o f t he q ue ry w or ds a nd o nl y s co re t he d oc um en ts i n"
t he in te rs ec ti on .
22.3.2 IR s ys te m e va lu at io n
Ho wd ow ek no w w he th er an IRs ys te m i sp er fo rm in g w el l ? We un de rt ak e a ne xp er im en t i n
w hi ch th es ys te mi sg iv en as et of qu er ie sa nd th er es ul ts et sa re sc or ed wi th re sp ec tt oh um an
"r el ev an ce j ud gm en ts . Tr ad it io na ll y , t he re ha ve be en tw om ea su re s u se di nt he sc or in g: r ec al l"
a nd p re ci si on . We ex pl ai n t he m w it ht he he lp o fa ne xa mp le . Im ag in e t ha ta n IRs ys te m h as
"r et ur ne d a re su lt s et fo ra si ng le q ue ry , f or wh ic h w ek no w w hi ch d oc um en ts a re an da re n ot"
"r el ev an t , o ut of ac or pu so f 100 d oc um en ts . Th ed oc um en t c ou nt si ne ac hc at eg or y a re gi ve n"
i nt he fo ll ow in gt ab le:
In re su lt se t No ti nr es ul ts et
Re le va nt 30 20
No tr el ev an t 10 40
Pr ec is io n m ea su re s t he p ro po rt io n o f d oc um en ts i n t he r es ul t s et t ha t a re a ct ua ll y r el ev an t .
PRECISION
"In ou re xa mp le ,t he pr ec is io n i s 30/(30+10)=.75. Th ef al se po si ti ve r at ei s 1−.75=.25."
Re ca ll m ea su re s t he p ro po rt io n o f a ll t he r el ev an t d oc um en ts i n t he c ol le ct io n t ha t a re i n
RECALL
"t he r es ul t s et . In o ur e xa mp le , r ec al l i s 30/(30 +20)=.60. Th e f al se n eg at iv e r at e i s 1−"
".60=.40. In av er yl ar ge do cu me nt co ll ec ti on ,s uc ha st he Wo rl d Wi de We b ,r ec al li sd if fi cu lt"
"t o c om pu te , b ec au se t he re i s n o e as y w ay t o e xa mi ne e ve ry p ag e o n t he We b f or r el ev an ce ."
Al lw ec an do is ei th er es ti ma te re ca ll by sa mp li ng or ig no re re ca ll co mp le te ly an dj us tj ud ge
"p re ci si on . In t he c as e o f a We b s ea rc h e ng in e , t he re m ay b e t ho us an ds o f d oc um en ts i n t he"
"r es ul t s et , s o i t m ak es m or e s en se t o m ea su re p re ci si on f or s ev er al d if fe re nt s iz es , s uc h a s"
"“P@10” (p re ci si on i n t he t op 10 r es ul ts) o r“P@50,” r at he r t ha n t o e st im at e p re ci si on i n t he"
e nt ir er es ul ts et .
It i s p os si bl e t o t ra de o ff p re ci si on a ga in st r ec al l b y v ar yi ng t he s iz e o f t he r es ul t s et
"r et ur ne d . In th ee xt re me , a sy st em t ha tr et ur ns e ve ry do cu me nt i nt he do cu me nt c ol le ct io n i s"
"g ua ra nt ee d a re ca ll o f 100%, b ut w il lh av e l ow p re ci si on . Al te rn at el y , a sy st em c ou ld r et ur n"
"a s in gl e d oc um en t a nd h av e l ow r ec al l , b ut a d ec en t c ha nc e a t 100% p re ci si on . A s um ma ry"
"o fb ot hm ea su re si st he F s co re ,a si ng le nu mb er th at is th eh ar mo ni cm ea no fp re ci si on a nd"
1
"r ec al l , 2 PR/(P +R)."
22.3.3 IR r ef in em en ts
"Th er e a re m an y p os si bl e r ef in em en ts t o t he s ys te m d es cr ib ed h er e , a nd i nd ee d We b s ea rc h"
e ng in es ar ec on ti nu al ly u pd at in gt he ir al go ri th ms as th ey di sc ov er ne wa pp ro ac he sa nd as th e
We bg ro ws an dc ha ng es .
870 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
On ec om mo nr ef in em en ti sa be tt er mo de lo ft he ef fe ct of do cu me nt le ng th on re le va nc e .
Si ng ha l e t a l . (1996) o bs er ve d t ha t s im pl e d oc um en t l en gt h n or ma li za ti on s ch em es t en d t o
f av or s ho rt d oc um en ts t oo m uc h a nd l on g d oc um en ts n ot e no ug h . Th ey p ro po se a p iv ot ed
d oc um en t l en gt h n or ma li za ti on s ch em e ; t he i de a i s t ha t t he p iv ot i s t he d oc um en t l en gt h a t
w hi ch t he o ld-s ty le n or ma li za ti on i s c or re ct ; d oc um en ts s ho rt er t ha n t ha t g et a b oo st a nd
l on ge ro ne sg et ap en al ty .
Th e BM 25 s co ri ng f un ct io n u se s a w or d m od el t ha t t re at s a ll w or ds a s c om pl et el y i n-
"d ep en de nt , b ut w e k no w t ha t s om e w or ds a re c or re la te d: “c ou ch” i s c lo se ly r el at ed t o b ot h"
“c ou ch es” a nd“s of a .” Ma ny IRs ys te ms at te mp tt oa cc ou nt fo rt he se co rr el at io ns .
"Fo re xa mp le , i ft he qu er yi s[c ou ch], i tw ou ld be as ha me to ex cl ud ef ro mt he re su lt se t"
t ho se d oc um en ts t ha t m en ti on “COUCH” o r “c ou ch es” b ut n ot “c ou ch .” Mo st IR s ys te ms
"d o c as e f ol di ng o f “COUCH” t o “c ou ch ,” a nd s om e u se a s te mm in g a lg or it hm t o r ed uc e"
CASEFOLDING
"“c ou ch es” t o t he s te m f or m “c ou ch ,” b ot h i n t he q ue ry a nd t he d oc um en ts . Th is t yp ic al ly"
STEMMING
"y ie ld s a s ma ll i nc re as e i n r ec al l (o n t he o rd er o f 2% f or En gl is h). Ho we ve r , i t c an h ar m"
"p re ci si on . Fo r e xa mp le , s te mm in g “s to ck in g” t o “s to ck” w il l t en d t o d ec re as e p re ci si on f or"
"q ue ri es a bo ut e it he rf oo tc ov er in gs o rf in an ci al i ns tr um en ts , a lt ho ug h i tc ou ld i mp ro ve re ca ll"
"f or q ue ri es a bo ut w ar eh ou si ng . St em mi ng a lg or it hm s b as ed o n r ul es (e .g ., r em ov e “-i ng”)"
"c an no t a vo id t hi s p ro bl em , b ut a lg or it hm s b as ed o n d ic ti on ar ie s (d on’t r em ov e “-i ng” i f t he"
"w or d i s a lr ea dy l is te d i n t he d ic ti on ar y) c an . Wh il e s te mm in g h as a s ma ll e ff ec t i n En gl is h ,"
"i t i s m or e i mp or ta nt i n o th er l an gu ag es . In Ge rm an , f or e xa mp le , i t i s n ot u nc om mo n t o"
s ee w or ds l ik e “Le be ns ve rs ic he ru ng sg es el ls ch af ts an ge st el lt er” (l if e i ns ur an ce c om pa ny e m-
"p lo ye e). La ng ua ge s s uc ha s Fi nn is h , Tu rk is h , In ui t , a nd Yu pi kh av er ec ur si ve m or ph ol og ic al"
r ul es th at in pr in ci pl e g en er at e w or ds of un bo un de d l en gt h .
"Th en ex ts te pi st or ec og ni ze sy no ny ms ,s uc ha s“s of a”f or“c ou ch .” As wi th st em mi ng ,"
SYNONYM
"t hi s h as t he p ot en ti al f or s ma ll g ai ns i n r ec al l , b ut c an h ur t p re ci si on . A u se r w ho g iv es t he"
"q ue ry [Ti m Co uc h] w an ts t o s ee r es ul ts a bo ut t he f oo tb al l p la ye r , n ot s of as . Th e p ro bl em i s"
"t ha t“l an gu ag es ab ho ra bs ol ut es yn on ym sj us ta sn at ur ea bh or sa va cu um”(Cr us e ,1986). Th at"
"i s , a ny ti me t he re a re tw ow or ds t ha tm ea n t he sa me th in g , s pe ak er s o ft he la ng ua ge c on sp ir e"
t o e vo lv e t he m ea ni ng s t o r em ov e t he c on fu si on . Re la te d w or ds t ha t a re n ot s yn on ym s a ls o
"p la y a n i mp or ta nt r ol e i n r an ki ng—t er ms l ik e “l ea th er”, “w oo de n ,” o r “m od er n” c an s er ve"
t o c on fi rm t ha t t he d oc um en t r ea ll y i s a bo ut “c ou ch .” Sy no ny ms a nd r el at ed w or ds c an b e
f ou nd i n d ic ti on ar ie s o r b y l oo ki ng f or c or re la ti on s i n d oc um en ts o r i n q ue ri es—i f w e f in d
"t ha t m an y u se rs w ho a sk t he q ue ry [n ew s of a] f ol lo w i t u p w it h t he q ue ry [n ew c ou ch], w e"
c an in th ef ut ur ea lt er[n ew so fa]t ob e[n ew so fa ORn ew co uc h].
"As a f in al r ef in em en t , IR c an b e i mp ro ve d b y c on si de ri ng m et ad at a—d at a o ut si de o f"
METADATA
t he te xt o ft he d oc um en t . Ex am pl es i nc lu de h um an-s up pl ie d k ey wo rd s a nd pu bl ic at io n d at a .
"On th e We b ,h yp er te xt l in ks be tw ee nd oc um en ts a re ac ru ci al so ur ce of in fo rm at io n ."
LINKS
22.3.4 Th e Pa ge Ra nk al go ri th m
Pa ge Ra nk 3 w as on eo ft he tw oo ri gi na l i de as t ha ts et Go og le’s s ea rc h a pa rt f ro m o th er We b
PAGERANK
s ea rc h e ng in es w he ni tw as in tr od uc ed i n 1997. (Th eo th er in no va ti on w as th eu se of an ch or
"3 Th en am es ta nd sb ot hf or We bp ag es an df or co in ve nt or La rr y Pa ge(Br in an d Pa ge ,1998)."
Se ct io n 22.3. In fo rm at io n Re tr ie va l 871
f un ct io n HITS(q ue ry)r et ur ns pa ge s w it hh ub an da ut ho ri ty nu mb er s
p ag es←EXPAND-PAGES(RELEVANT-PAGES(q ue ry))
f or ea ch p i np ag es d o
p .AUTHORITY←1
p .HUB←1
r ep ea tu nt il co nv er ge nc ed o
f or ea ch p i np ag es d(c id:2)o
p .AUTHOR(c id:2)ITY←
i
INLINKi(p).HUB
p .HUB←
i
OUTLINKi(p).AUTHORITY
NORMALIZE(p ag es)
r et ur np ag es
Fi gu re 22.1 Th e HITS a lg or it hm f or c om pu ti ng h ub s a nd a ut ho ri ti es w it h r es pe ct t o a
"q ue ry . RELEVANT-PAGESf et ch es th ep ag es th at ma tc ht he qu er y ,a nd EXPAND-PAGESa dd s"
i ne ve ry pa ge th at li nk st oo ri sl in ke df ro mo ne of th er el ev an tp ag es . NORMALIZEd iv id es
e ac h p ag e’s s co re b y t he s um o f t he s qu ar es o f a ll p ag es’ s co re s (s ep ar at el y f or b ot h t he
a ut ho ri ty an dh ub ss co re s).
"t ex t—t he un de rl in ed te xt in ah yp er li nk—t oi nd ex ap ag e ,e ve nt ho ug ht he an ch or te xt wa so n"
a di ff er en t p ag et ha nt he on eb ei ng in de xe d .) Pa ge Ra nk wa si nv en te d t os ol ve th ep ro bl em of
"t he ty ra nn yo f TF s co re s: i ft he qu er yi s[IBM],h ow do we ma ke su re th at IBM’s ho me pa ge ,"
"i bm .c om ,i st he fi rs tr es ul t ,e ve ni fa no th er pa ge me nt io ns th et er m“IBM”m or ef re qu en tl y ?"
"Th ei de ai st ha ti bm .c om ha sm an yi n-l in ks(l in ks to th ep ag e),s oi ts ho ul db er an ke dh ig he r:"
"e ac h i n-l in k i s a v ot e f or t he q ua li ty o f t he l in ke d-t o p ag e . Bu t i f w e o nl y c ou nt ed i n-l in ks ,"
t he ni tw ou ld be po ss ib le f or a We bs pa mm er to cr ea te an et wo rk o fp ag es a nd ha ve th em al l
"p oi nt t o a p ag e o f h is c ho os in g , i nc re as in g t he s co re o f t ha t p ag e . Th er ef or e , t he Pa ge Ra nk"
a lg or it hm i s d es ig ne d t o w ei gh t l in ks f ro m h ig h-q ua li ty s it es m or e h ea vi ly . Wh at i s a h ig h-
"q ua li ty s it e ? On et ha ti sl in ke d t ob yo th er hi gh-q ua li ty s it es . Th ed ef in it io n i sr ec ur si ve , b ut"
w ew il ls ee th at th er ec ur si on b ot to ms ou tp ro pe rl y . Th e Pa ge Ra nk fo ra pa ge pi sd ef in ed as:
(c id:12)
1−d PR(i n )
i
"PR(p) = +d ,"
N C(i n )
i
i
"w he re PR(p) i s t he Pa ge Ra nk o f p ag e p , N i s t he t ot al n um be r o f p ag es i n t he c or pu s , i n"
i
"a re t he p ag es t ha t l in k i n t o p , a nd C(i n ) i s t he c ou nt o f t he t ot al n um be r o f o ut-l in ks o n"
i
p ag e i n . Th e c on st an t d i s a d am pi ng f ac to r . It c an b e u nd er st oo d t hr ou gh t he r an do m
i
RANDOMSURFER s ur fe r m od el: i ma gi ne a We b s ur fe r w ho s ta rt s a t s om e r an do m p ag e a nd b eg in s e xp lo ri ng .
MODEL
Wi th p ro ba bi li ty d (w e’l l a ss um e d=0.85) t he s ur fe r c li ck s o n o ne o f t he l in ks o n t he p ag e
"(c ho os in g u ni fo rm ly a mo ng t he m), a nd w it h p ro ba bi li ty 1−d s he g et s b or ed w it h t he p ag e"
a nd r es ta rt s o n a r an do m p ag e a ny wh er e o n t he We b . Th e Pa ge Ra nk o f p ag e p i s t he n t he
p ro ba bi li ty t ha t t he r an do m s ur fe r w il l b e a t p ag e p a t a ny p oi nt i n t im e . Pa ge Ra nk c an b e
"c om pu te d b y a n i te ra ti ve p ro ce du re: s ta rt w it h a ll p ag es h av in g PR(p)=1, a nd i te ra te t he"
"a lg or it hm , u pd at in g r an ks un ti lt he yc on ve rg e ."
872 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
22.3.5 Th e HITSa lg or it hm
"Th e Hy pe rl in k-In du ce d To pi c Se ar ch a lg or it hm , a ls o k no wn a s “Hu bs a nd Au th or it ie s” o r"
"HITS , i s a no th er i nf lu en ti al l in k-a na ly si s a lg or it hm (s ee Fi gu re 22.1). HITS d if fe rs f ro m"
"Pa ge Ra nk in se ve ra lw ay s . Fi rs t ,i ti sa qu er y-d ep en de nt m ea su re: i tr at es pa ge s w it hr es pe ct"
t o a q ue ry . Th at m ea ns t ha t i t m us t b e c om pu te d a ne w f or e ac h q ue ry—a c om pu ta ti on al
"b ur de n t ha t m os t s ea rc h e ng in es h av e e le ct ed n ot t ot ak e o n . Gi ve n a qu er y , HITS f ir st fi nd s"
a s et o f p ag es t ha t a re r el ev an t t o t he q ue ry . It d oe s t ha t b y i nt er se ct in g h it l is ts o f q ue ry
"w or ds , a nd th en a dd in g p ag es i nt he li nk n ei gh bo rh oo d o ft he se p ag es—p ag es t ha tl in k t oo r"
a re li nk ed fr om on eo ft he pa ge si nt he or ig in al re le va nt se t .
Ea ch p ag e i n t hi s s et i s c on si de re d a n a ut ho ri ty o n t he q ue ry t o t he d eg re e t ha t o th er
AUTHORITY
p ag es i n t he r el ev an t s et p oi nt t o i t . A p ag e i s c on si de re d a h ub t o t he d eg re e t ha t i t p oi nt s
HUB
"t o o th er a ut ho ri ta ti ve p ag es i n t he r el ev an t s et . Ju st a s w it h Pa ge Ra nk , w e d on’t w an t t o"
m er el y c ou nt t he n um be r o f l in ks ; w e w an t t o g iv e m or e v al ue t o t he h ig h-q ua li ty h ub s a nd
"a ut ho ri ti es . Th us , a s w it h Pa ge Ra nk , w ei te ra te a p ro ce ss t ha t u pd at es t he a ut ho ri ty s co re o f"
"a p ag e t o b e t he s um o f t he h ub s co re s o f t he p ag es t ha t p oi nt t o i t , a nd t he h ub s co re t o b e"
t he su m o ft he au th or it y s co re s o ft he p ag es i tp oi nt s t o . If we t he n n or ma li ze t he sc or es a nd
"r ep ea t k t im es ,t he pr oc es sw il lc on ve rg e ."
Bo th Pa ge Ra nk a nd HITS p la ye d i mp or ta nt r ol es i n d ev el op in g o ur u nd er st an di ng o f
We bi nf or ma ti on re tr ie va l . Th es ea lg or it hm sa nd th ei re xt en si on sa re us ed in ra nk in gb il li on s
o fq ue ri es d ai ly as se ar ch e ng in es s te ad il y d ev el op b et te rw ay so fe xt ra ct in g y et fi ne rs ig na ls
o fs ea rc hr el ev an ce .
22.3.6 Qu es ti on an sw er in g
"In fo rm at io n r et ri ev al i s t he t as k o f f in di ng d oc um en ts t ha t a re r el ev an t t o a q ue ry , w he re t he"
"QUESTION q ue ry ma yb ea qu es ti on , o rj us ta to pi ca re ao rc on ce pt . Qu es ti on an sw er in gi sa so me wh at"
ANSWERING
"d if fe re nt t as k , i n w hi ch t he q ue ry r ea ll y i s a q ue st io n , a nd t he a ns we r i s n ot a r an ke d l is t"
"o f d oc um en ts b ut r at he r a s ho rt r es po ns e—a s en te nc e , o r e ve n j us t a p hr as e . Th er e h av e"
"b ee n q ue st io n-a ns we ri ng NLP (n at ur al l an gu ag e p ro ce ss in g) s ys te ms s in ce t he 1960 s , b ut"
o nl ys in ce 2001 h av es uc hs ys te ms us ed We bi nf or ma ti on r et ri ev al to ra di ca ll y i nc re as e t he ir
b re ad th of co ve ra ge .
"Th e ASKMSR s ys te m (Ba nk oe ta l ., 2002) i sa ty pi ca l We b-b as ed q ue st io n-a ns we ri ng"
s ys te m . It i s b as ed o n t he i nt ui ti on t ha t m os t q ue st io ns w il l b e a ns we re d m an y t im es o n t he
"We b , s o q ue st io n a ns we ri ng s ho ul d b e t ho ug ht o f a s a p ro bl em i n p re ci si on , n ot r ec al l . We"
d on’t h av e t o d ea l w it h a ll t he d if fe re nt w ay s t ha t a n a ns we r m ig ht b e p hr as ed—w e o nl y
"h av e t o f in d o ne o f t he m . Fo r e xa mp le , c on si de r t he q ue ry [Wh o k il le d Ab ra ha m Li nc ol n ?]"
"Su pp os e a s ys te m h ad t o a ns we r t ha t q ue st io n w it h a cc es s o nl y t o a s in gl e e nc yc lo pe di a ,"
w ho se en tr yo n Li nc ol ns ai d
Jo hn Wi lk es Bo ot h a lt er ed h is to ry w it h a b ul le t . He w il l f or ev er be k no wn a s t he m an
w ho en de d Ab ra ha m Li nc ol n’s li fe .
"To us et hi sp as sa ge to an sw er th eq ue st io n , t he sy st em w ou ld ha ve to kn ow th at en di ng al if e"
"c an be ak il li ng ,t ha t“He”r ef er st o Bo ot h ,a nd se ve ra lo th er l in gu is ti c a nd se ma nt ic fa ct s ."
Se ct io n 22.4. In fo rm at io n Ex tr ac ti on 873
ASKMSRd oe sn ot at te mp tt hi sk in do fs op hi st ic at io n—i tk no ws no th in ga bo ut pr on ou n
"r ef er en ce ,o ra bo ut ki ll in g ,o ra ny ot he rv er b . It do es kn ow 15 d if fe re nt ki nd so fq ue st io ns ,a nd"
h ow th ey c an be re wr it te n a sq ue ri es t oa se ar ch e ng in e . It kn ow st ha t[Wh o k il le d Ab ra ha m
Li nc ol n] c an be re wr it te n a st he qu er y[*k il le d Ab ra ha m Li nc ol n]a nd as[Ab ra ha m Li nc ol n
w as ki ll ed b y*]. It is su es t he se re wr it te n q ue ri es a nd ex am in es t he re su lt s t ha tc om eb ac k—
"n ot t he f ul l We b p ag es , j us t t he s ho rt s um ma ri es o f t ex t t ha t a pp ea r n ea r t he q ue ry t er ms ."
"Th er es ul ts ar eb ro ke ni nt o 1-,2-,a nd 3-g ra ms an dt al li ed fo rf re qu en cy in th er es ul ts et sa nd"
f or w ei gh t: a n n-g ra m t ha t c am e b ac k f ro m a v er y s pe ci fi c q ue ry r ew ri te (s uc h a s t he e xa ct
p hr as e m at ch q ue ry [“Ab ra ha m Li nc ol n w as k il le d b y *”]) w ou ld g et m or e w ei gh t t ha n o ne
"f ro m a g en er al q ue ry r ew ri te , s uc h a s [Ab ra ha m OR Li nc ol n OR k il le d]. We w ou ld e xp ec t"
"t ha t“Jo hn Wi lk es Bo ot h”w ou ld be am on gt he hi gh ly ra nk ed n-g ra ms re tr ie ve d ,b ut so wo ul d"
“Ab ra ha m Li nc ol n”a nd“t he as sa ss in at io n o f”a nd“Fo rd’s Th ea tr e .”
"On ce t he n-g ra ms a re s co re d , t he y a re f il te re d b y e xp ec te d t yp e . If t he o ri gi na l q ue ry"
"s ta rt sw it h“w ho ,”t he nw ef il te ro nn am es of pe op le ;f or“h ow ma ny”w ef il te ro nn um be rs ,f or"
"“w he n ,”o na da te or ti me . Th er ei sa ls oa fi lt er th at sa ys th ea ns we rs ho ul dn ot be pa rt of th e"
q ue st io n ; t og et he r t he se s ho ul d a ll ow u s t o r et ur n “Jo hn Wi lk es Bo ot h” (a nd n ot “Ab ra ha m
Li nc ol n”)a st he hi gh es t-s co ri ng r es po ns e .
In s om e c as es t he a ns we r w il l b e l on ge r t ha n t hr ee w or ds ; s in ce t he c om po ne nt s r e-
"s po ns es o nl y g o u p t o 3-g ra ms , a l on ge r r es po ns e w ou ld h av e t o b e p ie ce d t og et he r f ro m"
"s ho rt er p ie ce s . Fo r e xa mp le , i n a s ys te m t ha t u se d o nl y b ig ra ms , t he a ns we r “Jo hn Wi lk es"
Bo ot h”c ou ld be pi ec ed to ge th er fr om hi gh-s co ri ng pi ec es“Jo hn Wi lk es”a nd“Wi lk es Bo ot h .”
"At t he Te xt Re tr ie va l Ev al ua ti on Co nf er en ce (TREC), ASKMSR w as r at ed a s o ne o f"
"t he t op s ys te ms , b ea ti ng o ut c om pe ti to rs w it h t he a bi li ty t o d o f ar m or e c om pl ex l an gu ag e"
u nd er st an di ng . ASKMSR r el ie s u po n t he b re ad th o f t he c on te nt o n t he We b r at he r t ha n o n
i ts o wn d ep th o f u nd er st an di ng . It w on’t b e a bl e t o h an dl e c om pl ex i nf er en ce p at te rn s l ik e
a ss oc ia ti ng “w ho ki ll ed” w it h“e nd ed t he li fe of .” Bu ti tk no ws th at th e We bi ss ov as tt ha ti t
c an af fo rd to ig no re pa ss ag es l ik et ha ta nd wa it fo ra si mp le pa ss ag e i tc an ha nd le .
22.4 INFORMATION EXTRACTION
INFORMATION In fo rm at io ne xt ra ct io ni st he pr oc es so fa cq ui ri ng kn ow le dg eb ys ki mm in ga te xt an dl oo k-
EXTRACTION
i ng f or o cc ur re nc es o f a p ar ti cu la r c la ss o f o bj ec t a nd f or r el at io ns hi ps a mo ng o bj ec ts . A
"t yp ic al t as k i s t o e xt ra ct i ns ta nc es o f a dd re ss es f ro m We b p ag es , w it h d at ab as e f ie ld s f or"
"s tr ee t , c it y , s ta te , a nd z ip c od e ; o r i ns ta nc es o f s to rm s f ro m w ea th er r ep or ts , w it h f ie ld s f or"
"t em pe ra tu re , w in d s pe ed , a nd p re ci pi ta ti on . In a l im it ed d om ai n , t hi s c an b e d on e w it h h ig h"
"a cc ur ac y . As th ed om ai ng et sm or eg en er al , m or ec om pl ex li ng ui st ic m od el sa nd mo re co m-"
p le x l ea rn in g t ec hn iq ue s a re n ec es sa ry . We w il l s ee i n Ch ap te r 23 h ow t o d ef in e c om pl ex
l an gu ag e m od el s o f t he p hr as e s tr uc tu re (n ou n p hr as es a nd v er b p hr as es) o f En gl is h . Bu t s o
"f ar t he re a re n o c om pl et e m od el s o f t hi s k in d , s o f or t he l im it ed n ee ds o f i nf or ma ti on e x-"
"t ra ct io n , w e d ef in e l im it ed m od el s t ha t a pp ro xi ma te t he f ul l En gl is h m od el , a nd c on ce nt ra te"
o n j us t t he p ar ts t ha t a re n ee de d f or t he t as k a t h an d . Th e m od el s w e d es cr ib e i n t hi s s ec-
874 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
t io na re ap pr ox im at io ns i nt he sa me wa yt ha tt he si mp le 1-CNFl og ic al m od el in Fi gu re 7.21
"(p ag e 271)i sa na pp ro xi ma ti on s o ft he fu ll ,w ig gl y ,l og ic al m od el ."
"In t hi s s ec ti on w e d es cr ib e s ix d if fe re nt a pp ro ac he s t o i nf or ma ti on e xt ra ct io n , i n o rd er"
"o fi nc re as in g c om pl ex it y o ns ev er al di me ns io ns: d et er mi ni st ic t os to ch as ti c , d om ai n-s pe ci fi c"
"t og en er al , h an d-c ra ft ed t ol ea rn ed , a nd sm al l-s ca le t ol ar ge-s ca le ."
22.4.1 Fi ni te-s ta te au to ma ta f or in fo rm at io ne xt ra ct io n
ATTRIBUTE-BASED Th es im pl es tt yp eo fi nf or ma ti on e xt ra ct io n s ys te m i sa n a tt ri bu te-b as ed e xt ra ct io n s ys te m
EXTRACTION
t ha ta ss um es th at th ee nt ir et ex tr ef er st oa si ng le ob je ct an dt he ta sk is to ex tr ac ta tt ri bu te s o f
"t ha t o bj ec t . Fo r e xa mp le , w e m en ti on ed i n Se ct io n 12.7 t he p ro bl em o f e xt ra ct in g f ro m t he"
"t ex t “IBM Th in k Bo ok 970. Ou r p ri ce: $399.00” t he s et o f a tt ri bu te s {Ma nu fa ct ur er=IBM ,"
"Mo de l=Th in k Bo ok 970, Pr ic e=$399.00}. We c an a dd re ss t hi s p ro bl em b y d ef in in g a t em-"
p la te (a ls o k no wn a s a p at te rn) f or e ac h a tt ri bu te w e w ou ld l ik e t o e xt ra ct . Th e t em pl at e i s
TEMPLATE
"REGULAR d ef in ed by af in it es ta te au to ma to n ,t he si mp le st ex am pl eo fw hi ch is th er eg ul ar ex pr es si on ,"
EXPRESSION
"o r r eg ex . Re gu la r e xp re ss io ns a re u se d i n Un ix c om ma nd s s uc h a s g re p , i n p ro gr am mi ng"
"l an gu ag es s uc h a s Pe rl , a nd i n w or d p ro ce ss or s s uc h a s Mi cr os of t Wo rd . Th e d et ai ls v ar y"
"s li gh tl y f ro m o ne t oo l t o a no th er a nd s o a re b es t l ea rn ed f ro m t he a pp ro pr ia te m an ua l , b ut"
h er ew es ho wh ow to bu il du pa re gu la re xp re ss io n t em pl at ef or p ri ce si nd ol la rs:
[0-9] m at ch es an yd ig it fr om 0 t o 9
[0-9]+ m at ch es on eo rm or ed ig it s
[.][0-9][0-9] m at ch es ap er io df ol lo we db yt wo di gi ts
"([.][0-9][0-9])? m at ch es ap er io df ol lo we db yt wo di gi ts ,o rn ot hi ng"
[$][0-9]+([.][0-9][0-9])? m at ch es$249.99 o r$1.23 o r$1000000 o r ...
"Te mp la te sa re of te nd ef in ed wi th th re ep ar ts: a pr ef ix re ge x ,a ta rg et re ge x ,a nd ap os tf ix re ge x ."
"Fo rp ri ce s ,t he ta rg et re ge xi sa sa bo ve ,t he pr ef ix wo ul dl oo k f or st ri ng ss uc ha s“p ri ce:” a nd"
t he p os tf ix c ou ld b e e mp ty . Th e i de a i s t ha t s om e c lu es a bo ut a n a tt ri bu te c om e f ro m t he
a tt ri bu te v al ue it se lf an ds om ec om ef ro mt he su rr ou nd in g t ex t .
"If a r eg ul ar e xp re ss io n f or a n a tt ri bu te m at ch es t he t ex t e xa ct ly o nc e , t he n w e c an p ul l"
"o ut th ep or ti on o ft he te xt th at is th ev al ue of th ea tt ri bu te . If th er ei sn om at ch ,a ll we ca nd o"
"i sg iv ea de fa ul tv al ue or le av et he at tr ib ut em is si ng ;b ut if th er ea re se ve ra lm at ch es ,w en ee d"
"a pr oc es st oc ho os ea mo ng th em . On es tr at eg yi st oh av es ev er al te mp la te sf or ea ch at tr ib ut e ,"
"o rd er ed b y p ri or it y . So , f or e xa mp le , t he t op-p ri or it y t em pl at e f or p ri ce m ig ht l oo k f or t he"
"p re fi x“o ur pr ic e:”;i ft ha ti sn ot fo un d ,w el oo kf or th ep re fi x “p ri ce:” a nd if th at is no tf ou nd ,"
t he e mp ty p re fi x . An ot he r s tr at eg y i s t o t ak e a ll t he m at ch es a nd f in d s om e w ay t o c ho os e
"a mo ng t he m . Fo re xa mp le , w e c ou ld t ak e t he l ow es t p ri ce t ha t i s w it hi n 50% o f t he h ig he st"
"p ri ce . Th at wi ll se le ct$78.00 a st he ta rg et fr om th et ex t“Li st pr ic e$99.00, s pe ci al sa le pr ic e"
"$78.00,s hi pp in g $3.00.”"
"RELATIONAL On es te pu pf ro ma tt ri bu te-b as ed e xt ra ct io ns ys te ms ar e r el at io na le xt ra ct io ns ys te ms ,"
EXTRACTION
"w hi ch d ea l w it h m ul ti pl e o bj ec ts a nd t he r el at io ns a mo ng t he m . Th us , w he n t he se s ys te ms"
"s ee th et ex t“$249.99,”t he yn ee dt od et er mi ne no tj us tt ha ti ti sa pr ic e ,b ut al so wh ic ho bj ec t"
"h as th at pr ic e . At yp ic al re la ti on al-b as ed e xt ra ct io ns ys te mi s FASTUS ,w hi ch ha nd le sn ew s"
s to ri es ab ou tc or po ra te m er ge rs an da cq ui si ti on s . It ca nr ea dt he st or y
Se ct io n 22.4. In fo rm at io n Ex tr ac ti on 875
Br id ge st on e Sp or ts Co . s ai d Fr id ay i t h as s et u p a j oi nt v en tu re i n Ta iw an w it h a l oc al
c on ce rn an da Ja pa ne se tr ad in gh ou se to pr od uc eg ol fc lu bs to be sh ip pe dt o Ja pa n .
a nd ex tr ac tt he re la ti on s:
"e∈Jo in t Ve nt ur es ∧Pr od uc t(e ,“g ol f c lu bs”)∧Da te(e ,“Fr id ay”)"
"∧Me mb er(e ,“Br id ge st on e Sp or ts Co”)∧Me mb er(e ,“a l oc al c on ce rn”)"
"∧Me mb er(e ,“a Ja pa ne se tr ad in g h ou se”)."
CASCADED
A r el at io na l e xt ra ct io n s ys te m c an b e b ui lt a sa s er ie s o f c as ca de d f in it e-s ta te t ra ns du ce rs .
FINITE-STATE
TRANSDUCERS
"Th at is ,t he sy st em c on si st s o fa se ri es o fs ma ll ,e ff ic ie nt fi ni te-s ta te a ut om at a(FSAs),w he re"
"e ac h a ut om at on r ec ei ve s t ex t a s i np ut , t ra ns du ce s t he t ex t i nt o a di ff er en t f or ma t , a nd p as se s"
i ta lo ng to th en ex ta ut om at on . FASTUS c on si st so ff iv es ta ge s:
1. To ke ni za ti on
2. Co mp le x-w or dh an dl in g
3. Ba si c-g ro up h an dl in g
4. Co mp le x-p hr as e h an dl in g
5. St ru ct ur em er gi ng
"FASTUS’s f ir st s ta ge i s t ok en iz at io n , w hi ch s eg me nt s t he s tr ea m o f c ha ra ct er s i nt o t ok en s"
"(w or ds , n um be rs , a nd p un ct ua ti on). Fo r En gl is h , t ok en iz at io n c an b e f ai rl y s im pl e ; j us t s ep-"
a ra ti ng ch ar ac te rs a tw hi te sp ac eo rp un ct ua ti on d oe sa fa ir ly go od jo b . So me to ke ni ze rs a ls o
"d ea lw it hm ar ku pl an gu ag es s uc ha s HTML ,SGML ,a nd XML ."
"Th es ec on d s ta ge h an dl es c om pl ex wo rd s , i nc lu di ng c ol lo ca ti on s s uc ha s“s et up” a nd"
"“j oi nt v en tu re ,” a s w el l a s p ro pe r n am es s uc h a s “Br id ge st on e Sp or ts Co .” Th es e a re r ec-"
"o gn iz ed b y a c om bi na ti on o f l ex ic al e nt ri es a nd f in it e-s ta te g ra mm ar r ul es . Fo r e xa mp le , a"
c om pa ny na me mi gh tb er ec og ni ze d b yt he ru le
Ca pi ta li ze d Wo rd+(“Co mp an y”|“Co”|“In c”|“Lt d”)
"Th e t hi rd s ta ge h an dl es b as ic g ro up s , m ea ni ng n ou n g ro up s a nd v er b g ro up s . Th e i de a i s"
t o c hu nk t he se i nt o u ni ts t ha t w il l b e m an ag ed b y t he l at er s ta ge s . We w il l s ee h ow t o w ri te
"a c om pl ex d es cr ip ti on o f n ou n a nd v er b p hr as es i n Ch ap te r 23, b ut h er e w e h av e s im pl e"
"r ul es t ha t o nl y a pp ro xi ma te t he c om pl ex it y o f En gl is h , b ut h av e t he a dv an ta ge o f b ei ng r ep-"
r es en ta bl e b y f in it e s ta te a ut om at a . Th e e xa mp le s en te nc e w ou ld e me rg e f ro m t hi s s ta ge a s
t he fo ll ow in gs eq ue nc e o ft ag ge dg ro up s:
1 NG: Br id ge st on e Sp or ts Co . 10 NG: a l oc al c on ce rn
2 VG: s ai d 11 CJ: a nd
3 NG: Fr id ay 12 NG: a Ja pa ne se t ra di ng h ou se
4 NG: i t 13 VG: t o p ro du ce
5 VG: h ad s et u p 14 NG: g ol f c lu bs
6 NG: a j oi nt v en tu re 15 VG: t o b e s hi pp ed
7 PR: i n 16 PR: t o
8 NG: Ta iw an 17 NG: Ja pa n
9 PR: w it h
"He re NGm ea ns no un gr ou p ,VGi sv er bg ro up , PRi sp re po si ti on , a nd CJi sc on ju nc ti on ."
876 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
"Th e f ou rt h s ta ge c om bi ne s t he b as ic g ro up s i nt o c om pl ex p hr as es . Ag ai n , t he a im"
"i s t o h av e r ul es t ha t a re f in it e-s ta te a nd t hu s c an b e p ro ce ss ed q ui ck ly , a nd t ha t r es ul t i n"
u na mb ig uo us (o r n ea rl y u na mb ig uo us) o ut pu t p hr as es . On e t yp e o f c om bi na ti on r ul e d ea ls
"w it hd om ai n-s pe ci fi c e ve nt s . Fo re xa mp le ,t he ru le"
Co mp an y+Se t Up Jo in t Ve nt ur e(“w it h”Co mp an y+)?
c ap tu re s o ne w ay t o d es cr ib e t he f or ma ti on o f a j oi nt v en tu re . Th is s ta ge i s t he f ir st o ne i n
t he ca sc ad ew he re th eo ut pu ti sp la ce di nt oa da ta ba se te mp la te as we ll as be in gp la ce di nt he
o ut pu t s tr ea m . Th e f in al s ta ge m er ge s s tr uc tu re s t ha t w er e b ui lt u p i n t he p re vi ou s s te p . If
"t he ne xt se nt en ce s ay s“Th ej oi nt ve nt ur ew il ls ta rt pr od uc ti on i n Ja nu ar y ,”t he nt hi ss te pw il l"
"n ot ic e t ha t t he re a re t wo r ef er en ce s t o a j oi nt v en tu re , a nd t ha t t he y s ho ul d b e m er ge d i nt o"
o ne . Th is is an in st an ce o ft he id en ti ty un ce rt ai nt yp ro bl em di sc us se d i n Se ct io n 14.6.3.
"In ge ne ra l ,f in it e-s ta te te mp la te-b as ed in fo rm at io ne xt ra ct io nw or ks we ll fo ra re st ri ct ed"
"d om ai ni nw hi ch it is po ss ib le t op re de te rm in e w ha ts ub je ct s w il lb ed is cu ss ed , a nd ho wt he y"
w il l b e m en ti on ed . Th e c as ca de d t ra ns du ce r m od el h el ps m od ul ar iz e t he n ec es sa ry k no wl-
"e dg e , e as in g c on st ru ct io n o f t he s ys te m . Th es e s ys te ms w or k e sp ec ia ll y w el l w he n t he y a re"
"r ev er se-e ng in ee ri ng t ex tt ha th as be en ge ne ra te d b ya pr og ra m . Fo re xa mp le , a sh op pi ng s it e"
o nt he We bi sg en er at ed b ya pr og ra m t ha tt ak es da ta ba se e nt ri es an df or ma ts th em in to We b
p ag es ; a t em pl at e-b as ed e xt ra ct or t he n r ec ov er s t he o ri gi na l d at ab as e . Fi ni te-s ta te i nf or ma-
"t io ne xt ra ct io n i sl es ss uc ce ss fu l a tr ec ov er in g i nf or ma ti on i nh ig hl y v ar ia bl e f or ma t , s uc ha s"
t ex tw ri tt en by hu ma ns on av ar ie ty of su bj ec ts .
22.4.2 Pr ob ab il is ti cm od el s f or in fo rm at io ne xt ra ct io n
"Wh en in fo rm at io ne xt ra ct io nm us tb ea tt em pt ed fr om no is yo rv ar ie di np ut ,s im pl ef in it e-s ta te"
a pp ro ac he s f ar e p oo rl y . It i s t oo h ar d t o g et a ll t he r ul es a nd t he ir p ri or it ie s r ig ht ; i t i s b et te r
t ou se ap ro ba bi li st ic m od el ra th er th an ar ul e-b as ed m od el . Th es im pl es tp ro ba bi li st ic m od el
"f or se qu en ce s w it hh id de n s ta te is th eh id de n Ma rk ov mo de l ,o r HMM ."
Re ca ll f ro m Se ct io n 15.3 t ha t a n HMM m od el s a p ro gr es si on t hr ou gh a s eq ue nc e o f
"h id de n s ta te s , x , w it h a n o bs er va ti on e a t e ac h s te p . To a pp ly HMMs t o i nf or ma ti on e x-"
t t
"t ra ct io n , w e c an e it he r b ui ld o ne b ig HMM f or a ll t he a tt ri bu te s o r b ui ld a s ep ar at e HMM"
"f or e ac h a tt ri bu te . We’l l d o t he s ec on d . Th e o bs er va ti on s a re t he w or ds o f t he t ex t , a nd t he"
"h id de ns ta te sa re wh et he rw ea re in th et ar ge t , p re fi x ,o rp os tf ix pa rt of th ea tt ri bu te t em pl at e ,"
"o ri n t he b ac kg ro un d (n ot p ar t o f a t em pl at e). Fo re xa mp le , h er e i s a b ri ef t ex t a nd t he m os t"
"p ro ba bl e (Vi te rb i)p at hf or th at te xt fo rt wo HMMs ,o ne tr ai ne dt or ec og ni ze t he sp ea ke ri na"
"t al ka nn ou nc em en t , a nd on et ra in ed to re co gn iz ed at es . Th e“-”i nd ic at es ab ac kg ro un d s ta te:"
Te xt: Th er e w il l b e a s em in ar b y Dr . An dr ew Mc Ca ll um o n Fr id ay
Sp ea ke r: - - - - PRE PRE TARGET TARGET TARGET POST -
Da te: - - - - - - - - - PRE TARGET
"HMMs ha ve tw ob ig ad va nt ag es ov er FSAs fo re xt ra ct io n . Fi rs t ,HMMs ar ep ro ba bi li st ic ,a nd"
"t hu s t ol er an t t o n oi se . In a r eg ul ar e xp re ss io n , i f a s in gl e e xp ec te d c ha ra ct er i s m is si ng , t he"
"r eg ex fa il st om at ch ;w it h HMMs th er ei sg ra ce fu ld eg ra da ti on wi th mi ss in gc ha ra ct er s/w or ds ,"
"a nd we ge ta pr ob ab il it yi nd ic at in gt he de gr ee of ma tc h ,n ot ju st a Bo ol ea nm at ch/f ai l . Se co nd ,"
Se ct io n 22.4. In fo rm at io n Ex tr ac ti on 877
d r
w ho : p ro fe ss or
s pe ak er w it h 0.99 r ob er t
s pe ak 1.0 ; m ic ha el
5409 a bo ut m r
a pp oi nt me nt h ow
w il l
0.99
(
0.76 r ec ei ve d
h as
w 0.56 i s
c av al ie r
s te ve ns
s em in ar t ha t c hr is te l
r em in de r 1.0 b y l
t he at er s pe ak er s 0.24
a rt is t /
a dd it io na ll y h er e
0.44
Pr ef ix Ta rg et Po st fi x
Fi gu re 22.2 Hi dd en Ma rk ov m od el f or t he s pe ak er o f a t al k a nn ou nc em en t . Th e t wo
"s qu ar e s ta te s a re t he t ar ge t (n ot e t he s ec on d t ar ge t s ta te h as a s el f-l oo p , s o t he t ar ge t c an"
"m at ch a s tr in g o f a ny l en gt h), t he f ou rc ir cl es t o t he l ef t a re t he p re fi x , a nd t he o ne o n t he"
"r ig ht is th ep os tf ix . Fo re ac hs ta te ,o nl ya fe wo ft he hi gh-p ro ba bi li ty wo rd sa re sh ow n .Fr om"
Fr ei ta ga nd Mc Ca ll um(2000).
"HMMs ca n b e t ra in ed f ro m d at a ; t he y d on’t r eq ui re l ab or io us e ng in ee ri ng o f t em pl at es , a nd"
t hu st he yc an mo re ea si ly be ke pt up to da te as te xt ch an ge so ve rt im e .
No te th at we ha ve as su me d a ce rt ai n l ev el of st ru ct ur e i no ur HMMt em pl at es: t he ya ll
"c on si st o f o ne o r m or e t ar ge t s ta te s , a nd a ny p re fi x s ta te s m us t p re ce de t he t ar ge ts , p os tf ix"
"s ta te s m os t f ol lo w t he t ar ge ts , a nd o th er s ta te s m us t b e b ac kg ro un d . Th is s tr uc tu re m ak es"
"i t e as ie r t o l ea rn HMMs f ro m e xa mp le s . Wi th a p ar ti al ly s pe ci fi ed s tr uc tu re , t he f or wa rd–"
b ac kw ar d a lg or it hm c an b e u se d t o l ea rn b ot h t he t ra ns it io n p ro ba bi li ti es P(X t|X t−1) b e-
"t we en s ta te s a nd t he o bs er va ti on m od el , P(E |X ), w hi ch s ay s h ow l ik el y e ac h w or d i s i n"
t t
"e ac h s ta te . Fo r e xa mp le , t he w or d “Fr id ay” w ou ld h av e h ig h p ro ba bi li ty i n o ne o r m or e o f"
"t he ta rg et st at es of th ed at e HMM ,a nd lo we rp ro ba bi li ty e ls ew he re ."
"Wi th su ff ic ie nt tr ai ni ng da ta ,t he HMMa ut om at ic al ly le ar ns as tr uc tu re of da te st ha tw e"
f in di nt ui ti ve: t he da te HMMm ig ht ha ve on et ar ge ts ta te in wh ic ht he hi gh-p ro ba bi li ty w or ds
"a re “Mo nd ay ,” “Tu es da y ,” e tc ., a nd w hi ch h as a h ig h-p ro ba bi li ty t ra ns it io n t o a t ar ge t s ta te"
"w it h w or ds “Ja n”, “Ja nu ar y ,” “Fe b ,” e tc . Fi gu re 22.2 s ho ws t he HMM f or t he s pe ak er o f a"
"t al k a nn ou nc em en t , a s l ea rn ed f ro m d at a . Th e p re fi x c ov er s e xp re ss io ns s uc h a s “Sp ea ke r:”"
"a nd “s em in ar b y ,” a nd t he t ar ge t h as o ne s ta te t ha t c ov er s t it le s a nd f ir st n am es a nd a no th er"
s ta te th at co ve rs in it ia ls an dl as tn am es .
"On ce t he HMMs h av e b ee n l ea rn ed , w e c an a pp ly t he m t o a t ex t , u si ng t he Vi te rb i"
a lg or it hm t o f in d t he m os t l ik el y p at h t hr ou gh t he HMM s ta te s . On e a pp ro ac h i s t o a pp ly
e ac h a tt ri bu te HMM s ep ar at el y ; i n t hi s c as e y ou w ou ld e xp ec t m os t o f t he HMMs t o s pe nd
m os t o f t he ir t im e i n b ac kg ro un d s ta te s . Th is i s a pp ro pr ia te w he n t he e xt ra ct io n i s s pa rs e—
w he nt he nu mb er of ex tr ac te d w or ds is sm al lc om pa re dt ot he le ng th of th et ex t .
878 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
"Th eo th er ap pr oa ch is to co mb in ea ll th ei nd iv id ua la tt ri bu te si nt oo ne bi g HMM ,w hi ch"
"w ou ld th en fi nd ap at ht ha tw an de rs th ro ug h d if fe re nt t ar ge t a tt ri bu te s , f ir st fi nd in ga sp ea ke r"
"t ar ge t , t he n a d at e t ar ge t , e tc . Se pa ra te HMMs a re b et te r w he n w e e xp ec t j us t o ne o f e ac h"
a tt ri bu te i n a t ex t a nd o ne b ig HMM i s b et te r w he n t he t ex ts a re m or e f re e-f or m a nd d en se
"w it h a tt ri bu te s . Wi th e it he r a pp ro ac h , i n t he e nd w e h av e a c ol le ct io n o f t ar ge t a tt ri bu te"
"o bs er va ti on s , a nd h av e t o d ec id e w ha t t o d o w it h t he m . If e ve ry e xp ec te d a tt ri bu te h as o ne"
t ar ge t f il le r t he n t he d ec is io n i s e as y: w e h av e a n i ns ta nc e o f t he d es ir ed r el at io n . If t he re
"a re mu lt ip le f il le rs ,w en ee dt od ec id e w hi ch to ch oo se , a sw ed is cu ss ed w it ht em pl at e-b as ed"
s ys te ms . HMMs h av e t he a dv an ta ge o f s up pl yi ng p ro ba bi li ty n um be rs t ha t c an h el p m ak e
"t he ch oi ce . If so me ta rg et s a re mi ss in g ,w en ee dt od ec id ei ft hi si sa ni ns ta nc e o ft he de si re d"
"r el at io na ta ll ,o ri ft he ta rg et sf ou nd ar ef al se po si ti ve s . Am ac hi ne le ar ni ng al go ri th mc an be"
t ra in ed to ma ke th is ch oi ce .
22.4.3 Co nd it io na lr an do m f ie ld s f or in fo rm at io ne xt ra ct io n
On e i ss ue w it h HMMs f or t he i nf or ma ti on e xt ra ct io n t as k i s t ha t t he y m od el a l ot o f p ro b-
a bi li ti es t ha t w e d on’t r ea ll y n ee d . An HMM i s a g en er at iv e m od el ; i t m od el s t he f ul l j oi nt
"p ro ba bi li ty o fo bs er va ti on s a nd hi dd en st at es ,a nd th us ca nb eu se dt og en er at es am pl es . Th at"
"i s , w e c an u se t he HMM m od el n ot o nl y t o p ar se a t ex t a nd r ec ov er t he s pe ak er a nd d at e ,"
b ut al so to ge ne ra te a ra nd om i ns ta nc e o fa te xt co nt ai ni ng a sp ea ke ra nd ad at e . Si nc ew e’r e
"n ot i nt er es te d i n t ha t t as k , i t i s n at ur al t o a sk w he th er w e m ig ht b e b et te r o ff w it h a m od el"
t ha t d oe sn’t b ot he r m od el in g t ha t p os si bi li ty . Al l w e n ee d i n o rd er t o u nd er st an d a t ex t i s a
"d is cr im in at iv e m od el , o ne t ha t m od el s t he c on di ti on al p ro ba bi li ty o f t he h id de n a tt ri bu te s"
"g iv en t he o bs er va ti on s (t he t ex t). Gi ve n a t ex t e , t he c on di ti on al m od el f in ds t he h id de n"
1:N
s ta te se qu en ce X t ha tm ax im iz es P(X |e ).
1:N 1:N 1:N
Mo de li ng t hi s d ir ec tl y g iv es u s s om e f re ed om . We d on’t n ee d t he i nd ep en de nc e a s-
s um pt io ns o f t he Ma rk ov m od el—w e c an h av e a n x t ha t i s d ep en de nt o n x . A f ra me wo rk
t 1
"CONDITIONAL f or th is ty pe o f m od el is t he c on di ti on al r an do m f ie ld ,o r CRF ,w hi ch m od el s a co nd it io na l"
RANDOMFIELD
p ro ba bi li ty d is tr ib ut io n o f a s et o f t ar ge t v ar ia bl es g iv en a s et o f o bs er ve d v ar ia bl es . Li ke
"Ba ye si an ne tw or ks ,CRFs ca nr ep re se nt ma ny di ff er en ts tr uc tu re so fd ep en de nc ie sa mo ng th e"
LINEAR-CHAIN
v ar ia bl es . On e c om mo n s tr uc tu re i s t he l in ea r-c ha in c on di ti on al r an do m f ie ld f or r ep re-
CONDITIONAL
RANDOMFIELD
"s en ti ng Ma rk ov de pe nd en ci es a mo ng va ri ab le s i na te mp or al se qu en ce . Th us ,HMMs ar et he"
"t em po ra l v er si on o f n ai ve Ba ye s m od el s , a nd l in ea r-c ha in CRFs a re t he t em po ra l v er si on o f"
"l og is ti c r eg re ss io n , w he re t he pr ed ic te d t ar ge t i sa n e nt ir e s ta te s eq ue nc e r at he rt ha n a si ng le"
b in ar yv ar ia bl e .
"Le te b e t he o bs er va ti on s (e .g ., w or ds i n a d oc um en t), a nd x b e t he s eq ue nc e o f"
1:N 1:N
"h id de n s ta te s (e .g ., t he p re fi x , t ar ge t , a nd p os tf ix s ta te s). A l in ea r-c ha in c on di ti on al r an do m"
f ie ld de fi ne sa co nd it io na l p ro ba bi li ty d is tr ib ut io n:
P
"P(x |e ) = αe[ N i=1 F(x i−1,x i ,e ,i)] ,"
1:N 1:N
"w he reαi sa no rm al iz at io nf ac to r(t om ak es ur et he pr ob ab il it ie ss um to 1),a nd F i sa fe at ur e"
f un ct io n d ef in ed as th ew ei gh te ds um of ac ol le ct io n o fk c om po ne nt f ea tu re fu nc ti on s:
(c id:12)
"F(x i−1,x i ,e ,i) = λ k f k(x i−1,x i ,e ,i)."
k
Se ct io n 22.4. In fo rm at io n Ex tr ac ti on 879
Th e λ p ar am et er v al ue s a re l ea rn ed w it h a MAP (m ax im um a p os te ri or i) e st im at io n p ro ce-
k
d ur et ha tm ax im iz es th ec on di ti on al l ik el ih oo d o ft he tr ai ni ng d at a . Th ef ea tu re fu nc ti on s a re
t he ke yc om po ne nt so fa CRF .Th ef un ct io nf
k
"h as ac ce ss to ap ai ro fa dj ac en ts ta te s ,x i−1 a nd"
"x ,b ut al so th ee nt ir eo bs er va ti on(w or d)s eq ue nc e e ,a nd th ec ur re nt po si ti on in th et em po ra l"
i
"s eq ue nc e , i . Th is g iv es u s a l ot o f f le xi bi li ty i n d ef in in g f ea tu re s . We c an d ef in e a s im pl e"
"f ea tu re f un ct io n , f or ex am pl e o ne t ha t p ro du ce s a va lu e o f 1 i ft he c ur re nt w or di s ANDREW"
a nd th ec ur re nt st at ei s SPE(c id:24)AKER:
"f 1(x i−1,x i ,e ,i) = 01 o if t hx e i r= w is S e PEAKER a nd e i = ANDREW"
"Ho wa re fe at ur es li ke th es eu se d ? It de pe nd so nt he ir co rr es po nd in g w ei gh ts . Ifλ > 0,t he n"
1
"w he ne ve r f i s t ru e , i t i nc re as es t he p ro ba bi li ty o f t he h id de n s ta te s eq ue nc e x . Th is i s"
1 1:N
a no th er w ay o f s ay in g “t he CRFm od el s ho ul d p re fe r t he t ar ge t s ta te SPEAKER f or t he w or d
ANDREW .” If o n t he o th er h an d λ
1
"< 0, t he CRF m od el w il l t ry t o a vo id t hi s a ss oc ia ti on ,"
"a nd ifλ = 0,t hi sf ea tu re is ig no re d . Pa ra me te rv al ue sc an be se tm an ua ll yo rc an be le ar ne d"
1
f ro md at a . No wc on si de ra se co nd fe at ur ef un ct io n:
(c id:24)
"f 2(x i−1,x i ,e ,i) = 01 o if t hx e i r= w is S e PEAKER a nd e i+1 = SAID"
Th is f ea tu re i s t ru e i f t he c ur re nt s ta te i s SPEAKER a nd t he n ex t w or d i s “s ai d .” On e w ou ld
"t he re fo re e xp ec t a po si ti ve λ v al ue to go wi th th ef ea tu re . Mo re in te re st in gl y , n ot et ha tb ot h"
2
"f a nd f c an h ol d a t t he s am e t im e f or a s en te nc e l ik e “An dr ew s ai d ....” In t hi s c as e , t he"
1 2
t wo f ea tu re s o ve rl ap e ac h o th er a nd b ot h b oo st t he b el ie f i n x 1= SPEAKER . Be ca us e o f t he
"i nd ep en de nc e a ss um pt io n , HMMs ca nn ot u se ov er la pp in g f ea tu re s ; CRFs ca n . Fu rt he rm or e ,"
a f ea tu re i n a CRFc an u se a ny p ar t o f t he s eq ue nc e e . Fe at ur es c an a ls o b e d ef in ed o ve r
1:N
"t ra ns it io ns be tw ee ns ta te s . Th ef ea tu re sw ed ef in ed he re we re bi na ry ,b ut in ge ne ra l ,a fe at ur e"
f un ct io nc an be an yr ea l-v al ue df un ct io n . Fo rd om ai ns wh er ew eh av es om ek no wl ed ge ab ou t
"t he t yp es o f f ea tu re s w e w ou ld l ik e t o i nc lu de , t he CRF f or ma li sm g iv es u s a g re at d ea l o f"
f le xi bi li ty i n d ef in in g t he m . Th is f le xi bi li ty c an l ea d t o a cc ur ac ie s t ha t a re h ig he r t ha n w it h
l es sf le xi bl em od el ss uc ha s HMMs .
22.4.4 On to lo gy ex tr ac ti on fr om l ar ge co rp or a
"So f ar w e h av e t ho ug ht o f i nf or ma ti on e xt ra ct io n a s f in di ng a s pe ci fi c s et o f r el at io ns (e .g .,"
"s pe ak er , t im e , l oc at io n) i n a s pe ci fi c t ex t (e .g ., a t al k a nn ou nc em en t). A d if fe re nt a pp li ca-"
t io n o f e xt ra ct io n t ec hn ol og y i s b ui ld in g a l ar ge k no wl ed ge b as e o r o nt ol og y o f f ac ts f ro m
a c or pu s . Th is i s d if fe re nt i n t hr ee w ay s: Fi rs t i t i s o pe n-e nd ed—w e w an t t o a cq ui re f ac ts
"a bo ut a ll t yp es o f d om ai ns , n ot j us t o ne s pe ci fi c d om ai n . Se co nd , w it h a l ar ge c or pu s , t hi s"
"t as ki sd om in at ed by pr ec is io n , n ot re ca ll—j us ta sw it hq ue st io na ns we ri ng on th e We b(Se c-"
"t io n 22.3.6). Th ir d , t he r es ul ts c an b e s ta ti st ic al a gg re ga te s g at he re d f ro m m ul ti pl e s ou rc es ,"
r at he rt ha nb ei ng ex tr ac te df ro mo ne sp ec if ic te xt .
"Fo r e xa mp le , He ar st (1992) l oo ke d a t t he p ro bl em o f l ea rn in g a n o nt ol og y o f c on ce pt"
"c at eg or ie s a nd s ub ca te go ri es f ro m a l ar ge c or pu s . (In 1992, a l ar ge c or pu s w as a 1000-p ag e"
e nc yc lo pe di a ; t od ay it wo ul db ea 100-m il li on-p ag e We bc or pu s .) Th ew or kc on ce nt ra te d o n
t em pl at es t ha t a re v er y g en er al (n ot t ie d t o a s pe ci fi c d om ai n) a nd h av e h ig h p re ci si on (a re
880 Ch ap te r 22. Na tu ra l La ng ua ge Pr oc es si ng
a lm os ta lw ay sc or re ct wh en th ey ma tc h)b ut lo wr ec al l(d on ot a lw ay sm at ch). He re is on eo f
t he mo st pr od uc ti ve t em pl at es:
"NP s uc ha s NP (,NP)*(,)? ((a nd|o r)NP)? ."
"He re t he b ol d w or ds a nd c om ma s m us t a pp ea r l it er al ly i n t he t ex t , b ut t he p ar en th es es a re"
"f or g ro up in g , t he a st er is k m ea ns r ep et it io n o f z er o o r m or e , a nd t he q ue st io n m ar k m ea ns"
o pt io na l . NP i s a va ri ab le s ta nd in g f or a n ou n p hr as e ; Ch ap te r 23 d es cr ib es h ow t o i de nt if y
n ou np hr as es ;f or no wj us ta ss um et ha tw ek no ws om ew or ds ar en ou ns an do th er wo rd s(s uc h
a s v er bs) t ha t w e c an r el ia bl y a ss um e a re n ot p ar t o f a s im pl e n ou n p hr as e . Th is t em pl at e
m at ch es t he t ex ts “d is ea se s s uc h a sr ab ie s a ff ec t y ou r d og” a nd “s up po rt s n et wo rk p ro to co ls
"s uc h a s DNS ,” c on cl ud in g t ha t r ab ie s i s a d is ea se a nd DNS i s a n et wo rk p ro to co l . Si mi la r"
"t em pl at es ca nb ec on st ru ct ed w it ht he ke yw or ds“i nc lu di ng ,”“e sp ec ia ll y ,”a nd“o ro th er .” Of"
"c ou rs e t he se t em pl at es w il l f ai l t o m at ch m an y r el ev an t p as sa ge s , l ik e “Ra bi es i s a d is ea se .”"
Th at is in te nt io na l . Th e“NP i sa NP”t em pl at ed oe si nd ee ds om et im es de no te as ub ca te go ry
"r el at io n , b ut i t o ft en m ea ns s om et hi ng e ls e , a s i n “Th er e i s a Go d” o r “Sh e i s a l it tl e t ir ed .”"
Wi th al ar ge co rp us we ca na ff or dt ob ep ic ky ;t ou se on ly th eh ig h-p re ci si on t em pl at es . We’l l
"m is s m an y s ta te me nt s o f a s ub ca te go ry r el at io ns hi p , b ut m os t l ik el y w e’l l f in d a p ar ap hr as e"
o ft he st at em en ts om ew he re el se in th ec or pu si na fo rm we ca nu se .
22.4.5 Au to ma te d t em pl at ec on st ru ct io n
Th es ub ca te go ry r el at io ni ss of un da me nt al th at is wo rt hw hi le to ha nd cr af ta fe wt em pl at es to
h el pi de nt if y i ns ta nc es o fi to cc ur ri ng i nn at ur al la ng ua ge t ex t . Bu tw ha ta bo ut th et ho us an ds
o f o th er r el at io ns i n t he w or ld ? Th er e a re n’t e no ug h AI g ra d s tu de nt s i n t he w or ld t o c re at e
"a nd de bu g t em pl at es f or al lo ft he m . Fo rt un at el y , i ti sp os si bl e t ol ea rn te mp la te s f ro ma fe w"
"e xa mp le s ,t he nu se th et em pl at es to le ar nm or ee xa mp le s ,f ro mw hi ch mo re te mp la te sc an be"
"l ea rn ed ,a nd so on . In on eo ft he fi rs te xp er im en ts of th is ki nd ,Br in(1999)s ta rt ed wi th ad at a"
s et of ju st fi ve ex am pl es:
"(“Is aa c As im ov”,“Th e Ro bo ts of Da wn”)"
"(“Da vi d Br in”,“St ar ti de Ri si ng”)"
"(“Ja me s Gl ei ck”,“Ch ao s—Ma ki ng a Ne w Sc ie nc e”)"
"(“Ch ar le s Di ck en s”,“Gr ea t Ex pe ct at io ns”)"
"(“Wi ll ia m Sh ak es pe ar e”,“Th e Co me dy of Er ro rs”)"
"Cl ea rl yt he se ar ee xa mp le so ft he au th or–t it le r el at io n ,b ut th el ea rn in gs ys te mh ad no kn ow l-"
e dg e o f a ut ho rs o r t it le s . Th e w or ds i n t he se e xa mp le s w er e u se d i n a s ea rc h o ve r a We b
"c or pu s , r es ul ti ng i n 199 m at ch es . Ea ch ma tc hi sd ef in ed as at up le of se ve ns tr in gs ,"
"(Au th or , Ti tl e ,Or de r ,Pr ef ix ,Mi dd le ,Po st fi x ,URL),"
"w he re Or de r i s t ru e i f t he a ut ho r c am e f ir st a nd f al se i f t he t it le c am e f ir st , Mi dd le i s t he"
"c ha ra ct er s b et we en t he au th or an dt it le , Pr ef ix is th e 10 c ha ra ct er s b ef or e t he m at ch , Su ff ix i s"
"t he 10 c ha ra ct er s a ft er th em at ch ,a nd URLi st he We ba dd re ss wh er et he ma tc hw as ma de ."
"Gi ve n a s et o f m at ch es , a s im pl e t em pl at e-g en er at io n s ch em e c an f in d t em pl at es t o"
e xp la in th em at ch es . Th el an gu ag e o ft em pl at es wa sd es ig ne d t oh av ea cl os em ap pi ng to th e
"m at ch es t he ms el ve s , t ob ea me na bl e t oa ut om at ed l ea rn in g , a nd to em ph as iz e h ig h p re ci si on"
Se ct io n 22.4. In fo rm at io n Ex tr ac ti on 881
(p os si bl y a t t he r is k o f l ow er r ec al l). Ea ch t em pl at e h as t he s am e s ev en c om po ne nt s a s a
m at ch . Th e Au th or a nd Ti tl e a re r eg ex es c on si st in g o f a ny c ha ra ct er s (b ut b eg in ni ng a nd
e nd in g i n l et te rs) a nd c on st ra in ed t o h av e a l en gt h f ro m h al f t he m in im um l en gt h o f t he
"e xa mp le s t o t wi ce t he m ax im um l en gt h . Th e p re fi x , m id dl e , a nd p os tf ix a re r es tr ic te d t o"
"l it er al s tr in gs , n ot r eg ex es . Th e m id dl e i s t he e as ie st t o l ea rn: e ac h d is ti nc t m id dl e s tr in g i n"
"t he s et o f m at ch es i s a d is ti nc t c an di da te t em pl at e . Fo r e ac h s uc h c an di da te , t he t em pl at e’s"
"Pr ef ix is th en de fi ne da st he lo ng es tc om mo ns uf fi xo fa ll th ep re fi xe si nt he ma tc he s ,a nd th e"
Po st fi xi sd ef in ed as th el on ge st co mm on pr ef ix of al lt he po st fi xe si nt he ma tc he s . If ei th er of
"t he se i s o f l en gt h z er o , t he n t he t em pl at e i s r ej ec te d . Th e URL o f t he t em pl at e i s d ef in ed a s"
t he lo ng es tp re fi xo ft he URLs in th em at ch es .
"In t he e xp er im en t r un b y Br in , t he f ir st 199 m at ch es g en er at ed t hr ee t em pl at es . Th e"
m os tp ro du ct iv et em pl at ew as
<LI><B>Ti tl e</B> b y Au th or(
URL:w ww .s ff .n et/l oc us/c
"Th et hr ee te mp la te sw er et he nu se dt or et ri ev e 4047 m or e(a ut ho r ,t it le)e xa mp le s . Th ee xa m-"
"p le s w er e t he n u se d t o g en er at e m or e t em pl at es , a nd s o o n , e ve nt ua ll y y ie ld in g o ve r 15,000"
"t it le s . Gi ve na go od s et of te mp la te s , t he sy st em c an c ol le ct a go od s et of ex am pl es . Gi ve na"
"g oo ds et of ex am pl es ,t he sy st em ca nb ui ld ag oo ds et of te mp la te s ."
Th e b ig ge st w ea kn es s i n t hi s a pp ro ac h i s t he s en si ti vi ty t o n oi se . If o ne o f t he f ir st
"f ew t em pl at es i si nc or re ct , e rr or s c an p ro pa ga te q ui ck ly . On e w ay to li mi t t hi s p ro bl em i st o"
"n ot a cc ep t a n ew e xa mp le u nl es s i t i s v er if ie d b y m ul ti pl e t em pl at es , a nd n ot a cc ep t a n ew"
t em pl at eu nl es si td is co ve rs mu lt ip le ex am pl es th at ar ea ls of ou nd by ot he rt em pl at es .
22.4.6 Ma ch in er ea di ng
"Au to ma te dt em pl at ec on st ru ct io ni sa bi gs te pu pf ro mh an dc ra ft ed te mp la te co ns tr uc ti on , b ut"
i ts ti ll r eq ui re s a ha nd fu l o fl ab el ed e xa mp le s o fe ac hr el at io n t og et s ta rt ed . To bu il d a la rg e
"o nt ol og y w it hm an yt ho us an ds o fr el at io ns , e ve nt ha ta mo un t o fw or kw ou ld b eo ne ro us ; w e"
w ou ld li ke to ha ve an ex tr ac ti on sy st em wi th no hu ma ni np ut of an yk in d—a sy st em th at co ul d
r ea do ni ts ow na nd bu il du pi ts ow nd at ab as e . Su ch as ys te mw ou ld be re la ti on-i nd ep en de nt ;
"w ou ld w or k f or a ny r el at io n . In p ra ct ic e , t he se s ys te ms w or k o n a ll r el at io ns i n p ar al le l ,"
b ec au se of th e I/Od em an ds of la rg ec or po ra . Th ey be ha ve le ss l ik ea tr ad it io na li nf or ma ti on-
e xt ra ct io n s ys te m t ha ti st ar ge te d a ta fe wr el at io ns a nd mo re li ke ah um an re ad er wh ol ea rn s
f ro mt he te xt it se lf ;b ec au se of th is th ef ie ld ha sb ee nc al le d m ac hi ne re ad in g .
MACHINEREADING
"Ar ep re se nt at iv e m ac hi ne-r ea di ng s ys te mi s TEXTRUNNER (Ba nk oa nd Et zi on i ,2008)."
"TEXTRUNNER u se s c ot ra in in g t ob oo st i ts pe rf or ma nc e , b ut i tn ee ds s om et hi ng t o b oo ts tr ap"
"f ro m . In th ec as eo f He ar st(1992),s pe ci fi cp at te rn s(e .g .,s uc ha s)p ro vi de dt he bo ot st ra p ,a nd"
"f or Br in (1998), i tw as as et o ff iv ea ut ho r–t it le p ai rs . Fo r TEXTRUNNER , t he o ri gi na l i ns pi-"
"r at io n w as at ax on om y o fe ig ht v er yg en er al s yn ta ct ic t em pl at es , a ss ho wn in Fi gu re 22.3. It"
w as fe lt th at as ma ll nu mb er of te mp la te sl ik et hi sc ou ld co ve rm os to ft he wa ys th at re la ti on-
s hi ps ar ee xp re ss ed in En gl is h . Th ea ct ua lb oo ts ra pp in gs ta rt sf ro ma se to fl ab el le de xa mp le s
"t ha t a re e xt ra ct ed f ro m t he Pe nn Tr ee ba nk , a co rp us o f p ar se d s en te nc es . Fo re xa mp le , f ro m"
"t he pa rs eo ft he se nt en ce “Ei ns te in r ec ei ve d t he No be l Pr iz e i n 1921,” TEXTRUNNER i sa bl e"
23
NATURAL LANGUAGE
FOR COMMUNICATION
"In wh ic hw es ee ho wh um an sc om mu ni ca te wi th on ea no th er in na tu ra ll an gu ag e ,"
a nd ho wc om pu te ra ge nt sm ig ht jo in in th ec on ve rs at io n .
Co mm un ic at io ni st he in te nt io na l e xc ha ng e o fi nf or ma ti on b ro ug ht ab ou tb y t he pr od uc ti on
COMMUNICATION
a nd pe rc ep ti on of si gn sd ra wn fr om as ha re ds ys te mo fc on ve nt io na l s ig ns . Mo st an im al su se
SIGN
"s ig ns t or ep re se nt i mp or ta nt m es sa ge s: f oo dh er e , p re da to r n ea rb y , a pp ro ac h , w it hd ra w , l et’s"
"m at e . In ap ar ti al ly o bs er va bl e w or ld , c om mu ni ca ti on c an he lp ag en ts b es uc ce ss fu l b ec au se"
t he yc an le ar ni nf or ma ti on th at is ob se rv ed or in fe rr ed by ot he rs . Hu ma ns ar et he mo st ch at ty
"o f a ll s pe ci es , a nd i f c om pu te r a ge nt s a re t o b e h el pf ul , t he y’l l n ee d t o l ea rn t o s pe ak t he"
l an gu ag e . In t hi s c ha pt er w e l oo k a t l an gu ag e m od el s f or c om mu ni ca ti on . Mo de ls a im ed a t
d ee p u nd er st an di ng o f a c on ve rs at io n n ec es sa ri ly n ee d t o b e m or e c om pl ex t ha n t he s im pl e
"m od el s a im ed a t , s ay , s pa m c la ss if ic at io n . We s ta rt w it h g ra mm at ic al m od el s o f t he p hr as e"
"s tr uc tu re o f s en te nc es , a dd s em an ti cs t o t he m od el , a nd t he n a pp ly i t t o m ac hi ne t ra ns la ti on"
a nd sp ee ch re co gn it io n .
23.1 PHRASE STRUCTURE GRAMMARS
Th e n-g ra m l an gu ag e m od el s o f Ch ap te r 22 w er e b as ed o n s eq ue nc es o f w or ds . Th e b ig
"i ss ue fo rt he se mo de ls is da ta sp ar si ty—w it ha vo ca bu la ry o f ,s ay ,105 w or ds ,t he re ar e 1015"
"t ri gr am p ro ba bi li ti es t o e st im at e , a nd s o a c or pu s o f e ve n a t ri ll io n w or ds w il l n ot b e a bl e t o"
s up pl y r el ia bl e e st im at es f or a ll o f t he m . We c an a dd re ss t he p ro bl em o f s pa rs it y t hr ou gh
g en er al iz at io n . Fr om th ef ac tt ha t“b la ck d og”i sm or ef re qu en t t ha n“d og bl ac k”a nd si mi la r
"o bs er va ti on s , w e c an f or m t he g en er al iz at io n t ha t a dj ec ti ve s t en d t o c om e b ef or e n ou ns i n"
En gl is h (w he re as t he y t en d t o f ol lo w n ou ns i n Fr en ch: “c hi en n oi r” i s m or e f re qu en t). Of
c ou rs et he re ar ea lw ay se xc ep ti on s ;“g al or e”i sa na dj ec ti ve th at fo ll ow st he no un it mo di fi es .
"De sp it et he ex ce pt io ns ,t he no ti on of al ex ic al ca te go ry(a ls ok no wn as ap ar to fs pe ec h)s uc h"
LEXICALCATEGORY
"a sn ou no ra dj ec ti ve i sa us ef ul ge ne ra li za ti on—u se fu l i ni ts ow nr ig ht ,b ut mo re s ow he nw e"
SYNTACTIC s tr in g t og et he r l ex ic al c at eg or ie s t o f or m s yn ta ct ic c at eg or ie s s uc h a s n ou n p hr as e o r v er b
CATEGORIES
"p hr as e , a nd c om bi ne t he se s yn ta ct ic c at eg or ie s i nt o t re es r ep re se nt in g t he p hr as e s tr uc tu re"
PHRASESTRUCTURE
"o fs en te nc es: n es te dp hr as es , e ac hm ar ke dw it ha ca te go ry ."
888
Se ct io n 23.1. Ph ra se St ru ct ur e Gr am ma rs 889
GENERATIVE CAPACITY
Gr am ma ti ca lf or ma li sm sc an be cl as si fi ed by th ei rg en er at iv ec ap ac it y: t he se to f
l an gu ag es t he yc an re pr es en t . Ch om sk y(1957)d es cr ib es fo ur cl as se so fg ra mm at-
i ca l f or ma li sm s t ha t d if fe r o nl y i n t he f or m o f t he r ew ri te r ul es . Th e c la ss es c an
"b e a rr an ge d i n a h ie ra rc hy , w he re e ac h c la ss c an b e u se d t o d es cr ib e a ll t he l an-"
"g ua ge s t ha t c an b e d es cr ib ed b y a l es s p ow er fu l c la ss , a s w el l a s s om e a dd it io na l"
"l an gu ag es . He re we li st th eh ie ra rc hy , m os tp ow er fu lc la ss fi rs t:"
Re cu rs iv el y e nu me ra bl e g ra mm ar s u se u nr es tr ic te d r ul es: b ot h s id es o f t he
"r ew ri te r ul es c an h av e a ny n um be r o f t er mi na l a nd n on te rm in al s ym bo ls , a si n t he"
r ul e AB C → D E . Th es eg ra mm ar sa re eq ui va le nt t o Tu ri ng ma ch in es in th ei r
e xp re ss iv ep ow er .
Co nt ex t-s en si ti ve g ra mm ar s a re r es tr ic te d o nl y i n t ha t t he r ig ht-h an d s id e
m us t c on ta in a t l ea st a s m an y s ym bo ls a s t he l ef t-h an d s id e . Th e n am e “c on te xt-
s en si ti ve” c om es f ro m t he f ac t t ha t a r ul e s uc h a s A X B → A Y B s ay s t ha t
a n X c an b e r ew ri tt en a s a Y i n t he c on te xt o f a p re ce di ng A a nd a f ol lo wi ng B .
Co nt ex t-s en si ti ve g ra mm ar s c an r ep re se nt l an gu ag es s uc h a s a nb nc n (a s eq ue nc e
o fn co pi es of af ol lo we db yt he sa me nu mb er of bs an dt he nc s).
"In c on te xt-f re e g ra mm ar s (o r CFGs), t he l ef t-h an d s id e c on si st s o f a s in-"
"g le n on te rm in al s ym bo l . Th us , e ac h r ul e l ic en se s r ew ri ti ng t he n on te rm in al a s"
t he r ig ht-h an d s id e i n a ny c on te xt . CFGs a re p op ul ar f or n at ur al-l an gu ag e a nd
"p ro gr am mi ng-l an gu ag e g ra mm ar s , a lt ho ug h i ti sn ow wi de ly ac ce pt ed t ha ta tl ea st"
"s om en at ur al la ng ua ge sh av ec on st ru ct io ns th at ar en ot co nt ex t-f re e(Pu ll um ,1991)."
"Co nt ex t-f re e g ra mm ar sc an re pr es en t a nb n ,b ut no ta nb nc n ."
Re gu la rg ra mm ar s a re t he m os t r es tr ic te d c la ss . Ev er y r ul e h as a si ng le n on-
t er mi na lo nt he le ft-h an ds id ea nd at er mi na ls ym bo lo pt io na ll yf ol lo we db ya no n-
t er mi na lo nt he ri gh t-h an ds id e . Re gu la rg ra mm ar sa re eq ui va le nt in po we rt of in it e-
"s ta te m ac hi ne s . Th ey a re p oo rl y s ui te d f or p ro gr am mi ng l an gu ag es , b ec au se t he y"
c an no t r ep re se nt c on st ru ct s s uc h a s b al an ce d o pe ni ng a nd c lo si ng p ar en th es es (a
"v ar ia ti on o ft he a nb n l an gu ag e). Th ec lo se st t he yc an co me is re pr es en ti ng a∗ b∗ ,a"
s eq ue nc e o fa ny nu mb er of as fo ll ow ed by an yn um be ro fb s .
"Th e g ra mm ar s h ig he r u p i n t he h ie ra rc hy h av e m or e e xp re ss iv e p ow er , b ut"
"t he a lg or it hm s f or d ea li ng w it h t he m a re l es s e ff ic ie nt . Up t o t he 1980 s , l in gu is ts"
"f oc us ed on co nt ex t-f re ea nd co nt ex t-s en si ti ve la ng ua ge s . Si nc et he n ,t he re ha sb ee n"
"r en ew ed i nt er es t i n r eg ul ar g ra mm ar s , b ro ug ht a bo ut b y t he n ee d t o p ro ce ss a nd"
"l ea rn f ro m g ig ab yt es o r t er ab yt es o f o nl in e t ex t v er y q ui ck ly , e ve n a t t he c os t o f"
"a l es s c om pl et e a na ly si s . As Fe rn an do Pe re ir a p ut i t , “Th e o ld er I g et , t he f ur th er"
"d ow n t he Ch om sk y h ie ra rc hy I g o .” To s ee w ha t h e m ea ns , c om pa re Pe re ir a a nd"
"Wa rr en (1980) w it h Mo hr i , Pe re ir a , a nd Ri le y (2002) (a nd n ot e t ha t t he se t hr ee"
a ut ho rs al ln ow wo rk on la rg et ex tc or po ra at Go og le).
890 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
Th er e h av e b ee n m an y c om pe ti ng l an gu ag e m od el s b as ed o n t he i de a o f p hr as e s tr uc-
PROBABILISTIC
"t ur e ; w e w il l d es cr ib e a p op ul ar m od el c al le d t he p ro ba bi li st ic c on te xt-f re e g ra mm ar , o r"
CONTEXT-FREE
GRAMMAR PCFG .1 A g ra mm ar i s a c ol le ct io n o f r ul es t ha t d ef in es a l an gu ag e a s a s et o f a ll ow ab le
GRAMMAR
"s tr in gs o fw or ds . “Co nt ex t-f re e” i sd es cr ib ed i nt he si de ba r o np ag e 889, a nd “p ro ba bi li st ic”"
LANGUAGE
m ea ns th at th eg ra mm ar as si gn sa pr ob ab il it y t oe ve ry st ri ng . He re is a PCFGr ul e:
VP → Ve rb [0.70]
| VP NP [0.30].
NON-TERMINAL He re VP (v er b p hr as e) a nd NP (n ou n p hr as e) a re n on-t er mi na l s ym bo ls . Th e g ra mm ar
SYMBOLS
"a ls or ef er s t oa ct ua l w or ds , w hi ch ar ec al le d t er mi na ls ym bo ls . Th is ru le is sa yi ng t ha tw it h"
TERMINALSYMBOL
"p ro ba bi li ty 0.70 a ve rb p hr as e c on si st s s ol el y o fa v er b , a nd w it h p ro ba bi li ty 0.30 i ti s a VP"
f ol lo we db ya n NP . Ap pe nd ix Bd es cr ib es n on-p ro ba bi li st ic c on te xt-f re e g ra mm ar s .
We no w d ef in ea gr am ma rf or at in y f ra gm en t o f En gl is h t ha ti ss ui ta bl e f or co mm un i-
c at io nb et we en ag en ts ex pl or in gt he wu mp us wo rl d . We ca ll th is la ng ua ge E . La te rs ec ti on s
0
i mp ro ve o n E t o m ak e i t s li gh tl y c lo se r t o r ea l En gl is h . We a re u nl ik el y e ve r t o d ev is e a
0
"c om pl et eg ra mm ar fo r En gl is h , i fo nl yb ec au se no tw op er so ns w ou ld ag re ee nt ir el yo nw ha t"
c on st it ut es v al id En gl is h .
23.1.1 Th e l ex ic on of E
0
"Fi rs tw ed ef in et he le xi co n ,o rl is to fa ll ow ab le wo rd s . Th ew or ds ar eg ro up ed in to th el ex ic al"
LEXICON
"c at eg or ie s f am il ia r t o d ic ti on ar y u se rs: n ou ns , p ro no un s , a nd n am es t o d en ot e t hi ng s ; v er bs"
t o d en ot e e ve nt s ; a dj ec ti ve s t o m od if y n ou ns ; a dv er bs t o m od if y v er bs ; a nd f un ct io n w or ds:
"a rt ic le s (s uc h a s t he), p re po si ti on s (i n), a nd c on ju nc ti on s (a nd). Fi gu re 23.1 s ho ws a s ma ll"
l ex ic on fo rt he la ng ua ge E .
0
Ea ch of th ec at eg or ie s e nd si n ...t oi nd ic at e t ha tt he re ar eo th er wo rd si nt he ca te go ry .
"Fo r n ou ns , n am es , v er bs , a dj ec ti ve s , a nd a dv er bs , i t i s i nf ea si bl e e ve n i n p ri nc ip le t o l is t a ll"
"t he w or ds . No t o nl y a re t he re t en s o f t ho us an ds o f m em be rs i n e ac h c la ss , b ut n ew o ne s–"
l ik e i Po d o r b io di es el—a re b ei ng a dd ed c on st an tl y . Th es e f iv e c at eg or ie s a re c al le d o pe n
"c la ss es . Fo rt he ca te go ri es of pr on ou n , r el at iv ep ro no un , a rt ic le , p re po si ti on , a nd co nj un ct io n"
OPENCLASS
w e c ou ld h av e l is te d a ll t he w or ds w it h a l it tl e m or e w or k . Th es e a re c al le d c lo se d c la ss es ;
CLOSEDCLASS
t he y h av e a s ma ll n um be r o f w or ds (a d oz en o r s o). Cl os ed c la ss es c ha ng e o ve r t he c ou rs e
"o fc en tu ri es , n ot mo nt hs . Fo re xa mp le , “t he e” a nd “t ho u” w er ec om mo nl y u se d p ro no un s i n"
"t he 17 t hc en tu ry , w er eo nt he de cl in ei nt he 19 t h ,a nd ar es ee n t od ay on ly in po et ry an ds om e"
r eg io na ld ia le ct s .
23.1.2 Th e Gr am ma ro f E
0
"Th e n ex t s te p i s t o c om bi ne t he w or ds i nt o p hr as es . Fi gu re 23.2 s ho ws a g ra mm ar f or E ,"
0
w it h r ul es f or e ac h o f t he s ix s yn ta ct ic c at eg or ie s a nd a n e xa mp le f or e ac h r ew ri te r ul e .2
Fi gu re 23.3 s ho ws a p ar se t re e f or t he s en te nc e “Ev er y w um pu s s me ll s .” Th e p ar se t re e
PARSETREE
"1 PCFGs ar ea ls ok no wn as st oc ha st ic co nt ex t-f re eg ra mm ar s ,o r SCFGs ."
2 A r el at iv e c la us e f ol lo ws a nd m od if ie s a n ou n p hr as e . It c on si st s o f a r el at iv e p ro no un (s uc h a s “w ho” o r
“t ha t”)f ol lo we db ya ve rb ph ra se . An ex am pl eo fa re la ti ve cl au se is th at st in ks in“Th ew um pu st ha ts ti nk si si n
"22.”An ot he rk in do fr el at iv ec la us eh as no re la ti ve pr on ou n ,e .g .,Ik no wi n“t he ma n Ik no w .”"
Se ct io n 23.1. Ph ra se St ru ct ur e Gr am ma rs 891
No un → s te nc h [0.05] | b re ez e [0.10] | w um pu s[0.15]| p it s [0.05]| ...
Ve rb → i s [0.10] | f ee l [0.10]| s me ll s [0.10]| s ti nk s [0.05] | ...
Ad je ct iv e → r ig ht [0.10]| d ea d [0.05]| s me ll y [0.02]| b re ez y [0.02]...
Ad ve rb → h er e [0.05]| a he ad [0.05] | n ea rb y [0.02] | ...
Pr on ou n → m e [0.10]| y ou [0.03] | I[0.10] | i t [0.10]| ...
Re l Pr o → t ha t [0.40] | w hi ch [0.15]| w ho[0.20]| w ho m [0.02]∨...
Na me → Jo hn [0.01] | Ma ry [0.01]| Bo st on [0.01]| ...
Ar ti cl e → t he [0.40]| a [0.30]| a n [0.10] | e ve ry [0.05] | ...
Pr ep → t o [0.20] | i n [0.10]| o n [0.05]| n ea r [0.10] | ...
Co nj → a nd [0.50] | o r [0.10] | b ut[0.20] | y et [0.02]∨...
Di gi t → 0 [0.20] | 1 [0.20]| 2 [0.20]| 3 [0.20]| 4 [0.20] | ...
"Fi gu re 23.1 Th el ex ic on fo r E .Re l Pr oi ss ho rt fo rr el at iv ep ro no un ,Pr ep fo rp re po si ti on ,"
0
a nd Co nj f or co nj un ct io n .Th es um of th ep ro ba bi li ti es fo re ac hc at eg or yi s 1.
E : S → NP VP [0.90] I+f ee la br ee ze
0
| S Co nj S [0.10] If ee la br ee ze+a nd+It st in ks
NP → Pr on ou n [0.30] I
| Na me [0.10] Jo hn
| No un [0.10] p it s
| Ar ti cl e No un [0.25] t he+w um pu s
| Ar ti cl e Ad js No un [0.05] t he+s me ll yd ea d+w um pu s
| Di gi t Di gi t [0.05] 34
| NP PP [0.10] t he wu mp us+i n 13
| NP Re l Cl au se [0.05] t he wu mp us+t ha ti ss me ll y
VP → Ve rb [0.40] s ti nk s
| VP NP [0.35] f ee l+a br ee ze
| VP Ad je ct iv e [0.05] s me ll s+d ea d
| VP PP [0.10] i s+i n 13
| VP Ad ve rb [0.10] g o+a he ad
Ad js → Ad je ct iv e [0.80] s me ll y
| Ad je ct iv e Ad js [0.20] s me ll y+d ea d
PP → Pr ep NP [1.00] t o+t he ea st
Re l Cl au se → Re l Pr o VP [1.00] t ha t+i ss me ll y
"Fi gu re 23.2 Th eg ra mm ar fo r E ,w it he xa mp le ph ra se sf or ea ch ru le . Th es yn ta ct ic ca t-"
0
"e go ri es a re s en te nc e (S), n ou n p hr as e (NP), v er b p hr as e (VP), l is t o f a dj ec ti ve s (Ad js),"
"p re po si ti on al ph ra se(PP),a nd re la ti ve cl au se(Re l Cl au se)."
892 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
S
0.90
NP VP
0.25 0.40
Ar ti cl e No un Ve rb
0.05 0.15 0.10
Ev er y w um pu s s me ll s
Fi gu re 23.3 Pa rs et re ef or th es en te nc e“Ev er yw um pu ss me ll s”a cc or di ng to th eg ra mm ar
E . Ea ch in te ri or no de of th et re ei sl ab el ed wi th it sp ro ba bi li ty . Th ep ro ba bi li ty of th et re e
0
a sa wh ol ei s 0.9×0.25×0.05×0.15×0.40×0.10=0.0000675. Si nc et hi st re ei st he on ly
"p ar se of th es en te nc e ,t ha tn um be ri sa ls ot he pr ob ab il it yo f t he se nt en ce . Th et re ec an al so"
b ew ri tt en in li ne ar fo rm as[S [NP [Ar ti cl e e ve ry][No un w um pu s]][VP [Ve rb s me ll s]]].
g iv es ac on st ru ct iv e p ro of th at th es tr in g o fw or ds is in de ed a se nt en ce a cc or di ng t ot he ru le s
o f E . Th e E g ra mm ar ge ne ra te s a wi de ra ng eo f En gl is hs en te nc es s uc ha st he fo ll ow in g:
0 0
Jo hn is in th ep it
Th ew um pu st ha ts ti nk si si n 22
Ma ry is in Bo st on an dt he wu mp us is ne ar 32
"Un fo rt un at el y , t he gr am ma r o ve rg en er at es: t ha ti s ,i tg en er at es s en te nc es t ha t a re no tg ra m-"
OVERGENERATION
"m at ic al , s uc h a s “Me g o Bo st on” a nd “I s me ll p it s w um pu s Jo hn .” It a ls o u nd er ge ne ra te s:"
UNDERGENERATION
"t he re a re m an y s en te nc es o f En gl is h t ha t i t r ej ec ts , s uc h a s “I t hi nk t he w um pu s i s s me ll y .”"
We wi ll se eh ow t o l ea rn a be tt er g ra mm ar la te r ; f or no w w ec on ce nt ra te o nw ha t w ec an d o
w it ht he gr am ma rw eh av e .
23.2 SYNTACTIC ANALYSIS (PARSING)
"Pa rs in gi st he pr oc es so fa na ly zi ng as tr in go fw or ds to un co ve ri ts ph ra se st ru ct ur e ,a cc or di ng"
PARSING
t ot he ru le so fa gr am ma r . Fi gu re 23.4 s ho ws th at we ca ns ta rt wi th th e S s ym bo l a nd se ar ch
"t op do wn fo ra tr ee th at ha st he wo rd sa si ts le av es ,o rw ec an st ar tw it ht he wo rd sa nd se ar ch"
b ot to m u p f or a t re e t ha t c ul mi na te s i n a n S . Bo th t op-d ow n a nd b ot to m-u p p ar si ng c an b e
"i ne ff ic ie nt ,h ow ev er ,b ec au se th ey ca ne nd up re pe at in ge ff or ti na re as of th es ea rc hs pa ce th at"
l ea dt od ea de nd s . Co ns id er th ef ol lo wi ng tw os en te nc es:
Ha ve th es tu de nt si ns ec ti on 2 o f Co mp ut er Sc ie nc e 101 t ak et he ex am .
Ha ve th es tu de nt si ns ec ti on 2 o f Co mp ut er Sc ie nc e 101 t ak en th ee xa m ?
"Ev en th ou gh th ey sh ar et he fi rs t 10 w or ds ,t he se se nt en ce sh av ev er yd if fe re nt pa rs es ,b ec au se"
t he f ir st i s a c om ma nd a nd t he s ec on d i s a q ue st io n . A l ef t-t o-r ig ht p ar si ng a lg or it hm w ou ld
h av e t og ue ss w he th er th e f ir st wo rd is pa rt o f a co mm an d o ra qu es ti on a nd wi ll no t b ea bl e
"t o t el l i f t he g ue ss i s c or re ct u nt il a t l ea st t he e le ve nt h w or d , t ak e o r t ak en . If t he a lg or it hm"
"g ue ss es wr on g ,i tw il lh av et ob ac kt ra ck al lt he wa yt ot he fi rs tw or da nd re an al yz e t he wh ol e"
s en te nc e u nd er th eo th er in te rp re ta ti on .
Se ct io n 23.2. Sy nt ac ti c An al ys is(Pa rs in g) 893
Li st of it em s Ru le
S
NP VP S → NP VP
NP VP Ad je ct iv e VP → VP Ad je ct iv e
NP Ve rb Ad je ct iv e VP → Ve rb
NP Ve rb d ea d Ad je ct iv e → d ea d
NP i sd ea d Ve rb → i s
Ar ti cl e No un i sd ea d NP → Ar ti cl e No un
Ar ti cl e w um pu si sd ea d No un → w um pu s
t he wu mp us is de ad Ar ti cl e → t he
Fi gu re 23.4 Tr ac eo ft he pr oc es so ff in di ng ap ar se fo rt he st ri ng“Th ew um pu si sd ea d”
"a sa se nt en ce ,a cc or di ng to th eg ra mm ar E . Vi ew ed as at op-d ow np ar se ,w es ta rt wi th th e"
0
"l is to fi te ms be in g S a nd ,o ne ac hs te p ,m at ch an it em X w it ha ru le of th ef or m(X →...)"
"a nd re pl ac e X i nt he li st of it em sw it h(...). Vi ew ed as ab ot to m-u pp ar se ,w es ta rt wi th th e"
"l is to fi te ms be in gt he wo rd so ft he se nt en ce ,a nd ,o ne ac hs te p ,m at ch as tr in go ft ok en s(...)"
i nt he li st ag ai ns ta ru le of th ef or m(X →...) a nd re pl ac e(...) w it h X .
To a vo id t hi s s ou rc e o f i ne ff ic ie nc y w e c an u se d yn am ic p ro gr am mi ng: e ve ry t im e w e
"a na ly ze a s ub st ri ng , s to re t he r es ul ts s o w e w on’t h av e t o r ea na ly ze i t l at er . Fo r e xa mp le ,"
"o nc ew ed is co ve rt ha t“t he st ud en ts in se ct io n 2 o f Co mp ut er Sc ie nc e 101”i sa n NP ,w ec an"
r ec or dt ha tr es ul ti na da ta st ru ct ur ek no wn as ac ha rt . Al go ri th ms th at do th is ar ec al le dc ha rt
CHART
"p ar se rs . Be ca us e w e a re d ea li ng w it h c on te xt-f re e g ra mm ar s , a ny p hr as e t ha t w as f ou nd i n"
t he co nt ex to fo ne br an ch of th es ea rc hs pa ce ca nw or kj us ta sw el li na ny ot he rb ra nc ho ft he
s ea rc h s pa ce . Th er ea re ma ny ty pe s o fc ha rt pa rs er s ; w ed es cr ib e a bo tt om-u p v er si on c al le d
"t he CYKa lg or it hm ,a ft er it si nv en to rs , Jo hn Co ck e ,Da ni el Yo un ge r , a nd Ta de o Ka sa mi ."
CYKALGORITHM
Th e CYK a lg or it hm i s s ho wn i n Fi gu re 23.5. No te t ha t i t r eq ui re s a g ra mm ar w it h a ll
"r ul es in on eo ft wo ve ry sp ec if ic fo rm at s: l ex ic al ru le so ft he f or m X → w or d ,a nd sy nt ac ti c"
"CHOMSKYNORMAL r ul es o f t he f or m X → Y Z . Th is g ra mm ar f or ma t , c al le d Ch om sk y No rm al Fo rm , m ay"
FORM
"s ee m r es tr ic ti ve , b ut i t i s n ot: a ny c on te xt-f re e g ra mm ar c an b e a ut om at ic al ly t ra ns fo rm ed"
i nt o Ch om sk y No rm al Fo rm . Ex er ci se 23.8 l ea ds yo ut hr ou gh th ep ro ce ss .
"Th e CYK a lg or it hm u se s s pa ce o f O(n 2 m) f or t he P t ab le , w he re n i s t he n um be r o f"
"w or ds in th es en te nc e ,a nd mi st he nu mb er of no nt er mi na ls ym bo ls in th eg ra mm ar ,a nd ta ke s"
"t im e O(n 3 m). (Si nc em is co ns ta nt f or ap ar ti cu la r g ra mm ar , t hi s i sc om mo nl y d es cr ib ed a s"
"O(n 3).) No a lg or it hm c an d o b et te r f or g en er al c on te xt-f re e g ra mm ar s , a lt ho ug h t he re a re"
"f as te ra lg or it hm s o nm or er es tr ic te d g ra mm ar s . In fa ct , i ti sq ui te a tr ic k f or th ea lg or it hm t o"
"c om pl et ei n O(n 3)t im e ,g iv en th at it is po ss ib le fo ra se nt en ce to ha ve an ex po ne nt ia ln um be r"
o fp ar se tr ee s . Co ns id er th es en te nc e
Fa ll le av es fa ll an ds pr in gl ea ve ss pr in g .
"It i s a mb ig uo us b ec au se e ac h w or d (e xc ep t “a nd”) c an b e e it he r a n ou n o ra v er b , a nd “f al l”"
"a nd “s pr in g” c an b e a dj ec ti ve s a s w el l . (Fo r e xa mp le , o ne m ea ni ng o f “Fa ll l ea ve s f al l” i s"
894 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"f un ct io n CYK-PARSE(w or ds ,g ra mm ar)r et ur ns P ,a ta bl eo fp ro ba bi li ti es"
N ←LENGTH(w or ds)
M ←t he nu mb er of no nt er mi na ls ym bo ls in gr am ma r
"P←a na rr ay of si ze[M ,N ,N],i ni ti al ly al l 0"
/*In se rt le xi ca lr ul es fo re ac hw or d*/
f or i =1 t o N d o
f or ea ch ru le of fo rm(X → w or ds i[p])d o
"P[X ,i ,1]←p"
"/*Co mb in ef ir st an ds ec on dp ar ts of ri gh t-h an ds id es of ru le s ,f ro ms ho rt to lo ng*/"
f or le ng th =2 t o N d o
f or st ar t =1 t o N −l en gt h +1 d o
f or le n 1 =1 t o N −1 d o
l en 2 ←l en gt h−l en 1
f or ea ch ru le of th ef or m(X → Y Z [p])d o
"P[X ,s ta rt ,l en gt h]←MAX(P[X , s ta rt , l en gt h],"
"P[Y , s ta rt , l en 1] × P[Z , s ta rt +l en 1, l en 2] × p)"
r et ur n P
"Fi gu re 23.5 Th e CYK a lg or it hm f or p ar si ng . Gi ve n a s eq ue nc e o f w or ds , i t f in ds t he"
m os t p ro ba bl e d er iv at io n f or t he w ho le s eq ue nc e a nd f or e ac h s ub se qu en ce . It r et ur ns t he
"w ho le ta bl e , P , i n w hi ch an e nt ry P[X , s ta rt , l en] i s t he p ro ba bi li ty of th e m os tp ro ba bl e"
"X o f l en gt hl en s ta rt in g a tp os it io n s ta rt . If t he re is n o X o f t ha ts iz e a tt ha tl oc at io n , t he"
p ro ba bi li ty is 0.
e qu iv al en t t o“Au tu mn ab an do ns a ut um n .) Wi th E t he se nt en ce h as fo ur pa rs es:
0
[S [S [NP Fa ll le av es]f al l]a nd[S [NP s pr in gl ea ve s]s pr in g]
[S [S [NP Fa ll le av es]f al l]a nd[S s pr in g[VP l ea ve ss pr in g]]
[S [S Fa ll[VP l ea ve sf al l]]a nd[S [NP s pr in gl ea ve s]s pr in g]
[S [S Fa ll[VP l ea ve sf al l]]a nd[S s pr in g[VP l ea ve ss pr in g]] .
"If we ha dc tw o-w ay s-a mb ig uo us c on jo in ed s ub se nt en ce s , w ew ou ld ha ve 2 c w ay so fc ho os-"
i ng p ar se s f or th e s ub se nt en ce s .3 Ho w d oe s t he CYK a lg or it hm p ro ce ss t he se 2 c p ar se t re es
i n O(c 3) t im e ? Th e a ns we r i s t ha t i t d oe sn’t e xa mi ne a ll t he p ar se t re es ; a ll i t h as t o d o i s
c om pu te t he p ro ba bi li ty o f t he m os t p ro ba bl e t re e . Th e s ub tr ee s a re a ll r ep re se nt ed i n t he P
"t ab le ,a nd wi th al it tl ew or kw ec ou ld en um er at et he ma ll(i ne xp on en ti al ti me),b ut th eb ea ut y"
o ft he CYKa lg or it hm i st ha tw ed on’t ha ve to en um er at et he mu nl es sw ew an tt o .
In pr ac ti ce we ar eu su al ly no ti nt er es te di na ll pa rs es ;j us tt he be st on eo rb es tf ew . Th in k
o f t he CYK a lg or it hm a s d ef in in g t he c om pl et e s ta te s pa ce d ef in ed b y t he “a pp ly g ra mm ar
∗
r ul e” o pe ra to r . It i s p os si bl e t o s ea rc h j us t p ar t o f t hi s s pa ce u si ng A s ea rc h . Ea ch s ta te
"i n t hi s s pa ce i s a l is t o f i te ms (w or ds o r c at eg or ie s), a s s ho wn i n t he b ot to m-u p p ar se t ab le"
"(Fi gu re 23.4). Th e s ta rt s ta te i s a l is t o f w or ds , a nd a g oa l s ta te i s t he s in gl e i te m S . Th e"
"3 Th er ea ls ow ou ld be O(c !)a mb ig ui ty in th ew ay th ec om po ne nt sc on jo in—f or ex am pl e ,(X a nd(Y a nd Z))"
"v er su s((Xa nd Y)a nd Z).Bu tt ha ti sa no th er st or y ,o ne to ld we ll by Ch ur ch an d Pa ti l(1982)."
Se ct io n 23.2. Sy nt ac ti c An al ys is(Pa rs in g) 895
[[S[NP-SBJ-2 He re ye s]
[VPw er e
[VPg la ze d
[NP*-2]
[SBAR-ADVa si f
[S[NP-SBJs he]
[VPd id n’t
[VP[VPh ea r[NP*-1]]
o r
[VP[ADVPe ve n]s ee[NP*-1]]
[NP-1 h im]]]]]]]]
.]
Fi gu re 23.6 An no ta te dt re e f or th e s en te nc e“He re ye sw er e g la ze da si f s he d id n’t he ar
o re ve ns ee h im .” f ro mt he Pe nn Tr ee ba nk . No te th at in th is gr am ma rt he re is ad is ti nc ti on
b et we en an ob je ct no un ph ra se(NP)a nd as ub je ct no un ph ra se(NP-SBJ).No te al so ag ra m-
m at ic al ph en om en on we h av en ot co ve re dy et: t he m ov em en to f a p hr as ef ro m o ne pa rt of
t he tr ee to an ot he r .Th is tr ee an al yz es th ep hr as e“h ea ro re ve ns ee hi m”a sc on si st in go ft wo
"c on st it ue nt VPs , [VP h ea r [NP *-1]] a nd [VP [ADVP e ve n] s ee [NP *-1]], b ot h o f w hi ch"
"h av ea mi ss in go bj ec t ,d en ot ed*-1,w hi ch re fe rs to th e NP l ab el ed el se wh er ei nt he tr ee as"
[NP-1 h im].
"c os to fa st at ei st he in ve rs e o fi ts pr ob ab il it y a sd ef in ed by th er ul es ap pl ie d s of ar , a nd th er e"
a re va ri ou s h eu ri st ic s t oe st im at et he re ma in in g d is ta nc e t ot he go al ;t he be st he ur is ti cs c om e
∗
f ro mm ac hi ne le ar ni ng ap pl ie dt oa co rp us of se nt en ce s . Wi th th e A a lg or it hm we do n’t ha ve
"t o s ea rc h t he e nt ir e s ta te s pa ce , a nd w e a re g ua ra nt ee d t ha t t he f ir st p ar se f ou nd w il l b e t he"
m os tp ro ba bl e .
23.2.1 Le ar ni ng p ro ba bi li ti es f or PCFGs
"A PCFG h as m an y r ul es , w it h a p ro ba bi li ty f or e ac h r ul e . Th is s ug ge st s t ha t l ea rn in g t he"
g ra mm ar fr om da ta mi gh tb eb et te rt ha na kn ow le dg ee ng in ee ri ng a pp ro ac h . Le ar ni ng is ea s-
"i es ti fw ea re gi ve na co rp us of co rr ec tl yp ar se ds en te nc es ,c om mo nl yc al le da tr ee ba nk . Th e"
TREEBANK
"Pe nn Tr ee ba nk (Ma rc us e ta l ., 1993) i st he b es t k no wn ; i tc on si st s o f 3 m il li on w or ds w hi ch"
"h av eb ee na nn ot at ed w it hp ar to fs pe ec h a nd pa rs e-t re e s tr uc tu re , u si ng hu ma nl ab or as si st ed"
b ys om ea ut om at ed t oo ls . Fi gu re 23.6 s ho ws an an no ta te d t re e f ro mt he Pe nn Tr ee ba nk .
"Gi ve na co rp us of tr ee s ,w ec an cr ea te a PCFGj us tb yc ou nt in g(a nd sm oo th in g). In th e"
"e xa mp le ab ov e ,t he re ar et wo no de so ft he fo rm [S[NP ...][VP ...]]. We wo ul dc ou nt th es e ,"
"a nd a ll t he o th er s ub tr ee s w it h r oo t S i n t he c or pu s . If t he re a re 100,000 S n od es o f w hi ch"
"60,000 a re of th is fo rm ,t he nw ec re at et he ru le:"
S → NP VP [0.60].
"Wh at i f a t re eb an k i s n ot a va il ab le , b ut w e h av e a c or pu s o f r aw u nl ab el ed s en te nc es ? It i s"
"s ti ll p os si bl e t o l ea rn a g ra mm ar f ro m s uc h a c or pu s , b ut i t i s m or e d if fi cu lt . Fi rs t o f a ll ,"
w ea ct ua ll y h av e t wo pr ob le ms: l ea rn in g t he s tr uc tu re o ft he g ra mm ar ru le s a nd l ea rn in g t he
896 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
p ro ba bi li ti es as so ci at ed wi th ea ch ru le . (We ha ve th es am ed is ti nc ti on in le ar ni ng Ba ye sn et s .)
"We’l l a ss um e t ha t w e’r e g iv en t he l ex ic al a nd s yn ta ct ic c at eg or y n am es . (If n ot , w e c an j us t"
"a ss um e c at eg or ie s X ,...X a nd u se c ro ss-v al id at io n t o p ic k t he b es t v al ue o f n .) We c an"
1 n
"t he n a ss um e t ha t t he g ra mm ar i nc lu de s e ve ry p os si bl e (X → Y Z) o r (X → w or d) r ul e ,"
a lt ho ug h m an yo ft he se ru le sw il lh av ep ro ba bi li ty 0 o rc lo se t o 0.
"We ca nt he nu se an ex pe ct at io n–m ax im iz at io n(EM)a pp ro ac h ,j us ta sw ed id in le ar ni ng"
HMMs . Th ep ar am et er s w ea re tr yi ng t ol ea rn a re t he ru le p ro ba bi li ti es ; w es ta rt th em o ff at
r an do m o ru ni fo rm v al ue s . Th eh id de n v ar ia bl es a re th ep ar se t re es: w ed on’t k no w w he th er
a st ri ng of wo rd s w ...w i so ri sn ot ge ne ra te d b ya ru le(X → ...). Th e Es te pe st im at es
i j
t he p ro ba bi li ty t ha t e ac h s ub se qu en ce i s g en er at ed b y e ac h r ul e . Th e M s te p t he n e st im at es
t he pr ob ab il it y o fe ac hr ul e . Th ew ho le co mp ut at io nc an be do ne in ad yn am ic-p ro gr am mi ng
INSIDE–OUTSIDE f as hi on w it h a n a lg or it hm c al le d t he i ns id e–o ut si de a lg or it hm i n a na lo gy t o t he f or wa rd–
ALGORITHM
b ac kw ar da lg or it hm f or HMMs .
Th ei ns id e–o ut si de al go ri th ms ee ms ma gi ca li nt ha ti ti nd uc es ag ra mm ar fr om un pa rs ed
"t ex t . Bu ti th as se ve ra ld ra wb ac ks . Fi rs t ,t he pa rs es th at ar ea ss ig ne db yt he in du ce dg ra mm ar s"
a re of te n d if fi cu lt t ou nd er st an d a nd un sa ti sf yi ng t ol in gu is ts . Th is ma ke s i th ar d t oc om bi ne
"h an dc ra ft ed k no wl ed ge w it h a ut om at ed i nd uc ti on . Se co nd , i ti s s lo w: O(n 3 m 3), w he re n is"
"t he n um be r o f w or ds i n a s en te nc e a nd m i s t he n um be r o f g ra mm ar c at eg or ie s . Th ir d , t he"
"s pa ce o f p ro ba bi li ty a ss ig nm en ts i s v er y l ar ge , a nd e mp ir ic al ly i t s ee ms t ha t g et ti ng s tu ck i n"
l oc al ma xi ma is as ev er ep ro bl em . Al te rn at iv es su ch as si mu la te da nn ea li ng c an ge tc lo se rt o
"t he g lo ba l m ax im um , a t a c os t o f e ve n m or e c om pu ta ti on . La ri a nd Yo un g (1990) c on cl ud e"
t ha ti ns id e–o ut si de i s“c om pu ta ti on al ly i nt ra ct ab le f or re al is ti cp ro bl em s .”
"Ho we ve r ,p ro gr es s c an be ma de if we ar ew il li ng to st ep ou ts id et he bo un ds of le ar ni ng"
s ol el yf ro mu np ar se dt ex t . On ea pp ro ac hi st ol ea rn fr om p ro to ty pe s: t os ee dt he pr oc es sw it h
"a do ze no rt wo ru le s ,s im il ar to th er ul es in E . Fr om th er e ,m or ec om pl ex ru le sc an be le ar ne d"
1
"m or ee as il y ,a nd th er es ul ti ng gr am ma rp ar se s En gl is hw it ha no ve ra ll re ca ll an dp re ci si on fo r"
"s en te nc es o f a bo ut 80% (Ha gh ig hi a nd Kl ei n , 2006). An ot he r a pp ro ac h i s t o u se t re eb an ks ,"
"b ut in ad di ti on to le ar ni ng PCFGr ul es di re ct ly fr om th eb ra ck et in gs ,a ls ol ea rn in gd is ti nc ti on s"
"t ha ta re no ti nt he tr ee ba nk . Fo re xa mp le ,n ot th at th et re ei n Fi gu re 23.6 m ak es th ed is ti nc ti on"
"b et we en NP a nd NP −SBJ . Th e l at te r i s u se d f or t he p ro no un “s he ,” t he f or me r f or t he"
p ro no un “h er .” We w il l e xp lo re t hi s i ss ue i n Se ct io n 23.6; f or n ow l et u s j us t s ay t ha t t he re
a re ma ny wa ys in wh ic h i tw ou ld be u se fu l t o s pl it ac at eg or y l ik e NP—g ra mm ar in du ct io n
s ys te ms t ha t u se t re eb an ks b ut a ut om at ic al ly s pl it c at eg or ie s d o b et te r t ha n t ho se t ha t s ti ck
"w it h t he o ri gi na l c at eg or y s et (Pe tr ov a nd Kl ei n , 2007 c). Th e e rr or r at es f or a ut om at ic al ly"
"l ea rn ed gr am ma rs ar es ti ll ab ou t 50%h ig he rt ha nf or ha nd-c on st ru ct ed g ra mm ar ,b ut th eg ap"
i sd ec re as in g .
23.2.2 Co mp ar in g c on te xt-f re e a nd Ma rk ov m od el s
Th ep ro bl em wi th PCFGs is th at th ey ar ec on te xt-f re e . Th at me an st ha tt he di ff er en ce be tw ee n
P(“e at a ba na na”) a nd P(“e at a ba nd an na”) d ep en ds o nl y o n P(No un → “b an an a”) v er su s
P(No un → “b an da nn a”) a nd n ot o n t he r el at io n b et we en “e at” a nd t he r es pe ct iv e o bj ec ts .
"AMa rk ov m od el of or de rt wo or mo re , g iv en as uf fi ci en tl y l ar ge c or pu s , w il lk no w t ha t “e at"
Se ct io n 23.3. Au gm en te d Gr am ma rs an d Se ma nt ic In te rp re ta ti on 897
a b an an a” i s m or e p ro ba bl e . We c an c om bi ne a PCFG a nd Ma rk ov m od el t o g et t he b es t o f
b ot h . Th e s im pl es t a pp ro ac h i s t o e st im at e t he p ro ba bi li ty o f a s en te nc e w it h t he g eo me tr ic
m ea no ft he pr ob ab il it ie sc om pu te db yb ot hm od el s . Th en we wo ul dk no wt ha t“e at ab an an a”
i sp ro ba bl e f ro mb ot ht he gr am ma ti ca la nd le xi ca lp oi nt of vi ew . Bu ti ts ti ll wo ul dn’t pi ck up
t he r el at io n b et we en “e at” a nd “b an an a” i n “e at a s li gh tl y a gi ng b ut s ti ll p al at ab le b an an a”
b ec au se h er e t he r el at io n i s m or e t ha n t wo w or ds a wa y . In cr ea si ng t he o rd er o f t he Ma rk ov
"m od el w on’t g et a t t he r el at io n p re ci se ly ; t o d o t ha t w e c an u se a l ex ic al iz ed PCFG , a s"
d es cr ib ed i nt he ne xt se ct io n .
An ot he rp ro bl em wi th PCFGs is th at th ey te nd to ha ve to os tr on ga pr ef er en ce fo rs ho rt er
"s en te nc es . In a c or pu s s uc h a s t he Wa ll St re et Jo ur na l , t he a ve ra ge l en gt h o f a s en te nc e"
i s a bo ut 25 w or ds . Bu t a PCFG w il l u su al ly a ss ig n f ai rl y h ig h p ro ba bi li ty t o m an y s ho rt
"s en te nc es , s uc ha s“He sl ep t ,”w he re as in th e Jo ur na lw e’r em or el ik el yt os ee so me th in gl ik e"
“It ha sb ee nr ep or te db ya re li ab le so ur ce th at th ea ll eg at io nt ha th es le pt is cr ed ib le .” It se em s
t ha tt he ph ra se s i nt he Jo ur na l r ea ll y a re no tc on te xt-f re e ; i ns te ad t he wr it er s h av ea ni de ao f
t he ex pe ct ed se nt en ce le ng th an du se th at le ng th as as of tg lo ba lc on st ra in to nt he ir se nt en ce s .
Th is is ha rd to re fl ec ti na PCFG .
23.3 AUGMENTED GRAMMARS AND SEMANTIC INTERPRETATION
"In t hi s s ec ti on w e s ee h ow t o e xt en d c on te xt-f re e g ra mm ar s—t o s ay t ha t , f or e xa mp le , n ot"
"e ve ry NP i si nd ep en de nt o fc on te xt , b ut ra th er , c er ta in NPs ar em or el ik el y t oa pp ea ri no ne"
"c on te xt , a nd ot he rs in an ot he rc on te xt ."
23.3.1 Le xi ca li ze d PCFGs
"To ge ta tt he re la ti on sh ip b et we en th ev er b“e at”a nd th en ou ns“b an an a” v er su s“b an da nn a ,”"
"w ec an us ea le xi ca li ze d PCFG ,i nw hi ch th ep ro ba bi li ti es f or ar ul ed ep en d o nt he re la ti on-"
LEXICALIZEDPCFG
"s hi p b et we en w or ds i n t he p ar se t re e , n ot j us t o n t he a dj ac en cy o f w or ds i n a s en te nc e . Of"
"c ou rs e , w e c an’t h av e t he p ro ba bi li ty d ep en d o n e ve ry w or d i n t he t re e , b ec au se w e w on’t"
h av e e no ug h t ra in in g d at a t o e st im at e a ll t ho se p ro ba bi li ti es . It is us ef ul t oi nt ro du ce t he n o-
"t io n o f t he h ea d o f a p hr as e—t he m os t i mp or ta nt w or d . Th us , “e at” i s t he h ea d o f t he VP"
HEAD
“e at a b an an a” a nd “b an an a” i s t he h ea d o f t he NP “a b an an a .” We us e t he n ot at io n VP(v)
t o d en ot e a p hr as e w it h c at eg or y VP w ho se h ea d w or d i s v . We s ay t ha t t he c at eg or y VP
AUGMENTED i s a ug me nt ed w it h t he h ea d v ar ia bl e v . He re i s a n a ug me nt ed g ra mm ar t ha t d es cr ib es t he
GRAMMAR
v er b–o bj ec t r el at io n:
"VP(v) → Ve rb(v) NP(n) [P (v ,n)]"
1
VP(v) → Ve rb(v) [P (v)]
2
"NP(n) → Ar ti cl e(a) Ad js(j) No un(n) [P (n ,a)]"
3
No un(b an an a) → b an an a [p ]
n
... ...
"He re th e p ro ba bi li ty P (v ,n)d ep en ds o n t he he ad w or ds v a nd n . We wo ul d s et t hi s p ro ba-"
1
"b il it yt ob er el at iv el yh ig hw he nv i s“e at”a nd ni s“b an an a ,”a nd lo ww he nn is“b an da nn a .”"
898 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"No te t ha t s in ce w e a re c on si de ri ng o nl y h ea ds , t he d is ti nc ti on b et we en “e at a b an an a” a nd"
“e at a r an ci d b an an a” w il l n ot b e c au gh t b y t he se p ro ba bi li ti es . An ot he r i ss ue w it h t hi s a p-
"p ro ac hi st ha t ,i na vo ca bu la ry w it h ,s ay ,20,000 n ou ns an d 5,000 v er bs ,P n ee ds 100 m il li on"
1
p ro ba bi li ty e st im at es . On ly af ew pe rc en to ft he se ca nc om ef ro ma co rp us ;t he re st wi ll ha ve
"t o c om e f ro m s mo ot hi ng (s ee Se ct io n 22.1.2). Fo r e xa mp le , w e c an e st im at e P (v ,n) f or a"
1
"(v ,n) p ai r t ha t w e h av e n ot s ee n o ft en (o r a t a ll) b y b ac ki ng o ff t o a m od el t ha t d ep en ds"
o nl yo nv . Th es eo bj ec tl es sp ro ba bi li ti es a re st il lv er yu se fu l ;t he yc an ca pt ur et he di st in ct io n
b et we en at ra ns it iv ev er bl ik e“e at”—w hi ch wi ll ha ve ah ig hv al ue fo r P a nd al ow va lu ef or
1
"P —a nd a n i nt ra ns it iv e v er b l ik e “s le ep ,” w hi ch w il l h av e t he r ev er se . It i s q ui te f ea si bl e t o"
2
l ea rn th es ep ro ba bi li ti es f ro ma tr ee ba nk .
23.3.2 Fo rm al de fi ni ti on o fa ug me nt ed g ra mm ar ru le s
"Au gm en te d r ul es a re co mp li ca te d , s ow ew il lg iv e t he m a fo rm al de fi ni ti on b ys ho wi ng h ow"
a na ug me nt ed r ul ec an be tr an sl at ed i nt oa lo gi ca l s en te nc e . Th es en te nc e w il lh av et he fo rm
"DEFINITECLAUSE o fa de fi ni te cl au se(s ee pa ge 256),s ot he re su lt is ca ll ed ad ef in it ec la us eg ra mm ar ,o r DCG ."
GRAMMAR
We’l l u se a s a n e xa mp le a v er si on o f a r ul e f ro m t he l ex ic al iz ed g ra mm ar f or NP w it h o ne
n ew pi ec eo fn ot at io n:
"NP(n) → Ar ti cl e(a) Ad js(j) No un(n){Co mp at ib le(j ,n)}."
Th en ew as pe ct he re is th en ot at io n{c on st ra in t}t od en ot ea lo gi ca lc on st ra in to ns om eo ft he
"v ar ia bl es ;t he ru le on ly ho ld sw he nt he co ns tr ai nt is tr ue . He re th ep re di ca te Co mp at ib le(j ,n)"
i sm ea nt to te st wh et he ra dj ec ti ve ja nd no un na re co mp at ib le ;i tw ou ld be de fi ne db ya se ri es
"o fa ss er ti on s s uc h a s Co mp at ib le(b la ck ,d og). We ca nc on ve rt t hi sg ra mm ar ru le in to ad ef-"
"i ni te cl au se b y(1)r ev er si ng t he or de ro fr ig ht-a nd le ft-h an d s id es , (2)m ak in ga co nj un ct io n"
"o fa ll th ec on st it ue nt sa nd co ns tr ai nt s ,(3)a dd in ga va ri ab le s t ot he li st of ar gu me nt sf or ea ch"
i
"c on st it ue nt t or ep re se nt t he se qu en ce o fw or ds s pa nn ed b yt he co ns ti tu en t , (4)a dd in g a te rm"
"f or t he c on ca te na ti on o f w or ds , Ap pe nd(s ,...), t o t he l is t o f a rg um en ts f or t he r oo t o f t he"
1
t re e . Th at gi ve su s
"Ar ti cl e(a ,s )∧Ad js(j ,s )∧No un(n ,s )∧Co mp at ib le(j ,n)"
1 2 3
"⇒ NP(n ,Ap pe nd(s ,s ,s ))."
1 2 3
"Th is de fi ni te cl au se sa ys th at if th ep re di ca te Ar ti cl e i st ru eo fa he ad wo rd aa nd as tr in g s ,"
1
"a nd Ad js i ss im il ar ly t ru eo fa he ad w or d j a nd as tr in g s ,a nd No un i st ru eo fa he ad wo rd"
2
"n a nd a s tr in g s , a nd i f j a nd n a re c om pa ti bl e , t he n t he p re di ca te NP i s t ru e o f t he h ea d"
3
"w or dn an dt he re su lt of ap pe nd in g s tr in gs s ,s ,a nd s ."
1 2 3
"Th e DCGt ra ns la ti on le ft ou tt he pr ob ab il it ie s , b ut we co ul d p ut th em ba ck in: j us ta ug-"
"m en te ac hc on st it ue nt w it ho ne mo re va ri ab le r ep re se nt in g t he pr ob ab il it y o ft he co ns ti tu en t ,"
a nd au gm en t t he ro ot wi th av ar ia bl e t ha ti st he pr od uc t o ft he c on st it ue nt p ro ba bi li ti es t im es
t he ru le pr ob ab il it y .
Th e t ra ns la ti on f ro m g ra mm ar r ul e t o d ef in it e c la us e a ll ow s u s t o t al k a bo ut p ar si ng
a s l og ic al i nf er en ce . Th is m ak es i t p os si bl e t o r ea so n a bo ut l an gu ag es a nd s tr in gs i n m an y
"d if fe re nt wa ys . Fo re xa mp le ,i tm ea ns we ca nd ob ot to m-u pp ar si ng us in gf or wa rd ch ai ni ng or"
"t op-d ow np ar si ng us in gb ac kw ar dc ha in in g . In fa ct ,p ar si ng n at ur al la ng ua ge wi th DCGs wa s"
Se ct io n 23.3. Au gm en te d Gr am ma rs an d Se ma nt ic In te rp re ta ti on 899
o ne of th ef ir st ap pl ic at io ns o f(a nd mo ti va ti on sf or)t he Pr ol og lo gi cp ro gr am mi ng la ng ua ge .
LANGUAGE It is so me ti me sp os si bl e t or un th ep ro ce ss ba ck wa rd an dd o l an gu ag eg en er at io n a sw el la s
GENERATION
"p ar si ng . Fo re xa mp le , s ki pp in g a he ad t o Fi gu re 23.10 (p ag e 903), a l og ic p ro gr am c ou ld b e"
"g iv en th es em an ti cf or m Lo ve s(Jo hn ,Ma ry)a nd ap pl yt he de fi ni te-c la us e r ul es to de du ce"
"S(Lo ve s(Jo hn ,Ma ry),[Jo hn ,l ov es ,Ma ry])."
"Th is wo rk sf or to ye xa mp le s ,b ut se ri ou sl an gu ag e-g en er at io ns ys te ms ne ed mo re co nt ro lo ve r"
t he pr oc es st ha ni sa ff or de db yt he DCGr ul es al on e .
E : S → NP VP | ...
1 S
NP → Pr on ou n | Na me | No un | ...
S S
NP → Pr on ou n | Na me | No un | ...
O O
VP → VP NP | ...
O
PP → Pr ep NP
O
Pr on ou n → I| y ou|h e| s he|i t | ...
S
Pr on ou n → m e| y ou|h im| h er|i t | ...
O
...
"E : S(h ea d) → NP(Sb j ,p n ,h) VP(p n ,h ea d) | ..."
2
"NP(c ,p n ,h ea d) → Pr on ou n(c ,p n ,h ea d)| No un(c ,p n ,h ea d) | ..."
"VP(p n ,h ea d) → VP(p n ,h ea d) NP(Ob j ,p ,h) | ..."
"PP(h ea d) → Pr ep(h ea d) NP(Ob j ,p n ,h)"
"Pr on ou n(Sb j ,1 S ,I) → I"
"Pr on ou n(Sb j ,1 P ,w e) → w e"
"Pr on ou n(Ob j ,1 S ,m e) → m e"
"Pr on ou n(Ob j ,3 P ,t he m) → t he m"
...
"Fi gu re 23.7 To p: p ar t o f a g ra mm ar fo r t he l an gu ag e E , w hi ch h an dl es s ub je ct iv e a nd"
1
o bj ec ti ve c as es i n n ou n p hr as es a nd t hu s d oe s n ot o ve rg en er at eq ui te a s b ad ly a s E . Th e
0
p or ti on st ha ta re id en ti ca lt o E h av eb ee no mi tt ed . Bo tt om: p ar to fa na ug me nt ed gr am ma r
0
"f or E , w it ht hr ee au gm en ta ti on s: c as ea gr ee me nt ,s ub je ct–v er ba gr ee me nt ,a nd he ad wo rd ."
2
"Sb j ,Ob j ,1 S ,1 Pa nd 3 Pa re co ns ta nt s ,a nd lo we rc as en am es ar ev ar ia bl es ."
23.3.3 Ca se ag re em en t a nd su bj ec t–v er b a gr ee me nt
"We s aw i n Se ct io n 23.1 t ha t t he s im pl e g ra mm ar f or E o ve rg en er at es , p ro du ci ng n on se n-"
0
"t en ce ss uc ha s“Me sm el la st en ch .” To av oi dt hi sp ro bl em ,o ur gr am ma rw ou ld ha ve to kn ow"
t ha t“m e”i sn ot av al id NP w he ni ti st he su bj ec to fa se nt en ce . Li ng ui st ss ay th at th ep ro no un
"“I” i s i n t he s ub je ct iv e c as e , a nd “m e” i s i n t he o bj ec ti ve c as e .4 We c an a cc ou nt f or t hi s b y"
4 Th es ub je ct iv ec as ei sa ls os om et im es ca ll ed th en om in at iv ec as ea nd th eo bj ec ti ve ca se is so me ti me sc al le d
t he ac cu sa ti ve ca se .Ma ny la ng ua ge sa ls oh av ea da ti ve ca se fo rw or ds in th ei nd ir ec to bj ec tp os it io n .
900 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"s pl it ti ng NP i nt ot wo ca te go ri es , NP a nd NP ,t os ta nd f or no un ph ra se s i nt he su bj ec ti ve"
S O
"a nd o bj ec ti ve c as e , r es pe ct iv el y . We wo ul d a ls o n ee d t o s pl it t he c at eg or y Pr on ou n i nt o t he"
t wo c at eg or ie s Pr on ou n (w hi ch i nc lu de s “I”) a nd Pr on ou n (w hi ch i nc lu de s “m e”). Th e
S O
t op pa rt of Fi gu re 23.7 s ho ws th eg ra mm ar fo rc as ea gr ee me nt ;w ec al lt he re su lt in gl an gu ag e
CASEAGREEMENT
"E . No ti ce th at al lt he NP r ul es mu st be du pl ic at ed , o nc ef or NP a nd on ce fo r NP ."
1 S O
"SUBJECT–VERB Un fo rt un at el y , E s ti ll o ve rg en er at es . En gl is h r eq ui re s s ub je ct–v er b a gr ee me nt f or"
AGREEMENT 1
"p er so n a nd n um be r o f t he s ub je ct a nd m ai n v er b o f a s en te nc e . Fo r e xa mp le , i f “I” i s t he"
"s ub je ct , t he n “I s me ll” i sg ra mm at ic al , b ut “I s me ll s” i sn ot . If“i t” i st he s ub je ct , w eg et t he"
"r ev er se . In En gl is h , t he a gr ee me nt d is ti nc ti on s a re m in im al: m os t v er bs h av e o ne f or m f or"
"t hi rd-p er so n s in gu la r s ub je ct s (h e , s he , o r i t), a nd a s ec on d f or m f or a ll o th er c om bi na ti on s"
"o fp er so n a nd n um be r . Th er ei so ne ex ce pt io n: t he v er b“t ob e” h as th re e f or ms , “I a m/y ou"
"a re / h e i s .” So o ne d is ti nc ti on (c as e) s pl it s NP t wo w ay s , a no th er d is ti nc ti on (p er so n a nd"
"n um be r)s pl it s NP t hr ee wa ys ,a nd as we un co ve ro th er di st in ct io ns we wo ul de nd up wi th an"
e xp on en ti al n um be ro fs ub sc ri pt ed NP f or ms if we to ok th ea pp ro ac h o f E . Au gm en ta ti on s
1
a re ab et te ra pp ro ac h: t he yc an re pr es en t a ne xp on en ti al n um be ro ff or ms as as in gl er ul e .
In t he b ot to m o f Fi gu re 23.7 w es ee (p ar t o f) a n a ug me nt ed g ra mm ar fo r t he l an gu ag e
"E , w hi ch h an dl es c as e a gr ee me nt , s ub je ct–v er b a gr ee me nt , a nd h ea d w or ds . We h av e j us t"
2
"o ne NP c at eg or y , b ut NP(c ,p n ,h ea d) h as t hr ee a ug me nt at io ns: c i s a p ar am et er f or c as e ,"
"p n i s a p ar am et er f or p er so n a nd n um be r , a nd h ea d i s a p ar am et er f or t he h ea d w or d o f"
t he p hr as e . Th e o th er c at eg or ie s a ls o a re a ug me nt ed w it h h ea ds a nd o th er a rg um en ts . Le t’s
c on si de ro ne ru le in de ta il:
"S(h ea d) → NP(Sb j ,p n ,h) VP(p n ,h ea d)."
Th is ru le is ea si es tt ou nd er st an d r ig ht-t o-l ef t: w he na n NPa nd a VPa re co nj oi ne d t he yf or m
"a n S , b ut o nl y i f t he NPh as t he s ub je ct iv e (Sb j) c as e a nd t he p er so n a nd n um be r (p n) o f t he"
"NP a nd VP a re i de nt ic al . If t ha t h ol ds , t he n w e h av e a n S w ho se h ea d i s t he s am e a s t he"
"h ea do ft he VP .No te th eh ea do ft he NP ,d en ot ed b yt he du mm yv ar ia bl e h ,i sn ot pa rt of th e"
a ug me nt at io no ft he S .Th el ex ic al ru le sf or E f il li nt he va lu es of th ep ar am et er sa nd ar ea ls o
2
"b es tr ea dr ig ht-t o-l ef t . Fo re xa mp le ,t he ru le"
"Pr on ou n(Sb j ,1 S ,I) → I"
"s ay st ha t“I”c an be in te rp re te da sa Pr on ou ni nt he su bj ec ti ve ca se ,f ir st-p er so ns in gu la r ,w it h"
"h ea d “I .” Fo r s im pl ic it y w e h av e o mi tt ed t he p ro ba bi li ti es f or t he se r ul es , b ut a ug me nt at io n"
d oe s w or k w it h p ro ba bi li ti es . Au gm en ta ti on c an a ls o w or k w it h a ut om at ed l ea rn in g m ec ha-
n is ms . Pe tr ov a nd Kl ei n (2007 c) s ho w h ow a l ea rn in g a lg or it hm c an a ut om at ic al ly s pl it t he
NP c at eg or y i nt o NP a nd NP .
S O
23.3.4 Se ma nt ic i nt er pr et at io n
"To s ho w h ow t o a dd s em an ti cs t o a g ra mm ar , w e s ta rt w it h a n e xa mp le t ha t i s s im pl er t ha n"
En gl is h: t he se ma nt ic so fa ri th me ti ce xp re ss io ns . Fi gu re 23.8 s ho ws ag ra mm ar fo ra ri th me ti c
"e xp re ss io ns , w he re ea ch ru le is au gm en te dw it ha va ri ab le in di ca ti ng th es em an ti ci nt er pr et a-"
t io no ft he ph ra se . Th es em an ti cs of ad ig it su ch as“3”i st he di gi ti ts el f . Th es em an ti cs of an
e xp re ss io n s uc ha s“3+4”i st he op er at or“+”a pp li ed t ot he se ma nt ic s o ft he ph ra se“3”a nd
Se ct io n 23.3. Au gm en te d Gr am ma rs an d Se ma nt ic In te rp re ta ti on 901
"Ex p(x) → Ex p(x )Op er at or(o p)Ex p(x ) {x=Ap pl y(o p ,x ,x )}"
1 2 1 2
Ex p(x) → (Ex p(x) )
Ex p(x) → Nu mb er(x)
Nu mb er(x) → Di gi t(x)
Nu mb er(x) → Nu mb er(x ) Di gi t(x ){x=10×x +x }
1 2 1 2
Di gi t(x) → x {0 ≤ x ≤ 9}
"Op er at or(x) → x{x∈{+,−,÷,×}}"
"Fi gu re 23.8 Ag ra mm ar fo ra ri th me ti ce xp re ss io ns ,a ug me nt ed wi th se ma nt ic s .Ea ch va ri-"
a bl ex ir ep re se nt st he se ma nt ic so fa co ns ti tu en t .No te th eu se of th e{t es t}n ot at io nt od ef in e
"l og ic al pr ed ic at es th at mu st be sa ti sf ie d ,b ut th at ar en ot co ns ti tu en ts ."
Ex p(5)
Ex p(2)
Ex p(2)
Ex p(3) Ex p(4) Ex p(2)
Nu mb er(3) Nu mb er(4) Nu mb er(2)
Di gi t(3) Op er at or(+) Di gi t(4) Op er at or(÷) Di gi t(2)
3 + ( 4 ÷ 2 )
Fi gu re 23.9 Pa rs et re ew it hs em an ti ci nt er pr et at io ns fo rt he st ri ng“3+(4÷2)”.
COMPOSITIONAL t he p hr as e “4.” Th e r ul es o be y t he p ri nc ip le o f c om po si ti on al s em an ti cs—t he s em an ti cs o f
SEMANTICS
a ph ra se is af un ct io no ft he se ma nt ic so ft he su bp hr as es . Fi gu re 23.9 s ho ws th ep ar se tr ee fo r
"3+(4÷2) a cc or di ng t o t hi s g ra mm ar . Th e r oo t o f t he p ar se t re e i s Ex p(5), a n e xp re ss io n"
w ho se se ma nt ic in te rp re ta ti on i s 5.
"No wl et’s mo ve on to th es em an ti cs o f En gl is h , o ra tl ea st o f E . We st ar t b yd et er mi n-"
0
i ng wh at se ma nt ic re pr es en ta ti on s w ew an tt oa ss oc ia te wi th wh at ph ra se s . We us et he si mp le
e xa mp le se nt en ce“Jo hn lo ve s Ma ry .” Th e NP “Jo hn”s ho ul dh av ea si ts se ma nt ic in te rp re ta-
"t io n t he l og ic al t er m Jo hn , a nd t he s en te nc e a s a w ho le s ho ul d h av e a s i ts i nt er pr et at io n t he"
"l og ic al s en te nc e Lo ve s(Jo hn ,Ma ry). Th at m uc h s ee ms c le ar . Th e c om pl ic at ed p ar t i s t he"
VP “l ov es Ma ry .” Th e s em an ti c i nt er pr et at io n o f t hi s p hr as e i s n ei th er a l og ic al t er m n or a
"c om pl et e l og ic al s en te nc e . In tu it iv el y , “l ov es Ma ry” i s a de sc ri pt io n t ha t m ig ht o rm ig ht n ot"
902 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"a pp ly t o a pa rt ic ul ar p er so n . (In t hi s c as e , i t a pp li es t o Jo hn .) Th is me an s t ha t “l ov es Ma ry”"
"i s a p re di ca te t ha t , w he n c om bi ne d w it h a t er m t ha t r ep re se nt s a p er so n (t he p er so n d oi ng"
"t he lo vi ng), y ie ld s a co mp le te l og ic al s en te nc e . Us in g t he λ-n ot at io n (s ee p ag e 294), w ec an"
r ep re se nt “l ov es Ma ry”a st he pr ed ic at e
"λx Lo ve s(x ,Ma ry)."
No ww en ee d a ru le t ha ts ay s “a n NP w it hs em an ti cs o bj f ol lo we d b y a VP w it hs em an ti cs
p re d y ie ld sa se nt en ce w ho se se ma nt ic si st he re su lt of ap pl yi ng p re d t oo bj:”
S(p re d(o bj)) → NP(o bj) VP(p re d).
Th er ul et el ls us th at th es em an ti ci nt er pr et at io n o f“Jo hn lo ve s Ma ry”i s
"(λx Lo ve s(x ,Ma ry))(Jo hn),"
"w hi ch is eq ui va le nt t o Lo ve s(Jo hn ,Ma ry)."
Th e r es t o f t he s em an ti cs f ol lo ws i n a s tr ai gh tf or wa rd w ay f ro m t he c ho ic es w e h av e
"m ad es of ar . Be ca us e VPs ar er ep re se nt ed as pr ed ic at es ,i ti sa go od id ea to be co ns is te nt an d"
"r ep re se nt v er bs as pr ed ic at es a sw el l . Th ev er b“l ov es”i sr ep re se nt ed a s λy λx Lo ve s(x ,y),"
"t he pr ed ic at et ha t ,w he ng iv en th ea rg um en t Ma ry ,r et ur ns th ep re di ca teλx Lo ve s(x ,Ma ry)."
We en du pw it ht he gr am ma rs ho wn in Fi gu re 23.10 a nd th ep ar se tr ee sh ow ni n Fi gu re 23.11.
We c ou ld j us t a s e as il y h av e a dd ed s em an ti cs t o E ; w e c ho se t o w or k w it h E s o t ha t t he
2 0
r ea de rc an fo cu so no ne ty pe of au gm en ta ti on a ta ti me .
Ad di ng s em an ti c a ug me nt at io ns t o a g ra mm ar b y h an d i s l ab or io us a nd e rr or p ro ne .
"Th er ef or e , t he re h av e b ee n s ev er al p ro je ct s t o l ea rn s em an ti c a ug me nt at io ns f ro m e xa mp le s ."
"CHILL (Ze ll e a nd Mo on ey , 1996) i s a n i nd uc ti ve l og ic p ro gr am mi ng (ILP) p ro gr am t ha t"
l ea rn sa gr am ma ra nd as pe ci al iz ed pa rs er fo rt ha tg ra mm ar fr om ex am pl es . Th et ar ge td om ai n
i s n at ur al l an gu ag e d at ab as e q ue ri es . Th e t ra in in g e xa mp le s c on si st o f p ai rs o f w or d s tr in gs
a nd co rr es po nd in g s em an ti cf or ms—f or ex am pl e ;
Wh at is th ec ap it al of th es ta te wi th th el ar ge st p op ul at io n ?
"An sw er(c ,Ca pi ta l(s ,c)∧La rg es t(p ,St at e(s)∧Po pu la ti on(s ,p)))"
"CHILL’s ta sk is to le ar na pr ed ic at e Pa rs e(w or ds ,s em an ti cs)t ha ti sc on si st en t w it ht he ex-"
"a mp le s a nd , h op ef ul ly , g en er al iz es w el l t o o th er e xa mp le s . Ap pl yi ng ILP d ir ec tl y t o l ea rn"
t hi s p re di ca te r es ul ts i np oo r p er fo rm an ce: t he i nd uc ed p ar se rh as o nl y a bo ut 20% a cc ur ac y .
"Fo rt un at el y , ILPl ea rn er s c an im pr ov eb ya dd in g k no wl ed ge . In th is ca se , m os to ft he Pa rs e"
"p re di ca te w as d ef in ed a s a l og ic p ro gr am , a nd CHILL’s t as k w as r ed uc ed t o i nd uc in g t he"
c on tr ol ru le st ha tg ui de th ep ar se rt os el ec to ne pa rs eo ve ra no th er . Wi th th is ad di ti on al b ac k-
"g ro un d k no wl ed ge , CHILL c an l ea rn t o a ch ie ve 70% t o 85% a cc ur ac y o n v ar io us d at ab as e"
q ue ry ta sk s .
23.3.5 Co mp li ca ti on s
Th eg ra mm ar of re al En gl is hi se nd le ss ly c om pl ex . We wi ll br ie fl ym en ti on so me ex am pl es .
Ti me a nd t en se: Su pp os e w e w an t t o r ep re se nt t he d if fe re nc e b et we en “Jo hn l ov es
TIMEANDTENSE
"Ma ry”a nd“Jo hn lo ve d Ma ry .” En gl is hu se sv er bt en se s(p as t , p re se nt ,a nd fu tu re)t oi nd ic at e"
Se ct io n 23.3. Au gm en te d Gr am ma rs an d Se ma nt ic In te rp re ta ti on 903
S(p re d(o bj)) → NP(o bj) VP(p re d)
VP(p re d(o bj)) → Ve rb(p re d)NP(o bj)
NP(o bj) → Na me(o bj)
Na me(Jo hn) → Jo hn
Na me(Ma ry) → Ma ry
"Ve rb(λy λx Lo ve s(x ,y)) → l ov es"
Fi gu re 23.10 Ag ra mm ar th at ca nd er iv ea pa rs et re ea nd se ma nt ic in te rp re ta ti on fo r“Jo hn
l ov es Ma ry”(a nd th re eo th er se nt en ce s).Ea ch ca te go ry is au gm en te dw it ha si ng le ar gu me nt
r ep re se nt in gt he se ma nt ic s .
"S(Lo ve s(Jo hn ,Ma ry))"
"VP(λx Lo ve s(x ,Ma ry))"
NP(Jo hn)
NP(Ma ry)
"Na me(Jo hn) Ve rb(λy λx Lo ve s(x ,y)) Na me(Ma ry)"
Jo hn l ov es Ma ry
Fi gu re 23.11 Ap ar se tr ee wi th se ma nt ic in te rp re ta ti on sf or th es tr in g“Jo hn lo ve s Ma ry”.
t he r el at iv e t im e o f a n e ve nt . On e g oo d c ho ic e t o r ep re se nt t he t im e o f e ve nt s i s t he e ve nt
c al cu lu s n ot at io no f Se ct io n 12.3. In ev en tc al cu lu sw eh av e
"Jo hn lo ve sm ar y:E ∈Lo ve s(Jo hn ,Ma ry)∧Du ri ng(No w ,Ex te nt(E ))"
1 1
"Jo hn lo ve dm ar y:E ∈Lo ve s(Jo hn ,Ma ry)∧Af te r(No w ,Ex te nt(E ))."
2 2
Th is su gg es ts t ha to ur tw ol ex ic al ru le sf or th ew or ds“l ov es”a nd“l ov ed”s ho ul d b et he se:
"Ve rb(λy λx e∈Lo ve s(x ,y)∧Du ri ng(No w ,e)) → l ov es"
"Ve rb(λy λx e∈Lo ve s(x ,y)∧Af te r(No w ,e)) → l ov ed ."
"Ot he r t ha n t hi s c ha ng e , e ve ry th in g e ls e a bo ut t he g ra mm ar r em ai ns t he s am e , w hi ch i s e n-"
c ou ra gi ng n ew s ; i t s ug ge st s w e a re o n t he r ig ht t ra ck i f w ec an s o e as il y a dd a c om pl ic at io n
l ik e t he t en se o f v er bs (a lt ho ug h w e h av e j us t s cr at ch ed t he s ur fa ce o f a c om pl et e g ra mm ar
f or ti me an dt en se). It is al so en co ur ag in g t ha tt he di st in ct io n b et we en pr oc es se s a nd di sc re te
e ve nt st ha tw em ad ei no ur di sc us si on o fk no wl ed ge r ep re se nt at io n i n Se ct io n 12.3.1 i sa ct u-
"a ll y r ef le ct ed i n l an gu ag e u se . We c an s ay “Jo hn s le pt a l ot l as t n ig ht ,” w he re Sl ee pi ng i s a"
"p ro ce ss c at eg or y , b ut i t i so dd t o s ay “Jo hn f ou nd a un ic or n a l ot l as t n ig ht ,” w he re Fi nd in g"
i s a d is cr et e e ve nt c at eg or y . A g ra mm ar w ou ld r ef le ct t ha t f ac t b y h av in g a l ow p ro ba bi li ty
f or ad di ng th ea dv er bi al ph ra se“a lo t”t od is cr et e e ve nt s .
Qu an ti fi ca ti on: Co ns id er t he s en te nc e “Ev er y a ge nt f ee ls a br ee ze .” Th es en te nc e h as
QUANTIFICATION
"o nl y o ne s yn ta ct ic p ar se u nd er E , b ut i t i s a ct ua ll y s em an ti ca ll y a mb ig uo us ; t he p re fe rr ed"
0
904 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"m ea ni ng i s “Fo r e ve ry a ge nt t he re e xi st s a b re ez e t ha t t he a ge nt f ee ls ,” b ut a n a cc ep ta bl e"
a lt er na ti ve me an in gi s“Th er ee xi st sa br ee ze th at ev er ya ge nt fe el s .”5 Th et wo in te rp re ta ti on s
c an be re pr es en te d a s
∀a a∈Ag en ts ⇒
"∃b b∈Br ee ze s ∧∃e e∈Fe el(a ,b)∧Du ri ng(No w ,e);"
∃b b∈Br ee ze s ∀a a∈Ag en ts ⇒
"∃e e∈Fe el(a ,b)∧Du ri ng(No w ,e)."
Th e s ta nd ar d a pp ro ac h t o q ua nt if ic at io n i s f or t he g ra mm ar t o d ef in e n ot a n a ct ua l l og ic al
"QUASI-LOGICAL s em an ti c s en te nc e , b ut ra th er a q ua si-l og ic al f or m t ha ti st he nt ur ne d i nt o a lo gi ca l s en te nc e"
FORM
b ya lg or it hm so ut si de o ft he pa rs in g p ro ce ss . Th os ea lg or it hm s c an ha ve pr ef er en ce r ul es fo r
p re fe rr in g o ne q ua nt if ie r s co pe o ve ra no th er—p re fe re nc es t ha t n ee d n ot b e r ef le ct ed d ir ec tl y
i nt he gr am ma r .
Pr ag ma ti cs: We h av e s ho wn h ow a n a ge nt c an p er ce iv e a s tr in g o f w or ds a nd u se a
PRAGMATICS
g ra mm ar t o d er iv e a s et o f p os si bl e s em an ti c i nt er pr et at io ns . No w w e a dd re ss t he p ro bl em
o f c om pl et in g t he i nt er pr et at io n b y a dd in g c on te xt-d ep en de nt i nf or ma ti on a bo ut t he c ur re nt
s it ua ti on . Th e m os t o bv io us n ee d f or p ra gm at ic i nf or ma ti on i s i n r es ol vi ng t he m ea ni ng o f
"i nd ex ic al s , w hi ch a re ph ra se s t ha t r ef er di re ct ly t ot he c ur re nt s it ua ti on . Fo re xa mp le , i n t he"
INDEXICAL
"s en te nc e“Ia mi n Bo st on to da y ,”b ot h“I”a nd“t od ay”a re in de xi ca ls . Th ew or d“I”w ou ld be"
"r ep re se nt ed b yt he fl ue nt Sp ea ke r ,a nd it wo ul db eu pt ot he he ar er to re so lv et he me an in go f"
t he f lu en t—t ha t i s n ot c on si de re d p ar t o f t he g ra mm ar b ut r at he r a n i ss ue o f p ra gm at ic s ; o f
u si ng th ec on te xt of th ec ur re nt si tu at io n t oi nt er pr et f lu en ts .
An ot he r p ar t o f p ra gm at ic s i s i nt er pr et in g t he s pe ak er’s i nt en t . Th e s pe ak er’s a ct io n i s
"c on si de re d a s pe ec h a ct , a nd i t i s u p t o t he h ea re r t o d ec ip he r w ha t t yp e o f a ct io n i t i s—a"
SPEECHACT
"q ue st io n , a s ta te me nt , a p ro mi se , a w ar ni ng , a c om ma nd , a nd s o o n . A c om ma nd s uc h a s"
"“g o t o 22”i mp li ci tl y r ef er s t ot he h ea re r . So fa r , o ur gr am ma rf or S c ov er s o nl y d ec la ra ti ve"
s en te nc es . We c an e as il y e xt en d i t t o c ov er c om ma nd s . A c om ma nd c an b e f or me d f ro m
"a VP , w he re t he s ub je ct i s i mp li ci tl y t he h ea re r . We n ee d t o d is ti ng ui sh c om ma nd s f ro m"
"s ta te me nt s , s ow ea lt er th er ul es fo r S t oi nc lu de th et yp eo fs pe ec ha ct:"
"S(St at em en t(Sp ea ke r ,p re d(o bj))) → NP(o bj)VP(p re d)"
"S(Co mm an d(Sp ea ke r ,p re d(He ar er))) → VP(p re d)."
LONG-DISTANCE Lo ng-d is ta nc e d ep en de nc ie s: Qu es ti on s i nt ro du ce a ne w g ra mm at ic al c om pl ex it y . In
DEPENDENCIES
“Wh o d id t he a ge nt t el l y ou t o g iv e t he g ol d t o ?” t he f in al w or d “t o” s ho ul d b e p ar se d a s
"[PP t o ], w he re t he “ ” d en ot es a g ap o r t ra ce w he re a n NP i s m is si ng ; t he m is si ng NP"
TRACE
"i s l ic en se d b y t he f ir st w or d o f t he s en te nc e , “w ho .” A c om pl ex s ys te m o f a ug me nt at io ns i s"
u se d t o m ak e s ur e t ha t t he m is si ng NPs m at ch u p w it h t he l ic en si ng w or ds i n j us t t he r ig ht
"w ay ,a nd pr oh ib it ga ps in th ew ro ng pl ac es . Fo re xa mp le ,y ou ca n’t ha ve ag ap in on eb ra nc h"
o f a n NP c on ju nc ti on: “Wh at d id h e p la y [NP Du ng eo ns a nd ]?” i s u ng ra mm at ic al . Bu t
y ou ca nh av e t he sa me ga pi nb ot h b ra nc he s o fa VP c on ju nc ti on: “Wh at di dy ou[VP [VP
s me ll ]a nd[VP s ho ot an ar ro wa t ]]?”
"Am bi gu it y: In so me ca se s ,h ea re rs ar ec on sc io us ly a wa re of am bi gu it yi na nu tt er an ce ."
AMBIGUITY
He re ar es om ee xa mp le st ak en fr om ne ws pa pe rh ea dl in es:
"5 If th is in te rp re ta ti on se em su nl ik el y ,c on si de r“Ev er y Pr ot es ta nt be li ev es in aj us t Go d .”"
Se ct io n 23.3. Au gm en te d Gr am ma rs an d Se ma nt ic In te rp re ta ti on 905
Sq ua dh el ps do gb it ev ic ti m .
Po li ce be gi nc am pa ig nt or un do wn ja yw al ke rs .
He li co pt er po we re db yh um an fl ie s .
On ce-s ag gi ng c lo th di ap er in du st ry sa ve db yf ul ld um ps .
Po rt ab le to il et bo mb ed ;p ol ic eh av en ot hi ng to go on .
Te ac he rs tr ik es id le ki ds .
In cl ud ey ou rc hi ld re n w he nb ak in gc oo ki es .
Ho sp it al sa re su ed by 7 f oo td oc to rs .
Mi lk dr in ke rs a re tu rn in gt op ow de r .
Sa fe ty ex pe rt ss ay sc ho ol bu sp as se ng er s s ho ul db eb el te d .
"Bu tm os to ft he ti me th el an gu ag e w eh ea rs ee ms un am bi gu ou s . Th us ,w he nr es ea rc he rs f ir st"
"b eg an t o u se c om pu te rs t o a na ly ze l an gu ag e i n t he 1960 s , t he y w er e q ui te s ur pr is ed t o l ea rn"
"t ha t a lm os t e ve ry u tt er an ce i s h ig hl y a mb ig uo us , e ve n t ho ug h t he a lt er na ti ve i nt er pr et at io ns"
m ig ht no tb ea pp ar en tt oa na ti ve sp ea ke r . As ys te mw it ha la rg eg ra mm ar an dl ex ic on mi gh t
"f in d t ho us an ds o f i nt er pr et at io ns f or a p er fe ct ly o rd in ar y s en te nc e . Le xi ca l a mb ig ui ty , i n"
LEXICALAMBIGUITY
"w hi ch a w or d h as m or e t ha n o ne m ea ni ng , i s q ui te c om mo n ; “b ac k” c an b e a n a dv er b (g o"
"b ac k), a na dj ec ti ve (b ac kd oo r), a no un(t he ba ck of th er oo m) o ra ve rb(b ac k u py ou rf il es)."
"“Ja ck”c an be an am e ,a no un(a pl ay in gc ar d ,a si x-p oi nt ed me ta lg am ep ie ce ,a na ut ic al fl ag ,"
"a fi sh ,a so ck et ,o ra de vi ce fo rr ai si ng he av yo bj ec ts), o ra ve rb(t oj ac ku pa ca r ,t oh un tw it h"
"SYNTACTIC a l ig ht , o r t o h it a b as eb al l h ar d). Sy nt ac ti c a mb ig ui ty r ef er s t o a p hr as e t ha t h as m ul ti pl e"
AMBIGUITY
"p ar se s: “I s me ll ed a wu mp us i n 2,2” h as t wo pa rs es: o ne w he re t he p re po si ti on al p hr as e “i n"
"2,2”m od if ie st he no un an do ne wh er ei tm od if ie st he ve rb . Th es yn ta ct ic am bi gu it yl ea ds to a"
"SEMANTIC s em an ti ca mb ig ui ty ,b ec au se on ep ar se me an st ha tt he wu mp us is in 2,2 a nd th eo th er me an s"
AMBIGUITY
"t ha ta st en ch is in 2,2. In th is ca se ,g et ti ng th ew ro ng in te rp re ta ti on c ou ld be ad ea dl ym is ta ke"
f or th ea ge nt .
"Fi na ll y , t he re c an b e a mb ig ui ty b et we en l it er al a nd f ig ur at iv e m ea ni ng s . Fi gu re s o f"
"s pe ec h a re i mp or ta nt i n p oe tr y , b ut a re s ur pr is in gl y c om mo n i n e ve ry da y s pe ec h a s w el l . A"
m et on ym y i s a f ig ur e o f s pe ec h i n w hi ch o ne o bj ec t i s u se d t o s ta nd f or a no th er . Wh en
METONYMY
"w e h ea r “Ch ry sl er a nn ou nc ed a n ew m od el ,” w e d o n ot i nt er pr et i t a s s ay in g t ha t c om pa-"
n ie s c an t al k ; r at he r w e u nd er st an d t ha t a s po ke sp er so n r ep re se nt in g t he c om pa ny m ad e t he
a nn ou nc em en t . Me to ny my is co mm on an di so ft en in te rp re te du nc on sc io us ly by hu ma nh ea r-
"e rs . Un fo rt un at el y , o ur g ra mm ar a s i t i s w ri tt en i s n ot s o f ac il e . To h an dl e t he s em an ti cs o f"
"m et on ym yp ro pe rl y ,w en ee dt oi nt ro du ce aw ho le ne wl ev el of am bi gu it y . We do th is by pr o-"
v id in gt wo ob je ct sf or th es em an ti ci nt er pr et at io n o fe ve ry ph ra se in th es en te nc e: o ne fo rt he
o bj ec t t ha t t he p hr as e l it er al ly r ef er s t o (Ch ry sl er) a nd o ne f or t he m et on ym ic r ef er en ce (t he
s po ke sp er so n). We t he n h av e t o s ay t ha t t he re i s a r el at io n b et we en t he t wo . In o ur c ur re nt
"g ra mm ar ,“Ch ry sl er an no un ce d” g et si nt er pr et ed a s"
"x = Ch ry sl er ∧e∈ An no un ce(x)∧Af te r(No w ,Ex te nt(e))."
We ne ed to ch an ge t ha tt o
"x = Ch ry sl er ∧e∈ An no un ce(m)∧Af te r(No w ,Ex te nt(e))"
"∧Me to ny my(m ,x)."
906 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"Th is s ay s t ha t t he re i s o ne e nt it y x t ha t i s e qu al t o Ch ry sl er , a nd a no th er e nt it y m t ha t d id"
"t he an no un ci ng , a nd th at th et wo ar ei na me to ny my re la ti on . Th en ex ts te p i st od ef in ew ha t"
k in ds o f m et on ym y r el at io ns c an o cc ur . Th e s im pl es t c as e i s w he n t he re i s n o m et on ym y a t
a ll—t he li te ra lo bj ec t x an dt he me to ny mi co bj ec tm ar ei de nt ic al:
"∀m ,x (m = x) ⇒ Me to ny my(m ,x)."
"Fo rt he Ch ry sl er e xa mp le , a r ea so na bl e g en er al iz at io n i s t ha t a n o rg an iz at io n c an b e u se d t o"
s ta nd fo ra sp ok es pe rs on o ft ha to rg an iz at io n:
"∀m ,x x∈Or ga ni za ti on s ∧Sp ok es pe rs on(m ,x) ⇒ Me to ny my(m ,x)."
Ot he r m et on ym ie s i nc lu de t he a ut ho r f or t he w or ks (I r ea d Sh ak es pe ar e) o r m or e g en er al ly
t he pr od uc er f or th ep ro du ct (Id ri ve a Ho nd a)a nd th ep ar tf or th ew ho le(Th e Re d So xn ee d
"a s tr on g a rm). So me e xa mp le s o f m et on ym y , s uc h a s “Th e h am s an dw ic h o n Ta bl e 4 w an ts"
"a no th er be er ,”a re mo re no ve la nd ar ei nt er pr et ed w it hr es pe ct to as it ua ti on ."
"Am et ap ho r i sa no th er f ig ur e o fs pe ec h , i nw hi ch a p hr as e w it ho ne l it er al m ea ni ng i s"
METAPHOR
"u se d t o s ug ge st a d if fe re nt m ea ni ng b y w ay o f a n a na lo gy . Th us , m et ap ho r c an b e s ee n a s a"
k in do fm et on ym yw he re th er el at io ni so ne of si mi la ri ty .
Di sa mb ig ua ti on i s t he p ro ce ss o f r ec ov er in g t he m os t p ro ba bl e i nt en de d m ea ni ng o f
DISAMBIGUATION
a n u tt er an ce . In o ne s en se w ea lr ea dy h av e a f ra me wo rk f or s ol vi ng t hi s p ro bl em: e ac h r ul e
"h as a p ro ba bi li ty a ss oc ia te d w it h i t , s o t he p ro ba bi li ty o f a n i nt er pr et at io n i s t he p ro du ct o f"
"t he p ro ba bi li ti es o f t he r ul es t ha t l ed t o t he i nt er pr et at io n . Un fo rt un at el y , t he p ro ba bi li ti es"
"r ef le ct h ow c om mo n t he p hr as es a re i n t he c or pu s f ro m w hi ch t he g ra mm ar w as l ea rn ed ,"
"a nd t hu s r ef le ct g en er al k no wl ed ge , n ot s pe ci fi c k no wl ed ge o f t he c ur re nt s it ua ti on . To d o"
"d is am bi gu at io n p ro pe rl y , w en ee dt oc om bi ne fo ur mo de ls:"
1. Th ew or ld mo de l: t he li ke li ho od th at ap ro po si ti on oc cu rs in th ew or ld . Gi ve nw ha tw e
"k no w a bo ut t he w or ld , i t i s m or e l ik el y t ha t a s pe ak er w ho s ay s “I’m d ea d” m ea ns “I"
"a mi nb ig tr ou bl e”r at he rt ha n“My li fe en de d ,a nd ye t Ic an st il lt al k .”"
2. Th em en ta lm od el: t he li ke li ho od t ha tt he sp ea ke rf or ms th ei nt en ti on o fc om mu ni ca t-
i ng a c er ta in f ac t t o t he h ea re r . Th is a pp ro ac h c om bi ne s m od el s o f w ha t t he s pe ak er
"b el ie ve s , w ha t t he s pe ak er b el ie ve s t he h ea re r b el ie ve s , a nd s o o n . Fo re xa mp le , w he n"
"a p ol it ic ia n s ay s , “I a m n ot a c ro ok ,” t he w or ld m od el m ig ht a ss ig n a p ro ba bi li ty o f"
"o nl y 50% t o t he p ro po si ti on t ha t t he p ol it ic ia n i s n ot a c ri mi na l , a nd 99.999% t o t he"
"p ro po si ti on t ha th ei sn ot ah oo ke d s he ph er d’s s ta ff . Ne ve rt he le ss , w es el ec tt he fo rm er"
i nt er pr et at io n b ec au se i ti sa mo re li ke ly th in gt os ay .
"3. Th el an gu ag em od el: t he li ke li ho od th at ac er ta in st ri ng of wo rd sw il lb ec ho se n ,g iv en"
t ha tt he sp ea ke rh as th ei nt en ti on o fc om mu ni ca ti ng a ce rt ai nf ac t .
"4. Th e a co us ti c m od el: f or s po ke n c om mu ni ca ti on , t he l ik el ih oo d t ha t a p ar ti cu la r s e-"
"q ue nc eo fs ou nd s w il lb eg en er at ed , g iv en th at th es pe ak er h as ch os en a gi ve ns tr in go f"
w or ds . Se ct io n 23.5 c ov er ss pe ec hr ec og ni ti on .
Se ct io n 23.4. Ma ch in e Tr an sl at io n 907
23.4 MACHINE TRANSLATION
Ma ch in et ra ns la ti on is th ea ut om at ic tr an sl at io no ft ex tf ro mo ne na tu ra ll an gu ag e(t he so ur ce)
t o a no th er (t he t ar ge t). It w as o ne o f t he f ir st a pp li ca ti on a re as e nv is io ne d f or c om pu te rs
"(We av er , 1949), b ut i t i s o nl y i n t he p as t d ec ad e t ha t t he t ec hn ol og y h as s ee n w id es pr ea d"
u sa ge . He re is ap as sa ge fr om pa ge 1 o ft hi sb oo k:
AI i s o ne o f t he n ew es tf ie ld s i n s ci en ce a nd e ng in ee ri ng . Wo rk s ta rt ed i n e ar ne st s oo n
"a ft er Wo rl d Wa r II ,a nd th en am ei ts el fw as co in ed in 1956. Al on gw it hm ol ec ul ar bi ol-"
"o gy , AI i s r eg ul ar ly ci te d a s t he “f ie ld I w ou ld mo st l ik e t o b e i n” b y s ci en ti st s i n o th er"
d is ci pl in es .
"An dh er ei ti st ra ns la te d f ro m En gl is ht o Da ni sh by an on li ne to ol ,Go og le Tr an sl at e:"
AIe re na fd en ye st eo mr a˚d er in de nf or vi de ns ka bo gt ek ni k . Ar be jd es ta rt ed ef or al vo r
"l ig e e ft er An de n Ve rd en sk ri g , o g n av ne t i s ig s el v v ar o pf un de t i 1956. Sa mm en m ed"
"m ol ek ylær bi ol og i , e r AI jæv nl ig tnæv nt so m “f el te t Je g v il le d e f le st e g er ne vær e i” a f"
f or sk er ei an dr ed is ci pl in er .
"Fo r t ho se w ho d on’t r ea d Da ni sh , h er e i s t he Da ni sh t ra ns la te d b ac k t o En gl is h . Th e w or ds"
t ha tc am eo ut di ff er en ta re in it al ic s:
AIi so ne of th en ew es tf ie ld so fs ci en ce an de ng in ee ri ng .Wo rk be ga ni ne ar ne st ju st af te r
"t he Se co nd Wo rl d Wa r ,a nd th en am ei ts el fw as in ve nt ed in 1956.To ge th er wi th mo le cu la r"
"b io lo gy ,AIi sf re qu en tl ym en ti on ed as “f ie ld Iw ou ld mo st li ke to be in”b yr es ea rc he rs"
i no th er di sc ip li ne s .
"Th e d if fe re nc es a re a ll r ea so na bl e p ar ap hr as es , s uc h a s f re qu en tl y m en ti on ed f or r eg ul ar ly"
"c it ed . Th eo nl y r ea l e rr or is th e o mi ss io n o ft he a rt ic le t he , d en ot ed b yt he s ym bo l . Th is is"
"t yp ic al a cc ur ac y: o f t he t wo s en te nc es , o ne h as a n e rr or t ha t w ou ld n ot b e m ad e b y a n at iv e"
"s pe ak er , y et th em ea ni ng is cl ea rl yc on ve ye d ."
"Hi st or ic al ly , t he re h av e b ee n t hr ee m ai n a pp li ca ti on s o f m ac hi ne t ra ns la ti on . Ro ug h"
"t ra ns la ti on , a s p ro vi de d b y f re e o nl in e s er vi ce s , g iv es t he “g is t” o f a f or ei gn s en te nc e o r"
"d oc um en t , b ut c on ta in s e rr or s . Pr e-e di te d t ra ns la ti on i s u se d b y c om pa ni es t o p ub li sh t he ir"
d oc um en ta ti on a nd s al es m at er ia ls i nm ul ti pl e l an gu ag es . Th e o ri gi na l s ou rc e t ex t i sw ri tt en
"i n a c on st ra in ed l an gu ag e t ha t i s e as ie r t o t ra ns la te a ut om at ic al ly , a nd t he r es ul ts a re u su al ly"
e di te d b y a hu ma n t oc or re ct a ny er ro rs . Re st ri ct ed-s ou rc e t ra ns la ti on w or ks fu ll y a ut om at i-
"c al ly ,b ut on ly on hi gh ly st er eo ty pi ca l l an gu ag e , s uc ha sa we at he rr ep or t ."
"Tr an sl at io ni sd if fi cu lt be ca us e ,i nt he fu ll yg en er al ca se ,i tr eq ui re si n-d ep th un de rs ta nd-"
i ng o f t he t ex t . Th is i s t ru e e ve n f or v er y s im pl e t ex ts—e ve n “t ex ts” o f o ne w or d . Co ns id er
t he wo rd“Op en”o nt he do or of as to re .6 It co mm un ic at es t he id ea th at th es to re is ac ce pt in g
c us to me rs a t t he m om en t . No w c on si de r t he s am e w or d “Op en” o n a l ar ge b an ne r o ut si de a
"n ew ly co ns tr uc te d s to re . It me an st ha t t he s to re i sn ow in da il y o pe ra ti on , b ut r ea de rs o ft hi s"
s ig nw ou ld no tf ee lm is le di ft he st or ec lo se d a tn ig ht w it ho ut re mo vi ng t he ba nn er . Th et wo
s ig ns u se t he i de nt ic al w or d t o c on ve y d if fe re nt m ea ni ng s . In Ge rm an t he s ig n o n t he d oo r
w ou ld be“Of fe n”w hi le th eb an ne rw ou ld re ad“Ne u Er o¨f fn et .”
6 Th is ex am pl ei sd ue to Ma rt in Ka y .
908 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"Th e p ro bl em i s t ha t d if fe re nt l an gu ag es c at eg or iz e t he w or ld d if fe re nt ly . Fo re xa mp le ,"
t he Fr en ch w or d “d ou x” c ov er s a w id e r an ge o f m ea ni ng s c or re sp on di ng a pp ro xi ma te ly t o
"t he En gl is h w or ds “s of t ,” “s we et ,” a nd “g en tl e .” Si mi la rl y , t he En gl is h w or d “h ar d” c ov er s"
"v ir tu al ly a ll u se s o f t he Ge rm an w or d “h ar t” (p hy si ca ll y r ec al ci tr an t , c ru el) a nd s om e u se s"
"o f t he w or d “s ch wi er ig” (d if fi cu lt). Th er ef or e , r ep re se nt in g t he m ea ni ng o f a s en te nc e i s"
m or ed if fi cu lt fo rt ra ns la ti on th an it is fo rs in gl e-l an gu ag e u nd er st an di ng . An En gl is hp ar si ng
"s ys te m c ou ld u se p re di ca te s l ik e Op en(x), b ut f or t ra ns la ti on , t he r ep re se nt at io n l an gu ag e"
"w ou ld ha ve to ma ke mo re di st in ct io ns ,p er ha ps wi th Op en (x)r ep re se nt in gt he“Of fe n”s en se"
1
a nd Op en (x)r ep re se nt in g t he“Ne u Er o¨f fn et” s en se . Ar ep re se nt at io n l an gu ag e t ha t m ak es
2
a ll th ed is ti nc ti on s n ec es sa ry f or as et of la ng ua ge s i sc al le da ni nt er li ng ua .
INTERLINGUA
A t ra ns la to r (h um an o r m ac hi ne) o ft en n ee ds t o u nd er st an d t he a ct ua l s it ua ti on d e-
"s cr ib ed i n t he s ou rc e , n ot j us t t he i nd iv id ua l w or ds . Fo r e xa mp le , t o t ra ns la te t he En gl is h"
"w or d “h im ,” i nt o Ko re an , a c ho ic e m us t b e m ad e b et we en t he h um bl e a nd h on or if ic f or m , a"
c ho ic et ha td ep en ds o nt he so ci al re la ti on sh ip b et we en th es pe ak er an dt he re fe re nt o f“h im .”
"In Ja pa ne se , t he h on or if ic s a re r el at iv e , s o t he ch oi ce d ep en ds o nt he s oc ia l r el at io ns hi ps b e-"
"t we en th es pe ak er ,t he re fe re nt ,a nd th el is te ne r . Tr an sl at or s(b ot hm ac hi ne an dh um an)s om e-"
"t im es fi nd it di ff ic ul t t o m ak et hi s c ho ic e . As an ot he r e xa mp le , t ot ra ns la te “Th e b as eb al l h it"
"t he w in do w . It b ro ke .” i nt o Fr en ch , w e m us t c ho os e t he f em in in e “e ll e” o r t he m as cu li ne"
"“i l” f or“i t ,” s o w em us t d ec id e w he th er “i t” r ef er s t ot he b as eb al l o rt he w in do w . To ge t t he"
"t ra ns la ti on r ig ht ,o ne mu st un de rs ta nd p hy si cs as we ll as la ng ua ge ."
So me ti me s t he re i s n o c ho ic e t ha t c an y ie ld a c om pl et el y s at is fa ct or y t ra ns la ti on . Fo r
"e xa mp le , a n It al ia n l ov e p oe m t ha t u se s t he m as cu li ne “i ls ol e” (s un) a nd f em in in e “l al un a”"
"(m oo n) t o s ym bo li ze t wo l ov er s w il l n ec es sa ri ly b e a lt er ed w he n t ra ns la te d i nt o Ge rm an ,"
"w he re th eg en de rs ar er ev er se d ,a nd fu rt he ra lt er ed wh en tr an sl at ed in to al an gu ag ew he re th e"
g en de rs ar et he sa me .7
23.4.1 Ma ch in et ra ns la ti on sy st em s
"Al l t ra ns la ti on s ys te ms m us t m od el t he s ou rc e a nd t ar ge t l an gu ag es , b ut s ys te ms v ar y i n t he"
t yp eo fm od el st he yu se . So me sy st em sa tt em pt to an al yz et he so ur ce la ng ua ge te xt al lt he wa y
i nt o a n i nt er li ng ua k no wl ed ge r ep re se nt at io n a nd t he n g en er at e s en te nc es i n t he t ar ge t l an-
g ua ge fr om th at re pr es en ta ti on . Th is is di ff ic ul tb ec au se i t i nv ol ve s t hr ee un so lv ed pr ob le ms:
c re at in ga co mp le te kn ow le dg er ep re se nt at io n o fe ve ry th in g ; p ar si ng in to th at re pr es en ta ti on ;
a nd ge ne ra ti ng s en te nc es f ro mt ha tr ep re se nt at io n .
Ot he rs ys te ms ar eb as ed on at ra ns fe rm od el . Th ey ke ep ad at ab as eo ft ra ns la ti on ru le s
TRANSFERMODEL
"(o re xa mp le s), a nd w he ne ve rt he r ul e (o re xa mp le) m at ch es , t he y t ra ns la te d ir ec tl y . Tr an sf er"
"c an o cc ur a t t he l ex ic al , s yn ta ct ic , o r s em an ti c l ev el . Fo r e xa mp le , a s tr ic tl y s yn ta ct ic r ul e"
m ap s En gl is h [Ad je ct iv e No un] t o Fr en ch [No un Ad je ct iv e]. A m ix ed s yn ta ct ic a nd l ex ic al
r ul em ap s Fr en ch[S “e tp ui s”S ]t o En gl is h[S “a nd th en”S ]. Fi gu re 23.12 d ia gr am st he
1 2 1 2
v ar io us tr an sf er po in ts .
7 Wa rr en We av er(1949)r ep or ts th at Ma x Ze ld ne rp oi nt so ut th at th eg re at He br ew po et H .N .Bi al ik on ce sa id
t ha tt ra ns la ti on“i sl ik ek is si ng th eb ri de th ro ug ha ve il .”
Se ct io n 23.4. Ma ch in e Tr an sl at io n 909
In te rl in gu a Se ma nt ic s
"At tr ac ti on(Na me d Jo hn , Na me d Ma ry , Hi gh)"
En gl is h Se ma nt ic s Fr en ch Se ma nt ic s
"Lo ve s(Jo hn , Ma ry) Ai me(Je an , Ma ri e)"
En gl is h Sy nt ax Fr en ch Sy nt ax
"S(NP(Jo hn), VP(l ov es , NP(Ma ry))) S(NP(Je an), VP(a im e , NP(Ma ri e)))"
En gl is h Wo rd s Fr en ch Wo rd s
Jo hn l ov es Ma ry Je an a im e Ma ri e
Fi gu re 23.12 Th e Va uq uo is t ri an gl e: s ch em at ic d ia gr am o f t he c ho ic es f or a m ac hi ne
"t ra ns la ti on sy st em (Va uq uo is ,1968). We s ta rt wi th En gl is h t ex ta tt he t op . An i nt er li ng ua-"
"b as ed s ys te m f ol lo ws t he s ol id l in es , p ar si ng En gl is h f ir st i nt o a s yn ta ct ic f or m , t he n i nt o"
"a s em an ti cr ep re se nt at io na nd an in te rl in gu ar ep re se nt at io n ,a nd th en th ro ug hg en er at io nt o"
"a s em an ti c , s yn ta ct ic , a nd le xi ca lf or mi n Fr en ch . A t ra ns fe r-b as ed sy st em u se st he d as he d"
l in es as a s ho rt cu t . Di ff er en ts ys te ms ma ke th et ra ns fe ra td if fe re nt po in ts ; s om em ak ei ta t
m ul ti pl ep oi nt s .
23.4.2 St at is ti ca lm ac hi ne t ra ns la ti on
"No w t ha t w e h av e s ee n h ow c om pl ex t he t ra ns la ti on t as k c an b e , i t s ho ul d c om e a s n o s ur-"
p ri se th at th em os ts uc ce ss fu lm ac hi ne tr an sl at io ns ys te ms ar eb ui lt by tr ai ni ng ap ro ba bi li st ic
m od el u si ng s ta ti st ic s g at he re d f ro m a l ar ge c or pu s o f t ex t . Th is a pp ro ac h d oe s n ot n ee d
"a c om pl ex o nt ol og y o f i nt er li ng ua c on ce pt s , n or d oe s i t n ee d h an dc ra ft ed g ra mm ar s o f t he"
"s ou rc ea nd ta rg et la ng ua ge s , n or ah an d-l ab el ed t re eb an k . Al li tn ee ds is da ta—s am pl et ra ns-"
"l at io ns fr om wh ic ha tr an sl at io nm od el ca nb el ea rn ed . To tr an sl at ea se nt en ce in ,s ay ,En gl is h"
∗
"(e)i nt o Fr en ch(f),w ef in dt he st ri ng of wo rd s f t ha tm ax im iz es"
f∗ = a rg ma x P(f |e) = a rg ma x P(e|f)P(f).
f
He re t he f ac to r P(f)i s t he t ar ge t l an gu ag e m od el f or Fr en ch ; i t s ay s h ow p ro ba bl e a g iv en
LANGUAGEMODEL
TRANSLATION s en te nc e i s i n Fr en ch . P(e|f) i s t he t ra ns la ti on m od el ; i t s ay s h ow p ro ba bl e a n En gl is h
MODEL
"s en te nc e i s a s a t ra ns la ti on f or a g iv en Fr en ch s en te nc e . Si mi la rl y , P(f |e) i s a t ra ns la ti on"
m od el fr om En gl is ht o Fr en ch .
"Sh ou ld we wo rk di re ct ly o n P(f|e),o ra pp ly Ba ye s’r ul ea nd wo rk on P(e|f)P(f)?"
"In d ia gn os ti c a pp li ca ti on s l ik e m ed ic in e , i t i s e as ie r t o m od el t he d om ai n i n t he c au sa l d i-"
r ec ti on: P(s ym pt om s|d is ea se)r at he rt ha n P(d is ea se|s ym pt om s). Bu ti nt ra ns la ti on b ot h
d ir ec ti on s a re e qu al ly e as y . Th e e ar li es t w or k i n s ta ti st ic al m ac hi ne t ra ns la ti on d id a pp ly
"Ba ye s’ r ul e—i n p ar t b ec au se t he r es ea rc he rs h ad a go od l an gu ag e m od el , P(f), a nd wa nt ed"
"t o m ak e u se o f i t , a nd i n p ar t b ec au se t he y c am e f ro m a b ac kg ro un d i n s pe ec h r ec og ni ti on ,"
"w hi ch i s a d ia gn os ti c p ro bl em . We f ol lo w t he ir l ea d i n t hi s c ha pt er , b ut w e n ot e t ha t r e-"
"c en t w or k i n s ta ti st ic al m ac hi ne t ra ns la ti on o ft en o pt im iz es P(f |e) d ir ec tl y , u si ng a m or e"
s op hi st ic at ed m od el th at ta ke si nt oa cc ou nt m an yo ft he fe at ur es f ro mt he la ng ua ge m od el .
910 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"Th e l an gu ag e m od el , P(f), c ou ld a dd re ss a ny l ev el(s) o n t he r ig ht-h an d s id e o f Fi g-"
"u re 23.12, b ut t he e as ie st a nd m os t c om mo n a pp ro ac h i s t o b ui ld a n n-g ra m m od el f ro m a"
"Fr en ch c or pu s , a s w e h av e s ee n b ef or e . Th is c ap tu re s o nl y a p ar ti al , l oc al i de a o f Fr en ch"
"s en te nc es ; h ow ev er ,t ha ti so ft en su ff ic ie nt fo rr ou gh tr an sl at io n .8"
"Th et ra ns la ti on mo de li sl ea rn ed fr om ab il in gu al co rp us—a co ll ec ti on of pa ra ll el te xt s ,"
BILINGUALCORPUS
"e ac h a n En gl is h/Fr en ch p ai r . No w , i f w e h ad a n i nf in it el y l ar ge c or pu s , t he n t ra ns la ti ng a"
s en te nc e w ou ld ju st be al oo ku pt as k: w ew ou ld ha ve se en th e En gl is hs en te nc e b ef or ei nt he
"c or pu s , s o w e c ou ld j us t r et ur n t he p ai re d Fr en ch s en te nc e . Bu t o f c ou rs e o ur r es ou rc es a re"
"f in it e , a nd m os t o f t he s en te nc es w e w il l b e a sk ed t o t ra ns la te w il l b e n ov el . Ho we ve r , t he y"
w il l b e c om po se d o f p hr as es t ha t w e h av e s ee n b ef or e (e ve n i f s om e p hr as es a re a s s ho rt a s
"o ne w or d). Fo r e xa mp le , i n t hi s b oo k , c om mo n p hr as es i nc lu de “i n t hi s e xe rc is e w e w il l ,”"
"“s iz eo ft he st at es pa ce ,”“a sa fu nc ti on o ft he”a nd“n ot es at th ee nd of th ec ha pt er .” If as ke d"
t ot ra ns la te th en ov el se nt en ce“In th is ex er ci se we wi ll co mp ut et he si ze of th es ta te sp ac ea sa
"f un ct io n o ft he nu mb er of ac ti on s .” i nt o Fr en ch ,w es ho ul db ea bl et ob re ak th es en te nc ei nt o"
"p hr as es , f in d t he p hr as es i n t he En gl is h c or pu s (t hi s b oo k), f in d t he c or re sp on di ng Fr en ch"
"p hr as es (f ro m t he Fr en ch t ra ns la ti on o f t he b oo k), a nd t he n r ea ss em bl e t he Fr en ch p hr as es"
"i nt oa no rd er th at ma ke ss en se in Fr en ch . In ot he rw or ds ,g iv en as ou rc e En gl is hs en te nc e , e ,"
f in di ng a Fr en ch tr an sl at io n f i sa ma tt er of th re es te ps:
"1. Br ea kt he En gl is hs en te nc ei nt op hr as es e ,...,e ."
1 n
"2. Fo r e ac h p hr as e e , c ho os e a c or re sp on di ng Fr en ch p hr as e f . We u se t he n ot at io n"
i i
P(f |e )f or th ep hr as al p ro ba bi li ty t ha t f i sa tr an sl at io n o fe .
i i i i
"3. Ch oo se a p er mu ta ti on o f t he p hr as es f ,...,f . We wi ll s pe ci fy t hi s p er mu ta ti on i n a"
1 n
"w ay t ha t s ee ms a l it tl e c om pl ic at ed , b ut i s d es ig ne d t o h av e a s im pl e p ro ba bi li ty d is-"
"t ri bu ti on: Fo r e ac h f , w e c ho os e a d is to rt io n d , w hi ch i s t he n um be r o f w or ds t ha t"
DISTORTION i i
p hr as e f
i
"h as mo ve dw it hr es pe ct to f i−1;p os it iv ef or mo vi ng to th er ig ht , n eg at iv ef or"
"m ov in gt ot he le ft ,a nd ze ro if f"
i
i mm ed ia te ly fo ll ow sf i−1.
"Fi gu re 23.13 s ho ws a n e xa mp le o f t he p ro ce ss . At t he t op , t he s en te nc e “Th er e i s a s me ll y"
"w um pu s s le ep in g i n 2 2” i s b ro ke n i nt o f iv e p hr as es , e ,...,e . Ea ch o f t he m i s t ra ns la te d"
1 5
"i nt o a c or re sp on di ng p hr as e f , a nd t he n t he se a re p er mu te d i nt o t he o rd er f ,f ,f ,f ,f ."
i 1 3 4 2 5
"We sp ec if yt he pe rm ut at io n i nt er ms of th ed is to rt io ns d o fe ac h Fr en ch ph ra se , d ef in ed as"
i
d
i
"= START(f i)−END(f i−1)−1,"
w he re START(f i)i st he or di na l n um be ro ft he fi rs tw or do fp hr as e f
i
"i nt he Fr en ch se nt en ce ,"
a nd END(f i−1)i st he or di na ln um be ro ft he la st wo rd of ph ra se f i−1. In Fi gu re 23.13 w es ee
"t ha tf ,“a` 22,”i mm ed ia te ly fo ll ow sf ,“q ui do rt ,”a nd th us d =0. Ph ra se f ,h ow ev er ,h as"
5 4 5 2
"m ov ed on ew or ds t ot he ri gh t o f f ,s od =1. As as pe ci al c as e w eh av e d =0, b ec au se f"
1 2 1 1
s ta rt sa tp os it io n 1 a nd END(f 0)i sd ef in ed to be 0(e ve nt ho ug h f
0
d oe sn ot ex is t).
"No w t ha t w e h av e d ef in ed t he d is to rt io n , d , w e c an d ef in e t he p ro ba bi li ty d is tr ib ut io n"
i
"f or d is to rt io n , P(d ). No te t ha t f or s en te nc es b ou nd ed b y l en gt h n w e h av e |d | ≤ n , a nd"
i i
"8 Fo r t he f in er p oi nt s o f t ra ns la ti on , n-g ra ms a re c le ar ly n ot e no ug h . Ma rc el Pr ou st’s 4000-p ag e n ov el A l a"
"r e´c he rc he du te mp sp er du be gi ns an de nd sw it ht he sa me wo rd(l on gt em ps),s os om et ra ns la to rs ha ve de ci de dt o"
"d ot he sa me ,t hu sb as in gt he tr an sl at io no ft he fi na lw or do no ne th at ap pe ar ed ro ug hl y 2 m il li on wo rd se ar li er ."
Se ct io n 23.4. Ma ch in e Tr an sl at io n 911
"s o t he f ul l p ro ba bi li ty d is tr ib ut io n P(d ) h as o nl y 2 n + 1 e le me nt s , f ar f ew er n um be rs t o"
i
"l ea rn t ha n t he n um be r o f p er mu ta ti on s , n !. Th at i s w hy w e d ef in ed t he p er mu ta ti on i n t hi s"
"c ir cu it ou s w ay . Of c ou rs e , t hi s i s a r at he r i mp ov er is he d m od el o f d is to rt io n . It d oe sn’t s ay"
t ha t a dj ec ti ve s a re u su al ly d is to rt ed t o a pp ea r a ft er t he n ou n w he n w e a re t ra ns la ti ng f ro m
"En gl is ht o Fr en ch—t ha t f ac ti sr ep re se nt ed i nt he Fr en ch la ng ua ge m od el ,P(f). Th ed is to r-"
t io n p ro ba bi li ty i s c om pl et el y i nd ep en de nt o f t he w or ds i n t he p hr as es—i t d ep en ds o nl y o n
t he i nt eg er v al ue d . Th ep ro ba bi li ty d is tr ib ut io n p ro vi de s a s um ma ry o f t he v ol at il it y o f t he
i
"p er mu ta ti on s ; h ow li ke ly ad is to rt io n o f P(d=2)i s ,c om pa re dt o P(d=0),f or ex am pl e ."
"We’r e r ea dy n ow t o p ut i t a ll t og et he r: w e c an d ef in e P(f ,d|e), t he p ro ba bi li ty t ha t"
t he se qu en ce of ph ra se s f w it hd is to rt io ns d is at ra ns la ti on o ft he se qu en ce of ph ra se s e . We
m ak e t he a ss um pt io n t ha t e ac h p hr as e t ra ns la ti on a nd e ac h d is to rt io n i s i nd ep en de nt o f t he
"o th er s , a nd th us we ca nf ac to rt he ex pr es si on a s"
(c id:25)
"P(f ,d|e) = P(f |e )P(d )"
i i i
i
e e e e e
1 2 3 4 5
Th er e i s a s me ll y w um pu s s le ep in g i n 2 2
f f f f f
1 3 2 4 5
Il y a u n w um pu s m al od or an t q ui d or t à 2 2
d = 0 d = -2 d = +1 d = +1 d = 0
1 3 2 4 5
"Fi gu re 23.13 Ca nd id at e Fr en ch ph ra se sf or ea ch ph ra se of an En gl is hs en te nc e ,w it hd is-"
t or ti on(d)v al ue sf or ea ch Fr en ch ph ra se .
"Th at gi ve su sa wa yt oc om pu te th ep ro ba bi li ty P(f ,d|e)f or ac an di da te t ra ns la ti on f"
a nd di st or ti on d . Bu tt of in dt he be st f a nd dw ec an’t j us te nu me ra te s en te nc es ; w it hm ay be
"100 Fr en ch p hr as es f or e ac h En gl is h p hr as e i n t he c or pu s , t he re a re 1005 d if fe re nt 5-p hr as e"
"t ra ns la ti on s , a nd 5!r eo rd er in gs f or ea ch of th os e . We wi ll ha ve to se ar ch fo ra go od so lu ti on ."
A l oc al b ea m s ea rc h (s ee p ag e 125) w it h a h eu ri st ic t ha t e st im at es p ro ba bi li ty h as p ro ve n
e ff ec ti ve at fi nd in ga ne ar ly-m os t-p ro ba bl e t ra ns la ti on .
Al lt ha t r em ai ns i s t o l ea rn t he p hr as al a nd d is to rt io n p ro ba bi li ti es . We sk et ch t he p ro-
c ed ur e ;s ee th en ot es at th ee nd of th ec ha pt er fo rd et ai ls .
"1. Fi nd pa ra ll el te xt s: Fi rs t ,g at he ra pa ra ll el bi li ng ua l c or pu s . Fo re xa mp le ,a Ha ns ar d 9"
HANSARD
"i s a r ec or d o f p ar li am en ta ry d eb at e . Ca na da , Ho ng Ko ng , a nd o th er c ou nt ri es p ro-"
"d uc e b il in gu al Ha ns ar ds , t he Eu ro pe an Un io n p ub li sh es i ts o ff ic ia l d oc um en ts i n 11"
"l an gu ag es , a nd t he Un it ed Na ti on s p ub li sh es m ul ti li ng ua l d oc um en ts . Bi li ng ua l t ex t i s"
"a ls o a va il ab le o nl in e ; s om e We b s it es p ub li sh p ar al le l c on te nt w it h p ar al le l URLs , f or"
"9 Na me da ft er Wi ll ia m Ha ns ar d ,w ho fi rs tp ub li sh ed th e Br it is hp ar li am en ta ry de ba te si n 1811."
912 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
"e xa mp le ,/e n/f or th e En gl is hp ag ea nd/f r/f or th ec or re sp on di ng Fr en ch pa ge . Th e"
l ea di ng st at is ti ca l t ra ns la ti on s ys te ms tr ai no nh un dr ed s o fm il li on so fw or ds of pa ra ll el
t ex ta nd bi ll io ns o fw or ds of mo no li ng ua l t ex t .
"2. Se gm en ti nt os en te nc es: Th eu ni to ft ra ns la ti on i sa se nt en ce ,s ow ew il lh av et ob re ak"
"t he c or pu s i nt o s en te nc es . Pe ri od s a re s tr on g i nd ic at or s o f t he e nd o f a s en te nc e , b ut"
c on si de r “Dr . J . R . Sm it h o f Ro de o Dr . p ai d $29.99 o n 9.9.09.”; o nl y t he f in al p er io d
e nd s a s en te nc e . On e w ay t o d ec id e i f a p er io d e nd s a s en te nc e i s t o t ra in a m od el
t ha t t ak es a s f ea tu re s t he s ur ro un di ng w or ds a nd t he ir p ar ts o f s pe ec h . Th is a pp ro ac h
a ch ie ve sa bo ut 98%a cc ur ac y .
"3. Al ig ns en te nc es: Fo re ac hs en te nc e i nt he En gl is hv er si on ,d et er mi ne w ha ts en te nc e(s)"
"i t c or re sp on ds t o i n t he Fr en ch v er si on . Us ua ll y , t he n ex t s en te nc e o f En gl is h c or re-"
"s po nd s t ot he n ex ts en te nc e o f Fr en ch i na 1:1 m at ch , b ut s om et im es t he re i sv ar ia ti on:"
"o ne se nt en ce in on el an gu ag ew il lb es pl it in to a 2:1 m at ch ,o rt he or de ro ft wo se nt en ce s"
"w il lb es wa pp ed ,r es ul ti ng in a 2:2 m at ch . By lo ok in ga tt he se nt en ce le ng th sa lo ne(i .e ."
"s ho rt se nt en ce s s ho ul da li gn wi th sh or ts en te nc es), i ti sp os si bl et oa li gn th em(1:1,1:2,"
"o r 2:2, e tc .) w it h a cc ur ac y i n t he 90% t o 99% r an ge u si ng a v ar ia ti on o n t he Vi te rb i"
a lg or it hm . Ev en be tt er al ig nm en tc an be ac hi ev ed by us in gl an dm ar ks th at ar ec om mo n
"t ob ot h l an gu ag es , s uc h a sn um be rs , d at es , p ro pe r n am es , o rw or ds t ha t w ek no w f ro m"
"a bi li ng ua ld ic ti on ar yh av ea nu na mb ig uo us tr an sl at io n . Fo re xa mp le ,i ft he 3 r d En gl is h"
"a nd 4 t h Fr en ch s en te nc es c on ta in t he s tr in g “1989” a nd n ei gh bo ri ng s en te nc es d o n ot ,"
t ha ti sg oo de vi de nc et ha tt he se nt en ce s s ho ul db ea li gn ed to ge th er .
"4. Al ig np hr as es: Wi th in as en te nc e ,p hr as es ca nb ea li gn ed by ap ro ce ss th at is si mi la rt o"
"t ha t u se d f or s en te nc e a li gn me nt , b ut r eq ui ri ng i te ra ti ve i mp ro ve me nt . Wh en w e s ta rt ,"
"w eh av en ow ay of kn ow in gt ha t“q ui do rt”a li gn sw it h“s le ep in g ,” b ut we ca na rr iv ea t"
t ha ta li gn me nt by ap ro ce ss of ag gr eg at io no fe vi de nc e . Ov er al lt he ex am pl es en te nc es
"w e h av e s ee n , w e n ot ic e t ha t “q ui d or t” a nd “s le ep in g” c o-o cc ur w it h h ig h f re qu en cy ,"
"a nd t ha t i n t he p ai r o f a li gn ed s en te nc es , n o p hr as e o th er t ha n “q ui d or t” c o-o cc ur s s o"
f re qu en tl y i n o th er s en te nc es w it h “s le ep in g .” A c om pl et e p hr as e a li gn me nt o ve r o ur
c or pu sg iv es us th ep hr as al pr ob ab il it ie s (a ft er ap pr op ri at e s mo ot hi ng).
5. Ex tr ac t d is to rt io ns: On ce w e h av e a n a li gn me nt o f p hr as es w e c an d ef in e d is to rt io n
p ro ba bi li ti es . Si mp ly co un t h ow of te n d is to rt io n o cc ur s i n t he co rp us f or ea ch di st an ce
"d= 0,±1,±2,...,a nd ap pl ys mo ot hi ng ."
6. Im pr ov ee st im at es wi th EM:Us ee xp ec ta ti on–m ax im iz at io n t oi mp ro ve th ee st im at es
o f P(f |e) a nd P(d) v al ue s . We c om pu te t he b es t a li gn me nt s w it h t he c ur re nt v al ue s
"o ft he se pa ra me te rs in th e Es te p ,t he nu pd at et he es ti ma te si nt he Ms te pa nd it er at et he"
p ro ce ss un ti lc on ve rg en ce .
23.5 SPEECH RECOGNITION
"SPEECH Sp ee ch re co gn it io ni st he ta sk of id en ti fy in ga se qu en ce of wo rd su tt er ed by as pe ak er , g iv en"
RECOGNITION
t he a co us ti c s ig na l . It h as b ec om e o ne o f t he m ai ns tr ea m a pp li ca ti on s o f AI—m il li on s o f
Se ct io n 23.5. Sp ee ch Re co gn it io n 913
"p eo pl e i nt er ac t w it h s pe ec h r ec og ni ti on s ys te ms e ve ry d ay t o n av ig at e v oi ce m ai l s ys te ms ,"
"s ea rc h t he We b f ro m m ob il e p ho ne s , a nd o th er a pp li ca ti on s . Sp ee ch i s a n a tt ra ct iv e o pt io n"
"w he nh an ds-f re e o pe ra ti on i sn ec es sa ry , a sw he no pe ra ti ng m ac hi ne ry ."
Sp ee ch r ec og ni ti on i s d if fi cu lt b ec au se t he s ou nd s m ad e b y a s pe ak er a re a mb ig uo us
"a nd , w el l , n oi sy . As a w el l-k no wn e xa mp le , t he p hr as e “r ec og ni ze s pe ec h” s ou nd s a lm os t"
t he s am e a s “w re ck a n ic e b ea ch” w he n s po ke n q ui ck ly . Ev en t hi s s ho rt e xa mp le s ho ws
"s ev er al o f t he i ss ue s t ha t m ak e s pe ec h p ro bl em at ic . Fi rs t , s eg me nt at io n: w ri tt en w or ds i n"
SEGMENTATION
"En gl is h h av e s pa ce s b et we en t he m , b ut i n f as t s pe ec h t he re a re n o p au se s i n “w re ck a n ic e”"
t ha t w ou ld d is ti ng ui sh i t a s a m ul ti wo rd p hr as e a s o pp os ed t o t he s in gl e w or d “r ec og ni ze .”
"Se co nd , c oa rt ic ul at io n: w he n s pe ak in g q ui ck ly t he “s” s ou nd a t t he e nd o f “n ic e” m er ge s"
COARTICULATION
"w it h t he “b” s ou nd a t t he b eg in ni ng o f “b ea ch ,” y ie ld in g s om et hi ng t ha t i s c lo se t o a “s p .”"
"An ot he r p ro bl em t ha t d oe s n ot s ho w u p i n t hi s e xa mp le i s h om op ho ne s—w or ds l ik e “t o ,”"
HOMOPHONES
"“t oo ,”a nd“t wo”t ha ts ou nd th es am eb ut di ff er in me an in g ."
We ca nv ie ws pe ec h r ec og ni ti on a sa pr ob le m i nm os t-l ik el y-s eq ue nc e e xp la na ti on . As
"w e s aw i n Se ct io n 15.2, t hi s i s t he p ro bl em o f c om pu ti ng t he m os t l ik el y s eq ue nc e o f s ta te"
"v ar ia bl es , x , g iv en a s eq ue nc e o f o bs er va ti on s e . In t hi s c as e t he s ta te v ar ia bl es a re t he"
1:t 1:t
"w or ds ,a nd th eo bs er va ti on sa re so un ds . Mo re pr ec is el y ,a no bs er va ti on is av ec to ro ff ea tu re s"
"e xt ra ct ed fr om th ea ud io si gn al . As us ua l ,t he mo st li ke ly se qu en ce ca nb ec om pu te dw it ht he"
h el po f Ba ye s’r ul et ob e:
a rg ma x P(w or d |s ou nd )= a rg ma x P(s ou nd |w or d )P(w or d ).
1:t 1:t 1:t 1:t 1:t
w or d 1:t w or d 1:t
He re P(s ou nd |w or d ) i s t he a co us ti c m od el . It d es cr ib es t he s ou nd s o f w or ds—t ha t
ACOUSTICMODEL 1:t 1:t
“c ei li ng” b eg in s w it h a s of t “c” a nd s ou nd s t he s am e a s “s ea li ng .” P(w or d ) i s k no wn a s
1:t
"t he l an gu ag e m od el . It s pe ci fi es t he p ri or p ro ba bi li ty o f e ac h u tt er an ce—f or e xa mp le , t ha t"
LANGUAGEMODEL
“c ei li ng f an”i sa bo ut 500 t im es mo re li ke ly as aw or ds eq ue nc e t ha n“s ea li ng fa n .”
NOISYCHANNEL Th is a pp ro ac h w as n am ed t he n oi sy c ha nn el m od el b y Cl au de Sh an no n (1948). He
MODEL
d es cr ib ed a si tu at io n i nw hi ch an or ig in al m es sa ge (t he w or ds in ou re xa mp le) i st ra ns mi tt ed
o ve r a n oi sy c ha nn el (s uc h a s a t el ep ho ne l in e) s uc h t ha t a c or ru pt ed m es sa ge (t he s ou nd s
i n o ur e xa mp le) a re r ec ei ve d a t t he o th er e nd . Sh an no n s ho we d t ha t n o m at te r h ow n oi sy
"t he c ha nn el , i t i s p os si bl e t o r ec ov er t he o ri gi na l m es sa ge w it h a rb it ra ri ly s ma ll e rr or , i f w e"
e nc od e t he o ri gi na l m es sa ge i n a r ed un da nt e no ug h w ay . Th e n oi sy c ha nn el a pp ro ac h h as
"b ee na pp li ed t os pe ec hr ec og ni ti on , m ac hi ne tr an sl at io n , s pe ll in gc or re ct io n , a nd ot he rt as ks ."
"On ce w e d ef in e t he a co us ti c a nd l an gu ag e m od el s , w e c an s ol ve f or t he m os t l ik el y"
s eq ue nc e o f w or ds u si ng t he Vi te rb i a lg or it hm (Se ct io n 15.2.3 o n p ag e 576). Mo st s pe ec h
r ec og ni ti on s ys te ms u se al an gu ag e m od el th at ma ke st he Ma rk ov as su mp ti on—t ha t t he cu r-
r en ts ta te Wo rd d ep en ds on ly on af ix ed nu mb er no fp re vi ou ss ta te s—a nd re pr es en t Wo rd
t t
"a sa si ng le ra nd om v ar ia bl e t ak in go na fi ni te se to fv al ue s , w hi ch ma ke si ta Hi dd en Ma rk ov"
"Mo de l(HMM).Th us ,s pe ec hr ec og ni ti on be co me sa si mp le ap pl ic at io no ft he HMMm et ho d-"
"o lo gy ,a sd es cr ib ed in Se ct io n 15.3—s im pl et ha ti s ,o nc ew ed ef in et he ac ou st ic an dl an gu ag e"
m od el s . We co ve rt he mn ex t .
914 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
Vo we ls Co ns on an ts B–N Co ns on an ts P–Z
Ph on e Ex am pl e Ph on e Ex am pl e Ph on e Ex am pl e
[i y] b ea t [b] b et [p] p et
[i h] b it [c h] Ch et [r] r at
[e h] b et [d] d eb t [s] s et
[æ] b at [f] f at [s h] s ho e
[a h] b ut [g] g et [t] t en
[a o] b ou gh t [h h] h at [t h] t hi ck
[o w] b oa t [h v] h ig h [d h] t ha t
[u h] b oo k [j h] j et [d x] b ut te r
[e y] b ai t [k] k ic k [v] v et
[e r] Be rt [l] l et [w] w et
[a y] b uy [e l] b ot tl e [w h] w hi ch
[o y] b oy [m] m et [y] y et
[a xr] d in er [e m] b ot to m [z] z oo
[a w] d ow n [n] n et [z h] m ea su re
[a x] a bo ut [e n] b ut to n
[i x] r os es [n g] s in g
[a a] c ot [e ng] w as hi ng [-] s il en ce
"Fi gu re 23.14 Th e ARPA p ho ne ti c a lp ha be t , o r ARPAb et , l is ti ng a ll t he p ho ne su se d i n"
"Am er ic an En gl is h . Th er e a re s ev er al a lt er na ti ve n ot at io ns , i nc lu di ng a n In te rn at io na l Ph o-"
"n et ic Al ph ab et(IPA),w hi ch co nt ai ns th ep ho ne si na ll kn ow nl an gu ag es ."
23.5.1 Ac ou st ic mo de l
So un d w av es a re p er io di c c ha ng es i n p re ss ur e t ha t p ro pa ga te t hr ou gh t he a ir . Wh en t he se
"w av es s tr ik e t he d ia ph ra gm o f a m ic ro ph on e , t he b ac k-a nd-f or th m ov em en t g en er at es a n"
e le ct ri c c ur re nt . An a na lo g-t o-d ig it al c on ve rt er m ea su re s t he s iz e o f t he c ur re nt—w hi ch a p-
p ro xi ma te s t he am pl it ud e o ft he so un d w av e—a td is cr et e i nt er va ls c al le d t he s am pl in gr at e .
SAMPLINGRATE
"Sp ee ch so un ds , w hi ch ar em os tl yi nt he ra ng eo f 100 Hz(100 c yc le sp er se co nd)t o 1000 Hz ,"
a re t yp ic al ly s am pl ed a t a ra te o f 8 k Hz . (CDs a nd m p 3 f il es a re s am pl ed a t 44.1 k Hz .) Th e
QUANTIZATION p re ci si on of ea ch me as ur em en ti sd et er mi ne db yt he qu an ti za ti on fa ct or ;s pe ec hr ec og ni ze rs
FACTOR
"t yp ic al ly k ee p 8 t o 12 b it s . Th at m ea ns t ha t a l ow-e nd s ys te m , s am pl in g a t 8 k Hz wi th 8-b it"
"q ua nt iz at io n , w ou ld re qu ir en ea rl yh al fa me ga by te pe rm in ut eo fs pe ec h ."
"Si nc e w e o nl y w an t t o k no w w ha t w or ds w er e s po ke n , n ot e xa ct ly w ha t t he y s ou nd ed"
"l ik e , w ed on’t n ee d t ok ee p a ll th at in fo rm at io n . We on ly n ee d t od is ti ng ui sh b et we en d if fe r-"
"e nt sp ee ch so un ds . Li ng ui st sh av ei de nt if ie da bo ut 100 s pe ec hs ou nd s ,o rp ho ne s ,t ha tc an be"
PHONE
"c om po se d t o f or m a ll t he w or ds i n a ll k no wn h um an l an gu ag es . Ro ug hl y s pe ak in g , a p ho ne"
"i s t he s ou nd t ha t c or re sp on ds t o a s in gl e v ow el o r c on so na nt , b ut t he re a re s om e c om pl ic a-"
"t io ns: c om bi na ti on s o fl et te rs ,s uc ha s“t h”a nd“n g”p ro du ce si ng le ph on es , a nd so me le tt er s"
"p ro du ce di ff er en tp ho ne si nd if fe re nt co nt ex ts(e .g .,t he“a”i nr at an dr at e . Fi gu re 23.14 l is ts"
Se ct io n 23.5. Sp ee ch Re co gn it io n 915
"a ll th ep ho ne s t ha ta re us ed i n En gl is h , w it ha ne xa mp le of ea ch . Ap ho ne me is th es ma ll es t"
PHONEME
"u ni t o f s ou nd t ha t h as a d is ti nc t m ea ni ng t o s pe ak er s o f a p ar ti cu la r l an gu ag e . Fo re xa mp le ,"
t he“t”i n“s ti ck”s ou nd s s im il ar en ou gh t ot he“t”i n“t ic k”t ha ts pe ak er s o f En gl is hc on si de r
"t he m t he sa me ph on em e . Bu tt he di ff er en ce i ss ig ni fi ca nt i nt he Th ai la ng ua ge , s ot he re t he y"
a re tw op ho ne me s . To re pr es en ts po ke n En gl is hw ew an ta re pr es en ta ti on th at ca nd is ti ng ui sh
"b et we en di ff er en tp ho ne me s ,b ut on et ha tn ee dn ot di st in gu is ht he no np ho ne mi cv ar ia ti on si n"
"s ou nd: l ou do rs of t ,f as to rs lo w ,m al eo rf em al ev oi ce ,e tc ."
"Fi rs t , w e o bs er ve t ha t a lt ho ug h t he s ou nd f re qu en ci es i n s pe ec h m ay b e s ev er al k Hz ,"
"t he c ha ng es i n t he c on te nt o f t he s ig na l o cc ur m uc h l es s o ft en , p er ha ps a t n o m or e t ha n 100"
"Hz . Th er ef or e , s pe ec hs ys te ms su mm ar iz et he pr op er ti es o ft he si gn al ov er ti me sl ic es ca ll ed"
"f ra me s . Af ra me le ng th o fa bo ut 10 m il li se co nd s (i .e .,80 s am pl es a t 8 k Hz)i ss ho rt e no ug h"
FRAME
t oe ns ur et ha tf ew sh or t-d ur at io n p he no me na w il lb em is se d . Ov er la pp in g f ra me sa re us ed to
m ak es ur et ha tw ed on’t mi ss as ig na lb ec au se i th ap pe ns t of al lo na fr am eb ou nd ar y .
Ea ch fr am e i ss um ma ri ze d b ya ve ct or of f ea tu re s . Pi ck in g o ut fe at ur es f ro m a sp ee ch
FEATURE
s ig na l i s l ik e l is te ni ng t o a n o rc he st ra a nd s ay in g “h er e t he Fr en ch h or ns a re p la yi ng l ou dl y
a nd t he v io li ns a re p la yi ng s of tl y .” We’l l g iv e a b ri ef o ve rv ie w o f t he f ea tu re s i n a t yp ic al
"s ys te m . Fi rs t , a Fo ur ie r t ra ns fo rm i s u se d t o d et er mi ne t he a mo un t o f a co us ti c e ne rg y a t"
a bo ut a d oz en f re qu en ci es . Th en w e c om pu te a m ea su re c al le d t he m el f re qu en cy c ep st ra l
MELFREQUENCY
CEPSTRAL c oe ff ic ie nt (MFCC) o r MFCC f or e ac h f re qu en cy . We a ls o c om pu te t he t ot al e ne rg y i n
COEFFICIENT(MFCC)
t he f ra me . Th at g iv es t hi rt ee n f ea tu re s ; f or e ac h o ne w e c om pu te t he d if fe re nc e b et we en
"t hi s f ra me a nd t he p re vi ou s f ra me , a nd t he d if fe re nc e b et we en d if fe re nc es , f or a t ot al o f 39"
f ea tu re s . Th es e a re co nt in uo us-v al ue d ; t he ea si es t w ay to fi tt he m i nt ot he HMMf ra me wo rk
i st od is cr et iz et he va lu es . (It is al so po ss ib le to ex te nd th e HMMm od el to ha nd le co nt in uo us
m ix tu re s o f Ga us si an s .) Fi gu re 23.15 s ho ws t he s eq ue nc e o f t ra ns fo rm at io ns f ro m t he r aw
s ou nd to as eq ue nc e o ff ra me sw it hd is cr et e f ea tu re s .
"We h av e s ee n h ow t o g o f ro m t he r aw a co us ti c s ig na l t o a s er ie s o f o bs er va ti on s , e ."
t
No w w e h av e t o d es cr ib e t he (u no bs er va bl e) s ta te s o f t he HMM a nd d ef in e t he t ra ns it io n
"m od el , P(X t|X t−1), a nd t he s en so r m od el , P(E t|X t). Th e t ra ns it io n m od el c an b e b ro ke n"
i nt o t wo l ev el s: w or d a nd p ho ne . We’l l s ta rt f ro m t he b ot to m: t he p ho ne m od el d es cr ib es
PHONEMODEL
An al og a co us ti c s ig na l:
"Sa mp le d , q ua nt iz ed"
d ig it al s ig na l:
10 15 38 22 63 24 10 12 73
Fr am es w it h f ea tu re s:
52 47 82 89 94 11
Fi gu re 23.15 Tr an sl at in gt he a co us ti c s ig na l i nt o a s eq ue nc e o f f ra me s . In t hi s d ia gr am
e ac h f ra me i s d es cr ib ed b y t he d is cr et iz ed v al ue s o f t hr ee a co us ti c f ea tu re s ; a r ea l s ys te m
w ou ld ha ve do ze ns of fe at ur es .
916 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
Ph on e HMM f or [m]:
0.3 0.9 0.4
0.7 0.1 0.6
On se t Mi d En d FINAL
Ou tp ut p ro ba bi li ti es f or t he p ho ne HMM:
On se t: Mi d: En d:
C : 0.5 C : 0.2 C : 0.1
1 3 4
C : 0.2 C : 0.7 C : 0.5
2 4 6
C : 0.3 C : 0.1 C : 0.4
3 5 7
Fi gu re 23.16 An HMM f or t he t hr ee-s ta te p ho ne [m]. Ea ch s ta te h as s ev er al p os si bl e
"o ut pu ts ,e ac hw it hi ts ow np ro ba bi li ty .Th e MFCCf ea tu re la be ls C t hr ou gh C a re ar bi tr ar y ,"
1 7
s ta nd in gf or so me co mb in at io no ff ea tu re va lu es .
(a) Wo rd m od el w it h d ia le ct v ar ia ti on:
0.5 [e y] 1.0
1.0 1.0 1.0
[t] [o w] [m] [t] [o w]
0.5 1.0
[a a]
(b) Wo rd m od el w it h c oa rt ic ul at io n a nd d ia le ct v ar:i at io ns
0.2 [o w] 1.0 0.5 [e y] 1.0
1.0
[t] [m] [t] [o w]
0.8 1.0 0.5 1.0
[a h] [a a]
Fi gu re 23.17 Tw op ro nu nc ia ti on mo de ls of th ew or d“t om at o .” Ea ch mo de li s s ho wn as
a tr an si ti on di ag ra mw it hs ta te sa sc ir cl es an da rr ow ss ho wi ng al lo we dt ra ns it io ns wi th th ei r
a ss oc ia te dp ro ba bi li ti es . (a)Am od el al lo wi ng fo rd ia le ct d if fe re nc es . Th e 0.5 n um be rs ar e
e st im at es ba se do nt he tw oa ut ho rs’p re fe rr ed pr on un ci at io ns .(b)Am od el wi th ac oa rt ic ul a-
"t io ne ff ec to nt he fi rs tv ow el ,a ll ow in ge it he rt he[o w]o rt he[a h]p ho ne ."
Se ct io n 23.5. Sp ee ch Re co gn it io n 917
"a p ho ne a s t hr ee s ta te s , t he o ns et , m id dl e , a nd e nd . Fo r e xa mp le , t he [t] p ho ne h as a s il en t"
"b eg in ni ng , a sm al le xp lo si ve b ur st o fs ou nd i nt he mi dd le , a nd(u su al ly) a hi ss in g a tt he en d ."
"Fi gu re 23.16 s ho ws a n e xa mp le f or t he p ho ne [m]. No te t ha t i n n or ma l s pe ec h , a n a ve ra ge"
"p ho ne h as a d ur at io n o f 50–100 m il li se co nd s , o r 5–10 f ra me s . Th e s el f-l oo ps i n e ac h s ta te"
"a ll ow sf or va ri at io n i nt hi s d ur at io n . By ta ki ng m an ys el f-l oo ps (e sp ec ia ll y i nt he m id st at e),"
w e c an r ep re se nt a l on g “m mm mm mm mm mm” s ou nd . By pa ss in g t he s el f-l oo ps y ie ld s a
s ho rt“m”s ou nd .
PRONUNCIATION In Fi gu re 23.17 t he p ho ne m od el s a re s tr un g t og et he r t o f or m a p ro nu nc ia ti on m od el
MODEL
"f or a w or d . Ac co rd in g t o Ge rs hw in (1937), y ou s ay [t o w m e y t o w] a nd I s ay [t o w m a a t"
o w]. Fi gu re 23.17(a) s ho ws a t ra ns it io n m od el t ha t p ro vi de s f or t hi s d ia le ct v ar ia ti on . Ea ch
o ft he ci rc le si nt hi sd ia gr am re pr es en ts a ph on em od el li ke th eo ne in Fi gu re 23.16.
"In ad di ti on t od ia le ct v ar ia ti on , w or ds ca n h av e c oa rt ic ul at io n v ar ia ti on . Fo re xa mp le ,"
"t he [t] p ho ne i s p ro du ce d w it h t he t on gu e a t t he t op o f t he m ou th , w he re as t he [o w] h as t he"
"t on gu e n ea r t he b ot to m . Wh en s pe ak in g q ui ck ly , t he t on gu e d oe sn’t h av e t im e t o g et i nt o"
"p os it io n f or t he [o w], a nd w e e nd u p w it h [t a h] r at he r t ha n [t o w]. Fi gu re 23.17(b) g iv es"
a m od el f or “t om at o” t ha t t ak es t hi s c oa rt ic ul at io n e ff ec t i nt o a cc ou nt . Mo re s op hi st ic at ed
p ho ne mo de ls ta ke in to ac co un tt he co nt ex to ft he su rr ou nd in g p ho ne s .
Th er e c an b e s ub st an ti al v ar ia ti on i n p ro nu nc ia ti on f or a w or d . Th e m os t c om mo n
"p ro nu nc ia ti on o f “b ec au se” i s [b i y k a h z], b ut t ha t o nl y a cc ou nt s f or a bo ut a q ua rt er o f"
"u se s . An ot he rq ua rt er(a pp ro xi ma te ly) s ub st it ut es [i x],[i h]o r[a x]f or th ef ir st vo we l ,a nd th e"
"r em ai nd er s ub st it ut e [a x] o r [a a] f or t he s ec on d v ow el , [z h] o r [s] f or t he f in al [z], o r d ro p"
"“b e”e nt ir el y , l ea vi ng“c uz .”"
23.5.2 La ng ua ge mo de l
"Fo r g en er al-p ur po se s pe ec h r ec og ni ti on , t he l an gu ag e m od el c an b e a n n-g ra m m od el o f"
"t ex t l ea rn ed f ro m a c or pu s o f w ri tt en s en te nc es . Ho we ve r , s po ke n l an gu ag e h as d if fe re nt"
"c ha ra ct er is ti cs t ha n w ri tt en l an gu ag e , s o i t i s b et te r t o g et a c or pu s o f t ra ns cr ip ts o f s po ke n"
"l an gu ag e . Fo r t as k-s pe ci fi c s pe ec h r ec og ni ti on , t he c or pu s s ho ul d b e t as k-s pe ci fi c: t o b ui ld"
"y ou ra ir li ne re se rv at io ns ys te m ,g et tr an sc ri pt so fp ri or ca ll s . It al so he lp st oh av et as k-s pe ci fi c"
"v oc ab ul ar y , s uc ha sa li st of al lt he ai rp or ts an dc it ie ss er ve d ,a nd al lt he fl ig ht nu mb er s ."
Pa rt of th ed es ig no fa vo ic eu se ri nt er fa ce is to co er ce th eu se ri nt os ay in gt hi ng sf ro ma
"l im it ed se to fo pt io ns ,s ot ha tt he sp ee ch re co gn iz er wi ll ha ve at ig ht er pr ob ab il it yd is tr ib ut io n"
"t od ea l w it h . Fo re xa mp le , a sk in g “Wh at c it y d o y ou w an tt o g o t o ?” e li ci ts a re sp on se w it h"
"a hi gh ly co ns tr ai ne d l an gu ag e m od el ,w hi le as ki ng“Ho wc an Ih el py ou ?” d oe sn ot ."
23.5.3 Bu il di ng a s pe ec h r ec og ni ze r
Th eq ua li ty of as pe ec hr ec og ni ti on s ys te md ep en ds on th eq ua li ty of al lo fi ts co mp on en ts—
"t he l an gu ag e m od el , t he w or d-p ro nu nc ia ti on m od el s , t he p ho ne m od el s , a nd t he s ig na l-"
p ro ce ss in g a lg or it hm s u se d t o e xt ra ct s pe ct ra l f ea tu re s f ro m t he a co us ti c s ig na l . We h av e
"d is cu ss ed h ow t he l an gu ag e m od el c an b e c on st ru ct ed f ro m a c or pu s o f w ri tt en t ex t , a nd w e"
l ea ve t he d et ai ls o f s ig na l p ro ce ss in g t o o th er t ex tb oo ks . We a re l ef t w it h t he p ro nu nc ia ti on
a nd ph on em od el s . Th es tr uc tu re of th ep ro nu nc ia ti on mo de ls—s uc ha st he to ma to mo de ls in
918 Ch ap te r 23. Na tu ra l La ng ua ge fo r Co mm un ic at io n
Fi gu re 23.17—i su su al ly de ve lo pe db yh an d . La rg ep ro nu nc ia ti on d ic ti on ar ie s a re no wa va il-
"a bl e f or En gl is h a nd o th er l an gu ag es , a lt ho ug h t he ir a cc ur ac y v ar ie s g re at ly . Th e s tr uc tu re"
"o f t he t hr ee-s ta te p ho ne m od el s i s t he s am e f or a ll p ho ne s , a s s ho wn i n Fi gu re 23.16. Th at"
l ea ve st he pr ob ab il it ie s t he ms el ve s .
"As us ua l , w ew il la cq ui re t he pr ob ab il it ie s f ro m a co rp us , t hi st im ea co rp us o fs pe ec h ."
Th e m os t c om mo n t yp e o f c or pu s t o o bt ai n i s o ne t ha t i nc lu de s t he s pe ec h s ig na l f or e ac h
s en te nc e p ai re d w it h a t ra ns cr ip t o f t he w or ds . Bu il di ng a m od el f ro m t hi s c or pu s i s m or e
"d if fi cu lt t ha n b ui ld in g a n n-g ra m m od el o f t ex t , b ec au se w e h av e t o b ui ld a h id de n Ma rk ov"
m od el—t he ph on es eq ue nc ef or ea ch wo rd an dt he ph on es ta te fo re ac ht im ef ra me ar eh id de n
"v ar ia bl es . In t he e ar ly d ay s o f s pe ec h r ec og ni ti on , t he h id de n v ar ia bl es w er e p ro vi de d b y"
l ab or io us h an d-l ab el in g o f s pe ct ro gr am s . Re ce nt s ys te ms u se e xp ec ta ti on–m ax im iz at io n t o
a ut om at ic al ly su pp ly th em is si ng da ta . Th ei de ai ss im pl e: g iv en an HMMa nd an ob se rv at io n
"s eq ue nc e , w ec an u se t he sm oo th in g a lg or it hm s f ro m Se ct io ns 15.2 a nd 15.3 t oc om pu te t he"
"p ro ba bi li ty o fe ac hs ta te at ea ch ti me st ep an d ,b ya si mp le ex te ns io n , t he pr ob ab il it y o fe ac h"
s ta te–s ta te p ai r a t c on se cu ti ve t im e s te ps . Th es e p ro ba bi li ti es c an b e v ie we d a s u nc er ta in
"l ab el s . Fr om t he u nc er ta in l ab el s , w e c an e st im at e n ew t ra ns it io n a nd s en so r p ro ba bi li ti es ,"
a nd t he EM p ro ce du re r ep ea ts . Th e m et ho d i s g ua ra nt ee d t o i nc re as e t he f it b et we en m od el
"a nd da ta on ea ch it er at io n ,a nd it ge ne ra ll yc on ve rg es to am uc hb et te rs et of pa ra me te rv al ue s"
"t ha nt ho se pr ov id ed by th ei ni ti al , h an d-l ab el ed e st im at es ."
Th e s ys te ms w it h t he h ig he st a cc ur ac y w or k b y t ra in in g a d if fe re nt m od el f or e ac h
"s pe ak er , t he re by c ap tu ri ng d if fe re nc es i nd ia le ct a sw el la sm al e/f em al e a nd ot he rv ar ia ti on s ."
"Th is t ra in in g c an r eq ui re s ev er al h ou rs o f i nt er ac ti on w it h t he s pe ak er , s o t he s ys te ms w it h"
t he mo st wi de sp re ad a do pt io n d on ot cr ea te sp ea ke r-s pe ci fi c m od el s .
"Th ea cc ur ac yo fa sy st em de pe nd so na nu mb er of fa ct or s . Fi rs t ,t he qu al it yo ft he si gn al"
m at te rs: a hi gh-q ua li ty di re ct io na lm ic ro ph on ea im ed at as ta ti on ar ym ou th in ap ad de dr oo m
w il l d o m uc h b et te r t ha n a c he ap m ic ro ph on e t ra ns mi tt in g a s ig na l o ve r p ho ne l in es f ro m a
c ar i n t ra ff ic w it h t he r ad io p la yi ng . Th e v oc ab ul ar y s iz e m at te rs: w he n r ec og ni zi ng d ig it
"s tr in gs w it ha vo ca bu la ry o f 11 w or ds(1-9 p lu s“o h”a nd“z er o”), t he wo rd er ro rr at ew il lb e"
"b el ow 0.5%, w he re as i t r is es t o a bo ut 10% o n n ew s s to ri es w it h a 20,000-w or d v oc ab ul ar y ,"
"a nd 20%o na co rp us wi th a 64,000-w or dv oc ab ul ar y . Th et as km at te rs to o: w he nt he sy st em"
i s t ry in g t o a cc om pl is h a s pe ci fi c t as k—b oo k a f li gh t o r g iv e d ir ec ti on s t o a r es ta ur an t—t he
t as kc an of te nb ea cc om pl is he d p er fe ct ly e ve nw it ha wo rd er ro rr at eo f 10%o rm or e .
23.6 SUMMARY
Na tu ra l l an gu ag e u nd er st an di ng i s o ne o f t he m os t i mp or ta nt s ub fi el ds o f AI . Un li ke m os t
"o th er ar ea so f AI ,n at ur al la ng ua ge un de rs ta nd in gr eq ui re s a ne mp ir ic al in ve st ig at io no fa ct ua l"
h um an be ha vi or—w hi ch t ur ns ou tt ob ec om pl ex an di nt er es ti ng .
"• Fo rm al l an gu ag e t he or y a nd p hr as e s tr uc tu re g ra mm ar s (a nd i n p ar ti cu la r , c on te xt-"
f re e g ra mm ar) a re u se fu l t oo ls f or de al in g w it hs om e a sp ec ts o f n at ur al l an gu ag e . Th e
p ro ba bi li st ic c on te xt-f re e g ra mm ar(PCFG)f or ma li sm is wi de ly us ed .
24
PERCEPTION
"In wh ic hw ec on ne ct t he co mp ut er to th er aw ,u nw as he dw or ld ."
Pe rc ep ti on pr ov id es ag en ts wi th in fo rm at io na bo ut th ew or ld th ey in ha bi tb yi nt er pr et in g t he
PERCEPTION
r es po ns e o f s en so rs . A s en so r m ea su re s s om e a sp ec t o f t he e nv ir on me nt i n a f or m t ha t c an
SENSOR
"b eu se da si np ut by an ag en tp ro gr am . Th es en so rc ou ld be as si mp le as as wi tc h ,w hi ch gi ve s"
"o ne bi tt el li ng wh et he ri ti so no ro ff ,o ra sc om pl ex as th ee ye . Av ar ie ty of se ns or ym od al it ie s"
"a re a va il ab le t o a rt if ic ia l a ge nt s . Th os e t he y s ha re w it h h um an s i nc lu de v is io n , h ea ri ng , a nd"
"t ou ch . Mo da li ti es t ha t a re n ot a va il ab le t o t he u na id ed h um an i nc lu de r ad io , i nf ra re d , GPS ,"
"a nd wi re le ss si gn al s . So me ro bo ts do ac ti ve se ns in g ,m ea ni ng th ey se nd ou ta si gn al ,s uc ha s"
"r ad ar or ul tr as ou nd , a nd se ns et he re fl ec ti on of th is si gn al of fo ft he en vi ro nm en t . Ra th er th an"
"t ry in gt oc ov er al lo ft he se , t hi sc ha pt er wi ll co ve ro ne mo da li ty in de pt h: v is io n ."
"We s aw i n o ur d es cr ip ti on o f POMDPs (Se ct io n 17.4, p ag e 658) t ha t a m od el-b as ed"
d ec is io n-t he or et ic a ge nt i n a p ar ti al ly o bs er va bl e e nv ir on me nt h as a s en so r m od el—a p ro b-
"a bi li ty d is tr ib ut io n P(E|S) o ve r t he e vi de nc e t ha t i ts s en so rs p ro vi de , g iv en a s ta te o f t he"
w or ld . Ba ye s’r ul ec an th en be us ed to up da te th ee st im at io no ft he st at e .
"Fo r v is io n , t he s en so r m od el c an b e b ro ke n i nt o t wo c om po ne nt s: An o bj ec t m od el"
OBJECTMODEL
"d es cr ib es t he o bj ec ts t ha t i nh ab it t he v is ua l w or ld—p eo pl e , b ui ld in gs , t re es , c ar s , e tc . Th e"
o bj ec tm od el co ul di nc lu de ap re ci se 3 Dg eo me tr ic mo de lt ak en fr om ac om pu te r-a id ed de si gn
"(CAD)s ys te m ,o ri tc ou ld be va gu ec on st ra in ts ,s uc ha st he fa ct th at hu ma ne ye sa re us ua ll y 5"
"t o 7 c ma pa rt . Ar en de ri ng mo de ld es cr ib es th ep hy si ca l ,g eo me tr ic ,a nd st at is ti ca lp ro ce ss es"
RENDERINGMODEL
"t ha t p ro du ce t he st im ul us f ro m t he wo rl d . Re nd er in g m od el s a re q ui te a cc ur at e , b ut t he y a re"
"a mb ig uo us . Fo r e xa mp le , a w hi te o bj ec t u nd er l ow l ig ht m ay a pp ea r a s t he s am e c ol or a s a"
b la ck o bj ec t u nd er in te ns e l ig ht . As ma ll n ea rb y o bj ec t m ay lo ok t he sa me a sa l ar ge d is ta nt
"o bj ec t . Wi th ou t a dd it io na l e vi de nc e , w e c an no t t el l i f t he i ma ge t ha t f il ls t he f ra me i s a t oy"
Go dz il la or ar ea lm on st er .
"Am bi gu it y c an b e m an ag ed w it h p ri or k no wl ed ge—w e k no w Go dz il la i s n ot r ea l , s o"
"t he i ma ge m us t b e a t oy—o r b y s el ec ti ve ly c ho os in g t o i gn or e t he a mb ig ui ty . Fo r e xa mp le ,"
t he v is io n s ys te m f or a n a ut on om ou s c ar m ay n ot b e a bl e t o i nt er pr et o bj ec ts t ha t a re f ar i n
"t he d is ta nc e , b ut t he a ge nt c an c ho os e t o i gn or e t he p ro bl em , b ec au se i t i s u nl ik el y t o c ra sh"
i nt oa no bj ec tt ha ti sm il es aw ay .
928
Se ct io n 24.1. Im ag e Fo rm at io n 929
Ad ec is io n-t he or et ic a ge nt i sn ot t he on ly ar ch it ec tu re t ha t c an ma ke us eo fv is io n s en-
"s or s . Fo re xa mp le , f ru it f li es (Dr os op hi la) a re i n p ar t r ef le x a ge nt s: t he y h av e c er vi ca l g ia nt"
f ib er st ha tf or ma di re ct pa th wa yf ro mt he ir vi su al sy st em to th ew in gm us cl es th at in it ia te an
"e sc ap e r es po ns e—a n i mm ed ia te r ea ct io n , w it ho ut d el ib er at io n . Fl ie s a nd m an y o th er f ly in g"
a ni ma ls m ak e u se d o f a c lo se d-l oo p c on tr ol a rc hi te ct ur e t o l an d o n a n o bj ec t . Th e v is ua l
"s ys te m e xt ra ct s a n e st im at e o f t he d is ta nc e t o t he o bj ec t , a nd t he c on tr ol s ys te m a dj us ts t he"
"w in gm us cl es ac co rd in gl y ,a ll ow in gv er yf as tc ha ng es of di re ct io n ,w it hn on ee df or ad et ai le d"
m od el of th eo bj ec t .
Co mp ar ed t o t he d at a f ro m o th er s en so rs (s uc h a s t he s in gl e b it t ha t t el ls t he v ac uu m
"r ob ot t ha t i t h as b um pe d i nt o a w al l), v is ua l o bs er va ti on s a re e xt ra or di na ri ly r ic h , b ot h i n"
t he d et ai l t he y c an r ev ea l a nd i n t he s he er a mo un t o f d at a t he y p ro du ce . A v id eo c am er a
f or r ob ot ic a pp li ca ti on s m ig ht p ro du ce a m il li on 24-b it p ix el s a t 60 Hz ; a r at e o f 10 GB p er
m in ut e . Th e p ro bl em f or a v is io n-c ap ab le a ge nt t he n i s: Wh ic h a sp ec ts o f t he r ic h v is ua l
"s ti mu lu ss ho ul db ec on si de re dt oh el pt he ag en tm ak eg oo da ct io nc ho ic es ,a nd wh ic ha sp ec ts"
"s ho ul d b e i gn or ed ? Vi si on—a nd a ll p er ce pt io n—s er ve s t o f ur th er t he a ge nt’s g oa ls , n ot a s"
a ne nd to it se lf .
FEATURE We c an c ha ra ct er iz e t hr ee b ro ad a pp ro ac he s t o t he p ro bl em . Th e f ea tu re e xt ra ct io n
EXTRACTION
"a pp ro ac h , a s e xh ib it ed b y Dr os op hi la , e mp ha si ze s s im pl e c om pu ta ti on s a pp li ed d ir ec tl y t o"
t he s en so r o bs er va ti on s . In th e r ec og ni ti on a pp ro ac h a n a ge nt d ra ws di st in ct io ns a mo ng t he
RECOGNITION
o bj ec ts it en co un te rs ba se do nv is ua la nd ot he ri nf or ma ti on . Re co gn it io nc ou ld me an la be li ng
"e ac hi ma ge wi th ay es or no as to wh et he ri tc on ta in sf oo dt ha tw es ho ul df or ag e ,o rc on ta in s"
"Gr an dm a’s f ac e . Fi na ll y , i n t he r ec on st ru ct io n a pp ro ac h a n a ge nt b ui ld s a ge om et ri c m od el"
RECONSTRUCTION
o ft he wo rl df ro ma ni ma ge or as et of im ag es .
Th e l as t t hi rt y y ea rs o f r es ea rc h h av e p ro du ce d p ow er fu l t oo ls a nd m et ho ds f or a d-
d re ss in g t he se a pp ro ac he s . Un de rs ta nd in g t he se m et ho ds r eq ui re s a n u nd er st an di ng o f t he
"p ro ce ss es b yw hi ch i ma ge sa re fo rm ed . Th er ef or e , w en ow co ve rt he ph ys ic al a nd st at is ti ca l"
p he no me na t ha to cc ur in th ep ro du ct io n o fa ni ma ge .
24.1 IMAGE FORMATION
"Im ag in g d is to rt s t he a pp ea ra nc e o f o bj ec ts . Fo r e xa mp le , a p ic tu re t ak en l oo ki ng d ow n a"
l on g s tr ai gh t s et o f r ai lw ay t ra ck s w il l s ug ge st t ha t t he r ai ls c on ve rg e a nd m ee t . As a no th er
"e xa mp le , i f y ou h ol d y ou r h an d i n f ro nt o f y ou r e ye , y ou c an b lo ck o ut t he m oo n , w hi ch i s"
"n ot s ma ll er t ha n y ou r h an d . As yo u m ov ey ou r h an d b ac k a nd f or th o rt il t i t , y ou r h an d w il l"
"s ee m t os hr in k a nd g ro w i n t he i ma ge , b ut i ti s n ot d oi ng s o i nr ea li ty (Fi gu re 24.1). Mo de ls"
o ft he se ef fe ct sa re es se nt ia l f or bo th re co gn it io n a nd re co ns tr uc ti on .
24.1.1 Im ag es wi th ou tl en se s: Th e p in ho le ca me ra
Im ag e s en so rs g at he r l ig ht s ca tt er ed f ro m o bj ec ts i n a s ce ne a nd c re at e a t wo-d im en si on al
SCENE
"i ma ge . In t he e ye , t he i ma ge i s f or me d o n t he r et in a , w hi ch c on si st s o f t wo t yp es o f c el ls:"
IMAGE
"a bo ut 100 m il li on r od s , w hi ch a re s en si ti ve t o l ig ht a t a w id e r an ge o f w av el en gt hs , a nd 5"
930 Ch ap te r 24. Pe rc ep ti on
"Fi gu re 24.1 Im ag in gd is to rt sg eo me tr y . Pa ra ll el l in es a pp ea rt o m ee t i n t he d is ta nc e , a s"
"i nt he im ag eo ft he ra il wa yt ra ck so nt he le ft . In th ec en te r ,a s ma ll ha nd bl oc ks ou tm os to f"
"a l ar ge mo on . On th e r ig ht is a f or es ho rt en in ge ff ec t: t he ha nd is ti lt ed a wa yf ro mt he e ye ,"
m ak in gi ta pp ea rs ho rt er th an in th ec en te rf ig ur e .
"m il li on c on es . Co ne s , w hi ch a re e ss en ti al f or c ol or v is io n , a re o f t hr ee m ai n t yp es , e ac h o f"
"w hi ch i s s en si ti ve t o a d if fe re nt s et o f w av el en gt hs . In c am er as , t he i ma ge i s f or me d o n a n"
"i ma ge p la ne , w hi ch c an b e a p ie ce o f f il m c oa te d w it h s il ve r h al id es o r a r ec ta ng ul ar g ri d"
"o f a f ew m il li on p ho to se ns it iv e p ix el s , e ac h a c om pl em en ta ry m et al-o xi de s em ic on du ct or"
PIXEL
(CMOS) o r c ha rg e-c ou pl ed d ev ic e (CCD). Ea ch p ho to n a rr iv in g a t t he s en so r p ro du ce s a n
"e ff ec t , w ho se s tr en gt h d ep en ds o n t he w av el en gt h o f t he p ho to n . Th e o ut pu t o f t he s en so r"
"i s t he s um o f a ll e ff ec ts d ue t o p ho to ns o bs er ve d i n s om e t im e w in do w , m ea ni ng t ha t i ma ge"
s en so rs re po rt aw ei gh te da ve ra ge of th ei nt en si ty o fl ig ht ar ri vi ng at th es en so r .
"To s ee a f oc us ed i ma ge , w e m us t e ns ur e t ha t a ll t he p ho to ns f ro m a pp ro xi ma te ly t he"
s am es po ti nt he sc en ea rr iv ea ta pp ro xi ma te ly th es am ep oi nt in th ei ma ge pl an e . Th es im pl es t
"w ay t o f or m a f oc us ed i ma ge i s t o v ie w s ta ti on ar y o bj ec ts w it h a p in ho le c am er a , w hi ch"
PINHOLECAMERA
"c on si st s o fa pi nh ol e o pe ni ng , O ,a tt he fr on to fa bo x , a nd a ni ma ge pl an e a tt he ba ck of th e"
"b ox (Fi gu re 24.2). Ph ot on s f ro m t he s ce ne m us t p as s t hr ou gh t he p in ho le , s o i f i t i s s ma ll"
"e no ug h t he n n ea rb y p ho to ns i n t he s ce ne w il l b e n ea rb y i n t he i ma ge p la ne , a nd t he i ma ge"
w il lb ei nf oc us .
Th eg eo me tr yo fs ce ne an di ma ge is ea si es tt ou nd er st an d w it ht he pi nh ol ec am er a . We
"u se at hr ee-d im en si on al c oo rd in at es ys te mw it ht he or ig in at th ep in ho le ,a nd co ns id er ap oi nt"
(c id:2)
"P i n t he s ce ne , w it h c oo rd in at es (X ,Y ,Z). P g et s p ro je ct ed t o t he p oi nt P i n t he i ma ge"
"p la ne wi th co or di na te s (x ,y ,z). If f i st he di st an ce fr om th ep in ho le to th ei ma ge pl an e ,t he n"
"b ys im il ar tr ia ng le s , w ec an de ri ve th ef ol lo wi ng eq ua ti on s:"
−x X −y Y −f X −f Y
"= , = ⇒ x = , y = ."
f Z f Z Z Z
PERSPECTIVE Th es e e qu at io ns d ef in e a ni ma ge-f or ma ti on p ro ce ss k no wn a s p er sp ec ti ve p ro je ct io n . No te
PROJECTION
"t ha t t he Z i nt he d en om in at or m ea ns t ha t t he f ar th er a wa ya n o bj ec t i s , t he s ma ll er it s i ma ge"
Se ct io n 24.1. Im ag e Fo rm at io n 931
Im ag e
p la ne Y P
X
Z
P′
Pi nh ol e
f
Fi gu re 24.2 Ea ch li gh t-s en si ti ve el em en ti nt he im ag ep la ne at th eb ac ko fa pi nh ol ec am-
e ra re ce iv es li gh tf ro ma th es ma ll ra ng eo fd ir ec ti on st ha tp as se st hr ou gh th ep in ho le . If th e
"p in ho le is sm al le no ug h ,t he re su lt is af oc us ed im ag ea tt he ba ck of th ep in ho le .Th ep ro ce ss"
"o fp ro je ct io nm ea ns th at la rg e ,d is ta nt ob je ct sl oo kt he sa me as sm al le r ,n ea rb yo bj ec ts .No te"
t ha tt he im ag ei sp ro je ct ed up si de do wn .
"w il l b e . Al so , n ot e t ha t t he m in us s ig ns m ea n t ha t t he i ma ge i s i nv er te d , b ot h l ef t–r ig ht a nd"
"u p–d ow n , c om pa re dw it ht he sc en e ."
"Un de r p er sp ec ti ve p ro je ct io n , d is ta nt o bj ec ts l oo k s ma ll . Th is i s w ha t a ll ow s y ou t o"
c ov er th em oo nw it hy ou rh an d(Fi gu re 24.1). An im po rt an tr es ul to ft hi se ff ec ti st ha tp ar al le l
"l in es co nv er ge t oa po in to nt he ho ri zo n . (Th in ko fr ai lw ay tr ac ks , Fi gu re 24.1.) Al in ei nt he"
"s ce ne in th ed ir ec ti on (U ,V ,W)a nd pa ss in gt hr ou gh th ep oi nt(X ,Y ,Z )c an be de sc ri be d"
0 0 0
"a s t he s et o f p oi nt s (X +λU ,Y +λV ,Z +λW), w it h λv ar yi ng b et we en −∞ a nd +∞."
0 0 0
"Di ff er en tc ho ic es o f(X ,Y ,Z )y ie ld di ff er en t l in es pa ra ll el t oo ne an ot he r . Th ep ro je ct io n"
0 0 0
o fa po in t P f ro mt hi sl in eo nt ot he im ag ep la ne is gi ve nb y
(c id:13) λ (c id:14)
X +λU Y +λV
0 0
"f ,f ."
Z +λW Z +λW
0 0
"As λ → ∞ o r λ → −∞, t hi s b ec om es p∞ = (f U/W ,f V/W) i f W (c id:7)= 0. Th is m ea ns t ha t"
"t wo p ar al le l l in es l ea vi ng d if fe re nt p oi nt s i n s pa ce w il l c on ve rg e i n t he i ma ge—f or l ar ge λ,"
"t he im ag ep oi nt sa re ne ar ly th es am e ,w ha te ve rt he va lu eo f(X ,Y ,Z )(a ga in ,t hi nk ra il wa y"
0 0 0
VANISHINGPOINT
"t ra ck s , Fi gu re 24.1). We c al l p∞ t he v an is hi ng p oi nt a ss oc ia te d w it h t he f am il y o f s tr ai gh t"
"l in es wi th di re ct io n(U ,V ,W). Li ne sw it ht he sa me di re ct io ns ha re th es am ev an is hi ng po in t ."
24.1.2 Le ns s ys te ms
Th e d ra wb ac k o f t he p in ho le c am er a i s t ha t w e n ee d a s ma ll p in ho le t o k ee p t he i ma ge i n
"f oc us . Bu tt he sm al le rt he pi nh ol e ,t he fe we rp ho to ns ge tt hr ou gh ,m ea ni ng th ei ma ge wi ll be"
"d ar k . We ca n g at he r m or e p ho to ns b y k ee pi ng t he p in ho le o pe n l on ge r , b ut t he n w ew il l g et"
m ot io n b lu r—o bj ec ts i nt he s ce ne t ha tm ov ew il la pp ea rb lu rr ed b ec au se t he ys en d p ho to ns
MOTIONBLUR
"t o m ul ti pl e l oc at io ns o n t he i ma ge p la ne . If w e c an’t k ee p t he p in ho le o pe n l on ge r , w e c an"
"t ry to ma ke it bi gg er . Mo re li gh tw il le nt er ,b ut li gh tf ro ma sm al lp at ch of ob je ct in th es ce ne"
"w il ln ow be sp re ad ov er ap at ch on th ei ma ge pl an e , c au si ng ab lu rr ed i ma ge ."
932 Ch ap te r 24. Pe rc ep ti on
Im ag e p la ne
Li gh t So ur ce
Ir is
Co rn ea Fo ve a
Vi su al Ax is
Op ti c Ne rv e
Le ns
Op ti ca l Ax is
Le ns
Sy st em Re ti na
"Fi gu re 24.3 Le ns es co ll ec tt he li gh tl ea vi ng as ce ne po in ti na ra ng eo fd ir ec ti on s ,a nd st ee r"
i ta ll to ar ri ve at as in gl ep oi nt on th ei ma ge pl an e . Fo cu si ng wo rk sf or po in ts ly in gc lo se to
"a f oc al p la ne i n s pa ce ; o th er p oi nt s w il l n ot b e f oc us ed p ro pe rl y . In c am er as , e le me nt s o f"
"t he le ns sy st em mo ve to ch an ge th ef oc al pl an e ,w he re as in th ee ye ,t he sh ap eo ft he le ns is"
c ha ng ed by sp ec ia li ze dm us cl es .
Ve rt eb ra te e ye s a nd m od er n c am er as u se a l en s s ys te m t o g at he r s uf fi ci en t l ig ht w hi le
LENS
k ee pi ng t he i ma ge i n f oc us . A l ar ge o pe ni ng i s c ov er ed w it h a l en s t ha t f oc us es l ig ht f ro m
"n ea rb y o bj ec t l oc at io ns d ow nt on ea rb y l oc at io ns i nt he im ag ep la ne . Ho we ve r , l en ss ys te ms"
h av e a l im it ed d ep th o f f ie ld: t he y c an f oc us l ig ht o nl y f ro m p oi nt s t ha t l ie w it hi n a r an ge
DEPTHOFFIELD
o f d ep th s (c en te re d a ro un d a f oc al p la ne). Ob je ct s o ut si de t hi s r an ge w il lb e o ut o f f oc us i n
FOCALPLANE
"t he i ma ge . To mo ve th e f oc al p la ne , t he le ns i nt he e ye ca n c ha ng e s ha pe (Fi gu re 24.3); i n a"
"c am er a ,t he le ns es mo ve ba ck an df or th ."
24.1.3 Sc al ed or th og ra ph ic p ro je ct io n
"Pe rs pe ct iv e e ff ec ts a re n’t a lw ay s p ro no un ce d . Fo r e xa mp le , s po ts o n a d is ta nt l eo pa rd m ay"
"l oo ks ma ll be ca us et he le op ar di sf ar aw ay ,b ut tw os po ts th at ar en ex tt oe ac ho th er wi ll ha ve"
a bo ut th es am es iz e . Th is is be ca us et he di ff er en ce in di st an ce to th es po ts is sm al lc om pa re d
"t ot he di st an ce t ot he m ,a nd so we ca ns im pl if y t he pr oj ec ti on m od el . Th ea pp ro pr ia te m od el"
SCALED i s s ca le d o rt ho gr ap hi c p ro je ct io n . Th e i de a i s a s f ol lo ws: If t he d ep th Z o f p oi nt s o n t he
ORTHOGRAPHIC
"PROJECTION o bj ec t v ar ie s w it hi n s om e r an ge Z ± ΔZ , w it h ΔZ * Z , t he n t he p er sp ec ti ve s ca li ng"
0 0
f ac to r f/Z c an be ap pr ox im at ed b ya co ns ta nt s = f/Z . Th ee qu at io ns f or pr oj ec ti on f ro m
0
"t he s ce ne c oo rd in at es (X ,Y ,Z) t o t he i ma ge p la ne b ec om e x = s X a nd y = s Y . Sc al ed"
o rt ho gr ap hi cp ro je ct io ni sa na pp ro xi ma ti on th at is va li do nl yf or th os ep ar ts of th es ce ne wi th
"n ot mu ch in te rn al de pt hv ar ia ti on . Fo re xa mp le ,s ca le do rt ho gr ap hi c p ro je ct io nc an be ag oo d"
m od el fo rt he fe at ur es on th ef ro nt of ad is ta nt b ui ld in g .
24.1.4 Li gh ta nd s ha di ng
Th e b ri gh tn es s o f a p ix el i n t he i ma ge i s a f un ct io n o f t he b ri gh tn es s o f t he s ur fa ce p at ch i n
t he sc en et ha tp ro je ct st ot he pi xe l . We wi ll as su me al in ea rm od el(c ur re nt ca me ra sh av en on-
"l in ea ri ti es a tt he ex tr em es of li gh ta nd da rk ,b ut ar el in ea r i nt he mi dd le). Im ag eb ri gh tn es s i s"
Se ct io n 24.1. Im ag e Fo rm at io n 933
"Di ff us e r ef le ct io n , b ri gh t"
Sp ec ul ar it ie s
"Di ff us e r ef le ct io n , d ar k Ca st s ha do w"
Fi gu re 24.4 Av ar ie ty of il lu mi na ti on ef fe ct s . Th er ea re sp ec ul ar it ie s o nt he me ta ls po on
a nd on th em il k . Th eb ri gh td if fu se su rf ac ei sb ri gh tb ec au se it fa ce st he li gh td ir ec ti on . Th e
d ar kd if fu se su rf ac ei sd ar kb ec au se it is ta ng en ti al to th ei ll um in at io nd ir ec ti on .Th es ha do ws
a pp ea ra ts ur fa ce po in ts th at ca nn ot se et he li gh ts ou rc e .Ph ot ob y Mi ke Li nk sv ay er(m li nk sv a
o nf li ck r).
"a st ro ng ,i fa mb ig uo us ,c ue to th es ha pe of an ob je ct ,a nd fr om th er et oi ts id en ti ty . Pe op le ar e"
u su al ly a bl e t o d is ti ng ui sh t he t hr ee m ai n c au se s o f v ar yi ng b ri gh tn es s a nd r ev er se-e ng in ee r
t he o bj ec t’s p ro pe rt ie s . Th ef ir st ca us e i s o ve ra ll i nt en si ty o ft he li gh t . Ev en th ou gh a wh it e
OVERALLINTENSITY
"o bj ec t i ns ha do w m ay be le ss br ig ht t ha na bl ac ko bj ec t i nd ir ec ts un li gh t , t he ey ec an di st in-"
"g ui sh re la ti ve br ig ht ne ss we ll ,a nd pe rc ei ve th ew hi te ob je ct as wh it e . Se co nd ,d if fe re nt po in ts"
"i n t he s ce ne m ay r ef le ct m or e o r l es s o f t he l ig ht . Us ua ll y , t he r es ul t i s t ha t p eo pl e p er ce iv e"
REFLECT
"t he se p oi nt s a sl ig ht er or da rk er , a nd so se et ex tu re o rm ar ki ng s o nt he ob je ct . Th ir d , s ur fa ce"
"p at ch es f ac in g t he li gh ta re br ig ht er t ha ns ur fa ce p at ch es t il te d a wa yf ro m t he li gh t , a ne ff ec t"
"k no wn a s s ha di ng . Ty pi ca ll y , p eo pl e c an t el l t ha t t hi s s ha di ng c om es f ro m t he g eo me tr y o f"
SHADING
"t he ob je ct , b ut so me ti me sg et sh ad in g a nd ma rk in gs mi xe du p . Fo re xa mp le , a st re ak of da rk"
"m ak eu pu nd er ac he ek bo ne wi ll of te nl oo kl ik ea sh ad in ge ff ec t ,m ak in gt he fa ce lo ok th in ne r ."
DIFFUSE Mo st s ur fa ce s r ef le ct l ig ht b y a p ro ce ss o f d if fu se r ef le ct io n . Di ff us e r ef le ct io n s ca t-
REFLECTION
"t er sl ig ht ev en ly ac ro ss t he di re ct io ns l ea vi ng a su rf ac e , s ot he br ig ht ne ss o fa di ff us es ur fa ce"
"d oe sn’t d ep en d o nt he vi ew in gd ir ec ti on . Mo st cl ot h , p ai nt s , r ou gh wo od en su rf ac es , v eg et a-"
"t io n , a nd r ou gh s to ne a re d if fu se . Mi rr or s a re n ot d if fu se , b ec au se w ha t y ou s ee d ep en ds o n"
t he d ir ec ti on i n w hi ch y ou l oo k a t t he m ir ro r . Th e b eh av io r o f a p er fe ct m ir ro r i s k no wn a s
"SPECULAR s pe cu la rr ef le ct io n . So me su rf ac es—s uc h a sb ru sh ed m et al , p la st ic , o ra we tf lo or—d is pl ay"
REFLECTION
"s ma ll pa tc he sw he re sp ec ul ar re fl ec ti on h as oc cu rr ed , c al le ds pe cu la ri ti es . Th es ea re ea sy to"
SPECULARITIES
"i de nt if y ,b ec au se th ey ar es ma ll an db ri gh t(Fi gu re 24.4). Fo ra lm os ta ll pu rp os es ,i ti se no ug h"
t om od el al ls ur fa ce s a sb ei ng di ff us ew it hs pe cu la ri ti es .
934 Ch ap te r 24. Pe rc ep ti on
θ
θ
A B
"Fi gu re 24.5 Tw os ur fa ce pa tc he sa re il lu mi na te db ya di st an tp oi nt so ur ce ,w ho se ra ys ar e"
s ho wn a s g ra y a rr ow he ad s . Pa tc h A i s t il te d a wa y f ro m t he s ou rc e (θ i s c lo se t o 900) a nd
"c ol le ct sl es se ne rg y ,b ec au se it cu ts fe we rl ig ht ra ys pe ru ni ts ur fa ce ar ea . Pa tc h B ,f ac in gt he"
"s ou rc e(θi sc lo se to 00),c ol le ct sm or ee ne rg y ."
"Th em ai ns ou rc eo fi ll um in at io n o ut si de is th es un ,w ho se ra ys al lt ra ve lp ar al le lt oo ne"
DISTANTPOINT a no th er . We mo de l t hi s b eh av io r a sa d is ta nt po in tl ig ht s ou rc e . Th is is th em os ti mp or ta nt
LIGHTSOURCE
"m od el o f l ig ht in g , a nd i s q ui te e ff ec ti ve f or i nd oo r s ce ne s a s w el l a s o ut do or s ce ne s . Th e"
a mo un to fl ig ht co ll ec te db ya su rf ac ep at ch in th is mo de ld ep en ds on th ea ng leθb et we en th e
i ll um in at io n d ir ec ti on a nd th en or ma lt ot he su rf ac e .
A d if fu se s ur fa ce p at ch i ll um in at ed b y a d is ta nt p oi nt l ig ht s ou rc e w il l r ef le ct s om e
f ra ct io n o f t he l ig ht i t c ol le ct s ; t hi s f ra ct io n i s c al le d t he d if fu se a lb ed o . Wh it e p ap er a nd
DIFFUSEALBEDO
"s no wh av ea hi gh al be do ,a bo ut 0.90,w he re as fl at bl ac kv el ve ta nd ch ar co al ha ve al ow al be do"
o f a bo ut 0.05 (w hi ch m ea ns t ha t 95% o f t he i nc om in g l ig ht i s a bs or be d w it hi n t he f ib er s o f
LAMBERT’SCOSINE t he ve lv et or th ep or es of th ec ha rc oa l). La mb er t’s co si ne la ws ta te st ha tt he br ig ht ne ss o fa
LAW
d if fu se pa tc hi sg iv en by
"I = ρI c osθ ,"
0
"w he reρi st he di ff us ea lb ed o ,I i st he in te ns it yo ft he li gh ts ou rc ea ndθi st he an gl eb et we en"
0
t he l ig ht s ou rc e d ir ec ti on a nd t he s ur fa ce n or ma l (s ee Fi gu re 24.5). La mp er t’s l aw p re di ct s
b ri gh t i ma ge p ix el s c om e f ro m s ur fa ce p at ch es t ha t f ac e t he l ig ht d ir ec tl y a nd d ar k p ix el s
"c om e f ro m p at ch es t ha t s ee t he l ig ht o nl y t an ge nt ia ll y , s o t ha t t he s ha di ng o n a s ur fa ce p ro-"
v id es s om e s ha pe i nf or ma ti on . We e xp lo re t hi s c ue i n Se ct io n 24.4.5. If t he s ur fa ce i s n ot
"r ea ch ed b yt he li gh t s ou rc e , t he ni ti si n s ha do w . Sh ad ow sa re ve ry se ld om a un if or m b la ck ,"
SHADOW
"b ec au se t he s ha do we d s ur fa ce r ec ei ve s s om e l ig ht f ro m o th er s ou rc es . Ou td oo rs , t he m os t"
"i mp or ta nt s uc h s ou rc e i s t he s ky , w hi ch i s q ui te b ri gh t . In do or s , l ig ht r ef le ct ed f ro m o th er"
s ur fa ce s i ll um in at es s ha do we d p at ch es . Th es e i nt er re fl ec ti on s c an h av e a s ig ni fi ca nt e ff ec t
INTERREFLECTIONS
"o n t he b ri gh tn es s o f o th er s ur fa ce s , t oo . Th es e e ff ec ts a re s om et im es m od el ed b y a dd in g a"
AMBIENT c on st an t a mb ie nt il lu mi na ti on te rm to th ep re di ct ed i nt en si ty .
ILLUMINATION
Se ct io n 24.2. Ea rl y Im ag e-Pr oc es si ng Op er at io ns 935
24.1.5 Co lo r
Fr ui t i s a b ri be t ha t a t re e o ff er s t o a ni ma ls t o c ar ry i ts s ee ds a ro un d . Tr ee s h av e e vo lv ed t o
"h av e f ru it t ha t t ur ns r ed o ry el lo w w he n r ip e , a nd a ni ma ls h av e e vo lv ed t od et ec t t he se c ol or"
c ha ng es . Li gh t a rr iv in g a t t he e ye h as d if fe re nt a mo un ts o f e ne rg y a t d if fe re nt w av el en gt hs ;
t hi sc an be re pr es en te d b ya sp ec tr al en er gy de ns it yf un ct io n . Hu ma ne ye sr es po nd to li gh ti n
"t he 380–750 n m w av el en gt h r eg io n , w it h t hr ee d if fe re nt t yp es o f c ol or r ec ep to r c el ls , w hi ch"
"h av e p ea kr ec ep ti ve ne ss a t 420 m m (b lu e), 540 n m (g re en), a nd 570 n m (r ed). Th eh um an ey e"
c an ca pt ur eo nl ya sm al lf ra ct io no ft he fu ll sp ec tr al en er gy d en si ty fu nc ti on—b ut it is en ou gh
t ot el lw he nt he fr ui ti sr ip e .
"PRINCIPLEOF Th ep ri nc ip le of tr ic hr om ac ys ta te st ha tf or an ys pe ct ra le ne rg yd en si ty ,n om at te rh ow"
TRICHROMACY
"c om pl ic at ed ,i ti sp os si bl et oc on st ru ct an ot he rs pe ct ra le ne rg yd en si ty co ns is ti ng of am ix tu re"
"o fj us tt hr ee co lo rs—u su al ly r ed ,g re en ,a nd bl ue—s uc ht ha t a hu ma nc an’t te ll th ed if fe re nc e"
b et we en t he t wo . Th at m ea ns t ha t o ur TVs a nd c om pu te r d is pl ay s c an g et b y w it h j us t t he
t hr ee r ed/g re en/b lu e (o r R/G/B) c ol or e le me nt s . It m ak es o ur c om pu te r v is io n a lg or it hm s
"e as ie r , t oo . Ea ch s ur fa ce c an b e m od el ed w it h t hr ee d if fe re nt a lb ed os f or R/G/B . Si mi la rl y ,"
e ac h l ig ht s ou rc e c an b e m od el ed w it h t hr ee R/G/B i nt en si ti es . We t he n a pp ly La mb er t’s
"c os in e l aw t o e ac h t o g et t hr ee R/G/B p ix el v al ue s . Th is m od el p re di ct s , c or re ct ly , t ha t t he"
s am e s ur fa ce w il l p ro du ce d if fe re nt c ol or ed i ma ge p at ch es u nd er d if fe re nt-c ol or ed l ig ht s . In
"f ac t ,h um an ob se rv er sa re qu it eg oo da ti gn or in gt he ef fe ct s o fd if fe re nt co lo re dl ig ht sa nd ar e"
"a bl et oe st im at et he co lo ro ft he su rf ac eu nd er wh it el ig ht ,a ne ff ec tk no wn as co lo rc on st an cy ."
COLORCONSTANCY
Qu it ea cc ur at e c ol or co ns ta nc y a lg or it hm s a re no wa va il ab le ; s im pl ev er si on s s ho wu pi nt he
“a ut o w hi te b al an ce” f un ct io n o f y ou r c am er a . No te t ha t i f w e w an te d t o b ui ld a c am er a f or
"m an ti s s hr im p , w e w ou ld n ee d 12 d if fe re nt p ix el c ol or s , c or re sp on di ng t o t he 12 t yp es o f"
c ol or re ce pt or so ft he cr us ta ce an .
24.2 EARLY IMAGE-PROCESSING OPERATIONS
"We ha ve s ee n h ow l ig ht r ef le ct s o ff o bj ec ts i n t he s ce ne t o f or m a n i ma ge c on si st in g o f , s ay ,"
"f iv em il li on 3-b yt e p ix el s . Wi th a ll s en so rs t he re w il l b e n oi se i n t he i ma ge , a nd i n a ny c as e"
t he re is al ot of da ta to de al wi th . So ho wd ow eg et st ar te do na na ly zi ng t hi sd at a ?
"In th is s ec ti on w ew il ls tu dy t hr ee us ef ul i ma ge-p ro ce ss in g o pe ra ti on s: e dg e d et ec ti on ,"
"t ex tu re a na ly si s , a nd c om pu ta ti on o f o pt ic al f lo w . Th es e a re c al le d “e ar ly” o r “l ow-l ev el”"
o pe ra ti on s b ec au se t he y a re t he f ir st i n a p ip el in e o f o pe ra ti on s . Ea rl y v is io n o pe ra ti on s a re
c ha ra ct er iz ed b y t he ir l oc al n at ur e (t he y c an b e c ar ri ed o ut i n o ne p ar t o f t he i ma ge w it ho ut
r eg ar d f or a ny th in g m or e t ha n a f ew p ix el s a wa y) a nd b y t he ir l ac k o f k no wl ed ge: w e c an
p er fo rm t he se o pe ra ti on s w it ho ut c on si de ra ti on o f t he o bj ec ts t ha t m ig ht b e p re se nt i n t he
s ce ne . Th is m ak es t he l ow-l ev el o pe ra ti on s g oo d c an di da te s f or i mp le me nt at io n i n p ar al le l
h ar dw ar e—e it he r i n a g ra ph ic s p ro ce ss or u ni t (GPU) o r a n e ye . We w il l t he n l oo k a t o ne
m id-l ev el op er at io n: s eg me nt in g t he im ag ei nt or eg io ns .
936 Ch ap te r 24. Pe rc ep ti on
A
B
1
2 2
1
1
3
4
Fi gu re 24.6 Di ff er en t k in ds o f e dg es: (1) d ep th d is co nt in ui ti es ; (2) s ur fa ce o ri en ta ti on
d is co nt in ui ti es ;(3)r ef le ct an ce di sc on ti nu it ie s ;(4)i ll um in at io nd is co nt in ui ti es(s ha do ws).
24.2.1 Ed ge de te ct io n
Ed ge s a re s tr ai gh t l in es o r c ur ve s i n t he i ma ge p la ne a cr os s w hi ch t he re i s a “s ig ni fi ca nt”
EDGE
"c ha ng e i n i ma ge b ri gh tn es s . Th e g oa l o f e dg e d et ec ti on i s t o a bs tr ac t a wa y f ro m t he m es sy ,"
"m ul ti me ga by te i ma ge an dt ow ar da mo re co mp ac t , a bs tr ac t r ep re se nt at io n , a si n Fi gu re 24.6."
Th e m ot iv at io n i s t ha t e dg e c on to ur s i n t he i ma ge c or re sp on d t o i mp or ta nt s ce ne c on to ur s .
"In t he f ig ur e w e h av e t hr ee e xa mp le s o f d ep th d is co nt in ui ty , l ab el ed 1; t wo s ur fa ce-n or ma l"
"d is co nt in ui ti es , l ab el ed 2; a r ef le ct an ce d is co nt in ui ty , l ab el ed 3; a nd a n i ll um in at io n d is co n-"
"t in ui ty (s ha do w), l ab el ed 4. Ed ge de te ct io n i sc on ce rn ed o nl y w it ht he i ma ge , a nd t hu s d oe s"
n ot di st in gu is h b et we en th es ed if fe re nt ty pe so fs ce ne di sc on ti nu it ie s ; l at er pr oc es si ng w il l .
"Fi gu re 24.7(a) s ho ws a n i ma ge o f a s ce ne c on ta in in g a s ta pl er r es ti ng o n a d es k , a nd"
"(b) s ho ws t he o ut pu t o f a n e dg e-d et ec ti on a lg or it hm o n t hi s i ma ge . As y ou c an s ee , t he re"
i s a d if fe re nc e b et we en t he o ut pu t a nd a n i de al l in e d ra wi ng . Th er e a re g ap s w he re n o e dg e
"a pp ea rs , a nd th er ea re“n oi se”e dg es th at do no tc or re sp on d t oa ny th in go fs ig ni fi ca nc e i nt he"
s ce ne . La te rs ta ge so fp ro ce ss in g w il lh av et oc or re ct fo rt he se er ro rs .
Ho wd ow ed et ec t e dg es in an im ag e ? Co ns id er th ep ro fi le of im ag eb ri gh tn es s a lo ng a
"o ne-d im en si on al c ro ss-s ec ti on p er pe nd ic ul ar t o a n e dg e—f or e xa mp le , t he o ne b et we en t he"
l ef te dg eo ft he de sk an dt he wa ll . It lo ok ss om et hi ng li ke wh at is sh ow ni n Fi gu re 24.8(t op).
"Ed ge sc or re sp on dt ol oc at io ns in im ag es wh er et he br ig ht ne ss un de rg oe sa sh ar pc ha ng e ,"
s o a na iv e i de a w ou ld b e t od if fe re nt ia te t he i ma ge a nd l oo k f or pl ac es w he re t he m ag ni tu de
(c id:2)
"o ft he de ri va ti ve I (x)i sl ar ge . Th at al mo st wo rk s . In Fi gu re 24.8(m id dl e),w es ee th at th er e"
"i si nd ee da pe ak at x=50,b ut th er ea re al so su bs id ia ry pe ak sa to th er lo ca ti on s(e .g .,x=75)."
"Th es e a ri se b ec au se o f t he p re se nc e o f n oi se i n t he i ma ge . If w es mo ot h t he i ma ge f ir st , t he"
"s pu ri ou s p ea ks ar ed im in is he d , a sw es ee in th eb ot to mo ft he fi gu re ."
Se ct io n 24.2. Ea rl y Im ag e-Pr oc es si ng Op er at io ns 937
(a) (b)
Fi gu re 24.7 (a)Ph ot og ra ph of as ta pl er . (b)Ed ge sc om pu te df ro m(a).
2
1
0
−1
0 10 20 30 40 50 60 70 80 90 100
1
0
−1
0 10 20 30 40 50 60 70 80 90 100
1
0
−1
0 10 20 30 40 50 60 70 80 90 100
Fi gu re 24.8 To p:In te ns it yp ro fi le I(x)a lo ng ao ne-d im en si on al se ct io na cr os sa ne dg ea t
"x=50. Mi dd le: Th ed er iv at iv eo fi nt en si ty ,I(c id:5)(x). La rg ev al ue so ft hi sf un ct io nc or re sp on d"
"t o e dg es , b ut t he f un ct io n i s n oi sy . Bo tt om: Th e d er iv at iv e o f a s mo ot he d v er si on o f t he"
"i nt en si ty ,(I∗Gσ)(c id:5),w hi ch ca nb ec om pu te di no ne st ep as th ec on vo lu ti on I∗G(c id:5) σ. Th en oi sy"
c an di da te ed ge at x=75 h as di sa pp ea re d .
Th e m ea su re me nt o f b ri gh tn es s a t a p ix el i n a CCD c am er a i s b as ed o n a p hy si ca l
p ro ce ss i nv ol vi ng t he a bs or pt io n o f p ho to ns a nd t he r el ea se o f e le ct ro ns ; i ne vi ta bl y t he re
w il l b e s ta ti st ic al f lu ct ua ti on s o f t he m ea su re me nt—n oi se . Th e n oi se c an b e m od el ed w it h
938 Ch ap te r 24. Pe rc ep ti on
"a Ga us si an p ro ba bi li ty d is tr ib ut io n , w it h e ac h p ix el i nd ep en de nt o f t he o th er s . On e w ay t o"
s mo ot h a ni ma ge i st oa ss ig n t oe ac h p ix el t he av er ag e o fi ts n ei gh bo rs . Th is te nd s t oc an ce l
"o ut ex tr em ev al ue s . Bu th ow ma ny ne ig hb or ss ho ul dw ec on si de r—o ne pi xe la wa y ,o rt wo ,o r"
"m or e ? On eg oo da ns we ri sa we ig ht ed a ve ra ge t ha tw ei gh ts t he ne ar es t p ix el st he mo st ,t he n"
g ra du al ly d ec re as es t he w ei gh t f or m or e d is ta nt p ix el s . Th e Ga us si an f il te r d oe s j us t t ha t .
GAUSSIANFILTER
(Us er so f Ph ot os ho pr ec og ni ze t hi sa st he Ga us si an bl ur op er at io n .) Re ca ll th at th e Ga us si an
f un ct io n w it hs ta nd ar d d ev ia ti on σ a nd me an 0 i s
"N (x) = √1 e−x 2/2σ2 i no ne di me ns io n , o r"
σ
2πσ
"N (x ,y) = 1 e−(x 2+y 2)/2σ2 i nt wo di me ns io ns ."
σ 2πσ2
"Th e a pp li ca ti on o f t he Ga us si an f il te r r ep la ce s t he i nt en si ty I(x ,y ) w it h t he s um , o ve r a ll"
0 0
"(x ,y) p ix el s , o f I(x ,y)N (d), w he re d i s t he d is ta nc e f ro m (x ,y ) t o (x ,y). Th is k in d o f"
σ 0 0
w ei gh te d s um i ss o c om mo n t ha t t he re i s a sp ec ia l n am e a nd n ot at io n f or it . We sa y t ha t t he
f un ct io n h is th ec on vo lu ti on o ft wo fu nc ti on s f a nd g (d en ot ed f ∗g)i fw eh av e
CONVOLUTION
(c id:12)+∞
"h(x) = (f ∗g)(x) = f(u)g(x−u) i no ne di me ns io n , o r"
u=−∞
(c id:12)+∞ (c id:12)+∞
"h(x ,y) = (f ∗g)(x ,y) = f(u ,v)g(x−u ,y−v) i nt wo ."
u=−∞v=−∞
"So th es mo ot hi ng fu nc ti on is ac hi ev ed by co nv ol vi ng t he im ag ew it ht he Ga us si an ,I∗N . A"
σ
"σo f 1 p ix el is en ou gh to sm oo th ov er as ma ll am ou nt of no is e ,w he re as 2 p ix el sw il ls mo ot ha"
"l ar ge ra mo un t ,b ut at th el os so fs om ed et ai l . Be ca us et he Ga us si an’s i nf lu en ce fa de sq ui ck ly"
"a ta di st an ce , w ec an re pl ac e t he±∞i nt he su ms wi th±3σ."
We ca no pt im iz et he co mp ut at io n b yc om bi ni ng sm oo th in ga nd ed ge fi nd in gi nt oa si n-
"g le op er at io n . It is at he or em th at fo ra ny fu nc ti on s f a nd g ,t he de ri va ti ve of th ec on vo lu ti on ,"
(f
∗g)(c id:2)
", i s e qu al t o t he c on vo lu ti on w it h t he d er iv at iv e , f"
∗(g(c id:2)
). So r at he r t ha n s mo ot hi ng
"t he im ag e a nd t he n d if fe re nt ia ti ng , w ec an j us t c on vo lv e t he i ma ge wi th t he de ri va ti ve o ft he"
(c id:2)
"s mo ot hi ng f un ct io n , N . We t he n m ar k a s e dg es t ho se p ea ks i n t he r es po ns e t ha t a re a bo ve"
σ
s om et hr es ho ld .
Th er ei sa na tu ra l g en er al iz at io n o ft hi sa lg or it hm f ro mo ne-d im en si on al c ro ss se ct io ns
t og en er al tw o-d im en si on al i ma ge s . In tw od im en si on se dg es ma yb ea ta ny an gl eθ. Co ns id-
"e ri ng th ei ma ge br ig ht ne ss a sa sc al ar fu nc ti on o ft he va ri ab le s x ,y ,i ts gr ad ie nt i sa ve ct or"
(c id:31)
(c id:13) (c id:14)
∂I
I
∇I = ∂x = x .
∂I I
y
∂y
"Ed ge sc or re sp on d t ol oc at io ns in im ag es wh er et he br ig ht ne ss un de rg oe s a sh ar pc ha ng e , a nd"
"s o t he m ag ni tu de o f t he g ra di en t , +∇I+, s ho ul d b e l ar ge a t a n e dg e p oi nt . Of i nd ep en de nt"
i nt er es ti st he di re ct io no ft he gr ad ie nt
(c id:13) (c id:14)
∇I c osθ
= .
+∇I+ s inθ
"Th is gi ve su saθ = θ(x ,y)a te ve ry pi xe l ,w hi ch de fi ne st he ed ge or ie nt at io n a tt ha tp ix el ."
ORIENTATION
Se ct io n 24.2. Ea rl y Im ag e-Pr oc es si ng Op er at io ns 939
"As in on ed im en si on , t of or mt he gr ad ie nt we do n’t co mp ut e∇I ,b ut ra th er∇(I∗N ),"
σ
"t he g ra di en t a ft er s mo ot hi ng t he i ma ge b y c on vo lv in g i t w it h a Ga us si an . An d a ga in , t he"
s ho rt cu t i s t ha t t hi s i s e qu iv al en t t o c on vo lv in g t he i ma ge w it h t he p ar ti al d er iv at iv es o f a
"Ga us si an . On ce we ha ve co mp ut ed t he gr ad ie nt , w ec an ob ta in e dg es b yf in di ng e dg e p oi nt s"
"a nd l in ki ng t he m t og et he r . To t el l w he th er a p oi nt i s a n e dg e p oi nt , w e m us t l oo k a t o th er"
p oi nt s a s ma ll d is ta nc e f or wa rd a nd b ac k a lo ng t he d ir ec ti on o f t he g ra di en t . If t he g ra di en t
"m ag ni tu de a t o ne o f t he se p oi nt s i s l ar ge r , t he n w e c ou ld g et a b et te r e dg e p oi nt b y s hi ft in g"
"t he e dg e c ur ve v er y s li gh tl y . Fu rt he rm or e , i f t he g ra di en t m ag ni tu de i s t oo s ma ll , t he p oi nt"
"c an no t b e a n e dg e p oi nt . So a t a n e dg e p oi nt , t he g ra di en t m ag ni tu de i s a l oc al m ax im um"
"a lo ng th ed ir ec ti on of th eg ra di en t , a nd th eg ra di en t m ag ni tu de is ab ov ea su it ab le th re sh ol d ."
"On ce we ha ve ma rk ed ed ge pi xe ls by th is al go ri th m ,t he ne xt st ag ei st ol in kt ho se pi xe ls"
t ha tb el on gt ot he sa me ed ge cu rv es . Th is ca nb ed on eb ya ss um in gt ha ta ny tw on ei gh bo ri ng
e dg ep ix el sw it hc on si st en t o ri en ta ti on s m us tb el on gt ot he sa me ed ge cu rv e .
24.2.2 Te xt ur e
"In e ve ry da y l an gu ag e , t ex tu re i s t he v is ua l f ee l o f a s ur fa ce—w ha t y ou s ee e vo ke s w ha t"
TEXTURE
t he s ur fa ce m ig ht f ee l l ik e i f y ou t ou ch ed i t (“t ex tu re” h as t he s am e r oo t a s “t ex ti le”). In
"c om pu ta ti on al v is io n , t ex tu re r ef er s t o a s pa ti al ly r ep ea ti ng p at te rn o n a s ur fa ce t ha t c an b e"
"s en se dv is ua ll y . Ex am pl es in cl ud et he pa tt er no fw in do ws on ab ui ld in g ,s ti tc he so na sw ea te r ,"
"s po ts o n a l eo pa rd , b la de s o f g ra ss o n a l aw n , p eb bl es o n a b ea ch , a nd p eo pl e i n a s ta di um ."
"So me ti me s t he a rr an ge me nt i s q ui te p er io di c , a s i n t he s ti tc he s o n a s we at er ; i n o th er c as es ,"
"s uc ha sp eb bl es on ab ea ch ,t he re gu la ri ty i so nl ys ta ti st ic al ."
"Wh er ea sb ri gh tn es si sa pr op er ty of in di vi du al pi xe ls ,t he co nc ep to ft ex tu re ma ke ss en se"
"o nl y f or a m ul ti pi xe l p at ch . Gi ve n s uc h a p at ch , w e c ou ld c om pu te t he o ri en ta ti on a t e ac h"
"p ix el ,a nd th en ch ar ac te ri ze t he pa tc hb ya hi st og ra m o fo ri en ta ti on s . Th et ex tu re of br ic ks in"
"a wa ll wo ul d h av et wo pe ak s i nt he h is to gr am (o ne v er ti ca l a nd o ne ho ri zo nt al), w he re as t he"
t ex tu re of sp ot so na le op ar d’s s ki nw ou ld ha ve am or eu ni fo rm d is tr ib ut io n o fo ri en ta ti on s .
Fi gu re 24.9 s ho ws th at or ie nt at io ns ar el ar ge ly in va ri an tt oc ha ng es in il lu mi na ti on . Th is
"m ak es t ex tu re a n i mp or ta nt c lu e f or o bj ec t r ec og ni ti on , b ec au se o th er c lu es , s uc h a s e dg es ,"
c an yi el dd if fe re nt r es ul ts in di ff er en t l ig ht in g c on di ti on s .
"In im ag es of te xt ur ed ob je ct s ,e dg ed et ec ti on do es no tw or ka sw el la si td oe sf or sm oo th"
o bj ec ts . Th is i s b ec au se t he m os t i mp or ta nt e dg es c an b e l os t a mo ng t he t ex tu re e le me nt s .
"Qu it el it er al ly ,w em ay mi ss th et ig er fo rt he st ri pe s . Th es ol ut io ni st ol oo kf or di ff er en ce si n"
"t ex tu re p ro pe rt ie s , j us t t he wa yw el oo k f or di ff er en ce s i n b ri gh tn es s . Ap at ch o n a ti ge ra nd"
"a pa tc ho nt he gr as sy ba ck gr ou nd wi ll ha ve ve ry di ff er en to ri en ta ti on hi st og ra ms ,a ll ow in gu s"
t of in dt he bo un da ry c ur ve be tw ee nt he m .
24.2.3 Op ti ca lf lo w
"Ne xt , l et u s c on si de r w ha t h ap pe ns w he n w e h av e a v id eo s eq ue nc e , i ns te ad o f j us t a s in gl e"
"s ta ti c i ma ge . Wh en a n o bj ec t i n t he v id eo i s m ov in g , o rw he n t he c am er a i s m ov in g r el at iv e"
"t o a n o bj ec t , t he r es ul ti ng a pp ar en t m ot io n i n t he i ma ge i s c al le d o pt ic al f lo w . Op ti ca l f lo w"
OPTICALFLOW
d es cr ib es t he d ir ec ti on a nd s pe ed o f m ot io n o f f ea tu re s i n t he i ma ge—t he o pt ic al f lo w o f a
940 Ch ap te r 24. Pe rc ep ti on
(a) (b)
"Fi gu re 24.9 Tw oi ma ge so ft he sa me te xt ur eo fc ru mp le dr ic ep ap er ,w it hd if fe re nt il lu mi-"
n at io nl ev el s . Th eg ra di en tv ec to rf ie ld(a te ve ry ei gh th pi xe l)i sp lo tt ed on to po fe ac ho ne .
"No ti ce th at , a st he l ig ht ge ts da rk er ,a ll th eg ra di en tv ec to rs ge ts ho rt er . Th ev ec to rs do no t"
"r ot at e ,s ot he gr ad ie nt or ie nt at io ns do no tc ha ng e ."
"v id eo o f a r ac e c ar w ou ld b e m ea su re d i n p ix el s p er s ec on d , n ot m il es p er h ou r . Th eo pt ic al"
"f lo w e nc od es u se fu l i nf or ma ti on a bo ut s ce ne s tr uc tu re . Fo r e xa mp le , i n a v id eo o f s ce ne ry"
"t ak en f ro m a m ov in g t ra in , d is ta nt o bj ec ts h av e s lo we r a pp ar en t m ot io n t ha n c lo se o bj ec ts ;"
"t hu s , t he r at e o f a pp ar en t m ot io n c an t el l u s s om et hi ng a bo ut d is ta nc e . Op ti ca l f lo w a ls o"
"e na bl es us to re co gn iz ea ct io ns . In Fi gu re 24.10(a)a nd(b),w es ho wt wo fr am es fr om av id eo"
"o f a t en ni s p la ye r . In (c) w e d is pl ay t he o pt ic al f lo w v ec to rs c om pu te d f ro m t he se i ma ge s ,"
s ho wi ng th at th er ac ke ta nd fr on tl eg ar em ov in gf as te st .
"Th e o pt ic al f lo w v ec to r f ie ld c an b e r ep re se nt ed a t a ny p oi nt (x ,y) b y i ts c om po ne nt s"
"v (x ,y)i nt he xd ir ec ti on an dv (x ,y)i nt he yd ir ec ti on . To me as ur eo pt ic al fl ow we ne ed to"
x y
f in dc or re sp on di ng p oi nt sb et we en o ne ti me fr am ea nd th en ex t . As im pl e-m in de d t ec hn iq ue
i s b as ed o n t he f ac t t ha t i ma ge p at ch es a ro un d c or re sp on di ng p oi nt s h av e s im il ar i nt en si ty
"p at te rn s . Co ns id er a b lo ck o f p ix el s c en te re d a t p ix el p , (x ,y ), a t t im e t . Th is b lo ck"
0 0 0
o f p ix el s i s t o b e c om pa re d w it h p ix el b lo ck s c en te re d a t v ar io us c an di da te p ix el s a t (x +
0
"D ,y + D ) a t t im e t + D . On e p os si bl e m ea su re o f s im il ar it y i s t he s um o f s qu ar ed"
x 0 y 0 t
SUMOFSQUARED d if fe re nc es(SSD):
DIFFERENCES (c id:12)
"SSD(D ,D ) = (I(x ,y ,t)−I(x+D ,y+D ,t+D ))2 ."
x y x y t
"(x ,y)"
"He re , (x ,y) r an ge s o ve r p ix el s i n t he b lo ck c en te re d a t (x ,y ). We f in d t he (D ,D ) t ha t"
0 0 x y
"m in im iz es t he SSD .Th e o pt ic al f lo w a t (x ,y ) i s t he n (v ,v ) = (D /D ,D /D ). No te"
0 0 x y x t y t
"t ha tf or th is to wo rk ,t he re ne ed st ob es om et ex tu re or va ri at io ni nt he sc en e . If on ei sl oo ki ng"
"a t a u ni fo rm w hi te w al l , t he n t he SSD i s g oi ng t o b e n ea rl y t he s am e f or t he d if fe re nt c an-"
Se ct io n 24.2. Ea rl y Im ag e-Pr oc es si ng Op er at io ns 941
Fi gu re 24.10 Tw of ra me so fa vi de os eq ue nc e . On th er ig ht is th eo pt ic al fl ow fi el dc or-
r es po nd in g t o t he d is pl ac em en t f ro m o ne f ra me t o t he o th er . No te h ow t he m ov em en t o f
t he te nn is ra ck et an dt he f ro nt le g i sc ap tu re db yt he d ir ec ti on so f t he ar ro ws . (Co ur te sy of
Th om as Br ox .)
"d id at e m at ch es , a nd t he a lg or it hm i s r ed uc ed t o m ak in g a b li nd g ue ss . Th e b es t-p er fo rm in g"
a lg or it hm s f or m ea su ri ng o pt ic al f lo w r el y o n a v ar ie ty o f a dd it io na l c on st ra in ts w he n t he
s ce ne is on ly pa rt ia ll y t ex tu re d .
24.2.4 Se gm en ta ti on o fi ma ge s
Se gm en ta ti on is th ep ro ce ss of br ea ki ng an im ag ei nt or eg io ns of si mi la rp ix el s . Ea ch im ag e
SEGMENTATION
"p ix el c an b e a ss oc ia te d w it h c er ta in v is ua l p ro pe rt ie s , s uc h a s b ri gh tn es s , c ol or , a nd t ex tu re ."
REGIONS
"Wi th in a n o bj ec t , o r a s in gl e p ar t o f a n o bj ec t , t he se a tt ri bu te s v ar y r el at iv el y l it tl e , w he re as"
a cr os s a n i nt er-o bj ec t b ou nd ar y t he re i s t yp ic al ly a l ar ge c ha ng e i n o ne o r m or e o f t he se a t-
"t ri bu te s . Th er ea re tw oa pp ro ac he st os eg me nt at io n ,o ne fo cu si ng on de te ct in gt he bo un da ri es"
"o ft he se re gi on s , a nd th eo th er on de te ct in g t he re gi on st he ms el ve s(Fi gu re 24.11)."
"Ab ou nd ar y c ur ve pa ss in g t hr ou gh ap ix el (x ,y)w il lh av ea no ri en ta ti on θ,s oo ne wa y"
t of or ma li ze th ep ro bl em o fd et ec ti ng b ou nd ar yc ur ve si sa sa m ac hi ne le ar ni ng cl as si fi ca ti on
"p ro bl em . Ba se d o n f ea tu re s f ro m a l oc al n ei gh bo rh oo d , w ew an t t o c om pu te t he p ro ba bi li ty"
"P (x ,y ,θ)t ha ti nd ee dt he re is ab ou nd ar yc ur ve at th at pi xe la lo ng th at or ie nt at io n . Co ns id er"
b
"a c ir cu la r d is k c en te re d a t (x ,y), s ub di vi de d i nt o t wo h al f d is ks b y a di am et er o ri en te d a t θ."
"If t he re i sa b ou nd ar y a t (x ,y ,θ) t he t wo h al f d is ks m ig ht b e e xp ec te d t o d if fe rs ig ni fi ca nt ly"
"i nt he ir br ig ht ne ss ,c ol or ,a nd te xt ur e . Ma rt in ,Fo wl ke s ,a nd Ma li k(2004)u se df ea tu re sb as ed"
"o n d if fe re nc es i n h is to gr am s o f b ri gh tn es s , c ol or , a nd t ex tu re v al ue s m ea su re d i n t he se t wo"
"h al fd is ks , a nd th en t ra in ed a cl as si fi er . Fo rt hi st he yu se d a d at as et of na tu ra l i ma ge s w he re"
"h um an sh ad ma rk ed th e“g ro un dt ru th”b ou nd ar ie s , a nd th eg oa lo ft he cl as si fi er wa st om ar k"
e xa ct ly th os eb ou nd ar ie s m ar ke db yh um an sa nd no ot he rs .
Bo un da ri es de te ct ed by th is te ch ni qu et ur no ut to be si gn if ic an tl yb et te rt ha nt ho se fo un d
u si ng th es im pl ee dg e-d et ec ti on te ch ni qu ed es cr ib ed pr ev io us ly . Bu ts ti ll th er ea re tw ol im it a-
"t io ns . (1)Th eb ou nd ar yp ix el sf or me db yt hr es ho ld in g P (x ,y ,θ)a re no tg ua ra nt ee d t of or m"
b
"c lo se d c ur ve s , s ot hi sa pp ro ac h d oe sn’t d el iv er re gi on s , a nd (2)t he de ci si on m ak in g e xp lo it s"
o nl yl oc al co nt ex ta nd do es no tu se gl ob al co ns is te nc y c on st ra in ts .
942 Ch ap te r 24. Pe rc ep ti on
(a) (b) (c) (d)
"Fi gu re 24.11 (a)Or ig in al im ag e . (b)Bo un da ry co nt ou rs ,w he re th eh ig he r t he Pb v al ue ,"
"t he d ar ke r t he c on to ur . (c) Se gm en ta ti on i nt o r eg io ns , c or re sp on di ng to a f in e p ar ti ti on o f"
"t he im ag e . Re gi on sa re re nd er ed in th ei rm ea nc ol or s . (d)Se gm en ta ti on in to re gi on s ,c or re-"
"s po nd in gt oa c oa rs er pa rt it io no ft he im ag e ,r es ul ti ng in fe we rr eg io ns . (Co ur te sy of Pa bl o"
"Ar be la ez ,Mi ch ae l Ma ir e ,Ch ar le s Fo wl ke s ,a nd Ji te nd ra Ma li k)"
Th ea lt er na ti ve ap pr oa ch is ba se do nt ry in gt o“c lu st er”t he p ix el si nt or eg io ns ba se do n
"t he ir b ri gh tn es s , c ol or , a nd t ex tu re . Sh i a nd Ma li k (2000) s et t hi s u p a s a g ra ph p ar ti ti on in g"
"p ro bl em . Th e n od es o f t he g ra ph c or re sp on d t o p ix el s , a nd e dg es t o c on ne ct io ns b et we en"
p ix el s . Th ew ei gh t W o nt he ed ge co nn ec ti ng ap ai ro fp ix el si an dj is ba se do nh ow si mi la r
i j
"t he tw op ix el sa re in br ig ht ne ss , c ol or , t ex tu re , e tc . Pa rt it io ns th at mi ni mi ze an or ma li ze d c ut"
"c ri te ri on a re t he n f ou nd . Ro ug hl y s pe ak in g , t he c ri te ri on f or p ar ti ti on in g t he g ra ph i s t o"
m in im iz e t he s um o f w ei gh ts o f c on ne ct io ns a cr os s t he g ro up s o f p ix el s a nd m ax im iz e t he
s um of we ig ht so fc on ne ct io ns w it hi nt he gr ou ps .
"Se gm en ta ti on b as ed p ur el y o n l ow-l ev el , l oc al a tt ri bu te s s uc h a s b ri gh tn es s a nd c ol or"
c an no t b e e xp ec te d t o d el iv er t he f in al c or re ct b ou nd ar ie s o f a ll t he o bj ec ts i n t he s ce ne . To
r el ia bl y f in d o bj ec t b ou nd ar ie s w e n ee d h ig h-l ev el k no wl ed ge o f t he l ik el y k in ds o f o bj ec ts
i nt he sc en e . Re pr es en ti ng t hi sk no wl ed ge i sa to pi co fa ct iv er es ea rc h . Ap op ul ar st ra te gy i s
"t o p ro du ce a n o ve r-s eg me nt at io n o f a ni ma ge , c on ta in in g h un dr ed s o f h om og en eo us r eg io ns"
"k no wn a s s up er pi xe ls . Fr om t he re , k no wl ed ge-b as ed a lg or it hm s c an t ak e o ve r ; t he y w il l"
SUPERPIXELS
f in di te as ie r t od ea l w it hh un dr ed s o fs up er pi xe ls r at he rt ha n m il li on s o fr aw pi xe ls . Ho wt o
e xp lo it hi gh-l ev el k no wl ed ge of ob je ct s i st he su bj ec to ft he ne xt se ct io n .
24.3 OBJECT RECOGNITION BY APPEARANCE
Ap pe ar an ce is sh or th an d f or wh at an ob je ct t en ds to lo ok li ke . So me ob je ct c at eg or ie s—f or
APPEARANCE
"e xa mp le , b as eb al ls—v ar y r at he r l it tl e i n a pp ea ra nc e ; a ll o f t he o bj ec ts i n t he c at eg or y l oo k"
"a bo ut t he s am e u nd er m os t c ir cu ms ta nc es . In t hi s c as e , w e c an c om pu te a s et o f f ea tu re s"
"d es cr ib in g e ac hc la ss of im ag es li ke ly to co nt ai n t he ob je ct , t he nt es ti tw it ha cl as si fi er ."
Se ct io n 24.3. Ob je ct Re co gn it io n b y Ap pe ar an ce 943
"Ot he ro bj ec tc at eg or ie s—f or e xa mp le ,h ou se s o rb al le td an ce rs—v ar y g re at ly . Ah ou se"
"c an ha ve di ff er en ts iz e ,c ol or ,a nd sh ap ea nd ca nl oo kd if fe re nt fr om di ff er en ta ng le s . Ad an ce r"
"l oo ks di ff er en ti ne ac hp os e ,o rw he nt he st ag el ig ht sc ha ng e c ol or s . Au se fu la bs tr ac ti on is to"
s ay th at so me ob je ct sa re ma de up of lo ca lp at te rn sw hi ch te nd to mo ve ar ou nd wi th re sp ec tt o
"o ne an ot he r . We ca nt he nf in dt he ob je ct by lo ok in ga tl oc al hi st og ra ms of de te ct or re sp on se s ,"
w hi ch ex po se wh et he rs om ep ar ti sp re se nt b ut su pp re ss t he de ta il so fw he re it is .
Te st in g e ac h c la ss o f i ma ge s w it h a l ea rn ed c la ss if ie r i s a n i mp or ta nt g en er al r ec ip e .
"It w or ks e xt re me ly w el l f or f ac es l oo ki ng d ir ec tl y a t t he c am er a , b ec au se a t l ow r es ol ut io n"
"a nd u nd er re as on ab le l ig ht in g , a ll su ch f ac es l oo k q ui te s im il ar . Th ef ac e i sr ou nd , a nd q ui te"
"b ri gh tc om pa re dt ot he ey es oc ke ts ;t he se ar ed ar k ,b ec au se th ey ar es un ke n ,a nd th em ou th is"
"a da rk sl as h ,a sa re th ee ye br ow s . Ma jo rc ha ng es of il lu mi na ti on ca nc au se so me va ri at io ns in"
"t hi s p at te rn , b ut t he r an ge o f v ar ia ti on i s q ui te m an ag ea bl e . Th at m ak es i t p os si bl e t o d et ec t"
"f ac e p os it io ns i n a n i ma ge t ha t c on ta in s f ac es . On ce a c om pu ta ti on al c ha ll en ge , t hi s f ea tu re"
i sn ow co mm on pl ac e i ne ve ni ne xp en si ve d ig it al ca me ra s .
"Fo rt he m om en t , w e w il l c on si de r o nl y f ac es w he re t he n os e i s o ri en te d v er ti ca ll y ; w e"
"w il l d ea l w it h r ot at ed f ac es b el ow . We s we ep a r ou nd w in do w o f f ix ed s iz e o ve r t he i ma ge ,"
"c om pu te f ea tu re s f or i t , a nd p re se nt t he f ea tu re s t o a c la ss if ie r . Th is s tr at eg y i s s om et im es"
c al le dt he sl id in gw in do w . Fe at ur es ne ed to be ro bu st to sh ad ow sa nd to ch an ge si nb ri gh tn es s
SLIDINGWINDOW
c au se db yi ll um in at io nc ha ng es . On es tr at eg yi st ob ui ld fe at ur es ou to fg ra di en to ri en ta ti on s .
An ot he r i s t o e st im at e a nd c or re ct t he i ll um in at io n i n e ac h i ma ge w in do w . To f in d f ac es o f
"d if fe re nt s iz es , r ep ea t t he s we ep o ve r l ar ge r o r s ma ll er v er si on s o f t he i ma ge . Fi na ll y , w e"
p os tp ro ce ss t he re sp on se s a cr os ss ca le sa nd lo ca ti on s t op ro du ce t he fi na ls et of de te ct io ns .
"Po st pr oc es si ng i s i mp or ta nt , b ec au se i t i s u nl ik el y t ha t w e h av e c ho se n a w in do w s iz e"
"t ha t i s e xa ct ly t he r ig ht s iz e f or a f ac e (e ve n i f w e u se m ul ti pl e s iz es). Th us , w e w il l l ik el y"
"h av e s ev er al o ve rl ap pi ng w in do ws t ha t e ac h r ep or t a m at ch f or a f ac e . Ho we ve r , i f w e u se"
"a cl as si fi er th at c an r ep or t s tr en gt h o fr es po ns e (f or ex am pl e , l og is ti c r eg re ss io n o ra su pp or t"
v ec to r m ac hi ne) w e c an c om bi ne t he se p ar ti al o ve rl ap pi ng m at ch es a t n ea rb y l oc at io ns t o
y ie ld as in gl eh ig h-q ua li ty m at ch . Th at gi ve su sa fa ce de te ct or th at ca ns ea rc ho ve rl oc at io ns
"a nd s ca le s . To s ea rc h r ot at io ns a s w el l , w e u se t wo s te ps . We t ra in a r eg re ss io n p ro ce du re"
"t o e st im at e t he b es t o ri en ta ti on o f a ny f ac e p re se nt i n a w in do w . No w , f or e ac h w in do w , w e"
"e st im at et he or ie nt at io n , r eo ri en tt he wi nd ow ,t he nt es tw he th er av er ti ca lf ac ei sp re se nt wi th"
o ur cl as si fi er . Al lt hi sy ie ld sa sy st em wh os ea rc hi te ct ur e i ss ke tc he d i n Fi gu re 24.12.
Tr ai ni ng d at a i s q ui te e as il y o bt ai ne d . Th er e a re s ev er al d at a s et s o f m ar ke d-u p f ac e
"i ma ge s , a nd r ot at ed f ac e w in do ws a re e as y t o b ui ld (j us t r ot at e a w in do w f ro m a t ra in in g"
"d at a s et). On e t ri ck t ha t i s w id el y u se d i s t o t ak e e ac h e xa mp le w in do w , t he n p ro du ce n ew"
"e xa mp le s b y c ha ng in g t he o ri en ta ti on o f t he w in do w , t he c en te r o f t he w in do w , o r t he s ca le"
v er y s li gh tl y . Th is i s a n e as y w ay o f g et ti ng a b ig ge r d at a s et t ha t r ef le ct s r ea l i ma ge s f ai rl y
w el l ; t he t ri ck u su al ly i mp ro ve s p er fo rm an ce s ig ni fi ca nt ly . Fa ce d et ec to rs b ui lt a lo ng t he se
l in es no wp er fo rm v er yw el lf or fr on ta lf ac es(s id ev ie ws ar e h ar de r).
944 Ch ap te r 24. Pe rc ep ti on
No n-m ax im al
s up pr es io n
Im ag e Re sp on se s De te ct io ns
Es ti ma te
o ri en ta ti on
Co rr ec t Ro ta te
Fe at ur es Cl as si fi er
i ll um in at io n w in do w
"Fi gu re 24.12 Fa ce f in di ng s ys te ms v ar y , b ut m os t f ol lo w t he a rc hi te ct ur e i ll us tr at ed i n"
"t wo p ar ts h er e . On t he t op , w e g o f ro m i ma ge s t o r es po ns es , t he n a pp ly n on-m ax im um"
s up pr es si on to f in dt he st ro ng es tl oc al re sp on se . Th er es po ns es ar eo bt ai ne db yt he pr oc es s
i ll us tr at ed on th eb ot to m . We sw ee pa wi nd ow of fi xe ds iz eo ve rl ar ge ra nd sm al le rv er si on s
"o f t he i ma ge , s o a s t o f in d s ma ll er o r l ar ge r f ac es , r es pe ct iv el y . Th e i ll um in at io n i n t he"
"w in do w i s c or re ct ed , a nd t he n a r eg re ss io n e ng in e (q ui te o ft en , a n eu ra l n et) p re di ct s t he"
o ri en ta ti on of th e f ac e . Th ew in do wi sc or re ct ed to t hi so ri en ta ti on an dt he n p re se nt ed to a
c la ss if ie r . Cl as si fi er ou tp ut sa re th en po st pr oc es se dt oe ns ur et ha to nl yo ne fa ce is pl ac ed at
e ac hl oc at io ni nt he im ag e .
24.3.1 Co mp le xa pp ea ra nc e a nd pa tt er n e le me nt s
Ma ny o bj ec ts p ro du ce m uc h m or e c om pl ex p at te rn s t ha n f ac es d o . Th is i s b ec au se s ev er al
e ff ec ts ca nm ov ef ea tu re sa ro un di na ni ma ge of th eo bj ec t . Ef fe ct si nc lu de (Fi gu re 24.13)
"• Fo re sh or te ni ng ,w hi ch ca us es ap at te rn vi ew ed at as la nt to be si gn if ic an tl y d is to rt ed ."
"• As pe ct , w hi ch c au se s o bj ec ts t o l oo k d if fe re nt w he n s ee n f ro m d if fe re nt d ir ec ti on s ."
"Ev en as si mp le an ob je ct as ad ou gh nu t h as se ve ra la sp ec ts ;s ee nf ro mt he si de ,i tl oo ks"
"l ik ea fl at te ne do va l ,b ut fr om ab ov ei ti sa na nn ul us ."
"• Oc cl us io n , w he re s om e p ar ts a re h id de n f ro m s om e v ie wi ng d ir ec ti on s . Ob je ct s c an"
"o cc lu de o ne a no th er , o r p ar ts o f a n o bj ec t c an o cc lu de o th er p ar ts , a n e ff ec t k no wn a s"
s el f-o cc lu si on .
"• De fo rm at io n , w he re i nt er na l d eg re es o f f re ed om o f t he o bj ec t c ha ng e i ts a pp ea ra nc e ."
"Fo re xa mp le ,p eo pl ec an mo ve th ei ra rm sa nd le gs ar ou nd ,g en er at in ga ve ry wi de ra ng e"
o fd if fe re nt bo dy co nf ig ur at io ns .
"Ho we ve r , o ur r ec ip e o f s ea rc hi ng a cr os s l oc at io n a nd s ca le c an s ti ll w or k . Th is i s b ec au se"
"s om e s tr uc tu re w il l b e p re se nt i n t he i ma ge s p ro du ce d b y t he o bj ec t . Fo re xa mp le , a pi ct ur e"
"o f a c ar i s l ik el y t o s ho w s om e o f h ea dl ig ht s , d oo rs , w he el s , w in do ws , a nd h ub ca ps , t ho ug h"
t he ym ay be in so me wh at di ff er en ta rr an ge me nt si nd if fe re nt pi ct ur es . Th is su gg es ts mo de li ng
o bj ec ts wi th pa tt er ne le me nt s—c ol le ct io ns of pa rt s . Th es ep at te rn el em en ts ma ym ov ea ro un d
Se ct io n 24.3. Ob je ct Re co gn it io n b y Ap pe ar an ce 945
Fo re sh or te ni ng As pe ct
Oc cl us io n De fo rm at io n
"Fi gu re 24.13 So ur ce s o f a pp ea ra nc ev ar ia ti on . Fi rs t , e le me nt s c an f or es ho rt en , l ik e t he"
"c ir cu la r p at ch o n t he t op l ef t . Th is p at ch i s v ie we d a t a s la nt , a nd s o i s e ll ip ti ca l i n t he"
"i ma ge .Se co nd ,o bj ec ts vi ew ed fr om di ff er en td ir ec ti on sc an ch an ge sh ap eq ui te dr am at ic al ly ,"
a ph en om en on kn ow na sa sp ec t . On t he to pr ig ht ar et hr ee di ff er en ta sp ec ts of ad ou gh nu t .
Oc cl us io n c au se s t he h an dl e o f t he m ug o n t he b ot to m l ef t t o d is ap pe ar w he n t he m ug i s
"r ot at ed . In t hi s c as e , b ec au se t he b od y a nd h an dl e b el on g t o t he s am e m ug , w e h av e s el f-"
"o cc lu si on .Fi na ll y ,o nt he bo tt om ri gh t ,s om eo bj ec ts ca nd ef or md ra ma ti ca ll y ."
"w it hr es pe ct t oo ne a no th er , b ut i fm os to ft he p at te rn e le me nt s a re pr es en t i na bo ut t he ri gh t"
"p la ce ,t he nt he ob je ct is pr es en t . An ob je ct re co gn iz er is th en ac ol le ct io no ff ea tu re st ha tc an"
"t el lw he th er th ep at te rn el em en ts ar ep re se nt , a nd wh et he rt he ya re in ab ou tt he ri gh tp la ce ."
Th e m os t o bv io us a pp ro ac h i s t o r ep re se nt t he i ma ge w in do w w it h a h is to gr am o f t he
"p at te rn e le me nt s t ha t a pp ea r t he re . Th is a pp ro ac h d oe s n ot w or k p ar ti cu la rl y w el l , b ec au se"
"t oo m an y p at te rn s g et c on fu se d w it h o ne a no th er . Fo r e xa mp le , i f t he p at te rn e le me nt s a re"
"c ol or p ix el s , t he Fr en ch , UK , a nd Ne th er la nd s f la gs w il l g et c on fu se d b ec au se t he y h av e"
"a pp ro xi ma te ly t he s am e c ol or h is to gr am s , t ho ug h t he c ol or s a re a rr an ge d i n v er y d if fe re nt"
w ay s . Qu it e s im pl e m od if ic at io ns o f h is to gr am s y ie ld v er y u se fu l f ea tu re s . Th e t ri ck i s t o
"p re se rv e s om e s pa ti al d et ai l i n t he r ep re se nt at io n ; f or e xa mp le , h ea dl ig ht s t en d t o b e a t t he"
f ro nt o f a c ar a nd w he el s t en d t o b e a t t he b ot to m . Hi st og ra m-b as ed f ea tu re s h av e b ee n
s uc ce ss fu l i na wi de va ri et yo fr ec og ni ti on a pp li ca ti on s ; w ew il ls ur ve yp ed es tr ia n d et ec ti on .
24.3.2 Pe de st ri an de te ct io n w it h HOGf ea tu re s
"Th e Wo rl d Ba nk es ti ma te st ha te ac hy ea rc ar ac ci de nt sk il la bo ut 1.2 m il li on pe op le ,o fw ho m"
a bo ut tw ot hi rd sa re pe de st ri an s . Th is me an st ha td et ec ti ng p ed es tr ia ns i sa ni mp or ta nt ap pl i-
"c at io n p ro bl em , b ec au se c ar s t ha t c an a ut om at ic al ly d et ec t a nd a vo id p ed es tr ia ns m ig ht s av e"
m an y l iv es . Pe de st ri an s w ea r m an y d if fe re nt k in ds o f c lo th in g a nd a pp ea r i n m an y d if fe re nt
"c on fi gu ra ti on s , b ut , a t r el at iv el y l ow r es ol ut io n , p ed es tr ia ns c an h av e a f ai rl y c ha ra ct er is ti c"
"a pp ea ra nc e . Th e m os t u su al c as es a re l at er al o r f ro nt al v ie ws o f a w al k . In t he se c as es ,"
946 Ch ap te r 24. Pe rc ep ti on
Im ag e Or ie nt at io n Po si ti ve Ne ga ti ve
h is to gr am s c om po ne nt s c om po ne nt s
Fi gu re 24.14 Lo ca l o ri en ta ti on h is to gr am s a re a p ow er fu l f ea tu re f or r ec og ni zi ng e ve n
"q ui te co mp le xo bj ec ts . On th el ef t ,a ni ma ge of ap ed es tr ia n . On th ec en te rl ef t ,l oc al or ie n-"
t at io n h is to gr am sf or pa tc he s . We t he n a pp ly a c la ss if ie r s uc h a s a s up po rt ve ct or ma ch in e
t of in dt he we ig ht sf or ea ch hi st og ra mt ha tb es ts ep ar at et he po si ti ve ex am pl es of pe de st ri an s
f ro mn on-p ed es tr ia ns . We se et ha tt he po si ti ve ly we ig ht ed co mp on en ts lo ok li ke th eo ut li ne
o fa p er so n . Th en eg at iv ec om po ne nt sa re le ss cl ea r ;t he yr ep re se nt al lt he pa tt er ns th at ar e
n ot pe de st ri an s .Fi gu re fr om Da la la nd Tr ig gs(2005)(c id:2)c IEEE .
"w e s ee e it he r a “l ol li po p” s ha pe — t he t or so i s w id er t ha n t he l eg s , w hi ch a re t og et he r i n"
t he s ta nc e p ha se o f t he w al k — o r a “s ci ss or” s ha pe — w he re t he l eg s a re s wi ng in g i n t he
"w al k . We ex pe ct t o s ee s om ee vi de nc e o fa rm s a nd l eg s , a nd t he c ur ve a ro un d t he sh ou ld er s"
"a nd h ea d a ls o t en ds t o v is ib le a nd q ui te d is ti nc ti ve . Th is m ea ns t ha t , w it h a c ar ef ul f ea tu re"
"c on st ru ct io n , w ec an bu il da us ef ul mo vi ng-w in do w p ed es tr ia n d et ec to r ."
"Th er e i sn’t a lw ay s a s tr on g c on tr as t b et we en t he p ed es tr ia n a nd t he b ac kg ro un d , s o i t"
i sb et te rt ou se or ie nt at io ns t ha ne dg es to re pr es en t t he im ag ew in do w . Pe de st ri an s c an mo ve
"t he ir a rm s a nd l eg s a ro un d , s o w e s ho ul d u se a h is to gr am t o s up pr es s s om e s pa ti al d et ai l i n"
"t he fe at ur e . We br ea ku pt he wi nd ow in to ce ll s ,w hi ch co ul do ve rl ap ,a nd bu il da no ri en ta ti on"
h is to gr am i n e ac h c el l . Do in g s o w il l p ro du ce a f ea tu re t ha t c an t el l w he th er t he h ea d-a nd-
"s ho ul de rs c ur ve i s a t t he t op o f t he w in do w o ra t t he b ot to m , b ut w il l n ot c ha ng e i f t he h ea d"
m ov es sl ig ht ly .
On e f ur th er t ri ck i s r eq ui re d t o m ak e a g oo d f ea tu re . Be ca us e o ri en ta ti on f ea tu re s a re
"n ot a ff ec te d b y i ll um in at io n b ri gh tn es s , w e c an no t t re at h ig h-c on tr as t e dg es s pe ci al ly . Th is"
m ea ns th at th ed is ti nc ti ve c ur ve so nt he bo un da ry o fa pe de st ri an a re tr ea te di nt he sa me wa y
"a s f in e t ex tu re d et ai l i n c lo th in g o r i n t he b ac kg ro un d , a nd s o t he s ig na l m ay b e s ub me rg ed"
i nn oi se . We ca nr ec ov er co nt ra st in fo rm at io nb yc ou nt in gg ra di en to ri en ta ti on s w it hw ei gh ts
t ha t r ef le ct h ow s ig ni fi ca nt a g ra di en t i s c om pa re d t o o th er g ra di en ts i n t he s am e c el l . We
"w il l w ri te || ∇Ix || f or t he g ra di en t m ag ni tu de a t p oi nt x i n t he i ma ge , w ri te C f or t he c el l"
"w ho se hi st og ra m w ew is ht oc om pu te , a nd w ri te w x ,C f or th ew ei gh t t ha tw ew il lu se fo rt he"
Se ct io n 24.4. Re co ns tr uc ti ng t he 3 DWo rl d 947
"Fi gu re 24.15 An ot he r e xa mp le o f o bj ec t r ec og ni ti on , t hi s o ne u si ng t he SIFT f ea tu re"
"(Sc al e In va ri an t Fe at ur e Tr an sf or m),a ne ar li er ve rs io no f t he HOGf ea tu re . On th el ef t ,i m-"
"a ge so fa sh oe an da te le ph on et ha ts er ve as ob je ct mo de ls .In th ec en te r ,a te st im ag e .On th e"
"r ig ht ,t he sh oe an dt he te le ph on eh av eb ee nd et ec te db y: f in di ng po in ts in th ei ma ge wh os e"
SIFTf ea tu re de sc ri pt io ns ma tc ha mo de l ;c om pu ti ng an es ti ma te of po se of th em od el ;a nd
v er if yi ng th at es ti ma te . As tr on gm at ch is us ua ll yv er if ie dw it hr ar ef al se po si ti ve s . Im ag es
f ro m Lo we(1999)(c id:2)c IEEE .
o ri en ta ti on a tx fo rt hi sc el l . An at ur al ch oi ce of we ig ht is
"w x ,C = (c id:2) u| ∈|∇"
C
I ||x ∇||
Iu||
.
"Th is c om pa re s t he g ra di en t m ag ni tu de t o o th er s i n t he c el l , s o g ra di en ts t ha t a re l ar ge c om-"
p ar ed t o t he ir n ei gh bo rs g et a l ar ge w ei gh t . Th e r es ul ti ng f ea tu re i s u su al ly c al le d a HOG
f ea tu re(f or Hi st og ra m Of Gr ad ie nt or ie nt at io ns).
HOGFEATURE
Th is f ea tu re c on st ru ct io n i s t he m ai n w ay i n w hi ch p ed es tr ia n d et ec ti on d if fe rs f ro m
"f ac ed et ec ti on . Ot he rw is e ,b ui ld in ga pe de st ri an d et ec to r i sv er yl ik eb ui ld in g a fa ce de te ct or ."
"Th e d et ec to r s we ep s a w in do w a cr os s t he i ma ge , c om pu te s f ea tu re s f or t ha t w in do w , t he n"
p re se nt s i t t o a c la ss if ie r . No n-m ax im um s up pr es si on n ee ds t o b e a pp li ed t o t he o ut pu t . In
"m os ta pp li ca ti on s , t he sc al e a nd or ie nt at io n o ft yp ic al p ed es tr ia ns i sk no wn . Fo re xa mp le , i n"
"d ri vi ng a pp li ca ti on s i n w hi ch a c am er a i s f ix ed to t he c ar , w e e xp ec t t o v ie w m ai nl y v er ti ca l"
"p ed es tr ia ns , a nd w e a re i nt er es te d o nl y i n n ea rb y p ed es tr ia ns . Se ve ra l p ed es tr ia n d at a s et s"
"h av eb ee np ub li sh ed , a nd th es ec an be us ed fo rt ra in in gt he cl as si fi er ."
Pe de st ri an s a re n ot t he o nl y t yp e o f o bj ec t w e c an d et ec t . In Fi gu re 24.15 w e s ee t ha t
s im il ar te ch ni qu es c an be us ed to fi nd av ar ie ty of ob je ct si nd if fe re nt c on te xt s .
24.4 RECONSTRUCTING THE 3 D WORLD
In t hi s s ec ti on w e s ho w h ow t o g o f ro m t he t wo-d im en si on al i ma ge t o a t hr ee-d im en si on al
r ep re se nt at io n o f t he s ce ne . Th e f un da me nt al q ue st io n i s t hi s: Gi ve n t ha t a ll p oi nt s i n t he
"s ce ne th at fa ll al on ga ra yt ot he pi nh ol ea re pr oj ec te d t ot he s am ep oi nt in th ei ma ge ,h ow do"
w er ec ov er th re e-d im en si on al i nf or ma ti on ? Tw oi de as co me to ou rr es cu e:
948 Ch ap te r 24. Pe rc ep ti on
"• If we ha ve tw o(o rm or e)i ma ge sf ro m d if fe re nt c am er ap os it io ns , t he nw ec an tr ia ng u-"
l at et of in dt he po si ti on o fa po in ti nt he sc en e .
• We c an e xp lo it b ac kg ro un d k no wl ed ge a bo ut t he p hy si ca l s ce ne t ha t g av e r is e t o t he
"i ma ge . Gi ve na no bj ec t m od el P(Sc en e)a nd ar en de ri ng m od el P(Im ag e|Sc en e),w e"
c an co mp ut ea po st er io rd is tr ib ut io n P(Sc en e|Im ag e).
Th er ei sa sy et no si ng le u ni fi ed th eo ry fo rs ce ne r ec on st ru ct io n . We su rv ey ei gh tc om mo nl y
"u se dv is ua lc ue s: m ot io n ,b in oc ul ar st er eo ps is , m ul ti pl ev ie ws ,t ex tu re ,s ha di ng ,c on to ur ,"
a nd fa mi li ar ob je ct s .
24.4.1 Mo ti on pa ra ll ax
"If th ec am er am ov es re la ti ve to th et hr ee-d im en si on al s ce ne , t he re su lt in g a pp ar en t m ot io ni n"
"t he im ag e , o pt ic al f lo w ,c an be as ou rc e o fi nf or ma ti on f or bo th t he mo ve me nt of th ec am er a"
"a nd d ep th i n t he s ce ne . To u nd er st an d t hi s , w e s ta te (w it ho ut p ro of) a n e qu at io n t ha t r el at es"
t he op ti ca lf lo wt ot he vi ew er’s tr an sl at io na l v el oc it y Ta nd th ed ep th in th es ce ne .
Th ec om po ne nt s o ft he op ti ca lf lo wf ie ld ar e
−T +x T −T +y T
x z y z
"v (x ,y) = , v (x ,y) = ,"
x y
"Z(x ,y) Z(x ,y)"
"w he re Z(x ,y) i s t he z-c oo rd in at e o f t he p oi nt i n t he s ce ne c or re sp on di ng t o t he p oi nt i n t he"
"i ma ge at(x ,y)."
"No te t ha t b ot h c om po ne nt s o f t he o pt ic al f lo w , v (x ,y) a nd v (x ,y), a re z er o a t t he"
x y
"FOCUSOF p oi nt x = T /T ,y = T /T . Th is p oi nt i s c al le d t he f oc us o f e xp an si on o f t he f lo w"
EXPANSION x z y z
f ie ld . Su pp os e w e c ha ng e t he o ri gi n i n t he x–y p la ne t o l ie a t t he f oc us o f e xp an si on ; t he n
(c id:2) (c id:2)
"t he e xp re ss io ns f or o pt ic al f lo w t ak e o n a p ar ti cu la rl y s im pl e f or m . Le t (x ,y ) b e t he n ew"
"c oo rd in at es d ef in ed by x(c id:2) = x−T /T ,y(c id:2) =y−T /T . Th en"
x z y z
(c id:2) (c id:2)
x T y T
(c id:2) (c id:2) z (c id:2) (c id:2) z
"v (x ,y ) = , v (x ,y )= ."
"x Z(x(c id:2),y(c id:2)) y Z(x(c id:2),y(c id:2))"
"No te th at th er e i sa sc al e-f ac to r a mb ig ui ty h er e . If th ec am er aw as mo vi ng t wi ce as fa st , a nd"
"e ve ry ob je ct in th es ce ne wa st wi ce as bi ga nd at tw ic et he di st an ce t ot he ca me ra ,t he op ti ca l"
f lo wf ie ld wo ul db ee xa ct ly th es am e . Bu tw ec an st il le xt ra ct qu it eu se fu li nf or ma ti on .
1. Su pp os e y ou a re a f ly t ry in g t o l an d o n a w al l a nd y ou w an t t o k no w t he t im e-t o-
c on ta ct a t t he c ur re nt v el oc it y . Th is t im e i s g iv en b y Z/T . No te t ha t a lt ho ug h t he
z
i ns ta nt an eo us o pt ic al f lo w f ie ld c an no t p ro vi de e it he r t he d is ta nc e Z o r t he v el oc it y
"c om po ne nt T , i t c an p ro vi de t he r at io o f t he t wo a nd c an t he re fo re b e u se d t o c on tr ol"
z
t he la nd in g a pp ro ac h . Th er ei sc on si de ra bl e e xp er im en ta l e vi de nc e t ha tm an yd if fe re nt
a ni ma ls pe ci es ex pl oi tt hi sc ue .
"2. Co ns id er t wo p oi nt s a t d ep th s Z , Z , r es pe ct iv el y . We m ay n ot k no w t he a bs ol ut e"
1 2
"v al ue o f e it he r o f t he se , b ut b y c on si de ri ng t he i nv er se o f t he r at io o f t he o pt ic al f lo w"
"m ag ni tu de s a tt he se p oi nt s , w ec an de te rm in e t he de pt hr at io Z /Z . Th is is th ec ue of"
1 2
"m ot io n p ar al la x , o ne w e u se w he n w e l oo k o ut o f t he s id e w in do w o f a m ov in g c ar o r"
t ra in an di nf er th at th es lo we rm ov in gp ar ts of th el an ds ca pe a re fa rt he ra wa y .
Se ct io n 24.4. Re co ns tr uc ti ng t he 3 DWo rl d 949
Pe rc ei ve d o bj ec t
Le ft i ma ge Ri gh t i ma ge
Ri gh t Le ft
Di sp ar it y
(a) (b)
Fi gu re 24.16 Tr an sl at in g a c am er a p ar al le l t o t he i ma ge p la ne c au se s i ma ge f ea tu re s t o
m ov e i n t he c am er a p la ne . Th e d is pa ri ty i n p os it io ns t ha t r es ul ts i s a c ue t o d ep th . If w e
"s up er im po se le ft an dr ig ht im ag e ,a si n(b),w es ee th ed is pa ri ty ."
24.4.2 Bi no cu la rs te re op si s
"Mo st v er te br at es h av e t wo e ye s . Th is i s u se fu l f or r ed un da nc y i n c as e o f a l os t e ye , b ut i t"
h el ps i n o th er w ay s t oo . Mo st p re y h av e e ye s o n t he s id e o f t he h ea d t o e na bl e a w id er fi el d
"BINOCULAR o f v is io n . Pr ed at or s h av e t he e ye s i n t he f ro nt , e na bl in g t he m t o u se b in oc ul ar s te re op si s ."
STEREOPSIS
"Th ei de a i ss im il ar to mo ti on p ar al la x , e xc ep t t ha ti ns te ad o fu si ng i ma ge s o ve rt im e , w eu se"
t wo (o r m or e) i ma ge s s ep ar at ed i n s pa ce . Be ca us e a g iv en f ea tu re i n t he s ce ne w il l b e i n a
"d if fe re nt p la ce r el at iv e t o t he z-a xi s o f e ac h i ma ge p la ne , i f w e s up er po se t he t wo i ma ge s ,"
t he re w il lb ea di sp ar it y i nt he l oc at io n o ft he im ag e f ea tu re i nt he t wo im ag es . Yo uc an s ee
DISPARITY
"t hi s i n Fi gu re 24.16, w he re t he n ea re st p oi nt o f t he p yr am id i s s hi ft ed t o t he l ef t i n t he r ig ht"
i ma ge an dt ot he ri gh ti nt he le ft im ag e .
"No te t ha t t o m ea su re d is pa ri ty w e n ee d t o s ol ve t he c or re sp on de nc e p ro bl em , t ha t i s ,"
"d et er mi ne f or a p oi nt i n t he l ef t i ma ge , t he p oi nt i n t he r ig ht i ma ge t ha t r es ul ts f ro m t he"
p ro je ct io n o f t he s am e s ce ne p oi nt . Th is i s a na lo go us t o w ha t o ne h as t o d o i n m ea su ri ng
"o pt ic al f lo w , a nd t he m os t s im pl e-m in de d a pp ro ac he s a re s om ew ha t s im il ar a nd b as ed o n"
c om pa ri ng bl oc ks of pi xe ls ar ou nd co rr es po nd in gp oi nt su si ng th es um of sq ua re dd if fe re nc es .
"In pr ac ti ce ,w eu se mu ch mo re so ph is ti ca te da lg or it hm s ,w hi ch ex pl oi ta dd it io na lc on st ra in ts ."
"As su mi ng t ha t w e c an m ea su re d is pa ri ty , h ow d oe s t hi s y ie ld i nf or ma ti on a bo ut d ep th"
i n t he s ce ne ? We w il l n ee d t o w or k o ut t he g eo me tr ic al r el at io ns hi p b et we en d is pa ri ty a nd
"d ep th . Fi rs t , w ew il l c on si de r t he c as e w he n b ot h t he e ye s (o r c am er as) a re l oo ki ng f or wa rd"
w it ht he ir op ti ca la xe sp ar al le l . Th er el at io ns hi p o ft he ri gh tc am er at ot he le ft ca me ra is th en
"j us t a d is pl ac em en t a lo ng t he x-a xi s b y a n a mo un t b , t he b as el in e . We c an u se t he o pt ic al"
"f lo w e qu at io ns f ro m t he p re vi ou s s ec ti on , i f w e t hi nk o f t hi s a s r es ul ti ng f ro m a t ra ns la ti on"
950 Ch ap te r 24. Pe rc ep ti on
Le ft
e ye δθ/2
P
L
θ
b P P
0
P
R
Ri gh t
e ye Z δZ
Fi gu re 24.17 Th er el at io nb et we en di sp ar it ya nd de pt hi ns te re op si s . Th ec en te rs of pr o-
"j ec ti on of th et wo ey es ar eb ap ar t ,a nd th eo pt ic al ax es in te rs ec ta tt he fi xa ti on po in t P . Th e"
0
"p oi nt P i n t he s ce ne p ro je ct s t o p oi nt s PL a nd PR i n t he t wo e ye s . In a ng ul ar t er ms , t he"
d is pa ri ty be tw ee nt he se isδθ. Se et ex t .
"v ec to r T a ct in g f or t im e δt , w it h T = b/δt a nd T = T = 0. Th e h or iz on ta l a nd v er ti ca l"
x y z
"d is pa ri ty ar eg iv en by th eo pt ic al fl ow co mp on en ts ,m ul ti pl ie db yt he ti me st epδt ,H = v δt ,"
x
"V = v δt . Ca rr yi ng ou tt he su bs ti tu ti on s , w eg et th er es ul tt ha t H = b/Z ,V = 0. In wo rd s ,"
y
"t he h or iz on ta l d is pa ri ty i s e qu al t o t he r at io o f t he b as el in e t o t he d ep th , a nd t he v er ti ca l"
"d is pa ri ty i sz er o . Gi ve nt ha tw ek no w b ,w ec an me as ur e H a nd re co ve rt he de pt h Z ."
"Un de r n or ma l v ie wi ng c on di ti on s , h um an s f ix at e ; t ha t i s , t he re i s s om e p oi nt i n t he"
FIXATE
s ce ne at wh ic ht he op ti ca la xe so ft he tw oe ye si nt er se ct . Fi gu re 24.17 s ho ws tw oe ye sf ix at ed
"a t a p oi nt P , w hi ch i s a t a d is ta nc e Z f ro m t he m id po in t o f t he e ye s . Fo r c on ve ni en ce ,"
0
"w e w il l c om pu te t he a ng ul ar d is pa ri ty , m ea su re d i n r ad ia ns . Th e d is pa ri ty a t t he p oi nt o f"
"f ix at io n P i s z er o . Fo r s om e o th er p oi nt P i n t he s ce ne t ha t i s δZ f ar th er a wa y , w e c an"
0
"c om pu te t he a ng ul ar d is pl ac em en ts o f t he l ef t a nd r ig ht i ma ge s o f P , w hi ch w ew il l c al l P"
L
"a nd P , r es pe ct iv el y . If e ac h o f t he se i s d is pl ac ed b y a n a ng le δθ/2 r el at iv e t o P , t he n t he"
R 0
"d is pl ac em en t b et we en P a nd P ,w hi ch is th ed is pa ri ty of P ,i sj us tδθ. Fr om Fi gu re 24.17,"
L R
"t anθ = b/2 a nd ta n(θ−δθ/2) = b/2 ,b ut fo rs ma ll an gl es , t anθ ≈ θ,s o"
Z Z+δZ
b/2 b/2 bδZ
δθ/2 = − ≈
Z Z +δZ 2 Z 2
"a nd ,s in ce th ea ct ua ld is pa ri ty i sδθ,w eh av e"
bδZ
d is pa ri ty = .
Z 2
"In hu ma ns ,b(t he ba se li ne di st an ce be tw ee nt he ey es)i sa bo ut 6 c m . Su pp os et ha t Z i sa bo ut"
BASELINE
100 c m . If t he s ma ll es t d et ec ta bl e δθ (c or re sp on di ng t o t he p ix el s iz e) i s a bo ut 5 s ec on ds
"o f a rc , t hi s g iv es a δZ o f 0.4 m m . Fo r Z = 30 c m , w e g et t he i mp re ss iv el y s ma ll v al ue"
"δZ = 0.036 m m . Th at is , a ta di st an ce o f 30 c m ,h um an s c an di sc ri mi na te d ep th s t ha td if fe r"
"b ya sl it tl ea s 0.036 m m ,e na bl in g u st ot hr ea dn ee dl es an dt he li ke ."
Se ct io n 24.4. Re co ns tr uc ti ng t he 3 DWo rl d 951
Fi gu re 24.18 (a)Fo ur fr am es fr om a v id eo se qu en ce in w hi ch th e c am er ai s m ov ed an d
"r ot at ed re la ti ve to th eo bj ec t .(b)Th ef ir st fr am eo ft he se qu en ce ,a nn ot at ed wi th sm al lb ox es"
h ig hl ig ht in gt he fe at ur es fo un db yt he fe at ur ed et ec to r .(Co ur te sy of Ca rl o To ma si .)
24.4.3 Mu lt ip le vi ew s
"Sh ap ef ro mo pt ic al fl ow or bi no cu la rd is pa ri ty ar et wo in st an ce so fa mo re ge ne ra lf ra me wo rk ,"
"t ha to fe xp lo it in g m ul ti pl ev ie ws fo rr ec ov er in g d ep th . In co mp ut er vi si on , t he re is no re as on"
f or us to be re st ri ct ed to di ff er en ti al mo ti on or to on ly us et wo ca me ra sc on ve rg in ga ta fi xa ti on
"p oi nt . Th er ef or e , t ec hn iq ue s h av e b ee n d ev el op ed t ha t e xp lo it t he i nf or ma ti on a va il ab le i n"
"m ul ti pl e v ie ws , e ve n f ro m h un dr ed s o r t ho us an ds o f c am er as . Al go ri th mi ca ll y , t he re a re"
t hr ee su bp ro bl em s t ha tn ee dt ob es ol ve d:
"• Th e c or re sp on de nc e p ro bl em , i .e ., i de nt if yi ng f ea tu re s i n t he d if fe re nt i ma ge s t ha t a re"
p ro je ct io ns o ft he sa me fe at ur ei nt he th re e-d im en si on al w or ld .
"• Th e r el at iv e o ri en ta ti on p ro bl em , i .e ., d et er mi ni ng t he t ra ns fo rm at io n (r ot at io n a nd"
t ra ns la ti on) b et we en th ec oo rd in at e s ys te ms fi xe dt ot he di ff er en t c am er as .
"• Th ed ep th es ti ma ti on pr ob le m ,i .e .,d et er mi ni ng th ed ep th so fv ar io us po in ts in th ew or ld"
f or wh ic hi ma ge pl an ep ro je ct io ns w er ea va il ab le i na tl ea st t wo vi ew s
"Th e d ev el op me nt o f r ob us t m at ch in g p ro ce du re s f or t he c or re sp on de nc e p ro bl em , a cc om pa-"
"n ie db yn um er ic al ly st ab le al go ri th ms fo rs ol vi ng fo rr el at iv eo ri en ta ti on s a nd sc en ed ep th ,i s"
o ne of th es uc ce ss st or ie so fc om pu te rv is io n . Re su lt sf ro mo ne su ch ap pr oa ch du et o To ma si
a nd Ka na de(1992)a re sh ow ni n Fi gu re s 24.18 a nd 24.19.
24.4.4 Te xt ur e
Ea rl ie rw es aw h ow t ex tu re w as us ed f or se gm en ti ng o bj ec ts . It ca n a ls o b eu se d t oe st im at e
d is ta nc es . In Fi gu re 24.20 w es ee th at ah om og en eo us t ex tu re i nt he sc en e r es ul ts i nv ar yi ng
"t ex tu re el em en ts , o rt ex el s , i nt he im ag e . Al lt he pa vi ng t il es in(a)a re id en ti ca l i nt he sc en e ."
TEXEL
Th ey ap pe ar di ff er en t i nt he im ag ef or tw or ea so ns:
952 Ch ap te r 24. Pe rc ep ti on
(a) (b)
Fi gu re 24.19 (a)Th re e-d im en si on al re co ns tr uc ti on of th el oc at io ns of th ei ma ge fe at ur es
"i n Fi gu re 24.18,s ho wn fr om ab ov e .(b)Th er ea lh ou se ,t ak en fr om th es am ep os it io n ."
1. Di ff er en ce si nt he di st an ce so ft he te xe ls fr om th ec am er a . Di st an to bj ec ts ap pe ar sm al le r
b ya sc al in g f ac to ro f 1/Z .
2. Di ff er en ce s i n t he f or es ho rt en in g o f t he t ex el s . If a ll t he t ex el s a re i n t he g ro un d p la ne
"t he n d is ta nc e o ne s a re v ie we d a t a n a ng le t ha t i s f ar th er o ff t he p er pe nd ic ul ar , a nd s o"
a re m or e f or es ho rt en ed . Th e m ag ni tu de o f t he f or es ho rt en in g e ff ec t i s p ro po rt io na l t o
"c osσ, w he re σ i s t he s la nt , t he a ng le b et we en t he Z-a xi s a nd n , t he s ur fa ce n or ma l t o"
t he te xe l .
Re se ar ch er s h av e d ev el op ed v ar io us a lg or it hm s t ha t t ry t o e xp lo it t he v ar ia ti on i n t he
"a pp ea ra nc e o f t he p ro je ct ed t ex el s a s a b as is f or d et er mi ni ng s ur fa ce n or ma ls . Ho we ve r , t he"
a cc ur ac y a nd a pp li ca bi li ty o f t he se a lg or it hm s i s n ot a ny wh er e a s g en er al a s t ho se b as ed o n
u si ng mu lt ip le vi ew s .
24.4.5 Sh ad in g
Sh ad in g—v ar ia ti on i nt he i nt en si ty o fl ig ht r ec ei ve d f ro m d if fe re nt p or ti on s o fa su rf ac e i na
s ce ne—i s d et er mi ne d b y t he g eo me tr y o f t he s ce ne a nd b y t he r ef le ct an ce p ro pe rt ie s o f t he
"s ur fa ce s . In c om pu te r g ra ph ic s , t he o bj ec ti ve i s t o c om pu te t he i ma ge b ri gh tn es s I(x ,y),"
g iv en t he s ce ne g eo me tr y a nd r ef le ct an ce p ro pe rt ie s o f t he o bj ec ts i n t he s ce ne . Co mp ut er
"v is io na im st oi nv er tt he pr oc es s—t ha t i s ,t or ec ov er th eg eo me tr ya nd re fl ec ta nc e p ro pe rt ie s ,"
"g iv en t he i ma ge b ri gh tn es s I(x ,y). Th is h as p ro ve d t o b e d if fi cu lt t o d o i n a ny th in g b ut t he"
s im pl es tc as es .
"Fr om t he p hy si ca l m od el o f s ec ti on 24.1.4, w e k no w t ha t i f a s ur fa ce n or ma l p oi nt s"
"t ow ar d t he l ig ht s ou rc e , t he s ur fa ce i s b ri gh te r , a nd i f i t p oi nt s a wa y , t he s ur fa ce i s d ar ke r ."
"We c an no t c on cl ud e t ha t a d ar k p at ch h as i ts n or ma l p oi nt in g a wa y f ro m t he l ig ht ; i ns te ad ,"
"i t c ou ld h av e l ow a lb ed o . Ge ne ra ll y , a lb ed o c ha ng es q ui te q ui ck ly i n i ma ge s , a nd s ha di ng"
Se ct io n 24.4. Re co ns tr uc ti ng t he 3 DWo rl d 953
(a) (b)
Fi gu re 24.20 (a)At ex tu re ds ce ne .As su mi ng th at th er ea lt ex tu re is un if or ma ll ow sr ec ov-
e ry of th es ur fa ce or ie nt at io n . Th ec om pu te ds ur fa ce or ie nt at io ni si nd ic at ed by ov er la yi ng a
"b la ck ci rc le an dp oi nt er ,t ra ns fo rm ed as if th ec ir cl ew er ep ai nt ed on th es ur fa ce at th at po in t ."
(b)Re co ve ry of sh ap ef ro mt ex tu re fo ra cu rv ed su rf ac e(w hi te ci rc le an dp oi nt er th is ti me).
Im ag es co ur te sy of Ji te nd ra Ma li ka nd Ru th Ro se nh ol tz(1994).
"c ha ng es r at he r s lo wl y , a nd h um an s s ee m t o b e q ui te g oo d a t u si ng t hi s o bs er va ti on t o t el l"
"w he th er l ow i ll um in at io n , s ur fa ce o ri en ta ti on , o r a lb ed o c au se d a s ur fa ce p at ch t o b e d ar k ."
"To s im pl if y t he p ro bl em , l et u s a ss um e t ha t t he a lb ed o i s k no wn a t e ve ry s ur fa ce p oi nt . It"
"i s s ti ll d if fi cu lt t o r ec ov er t he n or ma l , b ec au se t he i ma ge b ri gh tn es s i s o ne m ea su re me nt b ut"
"t he no rm al ha st wo un kn ow np ar am et er s , s ow ec an no t s im pl ys ol ve fo rt he no rm al . Th ek ey"
"t o t hi s s it ua ti on s ee ms t o b e t ha t n ea rb y n or ma ls w il l b e s im il ar , b ec au se m os t s ur fa ce s a re"
s mo ot h—t he y d on ot ha ve sh ar pc ha ng es .
Th er ea ld if fi cu lt yc om es in de al in gw it hi nt er re fl ec ti on s . If we co ns id er at yp ic al in do or
"s ce ne , s uc h a s t he o bj ec ts i ns id e a n o ff ic e , s ur fa ce s a re i ll um in at ed n ot o nl y b y t he l ig ht"
"s ou rc es , b ut a ls o b y t he l ig ht r ef le ct ed f ro m o th er s ur fa ce s i n t he s ce ne t ha t e ff ec ti ve ly s er ve"
a ss ec on da ry l ig ht s ou rc es . Th es e m ut ua l i ll um in at io n e ff ec ts a re q ui te s ig ni fi ca nt a nd m ak e
i tq ui te di ff ic ul tt op re di ct th er el at io ns hi pb et we en th en or ma la nd th ei ma ge br ig ht ne ss . Tw o
"s ur fa ce p at ch es w it h t he s am e n or ma l m ig ht h av e q ui te d if fe re nt b ri gh tn es se s , b ec au se o ne"
r ec ei ve s l ig ht r ef le ct ed f ro m a l ar ge w hi te w al l a nd t he o th er f ac es o nl y a d ar k b oo kc as e .
"De sp it e t he se d if fi cu lt ie s , t he p ro bl em i s i mp or ta nt . Hu ma ns s ee m t o b e a bl e t o i gn or e t he"
"e ff ec ts o f i nt er re fl ec ti on s a nd g et a u se fu l p er ce pt io n o f s ha pe f ro m s ha di ng , b ut w e k no w"
f ru st ra ti ng ly l it tl ea bo ut al go ri th ms t od ot hi s .
24.4.6 Co nt ou r
"Wh en w e l oo k a t a l in e d ra wi ng , s uc h a s Fi gu re 24.21, w e g et a v iv id p er ce pt io n o f t hr ee-"
d im en si on al s ha pe an dl ay ou t . Ho w ? It is ac om bi na ti on o fr ec og ni ti on o ff am il ia ro bj ec ts in
t he sc en ea nd th ea pp li ca ti on o fg en er ic c on st ra in ts s uc ha st he fo ll ow in g:
"• Oc cl ud in g c on to ur s , s uc h a s t he o ut li ne s o f t he h il ls . On es id e o ft he c on to ur i s n ea re r"
"t ot he vi ew er , t he ot he rs id e i sf ar th er a wa y . Fe at ur es s uc ha sl oc al c on ve xi ty a nd sy m-"
954 Ch ap te r 24. Pe rc ep ti on
Fi gu re 24.21 An ev oc at iv el in ed ra wi ng .(Co ur te sy of Is ha Ma li k .)
m et ry pr ov id ec ue st os ol vi ng th ef ig ur e-g ro un dp ro bl em—a ss ig ni ng w hi ch si de of th e
FIGURE-GROUND
"c on to ur i s f ig ur e (n ea re r), a nd w hi ch i s g ro un d (f ar th er). At a n o cc lu di ng c on to ur , t he"
l in eo fs ig ht is ta ng en ti al t ot he su rf ac ei nt he sc en e .
"• T-j un ct io ns . Wh en o ne o bj ec t o cc lu de s a no th er , t he c on to ur o f t he f ar th er o bj ec t i s"
"i nt er ru pt ed ,a ss um in gt ha tt he ne ar er ob je ct is op aq ue . AT-j un ct io nr es ul ts in th ei ma ge ."
"• Po si ti on o n t he g ro un d p la ne . Hu ma ns , l ik e m an y o th er t er re st ri al a ni ma ls , a re v er y"
"o ft en in as ce ne th at co nt ai ns ag ro un dp la ne ,w it hv ar io us ob je ct sa td if fe re nt lo ca ti on s"
GROUNDPLANE
"o nt hi s p la ne . Be ca us e o fg ra vi ty , t yp ic al o bj ec ts d on’t f lo at in ai rb ut a re su pp or te d b y"
"t hi sg ro un dp la ne ,a nd we ca ne xp lo it th ev er ys pe ci al ge om et ry of th is vi ew in gs ce na ri o ."
Le t u s w or k o ut t he p ro je ct io n o f o bj ec ts o f d if fe re nt h ei gh ts a nd a t d if fe re nt l oc a-
"t io ns o n t he g ro un d p la ne . Su pp os e t ha t t he e ye , o r c am er a , i s a t a h ei gh t h a bo ve"
c
"t he gr ou nd p la ne . Co ns id er a n o bj ec t o f h ei gh t δY r es ti ng o n t he g ro un d p la ne , w ho se"
"b ot to m i s a t (X ,−h ,Z) a nd t op i s a t (X ,δY − h ,Z). Th e b ot to m p ro je ct s t o t he"
c c
"i ma ge po in t(f X/Z ,−f h /Z)a nd th et op to(f X/Z ,f(δY −h )/Z). Th eb ot to ms of"
c c
n ea re ro bj ec ts(s ma ll Z)p ro je ct to po in ts lo we ri nt he im ag ep la ne ;f ar th er ob je ct s h av e
b ot to ms cl os er to th eh or iz on .
24.4.7 Ob je ct s a nd t he ge om et ri c s tr uc tu re o fs ce ne s
A t yp ic al a du lt h um an h ea d i s a bo ut 9 i nc he s l on g . Th is m ea ns t ha t f or s om eo ne w ho i s 43
"f ee ta wa y ,t he an gl es ub te nd ed by th eh ea da tt he ca me ra is 1 d eg re e . If we se ea pe rs on wh os e"
"h ea d a pp ea rs t o s ub te nd j us t h al f a d eg re e , Ba ye si an i nf er en ce s ug ge st s w e a re l oo ki ng a t a"
"n or ma l p er so n w ho i s 86 f ee t a wa y , r at he r t ha n s om eo ne w it h a h al f-s iz e h ea d . Th is l in e o f"
"r ea so ni ng s up pl ie su sw it ha me th od to ch ec kt he re su lt so fa pe de st ri an d et ec to r , a sw el la sa"
"m et ho dt oe st im at et he di st an ce to an ob je ct . Fo re xa mp le ,a ll pe de st ri an s a re ab ou tt he sa me"
"h ei gh t ,a nd th ey te nd to st an do na gr ou nd pl an e . If we kn ow wh er et he ho ri zo ni si na ni ma ge ,"
w ec an ra nk pe de st ri an s b yd is ta nc et ot he ca me ra . Th is wo rk s b ec au se we kn ow wh er et he ir
Se ct io n 24.4. Re co ns tr uc ti ng t he 3 DWo rl d 955
Im ag e p la ne
Ho ri zo n
Gr ou nd p la ne
C
C B
B
A
A
"Fi gu re 24.22 In a n i ma ge o f p eo pl e s ta nd in g o n a g ro un d p la ne , t he p eo pl e w ho se f ee t"
a re cl os er to th eh or iz on in th ei ma ge mu st be fa rt he ra wa y(t op dr aw in g). Th is me an st he y
m us tl oo ks ma ll er in th ei ma ge(l ef tl ow er dr aw in g).Th is me an st ha tt he si ze an dl oc at io no f
r ea lp ed es tr ia ns in an im ag ed ep en du po no ne an ot he ra nd on th el oc at io no ft he ho ri zo n .To
"e xp lo it th is , w e n ee d t o i de nt if y t he g ro un dp la ne , w hi ch i s d on e u si ng s ha pe-f ro m-t ex tu re"
"m et ho ds .Fr om th is in fo rm at io n ,a nd fr om so me li ke ly pe de st ri an s ,w ec an re co ve ra ho ri zo n"
"a ss ho wn in th ec en te ri ma ge .On th er ig ht ,a cc ep ta bl ep ed es tr ia nb ox es gi ve nt hi sg eo me tr ic"
"c on te xt . No ti ce th at pe de st ri an sw ho ar eh ig he ri nt he sc en em us tb es ma ll er . If th ey ar en ot ,"
t he nt he ya re fa ls ep os it iv es .Im ag es fr om Ho ie me ta l .(2008)(c id:2)c IEEE .
"f ee t a re , a nd p ed es tr ia ns w ho se f ee t a re c lo se r t o t he h or iz on i n t he i ma ge a re f ar th er a wa y"
f ro mt he ca me ra(Fi gu re 24.22). Pe de st ri an sw ho ar ef ar th er a wa yf ro mt he ca me ra mu st al so
b es ma ll er in th ei ma ge . Th is me an sw ec an ru le ou ts om ed et ec to rr es po ns es—i fa de te ct or
"f in ds a p ed es tr ia n w ho i s l ar ge i n t he i ma ge a nd w ho se f ee t a re c lo se t o t he h or iz on , i t h as"
"f ou nd a n e no rm ou s p ed es tr ia n ; t he se d on’t e xi st , s o t he d et ec to r i s w ro ng . In f ac t , m an y o r"
"m os ti ma ge wi nd ow sa re no ta cc ep ta bl e p ed es tr ia n w in do ws ,a nd ne ed no te ve nb ep re se nt ed"
t ot he de te ct or .
"Th er e a re s ev er al s tr at eg ie s f or f in di ng t he h or iz on , i nc lu di ng s ea rc hi ng f or a r ou gh ly"
"h or iz on ta l l in e w it h a l ot o f b lu e a bo ve i t , a nd u si ng s ur fa ce o ri en ta ti on e st im at es o bt ai ne d"
f ro m t ex tu re d ef or ma ti on . A m or e e le ga nt s tr at eg y e xp lo it s t he r ev er se o f o ur g eo me tr ic
c on st ra in ts . Ar ea so na bl yr el ia bl ep ed es tr ia nd et ec to ri s c ap ab le of pr od uc in ge st im at es of th e
"h or iz on , i f t he re a re s ev er al p ed es tr ia ns i n t he s ce ne a t d if fe re nt d is ta nc es f ro m t he c am er a ."
Th is is be ca us e t he re la ti ve sc al in g o ft he pe de st ri an s i sa cu et ow he re th eh or iz on i s . So we
"c an ex tr ac ta ho ri zo ne st im at ef ro mt he de te ct or ,t he nu se th is es ti ma te to pr un et he pe de st ri an"
d et ec to r’s m is ta ke s .
956 Ch ap te r 24. Pe rc ep ti on
"If th eo bj ec ti sf am il ia r ,w ec an es ti ma te mo re th an ju st th ed is ta nc et oi t ,b ec au se wh at it"
"l oo ks li ke in th ei ma ge de pe nd sv er ys tr on gl yo ni ts po se ,i .e .,i ts po si ti on an do ri en ta ti on wi th"
"r es pe ct to th ev ie we r . Th is ha sm an ya pp li ca ti on s . Fo ri ns ta nc e ,i na ni nd us tr ia lm an ip ul at io n"
"t as k , t he r ob ot a rm c an no t p ic k u p a n o bj ec t u nt il t he p os e i s k no wn . In t he c as e o f r ig id"
"o bj ec ts , w he th er t hr ee-d im en si on al o rt wo-d im en si on al , t hi s p ro bl em h as as im pl e a nd w el l-"
"d ef in ed so lu ti on b as ed on th ea li gn me nt me th od ,w hi ch we no wd ev el op ."
ALIGNMENTMETHOD
"Th e o bj ec t i s r ep re se nt ed b y M f ea tu re s o r d is ti ng ui sh ed p oi nt s m ,m ,...,m i n"
1 2 M
t hr ee-d im en si on al s pa ce—p er ha ps t he v er ti ce s o f a p ol yh ed ra l o bj ec t . Th es e a re m ea su re d
i n s om e c oo rd in at e s ys te m t ha t i s n at ur al f or t he o bj ec t . Th e p oi nt s a re t he n s ub je ct ed t o
"a n u nk no wn t hr ee-d im en si on al r ot at io n R , f ol lo we d b y t ra ns la ti on b y a n u nk no wn a mo un t t"
"a nd t he n p ro je ct io n t o g iv e r is e t o i ma ge f ea tu re p oi nt s p ,p ,...,p o n t he i ma ge p la ne ."
1 2 N
"In g en er al , N (c id:7)= M , b ec au se s om e m od el p oi nt s m ay b e o cc lu de d , a nd t he f ea tu re d et ec to r"
c ou ld mi ss so me fe at ur es(o ri nv en tf al se on es du et on oi se). We ca ne xp re ss th is as
p = Π(Rm +t) = Q(m )
i i i
"f or a t hr ee-d im en si on al m od el p oi nt m a nd t he c or re sp on di ng i ma ge p oi nt p . He re , R"
i i
"i s a r ot at io n m at ri x , t i s a t ra ns la ti on , a nd Π d en ot es p er sp ec ti ve p ro je ct io n o r o ne o f i ts"
"a pp ro xi ma ti on s , s uc ha ss ca le d o rt ho gr ap hi c p ro je ct io n . Th en et re su lt is at ra ns fo rm at io n Q"
t ha t w il l b ri ng t he m od el p oi nt m i nt o a li gn me nt w it h t he i ma ge p oi nt p . Al th ou gh w e d o
i i
"n ot kn ow Qi ni ti al ly ,w ed ok no w(f or ri gi do bj ec ts)t ha t Qm us tb et he sa me fo ra ll th em od el"
p oi nt s .
"We ca ns ol ve fo r Q ,g iv en th et hr ee-d im en si on al c oo rd in at es o ft hr ee mo de lp oi nt s a nd"
t he ir tw o-d im en si on al p ro je ct io ns . Th ei nt ui ti on i s a sf ol lo ws: w ec an wr it e d ow ne qu at io ns
"r el at in g t he c oo rd in at es o f p t o t ho se o f m . In t he se e qu at io ns , t he u nk no wn q ua nt it ie s"
i i
c or re sp on d t ot he pa ra me te rs of th er ot at io nm at ri x Ra nd th et ra ns la ti on v ec to rt . If we ha ve
"e no ug h e qu at io ns , w e o ug ht t o b e a bl e t o s ol ve f or Q . We w il l n ot g iv e a p ro of h er e ; w e"
m er el ys ta te th ef ol lo wi ng re su lt:
"Gi ve n t hr ee n on co ll in ea r p oi nt s m , m , a nd m i n t he m od el , a nd t he ir s ca le d"
1 2 3
"o rt ho gr ap hi c p ro je ct io ns p , p , a nd p o n t he i ma ge p la ne , t he re e xi st e xa ct ly"
1 2 3
t wo tr an sf or ma ti on sf ro mt he th re e-d im en si on al mo de lc oo rd in at ef ra me to at wo-
d im en si on al i ma ge co or di na te f ra me .
Th es et ra ns fo rm at io ns ar er el at ed by ar ef le ct io na ro un dt he i ma ge pl an ea nd ca nb ec om pu te d
b y a si mp le c lo se d-f or m s ol ut io n . If w ec ou ld i de nt if y t he c or re sp on di ng m od el f ea tu re s f or
"t hr ee fe at ur es i nt he im ag e ,w ec ou ld co mp ut e Q ,t he po se of th eo bj ec t ."
Le tu ss pe ci fy po si ti on an do ri en ta ti on in ma th em at ic al te rm s . Th ep os it io no fa po in t P
"i nt he sc en ei sc ha ra ct er iz ed by th re en um be rs ,t he (X ,Y ,Z)c oo rd in at es of P i na co or di na te"
f ra me w it h i ts o ri gi n a t t he p in ho le a nd t he Z-a xi s a lo ng t he o pt ic al a xi s (Fi gu re 24.2 o n
"p ag e 931). Wh at w e h av e a va il ab le i s t he p er sp ec ti ve p ro je ct io n (x ,y) o f t he p oi nt i n t he"
i ma ge . Th is s pe ci fi es t he r ay f ro m t he p in ho le a lo ng w hi ch P l ie s ; w ha t w e d o n ot k no w i s
t he di st an ce . Th et er m“o ri en ta ti on” c ou ld be us ed in tw os en se s:
1. Th e o ri en ta ti on o f t he o bj ec t a s a w ho le . Th is c an b e s pe ci fi ed i n t er ms o f a t hr ee-
d im en si on al r ot at io nr el at in g i ts co or di na te f ra me to th at o ft he ca me ra .
Se ct io n 24.5. Ob je ct Re co gn it io n f ro m St ru ct ur al In fo rm at io n 957
2. Th eo ri en ta ti on o f t he su rf ac e o ft he ob je ct a t P . Th is ca n b e s pe ci fi ed b y a no rm al
"v ec to r ,n—w hi ch is av ec to rs pe ci fy in gt he di re ct io nt ha ti sp er pe nd ic ul ar to th es ur fa ce ."
Of te n w ee xp re ss t he s ur fa ce o ri en ta ti on u si ng t he v ar ia bl es s la nt a nd t il t . Sl an t i s t he
SLANT
a ng le be tw ee nt he Z-a xi sa nd n . Ti lt is th ea ng le be tw ee nt he X-a xi sa nd th ep ro je ct io n
TILT
o fn on th ei ma ge pl an e .
"Wh en t he c am er a m ov es r el at iv e t o a n o bj ec t , b ot h t he o bj ec t’s d is ta nc e a nd i ts o ri en ta ti on"
"c ha ng e . Wh at i s p re se rv ed i s t he s ha pe o f t he o bj ec t . If t he o bj ec t i s a c ub e , t ha t f ac t i s"
SHAPE
n ot ch an ge d w he nt he ob je ct mo ve s . Ge om et er sh av eb ee na tt em pt in g t of or ma li ze sh ap ef or
"c en tu ri es ,t he ba si cc on ce pt be in gt ha ts ha pe is wh at re ma in su nc ha ng ed un de rs om eg ro up of"
"t ra ns fo rm at io ns—f or e xa mp le ,c om bi na ti on s o fr ot at io ns a nd tr an sl at io ns . Th ed if fi cu lt yl ie s"
i nf in di ng ar ep re se nt at io no fg lo ba ls ha pe th at is ge ne ra le no ug ht od ea lw it ht he wi de va ri et y
"o fo bj ec ts in th er ea lw or ld—n ot ju st si mp le fo rm sl ik ec yl in de rs ,c on es ,a nd sp he re s—a nd ye t"
c an be re co ve re d e as il y f ro mt he vi su al i np ut . Th ep ro bl em o f c ha ra ct er iz in g t he l oc al sh ap e
"o f a s ur fa ce i s m uc h b et te r u nd er st oo d . Es se nt ia ll y , t hi s c an b e d on e i n t er ms o f c ur va tu re:"
h ow do es th es ur fa ce n or ma lc ha ng ea so ne mo ve si nd if fe re nt di re ct io ns o nt he su rf ac e ? Fo r
"a p la ne , t he re i s n o c ha ng e a t a ll . Fo r a c yl in de r , i f o ne m ov es p ar al le l t o t he a xi s , t he re i s"
"n o c ha ng e , b ut i n t he p er pe nd ic ul ar d ir ec ti on , t he s ur fa ce n or ma l r ot at es a t a r at e i nv er se ly"
"p ro po rt io na l t o t he r ad iu s o f t he c yl in de r , a nd s o o n . Al l t hi s i s s tu di ed i n t he s ub je ct c al le d"
d if fe re nt ia l g eo me tr y .
"Th es ha pe o fa no bj ec t i sr el ev an tf or so me ma ni pu la ti on t as ks(e .g .,d ec id in g w he re to"
"g ra sp an ob je ct), b ut it sm os ts ig ni fi ca nt r ol ei si no bj ec tr ec og ni ti on , w he re ge om et ri c s ha pe"
"a lo ng wi th co lo ra nd te xt ur ep ro vi de th em os ts ig ni fi ca nt cu es to en ab le us to id en ti fy ob je ct s ,"
"c la ss if yw ha ti si nt he im ag ea sa ne xa mp le of so me cl as so ne ha ss ee nb ef or e ,a nd so on ."
24.5 OBJECT RECOGNITION FROM STRUCTURAL INFORMATION
Pu tt in ga bo xa ro un dp ed es tr ia ns in an im ag em ay we ll be en ou gh to av oi dd ri vi ng in to th em .
"We ha ve se en th at we ca nf in da bo xb yp oo li ng t he ev id en ce p ro vi de d b yo ri en ta ti on s , u si ng"
h is to gr am m et ho ds to su pp re ss p ot en ti al ly c on fu si ng s pa ti al d et ai l . If we wa nt to kn ow mo re
"a bo ut wh at so me on ei sd oi ng ,w ew il ln ee dt ok no ww he re th ei ra rm s ,l eg s ,b od y ,a nd he ad li e"
i nt he pi ct ur e . In di vi du al b od yp ar ts a re qu it ed if fi cu lt to de te ct o nt he ir ow nu si ng am ov in g
"w in do wm et ho d ,b ec au se th ei rc ol or an dt ex tu re ca nv ar yw id el ya nd be ca us et he ya re us ua ll y"
"s ma ll i n i ma ge s . Of te n , f or ea rm s a nd s hi ns a re a s s ma ll a s t wo t o t hr ee p ix el s w id e . Bo dy"
"p ar ts d o n ot u su al ly a pp ea r o n t he ir o wn , a nd r ep re se nt in g w ha t i s c on ne ct ed t o w ha t c ou ld"
"b eq ui te po we rf ul ,b ec au se pa rt st ha ta re ea sy to fi nd mi gh tt el lu sw he re to lo ok fo rp ar ts th at"
a re sm al la nd ha rd to de te ct .
"In fe rr in g t he la yo ut of hu ma nb od ie s i np ic tu re s i sa ni mp or ta nt t as ki nv is io n , b ec au se"
t he l ay ou t o f t he b od y o ft en r ev ea ls w ha t p eo pl e a re d oi ng . A m od el c al le d a d ef or ma bl e
DEFORMABLE t em pl at ec an te ll us wh ic hc on fi gu ra ti on s a re ac ce pt ab le: t he el bo wc an be nd bu tt he he ad is
TEMPLATE
n ev er jo in ed to th ef oo t . Th es im pl es td ef or ma bl et em pl at em od el of ap er so nc on ne ct sl ow er
"a rm st ou pp er ar ms ,u pp er ar ms to th et or so ,a nd so on . Th er ea re ri ch er mo de ls: f or ex am pl e ,"
958 Ch ap te r 24. Pe rc ep ti on
w e c ou ld r ep re se nt t he f ac t t ha t l ef t a nd r ig ht u pp er a rm s t en d t o h av e t he s am e c ol or a nd
"t ex tu re ,a sd ol ef ta nd ri gh tl eg s . Th es er ic he rm od el sr em ai nd if fi cu lt to wo rk wi th ,h ow ev er ."
24.5.1 Th e g eo me tr y o fb od ie s: Fi nd in g a rm s a nd le gs
"Fo r t he m om en t , w e a ss um e t ha t w e k no w w ha t t he p er so n’s b od y p ar ts l oo k l ik e (e .g ., w e"
k no w t he c ol or a nd t ex tu re o f t he p er so n’s c lo th in g). We c an m od el t he g eo me tr y o f t he
"b od y a sa tr ee of el ev en s eg me nt s (u pp er an dl ow er le ft an dr ig ht a rm sa nd le gs re sp ec ti ve ly ,"
"a t or so , a f ac e , a nd h ai r o n t op o f t he f ac e) e ac h o f w hi ch i s r ec ta ng ul ar . We a ss um e t ha t"
t he po si ti on a nd or ie nt at io n (p os e)o ft he le ft lo we ra rm is in de pe nd en t o fa ll ot he rs eg me nt s
POSE
g iv en t he p os e o f t he l ef t u pp er a rm ; t ha t t he p os e o f t he l ef t u pp er a rm i s i nd ep en de nt o f
a ll s eg me nt s g iv en t he p os e o f t he t or so ; a nd e xt en d t he se a ss um pt io ns i n t he o bv io us w ay
"t o i nc lu de t he r ig ht a rm a nd t he l eg s , t he f ac e , a nd t he h ai r . Su ch m od el s a re o ft en c al le d"
"“c ar db oa rd pe op le”m od el s . Th em od el fo rm sa tr ee ,w hi ch is us ua ll yr oo te da tt he to rs o . We"
w il ls ea rc ht he im ag ef or th eb es tm at ch to th is ca rd bo ar dp er so nu si ng in fe re nc em et ho ds fo r
a tr ee-s tr uc tu re d Ba ye sn et(s ee Ch ap te r 14).
"Th er e a re t wo c ri te ri a f or e va lu at in g a c on fi gu ra ti on . Fi rs t , a n i ma ge r ec ta ng le s ho ul d"
"l oo kl ik ei ts se gm en t . Fo rt he mo me nt ,w ew il lr em ai nv ag ue ab ou tp re ci se ly wh at th at me an s ,"
b ut we as su me we ha ve af un ct io nφ t ha ts co re sh ow we ll an im ag er ec ta ng le ma tc he sa bo dy
i
"s eg me nt . Fo r e ac h p ai r o f r el at ed s eg me nt s , w e h av e a no th er f un ct io n ψ t ha t s co re s h ow"
w el l r el at io ns b et we en a p ai r o f i ma ge r ec ta ng le s m at ch t ho se t o b e e xp ec te d f ro m t he b od y
"s eg me nt s . Th e d ep en de nc ie s b et we en s eg me nt s f or m a t re e , s o e ac h s eg me nt h as o nl y o ne"
"p ar en t , a nd w e c ou ld w ri te ψ i ,p a(i). Al l t he f un ct io ns w il l b e l ar ge r i f t he m at ch i s b et te r ,"
s o w e c an t hi nk o f t he m a s b ei ng l ik e a l og p ro ba bi li ty . Th e c os t o f a p ar ti cu la r m at ch t ha t
a ll oc at es i ma ge re ct an gl e m t ob od ys eg me nt ii st he n
(c id:12) i (c id:12)
"φ i(m i)+ ψ i ,p a(i)(m i ,m pa(i))."
i∈s eg me nt s i∈s eg me nt s
"Dy na mi cp ro gr am mi ng c an fi nd th eb es tm at ch ,b ec au se t he re la ti on al m od el is at re e ."
"It is in co nv en ie nt to se ar ch ac on ti nu ou ss pa ce ,a nd we wi ll di sc re ti ze th es pa ce of im ag e"
r ec ta ng le s . We d o s o b y d is cr et iz in g t he l oc at io n a nd o ri en ta ti on o f r ec ta ng le s o f f ix ed s iz e
"(t he s iz es m ay b e d if fe re nt f or d if fe re nt s eg me nt s). Be ca us e a nk le s a nd k ne es a re d if fe re nt ,"
◦
w e n ee d t o d is ti ng ui sh b et we en a r ec ta ng le a nd t he s am e r ec ta ng le r ot at ed b y 180 . On e
"c ou ld vi su al iz e t he re su lt as as et of ve ry la rg es ta ck s o fs ma ll re ct an gl es o fi ma ge , c ut ou ta t"
d if fe re nt l oc at io ns a nd o ri en ta ti on s . Th er e i s o ne s ta ck p er s eg me nt . We m us t n ow f in d t he
"b es t a ll oc at io n o f r ec ta ng le s t o s eg me nt s . Th is w il l b e s lo w , b ec au se t he re a re m an y i ma ge"
"r ec ta ng le s a nd ,f or th em od el we ha ve gi ve n ,c ho os in g t he ri gh tt or so wi ll be O(M 6)i ft he re"
"a re M i ma ge r ec ta ng le s . Ho we ve r , v ar io us s pe ed up s a re a va il ab le f or an a pp ro pr ia te c ho ic e"
"o f ψ, a nd t he m et ho d i s p ra ct ic al (Fi gu re 24.23). Th em od el i s u su al ly k no wn a sa p ic to ri al"
PICTORIAL s tr uc tu re mo de l .
STRUCTUREMODEL
Re ca ll ou ra ss um pt io nt ha tw ek no ww ha tw en ee dt ok no wa bo ut wh at th ep er so nl oo ks
"l ik e . If w ea re m at ch in g a p er so n i n a s in gl e i ma ge , t he m os t u se fu l f ea tu re f or sc or in g s eg-"
"m en t m at ch es t ur ns o ut t ob e c ol or . Te xt ur e f ea tu re s d on’t w or k w el li n m os tc as es , b ec au se"
f ol ds on lo os ec lo th in gp ro du ce st ro ng sh ad in gp at te rn st ha to ve rl ay th ei ma ge te xt ur e . Th es e
Se ct io n 24.5. Ob je ct Re co gn it io n f ro m St ru ct ur al In fo rm at io n 959
Fi gu re 24.23 Ap ic to ri al st ru ct ur em od el ev al ua te sa ma tc hb et we en as et of im ag er ec t-
a ng le s a nd a c ar db oa rd p er so n (s ho wn o n t he l ef t) b y s co ri ng t he s im il ar it y i n a pp ea ra nc e
b et we en bo dy se gm en ts an di ma ge se gm en ts an dt he sp at ia lr el at io ns be tw ee nt he im ag es eg-
"m en ts .Ge ne ra ll y ,a ma tc hi sb et te ri ft he im ag es eg me nt sh av ea bo ut th er ig ht ap pe ar an ce an d"
a re in ab ou tt he ri gh tp la ce wi th re sp ec tt oo ne an ot he r . Th ea pp ea ra nc em od el us es av er ag e
"c ol or s f or ha ir , h ea d , t or so , a nd u pp er an d l ow er a rm s a nd l eg s . Th e r el ev an tr el at io ns a re"
"s ho wn as ar ro ws .On th er ig ht ,t he be st ma tc hf or ap ar ti cu la ri ma ge ,o bt ai ne du si ng dy na mi c"
p ro gr am mi ng . Th e m at ch i s a f ai r e st im at e o f t he c on fi gu ra ti on o f t he b od y . Fi gu re f ro m
Fe lz en sz wa lb an d Hu tt en lo ch er(2000)(c id:2)c IEEE .
"p at te rn sa re st ro ng en ou gh to di sr up tt he tr ue te xt ur eo ft he c lo th . In cu rr en tw or k ,ψt yp ic al ly"
"r ef le ct s t he n ee d f or t he e nd s o f t he s eg me nt s t o b e r ea so na bl y c lo se t og et he r , b ut t he re a re"
"u su al ly n o c on st ra in ts o n t he a ng le s . Ge ne ra ll y , w e d on’t k no w w ha t a p er so n l oo ks l ik e ,"
a nd m us t b ui ld a m od el o f s eg me nt a pp ea ra nc es . We c al l t he d es cr ip ti on o f w ha t a p er so n
APPEARANCE l oo ks li ke th ea pp ea ra nc em od el . If we mu st re po rt th ec on fi gu ra ti on o fa pe rs on in as in gl e
MODEL
"i ma ge , w ec an s ta rt w it h a po or ly t un ed a pp ea ra nc e m od el , e st im at e c on fi gu ra ti on w it h t hi s ,"
"t he n r e-e st im at e a pp ea ra nc e , a nd s o o n . In v id eo , w eh av e m an y f ra me s o f t he s am e p er so n ,"
a nd th is wi ll re ve al th ei ra pp ea ra nc e .
24.5.2 Co he re nt a pp ea ra nc e: Tr ac ki ng p eo pl e i nv id eo
Tr ac ki ng p eo pl e i n v id eo i s a n i mp or ta nt p ra ct ic al p ro bl em . If w e c ou ld r el ia bl y r ep or t t he
"l oc at io n o f a rm s , l eg s , t or so , a nd h ea d i n v id eo s eq ue nc es , w e c ou ld b ui ld m uc h i mp ro ve d"
g am e i nt er fa ce s a nd s ur ve il la nc e s ys te ms . Fi lt er in g m et ho ds h av e n ot h ad m uc h s uc ce ss
"w it ht hi sp ro bl em , b ec au se p eo pl e c an pr od uc e l ar ge a cc el er at io ns a nd mo ve qu it e f as t . Th is"
"m ea ns t ha t f or 30 Hz v id eo , t he c on fi gu ra ti on o f t he b od y i n f ra me i d oe sn’t c on st ra in t he"
"c on fi gu ra ti on of th eb od yi nf ra me i+1 a ll th at st ro ng ly . Cu rr en tl y ,t he mo st ef fe ct iv em et ho ds"
e xp lo it t he fa ct th at ap pe ar an ce c ha ng es v er ys lo wl yf ro mf ra me to fr am e . If we ca ni nf er an
"a pp ea ra nc e m od el o f a n i nd iv id ua l f ro m t he v id eo , t he n w e c an u se t hi s i nf or ma ti on i n a"
p ic to ri al s tr uc tu re m od el t o d et ec t t ha t p er so n i n e ac h f ra me o f t he v id eo . We c an t he n l in k
t he se lo ca ti on s a cr os st im et om ak ea tr ac k .
960 Ch ap te r 24. Pe rc ep ti on
t or so
a rm
La te ra l w al ki ng Ap pe ar an ce Bo dy p ar t De te ct ed f ig ur e
d et ec to r m od el m ap s
m ot io n b lu r
& i nt er la ci ng
Fi gu re 24.24 We c an t ra ck m ov in g p eo pl e w it h a p ic to ri al s tr uc tu re m od el b y f ir st o b-
"t ai ni ng an ap pe ar an ce mo de l ,t he na pp ly in gi t . To ob ta in th ea pp ea ra nc em od el ,w es ca nt he"
"i ma ge t o f in d a l at er al w al ki ng p os e . Th e d et ec to r d oe s n ot n ee d t o b e v er y a cc ur at e , b ut"
"s ho ul dp ro du ce fe wf al se po si ti ve s . Fr om th ed et ec to rr es po ns e ,w e c an re ad of fp ix el st ha t"
"l ie on ea ch bo dy se gm en t ,a nd ot he rs th at do no tl ie on th at se gm en t .Th is ma ke si tp os si bl et o"
"b ui ld ad is cr im in at iv em od el of th ea pp ea ra nc eo fe ac hb od yp ar t ,a nd th es ea re ti ed to ge th er"
"i nt oa pi ct or ia ls tr uc tu re mo de lo ft he pe rs on be in gt ra ck ed . Fi na ll y ,w ec an re li ab ly tr ac kb y"
"d et ec ti ng th is mo de li ne ac hf ra me .As th ef ra me si nt he lo we rp ar to ft he im ag es ug ge st ,t hi s"
"p ro ce du re ca nt ra ck co mp li ca te d ,f as t-c ha ng in gb od yc on fi gu ra ti on s ,d es pi te de gr ad at io no f"
t he vi de os ig na ld ue to mo ti on bl ur . Fi gu re fr om Ra ma na ne ta l .(2007)(c id:2)c IEEE .
Th er e a re s ev er al w ay s t o i nf er a g oo d a pp ea ra nc e m od el . We r eg ar d t he v id eo a s a
l ar ge s ta ck o f p ic tu re s o f t he p er so n w e w is h t o t ra ck . We c an e xp lo it t hi s s ta ck b y l oo ki ng
f or a pp ea ra nc e m od el s t ha t e xp la in m an y o f t he p ic tu re s . Th is w ou ld w or k b y d et ec ti ng
"b od ys eg me nt si ne ac hf ra me ,u si ng th ef ac tt ha ts eg me nt sh av er ou gh ly p ar al le le dg es . Su ch"
"d et ec to rs a re n ot p ar ti cu la rl y r el ia bl e , b ut t he s eg me nt s w e w an t t o f in d a re s pe ci al . Th ey"
w il l a pp ea r a t l ea st o nc e i n m os t o f t he f ra me s o f v id eo ; s uc h s eg me nt s c an b e f ou nd b y
"c lu st er in g t he d et ec to r r es po ns es . It i s b es t t o s ta rt w it h t he t or so , b ec au se i t i s b ig a nd"
"b ec au se t or so d et ec to rs t en d t o b e r el ia bl e . On ce w e h av e a t or so a pp ea ra nc e m od el , u pp er"
"l eg s eg me nt s s ho ul d a pp ea r n ea r t he t or so , a nd s o o n . Th is r ea so ni ng y ie ld s a n a pp ea ra nc e"
"m od el , b ut i t c an b e u nr el ia bl e i f p eo pl e a pp ea r a ga in st a n ea r-f ix ed b ac kg ro un d w he re t he"
s eg me nt d et ec to r g en er at es l ot s o f f al se p os it iv es . An a lt er na ti ve i s t o e st im at e a pp ea ra nc e
f or ma ny of th ef ra me so fv id eo by re pe at ed ly re es ti ma ti ng co nf ig ur at io na nd ap pe ar an ce ; w e
"t he n s ee i f o ne a pp ea ra nc e m od el e xp la in s m an yf ra me s . An ot he r a lt er na ti ve , w hi ch i sq ui te"
Se ct io n 24.6. Us in g Vi si on 961
Fi gu re 24.25 So me c om pl ex h um an a ct io ns p ro du ce c on si st en t p at te rn s o f a pp ea ra nc e
"a nd mo ti on .Fo re xa mp le ,d ri nk in gi nv ol ve sm ov em en ts of th eh an di nf ro nt of th ef ac e . Th e"
f ir st th re ei ma ge sa re co rr ec td et ec ti on so fd ri nk in g ;t he fo ur th is af al se-p os it iv e(t he co ok is
"l oo ki ng in to th ec of fe ep ot ,b ut no td ri nk in gf ro mi t). Fi gu re fr om La pt ev an d Pe re z(2007)"
(c id:2)c IEEE .
"r el ia bl ei np ra ct ic e ,i st oa pp ly ad et ec to rf or af ix ed bo dy co nf ig ur at io nt oa ll of th ef ra me s . A"
"g oo dc ho ic eo fc on fi gu ra ti on i so ne th at is ea sy to de te ct re li ab ly , a nd wh er et he re is as tr on g"
c ha nc e t he pe rs on w il la pp ea ri nt ha t c on fi gu ra ti on e ve n i na sh or t s eq ue nc e (l at er al w al ki ng
"i sa go od ch oi ce). We tu ne th ed et ec to r t oh av ea lo wf al se po si ti ve r at e ,s ow ek no ww he ni t"
"r es po nd s t ha t w e h av e f ou nd a r ea l p er so n ; a nd b ec au se w eh av e l oc al iz ed t he ir t or so , a rm s ,"
"l eg s ,a nd he ad ,w ek no ww ha tt he se se gm en ts lo ok li ke ."
24.6 USING VISION
"If v is io n s ys te ms c ou ld a na ly ze v id eo a nd u nd er st oo d w ha t p eo pl e a re d oi ng , w e w ou ld b e"
a bl e t o: d es ig n b ui ld in gs a nd p ub li c p la ce s b et te r b y c ol le ct in g a nd u si ng d at a a bo ut w ha t
"p eo pl ed oi np ub li c ;b ui ld mo re ac cu ra te ,m or es ec ur e ,a nd le ss in tr us iv es ur ve il la nc es ys te ms ;"
b ui ld co mp ut er sp or ts co mm en ta to rs ;a nd bu il dh um an-c om pu te ri nt er fa ce st ha tw at ch pe op le
a nd r ea ct t o t he ir b eh av io r . Ap pl ic at io ns f or r ea ct iv e i nt er fa ce s r an ge f ro m c om pu te r g am es
t ha tm ak ea pl ay er ge tu pa nd mo ve ar ou nd to sy st em st ha ts av ee ne rg yb ym an ag in gh ea ta nd
l ig ht in ab ui ld in g t om at ch wh er et he oc cu pa nt s a re an dw ha tt he ya re do in g .
"So me p ro bl em s a re w el l u nd er st oo d . If p eo pl e a re r el at iv el y s ma ll i n t he v id eo f ra me ,"
"a nd th eb ac kg ro un di ss ta bl e ,i ti se as yt od et ec tt he pe op le by su bt ra ct in ga ba ck gr ou nd im ag e"
"f ro m t he c ur re nt f ra me . If t he a bs ol ut e v al ue o f t he d if fe re nc e i s l ar ge , t hi s b ac kg ro un d"
BACKGROUND s ub tr ac ti on d ec la re s t he p ix el t o b e a f or eg ro un d p ix el ; b y l in ki ng f or eg ro un d b lo bs o ve r
SUBTRACTION
"t im e ,w eo bt ai na tr ac k ."
"St ru ct ur ed be ha vi or s l ik eb al le t ,g ym na st ic s , o rt ai ch ih av es pe ci fi cv oc ab ul ar ie s o fa c-"
"t io ns . Wh en pe rf or me d a ga in st as im pl eb ac kg ro un d , v id eo s o ft he se ac ti on sa re ea sy to de al"
"w it h . Ba ck gr ou nd s ub tr ac ti on i de nt if ie s t he m aj or m ov in g r eg io ns , a nd w e c an b ui ld HOG"
f ea tu re s(k ee pi ng tr ac ko ff lo wr at he rt ha no ri en ta ti on)t op re se nt to ac la ss if ie r . We ca nd et ec t
"c on si st en t p at te rn s o f a ct io n w it h a v ar ia nt o f o ur p ed es tr ia n d et ec to r , w he re t he o ri en ta ti on"
f ea tu re sa re co ll ec te d i nt oh is to gr am b uc ke ts ov er ti me as we ll as sp ac e(Fi gu re 24.25).
Mo re ge ne ra l p ro bl em s r em ai n o pe n . Th eb ig r es ea rc h q ue st io n i st o l in k o bs er va ti on s
o f t he b od y a nd t he o bj ec ts n ea rb y t o t he g oa ls a nd i nt en ti on s o f t he m ov in g p eo pl e . On e
s ou rc e o fd if fi cu lt y i st ha t w el ac k a si mp le v oc ab ul ar y o fh um an b eh av io r . Be ha vi or i sa lo t
962 Ch ap te r 24. Pe rc ep ti on
"l ik e c ol or , i n t ha t p eo pl e t en d t o t hi nk t he y k no w a l ot o f b eh av io r n am es b ut c an’t p ro du ce"
l on gl is ts of su ch wo rd so nd em an d . Th er ei sq ui te al ot of ev id en ce th at be ha vi or sc om bi ne—
"y ou c an , f or e xa mp le , d ri nk a m il ks ha ke w hi le v is it in g a n ATM—b ut w e d on’t y et k no w"
"w ha t t he p ie ce s a re , h ow t he c om po si ti on w or ks , o r h ow m an y c om po si te s t he re m ig ht b e ."
As ec on d s ou rc e o fd if fi cu lt y i st ha tw ed on’t k no w w ha tf ea tu re s e xp os e w ha ti sh ap pe ni ng .
"Fo re xa mp le ,k no wi ng so me on ei sc lo se to an ATMm ay be en ou gh to te ll th at th ey’r ev is it in g"
t he ATM .At hi rd di ff ic ul ty is th at th eu su al re as on in ga bo ut th er el at io ns hi pb et we en tr ai ni ng
"a nd t es t d at a i s u nt ru st wo rt hy . Fo r e xa mp le , w e c an no t a rg ue t ha t a p ed es tr ia n d et ec to r i s"
"s af es im pl y b ec au se i tp er fo rm s w el lo na la rg e d at as et , b ec au se t ha td at as et ma yw el lo mi t"
"i mp or ta nt , b ut ra re ,p he no me na (f or ex am pl e , p eo pl e m ou nt in g b ic yc le s). We wo ul dn’t w an t"
o ur au to ma te dd ri ve rt or un ov er ap ed es tr ia n w ho ha pp en ed t o d os om et hi ng u nu su al .
24.6.1 Wo rd sa nd pi ct ur es
Ma ny We b s it es o ff er c ol le ct io ns o f i ma ge s f or v ie wi ng . Ho w c an w e f in d t he i ma ge s w e
"w an t ? Le t’s su pp os e t he us er en te rs a te xt qu er y , s uc ha s“b ic yc le r ac e .” So me of th ei ma ge s"
"w il lh av ek ey wo rd so rc ap ti on sa tt ac he d , o rw il lc om ef ro m We bp ag es th at co nt ai n t ex tn ea r"
"t he i ma ge . Fo rt he se , i ma ge r et ri ev al c an b e l ik e t ex t r et ri ev al: i gn or e t he i ma ge s a nd m at ch"
t he im ag e’s te xt ag ai ns tt he qu er y(s ee Se ct io n 22.3 o np ag e 867).
"Ho we ve r , k ey wo rd s a re u su al ly i nc om pl et e . Fo re xa mp le , a p ic tu re o f a c at p la yi ng i n"
"t he st re et mi gh tb et ag ge dw it hw or ds li ke“c at”a nd“s tr ee t ,”b ut it is ea sy to fo rg et to me nt io n"
t he“g ar ba ge ca n”o rt he“f is hb on es .” Th us an in te re st in gt as ki st oa nn ot at ea ni ma ge(w hi ch
m ay al re ad y h av ea fe wk ey wo rd s)w it ha dd it io na l a pp ro pr ia te k ey wo rd s .
"In t he m os t s tr ai gh tf or wa rd v er si on o f t hi s t as k , w e h av e a s et o f c or re ct ly t ag ge d e x-"
"a mp le i ma ge s , a nd w e w is h t o t ag s om e t es t i ma ge s . Th is p ro bl em i s s om et im es k no wn a s"
a ut o-a nn ot at io n . Th em os ta cc ur at e s ol ut io ns a re ob ta in ed u si ng n ea re st-n ei gh bo rs m et ho ds .
On e f in ds t he t ra in in g i ma ge s t ha t a re c lo se st t ot he t es t i ma ge i n a f ea tu re s pa ce m et ri c t ha t
"i st ra in ed u si ng ex am pl es , t he nr ep or ts th ei rt ag s ."
An ot he r v er si on o f t he p ro bl em i nv ol ve s p re di ct in g w hi ch t ag s t o a tt ac h t o w hi ch r e-
g io ns in at es ti ma ge . He re we do no tk no ww hi ch re gi on sp ro du ce dw hi ch ta gs fo rt he tr ai n-
i ng da ta . We ca nu se av er si on of ex pe ct at io nm ax im iz at io nt og ue ss an in it ia lc or re sp on de nc e
"b et we en t ex ta nd re gi on s , a nd fr om t ha te st im at e a be tt er de co mp os it io n i nt o r eg io ns , a nd so"
o n .
24.6.2 Re co ns tr uc ti on f ro m m an y v ie ws
Bi no cu la r s te re op si s w or ks b ec au se f or e ac h p oi nt w e h av e f ou r m ea su re me nt s c on st ra in in g
"t hr ee u nk no wn d eg re es o f f re ed om . Th e f ou r m ea su re me nt s a re t he (x ,y) p os it io ns o f t he"
"p oi nt in ea ch vi ew ,a nd th eu nk no wn de gr ee so ff re ed om ar et he(x ,y ,z)c oo rd in at ev al ue so f"
"t he po in ti nt he sc en e . Th is ra th er cr ud ea rg um en ts ug ge st s , c or re ct ly ,t ha tt he re ar eg eo me tr ic"
c on st ra in ts t ha tp re ve nt mo st pa ir so fp oi nt sf ro mb ei ng ac ce pt ab le ma tc he s . Ma ny im ag es of
a se to fp oi nt ss ho ul dr ev ea lt he ir po si ti on s u na mb ig uo us ly .
We d on’t a lw ay s n ee d a s ec on d p ic tu re t o g et a s ec on d v ie w o f a s et o f p oi nt s . If w e
"b el ie ve t he o ri gi na l s et o f p oi nt s c om es f ro m a f am il ia r r ig id 3 D o bj ec t , t he n w em ig ht h av e"
Se ct io n 24.6. Us in g Vi si on 963
a no bj ec t m od el av ai la bl e a sa so ur ce o fi nf or ma ti on . If th is o bj ec tm od el co ns is ts o fa se to f
"3 Dp oi nt so ro fa se to fp ic tu re s o ft he ob je ct , a nd if we ca ne st ab li sh p oi nt co rr es po nd en ce s ,"
w ec an de te rm in et he pa ra me te rs of th ec am er at ha tp ro du ce dt he po in ts in th eo ri gi na li ma ge .
Th is i s v er y p ow er fu l i nf or ma ti on . We c ou ld u se i t t o e va lu at e o ur o ri gi na l h yp ot he si s t ha t
t he p oi nt s c om e f ro m a n o bj ec t m od el . We d o t hi s b y u si ng s om e p oi nt s t o d et er mi ne t he
"p ar am et er s o f t he c am er a , t he n p ro je ct in g m od el p oi nt s i n t hi s c am er a a nd c he ck in g t o s ee"
w he th er th er ea re im ag ep oi nt sn ea rb y .
We ha ve sk et ch ed he re at ec hn ol og yt ha ti sn ow ve ry hi gh ly de ve lo pe d . Th et ec hn ol og y
c an b e g en er al iz ed t o d ea l w it h v ie ws t ha t a re n ot o rt ho gr ap hi c ; t o d ea l w it h p oi nt s t ha t a re
o bs er ve d i n o nl y s om e v ie ws ; t o d ea l w it h u nk no wn c am er a p ro pe rt ie s l ik e f oc al l en gt h ; t o
e xp lo it va ri ou ss op hi st ic at ed s ea rc he sf or ap pr op ri at ec or re sp on de nc es ; a nd to do re co ns tr uc-
t io n f ro m v er yl ar ge n um be rs o fp oi nt s a nd of vi ew s . If th el oc at io ns o fp oi nt s i nt he im ag es
"a re kn ow nw it hs om ea cc ur ac ya nd th ev ie wi ng di re ct io ns ar er ea so na bl e , v er yh ig ha cc ur ac y"
c am er aa nd po in ti nf or ma ti on c an be ob ta in ed . So me ap pl ic at io ns a re
"• Mo de l-b ui ld in g: Fo r e xa mp le , o ne m ig ht b ui ld a m od el in g s ys te m t ha t t ak es a v id eo"
s eq ue nc e d ep ic ti ng a n o bj ec t a nd p ro du ce s a v er y d et ai le d t hr ee-d im en si on al m es h o f
t ex tu re dp ol yg on sf or us ei nc om pu te rg ra ph ic sa nd vi rt ua lr ea li ty ap pl ic at io ns . Mo de ls
l ik e t hi s c an n ow b e b ui lt f ro m a pp ar en tl y q ui te u np ro mi si ng s et s o f p ic tu re s . Fo r e x-
"a mp le , Fi gu re 24.26 s ho ws a m od el o f t he St at ue o f Li be rt y b ui lt f ro m p ic tu re s f ou nd"
o nt he In te rn et .
"• Ma tc hi ng m ov es: To p la ce c om pu te r g ra ph ic s c ha ra ct er s i nt o r ea l v id eo , w e n ee d t o"
"k no w h ow t he c am er a m ov ed f or t he r ea l v id eo , s o t ha t w e c an r en de r t he c ha ra ct er"
c or re ct ly .
• Pa th r ec on st ru ct io n: Mo bi le r ob ot s n ee d t o k no w w he re t he y h av e b ee n . If t he y a re
"m ov in g i n a w or ld o f r ig id o bj ec ts , t he n p er fo rm in g a r ec on st ru ct io n a nd k ee pi ng t he"
c am er ai nf or ma ti on i so ne wa yt oo bt ai na pa th .
24.6.3 Us in gv is io nf or co nt ro ll in g m ov em en t
On eo ft he pr in ci pa l u se so fv is io ni st op ro vi de in fo rm at io n b ot hf or ma ni pu la ti ng o bj ec ts—
"p ic ki ng th em up ,g ra sp in gt he m ,t wi rl in gt he m ,a nd so on—a nd fo rn av ig at in gw hi le av oi di ng"
o bs ta cl es . Th e a bi li ty t o u se v is io n f or t he se p ur po se s i s p re se nt i n t he m os t p ri mi ti ve o f
"a ni ma l v is ua l s ys te ms . In m an y c as es , t he v is ua l s ys te m i s m in im al , i n t he s en se t ha t i t"
e xt ra ct s f ro m t he a va il ab le l ig ht f ie ld j us t t he i nf or ma ti on t he a ni ma l n ee ds t o i nf or m i ts
"b eh av io r . Qu it e p ro ba bl y , m od er n v is io n s ys te ms e vo lv ed f ro m e ar ly , p ri mi ti ve o rg an is ms"
t ha t u se d a p ho to se ns it iv e s po t a t o ne e nd t o o ri en t t he ms el ve s t ow ar d (o r a wa y f ro m) t he
l ig ht . We s aw i n Se ct io n 24.4 t ha t f li es u se a v er y s im pl e o pt ic al f lo w d et ec ti on s ys te m t o
"l an d o n w al ls . A c la ss ic s tu dy , Wh at t he Fr og’s Ey e Te ll s t he Fr og’s Br ai n (Le tt vi n e t a l .,"
"1959),o bs er ve so fa fr og th at ,“He wi ll st ar ve to de at hs ur ro un de db yf oo di fi ti sn ot mo vi ng ."
Hi sc ho ic eo ff oo di sd et er mi ne d o nl yb ys iz ea nd mo ve me nt .”
Le t u s c on si de r a v is io n s ys te m f or a n a ut om at ed v eh ic le d ri vi ng o n a f re ew ay . Th e
t as ks fa ce db yt he dr iv er in cl ud et he fo ll ow in g:
964 Ch ap te r 24. Pe rc ep ti on
a b c
(a) (b) (c)
Fi gu re 24.26 Th es ta te of th ea rt in mu lt ip le-v ie wr ec on st ru ct io ni sn ow hi gh ly ad va nc ed .
Th is f ig ur eo ut li ne s a s ys te m b ui lt by Mi ch ae l Go es el e a nd c ol le ag ue sf ro m t he Un iv er si ty
"o f Wa sh in gt on , TU Da rm st ad t , a nd Mi cr os of t Re se ar ch . Fr om a c ol le ct io no f p ic tu re so f a"
"m on um en tt ak en by al ar ge co mm un it yo fu se rs an dp os te do nt he In te rn et(a),t he ir sy st em"
"c an de te rm in et he vi ew in gd ir ec ti on sf or th os ep ic tu re s ,s ho wn by th es ma ll bl ac kp yr am id s"
i n(b)a nd ac om pr eh en si ve 3 Dr ec on st ru ct io ns ho wn in(c).
1. La te ra l c on tr ol—e ns ur e t ha t t he v eh ic le r em ai ns s ec ur el y w it hi n i ts l an e o r c ha ng es
l an es sm oo th ly wh en re qu ir ed .
2. Lo ng it ud in al c on tr ol—e ns ur e t ha tt he re is as af ed is ta nc et ot he ve hi cl ei nf ro nt .
3. Ob st ac le av oi da nc e—m on it or ve hi cl es in ne ig hb or in gl an es an db ep re pa re df or ev as iv e
m an eu ve rs if on eo ft he md ec id es to ch an ge la ne s .
"Th e p ro bl em f or t he d ri ve r i s t o g en er at e a pp ro pr ia te s te er in g , a cc el er at io n , a nd b ra ki ng a c-"
t io ns to be st ac co mp li sh t he se ta sk s .
"Fo rl at er al co nt ro l ,o ne ne ed st om ai nt ai na re pr es en ta ti on o ft he po si ti on an do ri en ta ti on"
o ft he ca rr el at iv et ot he la ne . We ca nu se ed ge-d et ec ti on al go ri th ms to fi nd ed ge sc or re sp on d-
i ng to th el an e-m ar ke r s eg me nt s . We ca nt he n f it sm oo th c ur ve s t ot he se e dg ee le me nt s . Th e
"p ar am et er s o f t he se c ur ve s c ar ry i nf or ma ti on a bo ut t he l at er al p os it io n o f t he c ar , t he d ir ec-"
"t io n i t i s p oi nt in g r el at iv e t o t he l an e , a nd t he c ur va tu re o f t he l an e . Th is i nf or ma ti on , a lo ng"
"w it h i nf or ma ti on a bo ut t he d yn am ic s o f t he c ar , i s a ll t ha t i s n ee de d b y t he s te er in g-c on tr ol"
"s ys te m . If we ha ve g oo d d et ai le d m ap so ft he r oa d , t he n t he v is io n s ys te m s er ve s t oc on fi rm"
o ur po si ti on (a nd to wa tc hf or ob st ac le s t ha ta re no to nt he ma p).
"Fo rl on gi tu di na l c on tr ol , o ne ne ed s t ok no wd is ta nc es t ot he v eh ic le s i nf ro nt . Th is ca n"
"b e a cc om pl is he d w it h b in oc ul ar s te re op si s o r o pt ic al f lo w . Us in g t he se t ec hn iq ue s , v is io n-"
c on tr ol le d c ar sc an no wd ri ve re li ab ly a th ig hw ay sp ee ds .
Th em or eg en er al ca se of mo bi le ro bo ts na vi ga ti ng i nv ar io us i nd oo ra nd ou td oo re nv i-
"r on me nt s h as b ee n s tu di ed , t oo . On e p ar ti cu la r p ro bl em , l oc al iz in g t he r ob ot i n i ts e nv ir on-"
"m en t , n ow h as p re tt y g oo d s ol ut io ns . A g ro up a t Sa rn of f h as d ev el op ed a s ys te m b as ed o n"
t wo c am er as l oo ki ng f or wa rd t ha t t ra ck f ea tu re p oi nt s i n 3 D a nd u se t ha t t o r ec on st ru ct t he
25
ROBOTICS
In wh ic ha ge nt sa re en do we dw it hp hy si ca le ff ec to rs w it hw hi ch to do mi sc hi ef .
25.1 INTRODUCTION
"Ro bo ts ar ep hy si ca l a ge nt st ha tp er fo rm ta sk sb ym an ip ul at in g t he ph ys ic al wo rl d . To do so ,"
ROBOT
"t he y a re e qu ip pe d w it h e ff ec to rs s uc h a s l eg s , w he el s , j oi nt s , a nd g ri pp er s . Ef fe ct or s h av e"
EFFECTOR
a s in gl e p ur po se: t o a ss er t p hy si ca l f or ce s o n t he e nv ir on me nt .1 Ro bo ts a re a ls o e qu ip pe d
"w it h s en so rs , w hi ch a ll ow t he m t o p er ce iv e t he ir e nv ir on me nt . Pr es en t d ay r ob ot ic s e m-"
SENSOR
"p lo ys a di ve rs e s et of se ns or s , i nc lu di ng c am er as an dl as er s t om ea su re t he en vi ro nm en t , a nd"
g yr os co pe s a nd ac ce le ro me te rs t om ea su re th er ob ot’s ow nm ot io n .
"Mo st of to da y’s ro bo ts fa ll in to on eo ft hr ee pr im ar yc at eg or ie s . Ma ni pu la to rs ,o rr ob ot"
MANIPULATOR
"a rm s (Fi gu re 25.1(a)), a re p hy si ca ll y a nc ho re d t o t he ir w or kp la ce , f or e xa mp le i n a f ac to ry"
a ss em bl y l in e o r o n t he In te rn at io na l Sp ac e St at io n . Ma ni pu la to r m ot io n u su al ly i nv ol ve s
"a c ha in o f c on tr ol la bl e j oi nt s , e na bl in g s uc h r ob ot s t o p la ce t he ir e ff ec to rs i n a ny p os it io n"
"w it hi n t he w or kp la ce . Ma ni pu la to rs a re b y f ar t he m os t c om mo n t yp e o f i nd us tr ia l r ob ot s ,"
w it h a pp ro xi ma te ly o ne m il li on u ni ts i ns ta ll ed w or ld wi de . So me m ob il e m an ip ul at or s a re
u se d i n h os pi ta ls t o a ss is t s ur ge on s . Fe w c ar m an uf ac tu re rs c ou ld s ur vi ve w it ho ut r ob ot ic
"m an ip ul at or s , a nd so me ma ni pu la to rs h av ee ve nb ee nu se dt og en er at e o ri gi na l a rt wo rk ."
Th es ec on dc at eg or yi st he mo bi le ro bo t . Mo bi le ro bo ts mo ve ab ou tt he ir en vi ro nm en t
MOBILEROBOT
"u si ng w he el s , l eg s , o r s im il ar m ec ha ni sm s . Th ey h av e b ee n p ut t o u se d el iv er in g f oo d i n"
"h os pi ta ls , m ov in g c on ta in er s a t l oa di ng d oc ks , a nd s im il ar t as ks . Un ma nn ed g ro un d v eh i-"
"c le s ,o r UGVs ,d ri ve au to no mo us ly o ns tr ee ts , h ig hw ay s , a nd of f-r oa d . Th ep la ne ta ry ro ve r"
UGV
s ho wn in Fi gu re 25.2(b)e xp lo re d Ma rs fo ra pe ri od of 3 m on th s i n 1997. Su bs eq ue nt NASA
PLANETARYROVER
"r ob ot s i nc lu de t he tw in Ma rs Ex pl or at io n Ro ve rs(o ne is de pi ct ed o nt he co ve ro ft hi sb oo k),"
w hi ch l an de d i n 2003 a nd w er e s ti ll o pe ra ti ng s ix y ea rs l at er . Ot he r t yp es o f m ob il e r ob ot s
"i nc lu de un ma nn ed ai rv eh ic le s(UAVs),c om mo nl yu se df or su rv ei ll an ce ,c ro p-s pr ay in g , a nd"
UAV
"1 In Ch ap te r 2 w et al ke da bo ut ac tu at or s ,n ot ef fe ct or s . He re we di st in gu is ht he ef fe ct or(t he ph ys ic al de vi ce)"
f ro mt he ac tu at or(t he co nt ro ll in et ha tc om mu ni ca te sa co mm an dt ot he ef fe ct or).
971
972 Ch ap te r 25. Ro bo ti cs
(a) (b)
Fi gu re 25.1 (a) An i nd us tr ia l r ob ot ic m an ip ul at or f or s ta ck in g b ag s o n a p al le t . Im ag e
c ou rt es yo f Na ch i Ro bo ti c Sy st em s . (b)Ho nd a’s P 3 a nd As im oh um an oi dr ob ot s .
(a) (b)
"Fi gu re 25.2 (a) Pr ed at or , a n u nm an ne d a er ia l v eh ic le (UAV) u se d b y t he U .S . Mi li ta ry ."
"Im ag ec ou rt es yo f Ge ne ra l At om ic s Ae ro na ut ic al Sy st em s . (b)NASA’s So jo ur ne r ,a mo bi le"
r ob ot th at ex pl or ed th es ur fa ce of Ma rs in Ju ly 1997.
m il it ar y o pe ra ti on s . Fi gu re 25.2(a) s ho ws a UAV c om mo nl y u se d b y t he U .S . m il it ar y . Au-
t on om ou s u nd er wa te r v eh ic le s (AUVs) a re u se d i n d ee p s ea e xp lo ra ti on . Mo bi le r ob ot s
AUV
d el iv er pa ck ag es in th ew or kp la ce an dv ac uu mt he fl oo rs at ho me .
"Th e t hi rd t yp e o f r ob ot c om bi ne s m ob il it y w it h m an ip ul at io n , a nd i s o ft en c al le d a"
MOBILE m ob il em an ip ul at or . Hu ma no id ro bo ts mi mi ct he hu ma n t or so . Fi gu re 25.1(b) s ho ws tw o
MANIPULATOR
"e ar ly h um an oi d r ob ot s , b ot h m an uf ac tu re d b y Ho nd a Co rp . i n Ja pa n . Mo bi le m an ip ul at or s"
HUMANOIDROBOT
Se ct io n 25.2. Ro bo t Ha rd wa re 973
"c an ap pl yt he ir ef fe ct or sf ur th er af ie ld th an an ch or ed ma ni pu la to rs c an ,b ut th ei rt as ki sm ad e"
h ar de rb ec au se th ey do n’t ha ve th er ig id it y t ha tt he an ch or pr ov id es .
"Th e f ie ld o f r ob ot ic s a ls o i nc lu de s p ro st he ti c d ev ic es (a rt if ic ia l l im bs , e ar s , a nd e ye s"
"f or hu ma ns), i nt el li ge nt e nv ir on me nt s (s uc h a s a n e nt ir e h ou se t ha t i s e qu ip pe d w it hs en so rs"
"a nd ef fe ct or s), a nd mu lt ib od ys ys te ms ,w he re in ro bo ti ca ct io ni sa ch ie ve dt hr ou gh sw ar ms of"
s ma ll co op er at in g r ob ot s .
"Re al r ob ot s m us t c op e w it h e nv ir on me nt s t ha t a re p ar ti al ly o bs er va bl e , s to ch as ti c , d y-"
"n am ic , a nd c on ti nu ou s . Ma ny r ob ot e nv ir on me nt s a re s eq ue nt ia l a nd m ul ti ag en t a s w el l ."
"Pa rt ia l o bs er va bi li ty a nd s to ch as ti ci ty a re t he r es ul t o f d ea li ng w it h a l ar ge , c om pl ex w or ld ."
"Ro bo t c am er as c an no t s ee a ro un d c or ne rs , a nd m ot io n c om ma nd s a re s ub je ct t o u nc er ta in ty"
"d ue t o g ea rs s li pp in g , f ri ct io n , e tc . Al so , t he r ea l w or ld s tu bb or nl y r ef us es t o o pe ra te f as te r"
"t ha nr ea lt im e . In as im ul at ed en vi ro nm en t ,i ti sp os si bl et ou se si mp le al go ri th ms(s uc ha st he"
Q-l ea rn in g a lg or it hm d es cr ib ed i n Ch ap te r 21) t ol ea rn i na fe w CPUh ou rs f ro m m il li on s o f
"t ri al s . In ar ea le nv ir on me nt , i tm ig ht ta ke ye ar st or un th es et ri al s . Fu rt he rm or e , r ea lc ra sh es"
"r ea ll yh ur t ,u nl ik es im ul at ed on es . Pr ac ti ca lr ob ot ic sy st em sn ee dt oe mb od yp ri or kn ow le dg e"
"a bo ut th er ob ot ,i ts ph ys ic al en vi ro nm en t , a nd th et as ks th at th er ob ot wi ll pe rf or ms ot ha tt he"
r ob ot ca nl ea rn qu ic kl ya nd pe rf or m s af el y .
"Ro bo ti cs b ri ng s t og et he r m an y o f t he c on ce pt s w e h av e s ee n e ar li er i n t he b oo k , i n-"
"c lu di ng p ro ba bi li st ic s ta te e st im at io n , p er ce pt io n , p la nn in g , u ns up er vi se d l ea rn in g , a nd r e-"
i nf or ce me nt l ea rn in g . Fo r s om e o f t he se c on ce pt s r ob ot ic s s er ve s a s a c ha ll en gi ng e xa mp le
a pp li ca ti on . Fo ro th er co nc ep ts th is ch ap te rb re ak sn ew gr ou nd in in tr od uc in g t he co nt in uo us
v er si on of te ch ni qu es t ha tw ep re vi ou sl y s aw on ly in th ed is cr et e c as e .
25.2 ROBOT HARDWARE
"So fa ri nt hi sb oo k ,w eh av et ak en th ea ge nt ar ch it ec tu re—s en so rs , e ff ec to rs ,a nd pr oc es so rs—"
"a sg iv en ,a nd we ha ve co nc en tr at ed on th ea ge nt pr og ra m . Th es uc ce ss of re al ro bo ts de pe nd s"
a tl ea st as mu ch on th ed es ig no fs en so rs an de ff ec to rs t ha ta re ap pr op ri at e f or th et as k .
25.2.1 Se ns or s
"Se ns or s a re t he p er ce pt ua l i nt er fa ce b et we en r ob ot a nd e nv ir on me nt . Pa ss iv e s en so rs , s uc h"
PASSIVESENSOR
"a sc am er as , a re tr ue ob se rv er s o ft he en vi ro nm en t: t he yc ap tu re s ig na ls t ha ta re ge ne ra te d b y"
"o th er s ou rc es i n t he e nv ir on me nt . Ac ti ve s en so rs , s uc h a s s on ar , s en d e ne rg y i nt o t he e nv i-"
ACTIVESENSOR
r on me nt . Th ey re ly on th ef ac tt ha tt hi se ne rg y i sr ef le ct ed ba ck to th es en so r . Ac ti ve se ns or s
"t en dt op ro vi de mo re in fo rm at io nt ha np as si ve se ns or s ,b ut at th ee xp en se of in cr ea se dp ow er"
c on su mp ti on a nd w it h a d an ge r o f i nt er fe re nc e w he n m ul ti pl e a ct iv e s en so rs a re u se d a t t he
"s am et im e . Wh et he ra ct iv e o rp as si ve , s en so rs c an be d iv id ed i nt o t hr ee t yp es , d ep en di ng o n"
"w he th er th ey se ns et he en vi ro nm en t ,t he ro bo t’s lo ca ti on ,o rt he ro bo t’s in te rn al co nf ig ur at io n ."
Ra ng e f in de rs a re s en so rs t ha t m ea su re t he d is ta nc e t o n ea rb y o bj ec ts . In t he e ar ly
RANGEFINDER
"d ay s o f r ob ot ic s , r ob ot s w er e c om mo nl y e qu ip pe d w it h s on ar s en so rs . So na r s en so rs e mi t"
SONARSENSORS
"d ir ec ti on al s ou nd w av es , w hi ch a re r ef le ct ed b y o bj ec ts , w it h s om e o f t he s ou nd m ak in g i t"
974 Ch ap te r 25. Ro bo ti cs
(a) (b)
Fi gu re 25.3 (a) Ti me o ff li gh tc am er a ; i ma ge c ou rt es yo f Me sa Im ag in g Gm b H . (b)3 D
r an ge im ag eo bt ai ne dw it ht hi sc am er a .Th er an ge im ag em ak es it po ss ib le to de te ct ob st ac le s
a nd ob je ct si na ro bo t’s vi ci ni ty .
b ac k i nt o t he s en so r . Th e t im e a nd i nt en si ty o f t he r et ur ni ng s ig na l i nd ic at es t he d is ta nc e
t o n ea rb y o bj ec ts . So na r i s t he t ec hn ol og y o f c ho ic e f or a ut on om ou s u nd er wa te r v eh ic le s .
St er eo vi si on(s ee Se ct io n 24.4.2)r el ie so nm ul ti pl ec am er as to im ag et he e nv ir on me nt f ro m
STEREOVISION
"s li gh tl y d if fe re nt v ie wp oi nt s , a na ly zi ng t he re su lt in g p ar al la x i nt he se im ag es to co mp ut et he"
"r an ge o f s ur ro un di ng o bj ec ts . Fo r m ob il e g ro un d r ob ot s , s on ar a nd s te re o v is io n a re n ow"
"r ar el yu se d ,b ec au se th ey ar en ot re li ab ly ac cu ra te ."
"Mo st gr ou nd ro bo ts ar en ow eq ui pp ed wi th op ti ca lr an ge fi nd er s . Ju st li ke so na rs en so rs ,"
o pt ic al ra ng es en so rs em it ac ti ve si gn al s(l ig ht)a nd me as ur et he ti me un ti la re fl ec ti on of th is
TIMEOFFLIGHT s ig na la rr iv es ba ck at th es en so r . Fi gu re 25.3(a)s ho ws a t im eo ff li gh tc am er a . Th is ca me ra
CAMERA
a cq ui re s r an ge i ma ge s l ik e t he o ne s ho wn i n Fi gu re 25.3(b) a t u p t o 60 f ra me s p er s ec on d .
Ot he r r an ge s en so rs u se l as er b ea ms a nd s pe ci al 1-p ix el c am er as t ha t c an b e d ir ec te d u si ng
c om pl ex a rr an ge me nt s o f m ir ro rs o r r ot at in g e le me nt s . Th es e s en so rs a re c al le d s ca nn in g
l id ar s (s ho rt f or l ig ht d et ec ti on a nd r an gi ng). Sc an ni ng l id ar s t en d t o p ro vi de l on ge r r an ge s
SCANNINGLIDARS
"t ha nt im eo ff li gh tc am er as ,a nd te nd to pe rf or mb et te ri nb ri gh td ay li gh t ."
"Ot he r c om mo n r an ge s en so rs i nc lu de r ad ar , w hi ch i s o ft en t he s en so r o f c ho ic e f or"
UAVs . Ra da r s en so rs c an m ea su re d is ta nc es o f m ul ti pl e k il om et er s . On t he o th er e xt re me
"e nd o f r an ge s en si ng a re t ac ti le s en so rs s uc h a s w hi sk er s , b um p p an el s , a nd t ou ch-s en si ti ve"
TACTILESENSORS
"s ki n . Th es e s en so rs m ea su re r an ge b as ed o n p hy si ca l c on ta ct , a nd c an b e d ep lo ye d o nl y f or"
s en si ng ob je ct s v er yc lo se to th er ob ot .
A s ec on d i mp or ta nt c la ss o f s en so rs i s l oc at io n s en so rs . Mo st l oc at io n s en so rs u se
LOCATIONSENSORS
"r an ge se ns in ga sa pr im ar yc om po ne nt to de te rm in el oc at io n . Ou td oo rs ,t he Gl ob al Po si ti on-"
GLOBAL
i ng Sy st em (GPS)i s t he m os t c om mo n s ol ut io n t o t he l oc al iz at io n p ro bl em . GPS m ea su re s
POSITIONING
SYSTEM
"t he d is ta nc e t o s at el li te s t ha t e mi t p ul se d s ig na ls . At p re se nt , t he re a re 31 s at el li te s i n o rb it ,"
t ra ns mi tt in g s ig na ls on mu lt ip le f re qu en ci es . GPSr ec ei ve rs ca nr ec ov er th ed is ta nc e t ot he se
"s at el li te s b y a na ly zi ng p ha se s hi ft s . By t ri an gu la ti ng s ig na ls f ro m m ul ti pl e s at el li te s , GPS"
Se ct io n 25.2. Ro bo t Ha rd wa re 975
r ec ei ve rs c an de te rm in e t he ir ab so lu te l oc at io n o n Ea rt ht o w it hi na fe wm et er s . Di ff er en ti al
"GPSi nv ol ve s a se co nd g ro un d r ec ei ve r w it h k no wn l oc at io n , p ro vi di ng m il li me te ra cc ur ac y"
DIFFERENTIALGPS
"u nd er i de al c on di ti on s . Un fo rt un at el y , GPS d oe s n ot w or k i nd oo rs o r u nd er wa te r . In do or s ,"
l oc al iz at io n i s o ft en a ch ie ve d b y a tt ac hi ng b ea co ns i n t he e nv ir on me nt a t k no wn l oc at io ns .
"Ma ny i nd oo r e nv ir on me nt s a re f ul l o f w ir el es s b as e s ta ti on s , w hi ch c an h el p r ob ot s l oc al iz e"
"t hr ou gh t he a na ly si s o f t he w ir el es s s ig na l . Un de rw at er , a ct iv e s on ar b ea co ns c an p ro vi de a"
"s en se of lo ca ti on , u si ng so un dt oi nf or m AUVs of th ei rr el at iv ed is ta nc es t ot ho se be ac on s ."
"PROPRIOCEPTIVE Th et hi rd im po rt an tc la ss is pr op ri oc ep ti ve s en so rs ,w hi ch in fo rm th er ob ot of it so wn"
SENSOR
"m ot io n . To m ea su re t he e xa ct c on fi gu ra ti on o f a r ob ot ic j oi nt , m ot or s a re o ft en e qu ip pe d"
"w it hs ha ft de co de rs th at co un tt he re vo lu ti on o fm ot or si ns ma ll in cr em en ts . On ro bo ta rm s ,"
SHAFTDECODER
"s ha ft d ec od er s c an p ro vi de a cc ur at e i nf or ma ti on o ve ra ny p er io d o f t im e . On mo bi le r ob ot s ,"
s ha ft de co de rs t ha tr ep or tw he el re vo lu ti on s c an be us ed fo r o do me tr y—t he me as ur em en to f
ODOMETRY
"d is ta nc e t ra ve le d . Un fo rt un at el y , w he el s t en d t o d ri ft a nd s li p , s o o do me tr y i s a cc ur at e o nl y"
"o ve r s ho rt d is ta nc es . Ex te rn al f or ce s , s uc h a s t he c ur re nt f or AUVs a nd t he w in d f or UAVs ,"
"i nc re as e p os it io na l u nc er ta in ty . In er ti al s en so rs , s uc h a s g yr os co pe s , r el y o n t he r es is ta nc e"
INERTIALSENSOR
o fm as st ot he ch an ge of ve lo ci ty . Th ey ca nh el pr ed uc eu nc er ta in ty .
Ot he ri mp or ta nt a sp ec ts o f r ob ot s ta te a re m ea su re d b y f or ce s en so rs a nd t or qu e s en-
FORCESENSOR
s or s . Th es ea re in di sp en sa bl ew he nr ob ot sh an dl ef ra gi le ob je ct so ro bj ec ts wh os ee xa ct sh ap e
TORQUESENSOR
a nd l oc at io n i s u nk no wn . Im ag in e a on e-t on r ob ot ic m an ip ul at or s cr ew in g i n a li gh t b ul b . It
w ou ld b e a ll t oo e as y t o a pp ly t oo m uc h f or ce a nd b re ak t he b ul b . Fo rc e s en so rs a ll ow t he
"r ob ot to se ns eh ow ha rd it is gr ip pi ng t he bu lb , a nd to rq ue se ns or s a ll ow it to se ns eh ow ha rd"
i t i s t ur ni ng . Go od s en so rs c an m ea su re f or ce s i n a ll t hr ee t ra ns la ti on al a nd t hr ee r ot at io na l
"d ir ec ti on s . Th ey do th is at af re qu en cy o fs ev er al hu nd re d t im es as ec on d , s ot ha ta ro bo tc an"
q ui ck ly de te ct un ex pe ct ed f or ce sa nd co rr ec t i ts ac ti on sb ef or ei tb re ak sa li gh tb ul b .
25.2.2 Ef fe ct or s
Ef fe ct or s a re t he m ea ns b y w hi ch r ob ot s m ov e a nd c ha ng e t he s ha pe o f t he ir b od ie s . To
"u nd er st an d t he de si gn o fe ff ec to rs , i tw il lh el pt ot al ka bo ut mo ti on an ds ha pe in th ea bs tr ac t ,"
DEGREEOF u si ng t he c on ce pt o f a d eg re e o f f re ed om (DOF)We c ou nt o ne d eg re e o f f re ed om f or e ac h
FREEDOM
"i nd ep en de nt di re ct io ni nw hi ch ar ob ot ,o ro ne of it se ff ec to rs ,c an mo ve . Fo re xa mp le ,a ri gi d"
"m ob il e r ob ot s uc h a s a n AUV h as s ix d eg re es o f f re ed om , t hr ee f or i ts (x ,y ,z) l oc at io n i n"
"s pa ce a nd t hr ee f or i ts a ng ul ar o ri en ta ti on , k no wn a s y aw , r ol l , a nd p it ch . Th es e s ix d eg re es"
d ef in et he ki ne ma ti cs ta te 2 o rp os eo ft he ro bo t . Th ed yn am ic st at eo fa ro bo ti nc lu de st he se
KINEMATICSTATE
"s ix pl us an ad di ti on al si xd im en si on sf or th er at eo fc ha ng eo fe ac hk in em at ic di me ns io n ,t ha t"
POSE
"i s ,t he ir ve lo ci ti es ."
DYNAMICSTATE
"Fo rn on ri gi db od ie s ,t he re ar ea dd it io na l d eg re es of fr ee do mw it hi nt he ro bo ti ts el f . Fo r"
"e xa mp le , t he e lb ow o f a h um an a rm p os se ss es t wo d eg re e o f f re ed om . It c an f le x t he u pp er"
"a rm t ow ar ds o ra wa y , a nd c an r ot at e r ig ht o rl ef t . Th ew ri st h as t hr ee d eg re es o ff re ed om . It"
"c an m ov e u p a nd d ow n , s id e t o s id e , a nd c an a ls o r ot at e . Ro bo t j oi nt s a ls o h av e o ne , t wo ,"
"o r t hr ee d eg re es o f f re ed om e ac h . Si x d eg re es o f f re ed om a re r eq ui re d t o p la ce a n o bj ec t ,"
"s uc h a s a h an d , a t a p ar ti cu la r p oi nt i n a p ar ti cu la r o ri en ta ti on . Th e a rm i n Fi gu re 25.4(a)"
"2 “Ki ne ma ti c”i sf ro mt he Gr ee kw or df or mo ti on ,a si s“c in em a .”"
976 Ch ap te r 25. Ro bo ti cs
"h as e xa ct ly s ix d eg re es o f f re ed om , c re at ed b y f iv e r ev ol ut e j oi nt s t ha t g en er at e r ot at io na l"
REVOLUTEJOINT
m ot io na nd on ep ri sm at ic jo in tt ha tg en er at es sl id in gm ot io n . Yo uc an ve ri fy th at th eh um an
PRISMATICJOINT
a rm as aw ho le ha sm or et ha ns ix de gr ee so ff re ed om b ya si mp le ex pe ri me nt: p ut yo ur ha nd
o nt he ta bl ea nd no ti ce th at yo us ti ll ha ve th ef re ed om t or ot at ey ou re lb ow wi th ou tc ha ng in g
t he co nf ig ur at io no fy ou rh an d . Ma ni pu la to rs t ha th av ee xt ra d eg re es of fr ee do ma re ea si er to
c on tr ol t ha n r ob ot s w it h o nl y t he m in im um n um be r o f DOFs . Ma ny i nd us tr ia l m an ip ul at or s
"t he re fo re h av es ev en DOFs ,n ot si x ."
P
R R
R R
θ
R
"(x , y)"
(a) (b)
"Fi gu re 25.4 (a)Th e St an fo rd Ma ni pu la to r ,a ne ar ly ro bo ta rm wi th fi ve re vo lu te jo in ts(R)"
"a nd on ep ri sm at ic jo in t(P),f or at ot al of si x d eg re es of fr ee do m . (b)Mo ti on of a n on ho lo-"
n om ic fo ur-w he el ed ve hi cl ew it hf ro nt-w he el st ee ri ng .
"Fo rm ob il er ob ot s ,t he DOFs ar en ot ne ce ss ar il yt he sa me as th en um be ro fa ct ua te de le-"
"m en ts . Co ns id er ,f or ex am pl e ,y ou ra ve ra ge ca r: i tc an mo ve fo rw ar do rb ac kw ar d ,a nd it ca n"
"t ur n , g iv in g i t t wo DOFs . In c on tr as t , a c ar’s k in em at ic c on fi gu ra ti on i s t hr ee-d im en si on al:"
"o na no pe nf la ts ur fa ce , o ne ca ne as il y m an eu ve ra ca rt oa ny (x ,y)p oi nt , i na ny or ie nt at io n ."
"(Se e Fi gu re 25.4(b).) Th us , t he c ar ha st hr ee e ff ec ti ve d eg re es o f f re ed om b ut t wo co nt ro l-"
EFFECTIVEDOF
l ab le d eg re es o f f re ed om . We s ay a r ob ot i s n on ho lo no mi c i f i t h as m or e e ff ec ti ve DOFs
CONTROLLABLEDOF
t ha n c on tr ol la bl e DOFs an d h ol on om ic i f t he t wo n um be rs a re t he s am e . Ho lo no mi c r ob ot s
NONHOLONOMIC
a re ea si er to co nt ro l—i tw ou ld be mu ch ea si er to pa rk ac ar th at co ul dm ov es id ew ay sa sw el l
a sf or wa rd an db ac kw ar d—b ut h ol on om ic ro bo ts ar ea ls om ec ha ni ca ll y m or ec om pl ex . Mo st
"r ob ot ar ms ar eh ol on om ic , a nd mo st mo bi le ro bo ts ar en on ho lo no mi c ."
"Mo bi le r ob ot s h av e a r an ge o f m ec ha ni sm s f or l oc om ot io n , i nc lu di ng w he el s , t ra ck s ,"
"a nd l eg s . Di ff er en ti al d ri ve r ob ot s p os se ss t wo i nd ep en de nt ly a ct ua te d w he el s (o r t ra ck s),"
DIFFERENTIALDRIVE
"o ne o n e ac h s id e , a s o n a m il it ar y t an k . If b ot h w he el s m ov e a t t he s am e v el oc it y , t he r ob ot"
"m ov es on as tr ai gh t l in e . If th ey mo ve in op po si te d ir ec ti on s , t he ro bo t t ur ns on th es po t . An"
"a lt er na ti ve is th es yn ch ro dr iv e ,i nw hi ch ea ch wh ee lc an mo ve an dt ur na ro un di ts ow na xi s ."
SYNCHRODRIVE
"To a vo id c ha os , t he w he el s a re t ig ht ly c oo rd in at ed . Wh en m ov in g s tr ai gh t , f or e xa mp le , a ll"
w he el sp oi nt in th es am ed ir ec ti on an dm ov ea tt he sa me sp ee d . Bo th di ff er en ti al an ds yn ch ro
"d ri ve s a re n on ho lo no mi c . So me m or e e xp en si ve r ob ot s u se h ol on om ic d ri ve s , w hi ch h av e"
t hr ee or mo re wh ee ls th at ca nb eo ri en te d a nd mo ve di nd ep en de nt ly .
So me m ob il e r ob ot s p os se ss a rm s . Fi gu re 25.5(a) d is pl ay s a t wo-a rm ed r ob ot . Th is
"r ob ot’s a rm s u se s pr in gs t o c om pe ns at e f or g ra vi ty , a nd t he y p ro vi de m in im al r es is ta nc e t o"
Se ct io n 25.2. Ro bo t Ha rd wa re 977
(a) (b)
Fi gu re 25.5 (a) Mo bi le m an ip ul at or pl ug gi ng it s c ha rg e c ab le i nt o a w al l o ut le t . Im ag e
"c ou rt es yo f Wi ll ow Ga ra ge ,(c id:2)c 2009.(b)On eo f Ma rc Ra ib er t’s le gg ed ro bo ts in mo ti on ."
e xt er na l f or ce s . Su ch a d es ig n m in im iz es t he p hy si ca l d an ge r t o p eo pl e w ho m ig ht s tu mb le
i nt os uc ha ro bo t . Th is is ak ey co ns id er at io n i nd ep lo yi ng r ob ot si nd om es ti ce nv ir on me nt s .
"Le gs , u nl ik e w he el s , c an h an dl e r ou gh t er ra in . Ho we ve r , l eg s a re n ot or io us ly s lo w o n"
"f la ts ur fa ce s , a nd th ey ar em ec ha ni ca ll y d if fi cu lt to bu il d . Ro bo ti cs re se ar ch er s h av et ri ed de-"
"s ig ns ra ng in gf ro mo ne le gu pt od oz en so fl eg s . Le gg ed ro bo ts h av eb ee nm ad et ow al k ,r un ,"
a nd ev en ho p—a sw es ee wi th th el eg ge dr ob ot in Fi gu re 25.5(b). Th is ro bo ti sd yn am ic al ly
"DYNAMICALLY s ta bl e , m ea ni ng t ha t i t c an r em ai n u pr ig ht w hi le h op pi ng a ro un d . A r ob ot t ha t c an r em ai n"
STABLE
u pr ig ht w it ho ut m ov in g i ts l eg s i s c al le d s ta ti ca ll y s ta bl e . A r ob ot i s s ta ti ca ll y s ta bl e i f i ts
STATICALLYSTABLE
c en te ro fg ra vi ty is ab ov et he po ly go ns pa nn ed by it sl eg s . Th eq ua dr up ed(f ou r-l eg ge d)r ob ot
"s ho wn i n Fi gu re 25.6(a) m ay a pp ea r s ta ti ca ll y s ta bl e . Ho we ve r , i t w al ks b y l if ti ng m ul ti pl e"
"l eg s a tt he sa me t im e , w hi ch r en de rs i td yn am ic al ly s ta bl e . Th er ob ot c an w al ko n s no w a nd"
"i ce , a nd i t w il l n ot f al l o ve r e ve n i f y ou k ic k i t (a s d em on st ra te d i n v id eo s a va il ab le o nl in e)."
Tw o-l eg ge dr ob ot ss uc ha st ho se in Fi gu re 25.6(b)a re dy na mi ca ll y s ta bl e .
Ot he r m et ho ds o f m ov em en t a re p os si bl e: a ir v eh ic le s u se p ro pe ll er s o r t ur bi ne s ; u n-
"d er wa te r v eh ic le s u se p ro pe ll er s o r t hr us te rs , s im il ar t o t ho se u se d o n s ub ma ri ne s . Ro bo ti c"
b li mp sr el yo nt he rm al ef fe ct st ok ee pt he ms el ve sa lo ft .
Se ns or sa nd ef fe ct or sa lo ne do no tm ak ea ro bo t . Ac om pl et e r ob ot al so ne ed sa so ur ce
o f p ow er t o d ri ve i ts e ff ec to rs . Th e e le ct ri c m ot or i s t he m os t p op ul ar m ec ha ni sm f or b ot h
ELECTRICMOTOR
"PNEUMATIC m an ip ul at or a ct ua ti on a nd l oc om ot io n , b ut p ne um at ic a ct ua ti on u si ng c om pr es se d g as a nd"
ACTUATION
HYDRAULIC h yd ra ul ic ac tu at io n u si ng pr es su ri ze d f lu id sa ls oh av et he ir ap pl ic at io n n ic he s .
ACTUATION
978 Ch ap te r 25. Ro bo ti cs
(a) (b)
Fi gu re 25.6 (a)Fo ur-l eg ge dd yn am ic al ly-s ta bl er ob ot“Bi g Do g .” Im ag ec ou rt es y Bo st on
"Dy na mi cs ,(c id:2)c 2009.(b)2009 Ro bo Cu p St an da rd Pl at fo rm Le ag ue co mp et it io n ,s ho wi ng th e"
"w in ni ng te am ,B-Hu ma n ,f ro mt he DFKIc en te ra tt he Un iv er si ty of Br em en .Th ro ug ho ut th e"
"m at ch , B-Hu ma n o ut sc or ed t he ir o pp on en ts 64:1. Th ei r s uc ce ss w as b ui lt o n p ro ba bi li st ic"
s ta te es ti ma ti on us in gp ar ti cl ef il te rs an d Ka lm an fi lt er s ;o nm ac hi ne-l ea rn in gm od el sf or ga it
"o pt im iz at io n ;a nd on dy na mi ck ic ki ng mo ve s .Im ag ec ou rt es y DFKI ,(c id:2)c 2009."
25.3 ROBOTIC PERCEPTION
Pe rc ep ti on is th ep ro ce ss by wh ic hr ob ot sm ap se ns or me as ur em en ts in to in te rn al re pr es en ta-
"t io ns o f t he e nv ir on me nt . Pe rc ep ti on i s d if fi cu lt b ec au se s en so rs a re n oi sy , a nd t he e nv ir on-"
"m en t i s p ar ti al ly o bs er va bl e , u np re di ct ab le , a nd o ft en d yn am ic . In o th er w or ds , r ob ot s h av e"
a ll t he p ro bl em s o f s ta te e st im at io n (o r f il te ri ng) t ha t w e d is cu ss ed i n Se ct io n 15.2. As a
"r ul e o f t hu mb , g oo d i nt er na l r ep re se nt at io ns f or r ob ot s h av e t hr ee p ro pe rt ie s: t he y c on ta in"
"e no ug hi nf or ma ti on fo rt he ro bo tt om ak eg oo dd ec is io ns , t he ya re st ru ct ur ed so th at th ey ca n"
"b e u pd at ed e ff ic ie nt ly , a nd t he y a re n at ur al i n t he s en se t ha t i nt er na l v ar ia bl es c or re sp on d t o"
n at ur al st at ev ar ia bl es in th ep hy si ca l w or ld .
"In Ch ap te r 15, w es aw th at Ka lm an fi lt er s , HMMs ,a nd dy na mi c Ba ye sn et s c an re pr e-"
"s en tt he tr an si ti on an ds en so rm od el so fa pa rt ia ll yo bs er va bl ee nv ir on me nt , a nd we de sc ri be d"
b ot he xa ct an da pp ro xi ma te a lg or it hm s f or up da ti ng t he b el ie fs ta te—t he p os te ri or pr ob ab il-
i ty d is tr ib ut io n o ve r t he e nv ir on me nt s ta te v ar ia bl es . Se ve ra l d yn am ic Ba ye s n et m od el s f or
"t hi s p ro ce ss w er e s ho wn i n Ch ap te r 15. Fo r r ob ot ic s p ro bl em s , w e i nc lu de t he r ob ot’s o wn"
p as t a ct io ns a s o bs er ve d v ar ia bl es i n t he m od el . Fi gu re 25.7 s ho ws t he n ot at io n u se d i n t hi s
"c ha pt er: X i st he st at eo ft he en vi ro nm en t(i nc lu di ng th er ob ot)a tt im et ,Z i st he ob se rv at io n"
t t
"r ec ei ve da tt im et ,a nd A i st he ac ti on ta ke na ft er th eo bs er va ti on i sr ec ei ve d ."
t
Se ct io n 25.3. Ro bo ti c Pe rc ep ti on 979
A t−2 A t−1 A t
X t−1 X t X t+1
Z t−1 Z t Z t+1
Fi gu re 25.7 Ro bo t p er ce pt io n c an b e v ie we d a s t em po ra l i nf er en ce f ro m s eq ue nc es o f
"a ct io ns an dm ea su re me nt s ,a si ll us tr at ed by th is dy na mi c Ba ye sn et wo rk ."
"We wo ul d l ik et oc om pu te t he ne w b el ie f s ta te , P(X | z ,a ), f ro mt he cu rr en t"
t+1 1:t+1 1:t
b el ie f s ta te P(X
t
"| z 1:t ,a 1:t−1) a nd t he n ew o bs er va ti on z t+1. We d id t hi s i n Se ct io n 15.2,"
b ut h er e t he re a re t wo d if fe re nc es: w e c on di ti on e xp li ci tl y o n t he a ct io ns a s w el l a s t he o b-
"s er va ti on s , a nd w ed ea l w it h c on ti nu ou s r at he r t ha n d is cr et e v ar ia bl es . Th us , w e m od if y t he"
r ec ur si ve fi lt er in ge qu at io n (15.5 o np ag e 572)t ou se in te gr at io n r at he rt ha ns um ma ti on:
"P(X |z ,a )"
t+1 1:t+1 1:t (c id:26)
= αP(z
t+1
| X t+1) P(X
t+1
"|x t ,a t) P(x"
t
"|z 1:t ,a 1:t−1) d x"
t
. (25.1)
Th is e qu at io n s ta te s t ha t t he p os te ri or o ve r t he s ta te v ar ia bl es X a t t im e t +1 i s c al cu la te d
r ec ur si ve ly f ro m t he c or re sp on di ng e st im at e o ne t im e s te p e ar li er . Th is c al cu la ti on i nv ol ve s
"t he p re vi ou s a ct io n a a nd t he c ur re nt s en so r m ea su re me nt z . Fo r e xa mp le , i f o ur g oa l"
t t+1
"i s t o d ev el op a s oc ce r-p la yi ng r ob ot , X m ig ht b e t he l oc at io n o f t he s oc ce r b al l r el at iv e"
t+1
"t o t he r ob ot . Th e p os te ri or P(X t|z 1:t ,a 1:t−1) i sa p ro ba bi li ty d is tr ib ut io n o ve ra ll s ta te s t ha t"
c ap tu re sw ha tw ek no wf ro mp as ts en so rm ea su re me nt sa nd co nt ro ls . Eq ua ti on(25.1)t el ls us
"h ow t o r ec ur si ve ly e st im at e t hi s l oc at io n , b y i nc re me nt al ly f ol di ng i n s en so r m ea su re me nt s"
"(e .g .,c am er ai ma ge s)a nd ro bo tm ot io nc om ma nd s . Th ep ro ba bi li ty P(X |x ,a )i sc al le d"
t+1 t t
"t he tr an si ti on mo de lo rm ot io nm od el ,a nd P(z | X )i st he se ns or mo de l ."
MOTIONMODEL t+1 t+1
25.3.1 Lo ca li za ti on an d m ap pi ng
Lo ca li za ti on i s t he p ro bl em o f f in di ng o ut w he re t hi ng s a re—i nc lu di ng t he r ob ot i ts el f .
LOCALIZATION
Kn ow le dg e a bo ut w he re t hi ng s a re i s a t t he c or e o f a ny s uc ce ss fu l p hy si ca l i nt er ac ti on w it h
"t he e nv ir on me nt . Fo r e xa mp le , r ob ot m an ip ul at or s m us t k no w t he l oc at io n o f o bj ec ts t he y"
s ee kt om an ip ul at e ; n av ig at in g r ob ot sm us tk no ww he re th ey ar et of in dt he ir wa ya ro un d .
"To k ee p t hi ng s s im pl e , l et u s c on si de r a m ob il e r ob ot t ha t m ov es s lo wl y i n a f la t 2 D"
w or ld . Le tu sa ls o a ss um e t he ro bo t i sg iv en a ne xa ct m ap of th e e nv ir on me nt . (An ex am pl e
o f s uc h a m ap a pp ea rs i n Fi gu re 25.10.) Th e p os e o f s uc h a m ob il e r ob ot i s d ef in ed b y i ts
"t wo Ca rt es ia n c oo rd in at es w it h v al ue s x a nd y a nd i ts h ea di ng w it h v al ue θ, a s i ll us tr at ed i n"
"Fi gu re 25.8(a). If we ar ra ng e t ho se t hr ee va lu es i na ve ct or , t he na ny pa rt ic ul ar s ta te is gi ve n"
(c id:12)
"b y X =(x ,y ,θ ) . So fa rs og oo d ."
t t t t
980 Ch ap te r 25. Ro bo ti cs
ω Δt
t
x y
"i , i"
θ
t+1
h(x) v Δt
t t
Z Z Z Z
x 1 2 3 4
t+1
θ
t
x
t
(a) (b)
Fi gu re 25.8 (a)As im pl if ie dk in em at ic mo de lo fa mo bi le ro bo t . Th er ob ot is sh ow na sa
"c ir cl ew it ha ni nt er io rl in em ar ki ng th ef or wa rd di re ct io n . Th es ta te xt co ns is ts of th e(x t ,y t)"
p os it io n (s ho wn i mp li ci tl y) a nd t he o ri en ta ti on θt . Th e n ew s ta te x t+1 i s o bt ai ne d b y a n
"u pd at ei np os it io no fv tΔt a nd in or ie nt at io no fωtΔt . Al so sh ow ni sa la nd ma rk at(x i ,y i)"
o bs er ve da tt im et . (b)Th er an ge-s ca ns en so rm od el .Tw op os si bl er ob ot po se sa re sh ow nf or
"a gi ve nr an ge sc an(z ,z ,z ,z ). It is mu ch mo re li ke ly th at th ep os eo nt he le ft ge ne ra te d"
1 2 3 4
t he ra ng es ca nt ha nt he po se on th er ig ht .
"In t he k in em at ic a pp ro xi ma ti on , e ac h a ct io n c on si st s o f t he “i ns ta nt an eo us” s pe ci fi ca-"
t io no ft wo ve lo ci ti es—a t ra ns la ti on al v el oc it y v a nd ar ot at io na lv el oc it y ω . Fo rs ma ll ti me
t t
"i nt er va ls Δt ,a cr ud ed et er mi ni st ic m od el of th em ot io no fs uc hr ob ot si sg iv en by"
⎛ ⎞
v Δt co sθ
t t
"Xˆ = f(X ,v ,ω )= X +⎝ v Δt si nθ ⎠ ."
t+1 t (c id:27)t(c id:28)(c id:29)(c id:30)t t t t
ω Δt
a t t
Th e n ot at io n
Xˆ
"r ef er s t o a d et er mi ni st ic s ta te p re di ct io n . Of c ou rs e , p hy si ca l r ob ot s a re"
s om ew ha t u np re di ct ab le . Th is i s c om mo nl y m od el ed b y a Ga us si an d is tr ib ut io n w it h m ea n
"f(X ,v ,ω )a nd co va ri an ce Σ . (Se e Ap pe nd ix Af or am at he ma ti ca ld ef in it io n .)"
t t t x
"P(X |X ,v ,ω ) = N(Xˆ ,Σ )."
t+1 t t t t+1 x
Th is pr ob ab il it y d is tr ib ut io n i st he ro bo t’s m ot io nm od el . It mo de ls t he ef fe ct s o ft he mo ti on
a o nt he lo ca ti on o ft he ro bo t .
t
"Ne xt , w e n ee d a s en so r m od el . We w il l c on si de r t wo k in ds o f s en so r m od el . Th e"
"f ir st a ss um es t ha t t he s en so rs d et ec t s ta bl e , r ec og ni za bl e f ea tu re s o f t he e nv ir on me nt c al le d"
"l an dm ar ks . Fo re ac hl an dm ar k ,t he ra ng ea nd be ar in ga re re po rt ed . Su pp os et he ro bo t’s st at e"
LANDMARK
(c id:12) (c id:12)
"i sx =(x ,y ,θ ) a nd it se ns es al an dm ar kw ho se lo ca ti on is kn ow nt ob e(x ,y ) . Wi th ou t"
t t t t i i
"n oi se ,t he ra ng ea nd be ar in gc an be ca lc ul at ed by si mp le ge om et ry . (Se e Fi gu re 25.8(a).) Th e"
e xa ct pr ed ic ti on o ft he ob se rv ed ra ng ea nd be ar in gw ou ld be
(c id:13) (c id:10) (c id:14)
(x −x )2+(y −y )2
ˆz t =h(x t) = a t r ct an i y i−y t −t θ i .
x i−x t t
Se ct io n 25.3. Ro bo ti c Pe rc ep ti on 981
"Ag ai n , n oi se d is to rt s o ur me as ur em en ts . To ke ep t hi ng s s im pl e , o ne mi gh t a ss um e Ga us si an"
"n oi se wi th co va ri an ce Σ ,g iv in gu st he se ns or mo de l"
z
"P(z |x ) = N(ˆz ,Σ )."
t t t z
"A s om ew ha t d if fe re nt s en so r m od el i s u se d f or a n a rr ay o f r an ge s en so rs , e ac h o f w hi ch"
h as a f ix ed b ea ri ng r el at iv e t o t he r ob ot . Su ch s en so rs p ro du ce a v ec to r o f r an ge v al ue s
(c id:12)
"z = (z ,...,z ) . Gi ve n a po se x , l et zˆ b e t he e xa ct r an ge a lo ng t he j th b ea m d ir ec ti on"
t 1 M t j
"f ro mx t ot he ne ar es to bs ta cl e . As be fo re ,t hi sw il lb ec or ru pt ed by Ga us si an no is e . Ty pi ca ll y ,"
t
w e a ss um e t ha t t he e rr or s f or t he d if fe re nt b ea m d ir ec ti on s a re i nd ep en de nt a nd i de nt ic al ly
"d is tr ib ut ed , s ow eh av e"
(c id:25)M
P(z |x ) = α e−(z j−zˆj)/2σ2 .
t t
j=1
"Fi gu re 25.8(b) s ho ws a n e xa mp le o f a f ou r-b ea m r an ge s ca n a nd t wo p os si bl e r ob ot p os es ,"
o ne of wh ic hi sr ea so na bl yl ik el yt oh av ep ro du ce dt he ob se rv ed sc an an do ne of wh ic hi sn ot .
"Co mp ar in g t he r an ge-s ca n m od el t o t he l an dm ar k m od el , w e s ee t ha t t he r an ge-s ca n m od el"
h as t he a dv an ta ge t ha t t he re i s n o n ee d t o i de nt if y a l an dm ar k b ef or e t he r an ge s ca n c an b e
"i nt er pr et ed ; i nd ee d , i n Fi gu re 25.8(b), t he r ob ot f ac es a f ea tu re le ss w al l . On t he o th er h an d ,"
"i ft he re a re vi si bl e , i de nt if ia bl e l an dm ar ks , t he ym ay pr ov id ei ns ta nt l oc al iz at io n ."
"Ch ap te r 15 d es cr ib ed t he Ka lm an f il te r , w hi ch r ep re se nt s t he b el ie f s ta te a s a s in gl e"
"m ul ti va ri at e Ga us si an , a nd th ep ar ti cl e f il te r ,w hi ch re pr es en ts t he be li ef st at eb ya co ll ec ti on"
o f p ar ti cl es t ha t c or re sp on d t o s ta te s . Mo st m od er n l oc al iz at io n a lg or it hm s u se o ne o f t wo
r ep re se nt at io ns o ft he ro bo t’s b el ie f P(X
t
"|z 1:t ,a 1:t−1)."
"MONTECARLO Lo ca li za ti on u si ng p ar ti cl e f il te ri ng i s c al le d Mo nt e Ca rl o l oc al iz at io n , o r MCL . Th e"
LOCALIZATION
MCLa lf go ri th m i sa ni ns ta nc e o ft he pa rt ic le-f il te ri ng a lg or it hm o f Fi gu re 15.17(p ag e 598).
Al l w e n ee d t o d o i s s up pl y t he a pp ro pr ia te m ot io n m od el a nd s en so r m od el . Fi gu re 25.9
s ho ws on ev er si on us in gt he ra ng e-s ca nm od el . Th eo pe ra ti on of th ea lg or it hm is il lu st ra te di n
"Fi gu re 25.10 a st he ro bo tf in ds ou tw he re it is in si de an of fi ce bu il di ng . In th ef ir st im ag e ,t he"
"p ar ti cl es a re un if or ml y d is tr ib ut ed b as ed o nt he pr io r , i nd ic at in g g lo ba lu nc er ta in ty a bo ut th e"
"r ob ot’s p os it io n . In t he s ec on d i ma ge , t he f ir st s et o f m ea su re me nt s a rr iv es a nd t he p ar ti cl es"
"f or m c lu st er s i n t he a re as o f h ig h p os te ri or b el ie f . In t he t hi rd , e no ug h m ea su re me nt s a re"
a va il ab le t op us ha ll th ep ar ti cl es t oa si ng le lo ca ti on .
Th e Ka lm an f il te r i s t he o th er m aj or w ay t o l oc al iz e . A Ka lm an f il te r r ep re se nt s t he
p os te ri or P(X
t
"|z 1:t ,a 1:t−1)b ya Ga us si an . Th em ea no ft hi s Ga us si an wi ll be de no te dμ t an d"
i ts co va ri an ce Σ . Th em ai np ro bl em wi th Ga us si an be li ef si st ha tt he ya re on ly c lo se du nd er
t
"l in ea rm ot io nm od el sf a nd li ne ar me as ur em en tm od el s h . Fo rn on li ne ar f o rh ,t he re su lt of"
"u pd at in g a f il te ri s i n g en er al n ot Ga us si an . Th us , l oc al iz at io n a lg or it hm s u si ng t he Ka lm an"
f il te r l in ea ri ze t he m ot io n a nd s en so r m od el s . Li ne ar iz at io n i s a l oc al a pp ro xi ma ti on o f a
LINEARIZATION
n on li ne ar f un ct io n b y a l in ea r f un ct io n . Fi gu re 25.11 i ll us tr at es t he c on ce pt o f l in ea ri za ti on
"f or a(o ne-d im en si on al) r ob ot mo ti on mo de l . On th el ef t ,i td ep ic ts an on li ne ar mo ti on mo de l"
"f(x ,a ) (t he c on tr ol a i s o mi tt ed i n t hi s g ra ph s in ce i t p la ys n o r ol e i n t he l in ea ri za ti on)."
t t t
"On th er ig ht ,t hi sf un ct io ni sa pp ro xi ma te db ya li ne ar fu nc ti on f˜(x ,a ). Th is li ne ar fu nc ti on"
t t
"i s t an ge nt t o f a t t he p oi nt μ , t he m ea n o f o ur st at e e st im at e a t t im e t . Su ch a li ne ar iz at io n"
t
982 Ch ap te r 25. Ro bo ti cs
"f un ct io n MONTE-CARLO-LOCALIZATION(a ,z ,N ,P(X(c id:5)|X , v , ω),P(z|z∗),m)r et ur ns"
a se to fs am pl es fo rt he ne xt ti me st ep
"i np ut s:a ,r ob ot ve lo ci ti es v a ndω"
"z ,r an ge sc an z 1,...,z M"
"P(X(c id:5)|X , v , ω),m ot io nm od el"
"P(z|z∗),r an ge se ns or no is em od el"
"m ,2 Dm ap of th ee nv ir on me nt"
"p er si st en t: S ,a ve ct or of sa mp le so fs iz e N"
"l oc al va ri ab le s: W ,a ve ct or of we ig ht so fs iz e N"
"S(c id:5),a te mp or ar yv ec to ro fp ar ti cl es of si ze N"
"W(c id:5),a ve ct or of we ig ht so fs iz e N"
i f S i se mp ty th en /*i ni ti al iz at io np ha se*/
f or i=1 t o N d o
S[i]←s am pl ef ro m P(X )
0
f or i=1 t o N d o /*u pd at ec yc le*/
"S(c id:5)[i]←s am pl ef ro m P(X(c id:5)|X =S[i],v ,ω)"
W(c id:5)[i]←1
f or j =1 t o M d o
"z∗←RAYCAST(j ,X =S(c id:5)[i],m)"
W(c id:5)[i]←W(c id:5)[i] · P(z j|z∗)
"S←WEIGHTED-SAMPLE-WITH-REPLACEMENT(N ,S(c id:5),W(c id:5))"
r et ur n S
Fi gu re 25.9 AMo nt e Ca rl ol oc al iz at io na lg or it hm us in ga ra ng e-s ca ns en so rm od el wi th
i nd ep en de nt no is e .
i s c al le d (f ir st de gr ee) Ta yl or e xp an si on . AKa lm an f il te rt ha t l in ea ri ze s f a nd h v ia Ta yl or
TAYLOREXPANSION
e xp an si on i s c al le d a n e xt en de d Ka lm an f il te r (o r EKF). Fi gu re 25.12 s ho ws a s eq ue nc e
o f e st im at es o f a r ob ot r un ni ng a n e xt en de d Ka lm an f il te r l oc al iz at io n a lg or it hm . As t he
"r ob ot mo ve s ,t he un ce rt ai nt y i ni ts lo ca ti on es ti ma te in cr ea se s , a ss ho wn by th ee rr or el li ps es ."
It s e rr or d ec re as es a s i t s en se s t he r an ge a nd b ea ri ng t o a l an dm ar k w it h k no wn l oc at io n
a nd i nc re as es a ga in a s t he r ob ot l os es s ig ht o f t he l an dm ar k . EKF a lg or it hm s w or k w el l i f
"l an dm ar ks a re e as il y i de nt if ie d . Ot he rw is e , t he p os te ri or d is tr ib ut io n m ay b e m ul ti mo da l , a s"
i n Fi gu re 25.10(b). Th ep ro bl em o fn ee di ng t ok no w t he id en ti ty o fl an dm ar ks i sa ni ns ta nc e
o ft he da ta as so ci at io n p ro bl em di sc us se d i n Fi gu re 15.6.
"In so me si tu at io ns , n om ap of th ee nv ir on me nt i sa va il ab le . Th en th er ob ot wi ll ha ve to"
a cq ui re a ma p . Th is is a bi t o fa ch ic ke n-a nd-e gg p ro bl em: t he n av ig at in g r ob ot w il lh av e t o
"d et er mi ne i ts l oc at io n r el at iv e t o a m ap i t d oe sn’t q ui te k no w , a t t he s am e t im e b ui ld in g t hi s"
m ap wh il ei td oe sn’t qu it ek no wi ts ac tu al lo ca ti on . Th is pr ob le mi si mp or ta nt fo rm an yr ob ot
"a pp li ca ti on s , a nd i t h as b ee n s tu di ed e xt en si ve ly u nd er t he n am e s im ul ta ne ou s l oc al iz at io n"
SIMULTANEOUS
"a nd ma pp in g ,a bb re vi at ed a s SLAM ."
LOCALIZATIONAND
MAPPING
"SLAM p ro bl em s a re s ol ve d u si ng m an y d if fe re nt p ro ba bi li st ic t ec hn iq ue s , i nc lu di ng"
t he ex te nd ed Ka lm an fi lt er di sc us se d a bo ve . Us in gt he EKFi ss tr ai gh tf or wa rd: j us ta ug me nt
Se ct io n 25.3. Ro bo ti c Pe rc ep ti on 983
Ro bo t p os it io n
(a)
Ro bo t p os it io n
(b)
Ro bo t p os it io n
(c)
"Fi gu re 25.10 Mo nt e Ca rl ol oc al iz at io n ,a pa rt ic le fi lt er in ga lg or it hm fo rm ob il er ob ot lo-"
"c al iz at io n . (a)In it ia l ,g lo ba lu nc er ta in ty . (b)Ap pr ox im at el yb im od al un ce rt ai nt ya ft er na vi-"
g at in gi nt he(s ym me tr ic)c or ri do r .(c)Un im od al un ce rt ai nt ya ft er en te ri ng ar oo ma nd fi nd in g
i tt ob ed is ti nc ti ve .
984 Ch ap te r 25. Ro bo ti cs
~
"f(X , a) = f(μ, a) + F(X − μ)"
X X t t t t t t t
"t+1 f(X , a) t+1 f(X , a)"
t t t t
~
"Σ f(μ, a) Σ f(μ, a)"
t+1 t t t+1 t t Σ
t+1
μ X μ X
t t t t
Σ Σ
t t
(a) (b)
Fi gu re 25.11 On e-d im en si on al il lu st ra ti on of al in ea ri ze dm ot io nm od el:(a)Th ef un ct io n
"f ,a nd th ep ro je ct io no fa me anμ"
t
a nd ac ov ar ia nc ei nt er va l(b as ed onΣ t)i nt ot im et+1.
(b)Th el in ea ri ze dv er si on is th et an ge nt of f a tμ . Th ep ro je ct io no ft he me anμ i sc or re ct .
t t
"Ho we ve r ,t he pr oj ec te dc ov ar ia nc eΣ˜ t+1 d if fe rs fr omΣ t+1."
r ob ot
l an dm ar k
Fi gu re 25.12 Ex am pl eo fl oc al iz at io nu si ng th ee xt en de d Ka lm an fi lt er . Th er ob ot mo ve s
"o na s tr ai gh tl in e . As i t p ro gr es se s ,i ts u nc er ta in ty in cr ea se sg ra du al ly ,a si ll us tr at ed b yt he"
"e rr or el li ps es . Wh en it ob se rv es al an dm ar kw it hk no wn po si ti on ,t he un ce rt ai nt yi sr ed uc ed ."
"t he s ta te v ec to r t o i nc lu de t he l oc at io ns o f t he l an dm ar ks i n t he e nv ir on me nt . Lu ck il y , t he"
"EKFu pd at es ca le sq ua dr at ic al ly , s of or sm al lm ap s(e .g .,a fe wh un dr ed la nd ma rk s)t he co m-"
"p ut at io n i s q ui te f ea si bl e . Ri ch er m ap s a re o ft en o bt ai ne d u si ng g ra ph r el ax at io n m et ho ds ,"
s im il ar to th e Ba ye si an n et wo rk i nf er en ce t ec hn iq ue s d is cu ss ed i n Ch ap te r 14. Ex pe ct at io n–
m ax im iz at io n i sa ls ou se df or SLAM .
25.3.2 Ot he rt yp es o fp er ce pt io n
No t a ll o f r ob ot p er ce pt io n i s a bo ut l oc al iz at io n o r m ap pi ng . Ro bo ts a ls o p er ce iv e t he t em-
"p er at ur e , o do rs , a co us ti c s ig na ls , a nd so on . Ma ny of th es e q ua nt it ie s c an be es ti ma te d u si ng"
v ar ia nt s o f d yn am ic Ba ye s n et wo rk s . Al lt ha t i s r eq ui re d f or s uc h e st im at or s a re c on di ti on al
"p ro ba bi li ty d is tr ib ut io ns t ha t c ha ra ct er iz e t he e vo lu ti on o fs ta te v ar ia bl es o ve rt im e , a nd se n-"
s or mo de ls th at de sc ri be t he re la ti on of me as ur em en ts to st at ev ar ia bl es .
"It i s a ls o p os si bl e t o p ro gr am a r ob ot a s a r ea ct iv e a ge nt , w it ho ut e xp li ci tl y r ea so ni ng"
a bo ut pr ob ab il it y d is tr ib ut io ns o ve rs ta te s . We co ve rt ha t a pp ro ac h i n Se ct io n 25.6.3.
Th e t re nd i n r ob ot ic s i s c le ar ly t ow ar ds r ep re se nt at io ns w it h w el l-d ef in ed s em an ti cs .
Se ct io n 25.3. Ro bo ti c Pe rc ep ti on 985
(a) (b) (c)
Fi gu re 25.13 Se qu en ce o f “d ri va bl e s ur fa ce” c la ss if ie r r es ul ts u si ng a da pt iv e v is io n . In
(a)o nl yt he ro ad is cl as si fi ed as dr iv ab le(s tr ip ed ar ea). Th e V-s ha pe dd ar kl in es ho ws wh er e
"t he ve hi cl ei sh ea di ng . In(b)t he ve hi cl ei sc om ma nd ed to dr iv eo ff th er oa d ,o nt oa g ra ss y"
"s ur fa ce , a nd t he c la ss if ie r i s b eg in ni ng to c la ss if y s om e o f t he g ra ss a s d ri va bl e . In (c) t he"
v eh ic le ha su pd at ed it sm od el of dr iv ab le su rf ac et oc or re sp on dt og ra ss as we ll as ro ad .
Pr ob ab il is ti ct ec hn iq ue so ut pe rf or mo th er ap pr oa ch es in ma ny ha rd pe rc ep tu al pr ob le ms su ch
"a sl oc al iz at io na nd ma pp in g . Ho we ve r ,s ta ti st ic al te ch ni qu es ar es om et im es to oc um be rs om e ,"
a nd s im pl er so lu ti on s m ay be ju st a s e ff ec ti ve i np ra ct ic e . To he lp d ec id e w hi ch ap pr oa ch t o
"t ak e ,e xp er ie nc e w or ki ng wi th re al ph ys ic al r ob ot si sy ou rb es tt ea ch er ."
25.3.3 Ma ch in el ea rn in g i nr ob ot p er ce pt io n
Ma ch in e l ea rn in g p la ys a n i mp or ta nt r ol e i n r ob ot p er ce pt io n . Th is i s p ar ti cu la rl y t he c as e
w he n t he b es t i nt er na l r ep re se nt at io n i s n ot k no wn . On e c om mo n a pp ro ac h i s t o m ap h ig h-
d im en si on al se ns or st re am si nt ol ow er-d im en si on al sp ac es us in gu ns up er vi se dm ac hi ne le ar n-
LOW-DIMENSIONAL i ng m et ho ds (s ee Ch ap te r 18). Su ch a n a pp ro ac h i s c al le d l ow-d im en si on al e mb ed di ng .
EMBEDDING
"Ma ch in e l ea rn in g m ak es i t p os si bl e t o l ea rn s en so r a nd m ot io n m od el s f ro m d at a , w hi le s i-"
m ul ta ne ou sl y d is co ve ri ng a su it ab le in te rn al r ep re se nt at io ns .
An ot he r m ac hi ne l ea rn in g t ec hn iq ue e na bl es r ob ot s t o c on ti nu ou sl y a da pt t o b ro ad
c ha ng es i n s en so r m ea su re me nt s . Pi ct ur e y ou rs el f w al ki ng f ro m a s un-l it s pa ce i nt o a d ar k
n eo n-l it ro om . Cl ea rl yt hi ng sa re da rk er in si de . Bu tt he ch an ge of li gh ts ou rc ea ls oa ff ec ts al l
t he c ol or s: Ne on l ig ht h as a s tr on ge r c om po ne nt o f g re en l ig ht t ha n s un li gh t . Ye t s om eh ow
"w es ee m n ot t o n ot ic e t he c ha ng e . If w ew al k t og et he r w it h p eo pl e i nt o a n eo n-l it r oo m , w e"
d on’t t hi nk t ha t s ud de nl y t he ir fa ce s t ur ne d g re en . Ou rp er ce pt io n q ui ck ly a da pt s t ot he n ew
"l ig ht in g c on di ti on s , a nd ou rb ra in ig no re s t he di ff er en ce s ."
Ad ap ti ve p er ce pt io n t ec hn iq ue s e na bl e r ob ot s t o a dj us t t o s uc h c ha ng es . On e e xa mp le
"i s s ho wn i n Fi gu re 25.13, t ak en f ro m t he a ut on om ou s d ri vi ng d om ai n . He re a n u nm an ne d"
g ro un d v eh ic le a da pt s i ts c la ss if ie r o f t he c on ce pt “d ri va bl e s ur fa ce .” Ho w d oe s t hi s w or k ?
Th e r ob ot u se s a l as er t o p ro vi de c la ss if ic at io n f or a s ma ll a re a r ig ht i n f ro nt o f t he r ob ot .
"Wh en t hi s a re a i s f ou nd t o b e f la t i n t he l as er r an ge s ca n , i t i s u se d a s a p os it iv e t ra in in g"
e xa mp le fo rt he co nc ep t “d ri va bl e s ur fa ce .” Am ix tu re-o f-Ga us si an s t ec hn iq ue s im il ar to th e
EM a lg or it hm d is cu ss ed i n Ch ap te r 20 i s t he n t ra in ed t o r ec og ni ze t he s pe ci fi c c ol or a nd
t ex tu re c oe ff ic ie nt s o f t he s ma ll s am pl e p at ch . Th e i ma ge s i n Fi gu re 25.13 a re t he r es ul t o f
a pp ly in g t hi sc la ss if ie rt ot he fu ll im ag e .
986 Ch ap te r 25. Ro bo ti cs
Me th od s t ha t m ak e r ob ot s c ol le ct t he ir ow nt ra in in g d at a (w it h l ab el s !) a re c al le d s el f-
"SELF-SUPERVISED s up er vi se d . In th is in st an ce ,t he ro bo tu se sm ac hi ne le ar ni ng to le ve ra ge as ho rt-r an ge se ns or"
LEARNING
t ha t w or ks w el lf or te rr ai n c la ss if ic at io n i nt o a se ns or t ha t c an se e m uc h f ar th er . Th at al lo ws
"t he ro bo t t od ri ve f as te r , s lo wi ng do wn on ly w he nt he se ns or m od el sa ys th er e i sa ch an ge i n"
t he te rr ai nt ha tn ee ds to be ex am in ed mo re ca re fu ll y b yt he sh or t-r an ge s en so rs .
25.4 PLANNING TO MOVE
Al lo f a ro bo t’s d el ib er at io ns u lt im at el y c om ed ow n t o d ec id in g h ow t om ov ee ff ec to rs . Th e
POINT-TO-POINT p oi nt-t o-p oi nt mo ti on pr ob le mi st od el iv er th er ob ot or it se nd ef fe ct or to ad es ig na te dt ar ge t
MOTION
"l oc at io n . A g re at er c ha ll en ge i s t he c om pl ia nt m ot io n p ro bl em , i n w hi ch a r ob ot m ov es"
COMPLIANTMOTION
w hi le be in gi np hy si ca lc on ta ct w it ha no bs ta cl e . An ex am pl eo fc om pl ia nt mo ti on is ar ob ot
"m an ip ul at or th at sc re ws in al ig ht bu lb ,o ra ro bo tt ha tp us he sa bo xa cr os sa ta bl et op ."
We b eg in b y f in di ng a s ui ta bl e r ep re se nt at io n i n w hi ch m ot io n-p la nn in g p ro bl em s c an
b ed es cr ib ed a nd so lv ed . It tu rn so ut th at th e c on fi gu ra ti on s pa ce—t he sp ac eo fr ob ot st at es
"d ef in ed b y l oc at io n , o ri en ta ti on , a nd j oi nt a ng le s—i s a be tt er pl ac e t ow or k t ha n t he o ri gi na l"
3 Ds pa ce . Th ep at hp la nn in gp ro bl em i st of in da pa th fr om on e c on fi gu ra ti on t oa no th er in
PATHPLANNING
c on fi gu ra ti on sp ac e . We ha ve al re ad ye nc ou nt er ed va ri ou sv er si on so ft he pa th-p la nn in gp ro b-
l em t hr ou gh ou t t hi s b oo k ; t he c om pl ic at io n a dd ed b y r ob ot ic s i s t ha t p at h p la nn in g i nv ol ve s
c on ti nu ou ss pa ce s . Th er ea re tw om ai na pp ro ac he s: c el ld ec om po si ti on an ds ke le to ni za ti on .
Ea ch r ed uc es t he c on ti nu ou s p at h-p la nn in g p ro bl em t o a d is cr et e g ra ph-s ea rc h p ro bl em . In
"t hi ss ec ti on ,w ea ss um et ha tm ot io ni sd et er mi ni st ic an dt ha tl oc al iz at io no ft he ro bo ti se xa ct ."
Su bs eq ue nt s ec ti on s w il lr el ax th es ea ss um pt io ns .
25.4.1 Co nf ig ur at io ns pa ce
We w il l s ta rt w it h a s im pl e r ep re se nt at io n f or a s im pl e r ob ot m ot io n p ro bl em . Co ns id er t he
r ob ot a rm s ho wn i n Fi gu re 25.14(a). It h as t wo j oi nt s t ha t m ov e i nd ep en de nt ly . Mo vi ng
"t he j oi nt s a lt er s t he (x ,y) c oo rd in at es o f t he e lb ow a nd t he g ri pp er . (Th e a rm c an no t m ov e"
i n t he z d ir ec ti on .) Th is s ug ge st s t ha t t he r ob ot’s c on fi gu ra ti on c an b e d es cr ib ed b y a f ou r-
"d im en si on al co or di na te: (x ,y )f or th el oc at io no ft he el bo wr el at iv et ot he en vi ro nm en ta nd"
e e
"(x ,y ) f or t he l oc at io n o f t he g ri pp er . Cl ea rl y , t he se f ou r c oo rd in at es c ha ra ct er iz e t he f ul l"
g g
"WORKSPACE s ta te o f t he r ob ot . Th ey c on st it ut e w ha t i s k no wn a s w or ks pa ce r ep re se nt at io n , s in ce t he"
REPRESENTATION
c oo rd in at es o ft he ro bo ta re sp ec if ie di nt he sa me co or di na te s ys te m a st he ob je ct s i ts ee ks to
"m an ip ul at e (o r t o a vo id). Wo rk sp ac e r ep re se nt at io ns a re w el l-s ui te d f or c ol li si on c he ck in g ,"
e sp ec ia ll y i ft he ro bo ta nd al lo bj ec ts ar er ep re se nt ed b ys im pl ep ol yg on al m od el s .
Th e p ro bl em w it h t he w or ks pa ce r ep re se nt at io n i s t ha t n ot a ll w or ks pa ce c oo rd in at es
"a re ac tu al ly a tt ai na bl e , e ve ni nt he a bs en ce o fo bs ta cl es . Th is is be ca us e o ft he l in ka ge co n-"
"LINKAGE s tr ai nt s o n t he s pa ce o f a tt ai na bl e w or ks pa ce c oo rd in at es . Fo re xa mp le , t he e lb ow p os it io n"
CONSTRAINTS
"(x ,y ) a nd t he g ri pp er p os it io n (x ,y ) a re a lw ay s a f ix ed d is ta nc e a pa rt , b ec au se t he y a re"
e e g g
j oi ne d b ya ri gi d f or ea rm . Ar ob ot m ot io n p la nn er de fi ne d o ve r w or ks pa ce c oo rd in at es f ac es
t he c ha ll en ge o f g en er at in g p at hs t ha t a dh er e t o t he se c on st ra in ts . Th is i s p ar ti cu la rl y t ri ck y
Se ct io n 25.4. Pl an ni ng to Mo ve 987
t ab le
e el b
t ab le
s sh ou
e e v er ti ca l
o bs ta cl e
l ef t w al l
s s
(a) (b)
Fi gu re 25.14 (a)Wo rk sp ac er ep re se nt at io no fa ro bo ta rm wi th 2 DOFs . Th ew or ks pa ce
i s a b ox w it h a f la t o bs ta cl e h an gi ng fr om th e c ei li ng . (b)Co nf ig ur at io ns pa ce o f t he s am e
r ob ot . On ly wh it er eg io ns in th es pa ce ar ec on fi gu ra ti on st ha ta re fr ee of co ll is io ns . Th ed ot
i nt hi sd ia gr am co rr es po nd st ot he co nf ig ur at io no ft he ro bo ts ho wn on th el ef t .
b ec au se t he st at es pa ce is co nt in uo us a nd th ec on st ra in ts a re no nl in ea r . It tu rn so ut to be ea s-
CONFIGURATION i er to pl an wi th ac on fi gu ra ti on sp ac er ep re se nt at io n . In st ea do fr ep re se nt in g t he st at eo ft he
SPACE
"r ob ot b y t he Ca rt es ia n c oo rd in at es o f i ts e le me nt s , w e r ep re se nt t he s ta te b y a c on fi gu ra ti on"
"o f t he r ob ot’s j oi nt s . Ou r e xa mp le r ob ot p os se ss es t wo j oi nt s . He nc e , w e c an r ep re se nt i ts"
"s ta te w it h t he t wo a ng le s ϕ a nd ϕ f or t he s ho ul de r j oi nt a nd e lb ow j oi nt , r es pe ct iv el y . In"
s e
"t he ab se nc eo fa ny ob st ac le s ,a ro bo tc ou ld fr ee ly ta ke on an yv al ue in co nf ig ur at io ns pa ce . In"
"p ar ti cu la r , w he np la nn in g a pa th o ne c ou ld s im pl y c on ne ct t he p re se nt c on fi gu ra ti on a nd t he"
"t ar ge t c on fi gu ra ti on b y a s tr ai gh t l in e . In f ol lo wi ng t hi s p at h , t he r ob ot w ou ld t he n m ov e i ts"
"j oi nt sa ta co ns ta nt v el oc it y , u nt il at ar ge tl oc at io ni sr ea ch ed ."
"Un fo rt un at el y ,c on fi gu ra ti on sp ac es ha ve th ei ro wn pr ob le ms . Th et as ko fa ro bo ti su su-"
"a ll y e xp re ss ed i n w or ks pa ce c oo rd in at es , n ot i n c on fi gu ra ti on s pa ce c oo rd in at es . Th is r ai se s"
t he q ue st io n o f h ow t om ap be tw ee n w or ks pa ce c oo rd in at es a nd c on fi gu ra ti on s pa ce . Tr an s-
f or mi ng c on fi gu ra ti on s pa ce c oo rd in at es i nt o w or ks pa ce c oo rd in at es i s s im pl e: i t i nv ol ve s
a s er ie s o f s tr ai gh tf or wa rd c oo rd in at e t ra ns fo rm at io ns . Th es e t ra ns fo rm at io ns a re l in ea r f or
p ri sm at ic jo in ts an dt ri go no me tr ic fo rr ev ol ut ej oi nt s . Th is ch ai no fc oo rd in at et ra ns fo rm at io n
i sk no wn as ki ne ma ti cs .
KINEMATICS
Th ei nv er se pr ob le m o fc al cu la ti ng t he co nf ig ur at io n o fa ro bo tw ho se ef fe ct or lo ca ti on
INVERSE i ss pe ci fi ed in wo rk sp ac ec oo rd in at es is kn ow na si nv er se ki ne ma ti cs . Ca lc ul at in gt he in ve rs e
KINEMATICS
"k in em at ic si sh ar d ,e sp ec ia ll yf or ro bo ts wi th ma ny DOFs . In pa rt ic ul ar ,t he so lu ti on is se ld om"
u ni qu e . Fi gu re 25.14(a) s ho ws o ne o f t wo po ss ib le c on fi gu ra ti on s t ha t p ut t he g ri pp er i n t he
s am el oc at io n . (Th eo th er co nf ig ur at io n w ou ld ha st he el bo wb el ow th es ho ul de r .)
988 Ch ap te r 25. Ro bo ti cs
c on f-2
c on f-1
c on f-3
c on f-3
c on f-1
c on f-2
e e
s s
(a) (b)
"Fi gu re 25.15 Th re er ob ot co nf ig ur at io ns ,s ho wn in wo rk sp ac ea nd co nf ig ur at io ns pa ce ."
"In g en er al , t hi s t wo-l in k r ob ot a rm h as b et we en z er o a nd t wo i nv er se k in em at ic s ol u-"
t io ns f or a ny s et o f w or ks pa ce c oo rd in at es . Mo st i nd us tr ia l r ob ot s h av e s uf fi ci en t d eg re es
o f f re ed om t o f in d i nf in it el y m an y s ol ut io ns t o m ot io n p ro bl em s . To s ee h ow t hi s i s p os si-
"b le , s im pl y i ma gi ne t ha t w e a dd ed a t hi rd r ev ol ut e j oi nt t o o ur e xa mp le r ob ot , o ne w ho se"
"r ot at io na l a xi s i s p ar al le l t o t he o ne s o f t he e xi st in g j oi nt s . In s uc h a c as e , w e c an k ee p t he"
"l oc at io n(b ut no tt he or ie nt at io n !) o ft he gr ip pe rf ix ed an ds ti ll fr ee ly ro ta te it si nt er na lj oi nt s ,"
f or mo st co nf ig ur at io ns of th er ob ot . Wi th af ew mo re jo in ts(h ow ma ny ?) w ec an ac hi ev et he
s am e e ff ec t w hi le k ee pi ng t he o ri en ta ti on o f t he g ri pp er c on st an t a s w el l . We h av e a lr ea dy
s ee n a n e xa mp le o f t hi s i n t he “e xp er im en t” o f p la ci ng y ou r h an d o n t he d es k a nd m ov in g
y ou r e lb ow . Th e k in em at ic c on st ra in t o f y ou r h an d p os it io n i s i ns uf fi ci en t t o d et er mi ne t he
"c on fi gu ra ti on o f y ou r e lb ow . In o th er w or ds , t he i nv er se k in em at ic s o f y ou r s ho ul de r–a rm"
a ss em bl yp os se ss es a ni nf in it en um be ro fs ol ut io ns .
Th e s ec on d p ro bl em w it h c on fi gu ra ti on s pa ce r ep re se nt at io ns a ri se s f ro m t he o bs ta-
c le s t ha t m ay e xi st i n t he r ob ot’s w or ks pa ce . Ou re xa mp le i n Fi gu re 25.14(a) s ho ws s ev er al
"s uc ho bs ta cl es , i nc lu di ng a fr ee-h an gi ng o bs ta cl e t ha tp ro tr ud es i nt ot he ce nt er of th er ob ot’s"
"w or ks pa ce . In w or ks pa ce , s uc h o bs ta cl es t ak e o n s im pl e g eo me tr ic f or ms—e sp ec ia ll y i n"
"m os t r ob ot ic s t ex tb oo ks , w hi ch t en d t o f oc us o n p ol yg on al o bs ta cl es . Bu t h ow d o t he y l oo k"
i nc on fi gu ra ti on s pa ce ?
"Fi gu re 25.14(b)s ho ws th ec on fi gu ra ti on sp ac ef or ou re xa mp le ro bo t ,u nd er th es pe ci fi c"
o bs ta cl ec on fi gu ra ti on sh ow ni n Fi gu re 25.14(a). Th ec on fi gu ra ti on sp ac ec an be de co mp os ed
"i nt o t wo su bs pa ce s: t he sp ac e o fa ll co nf ig ur at io ns t ha t a ro bo t m ay at ta in , c om mo nl y c al le d"
"f re e s pa ce , a nd t he s pa ce o f u na tt ai na bl e c on fi gu ra ti on s , c al le d o cc up ie d s pa ce . Th e w hi te"
FREESPACE
a re a i n Fi gu re 25.14(b) c or re sp on ds t o t he f re e s pa ce . Al l o th er r eg io ns c or re sp on d t o o cc u-
OCCUPIEDSPACE
Se ct io n 25.4. Pl an ni ng to Mo ve 989
p ie ds pa ce . Th ed if fe re nt s ha di ng s o ft he oc cu pi ed s pa ce co rr es po nd s t ot he di ff er en t o bj ec ts
i n t he r ob ot’s w or ks pa ce ; t he b la ck r eg io n s ur ro un di ng t he e nt ir e f re e s pa ce c or re sp on ds t o
c on fi gu ra ti on s i nw hi ch t he r ob ot c ol li de s w it h i ts el f . It is e as y t os ee t ha t e xt re me v al ue s o f
t he s ho ul de r o r e lb ow a ng le s c au se s uc h a v io la ti on . Th e t wo o va l-s ha pe d r eg io ns o n b ot h
s id es of th er ob ot co rr es po nd to th et ab le on wh ic ht he ro bo ti sm ou nt ed . Th et hi rd ov al re gi on
"c or re sp on ds t ot he l ef tw al l . Fi na ll y , t he mo st in te re st in g o bj ec t i nc on fi gu ra ti on s pa ce i st he"
v er ti ca lo bs ta cl et ha th an gs fr om th ec ei li ng an di mp ed es th er ob ot’s mo ti on s . Th is ob je ct ha s
a fu nn ys ha pe in co nf ig ur at io n s pa ce: i ti sh ig hl yn on li ne ar an da tp la ce se ve nc on ca ve . Wi th
a l it tl e b it o f i ma gi na ti on t he r ea de r w il l r ec og ni ze t he s ha pe o f t he g ri pp er a t t he u pp er l ef t
e nd . We e nc ou ra ge t he r ea de r t o p au se f or a m om en t a nd s tu dy t hi s d ia gr am . Th e s ha pe o f
t hi so bs ta cl e i sn ot a ta ll ob vi ou s ! Th ed ot in si de Fi gu re 25.14(b) m ar ks th ec on fi gu ra ti on o f
"t he r ob ot , a s s ho wn i n Fi gu re 25.14(a). Fi gu re 25.15 d ep ic ts t hr ee a dd it io na l c on fi gu ra ti on s ,"
"b ot h i n w or ks pa ce a nd i n c on fi gu ra ti on s pa ce . In c on fi gu ra ti on c on f-1, t he g ri pp er e nc lo se s"
t he ve rt ic al ob st ac le .
"Ev en if th er ob ot’s wo rk sp ac ei sr ep re se nt ed by fl at po ly go ns ,t he sh ap eo ft he fr ee sp ac e"
"c an b e v er y c om pl ic at ed . In p ra ct ic e , t he re fo re , o ne u su al ly p ro be s a c on fi gu ra ti on s pa ce"
i ns te ad o fc on st ru ct in g i t e xp li ci tl y . Ap la nn er m ay g en er at e a co nf ig ur at io n a nd t he n t es t t o
s ee i fi t i si n f re e s pa ce b y a pp ly in g t he r ob ot k in em at ic s a nd t he n c he ck in g f or co ll is io ns i n
w or ks pa ce c oo rd in at es .
25.4.2 Ce ll de co mp os it io nm et ho ds
"CELL Th e f ir st a pp ro ac h t o p at h p la nn in g u se s c el l d ec om po si ti on—t ha t i s , i t d ec om po se s t he"
DECOMPOSITION
"f re e s pa ce i nt o a f in it e n um be r o f c on ti gu ou s r eg io ns , c al le d c el ls . Th es e r eg io ns h av e t he"
i mp or ta nt p ro pe rt y t ha t t he p at h-p la nn in g p ro bl em w it hi n a s in gl e r eg io n c an b e s ol ve d b y
"s im pl e m ea ns (e .g ., m ov in ga lo ng a st ra ig ht l in e). Th ep at h-p la nn in g p ro bl em t he n b ec om es"
"a di sc re te gr ap h-s ea rc hp ro bl em ,v er ym uc hl ik et he se ar ch pr ob le ms in tr od uc ed in Ch ap te r 3."
Th e s im pl es t c el l d ec om po si ti on c on si st s o f a r eg ul ar ly s pa ce d g ri d . Fi gu re 25.16(a)
s ho ws a s qu ar e g ri d d ec om po si ti on o f t he s pa ce a nd a s ol ut io n p at h t ha t i s o pt im al f or t hi s
"g ri ds iz e . Gr ay sc al e s ha di ng in di ca te s t he v al ue of ea ch fr ee-s pa ce g ri dc el l—i .e .,t he co st of"
t he sh or te st pa th fr om th at ce ll to th eg oa l . (Th es ev al ue sc an be co mp ut ed by ad et er mi ni st ic
f or mo ft he VALUE-ITERATION a lg or it hm gi ve ni n Fi gu re 17.4 o np ag e 653.) Fi gu re 25.16(b)
∗
"s ho ws th ec or re sp on di ng w or ks pa ce tr aj ec to ry fo rt he ar m . Of co ur se ,w ec an al so us et he A"
a lg or it hm t of in da sh or te st p at h .
"Su ch a d ec om po si ti on h as t he a dv an ta ge t ha t i t i s e xt re me ly s im pl e t o i mp le me nt , b ut"
"i t a ls o s uf fe rs f ro m t hr ee l im it at io ns . Fi rs t , i ti s w or ka bl e o nl y f or lo w-d im en si on al c on fi gu-"
"r at io ns pa ce s ,b ec au se th en um be ro fg ri dc el ls in cr ea se se xp on en ti al ly w it hd ,t he nu mb er of"
"d im en si on s . So un ds f am il ia r ? Th is i s t he c ur se !d im en si on al it y@o f d im en si on al it y . Se co nd ,"
"t he re is th ep ro bl em of wh at to do wi th ce ll st ha ta re“m ix ed”—t ha ti s ,n ei th er en ti re ly wi th in"
f re e s pa ce n or en ti re ly w it hi n o cc up ie d s pa ce . As ol ut io n p at h t ha t i nc lu de s s uc h a c el l m ay
"n ot b e a re al s ol ut io n , b ec au se t he re m ay b e n o w ay to c ro ss t he c el l i n t he d es ir ed d ir ec ti on"
"i na st ra ig ht l in e . Th is wo ul dm ak et he pa th pl an ne r u ns ou nd . On th eo th er ha nd , i fw ei ns is t"
"t ha to nl yc om pl et el y f re ec el ls ma yb eu se d , t he pl an ne rw il lb ei nc om pl et e , b ec au se it mi gh t"
990 Ch ap te r 25. Ro bo ti cs
g oa l
s ta rt
g oa l
s ta rt
(a) (b)
Fi gu re 25.16 (a)Va lu ef un ct io na nd pa th fo un df or ad is cr et eg ri dc el la pp ro xi ma ti on of
t he co nf ig ur at io ns pa ce . (b)Th es am ep at hv is ua li ze di nw or ks pa ce co or di na te s .No ti ce ho w
t he ro bo tb en ds it se lb ow to av oi da co ll is io nw it ht he ve rt ic al ob st ac le .
b et he c as et ha t t he on ly p at hs t ot he go al g ot hr ou gh m ix ed ce ll s—e sp ec ia ll y i ft he ce ll s iz e
"i s c om pa ra bl e t o t ha t o f t he p as sa ge wa ys a nd c le ar an ce s i n t he s pa ce . An d t hi rd , a ny p at h"
t hr ou gh a di sc re ti ze d s ta te sp ac ew il ln ot be sm oo th . It is ge ne ra ll y d if fi cu lt to gu ar an te e t ha t
a s mo ot h s ol ut io n e xi st s n ea r t he d is cr et e p at h . So a r ob ot m ay n ot b e a bl e t o e xe cu te t he
s ol ut io n f ou nd th ro ug ht hi sd ec om po si ti on .
"Ce ll d ec om po si ti on m et ho ds c an b e i mp ro ve d i n a n um be r o f w ay s , t o a ll ev ia te s om e"
o ft he se pr ob le ms . Th ef ir st ap pr oa ch al lo ws f ur th er su bd iv is io n o ft he mi xe dc el ls—p er ha ps
u si ng c el ls o f h al f t he o ri gi na l s iz e . Th is c an b e c on ti nu ed r ec ur si ve ly u nt il a p at h i s f ou nd
"t ha t l ie s e nt ir el y w it hi n f re e c el ls . (Of c ou rs e , t he m et ho d o nl y w or ks i f t he re i s a w ay t o"
"d ec id ei fa gi ve nc el li sa mi xe dc el l ,w hi ch is ea sy on ly if th ec on fi gu ra ti on sp ac eb ou nd ar ie s"
h av er el at iv el ys im pl em at he ma ti ca ld es cr ip ti on s .) Th is me th od is co mp le te pr ov id ed th er ei s
a bo un do nt he sm al le st pa ss ag ew ay th ro ug hw hi ch as ol ut io nm us tp as s . Al th ou gh it fo cu se s
"m os t o f t he c om pu ta ti on al e ff or t o n t he t ri ck y a re as w it hi n t he c on fi gu ra ti on s pa ce , i t s ti ll"
f ai ls t o s ca le w el l t o h ig h-d im en si on al p ro bl em s b ec au se e ac h r ec ur si ve s pl it ti ng o f a c el l
c re at es 2 d s ma ll er ce ll s . As ec on dw ay to ob ta in ac om pl et ea lg or it hm is to in si st on an ex ac t
EXACTCELL c el l d ec om po si ti on o ft he f re e s pa ce . Th is me th od m us t a ll ow c el ls t ob e i rr eg ul ar ly s ha pe d
DECOMPOSITION
"w he re t he y m ee t t he b ou nd ar ie s o f f re e s pa ce , b ut t he s ha pe s m us t s ti ll b e “s im pl e” i n t he"
s en se t ha t i t s ho ul d b e e as y t o c om pu te a t ra ve rs al o f a ny f re e c el l . Th is t ec hn iq ue r eq ui re s
"s om eq ui te ad va nc ed g eo me tr ic id ea s ,s ow es ha ll no tp ur su ei tf ur th er he re ."
"Ex am in in g t he s ol ut io n p at h s ho wn i n Fi gu re 25.16(a), w e c an s ee a n a dd it io na l d if fi-"
c ul ty th at wi ll ha ve to be re so lv ed . Th ep at hc on ta in sa rb it ra ri ly sh ar pc or ne rs ;a ro bo tm ov in g
a t a ny f in it e s pe ed c ou ld n ot e xe cu te s uc h a p at h . Th is p ro bl em i s s ol ve d b y s to ri ng c er ta in
"c on ti nu ou s v al ue s f or ea ch g ri d c el l . Co ns id er a n a lg or it hm w hi ch s to re s , f or ea ch g ri d c el l ,"
Se ct io n 25.4. Pl an ni ng to Mo ve 991
"t he e xa ct , c on ti nu ou s s ta te t ha t w as a tt ai ne d w it h t he c el l w as f ir st e xp an de d i n t he s ea rc h ."
"As su me fu rt he r , t ha tw he np ro pa ga ti ng i nf or ma ti on t on ea rb yg ri dc el ls ,w eu se th is co nt in u-"
"o us st at ea sa ba si s ,a nd ap pl yt he co nt in uo us ro bo tm ot io nm od el fo rj um pi ng to ne ar by ce ll s ."
"In d oi ng s o , w e c an n ow g ua ra nt ee t ha t t he r es ul ti ng t ra je ct or y i s s mo ot h a nd c an i nd ee d b e"
e xe cu te db yt he ro bo t . On ea lg or it hm t ha ti mp le me nt st hi si sh yb ri d A*.
HYBRIDA*
25.4.3 Mo di fi ed c os tf un ct io ns
"No ti ce th at in Fi gu re 25.16, t he pa th go es ve ry cl os et ot he ob st ac le . An yo ne wh oh as dr iv en"
a ca rk no ws th at ap ar ki ng sp ac ew it ho ne mi ll im et er of cl ea ra nc eo ne it he rs id ei sn ot re al ly a
"p ar ki ng s pa ce at al l ;f or th es am er ea so n , w ew ou ld pr ef er so lu ti on p at hs th at ar er ob us tw it h"
r es pe ct to sm al lm ot io ne rr or s .
Th is p ro bl em c an b e s ol ve d b y i nt ro du ci ng a p ot en ti al f ie ld . A p ot en ti al f ie ld i s a
POTENTIALFIELD
"f un ct io nd ef in ed ov er st at es pa ce ,w ho se va lu eg ro ws wi th th ed is ta nc et ot he cl os es to bs ta cl e ."
"Fi gu re 25.17(a)s ho ws su ch ap ot en ti al f ie ld—t he da rk er ac on fi gu ra ti on s ta te ,t he cl os er it is"
t oa no bs ta cl e .
Th ep ot en ti al fi el dc an be us ed as an ad di ti on al co st te rm in th es ho rt es t-p at hc al cu la ti on .
"Th is in du ce sa ni nt er es ti ng tr ad eo ff . On th eo ne ha nd ,t he ro bo ts ee ks to mi ni mi ze pa th le ng th"
"t ot he go al . On th eo th er ha nd ,i tt ri es to st ay aw ay fr om ob st ac le sb yv ir tu eo fm in im iz in gt he"
"p ot en ti al fu nc ti on . Wi th th ea pp ro pr ia te we ig ht ba la nc in g t he tw oo bj ec ti ve s , a re su lt in gp at h"
m ay lo ok l ik et he on e s ho wn in Fi gu re 25.17(b). Th is fi gu re al so di sp la ys t he va lu e f un ct io n
"d er iv ed f ro m t he c om bi ne d c os t f un ct io n , a ga in c al cu la te d b y v al ue i te ra ti on . Cl ea rl y , t he"
"r es ul ti ng p at hi sl on ge r , b ut it is al so sa fe r ."
"Th er e e xi st m an y o th er w ay s t o m od if y t he c os t f un ct io n . Fo r e xa mp le , i t m ay b e"
"d es ir ab le t o s mo ot h t he c on tr ol p ar am et er s o ve r t im e . Fo r e xa mp le , w he n d ri vi ng a c ar , a"
"s mo ot h p at hi sb et te rt ha n a je rk y o ne . In ge ne ra l , s uc hh ig he r-o rd er c on st ra in ts a re no te as y"
"t oa cc om mo da te i nt he pl an ni ng p ro ce ss , u nl es s w em ak et he mo st re ce nt s te er in g c om ma nd"
"a pa rt of th es ta te . Ho we ve r ,i ti so ft en ea sy to sm oo th th er es ul ti ng t ra je ct or y a ft er pl an ni ng ,"
u si ng c on ju ga te g ra di en t m et ho ds . Su ch p os t-p la nn in g s mo ot hi ng i s e ss en ti al i n m an y r ea l-
w or ld ap pl ic at io ns .
25.4.4 Sk el et on iz at io n m et ho ds
Th es ec on dm aj or fa mi ly of pa th-p la nn in ga lg or it hm si sb as ed on th ei de ao fs ke le to ni za ti on .
SKELETONIZATION
"Th es ea lg or it hm sr ed uc et he ro bo t’s fr ee sp ac et oa on e-d im en si on al re pr es en ta ti on , f or wh ic h"
t he pl an ni ng p ro bl em is ea si er . Th is lo we r-d im en si on al r ep re se nt at io n i sc al le da sk el et on of
t he co nf ig ur at io n s pa ce .
Fi gu re 25.18 s ho ws a n e xa mp le s ke le to ni za ti on: i t i s a Vo ro no i g ra ph o f t he f re e
VORONOIGRAPH
s pa ce—t he s et o f a ll p oi nt s t ha t a re e qu id is ta nt t o t wo o r m or e o bs ta cl es . To d o p at h p la n-
"n in g w it h a Vo ro no i g ra ph , t he r ob ot f ir st c ha ng es i ts p re se nt c on fi gu ra ti on t o a p oi nt o n t he"
Vo ro no i g ra ph . It i s e as y t o s ho w t ha t t hi s c an a lw ay s b e a ch ie ve d b y a s tr ai gh t-l in e m ot io n
"i nc on fi gu ra ti on s pa ce . Se co nd ,t he ro bo tf ol lo ws th e Vo ro no ig ra ph un ti li tr ea ch es th ep oi nt"
"n ea re st t o t he t ar ge t c on fi gu ra ti on . Fi na ll y , t he r ob ot l ea ve s t he Vo ro no i g ra ph a nd m ov es t o"
"t he ta rg et . Ag ai n ,t hi sf in al st ep in vo lv es s tr ai gh t-l in e m ot io ni nc on fi gu ra ti on s pa ce ."
992 Ch ap te r 25. Ro bo ti cs
s ta rt g oa l
(a) (b)
Fi gu re 25.17 (a) A r ep el li ng p ot en ti al f ie ld p us he s t he r ob ot a wa y f ro m o bs ta cl es . (b)
Pa th fo un db ys im ul ta ne ou sl ym in im iz in gp at hl en gt ha nd th ep ot en ti al .
(a) (b)
Fi gu re 25.18 (a)Th e Vo ro no ig ra ph is th es et of po in ts eq ui di st an tt ot wo or mo re ob st a-
"c le si nc on fi gu ra ti on sp ac e . (b)Ap ro ba bi li st ic ro ad ma p ,c om po se do f 400 r an do ml yc ho se n"
p oi nt si nf re es pa ce .
"In t hi s w ay , t he o ri gi na l p at h-p la nn in g p ro bl em i s r ed uc ed t o f in di ng a p at h o n t he"
"Vo ro no i g ra ph , w hi ch i s g en er al ly o ne-d im en si on al (e xc ep t i n c er ta in n on ge ne ri c c as es) a nd"
"h as fi ni te ly ma ny po in ts wh er et hr ee or mo re on e-d im en si on al c ur ve si nt er se ct . Th us ,f in di ng"
Se ct io n 25.5. Pl an ni ng Un ce rt ai n Mo ve me nt s 993
t he s ho rt es t p at h a lo ng t he Vo ro no i g ra ph i s a d is cr et e g ra ph-s ea rc h p ro bl em o f t he k in d
d is cu ss ed i n Ch ap te rs 3 a nd 4. Fo ll ow in g t he Vo ro no i g ra ph m ay n ot g iv e u s t he s ho rt es t
"p at h , b ut t he r es ul ti ng p at hs t en d t o m ax im iz e c le ar an ce . Di sa dv an ta ge s o f Vo ro no i g ra ph"
"t ec hn iq ue sa re th at th ey ar ed if fi cu lt to ap pl yt oh ig he r-d im en si on al c on fi gu ra ti on sp ac es ,a nd"
t ha t t he y t en d t o i nd uc e u nn ec es sa ri ly l ar ge d et ou rs w he n t he c on fi gu ra ti on s pa ce i s w id e
"o pe n . Fu rt he rm or e ,c om pu ti ng th e Vo ro no ig ra ph ca nb ed if fi cu lt ,e sp ec ia ll y i nc on fi gu ra ti on"
"s pa ce ,w he re th es ha pe so fo bs ta cl es c an be co mp le x ."
"PROBABILISTIC An a lt er na ti ve t o t he Vo ro no i g ra ph s i s t he p ro ba bi li st ic r oa dm ap , a s ke le to ni za ti on"
ROADMAP
"a pp ro ac h t ha t o ff er s m or ep os si bl e r ou te s , a nd th us d ea ls b et te rw it hw id e-o pe n s pa ce s . Fi g-"
u re 25.18(b)s ho ws an ex am pl eo fa pr ob ab il is ti cr oa dm ap . Th eg ra ph is cr ea te db yr an do ml y
"g en er at in g a l ar ge n um be r o f c on fi gu ra ti on s , a nd d is ca rd in g t ho se t ha t d o n ot f al l i nt o f re e"
s pa ce . Tw o n od es a re j oi ne d b y a n a rc i f i t i s “e as y” t o r ea ch o ne n od e f ro m t he o th er–f or
"e xa mp le , b y a s tr ai gh t l in e i n f re e s pa ce . Th e r es ul t o f a ll t hi s i s a r an do mi ze d g ra ph i n t he"
"r ob ot’s f re e s pa ce . If w e a dd t he r ob ot’s s ta rt a nd g oa l c on fi gu ra ti on s t o t hi s g ra ph , p at h"
"p la nn in g a mo un ts t o a di sc re te g ra ph s ea rc h . Th eo re ti ca ll y , t hi s a pp ro ac h i s i nc om pl et e , b e-"
c au se a b ad c ho ic e o f r an do m p oi nt s m ay l ea ve u s w it ho ut a ny p at hs f ro m s ta rt t o g oa l . It
i s p os si bl e t o b ou nd t he p ro ba bi li ty o f f ai lu re i n t er ms o f t he n um be r o f p oi nt s g en er at ed
a nd c er ta in g eo me tr ic p ro pe rt ie s o f t he c on fi gu ra ti on s pa ce . It i s a ls o p os si bl e t o d ir ec t t he
g en er at io n o f s am pl e p oi nt s t ow ar ds t he a re as w he re a p ar ti al s ea rc h s ug ge st s t ha t a g oo d
"p at h m ay b e f ou nd , w or ki ng b id ir ec ti on al ly f ro m b ot h t he s ta rt a nd t he g oa l p os it io ns . Wi th"
"t he se im pr ov em en ts ,p ro ba bi li st ic ro ad ma pp la nn in gt en ds to sc al eb et te rt oh ig h-d im en si on al"
c on fi gu ra ti on s pa ce st ha nm os ta lt er na ti ve p at h-p la nn in g t ec hn iq ue s .
25.5 PLANNING UNCERTAIN MOVEMENTS
No ne of th er ob ot mo ti on-p la nn in g a lg or it hm sd is cu ss ed th us fa ra dd re ss es ak ey ch ar ac te ri s-
"t ic of ro bo ti cs pr ob le ms: u nc er ta in ty . In ro bo ti cs ,u nc er ta in ty ar is es fr om pa rt ia lo bs er va bi li ty"
o ft he en vi ro nm en t a nd fr om th es to ch as ti c (o ru nm od el ed) e ff ec ts of th er ob ot’s a ct io ns . Er-
"r or sc an al so ar is ef ro m t he us eo fa pp ro xi ma ti on a lg or it hm s s uc ha sp ar ti cl e f il te ri ng , w hi ch"
d oe sn ot pr ov id e t he ro bo tw it ha ne xa ct be li ef s ta te ev en if th es to ch as ti c n at ur e o ft he en vi-
r on me nt is mo de le dp er fe ct ly .
"Mo st o f t od ay’s r ob ot s u se d et er mi ni st ic a lg or it hm s f or d ec is io n m ak in g , s uc h a s t he"
"p at h-p la nn in g a lg or it hm s o f t he p re vi ou s s ec ti on . To d o s o , i t i s c om mo n p ra ct ic e t o e xt ra ct"
t he m os t l ik el y s ta te f ro m t he p ro ba bi li ty d is tr ib ut io n p ro du ce d b y t he s ta te e st im at io n a l-
MOSTLIKELYSTATE
g or it hm . Th e a dv an ta ge o f t hi s a pp ro ac h i s p ur el y c om pu ta ti on al . Pl an ni ng p at hs t hr ou gh
c on fi gu ra ti on s pa ce i s a lr ea dy a c ha ll en gi ng p ro bl em ; i t w ou ld b e w or se i f w e h ad t o w or k
w it h a f ul l p ro ba bi li ty d is tr ib ut io n o ve rs ta te s . Ig no ri ng u nc er ta in ty i n t hi s w ay w or ks w he n
"t he un ce rt ai nt y i ss ma ll . In fa ct ,w he nt he en vi ro nm en t m od el ch an ge so ve rt im ea st he re su lt"
"o fi nc or po ra ti ng s en so rm ea su re me nt s , m an yr ob ot sp la np at hs on li ne du ri ng p la ne xe cu ti on ."
Th is is th eo nl in er ep la nn in gt ec hn iq ue o f Se ct io n 11.3.3.
ONLINEREPLANNING
994 Ch ap te r 25. Ro bo ti cs
"Un fo rt un at el y , i gn or in g t he u nc er ta in ty d oe s n ot a lw ay s w or k . In s om e p ro bl em s t he"
r ob ot’s u nc er ta in ty i s s im pl y t oo m as si ve: Ho w c an w e u se a d et er mi ni st ic p at h p la nn er t o
"c on tr ol a mo bi le r ob ot t ha t h as n o c lu e w he re i ti s ? In ge ne ra l , i f t he r ob ot’s t ru e s ta te i s n ot"
"t he o ne i de nt if ie d b y t he m ax im um l ik el ih oo d r ul e , t he r es ul ti ng c on tr ol w il l b e s ub op ti ma l ."
"De pe nd in g o n t he m ag ni tu de o f t he e rr or t hi s c an l ea d t o a ll s or ts o f u nw an te d e ff ec ts , s uc h"
a sc ol li si on s w it ho bs ta cl es .
Th ef ie ld of ro bo ti cs ha sa do pt ed ar an ge of te ch ni qu es fo ra cc om mo da ti ng un ce rt ai nt y .
So me ar ed er iv ed f ro m t he al go ri th ms g iv en i n Ch ap te r 17 f or de ci si on m ak in g u nd er un ce r-
"t ai nt y . If th er ob ot fa ce su nc er ta in ty on ly in it ss ta te tr an si ti on ,b ut it ss ta te is fu ll yo bs er va bl e ,"
t he pr ob le mi sb es tm od el ed as a Ma rk ov de ci si on pr oc es s(MDP).Th es ol ut io no fa n MDPi s
"a no pt im al po li cy ,w hi ch te ll st he ro bo tw ha tt od oi ne ve ry po ss ib le s ta te . In th is wa y ,i tc an"
"h an dl ea ll so rt so fm ot io ne rr or s ,w he re as as in gl e-p at h s ol ut io n f ro ma de te rm in is ti c p la nn er"
"NAVIGATION w ou ld b e m uc hl es s r ob us t . In ro bo ti cs , p ol ic ie s a re ca ll ed n av ig at io n f un ct io ns . Th ev al ue"
FUNCTION
f un ct io n s ho wn i n Fi gu re 25.16(a) c an b e c on ve rt ed i nt o s uc h a n av ig at io n f un ct io n s im pl y
b yf ol lo wi ng th eg ra di en t .
"Ju st as in Ch ap te r 17,p ar ti al ob se rv ab il it y m ak es th ep ro bl em mu ch ha rd er . Th er es ul t-"
"i ng r ob ot c on tr ol p ro bl em i s a p ar ti al ly o bs er va bl e MDP ,o r POMDP .In s uc h s it ua ti on s , t he"
"r ob ot m ai nt ai ns a ni nt er na l b el ie fs ta te , l ik et he on es di sc us se d i n Se ct io n 25.3. Th es ol ut io n"
"t o a POMDP i s a p ol ic y d ef in ed o ve r t he r ob ot’s b el ie f s ta te . Pu t d if fe re nt ly , t he i np ut t o"
t he po li cy is an en ti re p ro ba bi li ty d is tr ib ut io n . Th is en ab le s t he ro bo tt ob as e i ts de ci si on n ot
"o nl y o n w ha t i t k no ws , b ut a ls o o n w ha t i t d oe s n ot k no w . Fo r e xa mp le , i f i t i s u nc er ta in"
"INFORMATION a bo ut ac ri ti ca ls ta te va ri ab le ,i tc an ra ti on al ly in vo ke an in fo rm at io ng at he ri ng ac ti on . Th is"
GATHERINGACTION
"i s i mp os si bl e i nt he MDPf ra me wo rk , s in ce MDPs as su me f ul l o bs er va bi li ty . Un fo rt un at el y ,"
t ec hn iq ue st ha ts ol ve POMDPs ex ac tl ya re in ap pl ic ab le to ro bo ti cs—t he re ar en ok no wn te ch-
n iq ue sf or hi gh-d im en si on al co nt in uo us sp ac es . Di sc re ti za ti on pr od uc es POMDPs th at ar ef ar
t oo l ar ge t o h an dl e . On er em ed y i st o m ak et he m in im iz at io n o f u nc er ta in ty a co nt ro l o bj ec-
"COASTAL t iv e . Fo r e xa mp le , t he c oa st al n av ig at io n h eu ri st ic r eq ui re s t he r ob ot t o s ta y n ea r k no wn"
NAVIGATION
l an dm ar ks t o d ec re as e i ts u nc er ta in ty . An ot he r a pp ro ac h a pp li es v ar ia nt s o f t he p ro ba bi li s-
t ic r oa dm ap p la nn in g m et ho d t o t he b el ie f s pa ce r ep re se nt at io n . Su ch m et ho ds t en d t o s ca le
b et te rt ol ar ge di sc re te POMDPs .
25.5.1 Ro bu st me th od s
Un ce rt ai nt yc an al so be ha nd le du si ng so-c al le dr ob us tc on tr ol me th od s(s ee pa ge 836)r at he r
ROBUSTCONTROL
t ha n p ro ba bi li st ic m et ho ds . A r ob us t m et ho d i s o ne t ha t a ss um es a b ou nd ed a mo un t o f u n-
"c er ta in ty i n e ac h a sp ec t o f a p ro bl em , b ut d oe s n ot a ss ig n p ro ba bi li ti es t o v al ue s w it hi n t he"
"a ll ow ed i nt er va l . A r ob us t s ol ut io n i s o ne t ha t w or ks n o m at te r w ha t a ct ua l v al ue s o cc ur ,"
p ro vi de dt he ya re wi th in th ea ss um ed in te rv al . An ex tr em ef or mo fr ob us tm et ho di st he co n-
f or ma nt p la nn in ga pp ro ac h g iv en i n Ch ap te r 11—i t p ro du ce s p la ns t ha t w or k w it h n os ta te
i nf or ma ti on a ta ll .
"FINE-MOTION He re , w e l oo k a t a r ob us t m et ho d t ha t i s u se d f or f in e-m ot io n p la nn in g (o r FMP) i n"
PLANNING
r ob ot ic a ss em bl y t as ks . Fi ne-m ot io n p la nn in g i nv ol ve s m ov in g a r ob ot a rm i n v er y c lo se
p ro xi mi ty t o a s ta ti c e nv ir on me nt o bj ec t . Th e m ai n d if fi cu lt y w it h f in e-m ot io n p la nn in g i s
Se ct io n 25.5. Pl an ni ng Un ce rt ai n Mo ve me nt s 995
i ni ti al Cv
c on fi gu ra ti on
m ot io n v
e nv el op e
"Fi gu re 25.19 At wo-d im en si on al en vi ro nm en t ,v el oc it yu nc er ta in ty co ne ,a nd en ve lo pe of"
"p os si bl er ob ot mo ti on s . Th ei nt en de dv el oc it yi s v , b ut wi th un ce rt ai nt yt he ac tu al ve lo ci ty"
"c ou ld be an yw he re in Cv ,r es ul ti ng in af in al co nf ig ur at io ns om ew he re in th em ot io ne nv el op e ,"
w hi ch me an sw ew ou ld n’t kn ow if we hi tt he ho le or no t .
i ni ti al
Cv
c on fi gu ra ti on
v
m ot io n
e nv el op e
Fi gu re 25.20 Th ef ir st mo ti on co mm an da nd th er es ul ti ng en ve lo pe of po ss ib le ro bo tm o-
"t io ns . No m at te r w ha t t he e rr or , w e k no w t he f in al c on fi gu ra ti on w il l b e t o t he l ef t o f t he"
h ol e .
t ha tt he re qu ir ed mo ti on sa nd th er el ev an tf ea tu re so ft he en vi ro nm en ta re ve ry sm al l . At su ch
"s ma ll sc al es ,t he ro bo ti su na bl et om ea su re or co nt ro li ts po si ti on ac cu ra te ly an dm ay al so be"
u nc er ta in o f t he s ha pe o f t he e nv ir on me nt i ts el f ; w e w il l a ss um e t ha t t he se u nc er ta in ti es a re
a ll b ou nd ed . Th e s ol ut io ns t o FMP p ro bl em s w il l t yp ic al ly b e c on di ti on al p la ns o r p ol ic ie s
t ha tm ak eu se of se ns or fe ed ba ck du ri ng ex ec ut io na nd ar eg ua ra nt ee dt ow or ki na ll si tu at io ns
c on si st en t w it ht he as su me du nc er ta in ty b ou nd s .
A f in e-m ot io n p la n c on si st s o f a s er ie s o f g ua rd ed m ot io ns . Ea ch g ua rd ed m ot io n
GUARDEDMOTION
"c on si st so f(1)a mo ti on co mm an da nd(2)a te rm in at io nc on di ti on ,w hi ch is ap re di ca te on th e"
"r ob ot’s s en so r v al ue s , a nd r et ur ns t ru e t o i nd ic at e t he e nd o f t he g ua rd ed m ov e . Th e m ot io n"
c om ma nd s a re t yp ic al ly c om pl ia nt m ot io ns t ha t a ll ow t he e ff ec to r t o s li de i f t he m ot io n
COMPLIANTMOTION
"c om ma nd wo ul dc au se co ll is io nw it ha no bs ta cl e . As an ex am pl e ,Fi gu re 25.19 s ho ws at wo-"
d im en si on al c on fi gu ra ti on s pa ce w it h a n ar ro w v er ti ca l h ol e . It c ou ld b e t he c on fi gu ra ti on
s pa ce f or in se rt io n o fa re ct an gu la r p eg in to ah ol eo ra ca rk ey in to th ei gn it io n . Th em ot io n
c om ma nd sa re co ns ta nt v el oc it ie s . Th et er mi na ti on c on di ti on s a re co nt ac t w it ha su rf ac e . To
"m od el un ce rt ai nt y i nc on tr ol , w ea ss um et ha ti ns te ad of mo vi ng in th ec om ma nd ed di re ct io n ,"
t he r ob ot’s a ct ua l m ot io n l ie s i n t he c on e C a bo ut i t . Th e f ig ur e s ho ws w ha t w ou ld h ap pe n
v
996 Ch ap te r 25. Ro bo ti cs
Cv
v
m ot io n
e nv el op e
Fi gu re 25.21 Th es ec on dm ot io nc om ma nd an dt he en ve lo pe of po ss ib le mo ti on s . Ev en
"w it he rr or ,w ew il le ve nt ua ll yg et in to th eh ol e ."
i f w e c om ma nd ed a v el oc it y s tr ai gh t d ow n f ro m t he i ni ti al c on fi gu ra ti on . Be ca us e o f t he
"u nc er ta in ty i n v el oc it y , t he r ob ot c ou ld m ov e a ny wh er e i n t he c on ic al e nv el op e , p os si bl y"
"g oi ng i nt o t he h ol e , b ut m or e l ik el y l an di ng t o o ne s id e o f i t . Be ca us e t he r ob ot w ou ld n ot"
"t he nk no ww hi ch si de of th eh ol ei tw as on ,i tw ou ld no tk no ww hi ch wa yt om ov e ."
"A m or e s en si bl e s tr at eg y i s s ho wn i n Fi gu re s 25.20 a nd 25.21. In Fi gu re 25.20, t he"
"r ob ot de li be ra te ly mo ve st oo ne si de of th eh ol e . Th em ot io nc om ma nd is sh ow ni nt he fi gu re ,"
"a nd t he t er mi na ti on t es t i s c on ta ct w it h a ny s ur fa ce . In Fi gu re 25.21, a m ot io n c om ma nd i s"
g iv en t ha t c au se s t he r ob ot t o s li de a lo ng t he s ur fa ce a nd i nt o t he h ol e . Be ca us e a ll p os si bl e
"v el oc it ie s i nt he mo ti on en ve lo pe a re to th er ig ht , t he ro bo t w il ls li de to th er ig ht wh en ev er it"
i s i n c on ta ct w it h a h or iz on ta l s ur fa ce . It w il l s li de d ow n t he r ig ht-h an d v er ti ca l e dg e o f t he
"h ol ew he ni tt ou ch es i t ,b ec au se al lp os si bl ev el oc it ie s a re do wn re la ti ve to av er ti ca ls ur fa ce ."
"It w il l k ee p m ov in g u nt il i t r ea ch es t he b ot to m o f t he h ol e , b ec au se t ha t i s i ts t er mi na ti on"
"c on di ti on . In s pi te o f t he c on tr ol u nc er ta in ty , a ll p os si bl e t ra je ct or ie s o f t he r ob ot t er mi na te"
"i nc on ta ct wi th th eb ot to mo ft he ho le—t ha ti s ,u nl es ss ur fa ce ir re gu la ri ti es ca us et he ro bo tt o"
s ti ck in on ep la ce .
"As o ne m ig ht i ma gi ne , t he p ro bl em o f c on st ru ct in g f in e-m ot io n p la ns i s n ot t ri vi al ; i n"
"f ac t , i t i s a g oo d d ea l h ar de r t ha n p la nn in g w it h e xa ct m ot io ns . On e c an e it he r c ho os e a"
f ix ed n um be r o f d is cr et e v al ue s f or ea ch m ot io n o ru se t he e nv ir on me nt g eo me tr y t o c ho os e
d ir ec ti on s t ha t g iv eq ua li ta ti ve ly d if fe re nt b eh av io r . Af in e-m ot io n p la nn er t ak es a si np ut t he
"c on fi gu ra ti on-s pa ce de sc ri pt io n ,t he an gl eo ft he ve lo ci ty un ce rt ai nt yc on e ,a nd as pe ci fi ca ti on"
o fw ha ts en si ng i sp os si bl e f or te rm in at io n (s ur fa ce c on ta ct i nt hi sc as e). It sh ou ld p ro du ce a
"m ul ti st ep co nd it io na l p la no rp ol ic yt ha ti sg ua ra nt ee d t os uc ce ed , i fs uc ha pl an ex is ts ."
"Ou re xa mp le a ss um es t ha t t he p la nn er h as a n e xa ct m od el o ft he e nv ir on me nt , b ut i ti s"
p os si bl e t o a ll ow f or bo un de d e rr or in th is m od el as f ol lo ws . If th ee rr or c an be de sc ri be d i n
"t er ms of pa ra me te rs ,t ho se pa ra me te rs ca nb ea dd ed as de gr ee so ff re ed om to th ec on fi gu ra ti on"
"s pa ce . In t he l as t e xa mp le , i f t he d ep th a nd w id th o f t he h ol e w er e u nc er ta in , w e c ou ld a dd"
t he m a s t wo d eg re es o f f re ed om t o t he c on fi gu ra ti on s pa ce . It i s i mp os si bl e t o m ov e t he
r ob ot i n t he se d ir ec ti on s i n t he c on fi gu ra ti on s pa ce o r t o s en se i ts p os it io n d ir ec tl y . Bu t
b ot ht ho se re st ri ct io ns ca nb ei nc or po ra te d w he nd es cr ib in gt hi sp ro bl em as an FMPp ro bl em
"b y a pp ro pr ia te ly s pe ci fy in g c on tr ol a nd s en so r u nc er ta in ti es . Th is g iv es a c om pl ex , f ou r-"
"d im en si on al p la nn in g p ro bl em , b ut e xa ct ly t he s am e p la nn in g t ec hn iq ue s c an b e a pp li ed ."
Se ct io n 25.6. Mo vi ng 997
"No ti ce th at un li ke th ed ec is io n-t he or et ic m et ho ds in Ch ap te r 17,t hi sk in do fr ob us ta pp ro ac h"
"r es ul ts i n p la ns d es ig ne d f or t he w or st-c as e o ut co me , r at he r t ha n m ax im iz in g t he e xp ec te d"
q ua li ty of th ep la n . Wo rs t-c as ep la ns ar eo pt im al in th ed ec is io n-t he or et ic s en se on ly if fa il ur e
d ur in ge xe cu ti on i sm uc hw or se th an an yo ft he ot he rc os ts in vo lv ed i ne xe cu ti on .
25.6 MOVING
"So f ar , w e h av e t al ke d a bo ut h ow t o p la n m ot io ns , b ut n ot a bo ut h ow t o m ov e . Ou rp la ns—"
p ar ti cu la rl yt ho se pr od uc ed by de te rm in is ti cp at hp la nn er s—a ss um et ha tt he ro bo tc an si mp ly
"f ol lo wa ny pa th th at th ea lg or it hm p ro du ce s . In th er ea lw or ld ,o fc ou rs e , t hi si sn ot th ec as e ."
Ro bo ts h av e i ne rt ia a nd c an no t e xe cu te a rb it ra ry p at hs e xc ep t a t a rb it ra ri ly s lo w s pe ed s . In
"m os tc as es ,t he ro bo tg et st oe xe rt fo rc es ra th er th an sp ec if yp os it io ns . Th is se ct io nd is cu ss es"
m et ho ds fo rc al cu la ti ng t he se fo rc es .
25.6.1 Dy na mi cs an d c on tr ol
"Se ct io n 25.2 i nt ro du ce d t he no ti on o f d yn am ic st at e , w hi ch ex te nd s t he ki ne ma ti c s ta te o fa"
"r ob ot by it sv el oc it y . Fo re xa mp le ,i na dd it io n t ot he an gl eo fa ro bo tj oi nt , t he dy na mi cs ta te"
"a ls o c ap tu re s t he r at e o f c ha ng e o f t he a ng le , a nd p os si bl y e ve n i ts m om en ta ry a cc el er at io n ."
Th e t ra ns it io n m od el f or a d yn am ic s ta te r ep re se nt at io n i nc lu de s t he e ff ec t o f f or ce s o n t hi s
"DIFFERENTIAL r at e o f c ha ng e . Su ch m od el s a re t yp ic al ly e xp re ss ed v ia d if fe re nt ia l e qu at io ns , w hi ch a re"
EQUATION
"e qu at io ns t ha t r el at e a q ua nt it y (e .g ., a k in em at ic s ta te) t o t he c ha ng e o f t he q ua nt it y o ve r"
"t im e(e .g .,v el oc it y). In pr in ci pl e , w ec ou ld h av ec ho se n t op la nr ob ot m ot io nu si ng d yn am ic"
"m od el s , i ns te ad o f o ur ki ne ma ti c m od el s . Su ch a m et ho do lo gy w ou ld l ea d t o s up er io r r ob ot"
"p er fo rm an ce , i f w ec ou ld g en er at e t he p la ns . Ho we ve r , t he d yn am ic s ta te h as h ig he r d im en-"
"s io n t ha n t he k in em at ic s pa ce , a nd t he c ur se o f d im en si on al it y w ou ld r en de r m an y m ot io n"
"p la nn in ga lg or it hm si na pp li ca bl e f or al lb ut th em os ts im pl er ob ot s . Fo rt hi sr ea so n ,p ra ct ic al"
r ob ot sy st em of te nr el yo ns im pl er ki ne ma ti cp at hp la nn er s .
A c om mo n t ec hn iq ue t o c om pe ns at e f or t he l im it at io ns o f k in em at ic p la ns i s t o u se a
"s ep ar at e m ec ha ni sm , a co nt ro ll er , f or ke ep in g t he ro bo to nt ra ck . Co nt ro ll er s a re te ch ni qu es"
CONTROLLER
"f or g en er at in g r ob ot c on tr ol s i n r ea l t im e u si ng f ee db ac k f ro m t he e nv ir on me nt , s o a s t o"
"a ch ie ve a c on tr ol o bj ec ti ve . If t he o bj ec ti ve i s t o k ee p t he r ob ot o n a p re pl an ne d p at h , i t i s"
REFERENCE o ft en re fe rr ed to as ar ef er en ce co nt ro ll er an dt he pa th is ca ll ed ar ef er en ce pa th . Co nt ro ll er s
CONTROLLER
t ha t o pt im iz e a gl ob al c os t f un ct io n a re k no wn a s o pt im al c on tr ol le rs . Op ti ma l p ol ic ie s f or
REFERENCEPATH
"OPTIMAL c on ti nu ou s MDPs ar e ,i ne ff ec t ,o pt im al co nt ro ll er s ."
CONTROLLERS
"On t he s ur fa ce , t he p ro bl em o f k ee pi ng a r ob ot o n a p re sp ec if ie d p at h a pp ea rs t o b e"
"r el at iv el y s tr ai gh tf or wa rd . In p ra ct ic e , h ow ev er , e ve n t hi s s ee mi ng ly s im pl e p ro bl em h as i ts"
p it fa ll s . Fi gu re 25.22(a) i ll us tr at es w ha t c an g o w ro ng ; i t s ho ws t he p at h o f a r ob ot t ha t
a tt em pt s t o f ol lo w a k in em at ic p at h . Wh en ev er a d ev ia ti on o cc ur s—w he th er d ue t o n oi se o r
t oc on st ra in ts o nt he fo rc es th er ob ot ca na pp ly—t he ro bo tp ro vi de sa no pp os in gf or ce wh os e
"m ag ni tu de i s p ro po rt io na l t o t hi s d ev ia ti on . In tu it iv el y , t hi s m ig ht a pp ea r p la us ib le , s in ce"
"d ev ia ti on s s ho ul d b e c om pe ns at ed b y a c ou nt er fo rc e t o k ee p t he r ob ot o n t ra ck . Ho we ve r ,"
998 Ch ap te r 25. Ro bo ti cs
(a) (b) (c)
"Fi gu re 25.22 Ro bo t a rm c on tr ol u si ng (a) p ro po rt io na lc on tr ol w it h g ai n f ac to r 1.0, (b)"
"p ro po rt io na lc on tr ol wi th g ai n f ac to r 0.1, a nd (c) PD (p ro po rt io na ld er iv at iv e)c on tr ol wi th"
g ai nf ac to rs 0.3 f or th ep ro po rt io na lc om po ne nt an d 0.8 f or th ed if fe re nt ia lc om po ne nt .In al l
c as es th er ob ot ar mt ri es to fo ll ow th ep at hs ho wn in gr ay .
"a s Fi gu re 25.22(a) i ll us tr at es , o ur c on tr ol le r c au se s t he r ob ot t o v ib ra te r at he r v io le nt ly . Th e"
v ib ra ti on i s t he r es ul t o f a n at ur al i ne rt ia o f t he r ob ot a rm: o nc e d ri ve n b ac k t o i ts r ef er en ce
"p os it io nt he ro bo tt he no ve rs ho ot s ,w hi ch in du ce sa sy mm et ri ce rr or wi th op po si te si gn . Su ch"
"o ve rs ho ot in g m ay c on ti nu e a lo ng a n e nt ir e t ra je ct or y , a nd t he r es ul ti ng r ob ot m ot io n i s f ar"
f ro md es ir ab le .
"Be fo re w e c an d ef in e a b et te r c on tr ol le r , l et u s f or ma ll y d es cr ib e w ha t w en t w ro ng ."
Co nt ro ll er s t ha t p ro vi de f or ce i n n eg at iv e p ro po rt io n t o t he o bs er ve d e rr or a re k no wn a s P
"c on tr ol le rs . Th e l et te r ‘P’ s ta nd s f or p ro po rt io na l , i nd ic at in g t ha t t he a ct ua l c on tr ol i s p ro-"
PCONTROLLER
"p or ti on al t ot he er ro ro ft he ro bo tm an ip ul at or . Mo re fo rm al ly , l et y(t)b et he re fe re nc e p at h ,"
p ar am et er iz ed b yt im ei nd ex t . Th ec on tr ol a g en er at ed b ya Pc on tr ol le rh as th ef or m:
t
a = K (y(t)−x ).
t P t
He re x i st he st at eo ft he ro bo ta tt im et an d K i sa co ns ta nt kn ow na st he ga in pa ra me te ro f
GAINPARAMETER t P
t he co nt ro ll er an di ts va lu ei sc al le dt he ga in fa ct or); K r eg ul at es ho ws tr on gl yt he co nt ro ll er
p
"c or re ct s f or de vi at io ns b et we en t he a ct ua l s ta te x a nd t he d es ir ed o ne y(t). In ou r e xa mp le ,"
t
"K = 1. At f ir st g la nc e , o ne m ig ht t hi nk t ha t c ho os in g a s ma ll er v al ue f or K w ou ld"
P P
"r em ed y t he p ro bl em . Un fo rt un at el y , t hi s i s n ot t he c as e . Fi gu re 25.22(b) s ho ws a t ra je ct or y"
"f or K = .1, s ti ll e xh ib it in g o sc il la to ry b eh av io r . Lo we r v al ue s o f t he g ai n p ar am et er m ay"
P
"s im pl y s lo w d ow n t he o sc il la ti on , b ut d o n ot s ol ve t he p ro bl em . In f ac t , i n t he a bs en ce o f"
"f ri ct io n , t he P c on tr ol le r i s e ss en ti al ly a s pr in g l aw ; s o i t w il l o sc il la te i nd ef in it el y a ro un d a"
f ix ed ta rg et lo ca ti on .
"Tr ad it io na ll y , p ro bl em s o f t hi s t yp e f al l i nt o t he r ea lm o f c on tr ol t he or y , a f ie ld o f"
i nc re as in gi mp or ta nc et or es ea rc he rs in AI .De ca de so fr es ea rc hi nt hi sf ie ld ha ve le dt oa la rg e
"n um be ro fc on tr ol le rs t ha ta re su pe ri or to th es im pl ec on tr ol la wg iv en ab ov e . In pa rt ic ul ar , a"
r ef er en ce co nt ro ll er is sa id to be st ab le if sm al lp er tu rb at io ns le ad to ab ou nd ed er ro rb et we en
STABLE
t he r ob ot a nd t he r ef er en ce s ig na l . It i s s ai d t o b e s tr ic tl y s ta bl e i f i t i s a bl e t o r et ur n t o a nd
STRICTLYSTABLE
Se ct io n 25.6. Mo vi ng 999
t he ns ta yo ni ts re fe re nc e p at hu po ns uc hp er tu rb at io ns . Ou r Pc on tr ol le ra pp ea rs t ob es ta bl e
"b ut no ts tr ic tl ys ta bl e , s in ce it fa il st os ta ya ny wh er en ea r i ts re fe re nc e t ra je ct or y ."
Th e s im pl es t c on tr ol le r t ha t a ch ie ve s s tr ic t s ta bi li ty i n o ur d om ai n i s a PD c on tr ol le r .
PDCONTROLLER
"Th el et te r‘P’s ta nd sa ga in fo rp ro po rt io na l , a nd‘D’s ta nd sf or de ri va ti ve . PDc on tr ol le rs a re"
d es cr ib ed b yt he fo ll ow in ge qu at io n:
∂(y(t)−x )
a = K (y(t)−x )+K t . (25.2)
t P t D
∂t
"As t hi s e qu at io n s ug ge st s , PD c on tr ol le rs e xt en d P c on tr ol le rs b y a d if fe re nt ia l c om po ne nt ,"
w hi ch a dd s t o t he v al ue o f a a t er m t ha t i s p ro po rt io na l t o t he f ir st d er iv at iv e o f t he e rr or
t
"y(t)−x o ve rt im e . Wh at is th ee ff ec to fs uc ha te rm ? In ge ne ra l , a de ri va ti ve te rm da mp en s"
t
"t he sy st em th at is be in gc on tr ol le d . To se et hi s ,c on si de ra si tu at io nw he re th ee rr or(y(t)−x )"
t
"i sc ha ng in g r ap id ly ov er ti me ,a si st he ca se fo ro ur Pc on tr ol le r a bo ve . Th ed er iv at iv eo ft hi s"
"e rr or w il l t he n c ou nt er ac t t he p ro po rt io na l t er m , w hi ch w il l r ed uc e t he o ve ra ll r es po ns e t o"
"t he pe rt ur ba ti on . Ho we ve r ,i ft he sa me er ro rp er si st s a nd do es no tc ha ng e , t he de ri va ti ve wi ll"
v an is ha nd th ep ro po rt io na l t er md om in at es t he ch oi ce of co nt ro l .
"Fi gu re 25.22(c) s ho ws th er es ul t o fa pp ly in g t hi s PDc on tr ol le r t oo ur ro bo t a rm , u si ng"
"a sg ai np ar am et er s K = .3 a nd K = .8. Cl ea rl y ,t he re su lt in g p at hi sm uc hs mo ot he r , a nd"
P D
d oe sn ot ex hi bi ta ny ob vi ou so sc il la ti on s .
"PD c on tr ol le rs d o h av e f ai lu re m od es , h ow ev er . In p ar ti cu la r , PD c on tr ol le rs m ay f ai l"
"t o r eg ul at e a n e rr or d ow n t o z er o , e ve n i n t he a bs en ce o f e xt er na l p er tu rb at io ns . Of te n s uc h"
a s it ua ti on i s t he r es ul t o f a s ys te ma ti c e xt er na l f or ce t ha t i s n ot p ar t o f t he m od el . An a u-
"t on om ou sc ar dr iv in go na ba nk ed s ur fa ce , f or ex am pl e , m ay fi nd it se lf sy st em at ic al ly p ul le d"
"t o o ne s id e . We ar an d t ea r i n r ob ot a rm s c au se s im il ar s ys te ma ti c e rr or s . In s uc h s it ua ti on s ,"
a no ve r-p ro po rt io na lf ee db ac ki sr eq ui re dt od ri ve th ee rr or cl os er to ze ro . Th es ol ut io nt ot hi s
"p ro bl em li es in ad di ng at hi rd te rm to th ec on tr ol la w ,b as ed on th ei nt eg ra te de rr or ov er ti me:"
(c id:26)
∂(y(t)−x )
a = K (y(t)−x )+K (y(t)−x )d t+K t . (25.3)
t P t I t D
∂t
+
He re K i sy et an ot he rg ai np ar am et er . Th et er m (y(t)−x )d tc al cu la te st he in te gr al of th e
I t
e rr or o ve r t im e . Th e e ff ec t o f t hi s t er m i s t ha t l on g-l as ti ng d ev ia ti on s b et we en t he r ef er en ce
"s ig na l a nd t he a ct ua l s ta te a re c or re ct ed . If , f or e xa mp le , x i s s ma ll er t ha n y(t) f or a l on g"
t
"p er io do ft im e ,t hi si nt eg ra lw il lg ro wu nt il th er es ul ti ng c on tr ol a f or ce st hi se rr or to sh ri nk ."
t
"In te gr al t er ms , t he n , e ns ur e t ha ta co nt ro ll er d oe sn ot ex hi bi ts ys te ma ti c e rr or , a tt he ex pe ns e"
o fi nc re as ed d an ge r o fo sc il la to ry b eh av io r . Ac on tr ol le r w it ha ll th re e t er ms i sc al le d a PID
"c on tr ol le r (f or pr op or ti on al i nt eg ra l d er iv at iv e). PIDc on tr ol le rs a re wi de ly us ed i ni nd us tr y ,"
PIDCONTROLLER
f or av ar ie ty of co nt ro lp ro bl em s .
25.6.2 Po te nt ia l-f ie ld co nt ro l
"We i nt ro du ce d p ot en ti al f ie ld s a s a n a dd it io na l c os t f un ct io n i n r ob ot m ot io n p la nn in g , b ut"
"t he yc an al so be us ed fo rg en er at in g r ob ot mo ti on di re ct ly , d is pe ns in g w it ht he pa th pl an ni ng"
"p ha se a lt og et he r . To a ch ie ve t hi s , w e h av e t o d ef in e a n a tt ra ct iv e f or ce t ha t p ul ls t he r ob ot"
t ow ar ds it sg oa lc on fi gu ra ti on a nd ar ep el le nt p ot en ti al f ie ld th at p us he s t he ro bo t a wa yf ro m
o bs ta cl es . Su ch a p ot en ti al f ie ld i s s ho wn i n Fi gu re 25.23. It s s in gl e g lo ba l m in im um i s
1000 Ch ap te r 25. Ro bo ti cs
g oa l s ta rt g oa l
s ta rt
(a) (b)
Fi gu re 25.23 Po te nt ia l f ie ld c on tr ol . Th e r ob ot a sc en ds a p ot en ti al f ie ld c om po se d o f
r ep el li ng f or ce s a ss er te d f ro m t he o bs ta cl es a nd a n a tt ra ct in g f or ce t ha t c or re sp on ds to t he
g oa lc on fi gu ra ti on .(a)Su cc es sf ul pa th . (b)Lo ca lo pt im um .
"t he g oa l c on fi gu ra ti on , a nd t he v al ue i s t he s um o f t he d is ta nc e t o t hi s g oa l c on fi gu ra ti on"
a nd t he p ro xi mi ty t o o bs ta cl es . No p la nn in g w as i nv ol ve d i n g en er at in g t he p ot en ti al f ie ld
"s ho wn i n t he f ig ur e . Be ca us e o f t hi s , p ot en ti al f ie ld s a re w el l s ui te d t o r ea l-t im e c on tr ol ."
Fi gu re 25.23(a) s ho ws a t ra je ct or y o f a r ob ot t ha t p er fo rm s h il l c li mb in g i n t he p ot en ti al
"f ie ld . In m an y a pp li ca ti on s , t he p ot en ti al f ie ld c an b e c al cu la te d e ff ic ie nt ly f or a ny g iv en"
"c on fi gu ra ti on . Mo re ov er , o pt im iz in g t he p ot en ti al a mo un ts t o c al cu la ti ng t he g ra di en t o f t he"
"p ot en ti al f or t he p re se nt r ob ot c on fi gu ra ti on . Th es e c al cu la ti on s c an b e e xt re me ly e ff ic ie nt ,"
"e sp ec ia ll y w he n c om pa re d t o p at h-p la nn in g a lg or it hm s , a ll o f w hi ch a re e xp on en ti al i n t he"
d im en si on al it y o ft he co nf ig ur at io n s pa ce(t he DOFs)i nt he wo rs tc as e .
Th e f ac t t ha t t he p ot en ti al f ie ld a pp ro ac h m an ag es t o f in d a p at h t o t he g oa l i n s uc h
"a n e ff ic ie nt m an ne r , e ve n o ve r l on g d is ta nc es i n c on fi gu ra ti on s pa ce , r ai se s t he q ue st io n a s"
t o w he th er t he re i s a n ee d f or p la nn in g i n r ob ot ic s a t a ll . Ar e p ot en ti al f ie ld t ec hn iq ue s
"s uf fi ci en t , o r w er e w e j us t l uc ky i n o ur e xa mp le ? Th e a ns we r i s t ha t w e w er e i nd ee d l uc ky ."
"Po te nt ia lf ie ld sh av em an yl oc al mi ni ma th at ca nt ra pt he ro bo t . In Fi gu re 25.23(b),t he ro bo t"
"a pp ro ac he s t he ob st ac le b ys im pl yr ot at in g i ts sh ou ld er jo in t , u nt il it ge ts st uc ko nt he wr on g"
s id e o f t he o bs ta cl e . Th e p ot en ti al f ie ld i s n ot r ic h e no ug h t o m ak e t he r ob ot b en d i ts e lb ow
"s ot ha tt he ar mf it su nd er th eo bs ta cl e . In ot he rw or ds ,p ot en ti al fi el dc on tr ol is gr ea tf or lo ca l"
r ob ot mo ti on bu ts om et im es we st il ln ee dg lo ba lp la nn in g . An ot he ri mp or ta nt dr aw ba ck wi th
"p ot en ti al fi el ds is th at th ef or ce st he yg en er at ed ep en do nl yo nt he ob st ac le an dr ob ot po si ti on s ,"
"n ot on th er ob ot’s ve lo ci ty . Th us ,p ot en ti al fi el dc on tr ol is re al ly ak in em at ic me th od an dm ay"
f ai li ft he ro bo ti sm ov in gq ui ck ly .
Se ct io n 25.6. Mo vi ng 1001
"r et ra ct , l if t h ig he r"
y es
m ov e
f or wa rd n o
S 3 s tu ck ? S 4
l if t u p s et d ow n
p us h b ac kw ar d
S S
2 1
(a) (b)
"Fi gu re 25.24 (a) Ge ng hi s , a h ex ap od r ob ot . (b) An a ug me nt ed f in it e s ta te m ac hi ne"
(AFSM) f or t he c on tr ol o f a s in gl e l eg . No ti ce t ha t t hi s AFSM r ea ct s t o s en so r f ee db ac k:
"i fa le gi ss tu ck du ri ng th ef or wa rd sw in gi ng ph as e ,i tw il lb el if te di nc re as in gl yh ig he r ."
25.6.3 Re ac ti ve co nt ro l
So fa rw eh av e c on si de re d c on tr ol d ec is io ns t ha t r eq ui re s om e m od el of t he en vi ro nm en t f or
c on st ru ct in g e it he r a re fe re nc e p at h o ra po te nt ia l f ie ld . Th er e a re s om e d if fi cu lt ie s w it h t hi s
"a pp ro ac h . Fi rs t , m od el s t ha t a re s uf fi ci en tl y a cc ur at e a re o ft en d if fi cu lt t o o bt ai n , e sp ec ia ll y"
"i n c om pl ex o r r em ot e e nv ir on me nt s , s uc h a s t he s ur fa ce o f Ma rs , o r f or r ob ot s t ha t h av e"
"f ew s en so rs . Se co nd , e ve n i n c as es w he re w e c an d ev is e a m od el w it h s uf fi ci en t a cc ur ac y ,"
c om pu ta ti on al d if fi cu lt ie s a nd l oc al iz at io n e rr or m ig ht r en de r t he se t ec hn iq ue s i mp ra ct ic al .
"In so me ca se s ,a re fl ex ag en ta rc hi te ct ur e u si ng r ea ct iv e c on tr ol is mo re ap pr op ri at e ."
REACTIVECONTROL
"Fo re xa mp le ,p ic tu re al eg ge dr ob ot th at at te mp ts to li ft al eg ov er an ob st ac le . We co ul d"
"g iv et hi sr ob ot ar ul et ha ts ay sl if tt he le ga sm al lh ei gh t h an dm ov ei tf or wa rd ,a nd if th el eg"
"e nc ou nt er s a no bs ta cl e , m ov ei tb ac ka nd st ar t a ga in at ah ig he r h ei gh t . Yo uc ou ld s ay th at h"
"i sm od el in g a na sp ec t o ft he wo rl d , b ut we ca n a ls ot hi nk o f h as an au xi li ar y v ar ia bl e o ft he"
"r ob ot co nt ro ll er , d ev oi do fd ir ec tp hy si ca lm ea ni ng ."
"On e s uc h e xa mp le i s t he s ix-l eg ge d (h ex ap od) r ob ot , s ho wn i n Fi gu re 25.24(a), d e-"
s ig ne d f or wa lk in g t hr ou gh r ou gh t er ra in . Th er ob ot’s s en so rs a re in ad eq ua te t oo bt ai n m od-
"e ls of th et er ra in fo rp at hp la nn in g . Mo re ov er ,e ve ni fw ea dd ed su ff ic ie nt ly ac cu ra te se ns or s ,"
t he t we lv e d eg re es o f f re ed om (t wo f or e ac h l eg) w ou ld r en de r t he r es ul ti ng p at h p la nn in g
p ro bl em c om pu ta ti on al ly i nt ra ct ab le .
"It i s p os si bl e , n on et he le ss , t o s pe ci fy a c on tr ol le r d ir ec tl y w it ho ut a n e xp li ci t e nv ir on-"
"m en ta l m od el . (We h av e a lr ea dy s ee n t hi s w it h t he PD c on tr ol le r , w hi ch w as a bl e t o k ee p a"
"c om pl ex ro bo ta rm on ta rg et w it ho ut an ex pl ic it mo de lo ft he ro bo td yn am ic s ;i td id ,h ow ev er ,"
r eq ui re a r ef er en ce p at h g en er at ed f ro m a k in em at ic m od el .) Fo rt he h ex ap od r ob ot w e f ir st
"c ho os e a ga it , o rp at te rn o fm ov em en to ft he li mb s . On es ta ti ca ll y s ta bl e g ai ti st of ir st mo ve"
GAIT
"t he r ig ht f ro nt , r ig ht r ea r , a nd l ef t c en te r l eg s f or wa rd (k ee pi ng t he o th er t hr ee f ix ed), a nd"
"t he n m ov e t he o th er t hr ee . Th is g ai t w or ks w el l o n f la t t er ra in . On r ug ge d t er ra in , o bs ta cl es"
m ay p re ve nt a l eg f ro m s wi ng in g f or wa rd . Th is p ro bl em c an b e o ve rc om e b y a r em ar ka bl y
"s im pl e c on tr ol r ul e: w he n a l eg’s f or wa rd m ot io n i s b lo ck ed , s im pl y r et ra ct i t , l if t i t h ig he r ,"
1002 Ch ap te r 25. Ro bo ti cs
Fi gu re 25.25 Mu lt ip le e xp os ur es of an RC h el ic op te re xe cu ti ng a f li p b as ed o na p ol ic y
"l ea rn ed wi th re in fo rc em en tl ea rn in g .Im ag es co ur te sy of An dr ew Ng ,St an fo rd Un iv er si ty ."
a nd tr y a ga in . Th er es ul ti ng c on tr ol le r i ss ho wn in Fi gu re 25.24(b) a sa fi ni te st at e m ac hi ne ;
"i tc on st it ut es a re fl ex a ge nt w it h s ta te , w he re t he i nt er na l s ta te i sr ep re se nt ed b y t he i nd ex o f"
t he cu rr en tm ac hi ne st at e(s t hr ou gh s ).
1 4
Va ri an ts of th is si mp le fe ed ba ck-d ri ve n c on tr ol le rh av eb ee nf ou nd to ge ne ra te r em ar k-
"a bl y r ob us t w al ki ng p at te rn s , c ap ab le o fm an eu ve ri ng t he ro bo t o ve rr ug ge d t er ra in . Cl ea rl y ,"
"s uc h a c on tr ol le r i s m od el-f re e , a nd i t d oe s n ot d el ib er at e o r u se s ea rc h f or g en er at in g c on-"
t ro ls . En vi ro nm en ta l f ee db ac kp la ys ac ru ci al ro le in th ec on tr ol le r’s ex ec ut io n . Th es of tw ar e
a lo ne do es no ts pe ci fy wh at wi ll ac tu al ly ha pp en wh en th er ob ot is pl ac ed in an en vi ro nm en t .
Be ha vi or t ha t e me rg es t hr ou gh t he i nt er pl ay o f a (s im pl e) c on tr ol le r a nd a (c om pl ex) e nv i-
"EMERGENT r on me nt i s o ft en r ef er re d t o a s e me rg en t b eh av io r . St ri ct ly s pe ak in g , a ll r ob ot s d is cu ss ed"
BEHAVIOR
"i n t hi s c ha pt er e xh ib it e me rg en t b eh av io r , d ue t o t he f ac t t ha t n o m od el i s p er fe ct . Hi st or i-"
"c al ly , h ow ev er , t he t er m h as b ee n r es er ve d f or c on tr ol t ec hn iq ue s t ha t d o n ot u ti li ze e xp li ci t"
e nv ir on me nt al m od el s . Em er ge nt be ha vi or is al so ch ar ac te ri st ic o fb io lo gi ca l o rg an is ms .
25.6.4 Re in fo rc em en t l ea rn in g c on tr ol
On ep ar ti cu la rl ye xc it in gf or mo fc on tr ol is ba se do nt he po li cy se ar ch fo rm of re in fo rc em en t
"l ea rn in g (s ee Se ct io n 21.5). Th is w or k h as b ee n e no rm ou sl y i nf lu en ti al i n r ec en t y ea rs , a t"
i s h as s ol ve d c ha ll en gi ng r ob ot ic s p ro bl em s f or w hi ch p re vi ou sl y n o s ol ut io n e xi st ed . An
e xa mp le i s a cr ob at ic a ut on om ou s h el ic op te r f li gh t . Fi gu re 25.25 s ho ws a n a ut on om ou s f li p
o f a s ma ll RC (r ad io-c on tr ol le d) h el ic op te r . Th is m an eu ve r i s c ha ll en gi ng d ue t o t he h ig hl y
n on li ne ar n at ur e o f t he a er od yn am ic s i nv ol ve d . On ly t he m os t e xp er ie nc ed o f h um an p il ot s
"a re ab le t op er fo rm i t . Ye ta po li cy s ea rc h m et ho d(a sd es cr ib ed i n Ch ap te r 21), u si ng o nl y a"
"f ew mi nu te so fc om pu ta ti on , l ea rn ed ap ol ic yt ha tc an sa fe ly e xe cu te af li pe ve ry ti me ."
Po li cy s ea rc h n ee ds a n a cc ur at e m od el o f t he d om ai n b ef or e i t c an f in d a p ol ic y . Th e
"i np ut t o t hi s m od el i s t he s ta te o f t he h el ic op te r a t t im e t , t he c on tr ol s a t t im e t , a nd t he"
r es ul ti ng st at ea tt im et+Δt . Th es ta te of ah el ic op te rc an be de sc ri be db yt he 3 Dc oo rd in at es
"o f t he v eh ic le , i ts y aw , p it ch , a nd r ol l a ng le s , a nd t he r at e o f c ha ng e o f t he se s ix v ar ia bl es ."
"Th e c on tr ol s a re t he m an ua l c on tr ol s o f o f t he h el ic op te r: t hr ot tl e , p it ch , e le va to r , a il er on ,"
a nd r ud de r . Al lt ha t r em ai ns i s t he r es ul ti ng s ta te—h ow a re w eg oi ng t o d ef in e a m od el t ha t
a cc ur at el y s ay s h ow t he h el ic op te r r es po nd s t o e ac h c on tr ol ? Th e a ns we r i s s im pl e: Le t a n
"e xp er t h um an p il ot f ly t he h el ic op te r , a nd r ec or d t he c on tr ol s t ha t t he e xp er t t ra ns mi ts o ve r"
t he r ad io a nd t he s ta te v ar ia bl es o f t he h el ic op te r . Ab ou t f ou r m in ut es o f h um an-c on tr ol le d
f li gh ts uf fi ce st ob ui ld ap re di ct iv e m od el th at is su ff ic ie nt ly a cc ur at et os im ul at et he ve hi cl e .
Se ct io n 25.7. Ro bo ti c So ft wa re Ar ch it ec tu re s 1003
Wh at i s r em ar ka bl e a bo ut t hi s e xa mp le i s t he e as e w it h w hi ch t hi s l ea rn in g a pp ro ac h
s ol ve sa ch al le ng in gr ob ot ic sp ro bl em . Th is is on eo ft he ma ny su cc es se so fm ac hi ne le ar ni ng
i ns ci en ti fi cf ie ld sp re vi ou sl y d om in at ed b yc ar ef ul ma th em at ic al an al ys is a nd mo de li ng .
25.7 ROBOTIC SOFTWARE ARCHITECTURES
SOFTWARE Am et ho do lo gy fo rs tr uc tu ri ng a lg or it hm si sc al le da s of tw ar ea rc hi te ct ur e . An ar ch it ec tu re
ARCHITECTURE
"i nc lu de s l an gu ag es a nd t oo ls f or wr it in g p ro gr am s , a s w el la s a n o ve ra ll p hi lo so ph y f or ho w"
p ro gr am sc an be br ou gh tt og et he r .
Mo de rn-d ay s of tw ar e a rc hi te ct ur es f or r ob ot ic s m us t d ec id e h ow t o c om bi ne r ea ct iv e
"c on tr ol a nd m od el-b as ed d el ib er at iv e p la nn in g . In m an y w ay s , r ea ct iv e a nd d el ib er at e t ec h-"
n iq ue s h av e o rt ho go na l s tr en gt hs a nd w ea kn es se s . Re ac ti ve c on tr ol i s s en so r-d ri ve n a nd a p-
"p ro pr ia te f or m ak in g l ow-l ev el d ec is io ns i n r ea l t im e . Ho we ve r , i t r ar el y y ie ld s a p la us ib le"
"s ol ut io na tt he gl ob al le ve l ,b ec au se gl ob al co nt ro ld ec is io ns de pe nd on in fo rm at io nt ha tc an-"
"n ot b e s en se d a t t he t im e o f d ec is io n m ak in g . Fo r s uc h p ro bl em s , d el ib er at e p la nn in g i s a"
m or ea pp ro pr ia te c ho ic e .
"Co ns eq ue nt ly , m os t r ob ot a rc hi te ct ur es u se r ea ct iv e t ec hn iq ue s a t t he l ow er l ev el s o f"
c on tr ol a nd de li be ra ti ve t ec hn iq ue s a tt he h ig he rl ev el s . We en co un te re d s uc h a co mb in at io n
"i n o ur d is cu ss io n o f PD c on tr ol le rs , w he re w e c om bi ne d a (r ea ct iv e) PD c on tr ol le r w it h a"
(d el ib er at e) p at h p la nn er . Ar ch it ec tu re s t ha t c om bi ne r ea ct iv e a nd d el ib er at e t ec hn iq ue s a re
HYBRID c al le dh yb ri da rc hi te ct ur es .
ARCHITECTURE
25.7.1 Su bs um pt io n a rc hi te ct ur e
"SUBSUMPTION Th es ub su mp ti on ar ch it ec tu re (Br oo ks , 1986) i sa fr am ew or k f or as se mb li ng r ea ct iv e c on-"
ARCHITECTURE
t ro ll er s o ut o f f in it e s ta te m ac hi ne s . No de s i n t he se m ac hi ne s m ay c on ta in t es ts f or c er ta in
"s en so rv ar ia bl es , i nw hi ch ca se th ee xe cu ti on tr ac eo fa fi ni te st at em ac hi ne is co nd it io ne d o n"
t he o ut co me o f s uc h a t es t . Ar cs c an b e t ag ge d w it h m es sa ge s t ha t w il l b e g en er at ed w he n
"t ra ve rs in gt he m ,a nd th at ar es en tt ot he ro bo t’s mo to rs or to o th er fi ni te st at em ac hi ne s . Ad di-"
"t io na ll y , f in it es ta te ma ch in es p os se ss i nt er na l t im er s(c lo ck s) t ha tc on tr ol t he ti me it ta ke st o"
"AUGMENTEDFINITE t ra ve rs e a na rc . Th er es ul ti ng m ac hi ne sa re re fe re ed t oa s a ug me nt ed fi ni te st at em ac hi ne s ,"
STATEMACHINE
"o r AFSMs ,w he re th ea ug me nt at io n r ef er st ot he us eo fc lo ck s ."
"An e xa mp le o f a s im pl e AFSM i s t he f ou r-s ta te m ac hi ne s ho wn i n Fi gu re 25.24(b),"
w hi ch g en er at es c yc li c l eg m ot io n f or a h ex ap od w al ke r . Th is AFSM i mp le me nt s a c yc li c
"c on tr ol le r , w ho se e xe cu ti on m os tl y d oe s n ot r el y o n e nv ir on me nt al f ee db ac k . Th e f or wa rd"
"s wi ng p ha se , h ow ev er , d oe s r el y o n s en so r f ee db ac k . If t he l eg i s s tu ck , m ea ni ng t ha t i t h as"
"f ai le d t o e xe cu te t he f or wa rd s wi ng , t he r ob ot r et ra ct s t he l eg , l if ts i t u p a l it tl e h ig he r , a nd"
"a tt em pt s t o e xe cu te t he f or wa rd s wi ng o nc e a ga in . Th us , t he c on tr ol le r i s a bl e t o r ea ct t o"
c on ti ng en ci es a ri si ng fr om th ei nt er pl ay o ft he ro bo ta nd it se nv ir on me nt .
"Th e s ub su mp ti on a rc hi te ct ur e o ff er s a dd it io na l p ri mi ti ve s f or s yn ch ro ni zi ng AFSMs ,"
"a nd f or c om bi ni ng o ut pu t v al ue s o f m ul ti pl e , p os si bl y c on fl ic ti ng AFSMs . In t hi s w ay , i t"
e na bl es th ep ro gr am me rt oc om po se in cr ea si ng ly co mp le xc on tr ol le rs in ab ot to m-u pf as hi on .
1004 Ch ap te r 25. Ro bo ti cs
"In o ur e xa mp le , w em ig ht b eg in w it h AFSMs fo ri nd iv id ua l l eg s , f ol lo we d b y a n AFSMf or"
"c oo rd in at in g m ul ti pl e l eg s . On t op o f t hi s , w em ig ht i mp le me nt h ig he r-l ev el b eh av io rs s uc h"
"a sc ol li si on a vo id an ce , w hi ch mi gh ti nv ol ve ba ck in g u pa nd tu rn in g ."
Th e i de a o f c om po si ng r ob ot c on tr ol le rs f ro m AFSMs i s q ui te i nt ri gu in g . Im ag in e
h ow d if fi cu lt i t w ou ld b e t o g en er at e t he s am e b eh av io r w it h a ny o f t he c on fi gu ra ti on-s pa ce
"p at h-p la nn in g a lg or it hm s d es cr ib ed i n t he p re vi ou s s ec ti on . Fi rs t , w e w ou ld n ee d a n a cc u-"
"r at e m od el o f t he t er ra in . Th e c on fi gu ra ti on s pa ce o f a r ob ot w it h s ix l eg s , e ac h o f w hi ch"
"i s d ri ve n b y t wo i nd ep en de nt m ot or s , t ot al s e ig ht ee n d im en si on s (t we lv e d im en si on s f or t he"
"c on fi gu ra ti on o f t he l eg s , a nd s ix f or t he l oc at io n a nd o ri en ta ti on o f t he r ob ot r el at iv e t o i ts"
e nv ir on me nt). Ev en if ou rc om pu te rs we re fa st en ou gh to fi nd pa th si ns uc hh ig h-d im en si on al
"s pa ce s , w e w ou ld h av e t o w or ry a bo ut n as ty e ff ec ts s uc h a s t he r ob ot s li di ng d ow n a s lo pe ."
"Be ca us e o f s uc h s to ch as ti c e ff ec ts , a s in gl e p at h t hr ou gh c on fi gu ra ti on s pa ce w ou ld a lm os t"
"c er ta in ly b e t oo b ri tt le , a nd e ve n a PID c on tr ol le r m ig ht n ot b e a bl e t o c op e w it h s uc h c on-"
"t in ge nc ie s . In ot he r w or ds , g en er at in g m ot io n b eh av io r d el ib er at el y i ss im pl y t oo c om pl ex a"
p ro bl em f or pr es en t-d ay r ob ot mo ti on pl an ni ng a lg or it hm s .
"Un fo rt un at el y , t he s ub su mp ti on a rc hi te ct ur e h as i ts o wn p ro bl em s . Fi rs t , t he AFSMs"
"a re d ri ve n b y r aw s en so r i np ut , a n a rr an ge me nt t ha t w or ks i f t he s en so r d at a i s r el ia bl e a nd"
"c on ta in sa ll ne ce ss ar y i nf or ma ti on fo rd ec is io nm ak in g ,b ut fa il si fs en so rd at ah as to be in te-"
g ra te di nn on tr iv ia lw ay so ve rt im e . Su bs um pt io n-s ty le co nt ro ll er sh av et he re fo re mo st ly be en
"a pp li ed to si mp le ta sk s ,s uc ha sf ol lo wi ng aw al lo rm ov in gt ow ar ds vi si bl el ig ht so ur ce s . Se c-"
"o nd ,t he la ck of de li be ra ti on ma ke si td if fi cu lt to ch an ge th et as ko ft he ro bo t . As ub su mp ti on-"
"s ty le r ob ot u su al ly d oe s j us t o ne t as k , a nd i t h as n o n ot io n o f h ow t o m od if y i ts c on tr ol s t o"
"a cc om mo da te d if fe re nt g oa ls (j us t l ik e t he d un g b ee tl e o n p ag e 39). Fi na ll y , s ub su mp ti on-"
"s ty le co nt ro ll er s t en dt ob ed if fi cu lt to un de rs ta nd . In pr ac ti ce , t he in tr ic at ei nt er pl ay be tw ee n"
d oz en s o f i nt er ac ti ng AFSMs (a nd t he e nv ir on me nt) i s b ey on d w ha t m os t h um an p ro gr am-
"m er s c an c om pr eh en d . Fo r a ll t he se r ea so ns , t he s ub su mp ti on a rc hi te ct ur e i s r ar el y u se d i n"
"r ob ot ic s , d es pi te i ts g re at h is to ri ca l i mp or ta nc e . Ho we ve r , i t h as h ad a n i nf lu en ce o n o th er"
"a rc hi te ct ur es , a nd on in di vi du al c om po ne nt s o fs om ea rc hi te ct ur es ."
25.7.2 Th re e-l ay er a rc hi te ct ur e
Hy br id a rc hi te ct ur es c om bi ne r ea ct io n w it h d el ib er at io n . Th e m os t p op ul ar h yb ri d a rc hi te c-
"THREE-LAYER t ur e i s t he t hr ee-l ay er a rc hi te ct ur e , w hi ch c on si st s o f a r ea ct iv e l ay er , a n e xe cu ti ve l ay er ,"
ARCHITECTURE
a nd ad el ib er at iv e l ay er .
Th er ea ct iv el ay er pr ov id es lo w-l ev el co nt ro lt ot he ro bo t . It is ch ar ac te ri ze d b ya ti gh t
REACTIVELAYER
s en so r–a ct io n l oo p . It sd ec is io n c yc le is of te no nt he or de r o fm il li se co nd s .
Th ee xe cu ti ve la ye r(o rs eq ue nc in g l ay er)s er ve sa st he gl ue be tw ee nt he re ac ti ve la ye r
EXECUTIVELAYER
"a nd th ed el ib er at iv e l ay er . It ac ce pt s d ir ec ti ve s b yt he de li be ra ti ve l ay er , a nd se qu en ce s t he m"
"f or t he r ea ct iv e l ay er . Fo r e xa mp le , t he e xe cu ti ve l ay er m ig ht h an dl e a s et o f v ia-p oi nt s"
"g en er at ed b y a d el ib er at iv e p at h p la nn er , a nd m ak e d ec is io ns a s t o w hi ch r ea ct iv e b eh av io r"
t o i nv ok e . De ci si on c yc le s a t t he e xe cu ti ve l ay er a re u su al ly i n t he o rd er o f a s ec on d . Th e
e xe cu ti ve l ay er i s a ls o r es po ns ib le f or i nt eg ra ti ng s en so r i nf or ma ti on i nt o a n i nt er na l s ta te
"r ep re se nt at io n . Fo re xa mp le ,i tm ay ho st th er ob ot’s lo ca li za ti on an do nl in em ap pi ng ro ut in es ."
Se ct io n 25.7. Ro bo ti c So ft wa re Ar ch it ec tu re s 1005
SENSOR INTERFACE PERCEPTION PLANNING&CONTROL USER INTERFACE
RDDF d at ab as e c or ri do r To p l ev el c on tr ol To uc h s cr ee n UI
p au se/d is ab le c om ma nd Wi re le ss E-St op
La se r 1 i nt er fa ce
RDDF c or ri do r (s mo ot he d a nd o ri gi na l) d ri vi ng m od e
La se r 2 i nt er fa ce
La se r 3 i nt er fa ce Ro ad f in de r r oa d c en te r Pa th p la nn er
La se r 4 i nt er fa ce l as er m ap
La se r 5 i nt er fa ce La se r m ap pe r m ap t ra je ct or y VEHICLE
Ca me ra i nt er fa ce Vi si on m ap pe r v is io n m ap INTERFACE
Ra da r i nt er fa ce Ra da r m ap pe r o bs ta cl e l is t St ee ri ng c on tr ol
"v eh ic le s ta te (p os e , v el oc it y) To ua re g i nt er fa ce"
v eh ic le
GPS p os it io n UKF Po se e st im at io n s ta te Th ro tt le/b ra ke c on tr ol
Po we r s er ve r i nt er fa ce
"GPS c om pa ss v eh ic le s ta te (p os e , v el oc it y)"
IMU i nt er fa ce Su rf ac e a ss es sm en t v el oc it y l im it
Wh ee l v el oc it y
Br ak e/s te er in g
h ea rt b ea ts Li nu x p ro ce ss es s ta rt/s to p e me rg en cy s to p
h ea lt h s ta tu s
Pr oc es s c on tr ol le r He al th m on it or
p ow er o n/o ff
d at a
GLOBAL
Da ta l og ge r Fi le s ys te m
SERVICES
Co mm un ic at io n r eq ue st s Co mm un ic at io n c ha nn el s c lo ck s
In te r-p ro ce ss c om mu ni ca ti on (IPC) s er ve r Ti me s er ve r
Fi gu re 25.26 So ft wa re a rc hi te ct ur e o f a r ob ot c ar . Th is s of tw ar e i mp le me nt s a d at a
"p ip el in e ,i nw hi ch al lm od ul es pr oc es sd at as im ul ta ne ou sl y ."
Th e d el ib er at iv e l ay er g en er at es g lo ba l s ol ut io ns t o c om pl ex t as ks u si ng p la nn in g .
DELIBERATIVELAYER
"Be ca us e o f t he c om pu ta ti on al c om pl ex it y i nv ol ve d i n g en er at in g s uc h s ol ut io ns , i ts d ec is io n"
c yc le is of te ni nt he or de ro fm in ut es . Th ed el ib er at iv e l ay er(o rp la nn in g l ay er) u se sm od el s
f or d ec is io n m ak in g . Th os e m od el s m ig ht b e e it he r l ea rn ed f ro m d at a o r s up pl ie d a nd m ay
u ti li ze st at ei nf or ma ti on g at he re d a tt he ex ec ut iv el ay er .
Va ri an ts of th et hr ee-l ay er ar ch it ec tu re ca nb ef ou nd in mo st mo de rn-d ay ro bo ts of tw ar e
s ys te ms . Th ed ec om po si ti on i nt ot hr ee la ye rs is no tv er ys tr ic t . So me ro bo ts of tw ar es ys te ms
"p os se ss ad di ti on al la ye rs ,s uc ha su se ri nt er fa ce la ye rs th at co nt ro lt he in te ra ct io nw it hp eo pl e ,"
o ra mu lt ia ge nt l ev el f or co or di na ti ng a ro bo t’s a ct io ns w it ht ha t o f o th er ro bo ts o pe ra ti ng i n
t he sa me en vi ro nm en t .
25.7.3 Pi pe li ne ar ch it ec tu re
PIPELINE An ot he ra rc hi te ct ur ef or ro bo ts is kn ow na st he p ip el in ea rc hi te ct ur e . Ju st li ke th es ub su mp-
ARCHITECTURE
"t io na rc hi te ct ur e ,t he pi pe li ne ar ch it ec tu re ex ec ut es mu lt ip le pr oc es si np ar al le l . Ho we ve r ,t he"
s pe ci fi cm od ul es in th is ar ch it ec tu re r es em bl et ho se in th et hr ee-l ay er a rc hi te ct ur e .
"Fi gu re 25.26 s ho ws a n e xa mp le p ip el in e a rc hi te ct ur e , w hi ch i s u se d t o c on tr ol a n a u-"
SENSORINTERFACE t on om ou s c ar . Da ta en te rs t hi sp ip el in e a tt he s en so r i nt er fa ce l ay er . Th ep er ce pt io n l ay er
LAYER
PERCEPTIONLAYER
1006 Ch ap te r 25. Ro bo ti cs
(a) (b)
Fi gu re 25.27 (a)Th e He lp ma te ro bo tt ra ns po rt sf oo da nd ot he rm ed ic al it em si nd oz en s
o f h os pi ta ls w or ld wi de . (b) Ki va r ob ot sa re p ar t o f a m at er ia l-h an dl in gs ys te m f or mo vi ng
s he lv es in fu lf il lm en tc en te rs . Im ag ec ou rt es yo f Ki va Sy st em s .
"t he n u pd at es t he r ob ot’s i nt er na l m od el s o f t he e nv ir on me nt b as ed o n t hi s d at a . Ne xt , t he se"
"PLANNINGAND m od el s a re h an de d t o t he p la nn in g a nd c on tr ol l ay er , w hi ch a dj us ts t he r ob ot’s i nt er na l"
CONTROLLAYER
p la ns tu rn st he mi nt oa ct ua lc on tr ol s f or th er ob ot . Th os ea re th en co mm un ic at ed b ac kt ot he
VEHICLEINTERFACE v eh ic le th ro ug ht he ve hi cl ei nt er fa ce la ye r .
LAYER
Th e k ey t o t he p ip el in e a rc hi te ct ur e i s t ha t t hi s a ll h ap pe ns i n p ar al le l . Wh il e t he p er-
"c ep ti on l ay er p ro ce ss es t he m os t r ec en t s en so r d at a , t he c on tr ol l ay er b as es i ts c ho ic es o n"
"s li gh tl y o ld er d at a . In t hi s w ay , t he p ip el in e a rc hi te ct ur e i s s im il ar t o t he h um an b ra in . We"
"d on’t sw it ch of fo ur mo ti on co nt ro ll er sw he nw ed ig es tn ew se ns or da ta . In st ea d ,w ep er ce iv e ,"
"p la n , a nd ac ta ll at th es am et im e . Pr oc es se s i nt he pi pe li ne a rc hi te ct ur e r un as yn ch ro no us ly ,"
"a nd al lc om pu ta ti on i sd at a-d ri ve n . Th er es ul ti ng s ys te mi sr ob us t , a nd it is fa st ."
"Th ea rc hi te ct ur ei n Fi gu re 25.26 a ls oc on ta in so th er ,c ro ss-c ut ti ng mo du le s ,r es po ns ib le"
f or es ta bl is hi ng c om mu ni ca ti on b et we en th ed if fe re nt el em en ts of th ep ip el in e .
25.8 APPLICATION DOMAINS
He re ar es om eo ft he pr im ea pp li ca ti on d om ai ns fo rr ob ot ic te ch no lo gy .
"In du st ry an d Ag ri cu lt ur e . Tr ad it io na ll y , r ob ot sh av eb ee nf ie ld ed in ar ea st ha tr eq ui re"
"d if fi cu lt h um an l ab or , y et a re s tr uc tu re d e no ug h t o b e a me na bl e t o r ob ot ic a ut om at io n . Th e"
"b es t e xa mp le i s t he a ss em bl y l in e , w he re m an ip ul at or s r ou ti ne ly p er fo rm t as ks s uc h a s a s-"
"s em bl y , p ar t p la ce me nt , m at er ia l h an dl in g , w el di ng , a nd p ai nt in g . In m an y o f t he se t as ks ,"
"r ob ot s h av e b ec om e m or e c os t-e ff ec ti ve t ha n h um an w or ke rs . Ou td oo rs , m an y o f t he h ea vy"
"m ac hi ne s t ha t w e u se t o h ar ve st , m in e , o r e xc av at e e ar th h av e b ee n t ur ne d i nt o r ob ot s . Fo r"
Se ct io n 25.8. Ap pl ic at io n Do ma in s 1007
(a) (b)
"Fi gu re 25.28 (a)Ro bo ti cc ar BOSS ,w hi ch wo nt he DARPAUr ba n Ch al le ng e . Co ur te sy"
o f Ca rn eg ie Me ll on Un iv er si ty .(b)Su rg ic al ro bo ts in th eo pe ra ti ng ro om .Im ag ec ou rt es yo f
d a Vi nc i Su rg ic al Sy st em s .
"e xa mp le ,a pr oj ec ta t Ca rn eg ie Me ll on Un iv er si ty ha sd em on st ra te dt ha tr ob ot sc an st ri pp ai nt"
"o ff la rg es hi ps ab ou t 50 t im es fa st er th an pe op le ca n ,a nd wi th am uc hr ed uc ed en vi ro nm en ta l"
i mp ac t . Pr ot ot yp es o fa ut on om ou s m in in gr ob ot sh av eb ee nf ou nd to be fa st er an dm or ep re-
c is et ha np eo pl ei nt ra ns po rt in go re in un de rg ro un dm in es . Ro bo ts ha ve be en us ed to ge ne ra te
h ig h-p re ci si on m ap s o f a ba nd on ed m in es a nd s ew er s ys te ms . Wh il e m an y o f t he se s ys te ms
"a re s ti ll i n t he ir p ro to ty pe s ta ge s , i t i s o nl y a m at te r o f t im e u nt il r ob ot s w il l t ak e o ve rm uc h"
o ft he se mi me ch an ic al w or kt ha ti sp re se nt ly p er fo rm ed by pe op le .
Tr an sp or ta ti on . Ro bo ti ct ra ns po rt at io nh as ma ny fa ce ts: f ro ma ut on om ou sh el ic op te rs
"t ha td el iv er pa yl oa ds t oh ar d-t o-r ea ch l oc at io ns , t oa ut om at ic w he el ch ai rs t ha tt ra ns po rt p eo-"
"p le wh oa re un ab le to co nt ro lw he el ch ai rs by th em se lv es ,t oa ut on om ou ss tr ad dl ec ar ri er st ha t"
o ut pe rf or m s ki ll ed hu ma nd ri ve rs wh en tr an sp or ti ng c on ta in er s f ro ms hi ps to tr uc ks on lo ad-
"i ng do ck s . Ap ri me ex am pl eo fi nd oo rt ra ns po rt at io n r ob ot s , o rg of er s , i st he He lp ma te ro bo t"
s ho wn i n Fi gu re 25.27(a). Th is r ob ot h as b ee n d ep lo ye d i n d oz en s o f h os pi ta ls t o t ra ns po rt
"f oo d a nd o th er i te ms . In f ac to ry s et ti ng s , a ut on om ou s v eh ic le s a re n ow r ou ti ne ly d ep lo ye d"
"t o t ra ns po rt g oo ds i n w ar eh ou se s a nd b et we en p ro du ct io n l in es . Th e Ki va s ys te m , s ho wn i n"
"Fi gu re 25.27(b),h el ps wo rk er sa tf ul fi ll me nt ce nt er sp ac ka ge go od si nt os hi pp in gc on ta in er s ."
Ma ny of th es er ob ot sr eq ui re en vi ro nm en ta lm od if ic at io ns fo rt he ir op er at io n . Th em os t
"c om mo n m od if ic at io ns a re l oc al iz at io n a id s s uc h a s i nd uc ti ve l oo ps i n t he f lo or , a ct iv e b ea-"
"c on s , o r b ar co de t ag s . An o pe n c ha ll en ge i n r ob ot ic s i s t he d es ig n o f r ob ot s t ha t c an u se"
"n at ur al cu es ,i ns te ad of ar ti fi ci al de vi ce s ,t on av ig at e ,p ar ti cu la rl yi ne nv ir on me nt ss uc ha st he"
d ee po ce an wh er e GPSi su na va il ab le .
Ro bo ti c c ar s . Mo st o f u se c ar s e ve ry d ay . Ma ny o f u s m ak e c el l p ho ne c al ls w hi le
d ri vi ng . So me o f u s e ve n t ex t . Th e s ad r es ul t: m or e t ha n a m il li on p eo pl e d ie e ve ry y ea r i n
t ra ff ic ac ci de nt s . Ro bo ti c c ar sl ik e BOSS a nd STANLEY o ff er ho pe: No to nl yw il lt he ym ak e
"d ri vi ng mu ch sa fe r ,b ut th ey wi ll al so fr ee us fr om th en ee dt op ay at te nt io nt ot he ro ad du ri ng"
o ur da il yc om mu te .
"Pr og re ss i n r ob ot ic c ar s w as s ti mu la te d b y t he DARPA Gr an d Ch al le ng e , a r ac e o ve r"
"100 m il es of un re he ar se dd es er tt er ra in ,w hi ch re pr es en te d a mu ch mo re ch al le ng in gt as kt ha n"
1008 Ch ap te r 25. Ro bo ti cs
(a) (b)
Fi gu re 25.29 (a) A r ob ot ma pp in ga n a ba nd on ed co al mi ne . (b) A 3 D m ap of t he m in e
a cq ui re db yt he ro bo t .
h ad ev er be en ac co mp li sh ed be fo re . St an fo rd’s STANLEYv eh ic le co mp le te dt he co ur se in le ss
"t ha ns ev en ho ur s i n 2005, w in ni ng a$2 m il li on p ri ze an da pl ac ei nt he Na ti on al Mu se um o f"
"Am er ic an Hi st or y . Fi gu re 25.28(a) d ep ic ts BOSS , w hi ch i n 2007 w on t he DARPA Ur ba n"
"Ch al le ng e ,a co mp li ca te dr oa dr ac eo nc it ys tr ee ts wh er er ob ot sf ac ed ot he rr ob ot sa nd ha dt o"
o be yt ra ff ic ru le s .
He al th ca re . Ro bo ts ar ei nc re as in gl yu se dt oa ss is ts ur ge on sw it hi ns tr um en tp la ce me nt
"w he no pe ra ti ng on or ga ns as in tr ic at ea sb ra in s ,e ye s ,a nd he ar ts . Fi gu re 25.28(b)s ho ws su ch"
"a sy st em . Ro bo ts ha ve be co me in di sp en sa bl e t oo ls in ar an ge of su rg ic al p ro ce du re s , s uc ha s"
"h ip r ep la ce me nt s , t ha nk s t o t he ir h ig h p re ci si on . In p il ot s tu di es , r ob ot ic d ev ic es h av e b ee n"
f ou nd t o r ed uc e t he d an ge r o f l es io ns w he n p er fo rm in g c ol on os co py . Ou ts id e t he o pe ra ti ng
"r oo m , r es ea rc he rs h av e b eg un t o d ev el op r ob ot ic a id es f or e ld er ly a nd h an di ca pp ed p eo pl e ,"
s uc ha si nt el li ge nt ro bo ti cw al ke rs an di nt el li ge nt to ys th at pr ov id er em in de rs to ta ke me di ca-
t io n a nd pr ov id e c om fo rt . Re se ar ch er s a re al so w or ki ng o nr ob ot ic d ev ic es f or re ha bi li ta ti on
t ha ta id pe op le in pe rf or mi ng c er ta in ex er ci se s .
"Ha za rd ou s e nv ir on me nt s . Ro bo ts h av e a ss is te d p eo pl e i n c le an in g u p n uc le ar w as te ,"
m os t n ot ab ly i n Ch er no by l a nd Th re e Mi le Is la nd . Ro bo ts w er e p re se nt a ft er t he c ol la ps e
"o f t he Wo rl d Tr ad e Ce nt er , w he re t he y e nt er ed s tr uc tu re s d ee me d t oo d an ge ro us f or h um an"
s ea rc ha nd re sc ue cr ew s .
So me co un tr ie s h av eu se d r ob ot s t ot ra ns po rt a mm un it io n a nd t od ef us e b om bs—a n o-
t or io us ly d an ge ro us t as k . A n um be r o f r es ea rc h p ro je ct s a re p re se nt ly d ev el op in g p ro to ty pe
"r ob ot s f or c le ar in g m in ef ie ld s , o n l an d a nd a t s ea . Mo st e xi st in g r ob ot s f or t he se t as ks a re"
t el eo pe ra te d—a h um an o pe ra te s t he m b y r em ot e c on tr ol . Pr ov id in g s uc h r ob ot s w it h a ut on-
o my is an im po rt an t n ex ts te p .
"Ex pl or at io n . Ro bo ts h av e g on e w he re n o o ne h as g on e b ef or e , i nc lu di ng t he s ur fa ce"
o f Ma rs (s ee Fi gu re 25.2(b) a nd t he c ov er). Ro bo ti c a rm s a ss is t a st ro na ut s i n d ep lo yi ng
a nd r et ri ev in g s at el li te s a nd i n b ui ld in g t he In te rn at io na l Sp ac e St at io n . Ro bo ts a ls o h el p
e xp lo re un de rt he se a . Th ey ar er ou ti ne ly us ed to ac qu ir em ap so fs un ke ns hi ps . Fi gu re 25.29
"s ho ws ar ob ot ma pp in ga na ba nd on ed co al mi ne ,a lo ng wi th a 3 Dm od el of th em in ea cq ui re d"
Se ct io n 25.8. Ap pl ic at io n Do ma in s 1009
(a) (b)
"Fi gu re 25.30 (a)Ro om ba ,t he wo rl d’s be st-s el li ng mo bi le ro bo t ,v ac uu ms fl oo rs . Im ag e"
"c ou rt es yo fi Ro bo t ,(c id:2)c 2009. (b)Ro bo ti ch an dm od el ed af te rh um an ha nd . Im ag ec ou rt es y"
o f Un iv er si ty of Wa sh in gt on an d Ca rn eg ie Me ll on Un iv er si ty .
"u si ng r an ge s en so rs . In 1996, a t ea m o f r es ea rc he s r el ea se d a l eg ge d r ob ot i nt o t he c ra te r"
o f a n a ct iv e v ol ca no t o a cq ui re d at a f or c li ma te r es ea rc h . Un ma nn ed a ir v eh ic le s k no wn a s
d ro ne sa re us ed in mi li ta ry op er at io ns . Ro bo ts ar eb ec om in gv er ye ff ec ti ve to ol sf or ga th er in g
DRONE
i nf or ma ti on i nd om ai ns th at ar ed if fi cu lt(o rd an ge ro us) f or p eo pl et oa cc es s .
Pe rs on al Se rv ic es . Se rv ic e i s a n u p-a nd-c om in g a pp li ca ti on d om ai n o f r ob ot ic s . Se r-
v ic e r ob ot s a ss is t i nd iv id ua ls i n p er fo rm in g d ai ly t as ks . Co mm er ci al ly a va il ab le d om es ti c
"s er vi ce r ob ot s i nc lu de a ut on om ou s v ac uu m c le an er s , l aw n m ow er s , a nd g ol f c ad di es . Th e"
w or ld’s m os t p op ul ar m ob il e r ob ot i s a p er so na l s er vi ce r ob ot: t he r ob ot ic v ac uu m c le an er
"Ro om ba , s ho wn i n Fi gu re 25.30(a). Mo re t ha n t hr ee m il li on Ro om ba s h av e b ee n s ol d ."
ROOMBA
Ro om ba ca nn av ig at ea ut on om ou sl y a nd pe rf or m i ts ta sk sw it ho ut hu ma nh el p .
"Ot he r s er vi ce r ob ot s o pe ra te i n p ub li c p la ce s , s uc h a s r ob ot ic i nf or ma ti on k io sk s t ha t"
"h av e b ee n d ep lo ye d i n s ho pp in g m al ls a nd t ra de f ai rs , o r i n m us eu ms a s t ou r g ui de s . Se r-"
"v ic e t as ks r eq ui re h um an i nt er ac ti on , a nd t he ab il it y t oc op er ob us tl y w it hu np re di ct ab le a nd"
d yn am ic en vi ro nm en ts .
En te rt ai nm en t . Ro bo ts h av e b eg un t o c on qu er t he e nt er ta in me nt a nd t oy i nd us tr y .
"In Fi gu re 25.6(b) w e s ee r ob ot ic s oc ce r , a c om pe ti ti ve g am e v er y m uc h l ik e h um an s oc-"
ROBOTICSOCCER
"c er , b ut p la ye d w it h a ut on om ou s m ob il e r ob ot s . Ro bo t s oc ce r p ro vi de s g re at o pp or tu ni ti es"
"f or r es ea rc h i n AI , s in ce i t r ai se s a r an ge o f p ro bl em s r el ev an t t o m an y o th er , m or e s er io us"
r ob ot a pp li ca ti on s . An nu al r ob ot ic s oc ce r c om pe ti ti on s h av e a tt ra ct ed l ar ge n um be rs o f AI
r es ea rc he rs a nd ad de da lo to fe xc it em en tt ot he fi el do fr ob ot ic s .
Hu ma n a ug me nt at io n . A f in al a pp li ca ti on d om ai n o f r ob ot ic t ec hn ol og y i s t ha t o f
h um an a ug me nt at io n . Re se ar ch er s h av e d ev el op ed l eg ge d w al ki ng m ac hi ne s t ha t c an c ar ry
"p eo pl e a ro un d , v er y m uc h l ik e a w he el ch ai r . Se ve ra l r es ea rc h e ff or ts p re se nt ly f oc us o n t he"
d ev el op me nt of de vi ce st ha tm ak ei te as ie rf or pe op le to wa lk or mo ve th ei ra rm sb yp ro vi di ng
"a dd it io na lf or ce st hr ou gh ex tr as ke le ta la tt ac hm en ts . If su ch de vi ce sa re at ta ch ed pe rm an en tl y ,"
1010 Ch ap te r 25. Ro bo ti cs
t he y c an b e t ho ug ht o f a s a rt if ic ia l r ob ot ic l im bs . Fi gu re 25.30(b) s ho ws a r ob ot ic h an d t ha t
m ay se rv ea sa pr os th et ic d ev ic ei nt he fu tu re .
"Ro bo ti c t el eo pe ra ti on , o r t el ep re se nc e , i s a no th er f or m o f h um an a ug me nt at io n . Te le-"
o pe ra ti on i nv ol ve s c ar ry in g o ut t as ks o ve r l on g d is ta nc es w it h t he a id o f r ob ot ic d ev ic es .
"A p op ul ar c on fi gu ra ti on f or r ob ot ic t el eo pe ra ti on i s t he m as te r–s la ve c on fi gu ra ti on , w he re"
"a r ob ot m an ip ul at or e mu la te s t he m ot io n o f a r em ot e h um an o pe ra to r , m ea su re d t hr ou gh a"
h ap ti c i nt er fa ce . Un de rw at er v eh ic le s a re o ft en t el eo pe ra te d ; t he v eh ic le s c an g o t o a d ep th
t ha tw ou ld be da ng er ou s f or hu ma ns bu tc an st il lb eg ui de d b yt he hu ma no pe ra to r . Al lt he se
s ys te ms au gm en tp eo pl e’s ab il it yt oi nt er ac tw it ht he ir en vi ro nm en ts . So me pr oj ec ts go as fa r
"a sr ep li ca ti ng h um an s ,a tl ea st at av er ys up er fi ci al le ve l . Hu ma no id ro bo ts ar en ow av ai la bl e"
c om me rc ia ll y t hr ou gh se ve ra lc om pa ni es in Ja pa n .
25.9 SUMMARY
Ro bo ti cs c on ce rn s i ts el f w it h i nt el li ge nt a ge nt s t ha t m an ip ul at e t he p hy si ca l w or ld . In t hi s
"c ha pt er , w eh av el ea rn ed t he fo ll ow in gb as ic so fr ob ot ha rd wa re an ds of tw ar e ."
• Ro bo ts a re e qu ip pe d w it h s en so rs f or p er ce iv in g t he ir e nv ir on me nt a nd e ff ec to rs w it h
w hi ch t he y c an a ss er t p hy si ca l f or ce s o n t he ir e nv ir on me nt . Mo st r ob ot s a re e it he r
m an ip ul at or s a nc ho re d a tf ix ed lo ca ti on s o rm ob il er ob ot st ha tc an mo ve .
• Ro bo ti c p er ce pt io n c on ce rn s i ts el f w it h e st im at in g d ec is io n-r el ev an t q ua nt it ie s f ro m
"s en so r d at a . To d o s o , w e n ee d a n i nt er na l r ep re se nt at io n a nd a m et ho d f or u pd at in g"
t hi s i nt er na l r ep re se nt at io n o ve rt im e . Co mm on ex am pl es o f h ar d p er ce pt ua l p ro bl em s
"i nc lu de lo ca li za ti on , m ap pi ng ,a nd ob je ct re co gn it io n ."
• Pr ob ab il is ti cf il te ri ng al go ri th ms su ch as Ka lm an fi lt er sa nd pa rt ic le f il te rs ar eu se fu l
"f or ro bo tp er ce pt io n . Th es et ec hn iq ue sm ai nt ai nt he be li ef s ta te ,a po st er io rd is tr ib ut io n"
o ve rs ta te va ri ab le s .
"• Th ep la nn in go fr ob ot mo ti on is us ua ll yd on ei nc on fi gu ra ti on sp ac e ,w he re ea ch po in t"
s pe ci fi es th el oc at io n a nd or ie nt at io n o ft he ro bo ta nd it sj oi nt an gl es .
"• Co nf ig ur at io n s pa ce s ea rc h a lg or it hm s i nc lu de c el l d ec om po si ti on t ec hn iq ue s , w hi ch"
"d ec om po se th es pa ce of al lc on fi gu ra ti on s i nt of in it el ym an yc el ls ,a nd sk el et on iz at io n"
"t ec hn iq ue s , w hi ch pr oj ec tc on fi gu ra ti on s pa ce so nt ol ow er-d im en si on al m an if ol ds . Th e"
m ot io np la nn in g p ro bl em i st he ns ol ve du si ng se ar ch in th es e s im pl er st ru ct ur es .
• Ap at h f ou nd b ya se ar ch a lg or it hm c an b e e xe cu te d b yu si ng t he p at h a st he r ef er en ce
t ra je ct or y f or a PID c on tr ol le r . Co nt ro ll er s a re n ec es sa ry i n r ob ot ic s t o a cc om mo da te
s ma ll pe rt ur ba ti on s ; p at hp la nn in g a lo ne is us ua ll y i ns uf fi ci en t .
"• Po te nt ia l f ie ld t ec hn iq ue s n av ig at e r ob ot s b y p ot en ti al f un ct io ns , d ef in ed o ve rt he d is-"
t an ce t o o bs ta cl es a nd t he g oa l l oc at io n . Po te nt ia l f ie ld t ec hn iq ue s m ay g et s tu ck i n
"l oc al mi ni ma ,b ut th ey ca ng en er at em ot io nd ir ec tl yw it ho ut th en ee df or pa th pl an ni ng ."
"• So me ti me s i ti s e as ie r t o s pe ci fy a r ob ot c on tr ol le r d ir ec tl y , r at he r t ha n d er iv in g a pa th"
f ro m a n e xp li ci t m od el o f t he e nv ir on me nt . Su ch c on tr ol le rs c an o ft en b e w ri tt en a s
s im pl ef in it es ta te ma ch in es .
26
PHILOSOPHICAL
FOUNDATIONS
In w hi ch w e c on si de r w ha t i t m ea ns t o t hi nk a nd w he th er a rt if ac ts c ou ld a nd
s ho ul de ve rd os o .
Ph il os op he rs h av e b ee n a ro un d f ar l on ge r t ha n c om pu te rs a nd h av e b ee n t ry in g t o r es ol ve
s om e q ue st io ns t ha t r el at e t o AI: Ho w d o m in ds w or k ? Is i t p os si bl e f or m ac hi ne s t o a ct
"i nt el li ge nt ly i n t he w ay t ha t p eo pl e d o , a nd i f t he y d id , w ou ld t he y h av e r ea l , c on sc io us"
m in ds ? Wh at ar et he et hi ca li mp li ca ti on s o fi nt el li ge nt m ac hi ne s ?
"Fi rs t ,s om et er mi no lo gy: t he as se rt io nt ha tm ac hi ne sc ou ld ac ta si ft he yw er ei nt el li ge nt"
"i sc al le d t he we ak AIh yp ot he si s b yp hi lo so ph er s , a nd th ea ss er ti on t ha tm ac hi ne s t ha td os o"
WEAKAI
a re ac tu al ly th in ki ng (n ot ju st si mu la ti ng t hi nk in g) i sc al le dt he st ro ng AIh yp ot he si s .
STRONGAI
"Mo st AIr es ea rc he rs t ak e t he w ea k AIh yp ot he si s f or gr an te d , a nd d on’t c ar ea bo ut t he"
"s tr on g AI h yp ot he si s—a s l on g a s t he ir p ro gr am w or ks , t he y d on’t c ar e w he th er y ou c al l i t a"
s im ul at io n o f i nt el li ge nc e o r r ea l i nt el li ge nc e . Al l AI r es ea rc he rs s ho ul d b e c on ce rn ed w it h
t he et hi ca li mp li ca ti on s o ft he ir wo rk .
26.1 WEAK AI: CAN MACHINES ACT INTELLIGENTLY ?
Th e p ro po sa l f or t he 1956 s um me r w or ks ho p t ha t d ef in ed t he f ie ld o f Ar ti fi ci al In te ll ig en ce
"(Mc Ca rt hy et al .,1955)m ad et he as se rt io nt ha t“Ev er ya sp ec to fl ea rn in go ra ny ot he rf ea tu re"
"o fi nt el li ge nc ec an be so pr ec is el yd es cr ib ed th at am ac hi ne ca nb em ad et os im ul at ei t .” Th us ,"
AI w as fo un de d o n t he as su mp ti on t ha t w ea k AI i sp os si bl e . Ot he rs h av e a ss er te d t ha t w ea k
AI i s i mp os si bl e: “Ar ti fi ci al i nt el li ge nc e p ur su ed w it hi n t he c ul t o f c om pu ta ti on al is m s ta nd s
"n ot ev en ag ho st of ac ha nc eo fp ro du ci ng d ur ab le re su lt s” (Sa yr e ,1993)."
"Cl ea rl y , w he th er AI i si mp os si bl e d ep en ds o n h ow i ti sd ef in ed . In Se ct io n 1.1, w ed e-"
"f in ed AIa st he qu es tf or th eb es ta ge nt pr og ra mo na gi ve na rc hi te ct ur e . Wi th th is fo rm ul at io n ,"
AI i sb y d ef in it io n p os si bl e: f or an y d ig it al a rc hi te ct ur e w it h k b it s o fp ro gr am s to ra ge t he re
"a re ex ac tl y 2 k a ge nt pr og ra ms ,a nd al lw eh av et od ot of in dt he be st on ei se nu me ra te an dt es t"
"t he m a ll . Th is m ig ht n ot b e f ea si bl e f or l ar ge k , b ut p hi lo so ph er s d ea l w it h t he t he or et ic al ,"
n ot th ep ra ct ic al .
1020
Se ct io n 26.1. We ak AI:Ca n Ma ch in es Ac t In te ll ig en tl y ? 1021
"Ou r d ef in it io n o f AI w or ks w el l f or t he e ng in ee ri ng p ro bl em o f f in di ng a g oo d a ge nt ,"
"g iv en a n a rc hi te ct ur e . Th er ef or e , w e’r e t em pt ed t o e nd t hi s s ec ti on r ig ht n ow , a ns we ri ng t he"
t it le q ue st io n i n t he a ff ir ma ti ve . Bu t p hi lo so ph er s a re i nt er es te d i n t he p ro bl em o f c om pa r-
"i ng t wo a rc hi te ct ur es—h um an a nd m ac hi ne . Fu rt he rm or e , t he y h av e t ra di ti on al ly p os ed t he"
"CANMACHINES q ue st io n n ot in te rm so fm ax im iz in ge xp ec te d u ti li ty bu tr at he ra s ,“Ca nm ac hi ne st hi nk ?”"
THINK ?
Th ec om pu te rs ci en ti st Ed sg er Di jk st ra (1984) s ai d t ha t “Th eq ue st io n o fw he th er Ma-
CANSUBMARINES c hi ne s Ca n Th in k ...i sa bo ut a sr el ev an t a st he qu es ti on o fw he th er Su bm ar in es Ca n Sw im .”
SWIM ?
Th e Am er ic an He ri ta ge Di ct io na ry’s f ir st d ef in it io n o f s wi m i s “To m ov e t hr ou gh w at er b y
"m ea ns o f t he l im bs , f in s , o r t ai l ,” a nd m os t p eo pl e a gr ee t ha t s ub ma ri ne s , b ei ng l im bl es s ,"
c an no t s wi m . Th ed ic ti on ar y a ls od ef in es f ly as“To mo ve th ro ug h t he ai rb ym ea ns of wi ng s
"o rw in gl ik ep ar ts ,”a nd mo st pe op le ag re et ha ta ir pl an es ,h av in gw in gl ik ep ar ts ,c an fl y . Ho w-"
"e ve r ,n ei th er th eq ue st io ns no rt he an sw er sh av ea ny re le va nc e t ot he de si gn or ca pa bi li ti es o f"
a ir pl an es a nd su bm ar in es ; r at he rt he ya re ab ou t t he us ag e o f w or ds in En gl is h . (Th ef ac tt ha t
s hi ps d o s wi m i n Ru ss ia n o nl y a mp li fi es t hi s p oi nt .). Th e p ra ct ic al p os si bi li ty o f “t hi nk in g
"m ac hi ne s”h as be en wi th us fo ro nl y 50 y ea rs or so ,n ot lo ng en ou gh fo rs pe ak er so f En gl is ht o"
s et tl eo na me an in gf or th ew or d“t hi nk”—d oe s i tr eq ui re“a br ai n”o rj us t“b ra in-l ik e p ar ts .”
"Al an Tu ri ng ,i nh is fa mo us pa pe r“Co mp ut in g Ma ch in er ya nd In te ll ig en ce”(1950),s ug-"
"g es te d t ha t i ns te ad o f a sk in g w he th er m ac hi ne s c an t hi nk , w e s ho ul d a sk w he th er m ac hi ne s"
"c an pa ss ab eh av io ra l i nt el li ge nc et es t ,w hi ch ha sc om et ob ec al le dt he Tu ri ng Te st . Th et es t"
TURINGTEST
i s f or a p ro gr am t o h av e a c on ve rs at io n (v ia o nl in e t yp ed m es sa ge s) w it h a n i nt er ro ga to r f or
f iv e m in ut es . Th e i nt er ro ga to r t he n h as t o g ue ss i f t he c on ve rs at io n i s w it h a p ro gr am o r a
p er so n ; t he p ro gr am p as se s t he t es t i f i t f oo ls t he i nt er ro ga to r 30% o f t he t im e . Tu ri ng c on-
"j ec tu re d t ha t ,b yt he ye ar 2000, a co mp ut er wi th as to ra ge o f 109 u ni ts co ul db ep ro gr am me d"
w el le no ug ht op as st he te st . He wa sw ro ng—p ro gr am sh av ey et to fo ol as op hi st ic at ed ju dg e .
"On t he o th er h an d , m an y p eo pl e h av e b ee n f oo le d w he n t he y d id n’t k no w t he y m ig ht"
b e c ha tt in g w it h a c om pu te r . Th e ELIZA p ro gr am a nd In te rn et c ha tb ot s s uc h a s MGONZ
"(Hu mp hr ys , 2008) a nd NATACHATA h av e f oo le d t he ir c or re sp on de nt s r ep ea te dl y , a nd t he"
c ha tb ot CYBERLOVER h as at tr ac te dt he at te nt io no fl aw en fo rc em en tb ec au se of it sp en ch an t
f or tr ic ki ng fe ll ow ch at te rs in to di vu lg in g e no ug hp er so na li nf or ma ti on t ha tt he ir id en ti ty ca n
"b e s to le n . Th e Lo eb ne r Pr iz e c om pe ti ti on , h el d a nn ua ll y s in ce 1991, i s t he l on ge st-r un ni ng"
Tu ri ng Te st-l ik ec on te st . Th ec om pe ti ti on s h av el ed to be tt er mo de ls of hu ma nt yp in ge rr or s .
Tu ri ng h im se lf e xa mi ne d a w id e v ar ie ty o f p os si bl e o bj ec ti on s t o t he p os si bi li ty o f i n-
"t el li ge nt m ac hi ne s , i nc lu di ng v ir tu al ly a ll o f t ho se t ha t h av e b ee n r ai se d i n t he h al f-c en tu ry"
s in ce hi sp ap er ap pe ar ed . We wi ll lo ok at so me of th em .
26.1.1 Th e a rg um en t f ro m d is ab il it y
Th e“a rg um en t f ro m d is ab il it y” m ak es th e c la im t ha t“a ma ch in e c an n ev er do X .”As ex am-
"p le so f X ,Tu ri ng li st st he fo ll ow in g:"
"Be ki nd ,r es ou rc ef ul ,b ea ut if ul ,f ri en dl y ,h av ei ni ti at iv e ,h av ea se ns eo fh um or ,t el lr ig ht"
"f ro m w ro ng , m ak e m is ta ke s , f al l i n l ov e , e nj oy s tr aw be rr ie s a nd c re am , m ak e s om eo ne"
"f al li n l ov ew it h i t , l ea rn fr om ex pe ri en ce ,u se w or ds pr op er ly ,b et he s ub je ct of it so wn"
"t ho ug ht ,h av ea sm uc hd iv er si ty of be ha vi or as ma n ,d os om et hi ng re al ly ne w ."
1022 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
"In r et ro sp ec t , s om e o f t he se a re r at he r e as y—w e’r e a ll f am il ia r w it h c om pu te rs t ha t “m ak e"
m is ta ke s .” We a re a ls o f am il ia r w it h a c en tu ry-o ld t ec hn ol og y t ha t h as h ad a p ro ve n a bi li ty
t o “m ak e s om eo ne f al l i n l ov e w it h i t”—t he t ed dy b ea r . Co mp ut er c he ss e xp er t Da vi d Le vy
"p re di ct s t ha t b y 2050 p eo pl e w il l r ou ti ne ly f al l i n l ov e w it h h um an oi d r ob ot s (Le vy , 2007)."
"As fo ra ro bo tf al li ng in lo ve ,t ha ti sa co mm on th em ei nf ic ti on ,1 b ut th er eh as be en on ly li m-"
"i te ds pe cu la ti on a bo ut wh et he ri ti si nf ac tl ik el y(Ki me ta l .,2007). Pr og ra ms do pl ay ch es s ,"
"c he ck er s a nd o th er g am es ; i ns pe ct p ar ts o n a ss em bl y l in es , s te er c ar s a nd h el ic op te rs ; d ia g-"
n os e d is ea se s ; a nd d o h un dr ed s o f o th er t as ks a s w el l a s o r b et te r t ha n h um an s . Co mp ut er s
"h av e m ad e s ma ll b ut s ig ni fi ca nt d is co ve ri es i n a st ro no my , m at he ma ti cs , c he mi st ry , m in er al-"
"o gy , b io lo gy , c om pu te r s ci en ce , a nd o th er f ie ld s . Ea ch o f t he se r eq ui re d p er fo rm an ce a t t he"
l ev el of ah um an ex pe rt .
"Gi ve n w ha t w e n ow k no w a bo ut c om pu te rs , i t i s n ot s ur pr is in g t ha t t he y d o w el l a t"
c om bi na to ri al p ro bl em s s uc h a s p la yi ng c he ss . Bu ta lg or it hm s a ls o p er fo rm a th um an l ev el s
"o n t as ks t ha t s ee mi ng ly i nv ol ve h um an j ud gm en t , o ra s Tu ri ng p ut i t , “l ea rn in g f ro m e xp er i-"
"e nc e” a nd t he a bi li ty t o “t el l r ig ht f ro m w ro ng .” As f ar b ac k a s 1955, Pa ul Me eh l (s ee a ls o"
"Gr ov ea nd Me eh l , 1996) s tu di ed t he d ec is io n-m ak in g p ro ce ss es o f t ra in ed e xp er ts a ts ub je c-"
t iv e t as ks s uc h a s p re di ct in g t he s uc ce ss o f a s tu de nt i n a t ra in in g p ro gr am o rt he r ec id iv is m
"o f a c ri mi na l . In 19 o ut o f t he 20 s tu di es h e l oo ke d a t , Me eh l f ou nd t ha t s im pl e s ta ti st ic al"
l ea rn in g a lg or it hm s(s uc ha sl in ea rr eg re ss io n o rn ai ve Ba ye s)p re di ct be tt er th an th ee xp er ts .
Th e Ed uc at io na l Te st in g Se rv ic e h as u se d a n a ut om at ed p ro gr am t o g ra de m il li on s o f e ss ay
q ue st io ns o n t he GMAT e xa m s in ce 1999. Th e p ro gr am a gr ee s w it h h um an g ra de rs 97% o f
"t he ti me ,a bo ut th es am el ev el th at tw oh um an gr ad er s a gr ee(Bu rs te in e ta l .,2001)."
"It is cl ea rt ha tc om pu te rs ca nd om an yt hi ng sa sw el la so rb et te rt ha nh um an s ,i nc lu di ng"
"t hi ng st ha tp eo pl eb el ie ve re qu ir eg re at hu ma ni ns ig ht an du nd er st an di ng . Th is do es no tm ea n ,"
"o fc ou rs e ,t ha tc om pu te rs us ei ns ig ht an du nd er st an di ng i np er fo rm in gt he se ta sk s—t ho se ar e"
"n ot p ar t o f b eh av io r , a nd w e a dd re ss s uc h q ue st io ns e ls ew he re—b ut t he p oi nt i s t ha t o ne’s"
f ir st gu es sa bo ut th em en ta lp ro ce ss es r eq ui re dt op ro du ce ag iv en be ha vi or is of te nw ro ng . It
"i s a ls o t ru e , o f c ou rs e , t ha t t he re a re m an y t as ks a t w hi ch c om pu te rs d o n ot y et e xc el (t o p ut"
"i tm il dl y),i nc lu di ng Tu ri ng’s ta sk of ca rr yi ng o na no pe n-e nd ed c on ve rs at io n ."
26.1.2 Th e m at he ma ti ca l o bj ec ti on
"It i s w el l k no wn , t hr ou gh t he w or k o f Tu ri ng (1936) a nd Go¨d el (1931), t ha t c er ta in m at h-"
e ma ti ca l q ue st io ns a re i n p ri nc ip le u na ns we ra bl e b y p ar ti cu la r f or ma l s ys te ms . Go¨d el’s i n-
"c om pl et en es s t he or em (s ee Se ct io n 9.5) i st he m os t f am ou s e xa mp le o f t hi s . Br ie fl y , f or an y"
"f or ma l a xi om at ic s ys te m F p ow er fu l e no ug h t o d o a ri th me ti c , i t i s p os si bl e t o c on st ru ct a"
s o-c al le d Go¨d el se nt en ce G(F)w it ht he fo ll ow in gp ro pe rt ie s:
"• G(F)i sa se nt en ce o f F ,b ut ca nn ot be pr ov ed wi th in F ."
"• If F i sc on si st en t , t he n G(F)i st ru e ."
"1 Fo re xa mp le ,t he op er a Co pp e´l ia(1870),t he no ve l Do An dr oi ds Dr ea mo f El ec tr ic Sh ee p ?(1968),t he mo vi es"
"AI(2001)a nd Wa ll-E(2008),a nd in so ng ,No el Co wa rd’s 1955 v er si on of Le t’s Do It:Le t’s Fa ll in Lo ve pr ed ic te d"
“p ro ba bl yw e’l ll iv et os ee ma ch in es do it .”He di dn’t .
Se ct io n 26.1. We ak AI:Ca n Ma ch in es Ac t In te ll ig en tl y ? 1023
Ph il os op he rs s uc ha s J .R .Lu ca s(1961) h av ec la im ed th at th is th eo re m s ho ws th at ma ch in es
"a re me nt al ly in fe ri or to hu ma ns ,b ec au se ma ch in es ar ef or ma ls ys te ms th at ar el im it ed by th e"
i nc om pl et en es st he or em—t he yc an no te st ab li sh th et ru th of th ei ro wn Go¨d el se nt en ce—w hi le
"h um an s h av e n o s uc h l im it at io n . Th is c la im h as c au se d d ec ad es o f c on tr ov er sy , s pa wn in g a"
"v as t l it er at ur e , i nc lu di ng t wo b oo ks b y t he m at he ma ti ci an Si r Ro ge r Pe nr os e (1989, 1994)"
t ha tr ep ea tt he cl ai mw it hs om ef re sh tw is ts(s uc ha st he hy po th es is th at hu ma ns ar ed if fe re nt
b ec au se th ei rb ra in so pe ra te by qu an tu mg ra vi ty). We wi ll ex am in eo nl yt hr ee of th ep ro bl em s
w it ht he cl ai m .
"Fi rs t ,Go¨d el’s in co mp le te ne ss th eo re ma pp li es on ly to fo rm al sy st em st ha ta re po we rf ul"
"e no ug h t o d o a ri th me ti c . Th is i nc lu de s Tu ri ng m ac hi ne s , a nd Lu ca s’s c la im i s i n p ar t b as ed"
"o nt he as se rt io nt ha tc om pu te rs ar e Tu ri ng ma ch in es . Th is is ag oo da pp ro xi ma ti on , b ut is no t"
"q ui te tr ue . Tu ri ng ma ch in es a re in fi ni te , w he re as co mp ut er s a re fi ni te ,a nd an yc om pu te rc an"
"t he re fo re b ed es cr ib ed a sa(v er yl ar ge) s ys te m i np ro po si ti on al l og ic , w hi ch is no ts ub je ct t o"
"Go¨d el’s i nc om pl et en es s t he or em . Se co nd , a na ge nt s ho ul d n ot be to oa sh am ed t ha ti tc an no t"
e st ab li sh t he tr ut ho fs om es en te nc e w hi le ot he ra ge nt sc an . Co ns id er th es en te nc e
J .R .Lu ca sc an no tc on si st en tl ya ss er tt ha tt hi ss en te nc ei st ru e .
"If Lu ca s a ss er te d t hi s s en te nc e , t he n h e w ou ld b e c on tr ad ic ti ng h im se lf , s o t he re fo re Lu ca s"
"c an no tc on si st en tl y a ss er ti t ,a nd he nc ei tm us tb et ru e . We ha ve th us de mo ns tr at ed t ha tt he re"
i sa se nt en ce th at Lu ca sc an no tc on si st en tl ya ss er tw hi le ot he rp eo pl e(a nd ma ch in es)c an . Bu t
"t ha td oe sn ot ma ke us th in kl es so f Lu ca s . To ta ke an ot he re xa mp le ,n oh um an co ul dc om pu te"
"t he s um o f a b il li on 10 d ig it n um be rs i n h is o r h er l if et im e , b ut a c om pu te r c ou ld d o i t i n"
"s ec on ds . St il l , w ed on ot se et hi sa sa fu nd am en ta l l im it at io n i nt he hu ma n’s a bi li ty t ot hi nk ."
"Hu ma ns we re be ha vi ng in te ll ig en tl yf or th ou sa nd so fy ea rs be fo re th ey in ve nt ed ma th em at ic s ,"
s oi ti su nl ik el yt ha tf or ma lm at he ma ti ca lr ea so ni ng pl ay sm or et ha na pe ri ph er al ro le in wh at
i tm ea ns to be in te ll ig en t .
"Th ir d , a nd m os t i mp or ta nt , e ve n i f w e g ra nt t ha t c om pu te rs h av e l im it at io ns o n w ha t"
"t he y c an p ro ve , t he re i s n o e vi de nc e t ha t h um an s a re i mm un e f ro m t ho se l im it at io ns . It i s"
"a ll t oo e as y t o s ho w r ig or ou sl y t ha t a f or ma l s ys te m c an no t d o X , a nd t he n c la im t ha t h u-"
"m an sc an do X u si ng th ei ro wn in fo rm al me th od ,w it ho ut gi vi ng an ye vi de nc ef or th is cl ai m ."
"In de ed , i ti si mp os si bl e t op ro ve th at hu ma ns ar en ot su bj ec tt o Go¨d el’s in co mp le te ne ss t he o-"
"r em ,b ec au se an yr ig or ou sp ro of wo ul dr eq ui re af or ma li za ti on of th ec la im ed un fo rm al iz ab le"
"h um an t al en t , a nd h en ce r ef ut e i ts el f . So w ea re l ef t w it h a n a pp ea l t o i nt ui ti on t ha t h um an s"
c an s om eh ow p er fo rm s up er hu ma n f ea ts o f m at he ma ti ca l i ns ig ht . Th is a pp ea l i s e xp re ss ed
"w it ha rg um en ts s uc ha s“w em us ta ss um eo ur ow nc on si st en cy , i ft ho ug ht i st ob ep os si bl e a t"
"a ll” (Lu ca s , 1976). Bu t i f a ny th in g , h um an s a re k no wn t o b e i nc on si st en t . Th is i s c er ta in ly"
"t ru e f or e ve ry da y r ea so ni ng , b ut i t i s a ls o t ru e f or c ar ef ul m at he ma ti ca l t ho ug ht . A f am ou s"
e xa mp le i s t he f ou r-c ol or m ap p ro bl em . Al fr ed Ke mp e p ub li sh ed a p ro of i n 1879 t ha t w as
"w id el y a cc ep te d a nd c on tr ib ut ed t o h is e le ct io n a s a Fe ll ow o f t he Ro ya l So ci et y . In 1890,"
"h ow ev er ,Pe rc y He aw oo dp oi nt ed o ut af la wa nd th et he or em r em ai ne du np ro ve du nt il 1977."
1024 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
26.1.3 Th e a rg um en t f ro m i nf or ma li ty
On eo ft he mo st in fl ue nt ia la nd pe rs is te nt cr it ic is ms of AIa sa ne nt er pr is e w as ra is ed by Tu r-
"i ng as th e“a rg um en t f ro m i nf or ma li ty o fb eh av io r .” Es se nt ia ll y , t hi s i st he cl ai m t ha th um an"
b eh av io r i s f ar to o c om pl ex t o b e c ap tu re d b y a ny s im pl e s et o f r ul es a nd t ha t b ec au se c om-
"p ut er s c an do no mo re th an fo ll ow as et of ru le s , t he yc an no t g en er at e b eh av io r a si nt el li ge nt"
a s t ha t o f h um an s . Th e i na bi li ty t o c ap tu re e ve ry th in g i n a s et o f l og ic al r ul es i s c al le d t he
QUALIFICATION q ua li fi ca ti on pr ob le mi n AI .
PROBLEM
"Th e p ri nc ip al p ro po ne nt o f t hi s v ie w h as b ee n t he p hi lo so ph er Hu be rt Dr ey fu s , w ho"
h as pr od uc ed a se ri es of in fl ue nt ia lc ri ti qu es o fa rt if ic ia li nt el li ge nc e: Wh at Co mp ut er s Ca n’t
"Do (1972), t he s eq ue l Wh at Co mp ut er s St il l Ca n’t Do (1992), a nd , w it h h is b ro th er St ua rt ,"
Mi nd Ov er Ma ch in e(1986).
"Th e p os it io n t he y c ri ti ci ze c am e t o b e c al le d “Go od Ol d-Fa sh io ne d AI ,” o r GOFAI , a"
t er m c oi ne d b y p hi lo so ph er Jo hn Ha ug el an d (1985). GOFAI i s s up po se d t o c la im t ha t a ll
i nt el li ge nt b eh av io rc an be ca pt ur ed by as ys te mt ha tr ea so ns lo gi ca ll yf ro ma se to ff ac ts an d
r ul es d es cr ib in g t he do ma in . It th er ef or e c or re sp on ds t ot he s im pl es t l og ic al a ge nt d es cr ib ed
i n Ch ap te r 7. Dr ey fu si sc or re ct in sa yi ng th at lo gi ca la ge nt sa re vu ln er ab le to th eq ua li fi ca ti on
"p ro bl em . As we sa wi n Ch ap te r 13,p ro ba bi li st ic r ea so ni ng s ys te ms ar em or ea pp ro pr ia te f or"
o pe n-e nd ed d om ai ns . Th e Dr ey fu s c ri ti qu e t he re fo re i sn ot a dd re ss ed a ga in st c om pu te rs p er
"s e , b ut r at he r a ga in st o ne p ar ti cu la r w ay o f p ro gr am mi ng t he m . It i s r ea so na bl e t o s up po se ,"
"h ow ev er ,t ha ta bo ok ca ll ed Wh at Fi rs t-Or de r Lo gi ca l Ru le-Ba se d Sy st em s Wi th ou t Le ar ni ng"
Ca n’t Do mi gh th av eh ad le ss im pa ct .
"Un de r Dr ey fu s’s vi ew ,h um an ex pe rt is ed oe si nc lu de kn ow le dg eo fs om er ul es ,b ut on ly"
a sa“h ol is ti c c on te xt” o r“b ac kg ro un d” w it hi nw hi ch hu ma ns o pe ra te . He gi ve st he ex am pl e
o fa pp ro pr ia te s oc ia l b eh av io r i n g iv in g a nd r ec ei vi ng g if ts: “No rm al ly o ne s im pl y r es po nd s
i nt he ap pr op ri at e c ir cu ms ta nc es b yg iv in g a na pp ro pr ia te g if t .” On ea pp ar en tl y h as“a di re ct
s en se o fh ow t hi ng s a re d on e a nd wh at to ex pe ct .” Th es am ec la im i sm ad ei nt he c on te xt o f
"c he ss p la yi ng: “Am er e c he ss m as te rm ig ht n ee d t of ig ur e o ut w ha tt o d o , b ut a g ra nd ma st er"
j us ts ee st he bo ar da sd em an di ng ac er ta in mo ve ...t he ri gh tr es po ns ej us tp op si nt oh is or he r
h ea d .” It is ce rt ai nl yt ru et ha tm uc ho ft he th ou gh tp ro ce ss es of ap re se nt-g iv er or gr an dm as te r
i s d on e a t a l ev el t ha t i s n ot o pe n t o i nt ro sp ec ti on b y t he c on sc io us m in d . Bu t t ha t d oe s n ot
m ea n t ha t t he t ho ug ht p ro ce ss es d o n ot e xi st . Th e i mp or ta nt q ue st io n t ha t Dr ey fu s d oe s n ot
a ns we r i s h ow t he r ig ht m ov e g et s i nt o t he g ra nd ma st er’s h ea d . On e i s r em in de d o f Da ni el
"De nn et t’s(1984)c om me nt ,"
It is ra th er as if ph il os op he rs we re to pr oc la im th em se lv es ex pe rt ex pl ai ne rs of th em et h-
"o ds o f s ta ge m ag ic ia ns , a nd t he n , w he n w e a sk h ow t he m ag ic ia n d oe s t he s aw in g-t he-"
"l ad y-i n-h al ft ri ck ,t he ye xp la in th at it is re al ly qu it eo bv io us: t he ma gi ci an do es n’t re al ly"
s aw he ri nh al f ;h es im pl ym ak es it ap pe ar th at he do es . “Bu th ow do es he do th at ?” w e
"a sk . “No to ur de pa rt me nt ,”s ay th ep hi lo so ph er s ."
"Dr ey fu s a nd Dr ey fu s (1986) p ro po se a f iv e-s ta ge p ro ce ss o f a cq ui ri ng e xp er ti se , b eg in ni ng"
w it h r ul e-b as ed p ro ce ss in g (o f t he s or t p ro po se d i n GOFAI) a nd e nd in g w it h t he a bi li ty t o
"s el ec t c or re ct r es po ns es i ns ta nt an eo us ly . In m ak in g t hi s p ro po sa l , Dr ey fu s a nd Dr ey fu s i n"
e ff ec tm ov ef ro mb ei ng AIc ri ti cs to AIt he or is ts—t he yp ro po se an eu ra ln et wo rk ar ch it ec tu re
Se ct io n 26.1. We ak AI:Ca n Ma ch in es Ac t In te ll ig en tl y ? 1025
"o rg an iz ed i nt o a v as t “c as e l ib ra ry ,” b ut p oi nt o ut s ev er al p ro bl em s . Fo rt un at el y , a ll o f t he ir"
"p ro bl em s h av eb ee na dd re ss ed , s om ew it hp ar ti al su cc es s a nd s om ew it ht ot al su cc es s . Th ei r"
p ro bl em si nc lu de th ef ol lo wi ng:
1. Go od g en er al iz at io n f ro m e xa mp le s c an no t b e a ch ie ve d w it ho ut b ac kg ro un d k no wl-
e dg e . Th ey c la im n o o ne h as a ny i de a h ow t o i nc or po ra te b ac kg ro un d k no wl ed ge i nt o
"t he n eu ra l n et wo rk l ea rn in g p ro ce ss . In f ac t , w e s aw i n Ch ap te rs 19 a nd 20 t ha t t he re"
"a re t ec hn iq ue s f or u si ng p ri or k no wl ed ge i n l ea rn in g a lg or it hm s . Th os e t ec hn iq ue s ,"
"h ow ev er ,r el yo nt he av ai la bi li ty o fk no wl ed ge in ex pl ic it fo rm ,s om et hi ng th at Dr ey fu s"
"a nd Dr ey fu s s tr en uo us ly d en y . In ou rv ie w , t hi si sa go od r ea so n f or as er io us r ed es ig n"
o f c ur re nt m od el s o f n eu ra l p ro ce ss in g s o t ha t t he y c an t ak e a dv an ta ge o f p re vi ou sl y
l ea rn ed kn ow le dg ei nt he wa yt ha to th er le ar ni ng a lg or it hm s d o .
"2. Ne ur al n et wo rk l ea rn in g i s a f or m o f s up er vi se d l ea rn in g (s ee Ch ap te r 18), r eq ui ri ng"
"t he p ri or i de nt if ic at io n o f r el ev an t i np ut s a nd c or re ct o ut pu ts . Th er ef or e , t he y c la im ,"
"i t c an no t o pe ra te a ut on om ou sl y w it ho ut t he h el p o f a h um an t ra in er . In f ac t , l ea rn in g"
w it ho ut a t ea ch er c an b e a cc om pl is he d b y u ns up er vi se d l ea rn in g (Ch ap te r 20) a nd
r ei nf or ce me nt le ar ni ng(Ch ap te r 21).
"3. Le ar ni ng a lg or it hm s d o n ot p er fo rm w el l w it h m an y f ea tu re s , a nd i f w e p ic k a s ub se t"
"o ff ea tu re s ,“t he re is no kn ow nw ay of ad di ng ne wf ea tu re ss ho ul dt he cu rr en ts et pr ov e"
"i na de qu at e t o a cc ou nt f or t he l ea rn ed f ac ts .” In f ac t , n ew m et ho ds s uc h a s s up po rt"
v ec to r m ac hi ne s h an dl e l ar ge f ea tu re s et s v er y w el l . Wi th t he i nt ro du ct io n o f l ar ge
"We b-b as ed d at a s et s , m an ya pp li ca ti on s i na re as s uc h a sl an gu ag e p ro ce ss in g (Sh aa nd"
"Pe re ir a , 2003) a nd c om pu te rv is io n (Vi ol aa nd Jo ne s , 2002 a) r ou ti ne ly h an dl e m il li on s"
o f f ea tu re s . We s aw i n Ch ap te r 19 t ha t t he re a re a ls o p ri nc ip le d w ay s t o g en er at e n ew
"f ea tu re s , a lt ho ug h m uc hm or ew or ki sn ee de d ."
4. Th e b ra in i s a bl e t o d ir ec t i ts s en so rs t o s ee k r el ev an t i nf or ma ti on a nd t o p ro ce ss i t
"t o e xt ra ct a sp ec ts r el ev an t t o t he c ur re nt s it ua ti on . Bu t , Dr ey fu s a nd Dr ey fu s c la im ,"
"“Cu rr en tl y , n od et ai ls o ft hi sm ec ha ni sm a re un de rs to od o re ve nh yp ot he si ze d i na wa y"
"t ha t c ou ld g ui de AI r es ea rc h .” In f ac t , t he f ie ld o f a ct iv e v is io n , u nd er pi nn ed b y t he"
"t he or y o f i nf or ma ti on v al ue (Ch ap te r 16), i s c on ce rn ed w it h e xa ct ly t he p ro bl em o f"
"d ir ec ti ng s en so rs , a nd a lr ea dy s om e r ob ot s h av e i nc or po ra te d t he t he or et ic al r es ul ts"
o bt ai ne d . STANLEY’s 132-m il e t ri p t hr ou gh t he de se rt (p ag e 28) w as ma de po ss ib le i n
l ar ge pa rt by an ac ti ve se ns in gs ys te m o ft hi sk in d .
"In su m , m an yo ft he i ss ue s Dr ey fu s h as f oc us ed o n—b ac kg ro un d c om mo ns en se k no wl ed ge ,"
"t he q ua li fi ca ti on p ro bl em , u nc er ta in ty , l ea rn in g , c om pi le d f or ms o f d ec is io n m ak in g—a re"
"i nd ee d i mp or ta nt i ss ue s , a nd h av e b y n ow b ee n i nc or po ra te d i nt o s ta nd ar d i nt el li ge nt a ge nt"
"d es ig n . In ou rv ie w ,t hi si se vi de nc e o f AI’s pr og re ss , n ot of i ts im po ss ib il it y ."
On e o f Dr ey fu s’ s tr on ge st a rg um en ts i s f or s it ua te d a ge nt s r at he r t ha n d is em bo di ed
l og ic al in fe re nc ee ng in es . An ag en tw ho se un de rs ta nd in go f“d og”c om es on ly fr om al im it ed
s et o f l og ic al s en te nc es s uc h a s “Do g(x) ⇒ Ma mm al(x)” i s a t a d is ad va nt ag e c om pa re d
"t o a n a ge nt t ha t h as w at ch ed d og s r un , h as p la ye d f et ch w it h t he m , a nd h as b ee n l ic ke d b y"
"o ne . As p hi lo so ph er An dy Cl ar k (1998) s ay s , “Bi ol og ic al b ra in s a re f ir st a nd f or em os t t he"
c on tr ol s ys te ms f or b io lo gi ca l b od ie s . Bi ol og ic al b od ie s m ov e a nd a ct i n r ic h r ea l-w or ld
1026 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
"s ur ro un di ng s .” To un de rs ta nd ho wh um an(o ro th er an im al)a ge nt sw or k ,w eh av et oc on si de r"
"EMBODIED t he wh ol ea ge nt ,n ot ju st th ea ge nt pr og ra m . In de ed ,t he em bo di ed co gn it io na pp ro ac hc la im s"
COGNITION
"t ha t i t m ak es n o s en se t o c on si de r t he b ra in s ep ar at el y: c og ni ti on t ak es p la ce w it hi n a b od y ,"
w hi ch i s e mb ed de d i n a n e nv ir on me nt . We n ee d t o s tu dy t he s ys te m a s a w ho le ; t he b ra in
"a ug me nt si ts re as on in g b yr ef er ri ng to th ee nv ir on me nt , a st he re ad er do es in pe rc ei vi ng (a nd"
"c re at in g) m ar ks o n p ap er t o t ra ns fe r k no wl ed ge . Un de r t he e mb od ie d c og ni ti on p ro gr am ,"
"r ob ot ic s , v is io n , a nd ot he rs en so rs be co me ce nt ra l , n ot pe ri ph er al ."
26.2 STRONG AI: CAN MACHINES REALLY THINK ?
Ma ny p hi lo so ph er s h av e c la im ed t ha t a m ac hi ne t ha t p as se s t he Tu ri ng Te st w ou ld s ti ll n ot
"b e a ct ua ll y t hi nk in g , b ut w ou ld b e o nl y a s im ul at io n o f t hi nk in g . Ag ai n , t he o bj ec ti on w as"
f or es ee n b y Tu ri ng . He ci te sa sp ee ch by Pr of es so r Ge of fr ey Je ff er so n(1949):
No tu nt il am ac hi ne co ul dw ri te as on ne to rc om po se ac on ce rt ob ec au se of th ou gh ts an d
"e mo ti on sf el t ,a nd no tb yt he ch an ce fa ll of sy mb ol s ,c ou ld we ag re et ha tm ac hi ne eq ua ls"
"b ra in—t ha ti s ,n ot on ly wr it ei tb ut kn ow th at it ha dw ri tt en it ."
Tu ri ng c al ls t hi s t he ar gu me nt f ro m c on sc io us ne ss—t he m ac hi ne h as t o b ea wa re o fi ts o wn
"m en ta ls ta te sa nd ac ti on s . Wh il ec on sc io us ne ss i sa ni mp or ta nt s ub je ct , Je ff er so n’s k ey po in t"
"a ct ua ll y r el at es t o p he no me no lo gy , o r t he s tu dy o f d ir ec t e xp er ie nc e: t he m ac hi ne h as t o"
"a ct ua ll y f ee l e mo ti on s . Ot he rs f oc us o n i nt en ti on al it y—t ha t i s , t he q ue st io n o f w he th er t he"
"m ac hi ne’s p ur po rt ed b el ie fs , d es ir es , a nd o th er r ep re se nt at io ns a re a ct ua ll y “a bo ut” s om e-"
t hi ng in th er ea lw or ld .
Tu ri ng’s r es po ns e t o t he o bj ec ti on i s i nt er es ti ng . He c ou ld h av e p re se nt ed r ea so ns t ha t
"m ac hi ne s c an i n f ac t b e c on sc io us (o r h av e p he no me no lo gy , o r h av e i nt en ti on s). In st ea d , h e"
"m ai nt ai ns t ha t t he q ue st io n i s j us t a s i ll-d ef in ed a s a sk in g , “Ca n m ac hi ne s t hi nk ?” Be si de s ,"
"w hy s ho ul d w e i ns is t o n a h ig he r s ta nd ar d f or m ac hi ne s t ha n w e d o f or h um an s ? Af te r a ll ,"
i n o rd in ar y l if e w e n ev er h av e a ny d ir ec t e vi de nc e a bo ut t he i nt er na l m en ta l s ta te s o f o th er
"h um an s . Ne ve rt he le ss ,Tu ri ng sa ys ,“In st ea do fa rg ui ng co nt in ua ll yo ve rt hi sp oi nt ,i ti su su al"
t oh av et he po li te co nv en ti on t ha te ve ry on et hi nk s .”
Tu ri ng a rg ue s t ha t Je ff er so n w ou ld b e w il li ng t o e xt en d t he p ol it e c on ve nt io n t o m a-
"c hi ne si fo nl yh eh ad ex pe ri en ce wi th on es th at ac ti nt el li ge nt ly . He ci te st he fo ll ow in gd ia lo g ,"
w hi ch ha sb ec om es uc ha pa rt of AI’s or al tr ad it io nt ha tw es im pl yh av et oi nc lu de i t:
HUMAN: In th ef ir st li ne of yo ur so nn et wh ic hr ea ds“s ha ll Ic om pa re th ee to as um me r’s
"d ay ,”w ou ld no ta“s pr in gd ay”d oa sw el lo rb et te r ?"
MACHINE: It wo ul dn’t sc an .
HUMAN: Ho wa bo ut“a wi nt er’s da y .”Th at wo ul ds ca na ll ri gh t .
"MACHINE: Ye s ,b ut no bo dy wa nt st ob ec om pa re dt oa wi nt er’s da y ."
HUMAN: Wo ul dy ou sa y Mr .Pi ck wi ck re mi nd ed yo uo f Ch ri st ma s ?
MACHINE: In aw ay .
"HUMAN: Ye t Ch ri st ma si sa wi nt er’s da y ,a nd Id on ot th in k Mr .Pi ck wi ck wo ul dm in d"
t he co mp ar is on .
Se ct io n 26.2. St ro ng AI:Ca n Ma ch in es Re al ly Th in k ? 1027
MACHINE: Id on’t th in ky ou’r es er io us . By aw in te r’s da yo ne me an sa ty pi ca lw in te r’s
"d ay ,r at he rt ha na sp ec ia lo ne li ke Ch ri st ma s ."
On e c an e as il y i ma gi ne s om e f ut ur e t im e i n w hi ch s uc h c on ve rs at io ns w it h m ac hi ne s a re
"c om mo np la ce , a nd i t b ec om es c us to ma ry t o m ak e n o l in gu is ti c d is ti nc ti on b et we en “r ea l”"
"a nd“a rt if ic ia l”t hi nk in g . As im il ar tr an si ti on o cc ur re d i n t he ye ar sa ft er 1848,w he na rt if ic ia l"
"u re a w as sy nt he si ze d f or th e f ir st t im eb y Fr ed er ic k Wo¨h le r . Pr io rt o t hi s e ve nt , o rg an ic a nd"
i no rg an ic c he mi st ry w er e e ss en ti al ly d is jo in t e nt er pr is es a nd m an y t ho ug ht t ha t n o p ro ce ss
c ou ld e xi st th at wo ul dc on ve rt i no rg an ic c he mi ca ls i nt oo rg an ic m at er ia l . On ce th es yn th es is
"w as a cc om pl is he d , c he mi st s a gr ee d t ha t a rt if ic ia l u re a w as u re a , b ec au se i t h ad a ll t he r ig ht"
p hy si ca l p ro pe rt ie s . Th os e w ho h ad p os it ed a n i nt ri ns ic p ro pe rt y p os se ss ed b y o rg an ic m a-
t er ia l t ha t i no rg an ic m at er ia l c ou ld n ev er h av e w er e f ac ed w it h t he i mp os si bi li ty o f d ev is in g
a ny te st th at co ul dr ev ea lt he su pp os ed d ef ic ie nc yo fa rt if ic ia lu re a .
"Fo r t hi nk in g , w e h av e n ot y et r ea ch ed o ur 1848 a nd t he re a re t ho se w ho b el ie ve t ha t"
"a rt if ic ia lt hi nk in g ,n om at te rh ow im pr es si ve ,w il ln ev er be re al . Fo re xa mp le ,t he ph il os op he r"
Jo hn Se ar le(1980)a rg ue s a sf ol lo ws:
No on es up po se st ha ta co mp ut er si mu la ti on of as to rm wi ll le av eu sa ll we t ...Wh yo n
e ar th wo ul da ny on ei nh is ri gh tm in ds up po se ac om pu te rs im ul at io no fm en ta lp ro ce ss es
a ct ua ll yh ad me nt al pr oc es se s ?(p p .37–38)
"Wh il e i t i s e as y t o a gr ee t ha t c om pu te r s im ul at io ns o f s to rm s d o n ot m ak e u s w et , i t i s n ot"
c le ar h ow t o c ar ry t hi s a na lo gy o ve r t o c om pu te r s im ul at io ns o f m en ta l p ro ce ss es . Af te r
"a ll , a Ho ll yw oo d s im ul at io n o f a s to rm u si ng s pr in kl er s a nd w in d m ac hi ne s d oe s m ak e t he"
"a ct or s w et , a nd av id eo g am es im ul at io n o fa st or m d oe s m ak et he s im ul at ed c ha ra ct er s w et ."
"Mo st p eo pl e a re c om fo rt ab le s ay in g t ha t a c om pu te r s im ul at io n o f a dd it io n i s a dd it io n , a nd"
"o fc he ss is ch es s . In fa ct ,w et yp ic al ly s pe ak of an im pl em en ta ti on o fa dd it io n o rc he ss ,n ot a"
"s im ul at io n . Ar em en ta lp ro ce ss es m or el ik es to rm s ,o rm or el ik ea dd it io n ?"
Tu ri ng’s a ns we r—t he p ol it e c on ve nt io n—s ug ge st s t ha t t he i ss ue w il l e ve nt ua ll y g o
a wa y b y i ts el f o nc e m ac hi ne s r ea ch a c er ta in l ev el o f s op hi st ic at io n . Th is w ou ld h av e t he
"e ff ec t o fd is so lv in g t he d if fe re nc e b et we en w ea ka nd s tr on g AI . Ag ai ns t t hi s , o ne m ay i ns is t"
"t ha t t he re i s a f ac tu al i ss ue a t s ta ke: h um an s d o h av e r ea l m in ds , a nd m ac hi ne s m ig ht o r"
"m ig ht n ot . To a dd re ss t hi s f ac tu al i ss ue , w e n ee d t o u nd er st an d h ow i t i s t ha t h um an s h av e"
"r ea l m in ds , n ot j us t b od ie s t ha t g en er at e n eu ro ph ys io lo gi ca l p ro ce ss es . Ph il os op hi ca l e ff or ts"
MIND–BODY t o s ol ve t hi s m in d–b od yp ro bl em a re d ir ec tl y r el ev an t t o t he q ue st io n o fw he th er m ac hi ne s
PROBLEM
c ou ld ha ve re al mi nd s .
Th em in d–b od yp ro bl em wa sc on si de re db yt he an ci en t Gr ee kp hi lo so ph er s a nd by va r-
"i ou s s ch oo ls o f Hi nd u t ho ug ht , b ut w as f ir st a na ly ze d i n d ep th b y t he 17 t h-c en tu ry Fr en ch"
p hi lo so ph er a nd ma th em at ic ia n Re ne´ De sc ar te s . Hi s Me di ta ti on s o n Fi rs t Ph il os op hy(1641)
c on si de re d t he mi nd’s a ct iv it y o ft hi nk in g (a pr oc es s w it hn os pa ti al e xt en t o rm at er ia l p ro p-
"e rt ie s) a nd th ep hy si ca l p ro ce ss es o ft he bo dy , c on cl ud in g t ha t t he tw om us te xi st i ns ep ar at e"
r ea lm s—w ha t w e w ou ld n ow c al l a d ua li st t he or y . Th e m in d–b od y p ro bl em f ac ed b y d u-
DUALISM
a li st s i s t he q ue st io n o f h ow t he m in d c an c on tr ol t he b od y i f t he t wo a re r ea ll y s ep ar at e .
"De sc ar te ss pe cu la te d t ha tt he tw om ig ht in te ra ct th ro ug ht he pi ne al gl an d ,w hi ch si mp ly be gs"
t he qu es ti on o fh ow th em in dc on tr ol st he pi ne al gl an d .
1028 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
"Th em on is tt he or yo fm in d ,o ft en ca ll ed p hy si ca li sm ,a vo id s t hi sp ro bl em b ya ss er ti ng"
MONISM
t he mi nd is no ts ep ar at e f ro mt he bo dy—t ha t m en ta ls ta te s a re ph ys ic al s ta te s . Mo st mo de rn
PHYSICALISM
"p hi lo so ph er s o fm in da re ph ys ic al is ts of on ef or mo ra no th er , a nd ph ys ic al is ma ll ow s ,a tl ea st"
"i n p ri nc ip le , f or t he p os si bi li ty o f s tr on g AI . Th e p ro bl em f or p hy si ca li st s i s t o e xp la in h ow"
"p hy si ca ls ta te s—i n p ar ti cu la r , t he mo le cu la rc on fi gu ra ti on s a nd el ec tr oc he mi ca l p ro ce ss es o f"
"t he br ai n—c an si mu lt an eo us ly be me nt al st at es ,s uc ha sb ei ng in pa in ,e nj oy in ga ha mb ur ge r ,"
MENTALSTATES
"k no wi ng th at on ei sr id in ga ho rs e ,o rb el ie vi ng t ha t Vi en na is th ec ap it al of Au st ri a ."
26.2.1 Me nt al s ta te s a nd th e b ra in in a v at
"Ph ys ic al is tp hi lo so ph er sh av ea tt em pt ed to ex pl ic at ew ha ti tm ea ns to sa yt ha ta pe rs on—a nd ,"
"b ye xt en si on , a co mp ut er—i s i na pa rt ic ul ar me nt al st at e . Th ey ha ve fo cu se d i np ar ti cu la ro n"
"i nt en ti on al st at es . Th es ea re st at es ,s uc ha sb el ie vi ng , k no wi ng ,d es ir in g , f ea ri ng ,a nd so on ,"
INTENTIONALSTATE
"t ha tr ef er to so me as pe ct of th ee xt er na lw or ld . Fo re xa mp le , t he kn ow le dg et ha to ne is ea ti ng"
a ha mb ur ge ri sa be li ef a bo ut th eh am bu rg er an dw ha ti sh ap pe ni ng t oi t .
"If p hy si ca li sm i s c or re ct , i t m us t b e t he c as e t ha t t he p ro pe r d es cr ip ti on o f a p er so n’s"
"m en ta l s ta te i s d et er mi ne d b y t ha t p er so n’s b ra in s ta te . Th us , i f I a m c ur re nt ly f oc us ed o n"
"e at in ga ha mb ur ge ri na mi nd fu lw ay ,m yi ns ta nt an eo us br ai ns ta te is an in st an ce of th ec la ss of"
"m en ta ls ta te s“k no wi ng th at on ei se at in ga ha mb ur ge r .” Of co ur se ,t he sp ec if ic co nf ig ur at io ns"
"o f a ll t he a to ms o fm y b ra in a re n ot e ss en ti al: t he re a re m an yc on fi gu ra ti on s o f m yb ra in , o r"
"o fo th er pe op le’s br ai n ,t ha tw ou ld be lo ng to th es am ec la ss of me nt al st at es . Th ek ey po in ti s"
"t ha t t he s am e b ra in s ta te c ou ld n ot c or re sp on d t oa f un da me nt al ly d is ti nc t m en ta l s ta te , s uc h"
a st he kn ow le dg e t ha to ne is ea ti ng ab an an a .
Th e s im pl ic it y o f t hi s v ie w i s c ha ll en ge d b y s om e s im pl e t ho ug ht e xp er im en ts . Im ag-
"i ne , i f y ou w il l , t ha t y ou r b ra in w as r em ov ed f ro m y ou r b od y a t b ir th a nd p la ce d i n a m ar-"
"v el ou sl ye ng in ee re d v at . Th ev at su st ai ns yo ur br ai n ,a ll ow in gi tt og ro wa nd de ve lo p . At th e"
"s am et im e ,e le ct ro ni c s ig na ls ar ef ed to yo ur br ai nf ro ma co mp ut er si mu la ti on o fa ne nt ir el y"
"f ic ti ti ou s w or ld , a nd m ot or s ig na ls f ro m y ou r b ra in a re i nt er ce pt ed a nd u se d t o m od if y t he"
"s im ul at io n a s a pp ro pr ia te .2 In f ac t , t he s im ul at ed l if e y ou l iv e r ep li ca te s e xa ct ly t he l if e y ou"
"w ou ld h av e l iv ed , h ad y ou r b ra in n ot b ee n p la ce d i n t he v at , i nc lu di ng s im ul at ed e at in g o f"
"s im ul at ed ha mb ur ge rs . Th us ,y ou co ul dh av ea br ai ns ta te id en ti ca lt ot ha to fs om eo ne wh oi s"
"r ea ll y e at in g a re al h am bu rg er , b ut i t w ou ld b e l it er al ly f al se t o s ay t ha t y ou h av e t he m en ta l"
"s ta te “k no wi ng t ha t o ne i s e at in g a h am bu rg er .” Yo u a re n’t e at in g a h am bu rg er , y ou h av e"
"n ev er ev en ex pe ri en ce d a ha mb ur ge r , a nd yo uc ou ld no t ,t he re fo re , h av es uc ha me nt al st at e ."
Th is ex am pl es ee ms to co nt ra di ct th ev ie wt ha tb ra in st at es de te rm in em en ta ls ta te s . On e
w ay to re so lv et he di le mm ai st os ay th at th ec on te nt of me nt al st at es ca nb ei nt er pr et ed f ro m
t wo d if fe re nt p oi nt s o f v ie w . Th e “w id e c on te nt” v ie w i nt er pr et s i t f ro m t he p oi nt o f v ie w
WIDECONTENT
"o f a n o mn is ci en t o ut si de o bs er ve r w it h a cc es s t o t he w ho le s it ua ti on , w ho c an d is ti ng ui sh"
"d if fe re nc es in th ew or ld . Un de rt hi sv ie w ,t he co nt en to fm en ta ls ta te si nv ol ve sb ot ht he br ai n"
"s ta te a nd t he e nv ir on me nt h is to ry . Na rr ow c on te nt , o n t he o th er h an d , c on si de rs o nl y t he"
NARROWCONTENT
b ra in st at e . Th en ar ro wc on te nt of th eb ra in st at es of ar ea lh am bu rg er-e at er a nd ab ra in-i n-a-
v at“h am bu rg er”-“e at er” i st he sa me in bo th ca se s .
2 Th is si tu at io nm ay be fa mi li ar to th os ew ho ha ve se en th e 1999 f il m Th e Ma tr ix .
Se ct io n 26.2. St ro ng AI:Ca n Ma ch in es Re al ly Th in k ? 1029
Wi de co nt en t i se nt ir el ya pp ro pr ia te i fo ne’s go al sa re to as cr ib e m en ta ls ta te st oo th er s
"w ho s ha re o ne’s w or ld , t o p re di ct t he ir l ik el y b eh av io r a nd i ts e ff ec ts , a nd s o o n . Th is i s t he"
"s et ti ng in wh ic ho ur or di na ry la ng ua ge a bo ut me nt al co nt en t h as ev ol ve d . On th eo th er ha nd ,"
i f o ne i s c on ce rn ed w it h t he q ue st io n o f w he th er AI s ys te ms a re r ea ll y t hi nk in g a nd r ea ll y
"d o h av e m en ta l s ta te s , t he n n ar ro w c on te nt i s a pp ro pr ia te ; i t s im pl y d oe sn’t m ak e s en se t o"
s ay t ha t w he th er o r n ot a n AI s ys te m i s r ea ll y t hi nk in g d ep en ds o n c on di ti on s o ut si de t ha t
s ys te m . Na rr ow c on te nt i s a ls o r el ev an t i f w e a re t hi nk in g a bo ut d es ig ni ng AI s ys te ms o r
"u nd er st an di ng th ei ro pe ra ti on ,b ec au se it is th en ar ro wc on te nt of ab ra in st at et ha td et er mi ne s"
w ha tw il lb et he(n ar ro w c on te nt o ft he)n ex tb ra in st at e . Th is le ad s n at ur al ly t ot he id ea th at
w ha t m at te rs a bo ut a b ra in s ta te—w ha t m ak es i t h av e o ne k in d o f m en ta l c on te nt a nd n ot
a no th er—i s i ts fu nc ti on al r ol ew it hi nt he me nt al op er at io n o ft he en ti ty in vo lv ed .
26.2.2 Fu nc ti on al is m a nd th e b ra in re pl ac em en t e xp er im en t
Th e t he or y o f f un ct io na li sm s ay s t ha t a m en ta l s ta te i s a ny i nt er me di at e c au sa l c on di ti on
FUNCTIONALISM
"b et we en i np ut a nd o ut pu t . Un de r f un ct io na li st t he or y , a ny t wo s ys te ms w it h i so mo rp hi c"
"c au sa l p ro ce ss es w ou ld h av e t he s am e m en ta l s ta te s . Th er ef or e , a c om pu te r p ro gr am c ou ld"
"h av e t he sa me me nt al s ta te s a s a pe rs on . Of co ur se , w eh av en ot y et sa id w ha t“i so mo rp hi c”"
"r ea ll y m ea ns , b ut t he a ss um pt io n i s t ha t t he re i s s om e l ev el o f a bs tr ac ti on b el ow w hi ch t he"
s pe ci fi ci mp le me nt at io n d oe sn ot ma tt er .
Th e c la im s o f f un ct io na li sm a re i ll us tr at ed m os t c le ar ly b y t he b ra in r ep la ce me nt e x-
p er im en t . Th is t ho ug ht e xp er im en t w as i nt ro du ce d b y t he p hi lo so ph er Cl ar k Gl ym ou r a nd
"w as to uc he do nb y Jo hn Se ar le(1980),b ut is mo st co mm on ly as so ci at ed wi th ro bo ti ci st Ha ns"
Mo ra ve c(1988). It go es li ke th is: Su pp os en eu ro ph ys io lo gy h as de ve lo pe dt ot he po in tw he re
t he in pu t–o ut pu tb eh av io ra nd co nn ec ti vi ty of al lt he ne ur on si nt he hu ma nb ra in ar ep er fe ct ly
u nd er st oo d . Su pp os ef ur th er th at we ca nb ui ld mi cr os co pi ce le ct ro ni cd ev ic es th at mi mi ct hi s
"b eh av io r a nd c an b e s mo ot hl y i nt er fa ce d t o n eu ra l t is su e . La st ly , s up po se t ha t s om e m ir ac-"
u lo us s ur gi ca l t ec hn iq ue c an r ep la ce i nd iv id ua l n eu ro ns w it h t he c or re sp on di ng e le ct ro ni c
d ev ic es w it ho ut i nt er ru pt in g t he o pe ra ti on o f t he b ra in a s a w ho le . Th e e xp er im en t c on si st s
o fg ra du al ly r ep la ci ng a ll th en eu ro ns i ns om eo ne’s h ea dw it he le ct ro ni c d ev ic es .
We a re c on ce rn ed w it h b ot h t he e xt er na l b eh av io r a nd t he i nt er na l e xp er ie nc e o f t he
"s ub je ct , d ur in g a nd a ft er t he o pe ra ti on . By t he d ef in it io n o f t he e xp er im en t , t he s ub je ct’s"
e xt er na l b eh av io r m us t r em ai n u nc ha ng ed c om pa re d w it h w ha t w ou ld b e o bs er ve d i f t he
o pe ra ti on w er e n ot c ar ri ed o ut .3 No w a lt ho ug h t he p re se nc e o r a bs en ce o f c on sc io us ne ss
"c an no t e as il y b e a sc er ta in ed b y a t hi rd p ar ty , t he s ub je ct o f t he e xp er im en t o ug ht a t l ea st t o"
"b e a bl e t o r ec or d a ny c ha ng es i n h is o r h er o wn c on sc io us e xp er ie nc e . Ap pa re nt ly , t he re i s"
"a d ir ec t c la sh o f i nt ui ti on s a s t o w ha t w ou ld h ap pe n . Mo ra ve c , a r ob ot ic s r es ea rc he r a nd"
"f un ct io na li st , i sc on vi nc ed h is co ns ci ou sn es s w ou ld re ma in un af fe ct ed . Se ar le ,a ph il os op he r"
"a nd bi ol og ic al n at ur al is t , i se qu al ly co nv in ce d h is co ns ci ou sn es s w ou ld va ni sh:"
"Yo u f in d , t o y ou r t ot al a ma ze me nt , t ha t y ou a re i nd ee d l os in g c on tr ol o f y ou r e xt er na l"
"b eh av io r . Yo u f in d , f or ex am pl e , t ha tw he n d oc to rs te st y ou rv is io n , y ou he ar th em s ay"
“We ar eh ol di ng up ar ed ob je ct in fr on to fy ou ;p le as et el lu sw ha ty ou se e .” Yo uw an t
"3 On ec an im ag in eu si ng an id en ti ca l“c on tr ol”s ub je ct wh oi sg iv en ap la ce bo op er at io n ,f or co mp ar is on ."
1030 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
t oc ry ou t“Ic an’t se ea ny th in g . I’m go in gt ot al ly bl in d .” Bu ty ou he ar yo ur vo ic es ay in g
"i n a w ay t ha ti s c om pl et el yo ut o f y ou rc on tr ol , “I s ee a r ed o bj ec t i n f ro nt of m e .” ..."
"y ou r c on sc io us e xp er ie nc e s lo wl y s hr in ks t o n ot hi ng , w hi le y ou r e xt er na ll y o bs er va bl e"
"b eh av io rr em ai ns th es am e .(Se ar le ,1992)"
"On e c an d o m or e t ha n a rg ue f ro m i nt ui ti on . Fi rs t , n ot e t ha t , f or t he e xt er na l b eh av io r t o r e-"
"m ai nt he sa me wh il et he su bj ec t g ra du al ly b ec om es un co ns ci ou s , i tm us tb et he ca se th at th e"
s ub je ct’s v ol it io n i s r em ov ed i ns ta nt an eo us ly a nd t ot al ly ; o th er wi se t he s hr in ki ng o f a wa re-
"n es sw ou ld be re fl ec te di ne xt er na lb eh av io r—“He lp , I’m sh ri nk in g !” o rw or ds to th at ef fe ct ."
Th is i ns ta nt an eo us r em ov al o f v ol it io n a s a r es ul t o f g ra du al n eu ro n-a t-a-t im e r ep la ce me nt
s ee ms an un li ke ly c la im to ha ve to ma ke .
"Se co nd , c on si de r w ha t h ap pe ns i f w e d o a sk t he s ub je ct q ue st io ns c on ce rn in g h is o r"
h er co ns ci ou s e xp er ie nc e d ur in g t he p er io d w he n n o r ea l n eu ro ns r em ai n . By th e c on di ti on s
"o f t he e xp er im en t , w e w il l g et r es po ns es s uc h a s “I f ee l f in e . I m us t s ay I’m a b it s ur pr is ed"
b ec au se Ib el ie ve d Se ar le’s ar gu me nt .” Or we mi gh tp ok et he su bj ec tw it ha po in te ds ti ck an d
"o bs er ve th er es po ns e , “Ou ch ,t ha th ur t .” No w ,i nt he no rm al co ur se of af fa ir s ,t he sk ep ti cc an"
"d is mi ss s uc ho ut pu ts f ro m AIp ro gr am s a sm er ec on tr iv an ce s . Ce rt ai nl y , i ti se as y e no ug h t o"
"u se ar ul e s uc ha s“If se ns or 12 r ea ds ‘Hi gh’t he no ut pu t ‘Ou ch .’” Bu tt he po in t h er ei st ha t ,"
"b ec au se w e h av e r ep li ca te d t he f un ct io na l p ro pe rt ie s o f a n or ma l h um an b ra in , w e a ss um e"
t ha tt he el ec tr on ic b ra in co nt ai ns no su ch co nt ri va nc es . Th en we mu st ha ve an ex pl an at io n o f
t he ma ni fe st at io ns o fc on sc io us ne ss p ro du ce d b yt he el ec tr on ic b ra in th at ap pe al so nl yt ot he
"f un ct io na l p ro pe rt ie s o f t he n eu ro ns . An dt hi s e xp la na ti on m us t a ls o a pp ly t o t he r ea l b ra in ,"
w hi ch ha st he sa me fu nc ti on al p ro pe rt ie s . Th er ea re th re ep os si bl e c on cl us io ns:
1. Th ec au sa lm ec ha ni sm so fc on sc io us ne ss th at ge ne ra te th es ek in ds of ou tp ut si nn or ma l
"b ra in sa re st il lo pe ra ti ng i nt he el ec tr on ic v er si on , w hi ch i st he re fo re c on sc io us ."
"2. Th ec on sc io us me nt al ev en ts in th en or ma lb ra in ha ve no ca us al co nn ec ti on to be ha vi or ,"
"a nd ar em is si ng fr om th ee le ct ro ni c b ra in , w hi ch is th er ef or e n ot co ns ci ou s ."
"3. Th ee xp er im en ti si mp os si bl e , a nd th er ef or e s pe cu la ti on a bo ut it is me an in gl es s ."
"Al th ou gh we ca nn ot ru le ou tt he se co nd po ss ib il it y , i tr ed uc es co ns ci ou sn es st ow ha tp hi lo so-"
"p he rs ca ll an ep ip he no me na lr ol e—s om et hi ng t ha th ap pe ns , b ut ca st sn os ha do w ,a si tw er e ,"
EPIPHENOMENON
"o n t he o bs er va bl e w or ld . Fu rt he rm or e , i f c on sc io us ne ss i s i nd ee d e pi ph en om en al , t he n i t"
"c an no tb et he ca se th at th es ub je ct sa ys“Ou ch”b ec au se it hu rt s—t ha ti s ,b ec au se of th ec on-"
"s ci ou se xp er ie nc e o fp ai n . In st ea d , t he br ai nm us tc on ta in a s ec on d , u nc on sc io us m ec ha ni sm"
t ha ti sr es po ns ib le f or th e“Ou ch .”
Pa tr ic ia Ch ur ch la nd (1986) p oi nt s o ut t ha t t he f un ct io na li st a rg um en ts t ha t o pe ra te a t
t he l ev el o f t he n eu ro n c an a ls o o pe ra te a t t he l ev el o f a ny l ar ge r f un ct io na l u ni t—a c lu mp
"o f n eu ro ns , a m en ta l m od ul e , a l ob e , a h em is ph er e , o r t he w ho le b ra in . Th at m ea ns t ha t i f"
y ou ac ce pt th en ot io nt ha tt he br ai nr ep la ce me nt ex pe ri me nt s ho ws th at th er ep la ce me nt br ai n
"i s c on sc io us , t he n y ou s ho ul d a ls o b el ie ve t ha t c on sc io us ne ss i s m ai nt ai ne d w he n t he e nt ir e"
b ra in is re pl ac ed by ac ir cu it th at up da te si ts st at ea nd ma ps f ro mi np ut st oo ut pu ts vi aa hu ge
"l oo ku p t ab le . Th is i s d is co nc er ti ng t o m an y p eo pl e (i nc lu di ng Tu ri ng h im se lf), w ho h av e"
"t he in tu it io n t ha tl oo ku p t ab le sa re no tc on sc io us—o r a tl ea st , t ha tt he co ns ci ou s e xp er ie nc es"
g en er at ed d ur in g t ab le l oo ku p a re n ot t he s am e a s t ho se g en er at ed d ur in g t he o pe ra ti on o f a
Se ct io n 26.2. St ro ng AI:Ca n Ma ch in es Re al ly Th in k ? 1031
"s ys te m t ha tm ig ht be de sc ri be d (e ve ni na si mp le-m in de d , c om pu ta ti on al s en se)a sa cc es si ng"
"a nd ge ne ra ti ng b el ie fs , i nt ro sp ec ti on s , g oa ls ,a nd so on ."
26.2.3 Bi ol og ic al na tu ra li sm a nd t he Ch in es e Ro om
A s tr on g c ha ll en ge t o f un ct io na li sm h as b ee n m ou nt ed b y Jo hn Se ar le’s (1980) b io lo gi ca l
"BIOLOGICAL n at ur al is m ,a cc or di ng to wh ic hm en ta ls ta te sa re hi gh-l ev el em er ge nt fe at ur es th at ar ec au se d"
NATURALISM
"b y l ow-l ev el p hy si ca l p ro ce ss es i n t he n eu ro ns , a nd i t i s t he (u ns pe ci fi ed) p ro pe rt ie s o f t he"
"n eu ro ns t ha t m at te r . Th us , m en ta l s ta te s c an no t b e d up li ca te d j us t o n t he b as is o f s om e p ro-"
g ra m h av in g t he s am e f un ct io na l s tr uc tu re w it h t he s am e i np ut–o ut pu t b eh av io r ; w e w ou ld
r eq ui re th at th ep ro gr am be ru nn in go na na rc hi te ct ur ew it ht he sa me ca us al po we ra sn eu ro ns .
"To su pp or th is vi ew ,Se ar le de sc ri be s a hy po th et ic al s ys te m t ha ti sc le ar ly ru nn in g a pr og ra m"
"a nd pa ss es th e Tu ri ng Te st ,b ut th at eq ua ll yc le ar ly(a cc or di ng t o Se ar le)d oe sn ot un de rs ta nd"
a ny th in g o f i ts i np ut s a nd o ut pu ts . Hi s c on cl us io n i s t ha t r un ni ng t he a pp ro pr ia te p ro gr am
"(i .e .,h av in gt he ri gh to ut pu ts) i sn ot as uf fi ci en t c on di ti on f or be in ga mi nd ."
"Th e s ys te m c on si st s o f a h um an , w ho u nd er st an ds o nl y En gl is h , e qu ip pe d w it h a r ul e"
"b oo k , w ri tt en in En gl is h , a nd v ar io us s ta ck s o fp ap er , s om eb la nk , s om ew it hi nd ec ip he ra bl e"
"i ns cr ip ti on s . (Th e h um an t he re fo re p la ys t he r ol e o f t he CPU , t he r ul e b oo k i s t he p ro gr am ,"
a nd t he s ta ck s o f p ap er a re t he s to ra ge d ev ic e .) Th e s ys te m i s i ns id e a r oo m w it h a s ma ll
o pe ni ng t ot he ou ts id e . Th ro ug h t he op en in g a pp ea r s li ps o fp ap er wi th in de ci ph er ab le s ym-
"b ol s . Th eh um an f in ds ma tc hi ng s ym bo ls i nt he ru le b oo k , a nd fo ll ow s t he in st ru ct io ns . Th e"
"i ns tr uc ti on sm ay in cl ud ew ri ti ng sy mb ol so nn ew sl ip so fp ap er ,f in di ng sy mb ol si nt he st ac ks ,"
"r ea rr an gi ng th es ta ck s ,a nd so on . Ev en tu al ly ,t he in st ru ct io ns wi ll ca us eo ne or mo re sy mb ol s"
t ob et ra ns cr ib ed o nt oa pi ec eo fp ap er th at is pa ss ed ba ck to th eo ut si de wo rl d .
"So fa r , s o g oo d . Bu t f ro m t he o ut si de , w es ee a s ys te m t ha t i s t ak in g i np ut i n t he f or m"
o f Ch in es e s en te nc es a nd g en er at in g a ns we rs i n Ch in es e t ha t a re a s “i nt el li ge nt” a s t ho se
i n t he c on ve rs at io n i ma gi ne d b y Tu ri ng .4 Se ar le t he n a rg ue s: t he p er so n i n t he r oo m d oe s
"n ot u nd er st an d Ch in es e (g iv en). Th e r ul e b oo k a nd t he s ta ck s o f p ap er , b ei ng j us t p ie ce s o f"
"p ap er , d o n ot u nd er st an d Ch in es e . Th er ef or e , t he re i s n o u nd er st an di ng o f Ch in es e . He nc e ,"
"a cc or di ng to Se ar le ,r un ni ng th er ig ht pr og ra md oe sn ot ne ce ss ar il yg en er at eu nd er st an di ng ."
"Li ke Tu ri ng , Se ar le c on si de re d a nd a tt em pt ed t o r eb uf f a n um be r o f r ep li es t o h is a r-"
"g um en t . Se ve ra l c om me nt at or s , i nc lu di ng Jo hn Mc Ca rt hy a nd Ro be rt Wi le ns ky , p ro po se d"
w ha t Se ar le c al ls t he s ys te ms r ep ly . Th e o bj ec ti on i s t ha t a sk in g i f t he h um an i n t he r oo m
"u nd er st an ds Ch in es e i s a na lo go us t o a sk in g i f t he CPU c an t ak e c ub e r oo ts . In b ot h c as es ,"
"t he a ns we r i s n o , a nd i n b ot h c as es , a cc or di ng t o t he s ys te ms r ep ly , t he e nt ir e s ys te m d oe s"
"h av et he ca pa ci ty in qu es ti on . Ce rt ai nl y ,i fo ne as ks th e Ch in es e Ro om wh et he ri tu nd er st an ds"
"Ch in es e , t he an sw er wo ul db ea ff ir ma ti ve(i nf lu en t Ch in es e). By Tu ri ng’s po li te co nv en ti on ,"
t hi ss ho ul db ee no ug h . Se ar le’s re sp on se i st or ei te ra te th e p oi nt th at th eu nd er st an di ng i sn ot
"i nt he hu ma na nd c an no t b ei nt he pa pe r , s ot he re c an no t b ea ny un de rs ta nd in g . He se em st o"
b e r el yi ng o n t he a rg um en t t ha t a p ro pe rt y o f t he w ho le m us t r es id e i n o ne o f t he p ar ts . Ye t
4 Th ef ac t t ha t t he st ac ks o f p ap er m ig ht c on ta in t ri ll io ns of p ag es a nd t he ge ne ra ti on o f a ns we rs wo ul d t ak e
m il li on so fy ea rs ha sn ob ea ri ng on th el og ic al st ru ct ur eo ft he ar gu me nt . On ea im of ph il os op hi ca lt ra in in gi st o
d ev el op af in el yh on ed se ns eo fw hi ch ob je ct io ns ar eg er ma ne an dw hi ch ar en ot .
1032 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
"w at er is we t , e ve n t ho ug h n ei th er Hn or O i s . Th er ea lc la im m ad eb y Se ar le r es ts u po n t he"
2
"f ol lo wi ng fo ur ax io ms(Se ar le ,1990):"
1. Co mp ut er pr og ra ms ar ef or ma l(s yn ta ct ic).
2. Hu ma nm in ds ha ve me nt al co nt en ts (s em an ti cs).
3. Sy nt ax by it se lf is ne it he rc on st it ut iv e o fn or su ff ic ie nt f or se ma nt ic s .
4. Br ai ns ca us em in ds .
Fr om t he f ir st t hr ee a xi om s Se ar le c on cl ud es t ha t p ro gr am s a re n ot s uf fi ci en t f or m in ds . In
"o th er wo rd s ,a na ge nt ru nn in ga pr og ra m m ig ht be am in d ,b ut it is no tn ec es sa ri ly am in dj us t"
b y v ir tu e o f r un ni ng t he p ro gr am . Fr om t he f ou rt h a xi om h e c on cl ud es “An y o th er s ys te m
c ap ab le o f c au si ng m in ds w ou ld h av e t o h av e c au sa l p ow er s (a t l ea st) e qu iv al en t t o t ho se
o f b ra in s .” Fr om t he re h e i nf er s t ha t a ny a rt if ic ia l b ra in w ou ld h av e t o d up li ca te t he c au sa l
"p ow er s o f b ra in s , n ot j us t r un a p ar ti cu la r p ro gr am , a nd t ha t h um an b ra in s d o n ot p ro du ce"
m en ta lp he no me na s ol el yb yv ir tu eo fr un ni ng ap ro gr am .
"Th e a xi om s a re c on tr ov er si al . Fo r e xa mp le , a xi om s 1 a nd 2 r el y o n a n u ns pe ci fi ed"
d is ti nc ti on b et we en s yn ta x a nd s em an ti cs t ha t s ee ms t o b e c lo se ly r el at ed t o t he d is ti nc ti on
"b et we en na rr ow an dw id ec on te nt . On th eo ne ha nd ,w ec an vi ew co mp ut er sa sm an ip ul at in g"
"s yn ta ct ic s ym bo ls ; o n t he o th er , w e c an v ie w t he m a s m an ip ul at in g e le ct ri c c ur re nt , w hi ch"
h ap pe ns t o b e w ha t b ra in s m os tl y d o (a cc or di ng t o o ur c ur re nt u nd er st an di ng). So i t s ee ms
w ec ou ld eq ua ll y s ay th at br ai ns ar es yn ta ct ic .
"As su mi ng w e a re g en er ou s i n i nt er pr et in g t he a xi om s , t he n t he c on cl us io n—t ha t p ro-"
g ra ms a re n ot s uf fi ci en t f or m in ds—d oe s f ol lo w . Bu t t he c on cl us io n i s u ns at is fa ct or y—a ll
"Se ar le ha ss ho wn is th at if yo ue xp li ci tl y d en yf un ct io na li sm (t ha ti sw ha th is ax io m 3 d oe s),"
t he n y ou c an’t n ec es sa ri ly c on cl ud e t ha t n on-b ra in s a re m in ds . Th is i s r ea so na bl e e no ug h—
a lm os t t au to lo gi ca l—s o t he w ho le a rg um en t c om es d ow n t o w he th er a xi om 3 c an b e a c-
"c ep te d . Ac co rd in gt o Se ar le ,t he po in to ft he Ch in es e Ro om ar gu me nt is to pr ov id ei nt ui ti on s"
f or a xi om 3. Th e p ub li c r ea ct io n s ho ws t ha t t he a rg um en t i s a ct in g a s w ha t Da ni el De nn et t
"(1991) c al ls a n i nt ui ti on p um p: i t a mp li fi es o ne’s p ri or i nt ui ti on s , s o b io lo gi ca l n at ur al is ts"
INTUITIONPUMP
"a re m or e c on vi nc ed o f t he ir p os it io ns , a nd f un ct io na li st s a re c on vi nc ed o nl y t ha t a xi om 3 i s"
"u ns up po rt ed , o r t ha t i n g en er al Se ar le’s a rg um en t i s u nc on vi nc in g . Th e a rg um en t s ti rs u p"
"c om ba ta nt s , b ut h as d on e l it tl e t o c ha ng e a ny on e’s o pi ni on . Se ar le r em ai ns u nd et er re d , a nd"
h as r ec en tl y s ta rt ed c al li ng t he Ch in es e Ro om a“r ef ut at io n” o fs tr on g AI r at he r t ha n j us t a n
"“a rg um en t” (Sn el l ,2008)."
"Ev en th os ew ho ac ce pt a xi om 3,a nd th us a cc ep t Se ar le’s a rg um en t , h av eo nl y t he ir in-"
t ui ti on st of al lb ac ko nw he nd ec id in gw ha te nt it ie sa re mi nd s . Th ea rg um en tp ur po rt st os ho w
"t ha tt he Ch in es e Ro om is no ta mi nd by vi rt ue of ru nn in gt he pr og ra m ,b ut th ea rg um en ts ay s"
"n ot hi ng a bo ut h ow t o d ec id e w he th er t he r oo m (o ra c om pu te r , s om e o th er t yp e o f m ac hi ne ,"
o ra na li en)i sa mi nd by vi rt ue of so me ot he rr ea so n . Se ar le hi ms el fs ay st ha ts om em ac hi ne s
"d o h av e m in ds: h um an s a re b io lo gi ca l m ac hi ne s w it h m in ds . Ac co rd in g t o Se ar le , h um an"
"b ra in s m ay o r m ay n ot b e r un ni ng s om et hi ng l ik e a n AI p ro gr am , b ut i f t he y a re , t ha t i s n ot"
"t he r ea so n t he y a re m in ds . It t ak es m or e t o m ak e a m in d—a cc or di ng t o Se ar le , s om et hi ng"
e qu iv al en t t ot he ca us al p ow er so f i nd iv id ua l n eu ro ns . Wh at t he se p ow er sa re i sl ef tu ns pe c-
"i fi ed . It sh ou ld b en ot ed , h ow ev er , t ha t n eu ro ns e vo lv ed t o f ul fi ll f un ct io na l r ol es—c re at ur es"
Se ct io n 26.2. St ro ng AI:Ca n Ma ch in es Re al ly Th in k ? 1033
w it hn eu ro ns we re le ar ni ng an dd ec id in gl on gb ef or ec on sc io us ne ss a pp ea re do nt he sc en e . It
w ou ld be ar em ar ka bl e c oi nc id en ce i fs uc hn eu ro ns j us th ap pe ne d t og en er at e c on sc io us ne ss
"b ec au se o f s om e c au sa l p ow er s t ha t a re i rr el ev an t t o t he ir f un ct io na l c ap ab il it ie s ; a ft er a ll , i t"
i st he fu nc ti on al c ap ab il it ie s t ha td ic ta te s ur vi va lo ft he or ga ni sm .
"In t he c as e o f t he Ch in es e Ro om , Se ar le r el ie s o n i nt ui ti on , n ot p ro of: j us t l oo k a t t he"
r oo m ; w ha t’s t he re t o b e a m in d ? Bu t o ne c ou ld m ak e t he s am e a rg um en t a bo ut t he b ra in:
"j us t l oo k a t t hi s c ol le ct io n o f c el ls (o r o f a to ms), b li nd ly o pe ra ti ng a cc or di ng t o t he l aw s o f"
b io ch em is tr y(o ro fp hy si cs)—w ha t’s th er et ob ea mi nd ? Wh yc an ah un ko fb ra in be am in d
w hi le ah un ko fl iv er ca nn ot ? Th at re ma in st he gr ea tm ys te ry .
"26.2.4 Co ns ci ou sn es s ,q ua li a , a nd t he ex pl an at or y g ap"
"Ru nn in g t hr ou gh a ll t he d eb at es a bo ut s tr on g AI—t he e le ph an t i n t he d eb at in g r oo m , s o"
t o s pe ak—i s t he i ss ue o f c on sc io us ne ss . Co ns ci ou sn es s i s o ft en b ro ke n d ow n i nt o a sp ec ts
CONSCIOUSNESS
s uc h a s u nd er st an di ng a nd s el f-a wa re ne ss . Th e a sp ec t w e w il l f oc us o n i s t ha t o f s ub je ct iv e
"e xp er ie nc e: w hy it is th at it fe el sl ik es om et hi ng to ha ve ce rt ai nb ra in st at es(e .g .,w hi le ea ti ng"
"a ha mb ur ge r), w he re as it pr es um ab ly do es no tf ee ll ik ea ny th in gt oh av eo th er ph ys ic al st at es"
"(e .g .,w hi le be in ga ro ck). Th et ec hn ic al te rm fo rt he in tr in si cn at ur eo fe xp er ie nc es i sq ua li a"
QUALIA
"(f ro mt he La ti nw or dm ea ni ng ,r ou gh ly , “s uc ht hi ng s”)."
Qu al ia p re se nt a c ha ll en ge f or f un ct io na li st a cc ou nt s o f t he m in d b ec au se d if fe re nt
"q ua li a c ou ld b e i nv ol ve d i n w ha t a re o th er wi se i so mo rp hi c c au sa l p ro ce ss es . Co ns id er , f or"
"INVERTED e xa mp le ,t he in ve rt ed sp ec tr um th ou gh te xp er im en t ,w hi ch th es ub je ct iv ee xp er ie nc eo fp er-"
SPECTRUM
s on X w he n s ee in g r ed o bj ec ts i s t he s am e e xp er ie nc e t ha t t he r es t o f u s e xp er ie nc e w he n
"s ee in gg re en ob je ct s ,a nd vi ce ve rs a . X s ti ll ca ll sr ed ob je ct s“r ed ,”s to ps fo rr ed tr af fi cl ig ht s ,"
a nd a gr ee s t ha t t he r ed ne ss o f r ed t ra ff ic l ig ht s i s a m or e i nt en se r ed t ha n t he r ed ne ss o f t he
"s et ti ng su n . Ye t ,X’s su bj ec ti ve e xp er ie nc e i sj us td if fe re nt ."
"Qu al ia ar ec ha ll en gi ng no tj us tf or fu nc ti on al is m b ut fo ra ll of sc ie nc e . Su pp os e ,f or th e"
"s ak eo fa rg um en t ,t ha tw eh av ec om pl et ed th ep ro ce ss of sc ie nt if ic re se ar ch on th eb ra in—w e"
"h av e f ou nd t ha t n eu ra l p ro ce ss P i n n eu ro n N t ra ns fo rm s m ol ec ul e Ai nt o m ol ec ul e B ,"
12 177
"a nd s o o n , a nd o n . Th er e i s s im pl y n o c ur re nt ly a cc ep te d f or m o f r ea so ni ng t ha t w ou ld l ea d"
f ro m s uc h f in di ng s t o t he c on cl us io n t ha t t he e nt it y o wn in g t ho se n eu ro ns h as a ny p ar ti cu la r
s ub je ct iv e e xp er ie nc e . Th is e xp la na to ry g ap h as l ed s om e p hi lo so ph er s t o c on cl ud e t ha t
EXPLANATORYGAP
h um an sa re si mp ly in ca pa bl e o ff or mi ng a pr op er un de rs ta nd in g o ft he ir ow nc on sc io us ne ss .
"Ot he rs , n ot ab ly Da ni el De nn et t (1991), a vo id t he g ap b y d en yi ng t he e xi st en ce o f q ua li a ,"
a tt ri bu ti ng t he mt oa ph il os op hi ca l c on fu si on .
"Tu ri ng hi ms el fc on ce de st ha tt he qu es ti on of co ns ci ou sn es s i sa di ff ic ul to ne ,b ut de ni es"
t ha t i t h as m uc h r el ev an ce t o t he p ra ct ic e o f AI: “I d o n ot w is h t o g iv e t he i mp re ss io n t ha t I
t hi nk t he re i s n o m ys te ry a bo ut c on sc io us ne ss ... Bu t I d o n ot t hi nk t he se m ys te ri es n ec es-
s ar il y n ee d t o b e s ol ve d b ef or e w e c an a ns we r t he q ue st io n w it h w hi ch w e a re c on ce rn ed i n
t hi sp ap er .” We ag re ew it h Tu ri ng—w ea re in te re st ed i nc re at in g p ro gr am s t ha tb eh av e i nt el-
l ig en tl y . Th ea dd it io na l p ro je ct o fm ak in g t he mc on sc io us i sn ot on et ha tw ea re eq ui pp ed t o
"t ak eo n ,n or on ew ho se su cc es sw ew ou ld be ab le to de te rm in e ."
1034 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
26.3 THE ETHICS AND RISKS OF DEVELOPING ARTIFICIAL INTELLIGENCE
"So f ar , w e h av e c on ce nt ra te d o n w he th er w e c an d ev el op AI , b ut w e m us t a ls o c on si de r"
"w he th er we sh ou ld . If th ee ff ec ts of AIt ec hn ol og ya re mo re li ke ly to be ne ga ti ve th an po si ti ve ,"
t he n i t w ou ld b e t he m or al r es po ns ib il it y o f w or ke rs i n t he f ie ld t o r ed ir ec t t he ir r es ea rc h .
Ma ny n ew t ec hn ol og ie s h av e h ad u ni nt en de d n eg at iv e s id e e ff ec ts: n uc le ar f is si on b ro ug ht
Ch er no by l a nd t he t hr ea t o f g lo ba l d es tr uc ti on ; t he i nt er na l c om bu st io n e ng in e b ro ug ht a ir
"p ol lu ti on , g lo ba l w ar mi ng , a nd t he p av in g-o ve r o f p ar ad is e . In a s en se , a ut om ob il es a re"
r ob ot st ha th av ec on qu er ed t he wo rl db ym ak in gt he ms el ve s i nd is pe ns ab le .
Al l s ci en ti st s a nd e ng in ee rs f ac e e th ic al c on si de ra ti on s o f h ow t he y s ho ul d a ct o n t he
"j ob , w ha t p ro je ct s s ho ul d o r s ho ul d n ot b e d on e , a nd h ow t he y s ho ul d b e h an dl ed . Se e t he"
"h an db oo k o n t he Et hi cs o f Co mp ut in g (Be rl eu r a nd Br un ns te in , 2001). AI , h ow ev er , s ee ms"
"t op os es om ef re sh pr ob le ms be yo nd th at of ,s ay ,b ui ld in g b ri dg es th at do n’t fa ll do wn:"
• Pe op le mi gh tl os et he ir jo bs to au to ma ti on .
• Pe op le mi gh th av et oo mu ch(o rt oo li tt le)l ei su re ti me .
• Pe op le mi gh tl os et he ir se ns eo fb ei ng un iq ue .
• AIs ys te ms mi gh tb eu se dt ow ar du nd es ir ab le e nd s .
• Th eu se of AIs ys te ms mi gh tr es ul ti na lo ss of ac co un ta bi li ty .
• Th es uc ce ss of AIm ig ht me an th ee nd of th eh um an ra ce .
We wi ll lo ok at ea ch is su ei nt ur n .
Pe op le mi gh tl os e t he ir jo bs to a ut om at io n . Th em od er n i nd us tr ia l e co no my h as b e-
"c om ed ep en de nt o nc om pu te rs i ng en er al ,a nd se le ct AIp ro gr am si np ar ti cu la r . Fo re xa mp le ,"
"m uc h o f t he e co no my , e sp ec ia ll y i n t he Un it ed St at es , d ep en ds o n t he a va il ab il it y o f c on-"
"s um er c re di t . Cr ed it c ar d a pp li ca ti on s , c ha rg e a pp ro va ls , a nd f ra ud d et ec ti on a re n ow d on e"
b y AI p ro gr am s . On e c ou ld s ay t ha t t ho us an ds o f w or ke rs h av e b ee n d is pl ac ed b y t he se AI
"p ro gr am s , b ut i n f ac t i f y ou t oo k a wa y t he AI p ro gr am s t he se j ob s w ou ld n ot e xi st , b ec au se"
"h um an l ab or wo ul d a dd an un ac ce pt ab le c os tt ot he tr an sa ct io ns . So fa r , a ut om at io n t hr ou gh"
i nf or ma ti on t ec hn ol og y i n g en er al a nd AI i n p ar ti cu la r h as c re at ed m or e j ob s t ha n i t h as
"e li mi na te d , a nd h as c re at ed m or e i nt er es ti ng , h ig he r-p ay in g j ob s . No wt ha t t he ca no ni ca l AI"
"p ro gr am i sa n“i nt el li ge nt a ge nt” d es ig ne d t oa ss is ta hu ma n ,l os so fj ob si sl es so fa co nc er n"
t ha n i t w as w he n AI f oc us ed o n “e xp er t s ys te ms” d es ig ne d t o r ep la ce h um an s . Bu t s om e
r es ea rc he rs th in kt ha td oi ng th ec om pl et ej ob is th er ig ht go al fo r AI .In re fl ec ti ng on th e 25 t h
"An ni ve rs ar yo ft he AAAI ,Ni ls Ni ls so n(2005)s et as ac ha ll en ge t he cr ea ti on o fh um an-l ev el"
AIt ha t c ou ld p as s t he em pl oy me nt t es tr at he r t ha n t he Tu ri ng Te st—a ro bo t t ha t c ou ld l ea rn
"t od oa ny on eo fa ra ng eo fj ob s . We ma ye nd up in af ut ur ew he re un em pl oy me nt is hi gh ,b ut"
e ve nt he un em pl oy ed s er ve as ma na ge rs o ft he ir ow nc ad re of ro bo tw or ke rs .
Pe op le mi gh th av et oo mu ch(o rt oo li tt le)l ei su re ti me . Al vi n To ff le rw ro te in Fu tu re
"Sh oc k (1970), “Th e w or k w ee k h as b ee n c ut b y 50 p er ce nt s in ce t he t ur n o f t he c en tu ry . It"
i s n ot o ut o f t he w ay t o p re di ct t ha t i t w il l b e s la sh ed i n h al f a ga in b y 2000.” Ar th ur C .
"Cl ar ke (1968 b) w ro te t ha t p eo pl e i n 2001 m ig ht b e “f ac ed w it h a f ut ur e o f u tt er b or ed om ,"
w he re th em ai np ro bl em i nl if ei sd ec id in g w hi ch of se ve ra l h un dr ed TVc ha nn el s t os el ec t .”
Se ct io n 26.3. Th e Et hi cs an d Ri sk so f De ve lo pi ng Ar ti fi ci al In te ll ig en ce 1035
Th e o nl y o ne o f t he se p re di ct io ns t ha t h as c om e c lo se t o p an ni ng o ut i s t he n um be r o f TV
"c ha nn el s . In st ea d , p eo pl e w or ki ng i nk no wl ed ge-i nt en si ve i nd us tr ie s h av e f ou nd t he ms el ve s"
"p ar to fa ni nt eg ra te dc om pu te ri ze d s ys te mt ha to pe ra te s 24 h ou rs ad ay ;t ok ee pu p ,t he yh av e"
"b ee nf or ce dt ow or kl on ge rh ou rs . In an in du st ri al ec on om y ,r ew ar ds ar er ou gh ly pr op or ti on al"
t o t he t im e i nv es te d ; w or ki ng 10% m or e w ou ld t en d t o m ea n a 10% i nc re as e i n i nc om e . In
a n i nf or ma ti on e co no my m ar ke d b y h ig h-b an dw id th c om mu ni ca ti on a nd e as y r ep li ca ti on o f
"i nt el le ct ua lp ro pe rt y(w ha t Fr an ka nd Co ok(1996)c al lt he“Wi nn er-Ta ke-Al l So ci et y”),t he re"
i sa la rg er ew ar df or be in gs li gh tl yb et te rt ha nt he co mp et it io n ;w or ki ng 10%m or ec ou ld me an
a 100% i nc re as e i n i nc om e . So t he re i s i nc re as in g p re ss ur e o n e ve ry on e t o w or k h ar de r . AI
"i nc re as es t he p ac e o f t ec hn ol og ic al i nn ov at io n a nd t hu s c on tr ib ut es t o t hi s o ve ra ll t re nd , b ut"
AIa ls o h ol ds t he p ro mi se o fa ll ow in g u st ot ak e s om e t im eo ff an d l et o ur au to ma te d a ge nt s
h an dl et hi ng sf or aw hi le . Ti m Fe rr is s(2007)r ec om me nd su si ng au to ma ti on an do ut so ur ci ng
t oa ch ie ve af ou r-h ou r w or kw ee k .
Pe op le mi gh tl os et he ir se ns eo fb ei ng un iq ue . In Co mp ut er Po we ra nd Hu ma n Re a-
"s on , We iz en ba um (1976), t he au th or of th e ELIZA p ro gr am , p oi nt s o ut so me o ft he p ot en ti al"
t hr ea ts th at AIp os es to so ci et y . On eo f We iz en ba um’s pr in ci pa la rg um en ts is th at AIr es ea rc h
m ak es po ss ib le th ei de at ha th um an sa re au to ma ta—a ni de at ha tr es ul ts in al os so fa ut on om y
"o re ve no fh um an it y . We no te th at th ei de ah as be en ar ou nd mu ch lo ng er th an AI ,g oi ng ba ck"
"a t l ea st t o L’Ho mm e Ma ch in e (La Me tt ri e , 1748). Hu ma ni ty h as s ur vi ve d o th er s et ba ck s t o"
"o ur s en se o f u ni qu en es s: De Re vo lu ti on ib us Or bi um Co el es ti um (Co pe rn ic us , 1543) m ov ed"
"t he Ea rt h a wa y f ro m t he c en te r o f t he s ol ar s ys te m , a nd De sc en t o f Ma n (Da rw in , 1871) p ut"
"Ho mo sa pi en s a tt he sa me le ve la so th er sp ec ie s . AI ,i fw id el ys uc ce ss fu l , m ay be at le as t a s"
t hr ea te ni ng t ot he mo ra la ss um pt io ns o f 21 s t-c en tu ry s oc ie ty as Da rw in’s th eo ry of ev ol ut io n
w as to th os eo ft he 19 t hc en tu ry .
AI s ys te ms m ig ht b e u se d t ow ar d u nd es ir ab le e nd s . Ad va nc ed t ec hn ol og ie s h av e
o ft en be en us ed by th ep ow er fu lt os up pr es s t he ir ri va ls . As th en um be rt he or is t G .H .Ha rd y
"w ro te(Ha rd y ,1940),“As ci en ce is sa id to be us ef ul if it sd ev el op me nt te nd st oa cc en tu at et he"
"e xi st in g i ne qu al it ie s i n t he d is tr ib ut io n o f w ea lt h , o r m or e d ir ec tl y p ro mo te s t he d es tr uc ti on"
"o f h um an l if e .” Th is ho ld s f or al l s ci en ce s , AIb ei ng n o e xc ep ti on . Au to no mo us AI s ys te ms"
"a re n ow c om mo np la ce o nt he b at tl ef ie ld ; t he U .S .m il it ar y d ep lo ye d o ve r 5,000 a ut on om ou s"
"a ir cr af t a nd 12,000 a ut on om ou s g ro un d v eh ic le s i n Ir aq (Si ng er , 2009). On e m or al t he or y"
h ol ds t ha tm il it ar y r ob ot s a re li ke me di ev al a rm or ta ke n t oi ts lo gi ca l e xt re me: n oo ne wo ul d
"h av e m or al o bj ec ti on s t o a s ol di er w an ti ng t o w ea r a h el me t w he n b ei ng a tt ac ke d b y l ar ge ,"
"a ng ry , a xe-w ie ld in g e ne mi es , a nd a t el eo pe ra te d r ob ot i s l ik e a v er y s af e f or m o f a rm or . On"
"t he o th er h an d , r ob ot ic w ea po ns p os e a dd it io na l r is ks . To t he e xt en t t ha t h um an d ec is io n"
"m ak in g i s t ak en o ut o f t he f ir in g l oo p , r ob ot s m ay e nd u p m ak in g d ec is io ns t ha t l ea d t o t he"
"k il li ng o f i nn oc en t c iv il ia ns . At a l ar ge r s ca le , t he p os se ss io n o f p ow er fu l r ob ot s (l ik e t he"
"p os se ss io n o fs tu rd yh el me ts)m ay gi ve an at io no ve rc on fi de nc e , c au si ng it to go to wa rm or e"
"r ec kl es sl y t ha n n ec es sa ry . In m os t w ar s , a t l ea st o ne p ar ty i s o ve rc on fi de nt i n i ts m il it ar y"
a bi li ti es—o th er wi se t he co nf li ct wo ul dh av eb ee nr es ol ve dp ea ce fu ll y .
We iz en ba um (1976) a ls o p oi nt ed o ut t ha t s pe ec h r ec og ni ti on t ec hn ol og y c ou ld l ea d t o
"w id es pr ea d w ir et ap pi ng , a nd he nc et oa lo ss of ci vi ll ib er ti es . He di dn’t fo re se e a wo rl dw it h"
t er ro ri st th re at st ha tw ou ld ch an ge th eb al an ce of ho wm uc hs ur ve il la nc ep eo pl ea re wi ll in gt o
1036 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
"a cc ep t , b ut he di dc or re ct ly r ec og ni ze t ha t AIh as th ep ot en ti al t om as s-p ro du ce s ur ve il la nc e ."
Hi sp re di ct io n h as i np ar t c om e t ru e: t he U .K .n ow h as a ne xt en si ve n et wo rk o fs ur ve il la nc e
"c am er as , a nd ot he rc ou nt ri es r ou ti ne ly m on it or We bt ra ff ic an dt el ep ho ne c al ls . So me ac ce pt"
t ha tc om pu te ri za ti on l ea ds t oa lo ss o fp ri va cy—Su n Mi cr os ys te ms CEOSc ot t Mc Ne al yh as
s ai d “Yo u h av e z er o p ri va cy a ny wa y . Ge t o ve r i t .” Da vi d Br in (1998) a rg ue s t ha t l os s o f
"p ri va cy i s i ne vi ta bl e , a nd t he w ay t o c om ba t t he a sy mm et ry o f p ow er o f t he s ta te o ve r t he"
i nd iv id ua l i s t o m ak e t he s ur ve il la nc e a cc es si bl e t o a ll c it iz en s . Et zi on i (2004) a rg ue s f or a
b al an ci ng o fp ri va cy an ds ec ur it y ; i nd iv id ua l r ig ht sa nd co mm un it y .
Th eu se of AIs ys te ms mi gh tr es ul ti na lo ss of ac co un ta bi li ty . In th el it ig io us a tm o-
"s ph er e t ha t p re va il s i n t he Un it ed St at es , l eg al l ia bi li ty b ec om es a n i mp or ta nt i ss ue . Wh en a"
"p hy si ci an re li es on th ej ud gm en to fa me di ca le xp er ts ys te mf or ad ia gn os is , w ho is at fa ul ti f"
"t he di ag no si si sw ro ng ? Fo rt un at el y ,d ue in pa rt to th eg ro wi ng in fl ue nc eo fd ec is io n-t he or et ic"
"m et ho ds i n m ed ic in e , i t i s n ow a cc ep te d t ha t n eg li ge nc e c an no t b e s ho wn i f t he p hy si ci an"
"p er fo rm sm ed ic al pr oc ed ur es th at ha ve hi gh e xp ec te du ti li ty ,e ve ni ft he ac tu al re su lt is ca ta s-"
t ro ph ic f or t he p at ie nt . Th e q ue st io n s ho ul d t he re fo re b e “Wh o i s a t f au lt i f t he d ia gn os is i s
"u nr ea so na bl e ?” So f ar , c ou rt s h av e h el d t ha t m ed ic al e xp er t s ys te ms p la y t he s am e r ol e a s"
m ed ic al te xt bo ok sa nd re fe re nc eb oo ks ;p hy si ci an sa re re sp on si bl ef or un de rs ta nd in g t he re a-
s on in g b eh in d a ny d ec is io n a nd f or u si ng t he ir o wn j ud gm en t i n d ec id in g w he th er t o a cc ep t
"t he s ys te m’s r ec om me nd at io ns . In d es ig ni ng m ed ic al e xp er t s ys te ms a s a ge nt s , t he re fo re ,"
t he a ct io ns s ho ul d b e t ho ug ht o f n ot a s d ir ec tl y a ff ec ti ng t he p at ie nt b ut a s i nf lu en ci ng t he
p hy si ci an’s be ha vi or . If ex pe rt sy st em sb ec om er el ia bl ym or ea cc ur at et ha nh um an di ag no st i-
"c ia ns ,d oc to rs mi gh tb ec om el eg al ly li ab le if th ey do n’t us et he re co mm en da ti on so fa ne xp er t"
s ys te m . At ul Ga wa nd e(2002)e xp lo re st hi sp re mi se .
Si mi la ri ss ue sa re be gi nn in gt oa ri se re ga rd in gt he us eo fi nt el li ge nt ag en ts on th e In te r-
n et . So me pr og re ss h as be en m ad ei ni nc or po ra ti ng c on st ra in ts i nt oi nt el li ge nt a ge nt s s ot ha t
"t he yc an no t ,f or ex am pl e ,d am ag et he fi le so fo th er us er s(We ld an d Et zi on i ,1994). Th ep ro b-"
l em i s m ag ni fi ed w he n m on ey c ha ng es h an ds . If m on et ar y t ra ns ac ti on s a re m ad e “o n o ne’s
"b eh al f” b ya n i nt el li ge nt a ge nt , i so ne l ia bl e f or th ed eb ts i nc ur re d ? Wo ul d i tb ep os si bl e f or"
a n i nt el li ge nt a ge nt t o h av e a ss et s i ts el f a nd t o p er fo rm e le ct ro ni c t ra de s o n i ts o wn b eh al f ?
"So f ar , t he se q ue st io ns d o n ot s ee m t o b e w el l u nd er st oo d . To o ur k no wl ed ge , n o p ro gr am"
h as b ee n g ra nt ed l eg al s ta tu s a s a n i nd iv id ua l f or t he p ur po se s o f f in an ci al t ra ns ac ti on s ; a t
"p re se nt , i t s ee ms u nr ea so na bl e t o d o s o . Pr og ra ms a re a ls o n ot c on si de re d t o b e “d ri ve rs”"
"f or th ep ur po se s o fe nf or ci ng t ra ff ic re gu la ti on s o nr ea lh ig hw ay s . In Ca li fo rn ia l aw ,a tl ea st ,"
t he re d o n ot s ee m t o b e a ny l eg al s an ct io ns t o p re ve nt a n a ut om at ed v eh ic le f ro m e xc ee di ng
"t he sp ee dl im it s ,a lt ho ug ht he de si gn er of th ev eh ic le’s c on tr ol me ch an is mw ou ld be li ab le in"
"t he ca se o fa na cc id en t . As wi th hu ma n r ep ro du ct iv e t ec hn ol og y , t he l aw ha sy et t oc at ch u p"
w it ht he ne wd ev el op me nt s .
Th e s uc ce ss o f AI m ig ht m ea n t he e nd o f t he h um an r ac e . Al mo st a ny t ec hn ol og y
"h as th ep ot en ti al to ca us eh ar mi nt he wr on gh an ds ,b ut wi th AIa nd ro bo ti cs ,w eh av et he ne w"
p ro bl em th at th ew ro ng ha nd sm ig ht be lo ng to th et ec hn ol og yi ts el f . Co un tl es ss ci en ce fi ct io n
s to ri es h av e w ar ne d a bo ut r ob ot s o r r ob ot–h um an c yb or gs r un ni ng a mo k . Ea rl y e xa mp le s
Se ct io n 26.3. Th e Et hi cs an d Ri sk so f De ve lo pi ng Ar ti fi ci al In te ll ig en ce 1037
"i nc lu de Ma ry Sh el le y’s Fr an ke ns te in , o rt he Mo de rn Pr om et he us(1818)5 a nd Ka re l Ca pe k’s"
"p la y R .U .R .(1921), i n w hi ch r ob ot s c on qu er t he w or ld . In m ov ie s , w e h av e Th e Te rm in at or"
"(1984), w hi ch c om bi ne s t he c li ch es o f r ob ot s-c on qu er-t he-w or ld w it h t im e t ra ve l , a nd Th e"
"Ma tr ix(1999), w hi ch co mb in es ro bo ts-c on qu er-t he-w or ld w it hb ra in-i n-a-v at ."
It se em st ha t r ob ot s a re t he pr ot ag on is ts o fs o m an yc on qu er-t he-w or ld s to ri es b ec au se
"t he yr ep re se nt t he un kn ow n , j us tl ik et he wi tc he s a nd gh os ts o ft al es f ro me ar li er er as , o rt he"
"Ma rt ia ns f ro m Th e Wa r o f t he Wo rl ds (We ll s , 1898). Th e q ue st io n i s w he th er a n AI s ys te m"
p os es ab ig ge rr is kt ha nt ra di ti on al s of tw ar e . We wi ll lo ok at th re es ou rc es of ri sk .
"Fi rs t , t he AI s ys te m’s s ta te e st im at io n m ay b e i nc or re ct , c au si ng i t t o d o t he w ro ng"
"t hi ng . Fo re xa mp le ,a na ut on om ou s c ar mi gh ti nc or re ct ly e st im at et he po si ti on of ac ar in th e"
"a dj ac en t l an e , l ea di ng t oa n a cc id en t t ha t m ig ht k il l t he o cc up an ts . Mo re se ri ou sl y , a mi ss il e"
"d ef en se s ys te m m ig ht e rr on eo us ly d et ec t a n a tt ac k a nd l au nc h a c ou nt er at ta ck , l ea di ng t o"
t he d ea th o f b il li on s . Th es e r is ks a re n ot r ea ll y r is ks o f AI s ys te ms—i n b ot h c as es t he s am e
m is ta ke co ul dj us ta se as il yb em ad eb ya hu ma na sb ya co mp ut er . Th ec or re ct wa yt om it ig at e
t he se r is ks i s t o d es ig n a s ys te m w it h c he ck s a nd b al an ce s s o t ha t a s in gl e s ta te-e st im at io n
e rr or do es no tp ro pa ga te th ro ug h t he sy st em un ch ec ke d .
"Se co nd , s pe ci fy in g t he r ig ht u ti li ty f un ct io n f or a n AI s ys te m t o m ax im iz e i s n ot s o"
"e as y . Fo re xa mp le ,w em ig ht pr op os ea ut il it yf un ct io nd es ig ne dt om in im iz eh um an su ff er in g ,"
e xp re ss ed a s a na dd it iv e r ew ar d f un ct io n o ve rt im ea si n Ch ap te r 17. Gi ve nt he wa yh um an s
"a re , h ow ev er , w e’l l a lw ay s f in d a w ay t o s uf fe r e ve n i n p ar ad is e ; s o t he o pt im al d ec is io n f or"
"t he AI s ys te m i s t ot er mi na te t he hu ma n r ac e a s s oo n a s p os si bl e—n o h um an s , n o s uf fe ri ng ."
"Wi th AI s ys te ms , t he n , w e n ee d t o b e v er y c ar ef ul w ha t w e a sk f or , w he re as h um an s w ou ld"
h av e n o t ro ub le r ea li zi ng t ha t t he p ro po se d u ti li ty f un ct io n c an no t b e t ak en l it er al ly . On t he
"o th er ha nd ,c om pu te rs ne ed no tb et ai nt ed by th ei rr at io na lb eh av io rs de sc ri be di n Ch ap te r 16."
Hu ma ns s om et im es u se t he ir i nt el li ge nc e i n a gg re ss iv e w ay s b ec au se h um an s h av e s om e
"i nn at el y a gg re ss iv e t en de nc ie s , d ue t on at ur al s el ec ti on . Th em ac hi ne s w eb ui ld n ee d n ot b e"
"i nn at el y a gg re ss iv e , u nl es s w e d ec id e t o b ui ld t he m t ha t w ay (o r u nl es s t he y e me rg e a s t he"
"e nd p ro du ct o fa me ch an is m d es ig n t ha t e nc ou ra ge s a gg re ss iv e b eh av io r). Fo rt un at el y , t he re"
"a re te ch ni qu es , s uc ha sa pp re nt ic es hi p l ea rn in g , t ha ta ll ow su st os pe ci fy au ti li ty fu nc ti on by"
e xa mp le . On e c an h op e t ha t a r ob ot t ha t i s s ma rt e no ug h t o f ig ur e o ut h ow t o t er mi na te t he
h um an ra ce is al so sm ar te no ug ht of ig ur eo ut th at th at wa sn ot th ei nt en de d u ti li ty fu nc ti on .
"Th ir d , t he AI s ys te m’s l ea rn in g f un ct io n m ay c au se i t t o e vo lv e i nt o a s ys te m w it h"
"u ni nt en de d b eh av io r . Th is s ce na ri o i s t he m os t s er io us , a nd i s u ni qu e t o AI s ys te ms , s o w e"
"w il lc ov er it in mo re de pt h . I .J .Go od wr ot e(1965),"
ULTRAINTELLIGENT Le t a n u lt ra in te ll ig en t m ac hi ne b e d ef in ed a s a m ac hi ne t ha t c an f ar s ur pa ss a ll t he
MACHINE
i nt el le ct ua la ct iv it ie so fa ny ma nh ow ev er cl ev er . Si nc et he de si gn of ma ch in es is on eo f
"t he se in te ll ec tu al ac ti vi ti es ,a nu lt ra in te ll ig en tm ac hi ne co ul dd es ig ne ve nb et te rm ac hi ne s ;"
"t he re w ou ld t he n u nq ue st io na bl yb e a n “i nt el li ge nc e e xp lo si on ,” a nd t he i nt el li ge nc e o f"
m an wo ul db el ef tf ar be hi nd . Th us th ef ir st ul tr ai nt el li ge nt ma ch in ei st he la st in ve nt io n
"t ha t m an n ee d e ve rm ak e , p ro vi de dt ha t t he m ac hi ne i s d oc il e e no ug ht o t el l u s h ow t o"
k ee pi tu nd er co nt ro l .
"5 As ay ou ng ma n ,Ch ar le s Ba bb ag ew as in fl ue nc ed by re ad in g Fr an ke ns te in ."
1038 Ch ap te r 26. Ph il os op hi ca l Fo un da ti on s
TECHNOLOGICAL Th e “i nt el li ge nc e e xp lo si on” h as a ls o b ee n c al le d t he t ec hn ol og ic al s in gu la ri ty b y m at he-
SINGULARITY
"m at ic s p ro fe ss or a nd s ci en ce f ic ti on a ut ho r Ve rn or Vi ng e , w ho w ri te s (1993), “Wi th in t hi rt y"
"y ea rs ,w ew il lh av et he te ch no lo gi ca l m ea ns to cr ea te su pe rh um an i nt el li ge nc e . Sh or tl ya ft er ,"
t he hu ma ne ra wi ll be en de d .” Go od an d Vi ng e(a nd ma ny ot he rs)c or re ct ly no te th at th ec ur ve
o f t ec hn ol og ic al p ro gr es s (o n m an y m ea su re s) i s g ro wi ng e xp on en ti al ly a t p re se nt (c on si de r
"Mo or e’s La w). Ho we ve r ,i ti sa le ap to ex tr ap ol at et ha tt he cu rv ew il lc on ti nu et oa si ng ul ar it y"
"o fn ea r-i nf in it eg ro wt h . So fa r ,e ve ry ot he rt ec hn ol og yh as fo ll ow ed an S-s ha pe dc ur ve ,w he re"
t he e xp on en ti al g ro wt h e ve nt ua ll y t ap er s o ff . So me ti me s n ew t ec hn ol og ie s s te p i n w he n t he
o ld o ne s p la te au ; s om et im es w eh it h ar d l im it s . Wi th l es s t ha n a ce nt ur y o fh ig h-t ec hn ol og y
"h is to ry to go on ,i ti sd if fi cu lt to ex tr ap ol at e h un dr ed s o fy ea rs ah ea d ."
No te t ha t t he c on ce pt o f u lt ra in te ll ig en t m ac hi ne s a ss um es t ha t i nt el li ge nc e i s a n e s-
"p ec ia ll y i mp or ta nt a tt ri bu te , a nd i f y ou h av e e no ug h o f i t , a ll p ro bl em s c an b e s ol ve d . Bu t"
w e k no w t he re a re l im it s o n c om pu ta bi li ty a nd c om pu ta ti on al c om pl ex it y . If t he p ro bl em
o fd ef in in g u lt ra in te ll ig en t m ac hi ne s (o re ve na pp ro xi ma ti on s t ot he m) h ap pe ns t o f al li n t he
"c la ss o f , s ay , NEXPTIME-c om pl et e p ro bl em s , a nd i f t he re a re n o h eu ri st ic s ho rt cu ts , t he n"
e ve n e xp on en ti al p ro gr es s i n t ec hn ol og y w on’t h el p—t he s pe ed o f l ig ht p ut s a s tr ic t u pp er
b ou nd o n h ow m uc h c om pu ti ng c an b ed on e ; p ro bl em s b ey on d t ha t l im it wi ll n ot b es ol ve d .
We st il ld on’t kn ow wh er et ho se up pe rb ou nd s a re .
"Vi ng e i s c on ce rn ed a bo ut t he c om in g s in gu la ri ty , b ut s om e c om pu te r s ci en ti st s a nd"
f ut ur is ts r el is h i t . Ha ns Mo ra ve c (2000) e nc ou ra ge s u st og iv ee ve ry ad va nt ag e t oo ur“m in d
"c hi ld re n ,” t he r ob ot s w e c re at e , w hi ch m ay s ur pa ss u s i n i nt el li ge nc e . Th er e i s e ve n a n ew"
w or d—t ra ns hu ma ni sm—f or th ea ct iv es oc ia lm ov em en tt ha tl oo ks fo rw ar dt ot hi sf ut ur ei n
TRANSHUMANISM
w hi ch h um an s a re m er ge d w it h—o r r ep la ce d b y—r ob ot ic a nd b io te ch i nv en ti on s . Su ff ic e i t
"t os ay th at su ch is su es pr es en ta ch al le ng ef or mo st mo ra lt he or is ts ,w ho ta ke th ep re se rv at io n"
o fh um an l if ea nd t he hu ma n s pe ci es t ob e a go od t hi ng . Ra y Ku rz we il is cu rr en tl y t he mo st
"v is ib le ad vo ca te f or th es in gu la ri ty v ie w ,w ri ti ng in Th e Si ng ul ar it y i s Ne ar(2005):"
Th e Si ng ul ar it yw il la ll ow us to tr an sc en dt he se li mi ta ti on so fo ur bi ol og ic al bo di es an d
b ra in . We w il l g ai np ow er ov er ou rf at es . Ou rm or ta li ty w il l b e i n o ur ow n h an ds . We
w il lb ea bl et ol iv ea sl on ga sw ew an t(a su bt ly di ff er en ts ta te me nt fr om sa yi ng we wi ll
l iv ef or ev er).We wi ll fu ll yu nd er st an dh um an th in ki ng an dw il lv as tl ye xt en da nd ex pa nd
"i ts re ac h . By th ee nd of th is ce nt ur y ,t he no nb io lo gi ca lp or ti on of ou ri nt el li ge nc ew il lb e"
t ri ll io ns of tr il li on so ft im es mo re po we rf ul th an un ai de dh um an in te ll ig en ce .
"Ku rz we il a ls o n ot es t he p ot en ti al d an ge rs , w ri ti ng “Bu tt he Si ng ul ar it y w il l a ls o a mp li fy t he"
"a bi li ty to ac to no ur de st ru ct iv e i nc li na ti on s , s oi ts fu ll st or yh as no ty et be en wr it te n .”"
"If u lt ra in te ll ig en t m ac hi ne s a re a p os si bi li ty , w e h um an s w ou ld d o w el l t o m ak e s ur e"
t ha t w ed es ig n t he ir p re de ce ss or s i n s uc h a w ay t ha t t he y d es ig n t he ms el ve s t o t re at u s w el l .
"Sc ie nc e f ic ti on w ri te r Is aa c As im ov (1942) w as t he f ir st t o a dd re ss t hi s i ss ue , w it h h is t hr ee"
l aw so fr ob ot ic s:
"1. A r ob ot m ay n ot i nj ur e a h um an b ei ng o r , t hr ou gh i na ct io n , a ll ow a h um an b ei ng t o"
c om et oh ar m .
"2. Ar ob ot mu st ob ey or de rs gi ve nt oi tb yh um an be in gs ,e xc ep t w he re su ch or de rs wo ul d"
c on fl ic tw it ht he Fi rs t La w .
Se ct io n 26.3. Th e Et hi cs an d Ri sk so f De ve lo pi ng Ar ti fi ci al In te ll ig en ce 1039
3. Ar ob ot mu st pr ot ec ti ts ow ne xi st en ce as lo ng as su ch pr ot ec ti on d oe sn ot co nf li ct wi th
t he Fi rs to r Se co nd La w .
"Th es el aw ss ee mr ea so na bl e , a tl ea st t ou sh um an s .6 Bu tt he tr ic ki sh ow to im pl em en t t he se"
l aw s . In t he As im ov s to ry Ro un da bo ut a r ob ot i s s en t t o f et ch s om e s el en iu m . La te r t he
r ob ot i sf ou nd w an de ri ng i na ci rc le a ro un d t he se le ni um s ou rc e . Ev er yt im ei th ea ds t ow ar d
"t he s ou rc e , i t s en se s a d an ge r , a nd t he t hi rd l aw c au se s i t t o v ee r a wa y . Bu t e ve ry t im e i t"
"v ee rs a wa y , t he d an ge r r ec ed es , a nd t he p ow er o f t he s ec on d l aw t ak es o ve r , c au si ng i t t o"
v ee r b ac k t ow ar ds t he s el en iu m . Th e s et o f p oi nt s t ha t d ef in e t he b al an ci ng p oi nt b et we en
"t he tw ol aw sd ef in es ac ir cl e . Th is su gg es ts t ha tt he la ws ar en ot lo gi ca l a bs ol ut es , b ut ra th er"
"a re w ei gh ed a ga in st e ac h o th er , w it h a h ig he r w ei gh ti ng f or t he e ar li er l aw s . As im ov w as"
p ro ba bl y t hi nk in g o f a n a rc hi te ct ur e b as ed o n c on tr ol t he or y—p er ha ps a l in ea r c om bi na ti on
o ff ac to rs—w hi le t od ay th em os tl ik el ya rc hi te ct ur e w ou ld be ap ro ba bi li st ic r ea so ni ng a ge nt
"t ha t r ea so ns o ve r p ro ba bi li ty d is tr ib ut io ns o f o ut co me s , a nd m ax im iz es u ti li ty a s d ef in ed b y"
t he t hr ee l aw s . Bu t p re su ma bl y w e d on’t w an t o ur r ob ot s t o p re ve nt a h um an f ro m c ro ss in g
t he s tr ee t b ec au se o f t he n on ze ro c ha nc e o f h ar m . Th at m ea ns t ha t t he n eg at iv e u ti li ty f or
"h ar m t o a h um an m us t b e m uc h g re at er t ha n f or d is ob ey in g , b ut t ha t e ac h o f t he u ti li ti es i s"
"f in it e ,n ot in fi ni te ."
Yu dk ow sk y(2008)g oe si nt om or ed et ai la bo ut ho wt od es ig na Fr ie nd ly AI .He as se rt s
FRIENDLYAI
"t ha t f ri en dl in es s (a de si re n ot to h ar m h um an s) s ho ul d b ed es ig ne d i nf ro m t he s ta rt , b ut t ha t"
"t he de si gn er s s ho ul dr ec og ni ze b ot ht ha tt he ir ow nd es ig ns m ay be fl aw ed ,a nd th at th er ob ot"
w il ll ea rn an de vo lv eo ve rt im e . Th us th ec ha ll en ge i so ne of me ch an is m d es ig n—t o d ef in ea
"m ec ha ni sm f or e vo lv in g AI s ys te ms u nd er a s ys te m o f c he ck s a nd b al an ce s , a nd t o g iv e t he"
s ys te ms ut il it yf un ct io ns t ha tw il lr em ai nf ri en dl y i nt he fa ce of su ch ch an ge s .
"We ca n’t ju st gi ve ap ro gr am as ta ti cu ti li ty fu nc ti on ,b ec au se ci rc um st an ce s ,a nd ou rd e-"
"s ir ed r es po ns es t oc ir cu ms ta nc es , c ha ng e o ve rt im e . Fo re xa mp le , i ft ec hn ol og y h ad al lo we d"
u s t o d es ig n a s up er-p ow er fu l AI a ge nt i n 1800 a nd e nd ow i t w it h t he p re va il in g m or al s o f
"t he ti me , i tw ou ld be fi gh ti ng t od ay t or ee st ab li sh s la ve ry a nd ab ol is h w om en’s r ig ht t ov ot e ."
"On th eo th er ha nd ,i fw eb ui ld a n AIa ge nt to da ya nd te ll it to ev ol ve it su ti li ty f un ct io n , h ow"
"c an we as su re t ha t i tw on’t re as on t ha t“Hu ma ns t hi nk i ti sm or al to ki ll a nn oy in g i ns ec ts , i n"
p ar t b ec au se i ns ec t b ra in s a re s o p ri mi ti ve . Bu t h um an b ra in s a re p ri mi ti ve c om pa re d t o m y
"p ow er s ,s oi tm us tb em or al fo rm et ok il lh um an s .”"
Om oh un dr o (2008) h yp ot he si ze s t ha t e ve n a n i nn oc uo us c he ss p ro gr am c ou ld p os e a
"r is k t o s oc ie ty . Si mi la rl y , Ma rv in Mi ns ky o nc e s ug ge st ed t ha t a n AI p ro gr am d es ig ne d t o"
s ol ve t he Ri em an n Hy po th es is m ig ht e nd u p t ak in g o ve r a ll t he r es ou rc es o f Ea rt h t o b ui ld
m or e p ow er fu l s up er co mp ut er s t o h el p a ch ie ve i ts g oa l . Th e m or al i s t ha t e ve n i f y ou o nl y
"w an t y ou r p ro gr am t o p la y c he ss o r p ro ve t he or em s , i f y ou g iv e i t t he c ap ab il it y t o l ea rn"
"a nd a lt er i ts el f , y ou n ee d s af eg ua rd s . Om oh un dr o c on cl ud es t ha t “So ci al s tr uc tu re s w hi ch"
c au se i nd iv id ua ls t o b ea rt he co st o ft he ir ne ga ti ve e xt er na li ti es w ou ld g o a lo ng w ay t ow ar d
"e ns ur in ga st ab le an dp os it iv ef ut ur e ,”Th is se em st ob ea ne xc el le nt id ea fo rs oc ie ty in ge ne ra l ,"
r eg ar dl es so ft he po ss ib il it y o fu lt ra in te ll ig en t m ac hi ne s .
"6 Ar ob ot mi gh tn ot ic et he in eq ui ty th at ah um an is al lo we dt ok il la no th er in se lf-d ef en se ,b ut ar ob ot is re qu ir ed"
t os ac ri fi ce it so wn li fe to sa ve ah um an .
